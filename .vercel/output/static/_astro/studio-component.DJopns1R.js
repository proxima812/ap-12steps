const __vite__mapDeps=(e,t=__vite__mapDeps,n=t.f||(t.f=["_astro/stegaEncodeSourceMap.oSB9a4mT.js","_astro/client.CF8elnFF.js","_astro/browser.7KqZ-Os9.js","_astro/resources.CcQAigYg.js","_astro/resources2.UR8dHy_q.js","_astro/resources3.fw_M-6lk.js","_astro/index3.CEQyuKZP.js","_astro/resources.BKZ4JwLW.js","_astro/SanityVision.CWAEfVRR.js"]))=>e.map((e=>n[e]));import{r as f,g as Be,a as Xi,R as Ke,b as Vh,d as _Te,e as kTe}from"./client.CF8elnFF.js";var Lie={exports:{}},A5={},TTe=f,ATe=Symbol.for("react.element"),jTe=Symbol.for("react.fragment"),ITe=Object.prototype.hasOwnProperty,DTe=TTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OTe={key:!0,ref:!0,__self:!0,__source:!0};function Nie(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)ITe.call(t,r)&&!OTe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:ATe,type:e,key:o,ref:a,props:i,_owner:DTe.current}}A5.Fragment=jTe,A5.jsx=Nie,A5.jsxs=Nie,Lie.exports=A5;var u=Lie.exports;const RTe="modulepreload",MTe=function(e){return"/"+e},PV={},md=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map((e=>{if((e=MTe(e))in PV)return;PV[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":RTe,t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};function Qp(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function gd(e){return Qp(e)&&"string"==typeof e._ref}function $Te(e){return Qp(e)&&gd(e.asset)&&e.asset._ref.startsWith("image-")}function Bie(e){return Qp(e)&&"string"==typeof e._ref&&"string"==typeof e._dataset&&"string"==typeof e._projectId}function PTe(e){return Qp(e)&&"string"==typeof e._id&&"string"==typeof e._type}function G4(e){return Qp(e)&&"string"==typeof e._type}function Fl(e){return Qp(e)&&"string"==typeof e._key}function Y4(e){return"error"===e.level}function Vie(e){return"warning"===e.level}function FTe(e){return"info"===e.level}const LTe=/_key\s*==\s*['"](.*)['"]/,NTe=/^\d*:\d*$/;function ss(e){return"number"==typeof e||"string"==typeof e&&/^\[\d+\]$/.test(e)}function Vn(e){return"string"==typeof e?LTe.test(e.trim()):"object"==typeof e&&"_key"in e}function Af(e){if("string"==typeof e&&NTe.test(e))return!0;if(!Array.isArray(e)||2!==e.length)return!1;const[t,n]=e;return!("number"!=typeof t&&""!==t||"number"!=typeof n&&""!==n)}function rS(e){return!!e&&("object"==typeof e||"function"==typeof e)}function Mi(e){return rS(e)&&"string"==typeof e._type&&Array.isArray(e.children)&&e.children.every((e=>rS(e)))&&(!("markDefs"in e)||Array.isArray(e.markDefs)&&e.markDefs.every((e=>rS(e))))&&(!("style"in e)||"string"==typeof e.style)}function ha(e){return rS(e)&&"span"===e._type&&"string"==typeof e.text&&(!("marks"in e)||Array.isArray(e.marks)&&e.marks.every((e=>"string"==typeof e)))}function BTe(e){return Mi(e)&&"listItem"in e&&"string"==typeof e.listItem&&"level"in e&&Number.isInteger(e.level)}function co(e){return!!e&&("object"==typeof e||"function"==typeof e)}function VTe(e){if(!po(e))return!1;let t=e;for(;t;){if("document"===t.name)return!0;t=t.type}return!1}function po(e){return!!co(e)&&"object"===e.jsonType}function fo(e){return!!co(e)&&"array"===e.jsonType}function iS(e){return fo(e)&&e.of.some((e=>UTe(e)))}function xx(e){return fo(e)&&e.of.every((e=>po(e)))}function zie(e){return fo(e)&&e.of.every((e=>lE(e)))}function wx(e){return!!co(e)&&"boolean"===e.jsonType}function Uie(e){return!!co(e)&&"string"===e.jsonType}function yp(e){return!!co(e)&&"number"===e.jsonType}function lE(e){return wx(e)||Uie(e)||yp(e)}function Iu(e){return co(e)&&("reference"===e.name||Iu(e.type))}function Hie(e){return!!co(e)&&typeof e.deprecated<"u"}function q4(e){return co(e)&&("crossDatasetReference"===e.name||q4(e.type))}function K4(e){return"object"==typeof e&&null!==e&&"title"in e&&"value"in e}function zTe(e){return!!co(e)&&(Array.isArray(e.annotations)&&Array.isArray(e.decorators))}function UTe(e){if(!co(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(NV),n=e.fields.find(FV),r=e.fields.find(LV);return NV(t)&&FV(n)&&LV(r)}function FV(e){return!(!co(e)||"style"!==e.name)&&(co(e.type)&&"string"===e.type.jsonType)}function LV(e){return!(!co(e)||"listItem"!==e.name)&&(co(e.type)&&"string"===e.type.jsonType)}function NV(e){return!(!co(e)||"children"!==e.name||!fo(e.type))&&e.type.of.some(zTe)}function Cx(e,t){return e}function ji(e,t){return e}function Wie(e,t){return e}function HTe(e){return Qp(e)&&"string"==typeof e.current}function WTe(e){return"error"===e.level}function GTe(e){return"warning"===e.level}const YTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qTe=/_key\s*==\s*['"](.*)['"]/,Gie=[],Yie="$",KTe=["true","false","null"];function e1(e,t,n){const r="string"==typeof t?Qs(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let i=e;for(let e=0;e<r.length;e++){const t=r[e];if(ss(t)){if(!Array.isArray(i))return n;i=i[t]}if(Vn(t)){if(!Array.isArray(i))return n;i=i.find((e=>e._key===t._key))}if("string"==typeof t&&(i="object"==typeof i&&null!==i?i[t]:void 0),typeof i>"u")return n}return i}const Dj=new Map;function Du(e){if(0===e.length)return Gie;const t=_n(e);return Dj.has(t)?Dj.get(t):(Dj.set(t,e),Object.freeze(e),e)}function fr(e,t){return e.length===t.length&&e.every(((e,n)=>j5(e,t[n])))}function ZTe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!j5(e[r],t[r]))return r;return n}function j5(e,t){return Vn(e)&&Vn(t)?e._key===t._key:ss(e)?Number(e)===Number(t):Af(e)&&Af(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function ya(e,t){return e.every(((e,n)=>j5(e,t[n])))}function Ly(e,t){if(0===e.length||0===t.length)return t;const[n,...r]=e,[i,...o]=t;return j5(n,i)?Du(Ly(r,o)):t}function Z4(e,t){return ya(e,t)?Ly(e,t):Gie}function _n(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce(((e,t,n)=>{if("number"==typeof t)return`${e}[${t}]`;if("string"==typeof t)return 0===n?t:KTe.includes(t)?`${e}["${t}"]`:`${e}.${t}`;if(Vn(t)&&t._key)return`${e}[_key=="${t._key}"]`;if(Array.isArray(t)){const[n,r]=t;return`${e}[${n}:${r}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(t)}\``)}),"")}function zO(e,t){if(0===t.length)return t;const[n,...r]=t;if("number"==typeof n){if(!Array.isArray(e)||!(n in e))return[];const t=e[n];return["string"==typeof t?._key?{_key:t._key}:n,...zO(t,r)]}return[n,...zO(e1(e,[n]),r)]}function XTe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Du(zO(e,t))}function Qs(e){if("string"!=typeof e)throw new Error("Path is not a string");const t=e.match(YTe);if(!t)throw new Error("Invalid path string");return t.map(JTe)}function JTe(e){return ss(e)?QTe(e):Vn(e)?eAe(e):Af(e)?tAe(e):e}function QTe(e){return Number(e.replace(/[^\d]/g,""))}function eAe(e){return{_key:e.match(qTe)[1]}}function tAe(e){const[t,n]=e.split(":").map((e=>""===e?e:Number(e)));return[t,n]}var nAe=typeof Element<"u",rAe="function"==typeof Map,iAe="function"==typeof Set,aAe="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function aS(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!aS(e[r],t[r]))return!1;return!0}if(rAe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!aS(r.value[1],t.get(r.value[0])))return!1;return!0}if(iAe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(aAe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(nAe&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!e.$$typeof)&&!aS(e[i[r]],t[i[r]]))return!1;return!0}return e!=e&&t!=t}var oAe=function(e,t){try{return aS(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}};const l0=Be(oAe),em=f.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),sAe=f.createContext({selected:!1}),UO=f.createContext(null),lAe={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},uAe=f.createContext(lAe),Kc=f.createContext({path:[]}),qie=f.createContext(null),Kie=f.createContext(null),Zie=f.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}}),Xie=f.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}}),Jie=f.createContext(null),Qie=f.createContext(null),eae=f.createContext(null),tae=f.createContext(null),nae=f.createContext(null),rae=f.createContext([]),X4=f.createContext([]),iae=f.createContext(null),aae=f.createContext(null),J4=f.createContext(null),oae=f.createContext([]),sae=f.createContext({});f.createContext(null);const lae=f.createContext({enabled:!1,legacyEditing:!1}),uae=f.createContext([]),Q4=f.createContext(void 0),cAe=f.createContext([]),cae=f.createContext(void 0),dae=f.createContext(null),fae=f.createContext({upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}),hae=f.createContext(void 0),pae=f.createContext(null),mae=f.createContext(null),gae=f.createContext(null),I5=f.createContext(null),D5=f.createContext(null),vae=f.createContext(void 0),yae=f.createContext(void 0),bae=f.createContext(void 0),xae=f.createContext({onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1}),wae=f.createContext(null),oS=f.createContext(null),Cae=f.createContext(null),Sae=f.createContext(null),Eae=f.createContext({enabled:!1,mode:null}),_ae=f.createContext(!1),kae=f.createContext(null),Tae=f.createContext(null),Aae=f.createContext(null),jae=f.createContext(null),Iae=f.createContext(null),eF=f.createContext(null),Dae=f.createContext(null),Oae=f.createContext(null),Rae=f.createContext(null),Mae=f.createContext({enabled:!1,mode:null}),$ae=f.createContext(void 0),Pae=f.createContext(null),Fae=f.createContext(null),Lae=f.createContext(null),Nae=f.createContext(null),Bae=f.createContext(null);function To(){throw new Error("Pane is missing router context")}const O5=f.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>To(),ChildLink:()=>To(),ReferenceChildLink:()=>To(),handleEditReference:()=>To(),ParameterizedLink:()=>To(),replaceCurrent:()=>To(),closeCurrentAndAfter:()=>To(),closeCurrent:()=>To(),duplicateCurrent:()=>To(),setView:()=>To(),setParams:()=>To(),setPayload:()=>To(),navigateIntent:()=>To(),createPathWithParams:()=>To()}),Vae=f.createContext(null),zae=f.createContext(void 0),Uae=f.createContext(null);function dAe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var sl=dAe;const R5=Be(sl);var fAe="object"==typeof Xi&&Xi&&Xi.Object===Object&&Xi,Hae=fAe,hAe=Hae,pAe="object"==typeof self&&self&&self.Object===Object&&self,mAe=hAe||pAe||Function("return this")(),ll=mAe,gAe=ll,vAe=function(){return gAe.Date.now()},yAe=vAe,bAe=/\s/;function xAe(e){for(var t=e.length;t--&&bAe.test(e.charAt(t)););return t}var wAe=xAe,CAe=wAe,SAe=/^\s+/;function EAe(e){return e&&e.slice(0,CAe(e)+1).replace(SAe,"")}var Wae=EAe,_Ae=ll,kAe=_Ae.Symbol,t1=kAe,BV=t1,Gae=Object.prototype,TAe=Gae.hasOwnProperty,AAe=Gae.toString,vv=BV?BV.toStringTag:void 0;function jAe(e){var t=TAe.call(e,vv),n=e[vv];try{e[vv]=void 0;var r=!0}catch{}var i=AAe.call(e);return r&&(t?e[vv]=n:delete e[vv]),i}var IAe=jAe,DAe=Object.prototype,OAe=DAe.toString;function RAe(e){return OAe.call(e)}var MAe=RAe,VV=t1,$Ae=IAe,PAe=MAe,FAe="[object Null]",LAe="[object Undefined]",zV=t1?t1.toStringTag:void 0;function NAe(e){return null==e?void 0===e?LAe:FAe:zV&&zV in Object(e)?$Ae(e):PAe(e)}var vd=NAe;function BAe(e){return null!=e&&"object"==typeof e}var bs=BAe,VAe=vd,zAe=bs,UAe="[object Symbol]";function HAe(e){return"symbol"==typeof e||zAe(e)&&VAe(e)==UAe}var tm=HAe,WAe=Wae,UV=sl,GAe=tm,HV=NaN,YAe=/^[-+]0x[0-9a-f]+$/i,qAe=/^0b[01]+$/i,KAe=/^0o[0-7]+$/i,ZAe=parseInt;function XAe(e){if("number"==typeof e)return e;if(GAe(e))return HV;if(UV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=UV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=WAe(e);var n=qAe.test(e);return n||KAe.test(e)?ZAe(e.slice(2),n?2:8):YAe.test(e)?HV:+e}var Yae=XAe,JAe=sl,Oj=yAe,WV=Yae,QAe="Expected a function",eje=Math.max,tje=Math.min;function nje(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(QAe);function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=o}function m(){var e=Oj();if(h(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?tje(n,o-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function y(){var e=Oj(),n=h(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=WV(t)||0,JAe(n)&&(c=!!n.leading,o=(d="maxWait"in n)?eje(WV(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(Oj())},y}var qae=nje;const nm=Be(qae);function tF(){const e=Object.create(null);let t=0;return{publish:function(t){for(const n in e)e[n](t)},subscribe:function(n){const r=t++;return e[r]=n,function(){delete e[r]}}}}const Gn={_version:2,avatar:{sizes:[{distance:-4,size:19},{distance:-4,size:25},{distance:-8,size:33},{distance:-12,size:49}],focusRing:{offset:1,width:1}},button:{textWeight:"medium",border:{width:1},focusRing:{offset:-1,width:1}},card:{border:{width:1},focusRing:{offset:-1,width:1},shadow:{outline:.5}},container:[320,640,960,1280,1600,1920],media:[360,600,900,1200,1800,2400],layer:{dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}},radius:[0,1,3,6,9,12,21],shadow:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-2],penumbra:[0,6,10,0],ambient:[0,1,18,1]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{border:{width:1},checkbox:{size:17,focusRing:{offset:-1,width:1}},radio:{size:17,markSize:9,focusRing:{offset:-1,width:1}},switch:{width:25,height:17,padding:5,transitionDurationMs:150,transitionTimingFunction:"ease-out",focusRing:{offset:1,width:1}},select:{focusRing:{offset:-1,width:1}},text:{focusRing:{offset:-1,width:1}}},style:{button:{root:{transition:"background-color 100ms,border-color 100ms,color 100ms"}}}},GV=new WeakMap;function Yo(e){const t=GV.get(e);if(t)return t;const n=wr(e,e.card.enabled),r={_blend:e._blend||(e.dark?"screen":"multiply"),_dark:e.dark,accent:n.accent,avatar:n.avatar,backdrop:e.base.shadow.ambient,badge:n.badge,bg:e.base.bg,border:e.base.border,button:{default:sC(e,e.button.default),ghost:sC(e,e.button.ghost),bleed:sC(e,e.button.bleed)},code:n.code,fg:e.base.fg,focusRing:e.base.focusRing,icon:n.muted.fg,input:{default:YV(e.input.default),invalid:YV(e.input.invalid)},kbd:n.kbd,link:n.link,muted:{...n.muted,bg:e.selectable?.default.enabled.bg2||e.base.bg},selectable:sC(e,e.selectable||e.muted),shadow:e.base.shadow,skeleton:{from:e.skeleton?.from||e.base.border,to:e.skeleton?.to||e.base.border},syntax:e.syntax};return GV.set(e,r),r}function sC(e,t){return{default:{enabled:wr(e,t.default.enabled),hovered:wr(e,t.default.hovered),pressed:wr(e,t.default.pressed),selected:wr(e,t.default.selected),disabled:wr(e,t.default.disabled)},primary:{enabled:wr(e,t.primary.enabled),hovered:wr(e,t.primary.hovered),pressed:wr(e,t.primary.pressed),selected:wr(e,t.primary.selected),disabled:wr(e,t.primary.disabled)},positive:{enabled:wr(e,t.positive.enabled),hovered:wr(e,t.positive.hovered),pressed:wr(e,t.positive.pressed),selected:wr(e,t.positive.selected),disabled:wr(e,t.positive.disabled)},caution:{enabled:wr(e,t.caution.enabled),hovered:wr(e,t.caution.hovered),pressed:wr(e,t.caution.pressed),selected:wr(e,t.caution.selected),disabled:wr(e,t.caution.disabled)},critical:{enabled:wr(e,t.critical.enabled),hovered:wr(e,t.critical.hovered),pressed:wr(e,t.critical.pressed),selected:wr(e,t.critical.selected),disabled:wr(e,t.critical.disabled)}}}function wr(e,t){return{...t,avatar:{gray:{bg:e.spot.gray,fg:e.base.bg},blue:{bg:e.spot.blue,fg:e.base.bg},purple:{bg:e.spot.purple,fg:e.base.bg},magenta:{bg:e.spot.magenta,fg:e.base.bg},red:{bg:e.spot.red,fg:e.base.bg},orange:{bg:e.spot.orange,fg:e.base.bg},yellow:{bg:e.spot.yellow,fg:e.base.bg},green:{bg:e.spot.green,fg:e.base.bg},cyan:{bg:e.spot.cyan,fg:e.base.bg}},badge:{default:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,dot:e.muted.default.enabled.muted.fg,icon:e.muted.default.enabled.muted.fg},primary:{bg:e.muted.primary.enabled.bg,fg:e.muted.primary.enabled.fg,dot:e.muted.primary.enabled.muted.fg,icon:e.muted.primary.enabled.muted.fg},positive:{bg:e.muted.positive.enabled.bg,fg:e.muted.positive.enabled.fg,dot:e.muted.positive.enabled.muted.fg,icon:e.muted.positive.enabled.muted.fg},caution:{bg:e.muted.caution.enabled.bg,fg:e.muted.caution.enabled.fg,dot:e.muted.caution.enabled.muted.fg,icon:e.muted.caution.enabled.muted.fg},critical:{bg:e.muted.critical.enabled.bg,fg:e.muted.critical.enabled.fg,dot:e.muted.critical.enabled.muted.fg,icon:e.muted.critical.enabled.muted.fg}},kbd:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,border:e.muted.default.enabled.border},muted:{...e.muted.default.enabled.muted,bg:t.bg2||t.bg},skeleton:{from:t.skeleton?.from||t.border,to:t.skeleton?.to||t.border}}}function YV(e){return{enabled:lC(e.enabled),disabled:lC(e.disabled),readOnly:lC(e.readOnly),hovered:lC(e.hovered)}}function lC(e){return{bg:e.bg,border:e.border,fg:e.fg,muted:{bg:e.bg2},placeholder:e.placeholder}}const qV=new WeakMap;function Ae(e){if(e.sanity.v2?._resolved)return e.sanity.v2;const t=qV.get(e);if(t)return t;const n={_version:2,_resolved:!0,avatar:{...Gn.avatar,...e.sanity.avatar},button:{...Gn.button,...e.sanity.button},card:Gn.card,color:Yo(e.sanity.color),container:e.sanity.container,font:e.sanity.fonts,input:{...Gn.input,...e.sanity.input,checkbox:{...Gn.input.checkbox,...e.sanity.input.checkbox},radio:{...Gn.input.radio,...e.sanity.input.radio},switch:{...Gn.input.switch,...e.sanity.input.switch}},layer:e.sanity.layer??Gn.layer,media:e.sanity.media,radius:e.sanity.radius,shadow:e.sanity.shadows,space:e.sanity.space,style:e.sanity.styles};return qV.set(e,n),n}const nF=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],rje=["50","100","200","300","400","500","600","700","800","900","950"],sS={title:"Black",hex:"#0d0e12"},Lc={title:"White",hex:"#ffffff"},Ny={50:{title:"Gray 50",hex:"#f6f6f8"},100:{title:"Gray 100",hex:"#eeeef1"},200:{title:"Gray 200",hex:"#e3e4e8"},300:{title:"Gray 300",hex:"#bbbdc9"},400:{title:"Gray 400",hex:"#9499ad"},500:{title:"Gray 500",hex:"#727892"},600:{title:"Gray 600",hex:"#515870"},700:{title:"Gray 700",hex:"#383d51"},800:{title:"Gray 800",hex:"#252837"},900:{title:"Gray 900",hex:"#1b1d27"},950:{title:"Gray 950",hex:"#13141b"}},my={50:{title:"Blue 50",hex:"#f5f8ff"},100:{title:"Blue 100",hex:"#e5edff"},200:{title:"Blue 200",hex:"#dbe5ff"},300:{title:"Blue 300",hex:"#a8bfff"},400:{title:"Blue 400",hex:"#7595ff"},500:{title:"Blue 500",hex:"#556bfc"},600:{title:"Blue 600",hex:"#4043e7"},700:{title:"Blue 700",hex:"#2927aa"},800:{title:"Blue 800",hex:"#192457"},900:{title:"Blue 900",hex:"#161a41"},950:{title:"Blue 950",hex:"#101228"}},Kae={50:{title:"Purple 50",hex:"#f8f5ff"},100:{title:"Purple 100",hex:"#f1ebff"},200:{title:"Purple 200",hex:"#ece1fe"},300:{title:"Purple 300",hex:"#ccb1fc"},400:{title:"Purple 400",hex:"#b087f7"},500:{title:"Purple 500",hex:"#8f57ef"},600:{title:"Purple 600",hex:"#721fe5"},700:{title:"Purple 700",hex:"#4c1a9e"},800:{title:"Purple 800",hex:"#2f1862"},900:{title:"Purple 900",hex:"#23173f"},950:{title:"Purple 950",hex:"#181128"}},ije={50:{title:"Magenta 50",hex:"#fef6f9"},100:{title:"Magenta 100",hex:"#fde8ef"},200:{title:"Magenta 200",hex:"#fcdee9"},300:{title:"Magenta 300",hex:"#f7abc5"},400:{title:"Magenta 400",hex:"#f0709b"},500:{title:"Magenta 500",hex:"#e72767"},600:{title:"Magenta 600",hex:"#b11651"},700:{title:"Magenta 700",hex:"#7c1342"},800:{title:"Magenta 800",hex:"#4b1130"},900:{title:"Magenta 900",hex:"#341325"},950:{title:"Magenta 950",hex:"#1f0f14"}},bp={50:{title:"Red 50",hex:"#fff6f5"},100:{title:"Red 100",hex:"#ffe7e5"},200:{title:"Red 200",hex:"#ffdedc"},300:{title:"Red 300",hex:"#fdada5"},400:{title:"Red 400",hex:"#f77769"},500:{title:"Red 500",hex:"#ef4434"},600:{title:"Red 600",hex:"#cc2819"},700:{title:"Red 700",hex:"#8b2018"},800:{title:"Red 800",hex:"#4d1714"},900:{title:"Red 900",hex:"#321615"},950:{title:"Red 950",hex:"#1e1011"}},aje={50:{title:"Orange 50",hex:"#fff7f0"},100:{title:"Orange 100",hex:"#ffeadb"},200:{title:"Orange 200",hex:"#ffddc7"},300:{title:"Orange 300",hex:"#ffb685"},400:{title:"Orange 400",hex:"#ff8e42"},500:{title:"Orange 500",hex:"#fa6400"},600:{title:"Orange 600",hex:"#b14802"},700:{title:"Orange 700",hex:"#7c3404"},800:{title:"Orange 800",hex:"#461e07"},900:{title:"Orange 900",hex:"#32160b"},950:{title:"Orange 950",hex:"#21120d"}},uE={50:{title:"Yellow 50",hex:"#fefae1"},100:{title:"Yellow 100",hex:"#fcf3bb"},200:{title:"Yellow 200",hex:"#f9e994"},300:{title:"Yellow 300",hex:"#f7d455"},400:{title:"Yellow 400",hex:"#f9bc15"},500:{title:"Yellow 500",hex:"#d28a04"},600:{title:"Yellow 600",hex:"#965908"},700:{title:"Yellow 700",hex:"#653a0b"},800:{title:"Yellow 800",hex:"#3b220c"},900:{title:"Yellow 900",hex:"#271a11"},950:{title:"Yellow 950",hex:"#181410"}},HO={50:{title:"Green 50",hex:"#e7fef5"},100:{title:"Green 100",hex:"#c5fce8"},200:{title:"Green 200",hex:"#a9f9dc"},300:{title:"Green 300",hex:"#59f3ba"},400:{title:"Green 400",hex:"#0ff0a1"},500:{title:"Green 500",hex:"#04b97a"},600:{title:"Green 600",hex:"#01794f"},700:{title:"Green 700",hex:"#015133"},800:{title:"Green 800",hex:"#023120"},900:{title:"Green 900",hex:"#06231a"},950:{title:"Green 950",hex:"#071715"}},oje={50:{title:"Cyan 50",hex:"#e7fefe"},100:{title:"Cyan 100",hex:"#c5fcfc"},200:{title:"Cyan 200",hex:"#96f8f8"},300:{title:"Cyan 300",hex:"#62efef"},400:{title:"Cyan 400",hex:"#18e2e2"},500:{title:"Cyan 500",hex:"#04b8be"},600:{title:"Cyan 600",hex:"#037782"},700:{title:"Cyan 700",hex:"#024950"},800:{title:"Cyan 800",hex:"#042f34"},900:{title:"Cyan 900",hex:"#072227"},950:{title:"Cyan 950",hex:"#0d181c"}},et={gray:Ny,blue:my,purple:Kae,magenta:ije,red:bp,orange:aje,yellow:uE,green:HO,cyan:oje},sje={black:sS,white:Lc,...et},lje={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:19,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:22,iconSize:33,lineHeight:31,letterSpacing:0}]},heading:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:17,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:21,iconSize:33,lineHeight:29,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:27,iconSize:41,lineHeight:35,letterSpacing:0},{ascenderHeight:9.5,descenderHeight:8.5,fontSize:33,iconSize:49,lineHeight:41,letterSpacing:0},{ascenderHeight:10.5,descenderHeight:9.5,fontSize:38,iconSize:53,lineHeight:47,letterSpacing:0}]},label:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:8.1,iconSize:13,lineHeight:10,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:9.5,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:10.8,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.25,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:13.6,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:15,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:18,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:21,iconSize:33,lineHeight:31,letterSpacing:0}]}};function KV(e){return 2===e._version}const ZV=new WeakMap;function uje(e){if(e.v2)return e.v2;const t=ZV.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:o,focusRing:a,fonts:s,input:l,layer:u,media:c,radius:d,shadows:f,space:p,styles:h}=e,m={_version:2,avatar:{...Gn.avatar,...n},button:{...Gn.button,...r},card:Gn.card,color:{light:{transparent:Yo(i.light.transparent),default:Yo(i.light.default),primary:Yo(i.light.primary),positive:Yo(i.light.positive),caution:Yo(i.light.caution),critical:Yo(i.light.critical)},dark:{transparent:Yo(i.dark.transparent),default:Yo(i.dark.default),primary:Yo(i.dark.primary),positive:Yo(i.dark.positive),caution:Yo(i.dark.caution),critical:Yo(i.dark.critical)}},container:o,font:s,input:{...Gn.input,...l,checkbox:{...Gn.input.checkbox,...l.checkbox},radio:{...Gn.input.radio,...l.radio},switch:{...Gn.input.switch,...l.switch}},layer:u??Gn.layer,media:c,radius:d,shadow:f,space:p,style:h};return ZV.set(e,m),m}const cje=new WeakMap;function Zae(e){const t=cje.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:o,font:a,input:s,media:l,radius:u,shadow:c,space:d,style:f}=e;return{_version:0,avatar:n,button:r,container:o,color:{light:{transparent:Ts(i.light.transparent),default:Ts(i.light.default),primary:Ts(i.light.primary),positive:Ts(i.light.positive),caution:Ts(i.light.caution),critical:Ts(i.light.critical)},dark:{transparent:Ts(i.dark.transparent),default:Ts(i.dark.default),primary:Ts(i.dark.primary),positive:Ts(i.dark.positive),caution:Ts(i.dark.caution),critical:Ts(i.dark.critical)}},focusRing:s.text.focusRing,fonts:a,input:s,media:l,radius:u,shadows:c,space:d,styles:f,v2:e}}function Ts(e){return{base:{bg:e.bg,fg:e.fg,border:e.border,focusRing:e.focusRing,shadow:e.shadow},button:e.button,card:e.selectable.default,dark:e._dark,input:{default:XV(e.input.default),invalid:XV(e.input.invalid)},muted:{...e.button.ghost,transparent:e.button.ghost.default},solid:{...e.button.default,transparent:e.button.default.default},selectable:e.selectable,spot:{gray:e.avatar.gray.bg,blue:e.avatar.blue.bg,purple:e.avatar.purple.bg,magenta:e.avatar.magenta.bg,red:e.avatar.red.bg,orange:e.avatar.orange.bg,yellow:e.avatar.yellow.bg,green:e.avatar.green.bg,cyan:e.avatar.cyan.bg},syntax:e.syntax}}function XV(e){return{enabled:uC(e.enabled),disabled:uC(e.disabled),readOnly:uC(e.readOnly),hovered:uC(e.hovered)}}function uC(e){return{bg:e.bg,bg2:e.muted.bg,border:e.border,fg:e.fg,placeholder:e.placeholder}}const dje=["multiply","screen"],Xae=["transparent","default","primary","positive","caution","critical"],Sx=["default","primary","positive","caution","critical"],Ex=["enabled","hovered","pressed","selected","disabled"],Jae=["default","ghost","bleed"],Qae=["default","invalid"],eoe=["enabled","hovered","readOnly","disabled"];function fje(e){return dje.includes(e)}function hje(e){return nF.includes(e)}function JV(e){return rje.includes(e)}function Rj(e){return/^\d+%$/.test(e)}function toe(e){const t=e.split("/");let n=t.shift()||"";const[r,i]=n.split(" ");if(JV(r)){const e=r,n=t.shift()||"";if(Rj(i)){return{type:"color",tint:e,mix:Number(i.slice(0,-1))/100}}if(Mj(n)){return{type:"color",tint:e,opacity:Number(n)}}return{type:"color",tint:e}}if(pje(r)){const e=r,n=t.shift()||"";if(Rj(i)){return{type:"color",key:e,mix:Number(i.slice(0,-1))/100}}if(Mj(n)){return{type:"color",key:e,opacity:Number(n)}}return{type:"color",key:e}}if(hje(r)){const e=r;n=t.shift()||"";const[i,o]=n.split(" ");if(JV(i)){const n=i,r=t.shift()||"";if(Rj(o)){return{type:"color",hue:e,tint:n,mix:Number(o.slice(0,-1))/100}}if(Mj(r)){return{type:"color",hue:e,tint:n,opacity:Number(r)}}return{type:"color",hue:e,tint:n}}return{type:"hue",value:e}}if(fje(r))return{type:"blendMode",value:r}}function pje(e){return"black"===e||"white"===e}function Mj(e){return"0"===e||/^0\.[0-9]+$/.test(e)||"1"===e}function mje(e){let t="";return t="black"===e.key||"white"===e.key?e.key:`${e.hue}/${e.tint}`,void 0!==e.mix?`${t} ${100*e.mix}%`:(void 0!==e.opacity&&(t+=`/${e.opacity}`),t)}const gje=["500","500"];function Pe(e,t=gje){const{hue:n,scheme:r}=e,i=toe(t["light"===r?0:1]);if(!i||"color"!==i.type)throw new Error(`Invalid color token: ${t[0]}`);return mje({...i,hue:i.hue||n})}const vje={base:{"*":{_blend:["multiply","screen"],accent:{fg:["purple/600","purple/400"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},backdrop:["gray/200/0.5","black/0.5"],badge:{"*":{bg:["100","900"],fg:["600","400"],icon:["500","500"],dot:["500","500"]},positive:{bg:["200 50%","900"],fg:["600","500"]},caution:{bg:["200 50%","900"],fg:["600","500"]}},bg:["50","950"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["800","200"],focusRing:["blue/500","blue/500"],icon:["600","400"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/600","blue/300"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},shadow:{outline:["500/0.3","500/0.4"],umbra:["gray/500/0.1","black/0.2"],penumbra:["gray/500/0.07","black/0.14"],ambient:["gray/500/0.06","black/0.12"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},transparent:{bg:["50","black"]},default:{bg:["white","950"],fg:["800","200"],muted:{fg:["600","400"]}},primary:{_hue:"blue"},positive:{_hue:"green",shadow:{outline:["500/0.4","500/0.4"]}},caution:{_hue:"yellow",shadow:{outline:["600/0.3","500/0.4"]}},critical:{_hue:"red"}},button:{default:{"*":{"*":{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500/0","400/0"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},hovered:{bg:["700","300"],border:["700/0","300/0"]},pressed:{bg:["700","300"]},selected:{bg:["700","300"]},disabled:{_hue:"gray",accent:{fg:["100 70%","900 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/500","gray/400"],fg:["white","black"]}},badge:{"*":{bg:["gray/700","gray/300"],fg:["white","black"],dot:["white","black"],icon:["white","black"]}},bg:["300","600"],code:{bg:["950","50"],fg:["300","600"]},fg:["300","600"],muted:{bg:["950","50"],fg:["300","600"]},kbd:{bg:["black","white"],fg:["white","black"],border:["700","300"]},link:{fg:["100 70%","900 70%"]}}},default:{"*":{avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},bg:["800","200"],muted:{bg:["950","50"],fg:["400","600"]}},hovered:{bg:["900","100"]},pressed:{bg:["black","white"]},selected:{bg:["black","white"]}}},ghost:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 60%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["50","950"],border:["100","900"],code:{bg:["500 10%","400 10%"],fg:["700 60%","400 60%"]},fg:["600","400"],icon:["700 60%","300 60%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 60%","blue/300 60%"]},muted:{bg:["100","950"],fg:["700 60%","300 60%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["100","900"],fg:["700","300"]},pressed:{bg:["100","900"],fg:["800","200"]},selected:{bg:["100","900"],fg:["800","200"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["300","700"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}},positive:{"*":{border:["600 20%","800"]}},caution:{"*":{border:["600 20%","800"]}}},bleed:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["white/0","black/0"],code:{bg:["50","950"],fg:["700 75%","300 75%"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["700","300"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"],icon:["700 70%","400 70%"]},pressed:{bg:["100","900"],fg:["800","200"],icon:["800 70%","200 70%"]},selected:{bg:["100","900"],fg:["800","200"],icon:["800 60%","200 60%"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["400","600"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}}}},input:{"*":{"*":{_blend:["multiply","screen"],bg:["white","black"],border:["200","700"],fg:["black","200"],muted:{bg:["50","950"]},placeholder:["400","600"]},hovered:{border:["300","700"]},readOnly:{bg:["50","950"],border:["200","800"],fg:["800","200"]},disabled:{bg:["50","950"],fg:["400","600"],border:["100","900"],placeholder:["200","800 50%"]}},invalid:{"*":{_hue:"red",bg:["100","950"]}}},selectable:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"]},pressed:{bg:["100","900"]},selected:{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500 20%","400 20%"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["500 10%","400 10%"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{bg:["50 50%","950 50%"],fg:["200","800"]}}},default:{selected:{_hue:"blue"}},critical:{disabled:{bg:["50 50%","950 50%"]}}},syntax:{atrule:["purple/600","purple/400"],attrName:["green/600","green/400"],attrValue:["yellow/600","yellow/400"],attribute:["yellow/600","yellow/400"],boolean:["purple/600","purple/400"],builtin:["purple/600","purple/400"],cdata:["yellow/600","yellow/400"],char:["yellow/600","yellow/400"],class:["orange/600","orange/400"],className:["cyan/600","cyan/400"],comment:["gray/400","gray/600"],constant:["purple/600","purple/400"],deleted:["red/600","red/400"],entity:["red/600","red/400"],function:["green/600","green/400"],hexcode:["blue/600","blue/400"],id:["purple/600","purple/400"],important:["purple/600","purple/400"],inserted:["yellow/600","yellow/400"],keyword:["magenta/600","magenta/400"],number:["purple/600","purple/400"],operator:["magenta/600","magenta/400"],property:["blue/600","blue/400"],pseudoClass:["yellow/600","yellow/400"],pseudoElement:["yellow/600","yellow/400"],punctuation:["gray/600","gray/400"],regex:["blue/600","blue/400"],selector:["red/600","red/400"],string:["yellow/600","yellow/400"],symbol:["purple/600","purple/400"],tag:["red/600","red/400"],unit:["orange/600","orange/400"],url:["red/600","red/400"],variable:["red/600","red/400"]}};function QV(e){return!(!e||"object"!=typeof e||Array.isArray(e))}function En(...e){const t=e.filter(Boolean);return 0===t.length?{}:t.reduce(yje,{})}function yje(e,t){for(const n of Object.keys(t)){const r=e[n],i=t[n];QV(r)&&QV(i)?e[n]=En(r,i):e[n]=i}return e}function bje(e){const t=En(vje,e);return{base:xje(t),button:Cje(t),input:kje(t),selectable:jje(t),syntax:t.syntax}}function xje(e){const t={};for(const n of Xae)t[n]=wje(e,n);return t}function wje(e,t){const n=En(e?.base?.["*"],e?.base?.[t]),r=n._hue||e?.base?.[t]?._hue||"gray";return{...n,_hue:r,avatar:{gray:En({_hue:"gray"},n.avatar?.["*"],n.avatar?.gray),blue:En({_hue:"blue"},n.avatar?.["*"],n.avatar?.blue),purple:En({_hue:"purple"},n.avatar?.["*"],n.avatar?.purple),magenta:En({_hue:"magenta"},n.avatar?.["*"],n.avatar?.magenta),red:En({_hue:"red"},n.avatar?.["*"],n.avatar?.red),orange:En({_hue:"orange"},n.avatar?.["*"],n.avatar?.orange),yellow:En({_hue:"yellow"},n.avatar?.["*"],n.avatar?.yellow),green:En({_hue:"green"},n.avatar?.["*"],n.avatar?.green),cyan:En({_hue:"cyan"},n.avatar?.["*"],n.avatar?.cyan)},badge:{default:{_hue:e?.base?.default?._hue||r,...n.badge?.["*"],...n.badge?.default},primary:{_hue:e?.base?.primary?._hue||r,...n.badge?.["*"],...n.badge?.primary},positive:{_hue:e?.base?.positive?._hue||r,...n.badge?.["*"],...n.badge?.positive},caution:{_hue:e?.base?.caution?._hue||r,...n.badge?.["*"],...n.badge?.caution},critical:{_hue:e?.base?.critical?._hue||r,...n.badge?.["*"],...n.badge?.critical}}}}function Cje(e){const t={};for(const n of Jae)t[n]=Sje(e,n);return t}function Sje(e,t){const n={};for(const r of Sx)n[r]=Eje(e,t,r);return n}function Eje(e,t,n){const r={};for(const i of Ex)r[i]=_je(e,n,t,i);return r}function _je(e,t,n,r){const i=En(e?.button?.[n]?.["*"]?.["*"],e?.button?.[n]?.[t]?.["*"],e?.button?.[n]?.["*"]?.[r],e?.button?.[n]?.[t]?.[r]),o=i._hue||e?.base?.[t]?._hue;return{...i,_hue:o,avatar:{gray:En({_hue:"gray"},i.avatar?.["*"],i.avatar?.gray),blue:En({_hue:"blue"},i.avatar?.["*"],i.avatar?.blue),purple:En({_hue:"purple"},i.avatar?.["*"],i.avatar?.purple),magenta:En({_hue:"magenta"},i.avatar?.["*"],i.avatar?.magenta),red:En({_hue:"red"},i.avatar?.["*"],i.avatar?.red),orange:En({_hue:"orange"},i.avatar?.["*"],i.avatar?.orange),yellow:En({_hue:"yellow"},i.avatar?.["*"],i.avatar?.yellow),green:En({_hue:"green"},i.avatar?.["*"],i.avatar?.green),cyan:En({_hue:"cyan"},i.avatar?.["*"],i.avatar?.cyan)},badge:{default:{_hue:e?.base?.default?._hue,...i.badge?.["*"],...i.badge?.default},primary:{_hue:e?.base?.primary?._hue,...i.badge?.["*"],...i.badge?.primary},positive:{_hue:e?.base?.positive?._hue,...i.badge?.["*"],...i.badge?.positive},caution:{_hue:e?.base?.caution?._hue,...i.badge?.["*"],...i.badge?.caution},critical:{_hue:e?.base?.critical?._hue,...i.badge?.["*"],...i.badge?.critical}}}}function kje(e){const t={};for(const n of Qae)t[n]=Tje(e,n);return t}function Tje(e,t){const n={};for(const r of eoe)n[r]=Aje(e,t,r);return n}function Aje(e,t,n){const r=En(e?.input?.["*"]?.["*"],e?.input?.[t]?.["*"],e?.input?.["*"]?.[n],e?.input?.[t]?.[n]),i=r._hue||e?.input?.[t]?._hue;return{...r,_hue:i}}function jje(e){const t={};for(const n of Sx)t[n]=Ije(e,n);return t}function Ije(e,t){const n={_hue:e?.selectable?.[t]?._hue||e?.base?.[t]?._hue};for(const r of Ex)n[r]=Dje(e,t,r);return n}function Dje(e,t,n){const r=En(e?.selectable?.["*"]?.["*"],e?.selectable?.[t]?.["*"],e?.selectable?.["*"]?.[n],e?.selectable?.[t]?.[n]),i=r._hue||e?.base?.[t]?._hue;return{...r,_hue:i,avatar:{gray:En({_hue:"gray"},r.avatar?.["*"],r.avatar?.gray),blue:En({_hue:"blue"},r.avatar?.["*"],r.avatar?.blue),purple:En({_hue:"purple"},r.avatar?.["*"],r.avatar?.purple),magenta:En({_hue:"magenta"},r.avatar?.["*"],r.avatar?.magenta),red:En({_hue:"red"},r.avatar?.["*"],r.avatar?.red),orange:En({_hue:"orange"},r.avatar?.["*"],r.avatar?.orange),yellow:En({_hue:"yellow"},r.avatar?.["*"],r.avatar?.yellow),green:En({_hue:"green"},r.avatar?.["*"],r.avatar?.green),cyan:En({_hue:"cyan"},r.avatar?.["*"],r.avatar?.cyan)},badge:{default:{_hue:e?.base?.default?._hue,...r.badge?.["*"],...r.badge?.default},primary:{_hue:e?.base?.primary?._hue,...r.badge?.["*"],...r.badge?.primary},positive:{_hue:e?.base?.positive?._hue,...r.badge?.["*"],...r.badge?.positive},caution:{_hue:e?.base?.caution?._hue,...r.badge?.["*"],...r.badge?.caution},critical:{_hue:e?.base?.critical?._hue,...r.badge?.["*"],...r.badge?.critical}}}}function Oje(e){const t={...e,color:bje(e?.color)};return{light:ez({scheme:"light"},t),dark:ez({scheme:"dark"},t)}}function ez(e,t){const{scheme:n}=e;return{transparent:Gm({scheme:n,tone:"transparent"},t),default:Gm({scheme:n,tone:"default"},t),primary:Gm({scheme:n,tone:"primary"},t),positive:Gm({scheme:n,tone:"positive"},t),caution:Gm({scheme:n,tone:"caution"},t),critical:Gm({scheme:n,tone:"critical"},t)}}function Gm(e,t){const{scheme:n,tone:r}=e,i=t?.color?.base?.[r],o={hue:i?._hue||"gray",scheme:n};return{_blend:(i?._blend||["multiply","screen"])["light"===n?0:1],_dark:"dark"===n,accent:{fg:Pe(o,i?.accent?.fg)},avatar:rF({scheme:n},i),backdrop:Pe(o,i?.backdrop),badge:iF(i?.badge,{scheme:n},t),bg:Pe(o,i?.bg),border:Pe(o,i?.border),button:Mje({scheme:n},t),code:{bg:Pe(o,i?.code?.bg),fg:Pe(o,i?.code?.fg)},fg:Pe(o,i?.fg),focusRing:Pe(o,i?.focusRing),icon:Pe(o,i?.icon),input:Lje({scheme:n,tone:r},t),kbd:{bg:Pe(o,i?.kbd?.bg),fg:Pe(o,i?.kbd?.fg),border:Pe(o,i?.kbd?.border)},link:{fg:Pe(o,i?.link?.fg)},muted:{bg:Pe(o,i?.muted?.bg),fg:Pe(o,i?.muted?.fg)},selectable:Nje({scheme:n},t),shadow:Rje({scheme:n,tone:r},t),skeleton:{from:Pe(o,i?.skeleton?.from),to:Pe(o,i?.skeleton?.to)},syntax:zje({scheme:n},t)}}function Rje(e,t){const{scheme:n,tone:r}=e,i=t?.color?.base?.[r],o={hue:i?._hue||"gray",scheme:n};return{outline:Pe(o,i?.shadow?.outline),umbra:Pe(o,i?.shadow?.umbra),penumbra:Pe(o,i?.shadow?.penumbra),ambient:Pe(o,i?.shadow?.ambient)}}function rF(e,t){const{scheme:n}=e;return{gray:lc({color:"gray",scheme:n},t),blue:lc({color:"blue",scheme:n},t),purple:lc({color:"purple",scheme:n},t),magenta:lc({color:"magenta",scheme:n},t),red:lc({color:"red",scheme:n},t),orange:lc({color:"orange",scheme:n},t),yellow:lc({color:"yellow",scheme:n},t),green:lc({color:"green",scheme:n},t),cyan:lc({color:"cyan",scheme:n},t)}}function lc(e,t){const{color:n,scheme:r}=e,i=t?.avatar?.[n],o={hue:i?._hue||"gray",scheme:r};return{_blend:(i?._blend||["screen","multiply"])["light"===r?0:1],bg:Pe(o,i?.bg),fg:Pe(o,i?.fg)}}function iF(e,t,n){const{scheme:r}=t;return{default:yv(e,{scheme:r,tone:"default"},n),primary:yv(e,{scheme:r,tone:"primary"},n),positive:yv(e,{scheme:r,tone:"positive"},n),caution:yv(e,{scheme:r,tone:"caution"},n),critical:yv(e,{scheme:r,tone:"critical"},n)}}function yv(e,t,n){const{scheme:r,tone:i}=t,o=e?.[i],a={hue:o?._hue||n?.color?.base?.[i]?._hue||"gray",scheme:r};return{bg:Pe(a,o?.bg),fg:Pe(a,o?.fg),dot:Pe(a,o?.dot),icon:Pe(a,o?.icon)}}function Mje(e,t){const{scheme:n}=e,r={};for(const e of Jae)r[e]=$je({scheme:n,mode:e},t);return r}function $je(e,t){const{mode:n,scheme:r}=e,i={};for(const e of Sx)i[e]=Pje({mode:n,scheme:r,tone:e},t);return i}function Pje(e,t){const{mode:n,scheme:r,tone:i}=e,o={};for(const e of Ex)o[e]=Fje({mode:n,tone:i,scheme:r,state:e},t);return o}function Fje(e,t){const{mode:n,tone:r,scheme:i,state:o}=e,a=t?.color?.button?.[n]?.[r]?.[o],s={hue:a?._hue||"gray",scheme:i};return{_blend:(a?._blend||["screen","multiply"])["light"===i?0:1],accent:{fg:Pe(s,a?.accent?.fg)},avatar:rF({scheme:i},a),badge:iF(a?.badge,{scheme:i},t),bg:Pe(s,a?.bg),border:Pe(s,a?.border),code:{bg:Pe(s,a?.code?.bg),fg:Pe(s,a?.code?.fg)},fg:Pe(s,a?.fg),icon:Pe(s,a?.icon),muted:{bg:Pe(s,a?.muted?.bg),fg:Pe(s,a?.muted?.fg)},kbd:{bg:Pe(s,a?.kbd?.bg),fg:Pe(s,a?.kbd?.fg),border:Pe(s,a?.kbd?.border)},link:{fg:Pe(s,a?.link?.fg)},skeleton:{from:Pe(s,a?.skeleton?.from),to:Pe(s,a?.skeleton?.to)}}}function Lje(e,t){const{scheme:n,tone:r}=e;return{default:tz({mode:"default",scheme:n,tone:r},t),invalid:tz({mode:"invalid",scheme:n,tone:r},t)}}function tz(e,t){const{mode:n,scheme:r,tone:i}=e;return{enabled:cC({mode:n,scheme:r,state:"enabled",tone:i},t),hovered:cC({mode:n,scheme:r,state:"hovered",tone:i},t),readOnly:cC({mode:n,scheme:r,state:"readOnly",tone:i},t),disabled:cC({mode:n,scheme:r,state:"disabled",tone:i},t)}}function cC(e,t){const{mode:n,tone:r,scheme:i,state:o}=e,a=t?.color?.input?.[n]?.[o],s={hue:a?._hue||t?.color?.base?.[r]?._hue||"gray",scheme:i};return{_blend:(a?._blend||["screen","multiply"])["light"===i?0:1],bg:Pe(s,a?.bg),border:Pe(s,a?.border),fg:Pe(s,a?.fg),muted:{bg:Pe(s,a?.muted?.bg)},placeholder:Pe(s,a?.placeholder)}}function Nje(e,t){const{scheme:n}=e,r={};for(const e of Sx)r[e]=Bje({scheme:n,tone:e},t);return r}function Bje(e,t){const{scheme:n,tone:r}=e,i={};for(const e of Ex)i[e]=Vje({tone:r,scheme:n,state:e},t);return i}function Vje(e,t){const{scheme:n,state:r,tone:i}=e,o=t?.color?.selectable?.[i]?.[r],a={hue:o?._hue||"gray",scheme:n};return{_blend:(o?._blend||["screen","multiply"])["light"===n?0:1],accent:{fg:Pe(a,o?.accent?.fg)},avatar:rF({scheme:n},o),badge:iF(o?.badge,{scheme:n},t),bg:Pe(a,o?.bg),border:Pe(a,o?.border),code:{bg:Pe(a,o?.code?.bg),fg:Pe(a,o?.code?.fg)},fg:Pe(a,o?.fg),icon:Pe(a,o?.icon),muted:{bg:Pe(a,o?.muted?.bg),fg:Pe(a,o?.muted?.fg)},kbd:{bg:Pe(a,o?.kbd?.bg),fg:Pe(a,o?.kbd?.fg),border:Pe(a,o?.kbd?.border)},link:{fg:Pe(a,o?.link?.fg)},skeleton:{from:Pe(a,o?.skeleton?.from),to:Pe(a,o?.skeleton?.to)}}}function zje(e,t){const{scheme:n}=e,r=t?.color?.syntax,i={hue:"gray",scheme:n};return{atrule:Pe(i,r?.atrule),attrName:Pe(i,r?.attrName),attrValue:Pe(i,r?.attrValue),attribute:Pe(i,r?.attribute),boolean:Pe(i,r?.boolean),builtin:Pe(i,r?.builtin),cdata:Pe(i,r?.cdata),char:Pe(i,r?.char),class:Pe(i,r?.class),className:Pe(i,r?.className),comment:Pe(i,r?.comment),constant:Pe(i,r?.constant),deleted:Pe(i,r?.deleted),doctype:Pe(i,r?.doctype),entity:Pe(i,r?.entity),function:Pe(i,r?.function),hexcode:Pe(i,r?.hexcode),id:Pe(i,r?.id),important:Pe(i,r?.important),inserted:Pe(i,r?.inserted),keyword:Pe(i,r?.keyword),number:Pe(i,r?.number),operator:Pe(i,r?.operator),prolog:Pe(i,r?.prolog),property:Pe(i,r?.property),pseudoClass:Pe(i,r?.pseudoClass),pseudoElement:Pe(i,r?.pseudoElement),punctuation:Pe(i,r?.punctuation),regex:Pe(i,r?.regex),selector:Pe(i,r?.selector),string:Pe(i,r?.string),symbol:Pe(i,r?.symbol),tag:Pe(i,r?.tag),unit:Pe(i,r?.unit),url:Pe(i,r?.url),variable:Pe(i,r?.variable)}}const Uje=sje;function $j(e,t,n){return e+(t-e)*n}function Hje(e,t,n){return{r:$j(e.r,t.r,n),g:$j(e.g,t.g,n),b:$j(e.b,t.b,n)}}function Pj(e,t){return e*t}function Wje(e,t){return{r:255*Pj(e.r/255,t.r/255),g:255*Pj(e.g/255,t.g/255),b:255*Pj(e.b/255,t.b/255)}}function Fj(e,t){return e+t-e*t}function Gje(e,t){return{r:255*Fj(e.r/255,t.r/255),g:255*Fj(e.g/255,t.g/255),b:255*Fj(e.b/255,t.b/255)}}function Yje(e,t,n){return e*(1-n)+t*n}function qje(e,t,n){return es((n-e)/(t-e))}function es(e,t=0,n=1){return Math.min(n,Math.max(t,e))}function uc(e,t,n,r,i){return Yje(n,r,qje(e,t,i))}function Lj(e){return Math.round(e)}function WO(e){if(4===e.length){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function Kje(e){const t=e.replace(/rgba\(|\)/g,"").split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2]),a:parseFloat(t[3])}}function noe(e){const t=Lj(es(Math.round(e.r),0,255)),n=Lj(es(Math.round(e.g),0,255)),r=Lj(es(Math.round(e.b),0,255));return"a"in e?`rgba(${t},${n},${r},${e.a})`:"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function Zje(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e.h/60%2-1)),o=n-r/2;let a=0,s=0,l=0;return 0<=e.h&&e.h<60?(a=r,s=i,l=0):60<=e.h&&e.h<120?(a=i,s=r,l=0):120<=e.h&&e.h<180?(a=0,s=r,l=i):180<=e.h&&e.h<240?(a=0,s=i,l=r):240<=e.h&&e.h<300?(a=i,s=0,l=r):300<=e.h&&e.h<360&&(a=r,s=0,l=i),{r:Math.round(255*(a+o)),g:Math.round(255*(s+o)),b:Math.round(255*(l+o))}}const Xje="0123456789ABCDEFabcdef",Jje=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function Qje(e){for(const t of e)if(-1===Xje.indexOf(t))return!1;return!0}function eIe(e){return"#"===e[0]&&(4===e.length||7===e.length)&&Qje(e.slice(1))}function tIe(e){const t=Jje.exec(e);if(!t)throw new Error(`parseHsl: string is not a HSL color: "${e}"`);return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function gy(e){if(!e)return{r:0,g:0,b:0};if("string"!=typeof e)throw new Error("parseColor: expected a string");if(eIe(e))return WO(e);if(e.startsWith("hsl("))return Zje(tIe(e));if(e.startsWith("rgba("))return Kje(e);throw new Error(`parseColor: unexpected color format: "${e}"`)}function M5(e,t){const n=gy(e);return`rgba(${n.r},${n.g},${n.b},${t})`}const to=[0,255];function nIe(e,t){const{blendMode:n}=t,r=gy(e),i=gy(t.black),o=gy(t.white),a=t.bg?gy(t.bg):"multiply"===n?o:i,s={r:[i.r,o.r],g:[i.g,o.g],b:[i.b,o.b]},l={r:es(uc(...s.r,...to,a.r),...to),g:es(uc(...s.g,...to,a.g),...to),b:es(uc(...s.b,...to,a.b),...to)},u={r:es(uc(...s.r,...to,r.r),...to),g:es(uc(...s.g,...to,r.g),...to),b:es(uc(...s.b,...to,r.b),...to)},c="multiply"===n?Wje(l,u):Gje(l,u);return noe({r:es(uc(...to,...s.r,c.r),...s.r),g:es(uc(...to,...s.g,c.g),...s.g),b:es(uc(...to,...s.b,c.b),...s.b)})}function He(e,t){const{bg:n,blendMode:r,colorPalette:i}=t;if("white"===n)throw new Error("Cannot blend with white background");const o=toe(e);if(!o||"color"!==o.type)throw new Error(`Invalid color token value: ${e}`);let a="";if("black"===o.key&&(a=bv(i.black)),"white"===o.key&&(a=bv(i.white)),o.hue&&o.tint&&(a=bv(i[o.hue][o.tint])),!a)throw new Error(`Invalid color token value: ${e}`);const s=a,l={blendMode:r,bg:n,black:bv(i.black),white:bv(i.white)};try{if(a=nIe(a,l),n&&void 0!==o.mix){const e=WO(n);a=noe(Hje(e,WO(a),o.mix))}}catch(e){throw console.warn("could not blend",a,l),e}return"#aN"===a&&(console.warn(`invalid color token value: ${e}`),a=s),void 0!==o.opacity&&(a=M5(a,o.opacity)),a}function bv(e){return"string"==typeof e?e:e.hex}function rIe(e,t){const n=Uje;return{light:nz(n,e.light),dark:nz(n,e.dark)}}function nz(e,t){const n=Object.entries(t),[,r]=n.find((([e])=>"transparent"===e)),[,i]=n.find((([e])=>"default"===e)),o=Nj(r,{colorPalette:e}),a=Nj(i,{colorPalette:e}),s=a.bg;if("white"===s)throw new Error("Cannot blend with white background");return Object.fromEntries([["transparent",o],["default",a],...n.filter((([e])=>"default"!==e&&"transparent"!==e)).map((([t,n])=>[t,Nj(n,{bg:s,colorPalette:e})]))])}function Nj(e,t){const{colorPalette:n,bg:r}=t,i=e._blend||"multiply",o=He(e.bg,{colorPalette:n,bg:r,blendMode:i}),a={colorPalette:n,bg:o,blendMode:i},s=aIe(e.button,{baseBg:o,blendMode:i,colorPalette:n}),l=sIe(e.selectable,{colorPalette:n,baseBg:o,blendMode:i}),u={outline:He(e.shadow.outline,a),umbra:He(e.shadow.umbra,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}}),penumbra:He(e.shadow.penumbra,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}}),ambient:He(e.shadow.ambient,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}})};return{_blend:i,_dark:e._dark,accent:{fg:He(e.accent.fg,a)},avatar:roe(e.avatar,{baseBg:o,colorPalette:n,blendMode:i}),backdrop:He(e.backdrop,a),badge:ioe(e.badge,{baseBg:o,colorPalette:n,blendMode:i}),bg:o,border:He(e.border,a),button:s,code:{bg:He(e.code.bg,a),fg:He(e.code.fg,a)},fg:He(e.fg,a),focusRing:He(e.focusRing,a),icon:He(e.icon,a),input:oIe(e.input,{baseBg:o,colorPalette:n,blendMode:i}),kbd:iIe(e.kbd,{baseBg:o,colorPalette:n,blendMode:i}),link:{fg:He(e.link.fg,a)},muted:{bg:He(e.muted.bg,a),fg:He(e.muted.fg,a)},shadow:u,skeleton:{from:He(e.skeleton.from,a),to:He(e.skeleton.to,a)},syntax:lIe(e.syntax,{baseBg:o,colorPalette:n,blendMode:i}),selectable:l}}function iIe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o={bg:n,blendMode:r,colorPalette:i},a=He(e.bg,o),s={bg:a,blendMode:r,colorPalette:i};return{bg:a,fg:He(e.fg,s),border:He(e.border,s)}}function roe(e,t){return{gray:cc(e.gray,t),blue:cc(e.blue,t),purple:cc(e.purple,t),magenta:cc(e.magenta,t),red:cc(e.red,t),orange:cc(e.orange,t),yellow:cc(e.yellow,t),green:cc(e.green,t),cyan:cc(e.cyan,t)}}function cc(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={bg:n,blendMode:r,colorPalette:i},s=He(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{_blend:o,bg:s,fg:He(e.fg,l)}}function ioe(e,t){return{default:xv(e.default,t),primary:xv(e.primary,t),positive:xv(e.positive,t),caution:xv(e.caution,t),critical:xv(e.critical,t)}}function xv(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=r,a={bg:n,blendMode:r,colorPalette:i},s=He(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{bg:s,dot:He(e.dot,l),fg:He(e.fg,l),icon:He(e.icon,l)}}function aIe(e,t){return{default:Bj(e.default,t),ghost:Bj(e.ghost,t),bleed:Bj(e.bleed,t)}}function Bj(e,t){return{default:wv(e.default,t),primary:wv(e.primary,t),positive:wv(e.positive,t),caution:wv(e.caution,t),critical:wv(e.critical,t)}}function wv(e,t){return{enabled:hu(e.enabled,t),hovered:hu(e.hovered,t),pressed:hu(e.pressed,t),selected:hu(e.selected,t),disabled:hu(e.disabled,t)}}function hu(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={bg:n,blendMode:r,colorPalette:i},s=He(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{_blend:o,accent:{fg:He(e.accent.fg,l)},avatar:roe(e.avatar,{baseBg:s,colorPalette:i,blendMode:o}),badge:ioe(e.badge,{baseBg:s,colorPalette:i,blendMode:o}),bg:s,border:He(e.border,l),code:{bg:He(e.code.bg,l),fg:He(e.code.fg,l)},fg:He(e.fg,l),icon:He(e.icon,l),link:{fg:He(e.link.fg,l)},muted:{bg:He(e.muted.bg,l),fg:He(e.muted.fg,l)},kbd:{bg:He(e.kbd.bg,l),fg:He(e.kbd.fg,l),border:He(e.kbd.border,l)},skeleton:{from:He(e.skeleton?.from,l),to:He(e.skeleton?.to,l)}}}function oIe(e,t){return{default:rz(e.default,t),invalid:rz(e.invalid,t)}}function rz(e,t){return{enabled:dC(e.enabled,t),hovered:dC(e.hovered,t),readOnly:dC(e.readOnly,t),disabled:dC(e.disabled,t)}}function dC(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={colorPalette:i,bg:n,blendMode:r},s=He(e.bg,a),l={colorPalette:i,bg:s,blendMode:o};return{_blend:o,bg:s,border:He(e.border,l),fg:He(e.fg,l),muted:{bg:He(e.muted.bg,l)},placeholder:He(e.placeholder,l)}}function sIe(e,t){return{default:Cv(e.default,t),primary:Cv(e.primary,t),positive:Cv(e.positive,t),caution:Cv(e.caution,t),critical:Cv(e.critical,t)}}function Cv(e,t){return{enabled:hu(e.enabled,t),hovered:hu(e.hovered,t),pressed:hu(e.pressed,t),selected:hu(e.selected,t),disabled:hu(e.disabled,t)}}function lIe(e,t){const{colorPalette:n,baseBg:r,blendMode:i}=t,o={colorPalette:n,bg:r,blendMode:i};return{atrule:He(e.atrule,o),attrName:He(e.attrName,o),attrValue:He(e.attrValue,o),attribute:He(e.attribute,o),boolean:He(e.boolean,o),builtin:He(e.builtin,o),cdata:He(e.cdata,o),char:He(e.char,o),class:He(e.class,o),className:He(e.className,o),comment:He(e.comment,o),constant:He(e.constant,o),deleted:He(e.deleted,o),doctype:He(e.doctype,o),entity:He(e.entity,o),function:He(e.function,o),hexcode:He(e.hexcode,o),id:He(e.id,o),important:He(e.important,o),inserted:He(e.inserted,o),keyword:He(e.keyword,o),number:He(e.number,o),operator:He(e.operator,o),prolog:He(e.prolog,o),property:He(e.property,o),pseudoClass:He(e.pseudoClass,o),pseudoElement:He(e.pseudoElement,o),punctuation:He(e.punctuation,o),regex:He(e.regex,o),selector:He(e.selector,o),string:He(e.string,o),symbol:He(e.symbol,o),tag:He(e.tag,o),unit:He(e.unit,o),url:He(e.url,o),variable:He(e.variable,o)}}function aoe(e){const t=Oje(e);return Zae({_version:2,avatar:Gn.avatar,button:Gn.button,card:Gn.card,color:rIe(t),container:Gn.container,font:lje,input:Gn.input,layer:Gn.layer,media:Gn.media,radius:Gn.radius,shadow:Gn.shadow,space:Gn.space,style:Gn.style})}const lS=new Map;function uIe(e,t,n){const r=cIe(e,t,n);if(r)return r;const i=KV(e)?Zae(e):e,o=KV(e)?e:uje(e),a=i.color[t]||i.color.light,s=a[n]||a.default,l=i.layer||Gn.layer,u=o.color[t]||o.color.light,c=u[n]||u.default,d=o.layer||Gn.layer,f={sanity:{...i,color:s,layer:l,v2:{...o,_resolved:!0,color:c,layer:d}}};return dIe(e,t,n,f),f}function cIe(e,t,n){const r=lS.get(t);if(!r)return;const i=r.get(n);return i?i.get(e):void 0}function dIe(e,t,n,r){lS.has(t)||lS.set(t,new Map);const i=lS.get(t);i.has(n)||i.set(n,new WeakMap),i.get(n).set(e,r)}var fIe=f;function hIe(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var Vj,zj,By=hIe(fIe);null!==(Vj=By.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)&&void 0!==Vj||By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;const iz=Symbol.for("react.memo_cache_sentinel"),pIe="function"==typeof(null===(zj=By.__COMPILER_RUNTIME)||void 0===zj?void 0:zj.c)?By.__COMPILER_RUNTIME.c:function(e){return By.useMemo((()=>{const t=new Array(e);for(let n=0;n<e;n++)t[n]=iz;return t[iz]=!0,t}),[])};var az;!function(e){e[e.PushGuardContext=0]="PushGuardContext",e[e.PopGuardContext=1]="PopGuardContext",e[e.PushExpectHook=2]="PushExpectHook",e[e.PopExpectHook=3]="PopExpectHook"}(az||(az={}));var soe,Qe=pIe,ooe={exports:{}},er={},aF=Symbol.for("react.element"),oF=Symbol.for("react.portal"),$5=Symbol.for("react.fragment"),P5=Symbol.for("react.strict_mode"),F5=Symbol.for("react.profiler"),L5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),mIe=Symbol.for("react.server_context"),B5=Symbol.for("react.forward_ref"),V5=Symbol.for("react.suspense"),z5=Symbol.for("react.suspense_list"),U5=Symbol.for("react.memo"),H5=Symbol.for("react.lazy"),gIe=Symbol.for("react.offscreen");function ul(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case aF:switch(e=e.type){case $5:case F5:case P5:case V5:case z5:return e;default:switch(e=e&&e.$$typeof){case mIe:case N5:case B5:case H5:case U5:case L5:return e;default:return t}}case oF:return t}}}soe=Symbol.for("react.module.reference"),er.ContextConsumer=N5,er.ContextProvider=L5,er.Element=aF,er.ForwardRef=B5,er.Fragment=$5,er.Lazy=H5,er.Memo=U5,er.Portal=oF,er.Profiler=F5,er.StrictMode=P5,er.Suspense=V5,er.SuspenseList=z5,er.isAsyncMode=function(){return!1},er.isConcurrentMode=function(){return!1},er.isContextConsumer=function(e){return ul(e)===N5},er.isContextProvider=function(e){return ul(e)===L5},er.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===aF},er.isForwardRef=function(e){return ul(e)===B5},er.isFragment=function(e){return ul(e)===$5},er.isLazy=function(e){return ul(e)===H5},er.isMemo=function(e){return ul(e)===U5},er.isPortal=function(e){return ul(e)===oF},er.isProfiler=function(e){return ul(e)===F5},er.isStrictMode=function(e){return ul(e)===P5},er.isSuspense=function(e){return ul(e)===V5},er.isSuspenseList=function(e){return ul(e)===z5},er.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===$5||e===F5||e===P5||e===V5||e===z5||e===gIe||"object"==typeof e&&null!==e&&(e.$$typeof===H5||e.$$typeof===U5||e.$$typeof===L5||e.$$typeof===N5||e.$$typeof===B5||e.$$typeof===soe||void 0!==e.getModuleId)},er.typeOf=ul,ooe.exports=er;var ta=ooe.exports;const vIe=Be(ta);var ca=function(){return ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ca.apply(this,arguments)};function u0(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Rr="-ms-",Vy="-moz-",Nn="-webkit-",loe="comm",W5="rule",sF="decl",yIe="@import",uoe="@keyframes",bIe="@layer",coe=Math.abs,lF=String.fromCharCode,GO=Object.assign;function xIe(e,t){return 45^sa(e,0)?(((t<<2^sa(e,0))<<2^sa(e,1))<<2^sa(e,2))<<2^sa(e,3):0}function doe(e){return e.trim()}function Sc(e,t){return(e=t.exec(e))?e[0]:e}function Yt(e,t,n){return e.replace(t,n)}function uS(e,t,n){return e.indexOf(t,n)}function sa(e,t){return 0|e.charCodeAt(t)}function c0(e,t,n){return e.slice(t,n)}function lu(e){return e.length}function foe(e){return e.length}function vy(e,t){return t.push(e),e}function wIe(e,t){return e.map(t).join("")}function oz(e,t){return e.filter((function(e){return!Sc(e,t)}))}var G5=1,d0=1,hoe=0,el=0,Ii=0,n1="";function Y5(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:G5,column:d0,length:a,return:"",siblings:s}}function Gd(e,t){return GO(Y5("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ym(e){for(;e.root;)e=Gd(e.root,{children:[e]});vy(e,e.siblings)}function CIe(){return Ii}function SIe(){return Ii=el>0?sa(n1,--el):0,d0--,10===Ii&&(d0=1,G5--),Ii}function Rl(){return Ii=el<hoe?sa(n1,el++):0,d0++,10===Ii&&(d0=1,G5++),Ii}function Xh(){return sa(n1,el)}function cS(){return el}function q5(e,t){return c0(n1,e,t)}function YO(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EIe(e){return G5=d0=1,hoe=lu(n1=e),el=0,[]}function _Ie(e){return n1="",e}function Uj(e){return doe(q5(el-1,qO(91===e?e+2:40===e?e+1:e)))}function kIe(e){for(;(Ii=Xh())&&Ii<33;)Rl();return YO(e)>2||YO(Ii)>3?"":" "}function TIe(e,t){for(;--t&&Rl()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return q5(e,cS()+(t<6&&32==Xh()&&32==Rl()))}function qO(e){for(;Rl();)switch(Ii){case e:return el;case 34:case 39:34!==e&&39!==e&&qO(Ii);break;case 40:41===e&&qO(e);break;case 92:Rl()}return el}function AIe(e,t){for(;Rl()&&e+Ii!==57&&(e+Ii!==84||47!==Xh()););return"/*"+q5(t,el-1)+"*"+lF(47===e?e:Rl())}function jIe(e){for(;!YO(Xh());)Rl();return q5(e,el)}function IIe(e){return _Ie(dS("",null,null,null,[""],e=EIe(e),0,[0],e))}function dS(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,d=a,f=0,p=0,h=0,m=1,g=1,y=1,v=0,b="",x=i,w=o,C=r,k=b;g;)switch(h=v,v=Rl()){case 40:if(108!=h&&58==sa(k,d-1)){-1!=uS(k+=Yt(Uj(v),"&","&\f"),"&\f",coe(u?s[u-1]:0))&&(y=-1);break}case 34:case 39:case 91:k+=Uj(v);break;case 9:case 10:case 13:case 32:k+=kIe(h);break;case 92:k+=TIe(cS()-1,7);continue;case 47:switch(Xh()){case 42:case 47:vy(DIe(AIe(Rl(),cS()),t,n,l),l);break;default:k+="/"}break;case 123*m:s[u++]=lu(k)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:-1==y&&(k=Yt(k,/\f/g,"")),p>0&&lu(k)-d&&vy(p>32?lz(k+";",r,n,d-1,l):lz(Yt(k," ","")+";",r,n,d-2,l),l);break;case 59:k+=";";default:if(vy(C=sz(k,t,n,u,c,i,s,b,x=[],w=[],d,o),o),123===v)if(0===c)dS(k,t,C,C,x,o,d,s,w);else switch(99===f&&110===sa(k,3)?100:f){case 100:case 108:case 109:case 115:dS(e,C,C,r&&vy(sz(e,C,C,0,0,i,s,b,i,x=[],d,w),w),i,w,d,s,r?x:w);break;default:dS(k,C,C,C,[""],w,0,s,w)}}u=c=p=0,m=y=1,b=k="",d=a;break;case 58:d=1+lu(k),p=h;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==SIe())continue;switch(k+=lF(v),v*m){case 38:y=c>0?1:(k+="\f",-1);break;case 44:s[u++]=(lu(k)-1)*y,y=1;break;case 64:45===Xh()&&(k+=Uj(Rl())),f=Xh(),c=d=lu(b=k+=jIe(cS())),v++;break;case 45:45===h&&2==lu(k)&&(m=0)}}return o}function sz(e,t,n,r,i,o,a,s,l,u,c,d){for(var f=i-1,p=0===i?o:[""],h=foe(p),m=0,g=0,y=0;m<r;++m)for(var v=0,b=c0(e,f+1,f=coe(g=a[m])),x=e;v<h;++v)(x=doe(g>0?p[v]+" "+b:Yt(b,/&\f/g,p[v])))&&(l[y++]=x);return Y5(e,t,n,0===i?W5:s,l,u,c,d)}function DIe(e,t,n,r){return Y5(e,t,n,loe,lF(CIe()),c0(e,2,-2),0,r)}function lz(e,t,n,r,i){return Y5(e,t,n,sF,c0(e,0,r),c0(e,r+1,-1),r,i)}function poe(e,t,n){switch(xIe(e,t)){case 5103:return Nn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nn+e+e;case 4789:return Vy+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Nn+e+Vy+e+Rr+e+e;case 5936:switch(sa(e,t+11)){case 114:return Nn+e+Rr+Yt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Nn+e+Rr+Yt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Nn+e+Rr+Yt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Nn+e+Rr+e+e;case 6165:return Nn+e+Rr+"flex-"+e+e;case 5187:return Nn+e+Yt(e,/(\w+).+(:[^]+)/,Nn+"box-$1$2"+Rr+"flex-$1$2")+e;case 5443:return Nn+e+Rr+"flex-item-"+Yt(e,/flex-|-self/g,"")+(Sc(e,/flex-|baseline/)?"":Rr+"grid-row-"+Yt(e,/flex-|-self/g,""))+e;case 4675:return Nn+e+Rr+"flex-line-pack"+Yt(e,/align-content|flex-|-self/g,"")+e;case 5548:return Nn+e+Rr+Yt(e,"shrink","negative")+e;case 5292:return Nn+e+Rr+Yt(e,"basis","preferred-size")+e;case 6060:return Nn+"box-"+Yt(e,"-grow","")+Nn+e+Rr+Yt(e,"grow","positive")+e;case 4554:return Nn+Yt(e,/([^-])(transform)/g,"$1"+Nn+"$2")+e;case 6187:return Yt(Yt(Yt(e,/(zoom-|grab)/,Nn+"$1"),/(image-set)/,Nn+"$1"),e,"")+e;case 5495:case 3959:return Yt(e,/(image-set\([^]*)/,Nn+"$1$`$1");case 4968:return Yt(Yt(e,/(.+:)(flex-)?(.*)/,Nn+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nn+e+e;case 4200:if(!Sc(e,/flex-|baseline/))return Rr+"grid-column-align"+c0(e,t)+e;break;case 2592:case 3360:return Rr+Yt(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Sc(e.props,/grid-\w+-end/)}))?~uS(e+(n=n[t].value),"span",0)?e:Rr+Yt(e,"-start","")+e+Rr+"grid-row-span:"+(~uS(n,"span",0)?Sc(n,/\d+/):+Sc(n,/\d+/)-+Sc(e,/\d+/))+";":Rr+Yt(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Sc(e.props,/grid-\w+-start/)}))?e:Rr+Yt(Yt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Yt(e,/(.+)-inline(.+)/,Nn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lu(e)-1-t>6)switch(sa(e,t+1)){case 109:if(45!==sa(e,t+4))break;case 102:return Yt(e,/(.+:)(.+)-([^]+)/,"$1"+Nn+"$2-$3$1"+Vy+(108==sa(e,t+3)?"$3":"$2-$3"))+e;case 115:return~uS(e,"stretch",0)?poe(Yt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Yt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,a,s){return Rr+n+":"+r+s+(i?Rr+n+"-span:"+(o?a:+a-+r)+s:"")+e}));case 4949:if(121===sa(e,t+6))return Yt(e,":",":"+Nn)+e;break;case 6444:switch(sa(e,45===sa(e,14)?18:11)){case 120:return Yt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Nn+(45===sa(e,14)?"inline-":"")+"box$3$1"+Nn+"$2$3$1"+Rr+"$2box$3")+e;case 100:return Yt(e,":",":"+Rr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Yt(e,"scroll-","scroll-snap-")+e}return e}function cE(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function OIe(e,t,n,r){switch(e.type){case bIe:if(e.children.length)break;case yIe:case sF:return e.return=e.return||e.value;case loe:return"";case uoe:return e.return=e.value+"{"+cE(e.children,r)+"}";case W5:if(!lu(e.value=e.props.join(",")))return""}return lu(n=cE(e.children,r))?e.return=e.value+"{"+n+"}":""}function RIe(e){var t=foe(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function MIe(e){return function(t){t.root||(t=t.return)&&e(t)}}function $Ie(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case sF:return void(e.return=poe(e.value,e.length,n));case uoe:return cE([Gd(e,{value:Yt(e.value,"@","@"+Nn)})],r);case W5:if(e.length)return wIe(n=e.props,(function(t){switch(Sc(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ym(Gd(e,{props:[Yt(t,/:(read-\w+)/,":"+Vy+"$1")]})),Ym(Gd(e,{props:[t]})),GO(e,{props:oz(n,r)});break;case"::placeholder":Ym(Gd(e,{props:[Yt(t,/:(plac\w+)/,":"+Nn+"input-$1")]})),Ym(Gd(e,{props:[Yt(t,/:(plac\w+)/,":"+Vy+"$1")]})),Ym(Gd(e,{props:[Yt(t,/:(plac\w+)/,Rr+"input-$1")]})),Ym(Gd(e,{props:[t]})),GO(e,{props:oz(n,r)})}return""}))}}var PIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qo={},f0=typeof process<"u"&&void 0!==Qo&&(Qo.REACT_APP_SC_ATTR||Qo.SC_ATTR)||"data-styled",moe="active",goe="data-styled-version",K5="6.1.13",uF="/*!sc*/\n",dE=typeof window<"u"&&"HTMLElement"in window,FIe=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==Qo&&void 0!==Qo.REACT_APP_SC_DISABLE_SPEEDY&&""!==Qo.REACT_APP_SC_DISABLE_SPEEDY?"false"!==Qo.REACT_APP_SC_DISABLE_SPEEDY&&Qo.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&void 0!==Qo&&void 0!==Qo.SC_DISABLE_SPEEDY&&""!==Qo.SC_DISABLE_SPEEDY&&"false"!==Qo.SC_DISABLE_SPEEDY&&Qo.SC_DISABLE_SPEEDY),LIe={},Z5=Object.freeze([]),h0=Object.freeze({});function voe(e,t,n){return void 0===n&&(n=h0),e.theme!==n.theme&&e.theme||t||n.theme}var yoe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),NIe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BIe=/(^-|-$)/g;function uz(e){return e.replace(NIe,"-").replace(BIe,"")}var VIe=/(a)(d)/gi,fC=52,cz=function(e){return String.fromCharCode(e+(e>25?39:97))};function KO(e){var t,n="";for(t=Math.abs(e);t>fC;t=t/fC|0)n=cz(t%fC)+n;return(cz(t%fC)+n).replace(VIe,"$1-$2")}var Hj,boe=5381,kg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},xoe=function(e){return kg(boe,e)};function cF(e){return KO(xoe(e)>>>0)}function zIe(e){return e.displayName||e.name||"Component"}function Wj(e){return"string"==typeof e&&!0}var woe="function"==typeof Symbol&&Symbol.for,Coe=woe?Symbol.for("react.memo"):60115,UIe=woe?Symbol.for("react.forward_ref"):60112,HIe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WIe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Soe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GIe=((Hj={})[UIe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hj[Coe]=Soe,Hj);function dz(e){return("type"in(t=e)&&t.type.$$typeof)===Coe?Soe:"$$typeof"in e?GIe[e.$$typeof]:HIe;var t}var YIe=Object.defineProperty,qIe=Object.getOwnPropertyNames,fz=Object.getOwnPropertySymbols,KIe=Object.getOwnPropertyDescriptor,ZIe=Object.getPrototypeOf,hz=Object.prototype;function Eoe(e,t,n){if("string"!=typeof t){if(hz){var r=ZIe(t);r&&r!==hz&&Eoe(e,r,n)}var i=qIe(t);fz&&(i=i.concat(fz(t)));for(var o=dz(e),a=dz(t),s=0;s<i.length;++s){var l=i[s];if(!(l in WIe||n&&n[l]||a&&l in a||o&&l in o)){var u=KIe(t,l);try{YIe(e,l,u)}catch{}}}}return e}function xp(e){return"function"==typeof e}function dF(e){return"object"==typeof e&&"styledComponentId"in e}function zh(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function fE(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function mb(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ZO(e,t,n){if(void 0===n&&(n=!1),!n&&!mb(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=ZO(e[r],t[r]);else if(mb(t))for(var r in t)e[r]=ZO(e[r],t[r]);return e}function fF(e,t){Object.defineProperty(e,"toString",{value:t})}function jf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var XIe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw jf(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(uF);return t},e}(),fS=new Map,hE=new Map,hS=1,hC=function(e){if(fS.has(e))return fS.get(e);for(;hE.has(hS);)hS++;var t=hS++;return fS.set(e,t),hE.set(t,e),t},JIe=function(e,t){hS=t+1,fS.set(e,t),hE.set(t,e)},QIe="style[".concat(f0,"][").concat(goe,'="').concat(K5,'"]'),eDe=new RegExp("^".concat(f0,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tDe=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},nDe=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(uF),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(eDe);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(JIe(c,u),tDe(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(s)}}},pz=function(e){for(var t=document.querySelectorAll(QIe),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(f0)!==moe&&(nDe(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function rDe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _oe=function(e){var t,n,r=document.head,i=e||r,o=document.createElement("style"),a=(t=i,(n=Array.from(t.querySelectorAll("style[".concat(f0,"]"))))[n.length-1]),s=void 0!==a?a.nextSibling:null;o.setAttribute(f0,moe),o.setAttribute(goe,K5);var l=rDe();return l&&o.setAttribute("nonce",l),i.insertBefore(o,s),o},iDe=function(){function e(e){this.element=_oe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw jf(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),aDe=function(){function e(e){this.element=_oe(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),oDe=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),mz=dE,sDe={isServer:!dE,useCSSOMInjection:!FIe},pE=function(){function e(e,t,n){void 0===e&&(e=h0),void 0===t&&(t={});var r=this;this.options=ca(ca({},sDe),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&dE&&mz&&(mz=!1,pz(this)),fF(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i,o=(i=n,hE.get(i));if(void 0===o)return"continue";var a=e.names.get(o),s=t.getGroup(n);if(void 0===a||!a.size||0===s.length)return"continue";var l="".concat(f0,".g").concat(n,'[id="').concat(o,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(s).concat(l,'{content:"').concat(u,'"}').concat(uF)},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return hC(e)},e.prototype.rehydrate=function(){!this.server&&dE&&pz(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ca(ca({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,r=e.isServer?new oDe(n):t?new iDe(n):new aDe(n),new XIe(r)));var e,t,n,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(hC(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(hC(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(hC(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),lDe=/&/g,uDe=/^\s*\/\/.*$/gm;function koe(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=koe(e.children,t)),e}))}function cDe(e){var t,n,r,i=h0,o=i.options,a=void 0===o?h0:o,s=i.plugins,l=void 0===s?Z5:s,u=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===W5&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(lDe,n).replace(r,u))})),a.prefix&&c.push($Ie),c.push(OIe);var d=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(uDe,""),u=IIe(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);a.namespace&&(u=koe(u,a.namespace));var d=[];return cE(u,RIe(c.concat(MIe((function(e){return d.push(e)}))))),d};return d.hash=l.length?l.reduce((function(e,t){return t.name||jf(15),kg(e,t.name)}),boe).toString():"",d}var dDe=new pE,XO=cDe(),Toe=Ke.createContext({shouldForwardProp:void 0,styleSheet:dDe,stylis:XO});function JO(){return f.useContext(Toe)}Toe.Consumer,Ke.createContext(void 0);var Aoe=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=XO);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,fF(this,(function(){throw jf(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=XO),this.name+e.hash},e}(),fDe=function(e){return e>="A"&&e<="Z"};function gz(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;fDe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var joe=function(e){return null==e||!1===e||""===e},Ioe=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!joe(o)&&(Array.isArray(o)&&o.isCss||xp(o)?r.push("".concat(gz(i),":"),o,";"):mb(o)?r.push.apply(r,u0(u0(["".concat(i," {")],Ioe(o),!1),["}"],!1)):r.push("".concat(gz(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in PIe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function _f(e,t,n,r){return joe(e)?[]:dF(e)?[".".concat(e.styledComponentId)]:xp(e)?!xp(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:_f(e(t),t,n,r):e instanceof Aoe?n?(e.inject(n,r),[e.getName(r)]):[e]:mb(e)?Ioe(e):Array.isArray(e)?Array.prototype.concat.apply(Z5,e.map((function(e){return _f(e,t,n,r)}))):[e.toString()];var i}function Doe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(xp(n)&&!dF(n))return!1}return!0}var hDe=xoe(K5),pDe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Doe(e),this.componentId=t,this.baseHash=kg(hDe,t),this.baseStyle=n,pE.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=zh(r,this.staticRulesId);else{var i=fE(_f(this.rules,e,t,n)),o=KO(kg(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=zh(r,o),this.staticRulesId=o}else{for(var s=kg(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var d=fE(_f(c,e,t,n));s=kg(s,d+u),l+=d}}if(l){var f=KO(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,n(l,".".concat(f),void 0,this.componentId)),r=zh(r,f)}}return r},e}(),p0=Ke.createContext(void 0);function Ooe(){var e=f.useContext(p0);if(!e)throw jf(18);return e}function mDe(e){var t=Ke.useContext(p0),n=f.useMemo((function(){return function(e,t){if(!e)throw jf(14);if(xp(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw jf(8);return t?ca(ca({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?Ke.createElement(p0.Provider,{value:n},e.children):null}p0.Consumer;var Gj={};function gDe(e,t,n){var r,i=dF(e),o=e,a=!Wj(e),s=t.attrs,l=void 0===s?Z5:s,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":uz(e);Gj[n]=(Gj[n]||0)+1;var r="".concat(n,"-").concat(cF(K5+n+Gj[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,d=t.displayName,p=void 0===d?Wj(r=e)?"styled.".concat(r):"Styled(".concat(zIe(r),")"):d,h=t.displayName&&t.componentId?"".concat(uz(t.displayName),"-").concat(t.componentId):t.componentId||c,m=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,g=t.shouldForwardProp;if(i&&o.shouldForwardProp){var y=o.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;g=function(e,t){return y(e,t)&&v(e,t)}}else g=y}var b=new pDe(n,h,i?o.componentStyle:void 0);function x(e,t){return function(e,t,n){var r=e.attrs,i=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,s=e.styledComponentId,l=e.target,u=Ke.useContext(p0),c=JO(),d=e.shouldForwardProp||c.shouldForwardProp,p=voe(t,u,o)||h0,h=function(e,t,n){for(var r,i=ca(ca({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var a=xp(r=e[o])?r(i):r;for(var s in a)i[s]="className"===s?zh(i[s],a[s]):"style"===s?ca(ca({},i[s]),a[s]):a[s]}return t.className&&(i.className=zh(i.className,t.className)),i}(r,t,p),m=h.as||l,g={};for(var y in h)void 0===h[y]||"$"===y[0]||"as"===y||"theme"===y&&h.theme===p||("forwardedAs"===y?g.as=h.forwardedAs:d&&!d(y,m)||(g[y]=h[y]));var v,b,x,w=(v=i,b=h,x=JO(),v.generateAndInjectStyles(b,x.styleSheet,x.stylis)),C=zh(a,s);return w&&(C+=" "+w),h.className&&(C+=" "+h.className),g[Wj(m)&&!yoe.has(m)?"class":"className"]=C,g.ref=n,f.createElement(m,g)}(w,e,t)}x.displayName=p;var w=Ke.forwardRef(x);return w.attrs=m,w.componentStyle=b,w.displayName=p,w.shouldForwardProp=g,w.foldedComponentIds=i?zh(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=h,w.target=i?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)ZO(e,i[r],!0);return e}({},o.defaultProps,e):e}}),fF(w,(function(){return".".concat(w.styledComponentId)})),a&&Eoe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function vz(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var yz=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(xp(e)||mb(e))return yz(_f(vz(Z5,u0([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?_f(r):yz(_f(vz(r,t)))}function QO(e,t,n){if(void 0===n&&(n=h0),!t)throw jf(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,de.apply(void 0,u0([r],i,!1)))};return r.attrs=function(r){return QO(e,t,ca(ca({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return QO(e,t,ca(ca({},n),r))},r}var Roe=function(e){return QO(gDe,e)},$=Roe;yoe.forEach((function(e){$[e]=Roe(e)}));var vDe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Doe(e),pE.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(fE(_f(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&pE.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function yDe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,u0([e],t,!1)),i="sc-global-".concat(cF(JSON.stringify(r))),o=new vDe(r,i),a=function(e){var t=JO(),n=Ke.useContext(p0),r=Ke.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&s(r,e,t.styleSheet,n,t.stylis),Ke.useLayoutEffect((function(){if(!t.styleSheet.server)return s(r,e,t.styleSheet,n,t.stylis),function(){return o.removeStyles(r,t.styleSheet)}}),[r,e,t.styleSheet,n,t.stylis]),null};function s(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,LIe,n,i);else{var s=ca(ca({},t),{theme:voe(t,r,a.defaultProps)});o.renderStyles(e,s,n,i)}}return Ke.memo(a)}function Hf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=fE(de.apply(void 0,u0([e],t,!1))),i=cF(r);return new Aoe(i,r)}const Zc=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Zc.displayName="ForwardRef(AccessDeniedIcon)";const Moe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Moe.displayName="ForwardRef(ActivityIcon)";const mE=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));mE.displayName="ForwardRef(AddCircleIcon)";const X5=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));X5.displayName="ForwardRef(AddCommentIcon)";const $oe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V12M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5M6.5 9.5V19.5H11M20 17.5H16.5M16.5 17.5H13M16.5 17.5V14M16.5 17.5V21",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));$oe.displayName="ForwardRef(AddDocumentIcon)";const Qi=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Qi.displayName="ForwardRef(AddIcon)";const Poe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.17857 15.2368C3.10714 15.7632 1.5 16.8158 1.5 20.5H16.5C16.5 16.8158 15.2589 15.943 13.8214 15.2368C12.75 14.7105 10.6071 14.7105 10.6071 13.1316C10.6071 11.5526 11.6786 10.7632 11.6786 8.65789C11.6786 6.55263 10.6071 5.5 9 5.5C7.39285 5.5 6.32142 6.55263 6.32142 8.65789C6.32142 10.7632 7.39286 11.5526 7.39286 13.1316C7.39286 14.7105 5.25 14.7105 4.17857 15.2368Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M19.5 7V14M16 10.5H23",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Poe.displayName="ForwardRef(AddUserIcon)";const Foe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),u.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}));Foe.displayName="ForwardRef(ApiIcon)";const Loe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Loe.displayName="ForwardRef(ArchiveIcon)";const hF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));hF.displayName="ForwardRef(ArrowDownIcon)";const r1=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));r1.displayName="ForwardRef(ArrowLeftIcon)";const pF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));pF.displayName="ForwardRef(ArrowRightIcon)";const Noe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Noe.displayName="ForwardRef(ArrowTopRightIcon)";const Boe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Boe.displayName="ForwardRef(ArrowUpIcon)";const Voe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"asterisk",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Voe.displayName="ForwardRef(AsteriskIcon)";const zoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));zoe.displayName="ForwardRef(BarChartIcon)";const Uoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Uoe.displayName="ForwardRef(BasketIcon)";const Hoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Hoe.displayName="ForwardRef(BellIcon)";const Woe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Woe.displayName="ForwardRef(BillIcon)";const i1=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}));i1.displayName="ForwardRef(BinaryDocumentIcon)";const mF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),u.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}));mF.displayName="ForwardRef(BlockContentIcon)";const gF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));gF.displayName="ForwardRef(BlockElementIcon)";const Goe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Goe.displayName="ForwardRef(BlockquoteIcon)";const vF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}));vF.displayName="ForwardRef(BoldIcon)";const J5=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));J5.displayName="ForwardRef(BoltIcon)";const Yoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Yoe.displayName="ForwardRef(BookIcon)";const qoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));qoe.displayName="ForwardRef(BottleIcon)";const Koe=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),u.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883L9.06122 13.9883L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}));Koe.displayName="ForwardRef(BulbFilledIcon)";const _x=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}));_x.displayName="ForwardRef(BulbOutlineIcon)";const da=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));da.displayName="ForwardRef(CalendarIcon)";const Zoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Zoe.displayName="ForwardRef(CaseIcon)";const Xoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Xoe.displayName="ForwardRef(ChartUpwardIcon)";const Wf=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Wf.displayName="ForwardRef(CheckmarkCircleIcon)";const na=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));na.displayName="ForwardRef(CheckmarkIcon)";const ci=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ci.displayName="ForwardRef(ChevronDownIcon)";const yd=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));yd.displayName="ForwardRef(ChevronLeftIcon)";const Aa=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Aa.displayName="ForwardRef(ChevronRightIcon)";const yF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));yF.displayName="ForwardRef(ChevronUpIcon)";const wp=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));wp.displayName="ForwardRef(CircleIcon)";const Joe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Joe.displayName="ForwardRef(ClipboardIcon)";const Qoe=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Qoe.displayName="ForwardRef(ClipboardImageIcon)";const Q5=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Q5.displayName="ForwardRef(ClockIcon)";const ese=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ese.displayName="ForwardRef(CloseCircleIcon)";const Ar=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ar.displayName="ForwardRef(CloseIcon)";const tse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));tse.displayName="ForwardRef(CodeBlockIcon)";const bF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));bF.displayName="ForwardRef(CodeIcon)";const kx=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));kx.displayName="ForwardRef(CogIcon)";const xF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));xF.displayName="ForwardRef(CollapseIcon)";const nse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));nse.displayName="ForwardRef(ColorWheelIcon)";const ek=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ek.displayName="ForwardRef(CommentIcon)";const rse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));rse.displayName="ForwardRef(ComponentIcon)";const ise=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ise.displayName="ForwardRef(ComposeIcon)";const ase=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"confetti",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25Z",fill:"currentColor"}),u.jsx("path",{d:"M19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z",fill:"currentColor"}),u.jsx("path",{d:"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.066 16.4904C15.3965 17.1598 13.1126 15.9613 10.9647 13.8135C8.81684 11.6656 7.61835 9.38165 8.28782 8.71218M16.066 16.4904C16.7355 15.8209 15.537 13.537 13.3891 11.3891C11.2412 9.2412 8.95729 8.04271 8.28782 8.71218M16.066 16.4904C15.8661 16.6902 15.6277 16.8474 15.3657 16.952L6.99288 20.296C6.26931 20.5849 5.44878 20.4193 4.9038 19.8744C4.35883 19.3294 4.19324 18.5089 4.48221 17.7853L7.82614 9.41242C7.93077 9.15042 8.08793 8.91208 8.28782 8.71218M20 5C20 14 11.5 5.32688 11.5 14.3269",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ase.displayName="ForwardRef(ConfettiIcon)";const tk=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));tk.displayName="ForwardRef(ControlsIcon)";const Ll=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ll.displayName="ForwardRef(CopyIcon)";const ose=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ose.displayName="ForwardRef(CreditCardIcon)";const wF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));wF.displayName="ForwardRef(CropIcon)";const sse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));sse.displayName="ForwardRef(CubeIcon)";const lse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));lse.displayName="ForwardRef(DashboardIcon)";const use=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));use.displayName="ForwardRef(DatabaseIcon)";const CF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));CF.displayName="ForwardRef(DesktopIcon)";const cse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"diamond",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));cse.displayName="ForwardRef(DiamondIcon)";const Nl=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Nl.displayName="ForwardRef(DocumentIcon)";const dse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));dse.displayName="ForwardRef(DocumentPdfIcon)";const fse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));fse.displayName="ForwardRef(DocumentRemoveIcon)";const hse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));hse.displayName="ForwardRef(DocumentSheetIcon)";const pse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));pse.displayName="ForwardRef(DocumentTextIcon)";const mse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));mse.displayName="ForwardRef(DocumentVideoIcon)";const gse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));gse.displayName="ForwardRef(DocumentWordIcon)";const vse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));vse.displayName="ForwardRef(DocumentZipIcon)";const nk=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));nk.displayName="ForwardRef(DocumentsIcon)";const SF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:2.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}));SF.displayName="ForwardRef(DotIcon)";const yse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 8L12.5 12.5L8 8M17 13L12.5 17.5L8 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));yse.displayName="ForwardRef(DoubleChevronDownIcon)";const EF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12 17L7.5 12.5L12 8M17 17L12.5 12.5L17 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));EF.displayName="ForwardRef(DoubleChevronLeftIcon)";const rk=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 8L17.5 12.5L13 17M8 8L12.5 12.5L8 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));rk.displayName="ForwardRef(DoubleChevronRightIcon)";const bse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12L12.5 7.5L17 12M8 17L12.5 12.5L17 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));bse.displayName="ForwardRef(DoubleChevronUpIcon)";const ik=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ik.displayName="ForwardRef(DownloadIcon)";const _F=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),u.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}));_F.displayName="ForwardRef(DragHandleIcon)";const xse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));xse.displayName="ForwardRef(DropIcon)";const Bg=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Bg.displayName="ForwardRef(EarthAmericasIcon)";const wse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));wse.displayName="ForwardRef(EarthGlobeIcon)";const Ou=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ou.displayName="ForwardRef(EditIcon)";const a1=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}));a1.displayName="ForwardRef(EllipsisHorizontalIcon)";const Cse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}));Cse.displayName="ForwardRef(EllipsisVerticalIcon)";const Sse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"empty",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 21V19.1111M8.25 19.8614L9.19445 18.2255M5.13878 16.7501L6.77461 15.8057M4 12.5H5.8889M5.13872 8.2499L6.77455 9.19436M8.25004 5.13876L9.19449 6.7746M12.5 5.88891V4M15.8055 6.77465L16.75 5.1388M18.2254 9.19449L19.8612 8.25004M19.1111 12.5001H21M18.2254 15.8056L19.8612 16.7501M15.8056 18.2255L16.75 19.8614",stroke:"currentColor",strokeWidth:1.2})})}));Sse.displayName="ForwardRef(EmptyIcon)";const Ese=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Ese.displayName="ForwardRef(EnterIcon)";const _se=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));_se.displayName="ForwardRef(EnterRightIcon)";const kse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));kse.displayName="ForwardRef(EnvelopeIcon)";const Tse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}));Tse.displayName="ForwardRef(EqualIcon)";const Ase=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}));Ase.displayName="ForwardRef(ErrorFilledIcon)";const ra=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ra.displayName="ForwardRef(ErrorOutlineIcon)";const kF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));kF.displayName="ForwardRef(ExpandIcon)";const jse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));jse.displayName="ForwardRef(EyeClosedIcon)";const ak=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ak.displayName="ForwardRef(EyeOpenIcon)";const Ise=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}));Ise.displayName="ForwardRef(FilterIcon)";const TF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));TF.displayName="ForwardRef(FolderIcon)";const Dse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Dse.displayName="ForwardRef(GenerateIcon)";const Ose=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),u.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),u.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}));Ose.displayName="ForwardRef(GroqIcon)";const Rse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"hash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z",fill:"currentColor"})})}));Rse.displayName="ForwardRef(HashIcon)";const Mse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Mse.displayName="ForwardRef(HeartFilledIcon)";const $se=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));$se.displayName="ForwardRef(HeartIcon)";const Cp=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Cp.displayName="ForwardRef(HelpCircleIcon)";const Pse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"highlight",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5311 13.7141L8.0245 8.22547M17.5311 13.7141L20.25 9.00478M17.5311 13.7141L16.5 15.5L13.232 16.134L12 18L11.4142 17.6485M8.0245 8.22547L10.75 3.50479M8.0245 8.22547L6.99999 9.99998L7.99998 13L6.99998 15L7.58576 15.3514M7.58576 15.3514L4.90192 20L10.0566 20L11.4142 17.6485M7.58576 15.3514L11.4142 17.6485M13 20H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Pse.displayName="ForwardRef(HighlightIcon)";const Fse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Fse.displayName="ForwardRef(HomeIcon)";const Lse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Lse.displayName="ForwardRef(IceCreamIcon)";const tl=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));tl.displayName="ForwardRef(ImageIcon)";const Nse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Nse.displayName="ForwardRef(ImageRemoveIcon)";const Bse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Bse.displayName="ForwardRef(ImagesIcon)";const Vse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}));Vse.displayName="ForwardRef(InfoFilledIcon)";const bd=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));bd.displayName="ForwardRef(InfoOutlineIcon)";const AF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));AF.displayName="ForwardRef(InlineElementIcon)";const zse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));zse.displayName="ForwardRef(InlineIcon)";const ok=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}));ok.displayName="ForwardRef(InsertAboveIcon)";const sk=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}));sk.displayName="ForwardRef(InsertBelowIcon)";const jF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}));jF.displayName="ForwardRef(ItalicIcon)";const Use=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Use.displayName="ForwardRef(JoystickIcon)";const IF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));IF.displayName="ForwardRef(JsonIcon)";const Nu=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Nu.displayName="ForwardRef(LaunchIcon)";const lk=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));lk.displayName="ForwardRef(LeaveIcon)";const Hse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Hse.displayName="ForwardRef(LemonIcon)";const cs=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));cs.displayName="ForwardRef(LinkIcon)";const DF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));DF.displayName="ForwardRef(LinkRemovedIcon)";const Wse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Wse.displayName="ForwardRef(LockIcon)";const Gse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}));Gse.displayName="ForwardRef(LogoJsIcon)";const Yse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}));Yse.displayName="ForwardRef(LogoTsIcon)";const OF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));OF.displayName="ForwardRef(MasterDetailIcon)";const RF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));RF.displayName="ForwardRef(MenuIcon)";const qse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));qse.displayName="ForwardRef(MobileDeviceIcon)";const MF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));MF.displayName="ForwardRef(MoonIcon)";const $F=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),u.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),u.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),u.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}));$F.displayName="ForwardRef(NumberIcon)";const Kse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Kse.displayName="ForwardRef(OkHandIcon)";const PF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));PF.displayName="ForwardRef(OlistIcon)";const Zse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Zse.displayName="ForwardRef(OverageIcon)";const Xse=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Xse.displayName="ForwardRef(PackageIcon)";const FF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));FF.displayName="ForwardRef(PanelLeftIcon)";const LF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));LF.displayName="ForwardRef(PanelRightIcon)";const Jse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}));Jse.displayName="ForwardRef(PauseIcon)";const Qse=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Qse.displayName="ForwardRef(PinIcon)";const ele=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ele.displayName="ForwardRef(PinRemovedIcon)";const tle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));tle.displayName="ForwardRef(PlayIcon)";const nle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));nle.displayName="ForwardRef(PlugIcon)";const rle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));rle.displayName="ForwardRef(PresentationIcon)";const ile=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-50",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M17 12.5C17 14.9853 14.9853 17 12.5 17V8C14.9853 8 17 10.0147 17 12.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ile.displayName="ForwardRef(Progress50Icon)";const ale=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-75",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 17C14.9853 17 17 14.9853 17 12.5C17 10.0147 14.9853 8 12.5 8V12.5H8C8 14.9853 10.0147 17 12.5 17Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ale.displayName="ForwardRef(Progress75Icon)";const ole=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"projects",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 17.5H14M17.5 14V21M5.5 14.5H10.5V19.5H5.5V14.5ZM14.5 5.5H19.5V10.5H14.5V5.5ZM5.5 5.5H10.5V10.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ole.displayName="ForwardRef(ProjectsIcon)";const Jh=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Jh.displayName="ForwardRef(PublishIcon)";const o1=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));o1.displayName="ForwardRef(ReadOnlyIcon)";const sle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));sle.displayName="ForwardRef(RedoIcon)";const lle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));lle.displayName="ForwardRef(RefreshIcon)";const ule=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ule.displayName="ForwardRef(RemoveCircleIcon)";const NF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));NF.displayName="ForwardRef(RemoveIcon)";const Ru=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}));Ru.displayName="ForwardRef(ResetIcon)";const uk=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));uk.displayName="ForwardRef(RestoreIcon)";const cle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));cle.displayName="ForwardRef(RetrieveIcon)";const dle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));dle.displayName="ForwardRef(RetryIcon)";const ck=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));ck.displayName="ForwardRef(RevertIcon)";const fle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));fle.displayName="ForwardRef(RobotIcon)";const hle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));hle.displayName="ForwardRef(RocketIcon)";const ple=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ple.displayName="ForwardRef(SchemaIcon)";const ea=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ea.displayName="ForwardRef(SearchIcon)";const BF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16 15L12.5 18.5L9 15M9 10L12.5 6.5L16 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));BF.displayName="ForwardRef(SelectIcon)";const mle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));mle.displayName="ForwardRef(ShareIcon)";const m0=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));m0.displayName="ForwardRef(SortIcon)";const gle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));gle.displayName="ForwardRef(SparkleIcon)";const vle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}));vle.displayName="ForwardRef(SparklesIcon)";const s1=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));s1.displayName="ForwardRef(SpinnerIcon)";const yle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));yle.displayName="ForwardRef(SplitHorizontalIcon)";const VF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));VF.displayName="ForwardRef(SplitVerticalIcon)";const ble=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));ble.displayName="ForwardRef(SquareIcon)";const dk=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));dk.displayName="ForwardRef(StackCompactIcon)";const zF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));zF.displayName="ForwardRef(StackIcon)";const xle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"star-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}));xle.displayName="ForwardRef(StarFilledIcon)";const wle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));wle.displayName="ForwardRef(StarIcon)";const Cle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Cle.displayName="ForwardRef(StopIcon)";const UF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),u.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),u.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}));UF.displayName="ForwardRef(StrikethroughIcon)";const Mh=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),u.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}));Mh.displayName="ForwardRef(StringIcon)";const HF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));HF.displayName="ForwardRef(SunIcon)";const rm=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));rm.displayName="ForwardRef(SyncIcon)";const Sle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Sle.displayName="ForwardRef(TabletDeviceIcon)";const Ele=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Ele.displayName="ForwardRef(TagIcon)";const _le=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));_le.displayName="ForwardRef(TagsIcon)";const Tx=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"task",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.88281 10.75V19.75H20.8828V10.75M4.88281 10.75V5.75H20.8828V10.75M4.88281 10.75H12.8828H20.8828M17.8828 8.25V3.25M7.88281 8.25V3.25",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.083 14.7358L12.083 16.7358L15.683 13.1758",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Tx.displayName="ForwardRef(TaskIcon)";const kle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));kle.displayName="ForwardRef(TerminalIcon)";const Tle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Tle.displayName="ForwardRef(TextIcon)";const WF=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));WF.displayName="ForwardRef(ThLargeIcon)";const Ale=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ale.displayName="ForwardRef(ThListIcon)";const jle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));jle.displayName="ForwardRef(TiersIcon)";const Ax=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}));Ax.displayName="ForwardRef(ToggleArrowRightIcon)";const Ile=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ile.displayName="ForwardRef(TokenIcon)";const Dle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Dle.displayName="ForwardRef(TransferIcon)";const Ole=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}));Ole.displayName="ForwardRef(TranslateIcon)";const Br=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Br.displayName="ForwardRef(TrashIcon)";const Rle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Rle.displayName="ForwardRef(TrendUpwardIcon)";const Mle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Mle.displayName="ForwardRef(TriangleOutlineIcon)";const $le=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));$le.displayName="ForwardRef(TrolleyIcon)";const Ple=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ple.displayName="ForwardRef(TruncateIcon)";const Fle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}));Fle.displayName="ForwardRef(TwitterIcon)";const Qh=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Qh.displayName="ForwardRef(UlistIcon)";const Lle=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unarchive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10.5V18M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 10.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));Lle.displayName="ForwardRef(UnarchiveIcon)";const GF=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),u.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));GF.displayName="ForwardRef(UnderlineIcon)";const gb=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));gb.displayName="ForwardRef(UndoIcon)";const Gs=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Gs.displayName="ForwardRef(UnknownIcon)";const Nle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlink",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 13.5L17.5 11C18.281 10.219 18.281 8.78105 17.5 8L17 7.5C16.2189 6.71895 14.781 6.71895 14 7.5L11.5 10M10 11.5L7.5 14C6.71896 14.781 6.71895 16.219 7.5 17L8 17.5C8.78105 18.281 10.2189 18.281 11 17.5L13.5 15M9.5 8V5M8 9.5H5M17 15.5H20M15.5 17V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Nle.displayName="ForwardRef(UnlinkIcon)";const Ble=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ble.displayName="ForwardRef(UnlockIcon)";const vb=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));vb.displayName="ForwardRef(UnpublishIcon)";const jx=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}));jx.displayName="ForwardRef(UploadIcon)";const g0=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));g0.displayName="ForwardRef(UserIcon)";const Ix=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));Ix.displayName="ForwardRef(UsersIcon)";const Vle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}));Vle.displayName="ForwardRef(WarningFilledIcon)";const or=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}));or.displayName="ForwardRef(WarningOutlineIcon)";const zle=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6758 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.9771 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784L12.4535 5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242L5.21498 16.4242L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108L6.06351 19.5108L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L18.5475 11.9318L18.5475 11.9318L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83124 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76897L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.9771 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0986 7.19284 10.7021 9.14217 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76897L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}));zle.displayName="ForwardRef(WrenchIcon)";const bDe={"access-denied":Zc,activity:Moe,"add-circle":mE,"add-comment":X5,"add-document":$oe,add:Qi,"add-user":Poe,api:Foe,archive:Loe,"arrow-down":hF,"arrow-left":r1,"arrow-right":pF,"arrow-top-right":Noe,"arrow-up":Boe,asterisk:Voe,"bar-chart":zoe,basket:Uoe,bell:Hoe,bill:Woe,"binary-document":i1,"block-content":mF,"block-element":gF,blockquote:Goe,bold:vF,bolt:J5,book:Yoe,bottle:qoe,"bulb-filled":Koe,"bulb-outline":_x,calendar:da,case:Zoe,"chart-upward":Xoe,"checkmark-circle":Wf,checkmark:na,"chevron-down":ci,"chevron-left":yd,"chevron-right":Aa,"chevron-up":yF,circle:wp,clipboard:Joe,"clipboard-image":Qoe,clock:Q5,"close-circle":ese,close:Ar,"code-block":tse,code:bF,cog:kx,collapse:xF,"color-wheel":nse,comment:ek,component:rse,compose:ise,confetti:ase,controls:tk,copy:Ll,"credit-card":ose,crop:wF,cube:sse,dashboard:lse,database:use,desktop:CF,diamond:cse,document:Nl,"document-pdf":dse,"document-remove":fse,"document-sheet":hse,"document-text":pse,"document-video":mse,"document-word":gse,"document-zip":vse,documents:nk,dot:SF,"double-chevron-down":yse,"double-chevron-left":EF,"double-chevron-right":rk,"double-chevron-up":bse,download:ik,"drag-handle":_F,drop:xse,"earth-americas":Bg,"earth-globe":wse,edit:Ou,"ellipsis-horizontal":a1,"ellipsis-vertical":Cse,empty:Sse,enter:Ese,"enter-right":_se,envelope:kse,equal:Tse,"error-filled":Ase,"error-outline":ra,expand:kF,"eye-closed":jse,"eye-open":ak,filter:Ise,folder:TF,generate:Dse,groq:Ose,hash:Rse,"heart-filled":Mse,heart:$se,"help-circle":Cp,highlight:Pse,home:Fse,"ice-cream":Lse,image:tl,"image-remove":Nse,images:Bse,"info-filled":Vse,"info-outline":bd,"inline-element":AF,inline:zse,"insert-above":ok,"insert-below":sk,italic:jF,joystick:Use,json:IF,launch:Nu,leave:lk,lemon:Hse,link:cs,"link-removed":DF,lock:Wse,"logo-js":Gse,"logo-ts":Yse,"master-detail":OF,menu:RF,"mobile-device":qse,moon:MF,number:$F,"ok-hand":Kse,olist:PF,overage:Zse,package:Xse,"panel-left":FF,"panel-right":LF,pause:Jse,pin:Qse,"pin-removed":ele,play:tle,plug:nle,presentation:rle,"progress-50":ile,"progress-75":ale,projects:ole,publish:Jh,"read-only":o1,redo:sle,refresh:lle,"remove-circle":ule,remove:NF,reset:Ru,restore:uk,retrieve:cle,retry:dle,revert:ck,robot:fle,rocket:hle,schema:ple,search:ea,select:BF,share:mle,sort:m0,sparkle:gle,sparkles:vle,spinner:s1,"split-horizontal":yle,"split-vertical":VF,square:ble,"stack-compact":dk,stack:zF,"star-filled":xle,star:wle,stop:Cle,strikethrough:UF,string:Mh,sun:HF,sync:rm,"tablet-device":Sle,tag:Ele,tags:_le,task:Tx,terminal:kle,text:Tle,"th-large":WF,"th-list":Ale,tiers:jle,"toggle-arrow-right":Ax,token:Ile,transfer:Dle,translate:Ole,trash:Br,"trend-upward":Rle,"triangle-outline":Mle,trolley:$le,truncate:Ple,twitter:Fle,ulist:Qh,unarchive:Lle,underline:GF,undo:gb,unknown:Gs,unlink:Nle,unlock:Ble,unpublish:vb,upload:jx,user:g0,users:Ix,"warning-filled":Vle,"warning-outline":or,wrench:zle},YF=f.forwardRef((function(e,t){const{symbol:n,...r}=e,i=bDe[n];return i?u.jsx(i,{...r,ref:t}):null}));YF.displayName="ForwardRef(Icon)";var xDe=CDe,wDe=Object.prototype.hasOwnProperty;function CDe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)wDe.call(n,r)&&(e[r]=n[r])}return e}var Ule=Hle,qF=Hle.prototype;function Hle(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}qF.space=null,qF.normal={},qF.property={};var bz=xDe,SDe=Ule,EDe=_De;function _De(e){for(var t,n,r=e.length,i=[],o=[],a=-1;++a<r;)t=e[a],i.push(t.property),o.push(t.normal),n=t.space;return new SDe(bz.apply(null,i),bz.apply(null,o),n)}var KF=kDe;function kDe(e){return e.toLowerCase()}var Wle=Gle,cl=Gle.prototype;function Gle(e,t){this.property=e,this.attribute=t}cl.space=null,cl.attribute=null,cl.property=null,cl.boolean=!1,cl.booleanish=!1,cl.overloadedBoolean=!1,cl.number=!1,cl.commaSeparated=!1,cl.spaceSeparated=!1,cl.commaOrSpaceSeparated=!1,cl.mustUseProperty=!1,cl.defined=!1;var Bu={},TDe=0;function im(){return Math.pow(2,++TDe)}Bu.boolean=im(),Bu.booleanish=im(),Bu.overloadedBoolean=im(),Bu.number=im(),Bu.spaceSeparated=im(),Bu.commaSeparated=im(),Bu.commaOrSpaceSeparated=im();var Yle=Wle,xz=Bu,qle=ZF;ZF.prototype=new Yle,ZF.prototype.defined=!0;var Kle=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],ADe=Kle.length;function ZF(e,t,n,r){var i,o=-1;for(wz(this,"space",r),Yle.call(this,e,t);++o<ADe;)wz(this,i=Kle[o],(n&xz[i])===xz[i])}function wz(e,t,n){n&&(e[t]=n)}var Cz=KF,jDe=Ule,IDe=qle,Dx=DDe;function DDe(e){var t,n,r=e.space,i=e.mustUseProperty||[],o=e.attributes||{},a=e.properties,s=e.transform,l={},u={};for(t in a)n=new IDe(t,s(o,t),a[t],r),-1!==i.indexOf(t)&&(n.mustUseProperty=!0),l[t]=n,u[Cz(t)]=t,u[Cz(n.attribute)]=t;return new jDe(l,u,r)}var ODe=Dx,RDe=ODe({space:"xlink",transform:MDe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function MDe(e,t){return"xlink:"+t.slice(5).toLowerCase()}var $De=Dx,PDe=$De({space:"xml",transform:FDe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function FDe(e,t){return"xml:"+t.slice(3).toLowerCase()}var LDe=NDe;function NDe(e,t){return t in e?e[t]:t}var BDe=LDe,Zle=VDe;function VDe(e,t){return BDe(e,t.toLowerCase())}var zDe=Dx,UDe=Zle,HDe=zDe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:UDe,properties:{xmlns:null,xmlnsXLink:null}}),XF=Bu,WDe=Dx,Ao=XF.booleanish,As=XF.number,mh=XF.spaceSeparated,GDe=WDe({transform:YDe,properties:{ariaActiveDescendant:null,ariaAtomic:Ao,ariaAutoComplete:null,ariaBusy:Ao,ariaChecked:Ao,ariaColCount:As,ariaColIndex:As,ariaColSpan:As,ariaControls:mh,ariaCurrent:null,ariaDescribedBy:mh,ariaDetails:null,ariaDisabled:Ao,ariaDropEffect:mh,ariaErrorMessage:null,ariaExpanded:Ao,ariaFlowTo:mh,ariaGrabbed:Ao,ariaHasPopup:null,ariaHidden:Ao,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mh,ariaLevel:As,ariaLive:null,ariaModal:Ao,ariaMultiLine:Ao,ariaMultiSelectable:Ao,ariaOrientation:null,ariaOwns:mh,ariaPlaceholder:null,ariaPosInSet:As,ariaPressed:Ao,ariaReadOnly:Ao,ariaRelevant:null,ariaRequired:Ao,ariaRoleDescription:mh,ariaRowCount:As,ariaRowIndex:As,ariaRowSpan:As,ariaSelected:Ao,ariaSetSize:As,ariaSort:null,ariaValueMax:As,ariaValueMin:As,ariaValueNow:As,ariaValueText:null,role:null}});function YDe(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()}var l1=Bu,qDe=Dx,KDe=Zle,Qt=l1.boolean,ZDe=l1.overloadedBoolean,Sv=l1.booleanish,Or=l1.number,no=l1.spaceSeparated,pC=l1.commaSeparated,XDe=qDe({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:KDe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pC,acceptCharset:no,accessKey:no,action:null,allow:null,allowFullScreen:Qt,allowPaymentRequest:Qt,allowUserMedia:Qt,alt:null,as:null,async:Qt,autoCapitalize:null,autoComplete:no,autoFocus:Qt,autoPlay:Qt,capture:Qt,charSet:null,checked:Qt,cite:null,className:no,cols:Or,colSpan:null,content:null,contentEditable:Sv,controls:Qt,controlsList:no,coords:Or|pC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qt,defer:Qt,dir:null,dirName:null,disabled:Qt,download:ZDe,draggable:Sv,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qt,formTarget:null,headers:no,height:Or,hidden:Qt,high:Or,href:null,hrefLang:null,htmlFor:no,httpEquiv:no,id:null,imageSizes:null,imageSrcSet:pC,inputMode:null,integrity:null,is:null,isMap:Qt,itemId:null,itemProp:no,itemRef:no,itemScope:Qt,itemType:no,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qt,low:Or,manifest:null,max:null,maxLength:Or,media:null,method:null,min:null,minLength:Or,multiple:Qt,muted:Qt,name:null,nonce:null,noModule:Qt,noValidate:Qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qt,optimum:Or,pattern:null,ping:no,placeholder:null,playsInline:Qt,poster:null,preload:null,readOnly:Qt,referrerPolicy:null,rel:no,required:Qt,reversed:Qt,rows:Or,rowSpan:Or,sandbox:no,scope:null,scoped:Qt,seamless:Qt,selected:Qt,shape:null,size:Or,sizes:null,slot:null,span:Or,spellCheck:Sv,src:null,srcDoc:null,srcLang:null,srcSet:pC,start:Or,step:null,style:null,tabIndex:Or,target:null,title:null,translate:null,type:null,typeMustMatch:Qt,useMap:null,value:Sv,width:Or,wrap:null,align:null,aLink:null,archive:no,axis:null,background:null,bgColor:null,border:Or,borderColor:null,bottomMargin:Or,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qt,declare:Qt,event:null,face:null,frame:null,frameBorder:null,hSpace:Or,leftMargin:Or,link:null,longDesc:null,lowSrc:null,marginHeight:Or,marginWidth:Or,noResize:Qt,noHref:Qt,noShade:Qt,noWrap:Qt,object:null,profile:null,prompt:null,rev:null,rightMargin:Or,rules:null,scheme:null,scrolling:Sv,standby:null,summary:null,text:null,topMargin:Or,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Or,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qt,disableRemotePlayback:Qt,prefix:null,property:null,results:Or,security:null,unselectable:null}}),JDe=EDe,QDe=RDe,e3e=PDe,t3e=HDe,n3e=GDe,r3e=XDe,i3e=JDe([e3e,QDe,t3e,n3e,r3e]),a3e=KF,o3e=qle,s3e=Wle,JF="data",l3e=d3e,u3e=/^data[-\w.:]+$/i,Xle=/-[a-z]/g,c3e=/[A-Z]/g;function d3e(e,t){var n=a3e(t),r=t,i=s3e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===JF&&u3e.test(t)&&("-"===t.charAt(4)?r=f3e(t):t=h3e(t),i=o3e),new i(r,t))}function f3e(e){var t=e.slice(5).replace(Xle,m3e);return JF+t.charAt(0).toUpperCase()+t.slice(1)}function h3e(e){var t=e.slice(4);return Xle.test(t)?e:("-"!==(t=t.replace(c3e,p3e)).charAt(0)&&(t="-"+t),JF+t)}function p3e(e){return"-"+e.toLowerCase()}function m3e(e){return e.charAt(1).toUpperCase()}var g3e=v3e,Sz=/[#.]/g;function v3e(e,t){for(var n,r,i,o=e||"",a=t||"div",s={},l=0;l<o.length;)Sz.lastIndex=l,i=Sz.exec(o),(n=o.slice(l,i?i.index:o.length))&&(r?"#"===r?s.id=n:s.className?s.className.push(n):s.className=[n]:a=n,l+=n.length),i&&(r=i[0],l++);return{type:"element",tagName:a,properties:s,children:[]}}var QF={};QF.parse=x3e,QF.stringify=w3e;var Ez="",y3e=" ",b3e=/[ \t\n\r\f]+/g;function x3e(e){var t=String(e||Ez).trim();return t===Ez?[]:t.split(b3e)}function w3e(e){return e.join(y3e).trim()}var eL={};eL.parse=C3e,eL.stringify=S3e;var eR=",",_z=" ",yy="";function C3e(e){for(var t,n=[],r=String(e||yy),i=r.indexOf(eR),o=0,a=!1;!a;)-1===i&&(i=r.length,a=!0),((t=r.slice(o,i).trim())||!a)&&n.push(t),o=i+1,i=r.indexOf(eR,o);return n}function S3e(e,t){var n=t||{},r=!1===n.padLeft?yy:_z,i=n.padRight?_z:yy;return e[e.length-1]===yy&&(e=e.concat(yy)),e.join(i+eR+r).trim()}var E3e=l3e,kz=KF,_3e=g3e,Tz=QF.parse,Az=eL.parse,k3e=A3e,T3e={}.hasOwnProperty;function A3e(e,t,n){var r=n?R3e(n):null;return function(e,n){var o,a=_3e(e,t),s=Array.prototype.slice.call(arguments,2),l=a.tagName.toLowerCase();if(a.tagName=r&&T3e.call(r,l)?r[l]:l,n&&j3e(n,a)&&(s.unshift(n),n=null),n)for(o in n)i(a.properties,o,n[o]);return Jle(a.children,s),"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]),a};function i(t,n,r){var i,o,a;null==r||r!=r||(o=(i=E3e(e,n)).property,"string"==typeof(a=r)&&(i.spaceSeparated?a=Tz(a):i.commaSeparated?a=Az(a):i.commaOrSpaceSeparated&&(a=Tz(Az(a).join(" ")))),"style"===o&&"string"!=typeof r&&(a=O3e(a)),"className"===o&&t.className&&(a=t.className.concat(a)),t[o]=D3e(i,o,a))}}function j3e(e,t){return"string"==typeof e||"length"in e||I3e(t.tagName,e)}function I3e(e,t){var n=t.type;return!("input"===e||!n||"string"!=typeof n)&&("object"==typeof t.children&&"length"in t.children||(n=n.toLowerCase(),"button"===e?"menu"!==n&&"submit"!==n&&"reset"!==n&&"button"!==n:"value"in t))}function Jle(e,t){var n,r;if("string"!=typeof t&&"number"!=typeof t)if("object"==typeof t&&"length"in t)for(n=-1,r=t.length;++n<r;)Jle(e,t[n]);else{if("object"!=typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}else e.push({type:"text",value:String(t)})}function D3e(e,t,n){var r,i,o;if("object"!=typeof n||!("length"in n))return jz(e,t,n);for(i=n.length,r=-1,o=[];++r<i;)o[r]=jz(e,t,n[r]);return o}function jz(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&""!==r&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&"string"==typeof r&&(""===r||kz(n)===kz(t))&&(r=!0),r}function O3e(e){var t,n=[];for(t in e)n.push([t,e[t]].join(": "));return n.join("; ")}function R3e(e){for(var t,n=e.length,r=-1,i={};++r<n;)i[(t=e[r]).toLowerCase()]=t;return i}var M3e=i3e,$3e=k3e,Qle=$3e(M3e,"div");Qle.displayName="html";var P3e=Qle,F3e=P3e;const L3e="",N3e="&",B3e="",V3e="",z3e="",U3e="",H3e="",W3e="",G3e="",Y3e="",q3e="",K3e="",Z3e="",X3e="",J3e="",Q3e=">",eOe="",tOe="",nOe="",rOe="",iOe="<",aOe="",oOe="",sOe="",lOe="",uOe="",cOe="",dOe="",fOe='"',hOe="",pOe="",mOe="",gOe="",vOe="",yOe="",bOe="",xOe="",wOe="",COe="",SOe="",EOe="",_Oe="&",kOe="",TOe="",AOe="",jOe="",IOe="",DOe="",OOe="",ROe="",MOe="",$Oe="",POe="",FOe="",LOe="",NOe="",BOe="",VOe="",zOe="",UOe="",HOe="",WOe=">",GOe="",YOe="",qOe="",KOe="",ZOe="",XOe="",JOe="",QOe="<",eRe="",tRe="",nRe="",rRe="",iRe="",aRe="",oRe="",sRe="",lRe="",uRe="",cRe="",dRe="",fRe="",hRe="",pRe="",mRe="",gRe="",vRe='"',yRe="",bRe="",xRe="",wRe="",CRe="",SRe="",ERe="",_Re="",kRe="",TRe="",ARe="",jRe="",IRe="",DRe="",ORe="",RRe="",MRe="",$Re="",PRe={AElig:"",AMP:"&",Aacute:"",Acirc:"",Agrave:"",Aring:"",Atilde:"",Auml:"",COPY:"",Ccedil:"",ETH:"",Eacute:"",Ecirc:"",Egrave:"",Euml:"",GT:">",Iacute:"",Icirc:"",Igrave:"",Iuml:"",LT:"<",Ntilde:"",Oacute:"",Ocirc:"",Ograve:"",Oslash:"",Otilde:"",Ouml:"",QUOT:'"',REG:"",THORN:"",Uacute:"",Ucirc:"",Ugrave:"",Uuml:"",Yacute:"",aacute:"",acirc:"",acute:"",aelig:"",agrave:"",amp:"&",aring:"",atilde:"",auml:"",brvbar:"",ccedil:"",cedil:"",cent:"",copy:"",curren:"",deg:"",divide:"",eacute:"",ecirc:"",egrave:"",eth:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",iacute:"",icirc:"",iexcl:"",igrave:"",iquest:"",iuml:"",laquo:"",lt:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",oacute:"",ocirc:"",ograve:"",ordf:"",ordm:"",oslash:"",otilde:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',raquo:"",reg:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",times:"",uacute:"",ucirc:"",ugrave:"",uml:"",uuml:"",yacute:"",yen:"",yuml:""},FRe={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var eue=LRe;function LRe(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}var NRe=BRe;function BRe(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var VRe=zRe;function zRe(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var URe=VRe,HRe=LRe,WRe=GRe;function GRe(e){return URe(e)||HRe(e)}var mC,YRe=59,qRe=KRe;function KRe(e){var t,n="&"+e+";";return(mC=mC||document.createElement("i")).innerHTML=n,((t=mC.textContent).charCodeAt(t.length-1)!==YRe||"semi"===e)&&t!==n&&t}var Iz=PRe,Dz=FRe,ZRe=LRe,XRe=NRe,tue=WRe,JRe=qRe,QRe=fMe,eMe={}.hasOwnProperty,qm=String.fromCharCode,tMe=Function.prototype,Oz={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},nMe=9,Rz=10,rMe=12,iMe=32,Mz=38,aMe=59,oMe=60,sMe=61,lMe=35,uMe=88,cMe=120,dMe=65533,ug="named",tL="hexadecimal",nL="decimal",rL={};rL[tL]=16,rL[nL]=10;var fk={};fk[ug]=tue,fk[nL]=ZRe,fk[tL]=XRe;var nue=1,rue=2,iue=3,aue=4,oue=5,tR=6,sue=7,Gf={};function fMe(e,t){var n,r,i={};for(r in t||(t={}),Oz)n=t[r],i[r]=n??Oz[r];return(i.position.indent||i.position.start)&&(i.indent=i.position.indent||[],i.position=i.position.start),hMe(e,i)}function hMe(e,t){var n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,y,v,b,x,w=t.additional,C=t.nonTerminated,k=t.text,j=t.reference,S=t.warning,E=t.textContext,_=t.referenceContext,A=t.warningContext,T=t.position,D=t.indent||[],M=e.length,I=0,O=-1,N=T.column||1,P=T.line||1,R="",F=[];for("string"==typeof w&&(w=w.charCodeAt(0)),y=L(),u=S?function(e,t){var n=L();n.column+=t,n.offset+=t,S.call(A,Gf[e],n,e)}:tMe,I--,M++;++I<M;)if(a===Rz&&(N=D[O]||1),(a=e.charCodeAt(I))===Mz){if((l=e.charCodeAt(I+1))===nMe||l===Rz||l===rMe||l===iMe||l===Mz||l===oMe||l!=l||w&&l===w){R+=qm(a),N++;continue}for(p=h=I+1,x=h,l===lMe?(x=++p,(l=e.charCodeAt(x))===uMe||l===cMe?(m=tL,x=++p):m=nL):m=ug,n="",f="",o="",g=fk[m],x--;++x<M&&g(l=e.charCodeAt(x));)o+=qm(l),m===ug&&eMe.call(Iz,o)&&(n=o,f=Iz[o]);(i=e.charCodeAt(x)===aMe)&&(x++,(r=m===ug&&JRe(o))&&(n=o,f=r)),b=1+x-h,!i&&!C||(o?m===ug?(i&&!f?u(oue,1):(n!==o&&(b=1+(x=p+n.length)-p,i=!1),i||(c=n?nue:iue,t.attribute?(l=e.charCodeAt(x))===sMe?(u(c,b),f=null):tue(l)?f=null:u(c,b):u(c,b))),s=f):(i||u(rue,b),pMe(s=parseInt(o,rL[m]))?(u(sue,b),s=qm(dMe)):s in Dz?(u(tR,b),s=Dz[s]):(d="",mMe(s)&&u(tR,b),s>65535&&(d+=qm((s-=65536)>>>10|55296),s=56320|1023&s),s=d+qm(s))):m!==ug&&u(aue,b)),s?($(),y=L(),I=x-1,N+=x-h+1,F.push(s),(v=L()).offset++,j&&j.call(_,s,{start:y,end:v},e.slice(h-1,x)),y=v):(o=e.slice(h-1,x),R+=o,N+=o.length,I=x-1)}else 10===a&&(P++,O++,N=0),a==a?(R+=qm(a),N++):$();return F.join("");function L(){return{line:P,column:N,offset:I+(T.offset||0)}}function $(){R&&(F.push(R),k&&k.call(E,R,{start:y,end:L()}),R="")}}function pMe(e){return e>=55296&&e<=57343||e>1114111}function mMe(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||!(65535&~e)||65534==(65535&e)}Gf[nue]="Named character references must be terminated by a semicolon",Gf[rue]="Numeric character references must be terminated by a semicolon",Gf[iue]="Named character references cannot be empty",Gf[aue]="Numeric character references cannot be empty",Gf[oue]="Named character references must be known",Gf[tR]="Numeric character references cannot be disallowed",Gf[sue]="Numeric character references cannot be outside the permissible Unicode range";var lue={exports:{}};!function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var a in r={},n[o]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return o=i.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=r[e];return r[e]=a,i.languages.DFS(i.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,o){o=o||{};var a=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=i.util.type(l);"Object"!==u||o[a(l)]?"Array"===u&&!o[a(l)]&&(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(t,n,r){var o=i.util.getLanguage(t),a=i.languages[o];i.util.setLanguage(t,o);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var l={element:t,language:o,grammar:a,code:t.textContent};function u(e){l.highlightedCode=e,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),r&&r.call(l.element)}if(i.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(r&&r.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var c=new Worker(i.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else u(i.highlight(l.code,l.grammar,l.language));else u(i.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new l;return u(i,i.head,e),s(e,i,t,i.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(e,t,n,r,l,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var p=n[f];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(d&&d.cause==f+","+h)return;var m=p[h],g=m.inside,y=!!m.lookbehind,v=!!m.greedy,b=m.alias;if(v&&!m.pattern.global){var x=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,x+"g")}for(var w=m.pattern||m,C=r.next,k=l;C!==t.tail&&!(d&&k>=d.reach);k+=C.value.length,C=C.next){var j=C.value;if(t.length>e.length)return;if(!(j instanceof o)){var S,E=1;if(v){if(!(S=a(w,k,e,y))||S.index>=e.length)break;var _=S.index,A=S.index+S[0].length,T=k;for(T+=C.value.length;_>=T;)T+=(C=C.next).value.length;if(k=T-=C.value.length,C.value instanceof o)continue;for(var D=C;D!==t.tail&&(T<A||"string"==typeof D.value);D=D.next)E++,T+=D.value.length;E--,j=e.slice(k,T),S.index-=k}else if(!(S=a(w,0,j,y)))continue;_=S.index;var M=S[0],I=j.slice(0,_),O=j.slice(_+M.length),N=k+j.length;d&&N>d.reach&&(d.reach=N);var P=C.prev;if(I&&(P=u(t,P,I),k+=I.length),c(t,P,E),C=u(t,P,new o(f,g?i.tokenize(M,g):M,b,M)),O&&u(t,C,O),E>1){var R={cause:f+","+h,reach:N};s(e,t,n,C.prev,k,R),d&&R.reach>d.reach&&(d.reach=R.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function c(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener&&(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,a=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),a&&e.close()}),!1)),i;var d=i.util.currentScript();function f(){i.manual||i.highlightAll()}if(d&&(i.filename=d.src,d.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return i}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),typeof Xi<"u"&&(Xi.Prism=t)}(lue);var gMe=lue.exports,vMe=iL;function iL(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var o={};o[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}iL.displayName="markup",iL.aliases=["html","mathml","svg","xml","ssml","atom","rss"];var yMe=aL;function aL(e){!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e)}aL.displayName="css",aL.aliases=[];var bMe=oL;function oL(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}oL.displayName="clike",oL.aliases=[];var uue=sL;function sL(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}sL.displayName="javascript",sL.aliases=["js"];const xMe=Be(uue);var by="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof Xi?Xi:{},wMe=FMe();by.Prism={manual:!0,disableWorkerMessageHandler:!0};var CMe=F3e,SMe=QRe,cue=gMe,EMe=vMe,_Me=yMe,kMe=bMe,TMe=uue;wMe();var lL={}.hasOwnProperty;function due(){}due.prototype=cue;var $i=new due,AMe=$i;function Ox(e){if("function"!=typeof e||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");void 0===$i.languages[e.displayName]&&e($i)}function jMe(e,t){var n,r,i,o,a=$i.languages,s=e;for(n in t&&((s={})[e]=t),s)for(i=(r="string"==typeof(r=s[n])?[r]:r).length,o=-1;++o<i;)a[r[o]]=a[n]}function IMe(e,t){var n,r=cue.highlight;if("string"!=typeof e)throw new Error("Expected `string` for `value`, got `"+e+"`");if("Object"===$i.util.type(t))n=t,t=null;else{if("string"!=typeof t)throw new Error("Expected `string` for `name`, got `"+t+"`");if(!lL.call($i.languages,t))throw new Error("Unknown language: `"+t+"` is not registered");n=$i.languages[t]}return r.call(this,e,n,t)}function DMe(e){if("string"!=typeof e)throw new Error("Expected `string` for `language`, got `"+e+"`");return lL.call($i.languages,e)}function OMe(){var e,t=$i.languages,n=[];for(e in t)lL.call(t,e)&&"object"==typeof t[e]&&n.push(e);return n}function RMe(e,t,n){var r;return"string"==typeof e?{type:"text",value:e}:"Array"===$i.util.type(e)?MMe(e,t):(r={type:e.type,content:$i.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),$i.hooks.run("wrap",r),CMe(r.tag+"."+r.classes.join("."),PMe(r.attributes),r.content))}function MMe(e,t){for(var n,r=[],i=e.length,o=-1;++o<i;)""!==(n=e[o])&&null!=n&&r.push(n);for(o=-1,i=r.length;++o<i;)n=r[o],r[o]=$i.Token.stringify(n,t,r);return r}function $Me(e){return e}function PMe(e){var t;for(t in e)e[t]=SMe(e[t]);return e}function FMe(){var e="Prism"in by,t=e?by.Prism:void 0;return function(){e?by.Prism=t:delete by.Prism,e=void 0,t=void 0}}$i.highlight=IMe,$i.register=Ox,$i.alias=jMe,$i.registered=DMe,$i.listLanguages=OMe,Ox(EMe),Ox(_Me),Ox(kMe),Ox(TMe),$i.util.encode=$Me,$i.Token.stringify=RMe;var fue={},LMe=f;function NMe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return LMe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(hue(n+1)))}return e.value}function hue(e){return function(t,n){return NMe(t,n,e)}}fue.depth=hue;var BMe=pue;function pue(e){if(null==e)return HMe;if("string"==typeof e)return UMe(e);if("object"==typeof e)return"length"in e?zMe(e):VMe(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function VMe(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function zMe(e){for(var t=[],n=-1;++n<e.length;)t[n]=pue(e[n]);return function(){for(var e=-1;++e<t.length;)if(t[e].apply(this,arguments))return!0;return!1}}function UMe(e){return function(t){return!(!t||t.type!==e)}}function HMe(){return!0}var WMe=BMe,GMe=qMe,YMe={}.hasOwnProperty;function qMe(e,t,n){var r=WMe(n||t),i=null==t.cascade||t.cascade;return function e(t,n,o){var a,s,l,u,c;if(!r(t,n,o))return null;if(t.children){for(a=[],s=-1;++s<t.children.length;)(l=e(t.children[s],s,t))&&a.push(l);if(i&&t.children.length&&!a.length)return null}for(c in u={},t)YMe.call(t,c)&&(u[c]="children"===c?a:t[c]);return u}(e,null,null)}var KMe=mue;function mue(e){if(null==e)return QMe;if("string"==typeof e)return JMe(e);if("object"==typeof e)return"length"in e?XMe(e):ZMe(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function ZMe(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function XMe(e){for(var t=[],n=-1;++n<e.length;)t[n]=mue(e[n]);return function(){for(var e=-1;++e<t.length;)if(t[e].apply(this,arguments))return!0;return!1}}function JMe(e){return function(t){return!(!t||t.type!==e)}}function QMe(){return!0}var e$e=t$e;function t$e(e){return e}var n$e=hk,r$e=KMe,i$e=e$e,gue=!0,vue="skip",nR=!1;function hk(e,t,n,r){var i,o;"function"==typeof t&&"function"!=typeof n&&(r=n,n=t,t=null),o=r$e(t),i=r?-1:1,function e(a,s,l){var u,c="object"==typeof a&&null!==a?a:{};return"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,d.displayName="node ("+i$e(c.type+(u?"<"+u+">":""))+")"),d;function d(){var u,c,d=l.concat(a),f=[];if((!t||o(a,s,l[l.length-1]||null))&&(f=a$e(n(a,l)))[0]===nR)return f;if(a.children&&f[0]!==vue)for(c=(r?a.children.length:-1)+i;c>-1&&c<a.children.length;){if((u=e(a.children[c],c,d)())[0]===nR)return u;c="number"==typeof u[1]?u[1]:c+i}return f}}(e,null,[])()}function a$e(e){return null!==e&&"object"==typeof e&&"length"in e?e:"number"==typeof e?[gue,e]:[e]}hk.CONTINUE=gue,hk.SKIP=vue,hk.EXIT=nR;var o$e="function"==typeof WeakMap?Rx:Mx;function Rx(){this.map=new WeakMap}function Mx(){this.keys=[],this.values=[]}Rx.prototype.has=function(e){return this.map.has(e)},Rx.prototype.set=function(e,t){return this.map.set(e,t),this},Rx.prototype.get=function(e){return this.map.get(e)},Rx.prototype.clear=function(){},Mx.prototype.has=function(e){return-1!==this.keys.indexOf(e)},Mx.prototype.set=function(e,t){var n=this.keys.indexOf(e);return-1===n?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this},Mx.prototype.get=function(e){var t=this.keys.indexOf(e);return-1===t?void 0:this.values[t]},Mx.prototype.clear=function(){this.keys=[],this.values=[]};var s$e=GMe,$z=n$e,Yj=o$e;function yue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lineNumber:1};return e.reduce((function(e,n){var r=t.lineNumber;if("text"===n.type){if(-1===n.value.indexOf("\n"))return n.lineStart=r,n.lineEnd=r,e.nodes.push(n),e;for(var i=n.value.split("\n"),o=0;o<i.length;o++){var a=0===o?t.lineNumber:++t.lineNumber;e.nodes.push({type:"text",value:o===i.length-1?i[o]:"".concat(i[o],"\n"),lineStart:a,lineEnd:a})}return e.lineNumber=t.lineNumber,e}if(n.children){var s=yue(n.children,t),l=s.nodes[0],u=s.nodes[s.nodes.length-1];return n.lineStart=l?l.lineStart:r,n.lineEnd=u?u.lineEnd:r,n.children=s.nodes,e.lineNumber=s.lineNumber,e.nodes.push(n),e}return e.nodes.push(n),e}),{nodes:[],lineNumber:t.lineNumber})}function l$e(e,t){var n={type:"root",children:t},r=new Yj,i=new Yj,o=new Yj,a=[];function s(e,t,r){a.push(t),r.forEach((function(t){e.has(t)||(e.set(t,Object.assign({},t,{children:[]})),t!==n&&a.push(t))}));for(var i=r.length;i--;){var o=e.get(r[i]),s=r[i+1],l=e.get(s)||t;-1===o.children.indexOf(l)&&o.children.push(l)}}$z(n,(function(t,n){if(!t.children){if(t.lineStart<e)return void s(r,t,n);if(t.lineStart===e)return void s(i,t,n);t.lineEnd>e&&a.some((function(e){return-1!==n.indexOf(e)}))&&s(o,t,n)}}));var l=s$e(n,(function(e){return-1===a.indexOf(e)})),u=function(e){var t=e.get(n);return t?($z(t,(function(e,t){if(e.children)return e.lineStart=0,void(e.lineEnd=0);t.forEach((function(t){t.lineStart=Math.max(t.lineStart,e.lineStart),t.lineEnd=Math.max(t.lineEnd,e.lineEnd)}))})),t.children):[]},c=[].concat(u(r),u(i),u(o),l?l.children:[]);return r.clear(),i.clear(),o.clear(),c}function u$e(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function c$e(e,t,n){if(0===t.length||0===e.length)return e;for(var r=t.reduce((function(e,t){return l$e(t.line,e)}),e),i=[],o=0,a=0;a<t.length;a++){for(var s=t[a],l=r[o];l&&l.lineEnd<s.line;l=r[++o])i.push(l);for(var u=[],c=r[o];c&&c.lineEnd===s.line;c=r[++o])u.push(c);u.length>0&&i.push(u$e(u,s,n))}for(;o<r.length;)i.push(r[o++]);return i}function d$e(e,t){var n=t.markers.map((function(e){return e.line?e:{line:e}})).sort((function(e,t){return e.line-t.line}));return c$e(yue(e).nodes,n,t)}var f$e=d$e,h$e=f,uL=AMe,p$e=fue,m$e=f$e,Pz=h$e.createElement;function cL(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className||"refractor",t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className||"refractor");var i=uL.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(i=m$e(i,{markers:e.markers}));var o=0===i.length?e.value:i.map(p$e.depth(0)),a=Pz("code",n,o);return e.inline?a:Pz("pre",r,a)}cL.registerLanguage=function(e){return uL.register(e)},cL.hasLanguage=function(e){return uL.registered(e)};var g$e=cL;const Sp=Be(g$e),v$e=["top","right","bottom","left"],v0=Math.min,ep=Math.max,gE=Math.round,gC=Math.floor,_u=e=>({x:e,y:e}),y$e={left:"right",right:"left",bottom:"top",top:"bottom"},b$e={start:"end",end:"start"};function rR(e,t,n){return ep(e,v0(t,n))}function u1(e,t){return"function"==typeof e?e(t):e}function Ep(e){return e.split("-")[0]}function $x(e){return e.split("-")[1]}function bue(e){return"x"===e?"y":"x"}function dL(e){return"y"===e?"height":"width"}function y0(e){return["top","bottom"].includes(Ep(e))?"y":"x"}function fL(e){return bue(y0(e))}function x$e(e,t,n){void 0===n&&(n=!1);const r=$x(e),i=fL(e),o=dL(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=vE(a)),[a,vE(a)]}function w$e(e){const t=vE(e);return[iR(e),t,iR(t)]}function iR(e){return e.replace(/start|end/g,(e=>b$e[e]))}function C$e(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function S$e(e,t,n,r){const i=$x(e);let o=C$e(Ep(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(iR)))),o}function vE(e){return e.replace(/left|right|bottom|top/g,(e=>y$e[e]))}function E$e(e){return{top:0,right:0,bottom:0,left:0,...e}}function xue(e){return"number"!=typeof e?E$e(e):{top:e,right:e,bottom:e,left:e}}function yE(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Fz(e,t,n){let{reference:r,floating:i}=e;const o=y0(t),a=fL(t),s=dL(a),l=Ep(t),u="y"===o,c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch($x(t)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1)}return p}const _$e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Fz(u,r,l),f=r,p={},h=0;for(let n=0;n<s.length;n++){const{name:o,fn:m}=s[n],{x:g,y:y,data:v,reset:b}=await m({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});c=g??c,d=y??d,p={...p,[o]:{...p[o],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:c,y:d}=Fz(u,f,l))),n=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}};async function yb(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=u1(t,e),h=xue(p),m=s[f?"floating"===d?"reference":"floating":d],g=yE(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},x=yE(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-x.top+h.top)/b.y,bottom:(x.bottom-g.bottom+h.bottom)/b.y,left:(g.left-x.left+h.left)/b.x,right:(x.right-g.right+h.right)/b.x}}const k$e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=u1(e,t)||{};if(null==u)return{};const d=xue(c),f={x:n,y:r},p=fL(i),h=dL(p),m=await a.getDimensions(u),g="y"===p,y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=o.reference[h]+o.reference[p]-f[p]-o.floating[h],w=f[p]-o.reference[p],C=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let k=C?C[b]:0;(!k||!await(null==a.isElement?void 0:a.isElement(C)))&&(k=s.floating[b]||o.floating[h]);const j=x/2-w/2,S=k/2-m[h]/2-1,E=v0(d[y],S),_=v0(d[v],S),A=E,T=k-m[h]-_,D=k/2-m[h]/2+j,M=rR(A,D,T),I=!l.arrow&&null!=$x(i)&&D!==M&&o.reference[h]/2-(D<A?E:_)-m[h]/2<0,O=I?D<A?D-A:D-T:0;return{[p]:f[p]+O,data:{[p]:M,centerOffset:D-M-O,...I&&{alignmentOffset:O}},reset:I}}}),T$e=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=u1(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=Ep(i),v=y0(s),b=Ep(s)===s,x=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=f||(b||!m?[vE(s)]:w$e(s)),C="none"!==h;!f&&C&&w.push(...S$e(s,m,h,x));const k=[s,...w],j=await yb(t,g),S=[];let E=(null==(r=o.flip)?void 0:r.overflows)||[];if(c&&S.push(j[y]),d){const e=x$e(i,a,x);S.push(j[e[0]],j[e[1]])}if(E=[...E,{placement:i,overflows:S}],!S.every((e=>e<=0))){var _,A;const e=((null==(_=o.flip)?void 0:_.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(A=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var T;const e=null==(T=E.filter((e=>{if(C){const t=y0(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}};function Lz(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nz(e){return v$e.some((t=>e[t]>=0))}const A$e=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=u1(e,t);switch(r){case"referenceHidden":{const e=Lz(await yb(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Nz(e)}}}case"escaped":{const e=Lz(await yb(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Nz(e)}}}default:return{}}}}};async function j$e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=Ep(n),s=$x(n),l="y"===y0(n),u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=u1(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const I$e=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await j$e(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},D$e=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=u1(e,t),u={x:n,y:r},c=await yb(t,l),d=y0(Ep(i)),f=bue(d);let p=u[f],h=u[d];if(o){const e="y"===f?"bottom":"right";p=rR(p+c["y"===f?"top":"left"],p,p-c[e])}if(a){const e="y"===d?"bottom":"right";h=rR(h+c["y"===d?"top":"left"],h,h-c[e])}const m=s.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:a}}}}}};function pk(){return typeof window<"u"}function c1(e){return wue(e)?(e.nodeName||"").toLowerCase():"#document"}function ls(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Vu(e){var t;return null==(t=(wue(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function wue(e){return!!pk()&&(e instanceof Node||e instanceof ls(e).Node)}function Bl(e){return!!pk()&&(e instanceof Element||e instanceof ls(e).Element)}function Mu(e){return!!pk()&&(e instanceof HTMLElement||e instanceof ls(e).HTMLElement)}function Bz(e){return!(!pk()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof ls(e).ShadowRoot)}function Px(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Vl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function O$e(e){return["table","td","th"].includes(c1(e))}function mk(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch{return!1}}))}function hL(e){const t=pL(),n=Bl(e)?Vl(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function R$e(e){let t=If(e);for(;Mu(t)&&!b0(t);){if(hL(t))return t;if(mk(t))return null;t=If(t)}return null}function pL(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function b0(e){return["html","body","#document"].includes(c1(e))}function Vl(e){return ls(e).getComputedStyle(e)}function gk(e){return Bl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function If(e){if("html"===c1(e))return e;const t=e.assignedSlot||e.parentNode||Bz(e)&&e.host||Vu(e);return Bz(t)?t.host:t}function Cue(e){const t=If(e);return b0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mu(t)&&Px(t)?t:Cue(t)}function bb(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Cue(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=ls(i);if(o){const e=aR(a);return t.concat(a,a.visualViewport||[],Px(i)?i:[],e&&n?bb(e):[])}return t.concat(i,bb(i,[],n))}function aR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sue(e){const t=Vl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mu(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=gE(n)!==o||gE(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function mL(e){return Bl(e)?e:e.contextElement}function Vg(e){const t=mL(e);if(!Mu(t))return _u(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Sue(t);let a=(o?gE(n.width):n.width)/r,s=(o?gE(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const M$e=_u(0);function Eue(e){const t=ls(e);return pL()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:M$e}function $$e(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ls(e))&&t}function _p(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=mL(e);let a=_u(1);t&&(r?Bl(r)&&(a=Vg(r)):a=Vg(e));const s=$$e(o,n,r)?Eue(o):_u(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(o){const e=ls(o),t=r&&Bl(r)?ls(r):r;let n=e,i=aR(n);for(;i&&r&&t!==n;){const e=Vg(i),t=i.getBoundingClientRect(),r=Vl(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=a,n=ls(i),i=aR(n)}}return yE({width:c,height:d,x:l,y:u})}function gL(e,t){const n=gk(e).scrollLeft;return t?t.left+n:_p(Vu(e)).left+n}function _ue(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:gL(e,r)),y:r.top+t.scrollTop}}function P$e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,a=Vu(r),s=!!t&&mk(t.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=_u(1);const c=_u(0),d=Mu(r);if((d||!d&&!o)&&(("body"!==c1(r)||Px(a))&&(l=gk(r)),Mu(r))){const e=_p(r);u=Vg(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const f=!a||d||o?_u(0):_ue(a,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function F$e(e){return Array.from(e.getClientRects())}function L$e(e){const t=Vu(e),n=gk(e),r=e.ownerDocument.body,i=ep(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ep(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+gL(e);const s=-n.scrollTop;return"rtl"===Vl(r).direction&&(a+=ep(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function N$e(e,t){const n=ls(e),r=Vu(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=pL();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function B$e(e,t){const n=_p(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Mu(e)?Vg(e):_u(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}function Vz(e,t,n){let r;if("viewport"===t)r=N$e(e,n);else if("document"===t)r=L$e(Vu(e));else if(Bl(t))r=B$e(t,n);else{const n=Eue(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return yE(r)}function kue(e,t){const n=If(e);return!(n===t||!Bl(n)||b0(n))&&("fixed"===Vl(n).position||kue(n,t))}function V$e(e,t){const n=t.get(e);if(n)return n;let r=bb(e,[],!1).filter((e=>Bl(e)&&"body"!==c1(e))),i=null;const o="fixed"===Vl(e).position;let a=o?If(e):e;for(;Bl(a)&&!b0(a);){const t=Vl(a),n=hL(a);!n&&"fixed"===t.position&&(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Px(a)&&!n&&kue(e,a))?r=r.filter((e=>e!==a)):i=t,a=If(a)}return t.set(e,r),r}function z$e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?mk(t)?[]:V$e(t,this._c):[].concat(n),r],a=o[0],s=o.reduce(((e,n)=>{const r=Vz(t,n,i);return e.top=ep(r.top,e.top),e.right=v0(r.right,e.right),e.bottom=v0(r.bottom,e.bottom),e.left=ep(r.left,e.left),e}),Vz(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function U$e(e){const{width:t,height:n}=Sue(e);return{width:t,height:n}}function H$e(e,t,n){const r=Mu(t),i=Vu(t),o="fixed"===n,a=_p(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=_u(0);if(r||!r&&!o)if(("body"!==c1(t)||Px(i))&&(s=gk(t)),r){const e=_p(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=gL(i));const u=!i||r||o?_u(0):_ue(i,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function qj(e){return"static"===Vl(e).position}function zz(e,t){if(!Mu(e)||"fixed"===Vl(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Vu(e)===n&&(n=n.ownerDocument.body),n}function Tue(e,t){const n=ls(e);if(mk(e))return n;if(!Mu(e)){let t=If(e);for(;t&&!b0(t);){if(Bl(t)&&!qj(t))return t;t=If(t)}return n}let r=zz(e,t);for(;r&&O$e(r)&&qj(r);)r=zz(r,t);return r&&b0(r)&&qj(r)&&!hL(r)?n:r||R$e(e)||n}const W$e=async function(e){const t=this.getOffsetParent||Tue,n=this.getDimensions,r=await n(e.floating);return{reference:H$e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G$e(e){return"rtl"===Vl(e).direction}const Y$e={convertOffsetParentRelativeRectToViewportRelativeRect:P$e,getDocumentElement:Vu,getClippingRect:z$e,getOffsetParent:Tue,getElementRects:W$e,getClientRects:F$e,getDimensions:U$e,getScale:Vg,isElement:Bl,isRTL:G$e};function q$e(e,t){let n,r=null;const i=Vu(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(s||t(),!d||!f)return;const p={rootMargin:-gC(c)+"px "+-gC(i.clientWidth-(u+d))+"px "+-gC(i.clientHeight-(c+f))+"px "+-gC(u)+"px",threshold:ep(0,v0(1,l))||1};let h=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}h=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}function Aue(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=mL(e),c=i||o?[...u?bb(u):[],...bb(t)]:[];c.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=u&&s?q$e(u,n):null;let f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),u&&!l&&p.observe(u),p.observe(t));let h,m=l?_p(e):null;return l&&function t(){const r=_p(e);m&&(r.x!==m.x||r.y!==m.y||r.width!==m.width||r.height!==m.height)&&n(),m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),d?.(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const K$e=yb,Z$e=I$e,X$e=D$e,J$e=T$e,Q$e=A$e,Uz=k$e,ePe=(e,t,n)=>{const r=new Map,i={platform:Y$e,...n},o={...i.platform,_c:r};return _$e(e,t,{...i,platform:o})};var pS=typeof document<"u"?f.useLayoutEffect:f.useEffect;function bE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!bE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||bE(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function jue(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hz(e,t){const n=jue(e);return Math.round(t*n)/n}function Kj(e){const t=f.useRef(e);return pS((()=>{t.current=e})),t}function Iue(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=f.useState(r);bE(p,r)||h(r);const[m,g]=f.useState(null),[y,v]=f.useState(null),b=f.useCallback((e=>{e!==k.current&&(k.current=e,g(e))}),[]),x=f.useCallback((e=>{e!==j.current&&(j.current=e,v(e))}),[]),w=o||m,C=a||y,k=f.useRef(null),j=f.useRef(null),S=f.useRef(c),E=null!=l,_=Kj(l),A=Kj(i),T=Kj(u),D=f.useCallback((()=>{if(!k.current||!j.current)return;const e={placement:t,strategy:n,middleware:p};A.current&&(e.platform=A.current),ePe(k.current,j.current,e).then((e=>{const t={...e,isPositioned:!1!==T.current};M.current&&!bE(S.current,t)&&(S.current=t,Vh.flushSync((()=>{d(t)})))}))}),[p,t,n,A,T]);pS((()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[u]);const M=f.useRef(!1);pS((()=>(M.current=!0,()=>{M.current=!1})),[]),pS((()=>{if(w&&(k.current=w),C&&(j.current=C),w&&C){if(_.current)return _.current(w,C,D);D()}}),[w,C,D,_,E]);const I=f.useMemo((()=>({reference:k,floating:j,setReference:b,setFloating:x})),[b,x]),O=f.useMemo((()=>({reference:w,floating:C})),[w,C]),N=f.useMemo((()=>{const e={position:n,left:0,top:0};if(!O.floating)return e;const t=Hz(O.floating,c.x),r=Hz(O.floating,c.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...jue(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,s,O.floating,c.x,c.y]);return f.useMemo((()=>({...c,update:D,refs:I,elements:O,floatingStyles:N})),[c,D,I,O,N])}const tPe=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?Uz({element:n.current,padding:r}).fn(t):{}:n?Uz({element:n,padding:r}).fn(t):{}}}),Due=(e,t)=>({...Z$e(e),options:[e,t]}),Oue=(e,t)=>({...X$e(e),options:[e,t]}),Rue=(e,t)=>({...J$e(e),options:[e,t]}),nPe=(e,t)=>({...Q$e(e),options:[e,t]}),Mue=(e,t)=>({...tPe(e),options:[e,t]}),$ue=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vk=f.createContext({}),yk=f.createContext(null),bk=typeof document<"u",vL=bk?f.useLayoutEffect:f.useEffect,Pue=f.createContext({strict:!1}),yL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rPe="framerAppearId",Fue="data-"+yL(rPe),Lue={skipAnimations:!1,useManualTiming:!1};class Wz{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function iPe(e){let t=new Wz,n=new Wz,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{const l=s&&i,u=l?t:n;return o&&a.add(e),u.add(e)&&l&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];a.has(r)&&(s.schedule(r),e()),r(l)}i=!1,o&&(o=!1,s.process(l))}}};return s}const vC=["prepare","read","update","preRender","render","postRender"],aPe=40;function Nue(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=vC.reduce(((e,t)=>(e[t]=iPe((()=>n=!0)),e)),{}),a=e=>{o[e].process(i)},s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,vC.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))};return{schedule:vC.reduce(((t,a)=>{const l=o[a];return t[a]=(t,o=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,o,a)),t}),{}),cancel:e=>vC.forEach((t=>o[t].cancel(e))),state:i,steps:o}}const{schedule:bL,cancel:F4n}=Nue(queueMicrotask,!1);function oPe(e,t,n,r){const{visualElement:i}=f.useContext(vk),o=f.useContext(Pue),a=f.useContext(yk),s=f.useContext($ue).reducedMotion,l=f.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:s}));const u=l.current;f.useInsertionEffect((()=>{u&&u.update(n,a)}));const c=f.useRef(!(!n[Fue]||window.HandoffComplete));return vL((()=>{u&&(bL.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())})),f.useEffect((()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))})),u}function Tg(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sPe(e,t,n){return f.useCallback((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Tg(n)&&(n.current=r))}),[t])}function xb(e){return"string"==typeof e||Array.isArray(e)}function xk(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const xL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wL=["initial",...xL];function wk(e){return xk(e.animate)||wL.some((t=>xb(e[t])))}function Bue(e){return!(!wk(e)&&!e.variants)}function lPe(e,t){if(wk(e)){const{initial:t,animate:n}=e;return{initial:!1===t||xb(t)?t:void 0,animate:xb(n)?n:void 0}}return!1!==e.inherit?t:{}}function uPe(e){const{initial:t,animate:n}=lPe(e,f.useContext(vk));return f.useMemo((()=>({initial:t,animate:n})),[Gz(t),Gz(n)])}function Gz(e){return Array.isArray(e)?e.join(" "):e}const Yz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wb={};for(const e in Yz)wb[e]={isEnabled:t=>Yz[e].some((e=>!!t[e]))};function cPe(e){for(const t in e)wb[t]={...wb[t],...e[t]}}const CL=f.createContext({}),Vue=f.createContext({}),dPe=Symbol.for("motionComponentSymbol");function fPe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&cPe(e);const o=f.forwardRef((function(o,a){let s;const l={...f.useContext($ue),...o,layoutId:hPe(o)},{isStatic:u}=l,c=uPe(o),d=r(o,u);if(!u&&bk){c.visualElement=oPe(i,d,l,t);const n=f.useContext(Vue),r=f.useContext(Pue).strict;c.visualElement&&(s=c.visualElement.loadFeatures(l,r,e,n))}return f.createElement(vk.Provider,{value:c},s&&c.visualElement?f.createElement(s,{visualElement:c.visualElement,...l}):null,n(i,o,sPe(d,c.visualElement,a),d,u,c.visualElement))}));return o[dPe]=i,o}function hPe({layoutId:e}){const t=f.useContext(CL).id;return t&&void 0!==e?t+"-"+e:e}function pPe(e){function t(t,n={}){return fPe(e(t,n))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const mPe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SL(e){return"string"==typeof e&&!e.includes("-")&&!!(mPe.indexOf(e)>-1||/[A-Z]/.test(e))}const xE={};function gPe(e){Object.assign(xE,e)}const Fx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],am=new Set(Fx);function zue(e,{layout:t,layoutId:n}){return am.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!xE[e]||"opacity"===e)}const Uo=e=>!(!e||!e.getVelocity),vPe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yPe=Fx.length;function bPe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let t=0;t<yPe;t++){const n=Fx[t];if(void 0!==e[n]){o+=`${vPe[n]||n}(${e[n]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const Uue=e=>t=>"string"==typeof t&&t.startsWith(e),Hue=Uue("--"),xPe=Uue("var(--"),wE=e=>!!xPe(e)&&wPe.test(e.split("/*")[0].trim()),wPe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,CPe=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Df=(e,t,n)=>n>t?t:n<e?e:n,d1={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},zy={...d1,transform:e=>Df(0,1,e)},yC={...d1,default:1},Uy=e=>Math.round(1e5*e)/1e5,EL=/(-)?([\d]*\.?[\d])+/g,SPe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,EPe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lx(e){return"string"==typeof e}const Nx=e=>({test:t=>Lx(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Yd=Nx("deg"),ku=Nx("%"),Ct=Nx("px"),_Pe=Nx("vh"),kPe=Nx("vw"),qz={...ku,parse:e=>ku.parse(e)/100,transform:e=>ku.transform(100*e)},Kz={...d1,transform:Math.round},Wue={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,size:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,rotate:Yd,rotateX:Yd,rotateY:Yd,rotateZ:Yd,scale:yC,scaleX:yC,scaleY:yC,scaleZ:yC,skew:Yd,skewX:Yd,skewY:Yd,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:zy,originX:qz,originY:qz,originZ:Ct,zIndex:Kz,fillOpacity:zy,strokeOpacity:zy,numOctaves:Kz};function _L(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,u=!1,c=!0;for(const e in t){const n=t[e];if(Hue(e)){o[e]=n;continue}const r=Wue[e],d=CPe(n,r);if(am.has(e)){if(l=!0,a[e]=d,!c)continue;n!==(r.default||0)&&(c=!1)}else e.startsWith("origin")?(u=!0,s[e]=d):i[e]=d}if(t.transform||(l||r?i.transform=bPe(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}const kL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gue(e,t,n){for(const r in t)!Uo(t[r])&&!zue(r,n)&&(e[r]=t[r])}function TPe({transformTemplate:e},t,n){return f.useMemo((()=>{const r=kL();return _L(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)}),[t])}function APe(e,t,n){const r={};return Gue(r,e.style||{},e),Object.assign(r,TPe(e,t,n)),r}function jPe(e,t,n){const r={},i=APe(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const IPe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function CE(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||IPe.has(e)}let Yue=e=>!CE(e);function DPe(e){e&&(Yue=t=>t.startsWith("on")?!CE(t):e(t))}try{DPe(require("@emotion/is-prop-valid").default)}catch{}function OPe(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Yue(i)||!0===n&&CE(i)||!t&&!CE(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Zz(e,t,n){return"string"==typeof e?e:Ct.transform(t+n*e)}function RPe(e,t,n){return`${Zz(t,e.x,e.width)} ${Zz(n,e.y,e.height)}`}const MPe={offset:"stroke-dashoffset",array:"stroke-dasharray"},$Pe={offset:"strokeDashoffset",array:"strokeDasharray"};function PPe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?MPe:$Pe;e[o.offset]=Ct.transform(-r);const a=Ct.transform(t),s=Ct.transform(n);e[o.array]=`${a} ${s}`}function TL(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,d,f){if(_L(e,u,c,f),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:m}=e;p.transform&&(m&&(h.transform=p.transform),delete p.transform),m&&(void 0!==i||void 0!==o||h.transform)&&(h.transformOrigin=RPe(m,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==a&&PPe(p,a,s,l,!1)}const que=()=>({...kL(),attrs:{}}),AL=e=>"string"==typeof e&&"svg"===e.toLowerCase();function FPe(e,t,n,r){const i=f.useMemo((()=>{const n=que();return TL(n,t,{enableHardwareAcceleration:!1},AL(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Gue(t,e.style,e),i.style={...t,...i.style}}return i}function LPe(e=!1){return(t,n,r,{latestValues:i},o)=>{const a=(SL(t)?FPe:jPe)(n,i,o,t),s=OPe(n,"string"==typeof t,e),l=t!==f.Fragment?{...s,...a,ref:r}:{},{children:u}=n,c=f.useMemo((()=>Uo(u)?u.get():u),[u]);return f.createElement(t,{...l,children:c})}}function Kue(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}const Zue=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xue(e,t,n,r){Kue(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Zue.has(n)?n:yL(n),t.attrs[n])}function jL(e,t){const{style:n}=e,r={};for(const i in n)(Uo(n[i])||t.style&&Uo(t.style[i])||zue(i,e))&&(r[i]=n[i]);return r}function Jue(e,t){const n=jL(e,t);for(const r in e)if(Uo(e[r])||Uo(t[r])){n[-1!==Fx.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function IL(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function Que(e){const t=f.useRef(null);return null===t.current&&(t.current=e()),t.current}const SE=e=>Array.isArray(e),NPe=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),BPe=e=>SE(e)?e[e.length-1]||0:e;function mS(e){const t=Uo(e)?e.get():e;return NPe(t)?t.toValue():t}function VPe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const a={latestValues:zPe(r,i,o,e),renderState:t()};return n&&(a.mount=e=>n(r,e,a)),a}const ece=e=>(t,n)=>{const r=f.useContext(vk),i=f.useContext(yk),o=()=>VPe(e,t,r,i);return n?o():Que(o)};function zPe(e,t,n,r){const i={},o=r(e,{});for(const e in o)i[e]=mS(o[e]);let{initial:a,animate:s}=e;const l=wk(e),u=Bue(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===a;const d=c?s:a;return d&&"boolean"!=typeof d&&!xk(d)&&(Array.isArray(d)?d:[d]).forEach((t=>{const n=IL(e,t);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})),i}const Oi=e=>e,{schedule:Zr,cancel:Xc,state:ga,steps:Zj}=Nue(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0),UPe={useVisualState:ece({scrapeMotionValuesFromProps:Jue,createRenderState:que,onMount:(e,t,{renderState:n,latestValues:r})=>{Zr.read((()=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}})),Zr.render((()=>{TL(n,r,{enableHardwareAcceleration:!1},AL(t.tagName),e.transformTemplate),Xue(t,n)}))}})},HPe={useVisualState:ece({scrapeMotionValuesFromProps:jL,createRenderState:kL})};function WPe(e,{forwardMotionProps:t=!1},n,r){return{...SL(e)?UPe:HPe,preloadedFeatures:n,useRender:LPe(t),createVisualElement:r,Component:e}}function Rc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tce=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function Ck(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const GPe=e=>t=>tce(t)&&e(t,Ck(t));function Nc(e,t,n,r){return Rc(e,t,GPe(n),r)}const YPe=(e,t)=>n=>t(e(n)),Bc=(...e)=>e.reduce(YPe);function nce(e){let t=null;return()=>null===t&&(t=e,()=>{t=null})}const Xz=nce("dragHorizontal"),Jz=nce("dragVertical");function rce(e){let t=!1;if("y"===e)t=Jz();else if("x"===e)t=Xz();else{const e=Xz(),n=Jz();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ice(){const e=rce(!0);return!e||(e(),!1)}class Yf{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Qz(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Nc(e.current,n,((n,i)=>{if("touch"===n.pointerType||ice())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Zr.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}class qPe extends Yf{mount(){this.unmount=Bc(Qz(this.node,!0),Qz(this.node,!1))}unmount(){}}class KPe extends Yf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(Rc(this.node.current,"focus",(()=>this.onFocus())),Rc(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}const ace=(e,t)=>!!t&&(e===t||ace(e,t.parentElement));function Xj(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ck(n))}class ZPe extends Yf{constructor(){super(...arguments),this.removeStartListeners=Oi,this.removeEndListeners=Oi,this.removeAccessibleListeners=Oi,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Nc(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Zr.update((()=>{i||ace(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Nc(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Bc(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Rc(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Rc(this.node.current,"keyup",(e=>{"Enter"!==e.key||!this.checkPressEnd()||Xj("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Zr.update((()=>n(e,t)))}))})),Xj("down",((e,t)=>{this.startPress(e,t)}))})),t=Rc(this.node.current,"blur",(()=>{this.isPressing&&Xj("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Bc(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Zr.update((()=>n(e,t)))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ice()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Zr.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Nc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Rc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bc(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const oR=new WeakMap,Jj=new WeakMap,XPe=e=>{const t=oR.get(e.target);t&&t(e)},JPe=e=>{e.forEach(XPe)};function QPe({root:e,...t}){const n=e||document;Jj.has(n)||Jj.set(n,{});const r=Jj.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(JPe,{root:e,...t})),r[i]}function e4e(e,t,n){const r=QPe(t);return oR.set(e,n),r.observe(e),()=>{oR.delete(e),r.unobserve(e)}}const t4e={some:0,all:1};class n4e extends Yf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:t4e[r]};return e4e(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(r4e(e,t))&&this.startObserver()}unmount(){}}function r4e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i4e={inView:{Feature:n4e},tap:{Feature:ZPe},focus:{Feature:KPe},hover:{Feature:qPe}};function oce(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function a4e(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}function o4e(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}function Sk(e,t,n){const r=e.getProps();return IL(r,t,void 0!==n?n:r.custom,a4e(e),o4e(e))}let EE=Oi;const tp=e=>1e3*e,Vc=e=>e/1e3,s4e={current:!1},sce=e=>Array.isArray(e)&&"number"==typeof e[0];function lce(e){return!!(!e||"string"==typeof e&&uce[e]||sce(e)||Array.isArray(e)&&e.every(lce))}const xy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uce={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xy([0,.65,.55,1]),circOut:xy([.55,0,1,.45]),backIn:xy([.31,.01,.66,-.59]),backOut:xy([.33,1.53,.69,.99])};function cce(e){if(e)return sce(e)?xy(e):Array.isArray(e)?e.map(cce):uce[e]}function l4e(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=cce(s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}function u4e(e,{repeat:t,repeatType:n="loop"}){return e[t&&"loop"!==n&&t%2==1?0:e.length-1]}const dce=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,c4e=1e-7,d4e=12;function f4e(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=dce(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>c4e&&++s<d4e);return a}function Bx(e,t,n,r){if(e===t&&n===r)return Oi;return i=>0===i||1===i?i:dce((t=>f4e(t,0,1,e,n))(i),t,r)}const h4e=Bx(.42,0,1,1),p4e=Bx(0,0,.58,1),fce=Bx(.42,0,.58,1),m4e=e=>Array.isArray(e)&&"number"!=typeof e[0],hce=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pce=e=>t=>1-e(1-t),DL=e=>1-Math.sin(Math.acos(e)),mce=pce(DL),g4e=hce(DL),gce=Bx(.33,1.53,.69,.99),OL=pce(gce),v4e=hce(OL),y4e=e=>(e*=2)<1?.5*OL(e):.5*(2-Math.pow(2,-10*(e-1))),eU={linear:Oi,easeIn:h4e,easeInOut:fce,easeOut:p4e,circIn:DL,circInOut:g4e,circOut:mce,backIn:OL,backInOut:v4e,backOut:gce,anticipate:y4e},tU=e=>{if(Array.isArray(e)){EE(4===e.length);const[t,n,r,i]=e;return Bx(t,n,r,i)}return"string"==typeof e?(EE(void 0!==eU[e]),eU[e]):e},Cb=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ei=(e,t,n)=>e+(t-e)*n;function Qj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function b4e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=Qj(s,r,e+1/3),o=Qj(s,r,e),a=Qj(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}const RL=(e,t)=>n=>!!(Lx(n)&&EPe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vce=(e,t,n)=>r=>{if(!Lx(r))return r;const[i,o,a,s]=r.match(EL);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},x4e=e=>Df(0,255,e),eI={...d1,transform:e=>Math.round(x4e(e))},Uh={test:RL("rgb","red"),parse:vce("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+eI.transform(e)+", "+eI.transform(t)+", "+eI.transform(n)+", "+Uy(zy.transform(r))+")"};function w4e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sR={test:RL("#"),parse:w4e,transform:Uh.transform},Ag={test:RL("hsl","hue"),parse:vce("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ku.transform(Uy(t))+", "+ku.transform(Uy(n))+", "+Uy(zy.transform(r))+")"},tI=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},C4e=[sR,Uh,Ag],S4e=e=>C4e.find((t=>t.test(e)));function nU(e){const t=S4e(e);let n=t.parse(e);return t===Ag&&(n=b4e(n)),n}const rU=(e,t)=>{const n=nU(e),r=nU(t),i={...n};return e=>(i.red=tI(n.red,r.red,e),i.green=tI(n.green,r.green,e),i.blue=tI(n.blue,r.blue,e),i.alpha=ei(n.alpha,r.alpha,e),Uh.transform(i))},Va={test:e=>Uh.test(e)||sR.test(e)||Ag.test(e),parse:e=>Uh.test(e)?Uh.parse(e):Ag.test(e)?Ag.parse(e):sR.parse(e),transform:e=>Lx(e)?e:e.hasOwnProperty("red")?Uh.transform(e):Ag.transform(e)};function E4e(e){var t,n;return isNaN(e)&&Lx(e)&&((null===(t=e.match(EL))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(SPe))||void 0===n?void 0:n.length)||0)>0}const yce="number",bce="color",_4e="var",k4e="var(",iU="${}",aU=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function _E(e){const t=e.toString(),n=t.match(aU)||[],r=[],i={color:[],number:[],var:[]},o=[];for(let e=0;e<n.length;e++){const t=n[e];Va.test(t)?(i.color.push(e),o.push(bce),r.push(Va.parse(t))):t.startsWith(k4e)?(i.var.push(e),o.push(_4e),r.push(t)):(i.number.push(e),o.push(yce),r.push(parseFloat(t)))}return{values:r,split:t.replace(aU,iU).split(iU),indexes:i,types:o}}function xce(e){return _E(e).values}function wce(e){const{split:t,types:n}=_E(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===yce?Uy(e[o]):t===bce?Va.transform(e[o]):e[o]}return i}}const T4e=e=>"number"==typeof e?0:e;function A4e(e){const t=xce(e);return wce(e)(t.map(T4e))}const Of={test:E4e,parse:xce,createTransformer:wce,getAnimatableNone:A4e};function lR(e,t){return n=>n>0?t:e}function j4e(e,t){return n=>ei(e,t,n)}function ML(e){return"number"==typeof e?j4e:"string"==typeof e?wE(e)?lR:Va.test(e)?rU:O4e:Array.isArray(e)?Cce:"object"==typeof e?Va.test(e)?rU:I4e:lR}function Cce(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>ML(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function I4e(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=ML(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}function D4e(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],s=e.indexes[a][i[a]],l=null!==(n=e.values[s])&&void 0!==n?n:0;r[o]=l,i[a]++}return r}const O4e=(e,t)=>{const n=Of.createTransformer(t),r=_E(e),i=_E(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Bc(Cce(D4e(r,i),i.values),n):lR(e,t)};function Sce(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?ei(e,t,n):ML(e)(e,t)}function R4e(e,t,n){const r=[],i=n||Sce,o=e.length-1;for(let n=0;n<o;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]||Oi:t;o=Bc(e,o)}r.push(o)}return r}function M4e(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(EE(o===t.length),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=R4e(t,r,i),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Cb(e[n],e[n+1],t);return a[n](r)};return n?t=>l(Df(e[0],e[o-1],t)):l}function $4e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Cb(0,t,r);e.push(ei(n,1,i))}}function P4e(e){const t=[0];return $4e(t,e.length-1),t}function F4e(e,t){return e.map((e=>e*t))}function L4e(e,t){return e.map((()=>t||fce)).splice(0,e.length-1)}function kE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=m4e(r)?r.map(tU):tU(r),o={done:!1,value:t[0]},a=M4e(F4e(n&&n.length===t.length?n:P4e(t),e),t,{ease:Array.isArray(i)?i:L4e(t,i)});return{calculatedDuration:e,next:t=>(o.value=a(t),o.done=t>=e,o)}}function Ece(e,t){return t?e*(1e3/t):0}const N4e=5;function _ce(e,t,n){const r=Math.max(t-N4e,0);return Ece(n-e(r),t-r)}const nI=.001,B4e=.01,V4e=10,z4e=.05,U4e=1;function H4e({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,a=1-t;a=Df(z4e,U4e,a),e=Df(B4e,V4e,Vc(e)),a<1?(i=t=>{const r=t*a,i=r*e,o=r-n,s=uR(t,a),l=Math.exp(-i);return nI-o/s*l},o=t=>{const r=t*a*e,o=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=uR(Math.pow(t,2),a);return(-i(t)+nI>0?-1:1)*((o-s)*l)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-nI,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=G4e(i,o,5/e);if(e=tp(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const W4e=12;function G4e(e,t,n){let r=n;for(let n=1;n<W4e;n++)r-=e(r)/t(r);return r}function uR(e,t){return e*Math.sqrt(1-t*t)}const Y4e=["duration","bounce"],q4e=["stiffness","damping","mass"];function oU(e,t){return t.some((t=>void 0!==e[t]))}function K4e(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!oU(e,q4e)&&oU(e,Y4e)){const n=H4e(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function kce({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=K4e({...r,velocity:-Vc(r.velocity||0)}),p=d||0,h=l/(2*Math.sqrt(s*u)),m=o-i,g=Vc(Math.sqrt(s/u)),y=Math.abs(m)<5;let v;if(n||(n=y?.01:2),t||(t=y?.005:.5),h<1){const e=uR(g,h);v=t=>{const n=Math.exp(-h*g*t);return o-n*((p+h*g*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===h)v=e=>o-Math.exp(-g*e)*(m+(p+g*m)*e);else{const e=g*Math.sqrt(h*h-1);v=t=>{const n=Math.exp(-h*g*t),r=Math.min(e*t,300);return o-n*((p+h*g*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}return{calculatedDuration:f&&c||null,next:e=>{const r=v(e);if(f)a.done=e>=c;else{let i=p;0!==e&&(i=h<1?_ce(v,e,r):0);const s=Math.abs(i)<=n,l=Math.abs(o-r)<=t;a.done=s&&l}return a.value=a.done?o:r,a}}}function sU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},p=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let h=n*t;const m=d+h,g=void 0===a?m:a(m);g!==m&&(h=g-d);const y=e=>-h*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);f.done=Math.abs(t)<=u,f.value=f.done?g:n};let x,w;const C=e=>{(e=>void 0!==s&&e<s||void 0!==l&&e>l)(f.value)&&(x=e,w=kce({keyframes:[f.value,p(f.value)],velocity:_ce(v,e,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!w&&void 0===x&&(t=!0,b(e),C(e)),void 0!==x&&e>x?w.next(e-x):(!t&&b(e),f)}}}let gS;function Z4e(){gS=void 0}const np={now:()=>(void 0===gS&&np.set(ga.isProcessing||Lue.useManualTiming?ga.timestamp:performance.now()),gS),set:e=>{gS=e,queueMicrotask(Z4e)}},X4e=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Zr.update(t,!0),stop:()=>Xc(t),now:()=>ga.isProcessing?ga.timestamp:np.now()}},lU=2e4;function uU(e){let t=0;let n=e.next(t);for(;!n.done&&t<lU;)t+=50,n=e.next(t);return t>=lU?1/0:t}const J4e={decay:sU,inertia:sU,tween:kE,keyframes:kE,spring:kce},Q4e=e=>e/100;function TE({autoplay:e=!0,delay:t=0,driver:n=X4e,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...f}){let p,h,m=1,g=!1;const y=()=>{h=new Promise((e=>{p=e}))};let v;y();const b=J4e[i]||kE;let x;b!==kE&&"number"!=typeof r[0]&&(x=Bc(Q4e,Sce(r[0],r[1])),r=[0,100]);const w=b({...f,keyframes:r});let C;"mirror"===s&&(C=b({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let k="idle",j=null,S=null,E=null;null===w.calculatedDuration&&o&&(w.calculatedDuration=uU(w));const{calculatedDuration:_}=w;let A=1/0,T=1/0;null!==_&&(A=_+a,T=A*(o+1)-a);let D=0;const M=e=>{if(null===S)return;m>0&&(S=Math.min(S,e)),m<0&&(S=Math.min(e-T/m,S)),D=null!==j?j:Math.round(e-S)*m;const n=D-t*(m>=0?1:-1),i=m>=0?n<0:n>T;D=Math.max(n,0),"finished"===k&&null===j&&(D=T);let l=D,u=w;if(o){const e=Math.min(D,T)/A;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,o+1),!!(t%2)&&("reverse"===s?(n=1-n,a&&(n-=a/A)):"mirror"===s&&(u=C)),l=Df(0,1,n)*A}const c=i?{done:!1,value:r[0]}:u.next(l);x&&(c.value=x(c.value));let{done:f}=c;!i&&null!==_&&(f=m>=0?D>=T:D<=0);const p=null===j&&("finished"===k||"running"===k&&f);return d&&d(c.value),p&&N(),c},I=()=>{v&&v.stop(),v=void 0},O=()=>{k="idle",I(),p(),y(),S=E=null},N=()=>{k="finished",c&&c(),I(),p()},P=()=>{if(g)return;v||(v=n(M));const e=v.now();l&&l(),null!==j?S=e-j:(!S||"finished"===k)&&(S=e),"finished"===k&&y(),E=S,j=null,k="running",v.start()};e&&P();const R={then:(e,t)=>h.then(e,t),get time(){return Vc(D)},set time(e){e=tp(e),D=e,null===j&&v&&0!==m?S=v.now()-e/m:j=e},get duration(){const e=null===w.calculatedDuration?uU(w):w.calculatedDuration;return Vc(e)},get speed(){return m},set speed(e){e===m||!v||(m=e,R.time=Vc(D))},get state(){return k},play:P,pause:()=>{k="paused",j=D},stop:()=>{g=!0,"idle"!==k&&(k="idle",u&&u(),O())},cancel:()=>{null!==E&&M(E),O()},complete:()=>{k="finished"},sample:e=>(S=0,M(e))};return R}function eFe(e){let t;return()=>(void 0===t&&(t=e()),t)}const tFe=eFe((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),nFe=new Set(["opacity","clipPath","filter","transform"]),bC=10,rFe=2e4,iFe=(e,t)=>"spring"===t.type||"backgroundColor"===e||!lce(t.ease);function aFe(e,t,{onUpdate:n,onComplete:r,...i}){if(!tFe()||!nFe.has(t)||i.repeatDelay||"mirror"===i.repeatType||0===i.damping||"inertia"===i.type)return!1;let o,a,s=!1,l=!1;const u=()=>{a=new Promise((e=>{o=e}))};u();let{keyframes:c,duration:d=300,ease:f,times:p}=i;if(iFe(t,i)){const e=TE({...i,repeat:0,delay:0});let t={done:!1,value:c[0]};const n=[];let r=0;for(;!t.done&&r<rFe;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,c=n,d=r-10,f="linear"}const h=l4e(e.owner.current,t,c,{...i,duration:d,ease:f,times:p}),m=()=>{l=!1,h.cancel()},g=()=>{l=!0,Zr.update(m),o(),u()};return h.onfinish=()=>{l||(e.set(u4e(c,i)),r&&r(),g())},{then:(e,t)=>a.then(e,t),attachTimeline:e=>(h.timeline=e,h.onfinish=null,Oi),get time(){return Vc(h.currentTime||0)},set time(e){h.currentTime=tp(e)},get speed(){return h.playbackRate},set speed(e){h.playbackRate=e},get duration(){return Vc(d)},play:()=>{s||(h.play(),Xc(m))},pause:()=>h.pause(),stop:()=>{if(s=!0,"idle"===h.playState)return;const{currentTime:t}=h;if(t){const n=TE({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>{l||h.finish()},cancel:g}}function oFe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Oi,pause:Oi,stop:Oi,then:e=>(e(),Promise.resolve()),cancel:Oi,complete:Oi});return t?TE({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const sFe={type:"spring",stiffness:500,damping:25,restSpeed:10},lFe=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),uFe={type:"keyframes",duration:.8},cFe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dFe=(e,{keyframes:t})=>t.length>2?uFe:am.has(e)?e.startsWith("scale")?lFe(t[1]):sFe:cFe,cR=(e,t)=>"zIndex"!==e&&!("number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!Of.test(t)&&"0"!==t||t.startsWith("url("))),fFe=new Set(["brightness","contrast","saturate","opacity"]);function hFe(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(EL)||[];if(!r)return e;const i=n.replace(r,"");let o=fFe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const pFe=/([a-z-]*)\(.*?\)/g,dR={...Of,getAnimatableNone:e=>{const t=e.match(pFe);return t?t.map(hFe).join(" "):e}},mFe={...Wue,color:Va,backgroundColor:Va,outlineColor:Va,fill:Va,stroke:Va,borderColor:Va,borderTopColor:Va,borderRightColor:Va,borderBottomColor:Va,borderLeftColor:Va,filter:dR,WebkitFilter:dR},$L=e=>mFe[e];function Tce(e,t){let n=$L(e);return n!==dR&&(n=Of),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ace=e=>/^0[^.\s]+$/.test(e);function gFe(e){return"number"==typeof e?0===e:null!==e?"none"===e||"0"===e||Ace(e):void 0}function vFe(e,t,n,r){const i=cR(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const l=[];for(let e=0;e<o.length;e++)null===o[e]&&(o[e]=0===e?a:o[e-1]),gFe(o[e])&&l.push(e),"string"==typeof o[e]&&"none"!==o[e]&&"0"!==o[e]&&(s=o[e]);if(i&&l.length&&s)for(let e=0;e<l.length;e++){o[l[e]]=Tce(t,s)}return o}function yFe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function PL(e,t){return e[t]||e.default||e}const FL=(e,t,n,r={})=>i=>{const o=PL(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=tp(a);const l=vFe(t,e,n,o),u=l[0],c=l[l.length-1],d=cR(e,u),f=cR(e,c);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(yFe(o)||(p={...p,...dFe(e,p)}),p.duration&&(p.duration=tp(p.duration)),p.repeatDelay&&(p.repeatDelay=tp(p.repeatDelay)),!d||!f||s4e.current||!1===o.type||Lue.skipAnimations)return oFe(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=aFe(t,e,p);if(n)return n}return TE(p)};function AE(e){return!(!Uo(e)||!e.add)}const jce=e=>/^\-?\d*\.?\d+$/.test(e);function LL(e,t){-1===e.indexOf(t)&&e.push(t)}function NL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class BL{constructor(){this.subscriptions=[]}add(e){return LL(this.subscriptions,e),()=>NL(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cU=30,bFe=e=>!isNaN(parseFloat(e));class xFe{constructor(e,t={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=np.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=bFe(this.current),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=np.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new BL);const n=this.events[e].add(t);return"change"===e?()=>{n(),Zr.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=np.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ece(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function x0(e,t){return new xFe(e,t)}const Ice=e=>t=>t.test(e),wFe={test:e=>"auto"===e,parse:e=>e},Dce=[d1,Ct,ku,Yd,kPe,_Pe,wFe],Ev=e=>Dce.find(Ice(e)),CFe=[...Dce,Va,Of],SFe=e=>CFe.find(Ice(e));function EFe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,x0(n))}function _Fe(e,t){const n=Sk(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const t in o){EFe(e,t,BPe(o[t]))}}function kFe(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),a=o.length;if(a)for(let s=0;s<a;s++){const a=o[s],l=t[a];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),null!=u&&("string"==typeof u&&(jce(u)||Ace(u))?u=parseFloat(u):!SFe(u)&&Of.test(l)&&(u=Tce(a,l)),e.addValue(a,x0(u,{owner:e})),void 0===n[a]&&(n[a]=u),null!==u&&e.setBaseTarget(a,u))}}function TFe(e,t){return t?(t[e]||t.default||t).from:void 0}function AFe(e,t,n){const r={};for(const i in e){const e=TFe(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}function jFe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function IFe(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let e=0;e<t.length;e++)if(t[e]!==n)return!0}function Oce(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const t in s){const r=e.getValue(t),i=s[t];if(!r||void 0===i||c&&jFe(c,t))continue;const a={delay:n,elapsed:0,...PL(o||{},t)};if(window.HandoffAppearAnimations){const n=e.getProps()[Fue];if(n){const e=window.HandoffAppearAnimations(n,t,r,Zr);null!==e&&(a.elapsed=e,a.isHandoff=!0)}}let d=!a.isHandoff&&!IFe(r,i);if("spring"===a.type&&(r.getVelocity()||a.velocity)&&(d=!1),r.animation&&(d=!1),d)continue;r.start(FL(t,r,i,e.shouldReduceMotion&&am.has(t)?{type:!1}:a));const f=r.animation;AE(l)&&(l.add(t),f.then((()=>l.remove(t)))),u.push(f)}return a&&Promise.all(u).then((()=>{a&&_Fe(e,a)})),u}function fR(e,t,n={}){const r=Sk(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Oce(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return DFe(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function DFe(e,t,n=0,r=0,i=1,o){const a=[],s=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(OFe).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(fR(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}function OFe(e,t){return e.sortNodePosition(t)}function RFe(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>fR(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=fR(e,t,n);else{const i="function"==typeof t?Sk(e,t,n.custom):t;r=Promise.all(Oce(e,i,n))}return r.then((()=>e.notify("AnimationComplete",t)))}const MFe=[...xL].reverse(),$Fe=xL.length;function PFe(e){return t=>Promise.all(t.map((({animation:t,options:n})=>RFe(e,t,n))))}function FFe(e){let t=PFe(e);const n=NFe();let r=!0;const i=(t,n)=>{const r=Sk(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,a){const s=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let d={},f=1/0;for(let t=0;t<$Fe;t++){const p=MFe[t],h=n[p],m=void 0!==s[p]?s[p]:l[p],g=xb(m),y=p===a?h.isActive:null;!1===y&&(f=t);let v=m===l[p]&&m!==s[p]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),h.protectedKeys={...d},!h.isActive&&null===y||!m&&!h.prevProp||xk(m)||"boolean"==typeof m)continue;let b=LFe(h.prevProp,m)||p===a&&h.isActive&&!v&&g||t>f&&g,x=!1;const w=Array.isArray(m)?m:[m];let C=w.reduce(i,{});!1===y&&(C={});const{prevResolvedValues:k={}}=h,j={...k,...C},S=e=>{b=!0,c.has(e)&&(x=!0,c.delete(e)),h.needsAnimating[e]=!0};for(const e in j){const t=C[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=SE(t)&&SE(n)?!oce(t,n):t!==n,r?void 0!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):h.protectedKeys[e]=!0}h.prevProp=m,h.prevResolvedValues=C,h.isActive&&(d={...d,...C}),r&&e.blockInitialAnimation&&(b=!1),b&&(!v||x)&&u.push(...w.map((e=>({animation:e,options:{type:p,...o}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let p=!!u.length;return r&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(u):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function LFe(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!oce(t,e)}function gh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NFe(){return{animate:gh(!0),whileInView:gh(),whileHover:gh(),whileTap:gh(),whileDrag:gh(),whileFocus:gh(),exit:gh()}}class BFe extends Yf{constructor(e){super(e),e.animationState||(e.animationState=FFe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xk(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let VFe=0;class zFe extends Yf{constructor(){super(...arguments),this.id=VFe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const UFe={animation:{Feature:BFe},exit:{Feature:zFe}},dU=(e,t)=>Math.abs(e-t);function HFe(e,t){const n=dU(e.x,t.x),r=dU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Rce{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=iI(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=HFe(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=ga;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rI(t,this.transformPagePoint),Zr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=iI("pointercancel"===e.type?this.lastMoveEventInfo:rI(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!tce(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=rI(Ck(e),this.transformPagePoint),{point:a}=o,{timestamp:s}=ga;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=t;l&&l(e,iI(o,this.history)),this.removeListeners=Bc(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xc(this.updatePoint)}}function rI(e,t){return t?{point:t(e.point)}:e}function fU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iI({point:e},t){return{point:e,delta:fU(e,Mce(t)),offset:fU(e,WFe(t)),velocity:GFe(t,.1)}}function WFe(e){return e[0]}function Mce(e){return e[e.length-1]}function GFe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Mce(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>tp(t)));)n--;if(!r)return{x:0,y:0};const o=Vc(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ds(e){return e.max-e.min}function hR(e,t=0,n=.01){return Math.abs(e-t)<=n}function hU(e,t,n,r=.5){e.origin=r,e.originPoint=ei(t.min,t.max,e.origin),e.scale=ds(n)/ds(t),(hR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ei(n.min,n.max,e.origin)-e.originPoint,(hR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Hy(e,t,n,r){hU(e.x,t.x,n.x,r?r.originX:void 0),hU(e.y,t.y,n.y,r?r.originY:void 0)}function pU(e,t,n){e.min=n.min+t.min,e.max=e.min+ds(t)}function YFe(e,t,n){pU(e.x,t.x,n.x),pU(e.y,t.y,n.y)}function mU(e,t,n){e.min=t.min-n.min,e.max=e.min+ds(t)}function Wy(e,t,n){mU(e.x,t.x,n.x),mU(e.y,t.y,n.y)}function qFe(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?ei(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?ei(n,e,r.max):Math.min(e,n)),e}function gU(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function KFe(e,{top:t,left:n,bottom:r,right:i}){return{x:gU(e.x,n,i),y:gU(e.y,t,r)}}function vU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ZFe(e,t){return{x:vU(e.x,t.x),y:vU(e.y,t.y)}}function XFe(e,t){let n=.5;const r=ds(e),i=ds(t);return i>r?n=Cb(t.min,t.max-r,e.min):r>i&&(n=Cb(e.min,e.max-i,t.min)),Df(0,1,n)}function JFe(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}const pR=.35;function QFe(e=pR){return!1===e?e=0:!0===e&&(e=pR),{x:yU(e,"left","right"),y:yU(e,"top","bottom")}}function yU(e,t,n){return{min:bU(e,t),max:bU(e,n)}}function bU(e,t){return"number"==typeof e?e:e[t]||0}const xU=()=>({translate:0,scale:1,origin:0,originPoint:0}),jg=()=>({x:xU(),y:xU()}),wU=()=>({min:0,max:0}),pi=()=>({x:wU(),y:wU()});function Rs(e){return[e("x"),e("y")]}function $ce({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eLe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tLe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function aI(e){return void 0===e||1===e}function mR({scale:e,scaleX:t,scaleY:n}){return!aI(e)||!aI(t)||!aI(n)}function kh(e){return mR(e)||Pce(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Pce(e){return CU(e.x)||CU(e.y)}function CU(e){return e&&"0%"!==e}function jE(e,t,n){return n+t*(e-n)}function SU(e,t,n,r,i){return void 0!==i&&(e=jE(e,i,r)),jE(e,n,r)+t}function gR(e,t=0,n=1,r,i){e.min=SU(e.min,t,n,r,i),e.max=SU(e.max,t,n,r,i)}function Fce(e,{x:t,y:n}){gR(e.x,t.translate,t.scale,t.originPoint),gR(e.y,n.translate,n.scale,n.originPoint)}function nLe(e,t,n,r=!1){const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ig(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Fce(e,a)),r&&kh(o.latestValues)&&Ig(e,o.latestValues))}t.x=EU(t.x),t.y=EU(t.y)}function EU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xd(e,t){e.min=e.min+t,e.max=e.max+t}function _U(e,t,[n,r,i]){const o=void 0!==t[i]?t[i]:.5,a=ei(e.min,e.max,o);gR(e,t[n],t[r],a,t.scale)}const rLe=["x","scaleX","originX"],iLe=["y","scaleY","originY"];function Ig(e,t){_U(e.x,t,rLe),_U(e.y,t,iLe)}function Lce(e,t){return $ce(tLe(e.getBoundingClientRect(),t))}function aLe(e,t,n){const r=Lce(e,n),{scroll:i}=t;return i&&(Xd(r.x,i.offset.x),Xd(r.y,i.offset.y)),r}const Nce=({current:e})=>e?e.ownerDocument.defaultView:null,oLe=new WeakMap;class sLe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Rce(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ck(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rce(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ku.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=ds(r)*(parseFloat(t)/100))}}this.originPoint[e]=t})),i&&Zr.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=lLe(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Rs((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Nce(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Zr.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!xC(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=qFe(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Tg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&KFe(r.layoutBox,t),this.elastic=QFe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=JFe(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Tg(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=aLe(n,r.root,this.visualElement.getTransformPagePoint());let o=ZFe(r.layout.layoutBox,i);if(t){const e=t(eLe(o));this.hasMutatedConstraints=!!e,e&&(o=$ce(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=Rs((a=>{if(!xC(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(FL(e,n,0,t))}stopAnimation(){Rs((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Rs((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rs((t=>{const{drag:n}=this.getProps();if(!xC(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-ei(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Tg(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Rs((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=XFe({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rs((t=>{if(!xC(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(ei(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;oLe.set(this.visualElement,this);const e=Nc(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Tg(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Rc(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Rs((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=pR,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function xC(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}function lLe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class uLe extends Yf{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new sLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const kU=e=>(t,n)=>{e&&Zr.update((()=>e(t,n)))};class cLe extends Yf{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new Rce(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nce(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:kU(e),onStart:kU(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Zr.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dLe(){const e=f.useContext(yk);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=f.useId();return f.useEffect((()=>r(i)),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const vS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _v={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Ct.test(e))return e;e=parseFloat(e)}return`${TU(e,t.target.x)}% ${TU(e,t.target.y)}%`}},fLe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Of.parse(e);if(i.length>5)return r;const o=Of.createTransformer(e),a="number"!=typeof i[0]?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=l;const u=ei(s,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=u),"number"==typeof i[3+a]&&(i[3+a]/=u),o(i)}};class hLe extends Ke.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;gPe(pLe),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Zr.postRender((()=>{const e=o.getStack();(!e||!e.members.length)&&this.safeToRemove()})))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bL.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bce(e){const[t,n]=dLe(),r=f.useContext(CL);return Ke.createElement(hLe,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Vue),isPresent:t,safeToRemove:n})}const pLe={borderRadius:{..._v,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_v,borderTopRightRadius:_v,borderBottomLeftRadius:_v,borderBottomRightRadius:_v,boxShadow:fLe},Vce=["TopLeft","TopRight","BottomLeft","BottomRight"],mLe=Vce.length,AU=e=>"string"==typeof e?parseFloat(e):e,jU=e=>"number"==typeof e||Ct.test(e);function gLe(e,t,n,r,i,o){i?(e.opacity=ei(0,void 0!==n.opacity?n.opacity:1,vLe(r)),e.opacityExit=ei(void 0!==t.opacity?t.opacity:1,0,yLe(r))):o&&(e.opacity=ei(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<mLe;i++){const o=`border${Vce[i]}Radius`;let a=IU(t,o),s=IU(n,o);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||jU(a)===jU(s)?(e[o]=Math.max(ei(AU(a),AU(s),r),0),(ku.test(s)||ku.test(a))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=ei(t.rotate||0,n.rotate||0,r))}function IU(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const vLe=zce(0,.5,mce),yLe=zce(.5,.95,Oi);function zce(e,t,n){return r=>r<e?0:r>t?1:n(Cb(e,t,r))}function DU(e,t){e.min=t.min,e.max=t.max}function js(e,t){DU(e.x,t.x),DU(e.y,t.y)}function OU(e,t,n,r,i){return e=jE(e-=t,1/n,r),void 0!==i&&(e=jE(e,1/i,r)),e}function bLe(e,t=0,n=1,r=.5,i,o=e,a=e){if(ku.test(t)&&(t=parseFloat(t),t=ei(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let s=ei(o.min,o.max,r);e===o&&(s-=t),e.min=OU(e.min,t,n,s,i),e.max=OU(e.max,t,n,s,i)}function RU(e,t,[n,r,i],o,a){bLe(e,t[n],t[r],t[i],t.scale,o,a)}const xLe=["x","scaleX","originX"],wLe=["y","scaleY","originY"];function MU(e,t,n,r){RU(e.x,t,xLe,n?n.x:void 0,r?r.x:void 0),RU(e.y,t,wLe,n?n.y:void 0,r?r.y:void 0)}function $U(e){return 0===e.translate&&1===e.scale}function Uce(e){return $U(e.x)&&$U(e.y)}function CLe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Hce(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function PU(e){return ds(e.x)/ds(e.y)}class SLe{constructor(){this.members=[]}add(e){LL(this.members,e),e.scheduleRender()}remove(e){if(NL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FU(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return(1!==a||1!==s)&&(r+=`scale(${a}, ${s})`),r||"none"}const ELe=(e,t)=>e.depth-t.depth;class _Le{constructor(){this.children=[],this.isDirty=!1}add(e){LL(this.children,e),this.isDirty=!0}remove(e){NL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ELe),this.isDirty=!1,this.children.forEach(e)}}function kLe(e,t){const n=np.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Xc(r),e(o-t))};return Zr.read(r,!0),()=>Xc(r)}function TLe(e){window.MotionDebug&&window.MotionDebug.record(e)}function ALe(e){return e instanceof SVGElement&&"svg"!==e.tagName}function jLe(e,t,n){const r=Uo(e)?e:x0(e);return r.start(FL("",r,t,n)),r.animation}const LU=["","X","Y","Z"],ILe={visibility:"hidden"},NU=1e3;let DLe=0;const Th={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wce({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=DLe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Th.totalNodes=Th.resolvedTargetDeltas=Th.recalculatedProjection=0,this.nodes.forEach(MLe),this.nodes.forEach(NLe),this.nodes.forEach(BLe),this.nodes.forEach($Le),TLe(Th)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new _Le)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new BL),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ALe(t),this.instance=t;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=kLe(r,250),vS.hasAnimatedSinceResize&&(vS.hasAnimatedSinceResize=!1,this.nodes.forEach(VU))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||WLe,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=o.getProps(),l=!this.targetLayout||!Hce(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...PL(i,"layout"),onPlay:a,onComplete:s};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||VU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VLe),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(BU);this.isUpdating||this.nodes.forEach(FLe),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(LLe),this.nodes.forEach(OLe),this.nodes.forEach(RLe),this.clearAllSnapshots();const e=np.now();ga.delta=Df(0,1e3/60,e-ga.timestamp),ga.timestamp=e,ga.isProcessing=!0,Zj.update.process(ga),Zj.preRender.process(ga),Zj.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bL.read((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(PLe),this.sharedNodes.forEach(zLe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zr.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!(!this.options.layoutScroll||!this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Uce(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||kh(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),GLe(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return pi();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Xd(t.x,n.offset.x),Xd(t.y,n.offset.y)),t}removeElementScroll(e){const t=pi();js(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){js(t,e);const{scroll:n}=this.root;n&&(Xd(t.x,-n.offset.x),Xd(t.y,-n.offset.y))}Xd(t.x,i.offset.x),Xd(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){const n=pi();js(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ig(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),kh(r.latestValues)&&Ig(n,r.latestValues)}return kh(this.latestValues)&&Ig(n,this.latestValues),n}removeTransform(e){const t=pi();js(t,e);for(let e=0;e<this.path.length;e++){const n=this.path[e];if(!n.instance||!kh(n.latestValues))continue;mR(n.latestValues)&&n.updateSnapshot();const r=pi();js(r,n.measurePageBox()),MU(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return kh(this.latestValues)&&MU(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=!!this.resumingFrom||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(t=this.parent)&&void 0!==t&&t.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=ga.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),Wy(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=pi(),this.targetWithTransforms=pi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YFe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),Fce(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),Wy(this.relativeTargetOrigin,this.target,e.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Th.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!mR(this.parent.latestValues)&&!Pce(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!(!(this.relativeTarget||this.targetDelta||this.options.layoutRoot)||!this.layout)}calcProjection(){var e;const t=this.getLead(),n=!!this.resumingFrom||this!==t;let r=!0;if((this.isProjectionDirty||!(null===(e=this.parent)||void 0===e)&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;js(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;nLe(this.layoutCorrected,this.treeScale,this.path,n),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=pi());const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=jg(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=jg(),this.projectionDeltaWithTransform=jg());const u=this.projectionTransform;Hy(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=FU(this.projectionDelta,this.treeScale),(this.projectionTransform!==u||this.treeScale.x!==a||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Th.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=jg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=pi(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=!(!s||u||!0!==this.options.crossfade||this.path.some(HLe));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;zU(o.x,e.x,n),zU(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wy(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ULe(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&CLe(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=pi()),js(d,this.relativeTarget)),s&&(this.animationValues=i,gLe(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zr.update((()=>{vS.hasAnimatedSinceResize=!0,this.currentAnimation=jLe(0,NU,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Gce(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||pi();const t=ds(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ds(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}js(t,n),Ig(t,i),Hy(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new SLe),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let t=0;t<LU.length;t++){const i="rotate"+LU[t];n[i]&&(r[i]=n[i],e.setStaticValue(i,0))}e.render();for(const t in r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ILe;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=mS(e?.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=mS(e?.pointerEvents)||""),this.hasProjected&&!kh(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=FU(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const e in xE){if(void 0===a[e])continue;const{correct:t,applyTo:n}=xE[e],i="none"===r.transform?a[e]:t(a[e],o);if(n){const e=n.length;for(let t=0;t<e;t++)r[n[t]]=i}else r[e]=i}return this.options.layoutId&&(r.pointerEvents=o===this?mS(e?.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(BU),this.root.sharedNodes.clear()}}}function OLe(e){e.updateLayout()}function RLe(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?Rs((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=ds(r);r.min=t[e].min,r.max=r.min+i})):Gce(i,n.layoutBox,t)&&Rs((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=ds(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=jg();Hy(a,t,n.layoutBox);const s=jg();o?Hy(s,e.applyTransform(r,!0),n.measuredBox):Hy(s,t,n.layoutBox);const l=!Uce(a);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=pi();Wy(a,n.layoutBox,i.layoutBox);const s=pi();Wy(s,t,o.layoutBox),Hce(a,s)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function MLe(e){Th.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $Le(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PLe(e){e.clearSnapshot()}function BU(e){e.clearMeasurements()}function FLe(e){e.isLayoutDirty=!1}function LLe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NLe(e){e.resolveTargetDelta()}function BLe(e){e.calcProjection()}function VLe(e){e.resetRotation()}function zLe(e){e.removeLeadSnapshot()}function zU(e,t,n){e.translate=ei(t.translate,0,n),e.scale=ei(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function UU(e,t,n,r){e.min=ei(t.min,n.min,r),e.max=ei(t.max,n.max,r)}function ULe(e,t,n,r){UU(e.x,t.x,n.x,r),UU(e.y,t.y,n.y,r)}function HLe(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const WLe={duration:.45,ease:[.4,0,.1,1]},HU=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),WU=HU("applewebkit/")&&!HU("chrome/")?Math.round:Oi;function GU(e){e.min=WU(e.min),e.max=WU(e.max)}function GLe(e){GU(e.x),GU(e.y)}function Gce(e,t,n){return"position"===e||"preserve-aspect"===e&&!hR(PU(t),PU(n),.2)}const YLe=Wce({attachResizeListener:(e,t)=>Rc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oI={current:void 0},Yce=Wce({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oI.current){const e=new YLe({});e.mount(window),e.setOptions({layoutScroll:!0}),oI.current=e}return oI.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position}),qLe={pan:{Feature:cLe},drag:{Feature:uLe,ProjectionNode:Yce,MeasureLayout:Bce}},KLe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ZLe(e){const t=KLe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function vR(e,t,n=1){const[r,i]=ZLe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return jce(e)?parseFloat(e):e}return wE(i)?vR(i,t,n+1):i}function XLe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!wE(t))return;const n=vR(t,r);n&&e.set(n)}));for(const e in t){const i=t[e];if(!wE(i))continue;const o=vR(i,r);o&&(t[e]=o,n||(n={}),void 0===n[e]&&(n[e]=i))}return{target:t,transitionEnd:n}}const JLe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qce=e=>JLe.has(e),QLe=e=>Object.keys(e).some(qce),YU=e=>e===d1||e===Ct,qU=(e,t)=>parseFloat(e.split(", ")[t]),KU=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qU(i[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?qU(t[1],e):0}},e6e=new Set(["x","y","z"]),t6e=Fx.filter((e=>!e6e.has(e)));function n6e(e){const t=[];return t6e.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}const w0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:KU(4,13),y:KU(5,14)};w0.translateX=w0.x,w0.translateY=w0.y;const r6e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=w0[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=w0[n](l,o)})),e},i6e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(qce);let o=[],a=!1;const s=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=Ev(u);const d=t[i];let f;if(SE(d)){const e=d.length,t=null===d[0]?1:0;u=d[t],c=Ev(u);for(let n=t;n<e&&null!==d[n];n++)f?EE(Ev(d[n])===f):f=Ev(d[n])}else f=Ev(d);if(c!==f)if(YU(c)&&YU(f)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof d?t[i]=parseFloat(d):Array.isArray(d)&&f===Ct&&(t[i]=d.map(parseFloat))}else c?.transform&&f?.transform&&(0===u||0===d)?0===u?l.set(f.transform(u)):t[i]=c.transform(d):(a||(o=n6e(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=r6e(t,e,s);return o.length&&o.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),bk&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function a6e(e,t,n,r){return QLe(t)?i6e(e,t,n,r):{target:t,transitionEnd:r}}const o6e=(e,t,n,r)=>{const i=XLe(e,t,r);return a6e(e,t=i.target,n,r=i.transitionEnd)},yR={current:null},Kce={current:!1};function s6e(){if(Kce.current=!0,bk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yR.current=e.matches;e.addListener(t),t()}else yR.current=!1}function l6e(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(Uo(o))e.addValue(i,o),AE(r)&&r.add(i);else if(Uo(a))e.addValue(i,x0(o,{owner:e})),AE(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,x0(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}const ZU=new WeakMap,Zce=Object.keys(wb),u6e=Zce.length,XU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],c6e=wL.length;class d6e{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zr.render(this.render,!1,!0);const{latestValues:a,renderState:s}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=s,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=wk(t),this.isVariantNode=Bue(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!(!e||!e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{});for(const e in u){const t=u[e];void 0!==a[e]&&Uo(t)&&(t.set(a[e],!1),AE(l)&&l.add(e))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,ZU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Kce.current||s6e(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||yR.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZU.delete(this.current),this.projection&&this.projection.unmount(),Xc(this.notifyUpdate),Xc(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=am.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Zr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let o,a;for(let e=0;e<u6e;e++){const n=Zce[e],{isEnabled:r,Feature:i,ProjectionNode:s,MeasureLayout:l}=wb[n];s&&(o=s),r(t)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),l&&(a=l))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:a,layoutScroll:s,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:!!r||a&&Tg(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:s,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<XU.length;t++){const n=XU[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=l6e(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let e=0;e<c6e;e++){const n=wL[e],r=this.props[n];(xb(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=x0(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=IL(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Uo(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new BL),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Xce extends d6e{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},r){const i=AFe(n,e||{},this);if(r){kFe(this,n,i);const e=o6e(this,n,i,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}function f6e(e){return window.getComputedStyle(e)}class h6e extends Xce{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(am.has(t)){const e=$L(t);return e&&e.default||0}{const n=f6e(e),r=(Hue(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Lce(e,t)}build(e,t,n,r){_L(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return jL(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Uo(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){Kue(e,t,n,r)}}class p6e extends Xce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(am.has(t)){const e=$L(t);return e&&e.default||0}return t=Zue.has(t)?t:yL(t),e.getAttribute(t)}measureInstanceViewportBox(){return pi()}scrapeMotionValuesFromProps(e,t){return Jue(e,t)}build(e,t,n,r){TL(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Xue(e,t,n,r)}mount(e){this.isSVGTag=AL(e.tagName),super.mount(e)}}const m6e=(e,t)=>SL(e)?new p6e(t,{enableHardwareAcceleration:!1}):new h6e(t,{enableHardwareAcceleration:!0}),g6e={layout:{ProjectionNode:Yce,MeasureLayout:Bce}},v6e={...UFe,...i4e,...qLe,...g6e},di=pPe(((e,t)=>WPe(e,t,v6e,m6e)));function Jce(){const e=f.useRef(!1);return vL((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function y6e(){const e=Jce(),[t,n]=f.useState(0),r=f.useCallback((()=>{e.current&&n(t+1)}),[t]);return[f.useCallback((()=>Zr.postRender(r)),[r]),t]}class b6e extends f.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function x6e({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect((()=>{const{width:e,height:o,top:a,left:s}=i.current;if(t||!r.current||!e||!o)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${a}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),f.createElement(b6e,{isPresent:t,childRef:r,sizeRef:i},f.cloneElement(e,{ref:r}))}const sI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=Que(w6e),l=f.useId(),u=f.useMemo((()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:e=>{s.set(e,!0);for(const e of s.values())if(!e)return;r&&r()},register:e=>(s.set(e,!1),()=>s.delete(e))})),o?void 0:[n]);return f.useMemo((()=>{s.forEach(((e,t)=>s.set(t,!1)))}),[n]),f.useEffect((()=>{!n&&!s.size&&r&&r()}),[n]),"popLayout"===a&&(e=f.createElement(x6e,{isPresent:n},e)),f.createElement(yk.Provider,{value:u},e)};function w6e(){return new Map}function C6e(e){return f.useEffect((()=>()=>e()),[])}const Ah=e=>e.key||"";function S6e(e,t){e.forEach((e=>{const n=Ah(e);t.set(n,e)}))}function E6e(e){const t=[];return f.Children.forEach(e,(e=>{f.isValidElement(e)&&t.push(e)})),t}const xs=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const s=f.useContext(CL).forceRender||y6e()[0],l=Jce(),u=E6e(e);let c=u;const d=f.useRef(new Map).current,p=f.useRef(c),h=f.useRef(new Map).current,m=f.useRef(!0);if(vL((()=>{m.current=!1,S6e(u,h),p.current=c})),C6e((()=>{m.current=!0,h.clear(),d.clear()})),m.current)return f.createElement(f.Fragment,null,c.map((e=>f.createElement(sI,{key:Ah(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:o,mode:a},e))));c=[...c];const g=p.current.map(Ah),y=u.map(Ah),v=g.length;for(let e=0;e<v;e++){const t=g[e];-1===y.indexOf(t)&&!d.has(t)&&d.set(t,void 0)}return"wait"===a&&d.size&&(c=[]),d.forEach(((e,n)=>{if(-1!==y.indexOf(n))return;const i=h.get(n);if(!i)return;const m=g.indexOf(n);let v=e;if(!v){const e=()=>{d.delete(n);const e=Array.from(h.keys()).filter((e=>!y.includes(e)));if(e.forEach((e=>h.delete(e))),p.current=u.filter((t=>{const r=Ah(t);return r===n||e.includes(r)})),!d.size){if(!1===l.current)return;s(),r&&r()}};v=f.createElement(sI,{key:Ah(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:o,mode:a},i),d.set(n,v)}c.splice(m,0,v)})),c=c.map((e=>{const t=e.key;return d.has(t)?e:f.createElement(sI,{key:Ah(e),isPresent:!0,presenceAffectsLayout:o,mode:a},e)})),f.createElement(f.Fragment,null,d.size?c:c.map((e=>f.cloneElement(e))))};function VL(e){const t=f.useRef(null);return f.useInsertionEffect((()=>{t.current=e}),[e]),f.useCallback(((...e)=>(0,t.current)(...e)),[])}const zL=M5,kp=aoe(),f1=[],kf={},Tu="--motion-content-opacity",Qce={initial:{opacity:.5,[Tu]:0,scale:.97,willChange:"transform"},animate:{opacity:[null,1,1],[Tu]:[null,null,1],scale:1},exit:{opacity:[null,null,0],[Tu]:[null,0,0],scale:.97},transition:{duration:.4,type:"spring"}};function _6e(e,t){return e.reduce(((e,n)=>(e[n]=t,e)),{})}function ke(e){return 0===e?0:e/16+"rem"}function Dt(e,t,n){return(t?.map(n)||[]).map(((t,n)=>0===n?t:{[`@media screen and (min-width: ${e[n-1]}px)`]:t}))}function JU(e,t){return void 0===e?t||f1:Array.isArray(e)?e:[e]}function $o(e,t,n=f1){if(!Array.isArray(n))throw new Error("the property must be array of numbers");if(0===n.length)return null;const{media:r,space:i}=Ae(e);return Dt(r,n,(e=>_6e(t,ke(i[e]))))}function C0(e,t){const{$size:n,$weight:r}=t,{font:i,media:o}=Ae(t.theme),{family:a,sizes:s,weights:l}=i[e],u=r&&l[r]||l.regular,c=s[2],d={position:"relative",fontFamily:a,fontWeight:u,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return C0.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:d}),C0.warned=!0),[d];return[d,...Dt(o,n,(e=>k6e(s[e]||c)))]}function k6e(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:i,letterSpacing:o,lineHeight:a}=e,s=t+n,l=a-s,u=(l-i)/2,c=2*Math.floor(1.125*r/2)+1,d=(l-c)/2;return{fontSize:ke(r),lineHeight:`calc(${a} / ${r})`,letterSpacing:ke(o),transform:`translateY(${ke(n)})`,"&:before":{marginTop:`calc(${ke(0-s)} - 1px)`},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:`calc(${c} / 16 * 1rem)`,margin:ke(d)},"& [data-sanity-icon]":{fontSize:`calc(${i} / 16 * 1rem)`,margin:ke(u)}}}function T6e(e){return C0("code",e)}function A6e(e){return C0("heading",e)}function j6e(e){return C0("label",e)}function UL(e){const{media:t}=Ae(e.theme);return Dt(t,e.$align,(e=>({textAlign:e})))}function I6e(e){return C0("text",e)}function je(e,t){const n=Qe(3);let r;n[0]!==t||n[1]!==e?(r=()=>[JU(e,t),JSON.stringify(e??t)],n[0]=t,n[1]=e,n[2]=r):r=n[2];const[i,o]=f.useState(r),[a,s]=i,l=JSON.stringify(e??t);return l!==s&&o([JU(e,t),l]),a}function QU(e,t){const n=[e];for(const e of t)Array.isArray(e)?n.push(...e):n.push(e);return n.filter(Boolean)}function Fn(e,t,n){const r=Qe(12),i=void 0===t?f1:t,[o,a]=f.useState(null);let s;r[0]!==o||r[1]!==i?(s=()=>QU(o,i),r[0]=o,r[1]=i,r[2]=s):s=r[2];const[l,u]=f.useState(s),c=f.useRef(l);let d,p,h,m;return r[3]!==o||r[4]!==i?(d=()=>{const e=c.current,t=QU(o,i);if(e.length!==t.length)return u(t),void(c.current=t);for(const n of e)if(!t.includes(n))return u(t),void(c.current=t);for(const n of t)if(!e.includes(n))return u(t),void(c.current=t)},p=[o,i],r[3]=o,r[4]=i,r[5]=d,r[6]=p):(d=r[5],p=r[6]),f.useEffect(d,p),r[7]!==n||r[8]!==l||r[9]!==e?(h=()=>{if(!e)return;const t=t=>{const r=t.target;if(r instanceof Node&&(!n||n.contains(r))){for(const e of l)if(r===e||e.contains(r))return;e(t)}};return window.addEventListener("mousedown",t),()=>{window.removeEventListener("mousedown",t)}},m=[n,e,l],r[7]=n,r[8]=l,r[9]=e,r[10]=h,r[11]=m):(h=r[10],m=r[11]),f.useEffect(h,m),a}function HL(e,t,n){const r=Qe(8),i=void 0===t?D6e:t;let o;r[0]!==n||r[1]!==i||r[2]!==e?(o=t=>{if(!e)return;const n=t.target;if(!(n instanceof Node))return;const r=i().flat();for(const e of r)if(e&&(n===e||e.contains(n)))return;e(t)},r[0]=n,r[1]=i,r[2]=e,r[3]=o):o=r[3];const a=VL(o),s=!!e;let l,u;r[4]!==s||r[5]!==a?(l=()=>{if(!s)return;const e=e=>a(e);return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},u=[s,a],r[4]=s,r[5]=a,r[6]=l,r[7]=u):(l=r[6],u=r[7]),f.useEffect(l,u),f.useDebugValue(e?"MouseDown On":"MouseDown Off")}function D6e(){return f1}function Vx(e,t){const n=Qe(6);let r,i;n[0]!==t||n[1]!==e.current?(r=()=>{e.current?.setCustomValidity(t||"")},n[0]=t,n[1]=e.current,n[2]=r):r=n[2],n[3]!==t||n[4]!==e?(i=[t,e],n[3]=t,n[4]=e,n[5]=i):i=n[5],f.useEffect(r,i)}var Sb,rp=[],O6e=function(){return rp.some((function(e){return e.activeTargets.length>0}))},R6e=function(){return rp.some((function(e){return e.skippedTargets.length>0}))},eH="ResizeObserver loop completed with undelivered notifications.",M6e=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:eH}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=eH),window.dispatchEvent(e)};!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Sb||(Sb={}));var lI,ip=function(e){return Object.freeze(e)},$6e=function(e,t){this.inlineSize=e,this.blockSize=t,ip(this)},ede=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ip(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),WL=function(e){return e instanceof SVGElement&&"getBBox"in e},tde=function(e){if(WL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},tH=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=e?.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},P6e=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Gy=typeof window<"u"?window:{},wC=new WeakMap,nH=/auto|scroll/,F6e=/^tb|vertical/,L6e=/msie|trident/i.test(Gy.navigator&&Gy.navigator.userAgent),Ql=function(e){return parseFloat(e||"0")},zg=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new $6e((n?t:e)||0,(n?e:t)||0)},rH=ip({devicePixelContentBoxSize:zg(),borderBoxSize:zg(),contentBoxSize:zg(),contentRect:new ede(0,0,0,0)}),nde=function(e,t){if(void 0===t&&(t=!1),wC.has(e)&&!t)return wC.get(e);if(tde(e))return wC.set(e,rH),rH;var n=getComputedStyle(e),r=WL(e)&&e.ownerSVGElement&&e.getBBox(),i=!L6e&&"border-box"===n.boxSizing,o=F6e.test(n.writingMode||""),a=!r&&nH.test(n.overflowY||""),s=!r&&nH.test(n.overflowX||""),l=r?0:Ql(n.paddingTop),u=r?0:Ql(n.paddingRight),c=r?0:Ql(n.paddingBottom),d=r?0:Ql(n.paddingLeft),f=r?0:Ql(n.borderTopWidth),p=r?0:Ql(n.borderRightWidth),h=r?0:Ql(n.borderBottomWidth),m=d+u,g=l+c,y=(r?0:Ql(n.borderLeftWidth))+p,v=f+h,b=s?e.offsetHeight-v-e.clientHeight:0,x=a?e.offsetWidth-y-e.clientWidth:0,w=i?m+y:0,C=i?g+v:0,k=r?r.width:Ql(n.width)-w-x,j=r?r.height:Ql(n.height)-C-b,S=k+m+x+y,E=j+g+b+v,_=ip({devicePixelContentBoxSize:zg(Math.round(k*devicePixelRatio),Math.round(j*devicePixelRatio),o),borderBoxSize:zg(S,E,o),contentBoxSize:zg(k,j,o),contentRect:new ede(d,l,k,j)});return wC.set(e,_),_},rde=function(e,t,n){var r=nde(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Sb.DEVICE_PIXEL_CONTENT_BOX:return a;case Sb.BORDER_BOX:return i;default:return o}},N6e=function(e){var t=nde(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=ip([t.borderBoxSize]),this.contentBoxSize=ip([t.contentBoxSize]),this.devicePixelContentBoxSize=ip([t.devicePixelContentBoxSize])},ide=function(e){if(tde(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},B6e=function(){var e=1/0,t=[];rp.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new N6e(t.target),i=ide(t.target);r.push(n),t.lastReportedSize=rde(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},iH=function(e){rp.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ide(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},V6e=function(){var e=0;for(iH(e);O6e();)e=B6e(),iH(e);return R6e()&&M6e(),e>0},ade=[],z6e=function(){return ade.splice(0).forEach((function(e){return e()}))},U6e=function(e){if(!lI){var t=0,n=document.createTextNode("");new MutationObserver((function(){return z6e()})).observe(n,{characterData:!0}),lI=function(){n.textContent="".concat(t?t--:t++)}}ade.push(e),lI()},H6e=function(e){U6e((function(){requestAnimationFrame(e)}))},yS=0,W6e=function(){return!!yS},G6e=250,Y6e={attributes:!0,characterData:!0,childList:!0,subtree:!0},aH=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],oH=function(e){return void 0===e&&(e=0),Date.now()+e},uI=!1,q6e=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=G6e),!uI){uI=!0;var n=oH(e);H6e((function(){var r=!1;try{r=V6e()}finally{if(uI=!1,e=n-oH(),!W6e())return;r?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Y6e)};document.body?t():Gy.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),aH.forEach((function(t){return Gy.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),aH.forEach((function(t){return Gy.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),bR=new q6e,sH=function(e){!yS&&e>0&&bR.start(),!(yS+=e)&&bR.stop()},K6e=function(e){return!WL(e)&&!P6e(e)&&"inline"===getComputedStyle(e).display},Z6e=function(){function e(e,t){this.target=e,this.observedBox=t||Sb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=rde(this.target,this.observedBox,!0);return K6e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),X6e=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},CC=new WeakMap,lH=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},SC=function(){function e(){}return e.connect=function(e,t){var n=new X6e(e,t);CC.set(e,n)},e.observe=function(e,t,n){var r=CC.get(e),i=0===r.observationTargets.length;lH(r.observationTargets,t)<0&&(i&&rp.push(r),r.observationTargets.push(new Z6e(t,n&&n.box)),sH(1),bR.schedule())},e.unobserve=function(e,t){var n=CC.get(e),r=lH(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&rp.splice(rp.indexOf(n),1),n.observationTargets.splice(r,1),sH(-1))},e.disconnect=function(e){var t=this,n=CC.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),J6e=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");SC.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tH(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");SC.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tH(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");SC.unobserve(this,e)},e.prototype.disconnect=function(){SC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const ode=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:J6e,Q6e=tNe();function eNe(){return{subscribe(e,t){const n=new ode((([e])=>{t({_contentRect:e.contentRect,border:{width:e.borderBoxSize[0].inlineSize,height:e.borderBoxSize[0].blockSize},content:{width:e.contentRect.width,height:e.contentRect.height}})}));return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function tNe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const i=t.get(n)||[];let o=e.get(n);return t.has(n)||(t.set(n,i),o=eNe().subscribe(n,(e=>{for(const t of i)t(e)}))),i.push(r),()=>{const e=i.indexOf(r);e>-1&&i.splice(e,1),0===i.length&&o&&o()}}}}function zx(e){const t=Qe(3),[n,r]=f.useState(null);let i,o;return t[0]!==e?(i=()=>{if(e)return Q6e.subscribe(e,r)},o=[e],t[0]=e,t[1]=i,t[2]=o):(i=t[1],o=t[2]),f.useEffect(i,o),n}function Tp(e){return zx(e)?._contentRect||null}function mo(e){const t=Qe(3);let n,r;return t[0]!==e?(n=()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),f.useEffect(n,r)}function sde(e,t){const{subscribe:n,getSnapshot:r}=f.useMemo((()=>{let t;const n=()=>(t||(t=window.matchMedia(e)),t);return{subscribe:e=>{const t=n();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)},getSnapshot:()=>n().matches}}),[e]);return f.useDebugValue(e),f.useSyncExternalStore(n,r,t)}function nNe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const jc=nNe();function xd(e,t){const n=Symbol.for(e);return typeof document>"u"?f.createContext(t):(jc[n]=jc[n]||f.createContext(t),jc[n])}const xR=xd("@sanity/ui/context/theme",null);function Eb(e){const t=Qe(15),n=f.useContext(xR),{children:r}=e,i=e.scheme??(n?.scheme||"light"),o=e.theme??(n?.theme||null),a=e.tone??(n?.tone||"default");let s;e:{if(!o){s=null;break e}let e;t[0]!==o||t[1]!==i||t[2]!==a?(e={version:0,theme:o,scheme:i,tone:a},t[0]=o,t[1]=i,t[2]=a,t[3]=e):e=t[3],s=e}const l=s;let c;e:{if(!o){c=null;break e}let e;t[4]!==o||t[5]!==i||t[6]!==a?(e=uIe(o,i,a),t[4]=o,t[5]=i,t[6]=a,t[7]=e):e=t[7],c=e}const d=c;if(!d){let e;return t[8]===Symbol.for("react.memo_cache_sentinel")?(e=u.jsx("pre",{children:'ThemeProvider: no "theme" property provided'}),t[8]=e):e=t[8],e}let p,h;return t[9]!==r||t[10]!==d?(p=u.jsx(mDe,{theme:d,children:r}),t[9]=r,t[10]=d,t[11]=p):p=t[11],t[12]!==p||t[13]!==l?(h=u.jsx(xR.Provider,{value:l,children:p}),t[12]=p,t[13]=l,t[14]=h):h=t[14],h}function h1(){const e=f.useContext(xR);if(!e)throw new Error("useRootTheme(): missing context value");return e}function GL(e){const t=Qe(5),{children:n,scheme:r,tone:i}=e,o=h1(),a=r||o.scheme;let s;return t[0]!==n||t[1]!==o.theme||t[2]!==a||t[3]!==i?(s=u.jsx(Eb,{scheme:a,theme:o.theme,tone:i,children:n}),t[0]=n,t[1]=o.theme,t[2]=a,t[3]=i,t[4]=s):s=t[4],s}function p1(){return Ooe()}function wd(){const e=Qe(2),t=Ooe();let n;return e[0]!==t?(n=Ae(t),e[0]=t,e[1]=n):n=e[1],n}function rNe(e,t){return 0===t?`screen and (max-width: ${e[t]-1}px)`:t===e.length?`screen and (min-width: ${e[t-1]}px)`:`screen and (min-width: ${e[t-1]}px) and (max-width: ${e[t]-1}px)`}function iNe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let r=t;r>-1;r-=1){const t=rNe(e,r);n.push({index:r,mq:window.matchMedia(t)})}}return n};return{getSnapshot:()=>{for(const{index:e,mq:t}of r())if(t.matches)return e;return 0},subscribe:e=>{const t=[];for(const{mq:n}of r()){const r=()=>{n.matches&&e()};n.addEventListener("change",r),t.push((()=>n.removeEventListener("change",r)))}return()=>{for(const e of t)e()}}}}function aNe(){return 0}function om(){const e=Qe(2),{media:t}=wd();let n,r;e[0]!==t?(r=iNe(t),e[0]=t,e[1]=r):r=e[1],n=r;const i=n;return f.useSyncExternalStore(i.subscribe,i.getSnapshot,aNe)}function oNe(e){return sde("(prefers-color-scheme: dark)",sNe)}function sNe(){return!1}function Ek(e){return sde("(prefers-reduced-motion: reduce)",lNe)}function lNe(){return!1}function uNe(){return[cNe,dNe,fNe,hNe,pNe]}function cNe(e){const{card:t,media:n}=Ae(e.theme),r=`${t.border?.width??1}px solid var(--card-border-color)`;return Dt(n,e.$border,(e=>e?{"&&":{border:r}}:{"&&":{border:0}}))}function dNe(e){const{card:t,media:n}=Ae(e.theme),r=`${t.border?.width??1}px solid var(--card-border-color)`;return Dt(n,e.$borderTop,(e=>e?{"&&":{borderTop:r}}:{"&&":{borderTop:0}}))}function fNe(e){const{card:t,media:n}=Ae(e.theme),r=`${t.border?.width??1}px solid var(--card-border-color)`;return Dt(n,e.$borderRight,(e=>e?{"&&":{borderRight:r}}:{"&&":{borderRight:0}}))}function hNe(e){const{card:t,media:n}=Ae(e.theme),r=`${t.border?.width??1}px solid var(--card-border-color)`;return Dt(n,e.$borderBottom,(e=>e?{"&&":{borderBottom:r}}:{"&&":{borderBottom:0}}))}function pNe(e){const{card:t,media:n}=Ae(e.theme),r=`${t.border?.width??1}px solid var(--card-border-color)`;return Dt(n,e.$borderLeft,(e=>e?{"&&":{borderLeft:r}}:{"&&":{borderLeft:0}}))}Eb.displayName="ThemeProvider",GL.displayName="ThemeColorProvider";const mNe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},gNe={content:"content-box",border:"border-box"},vNe={stretch:"stretch",fill:"100%"};function yNe(){return mNe}function bNe(){return[wNe,CNe,SNe,xNe]}function xNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$display,(e=>({"&:not([hidden])":{display:e}})))}function wNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$sizing,(e=>({boxSizing:gNe[e]})))}function CNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$height,(e=>({height:vNe[e]})))}function SNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$overflow,(e=>({overflow:e})))}const ENe={"&&:not([hidden])":{display:"flex"}};function _Ne(){return[ENe,kNe,TNe,ANe,jNe,INe]}function kNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$align,(e=>({alignItems:e})))}function TNe(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$gap,(e=>({gap:e?ke(n[e]):void 0})))}function ANe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$wrap,(e=>({flexWrap:e})))}function jNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$justify,(e=>({justifyContent:e})))}function INe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$direction,(e=>({flexDirection:e})))}const DNe={minWidth:0,minHeight:0};function lde(){return[DNe,ONe]}function ONe(e){const{media:t}=Ae(e.theme);return e.$flex?Dt(t,e.$flex,(e=>({flex:e}))):f1}function oi(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function Ys(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&oi(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const RNe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},MNe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},$Ne={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function PNe(){return[RNe,FNe,LNe,NNe,BNe,VNe,zNe,UNe,HNe]}function FNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$autoFlow,(e=>({gridAutoFlow:e})))}function LNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$autoRows,(e=>({gridAutoRows:e&&$Ne[e]})))}function NNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$autoCols,(e=>({gridAutoColumns:e&&MNe[e]})))}function BNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$columns,(e=>({gridTemplateColumns:e&&`repeat(${e},minmax(0,1fr));`})))}function VNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$rows,(e=>({gridTemplateRows:e&&`repeat(${e},minmax(0,1fr));`})))}function zNe(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$gap,(e=>({gridGap:e?ke(n[e]):void 0})))}function UNe(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$gapX,(e=>({columnGap:e?ke(n[e]):void 0})))}function HNe(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$gapY,(e=>({rowGap:e?ke(n[e]):void 0})))}function WNe(){return[qNe,KNe,ZNe,XNe,JNe,QNe]}const GNe={auto:"auto",full:"1 / -1"},YNe={auto:"auto",full:"1 / -1"};function qNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$row,(e=>"number"==typeof e?{gridRow:`span ${e} / span ${e}`}:{gridRow:GNe[e]}))}function KNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$rowStart,(e=>({gridRowStart:e})))}function ZNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$rowEnd,(e=>({gridRowEnd:e})))}function XNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$column,(e=>"number"==typeof e?{gridColumn:`span ${e} / span ${e}`}:{gridColumn:YNe[e]}))}function JNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$columnStart,(e=>({gridColumnStart:e})))}function QNe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$columnEnd,(e=>({gridColumnEnd:e})))}function YL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:i,$space:o}=e,{font:a,media:s,space:l}=Ae(e.theme),u=Math.max(i.length,o.length,t.length),c=[],d=[],f=[];for(let e=0;e<u;e+=1)f[e]=void 0===t[e]?f[e-1]:t[e],c[e]=void 0===i[e]?c[e-1]:i[e],d[e]=void 0===o[e]?d[e-1]:o[e];return Dt(s,c,((e,t)=>{const i=a.text.sizes[f[t]]||a.text.sizes[2],o=i.lineHeight-i.ascenderHeight-i.descenderHeight,s=l[c[t]],u=l[d[t]],p={paddingTop:ke(s-i.ascenderHeight),paddingRight:ke(s),paddingBottom:ke(s-i.descenderHeight),paddingLeft:ke(s)};return r&&(p.paddingRight=ke(s+o+u)),n&&(p.paddingLeft=ke(s+o+u)),p}))}function e8e(e){return YL({...e,$iconRight:!0})}const t8e=de`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`;function ude(){return t8e}function cde(e){const{$scheme:t,$tone:n,$weight:r}=e,{color:i,font:o}=Ae(e.theme);return de`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${o.text.family};
    font-weight: ${r&&o.text.weights[r]||o.text.weights.regular};
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='${t}'][data-tone='${n}'] {
      --input-fg-color: ${i.input.default.enabled.fg};
      --input-placeholder-color: ${i.input.default.enabled.placeholder};

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: ${i.input.default.enabled.fg};
        --input-placeholder-color: ${i.input.default.enabled.placeholder};
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: ${i.input.default.disabled.fg};
        --input-placeholder-color: ${i.input.default.disabled.placeholder};
      }

      /* invalid */
      &:invalid {
        --input-fg-color: ${i.input.invalid.enabled.fg};
        --input-placeholder-color: ${i.input.invalid.enabled.placeholder};
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: ${i.input.default.readOnly.fg};
        --input-placeholder-color: ${i.input.default.readOnly.placeholder};
      }
    }
  `}function dde(e){const{font:t,media:n}=Ae(e.theme);return Dt(n,e.$fontSize,(e=>{const n=t.text.sizes[e]||t.text.sizes[2];return{fontSize:ke(n.fontSize),lineHeight:n.lineHeight/n.fontSize}}))}function fde(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:i,$unstableDisableFocusRing:o}=e,{color:a,input:s}=Ae(e.theme);return de`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: ${t?0:void 0};
    border-bottom-left-radius: ${t?0:void 0};
    border-top-right-radius: ${n?0:void 0};
    border-bottom-right-radius: ${n?0:void 0};

    &[data-scheme='${r}'][data-tone='${i}'] {
      --card-bg-color: ${a.input.default.enabled.bg};
      --card-fg-color: ${a.input.default.enabled.fg};

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: ${oi({color:a.input.default.enabled.border,width:s.border.width})};
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: ${a.input.invalid.enabled.bg};
        --card-fg-color: ${a.input.invalid.enabled.fg};

        &[data-border] {
          --input-box-shadow: ${oi({color:a.input.invalid.enabled.border,width:s.border.width})};
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: ${o?void 0:Ys({border:{color:a.input.default.enabled.border,width:s.border.width},focusRing:s.text.focusRing})};
        }

        &:not([data-border]) {
          --input-box-shadow: ${o?void 0:Ys({focusRing:s.text.focusRing})};
        }
      }

      /* disabled */
      *:not(:invalid):disabled + & {
        --card-bg-color: ${a.input.default.disabled.bg} !important;
        --card-fg-color: ${a.input.default.disabled.fg} !important;
        --card-icon-color: ${a.input.default.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${oi({color:a.input.default.disabled.border,width:s.border.width})};
        }
      }

      *:invalid:disabled + & {
        --card-bg-color: ${a.input.invalid.disabled.bg} !important;
        --card-fg-color: ${a.input.invalid.disabled.fg} !important;
        --card-icon-color: ${a.input.invalid.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${oi({color:a.input.invalid.disabled.border,width:s.border.width})};
        }
      }

      /* readOnly */
      *:not(:invalid):read-only + & {
        --card-bg-color: ${a.input.default.readOnly.bg} !important;
        --card-fg-color: ${a.input.default.readOnly.fg} !important;
      }

      *:invalid:read-only + & {
        --card-bg-color: ${a.input.invalid.readOnly.bg} !important;
        --card-fg-color: ${a.input.invalid.readOnly.fg} !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: ${a.input.default.hovered.bg};
          --card-fg-color: ${a.input.default.hovered.fg};
        }

        *:invalid:not(:disabled):not(:read-only):hover + & {
          --card-bg-color: ${a.input.invalid.hovered.bg};
          --card-fg-color: ${a.input.invalid.hovered.fg};
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${oi({color:a.input.default.hovered.border,width:s.border.width})};
        }

        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${oi({color:a.input.invalid.hovered.border,width:s.border.width})};
        }
      }
    }
  `}function n8e(e){const{theme:t}=e;return[$o(t,["margin"],e.$margin),$o(t,["marginLeft","marginRight"],e.$marginX),$o(t,["marginTop","marginBottom"],e.$marginY),$o(t,["marginTop"],e.$marginTop),$o(t,["marginRight"],e.$marginRight),$o(t,["marginBottom"],e.$marginBottom),$o(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function hde(e){const{theme:t}=e;return[$o(t,["padding"],e.$padding),$o(t,["paddingLeft","paddingRight"],e.$paddingX),$o(t,["paddingTop","paddingBottom"],e.$paddingY),$o(t,["paddingTop"],e.$paddingTop),$o(t,["paddingRight"],e.$paddingRight),$o(t,["paddingBottom"],e.$paddingBottom),$o(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function Cd(e){const{media:t,radius:n}=Ae(e.theme);return Dt(t,e.$radius,(e=>{let t=0;return"number"==typeof e&&(t=ke(n[e])),"full"===e&&(t="9999px"),{borderRadius:t}}))}function cI(e,t){return`${e.map(ke).join(" ")} ${t}`}function r8e(e,t=1){if(!e)return kf;return{boxShadow:`${`0 0 0 ${ke(t)} var(--card-shadow-outline-color)`}, ${cI(e.umbra,"var(--card-shadow-umbra-color)")}, ${cI(e.penumbra,"var(--card-shadow-penumbra-color)")}, ${cI(e.ambient,"var(--card-shadow-ambient-color)")}`}}function i8e(e){const{card:t,media:n,shadow:r}=Ae(e.theme);return Dt(n,e.$shadow,(e=>r8e(r[e],t.shadow.outline)))}function a8e(e){const{$accent:t,$muted:n}=e,{font:r}=Ae(e.theme);return de`
    text-transform: uppercase;

    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const o8e=$.div(j6e,UL,a8e),s8e=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,m1=f.forwardRef((function(e,t){const n=Qe(22);let r,i,o,a,s,l,c,d;n[0]!==e?(({accent:r,align:i,children:o,muted:s,size:l,textOverflow:c,weight:d,...a}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8]);const f=void 0!==s&&s,p=void 0===l?2:l;let h=o;if("ellipsis"===c){let e;n[9]!==h?(e=u.jsx(s8e,{children:h}),n[9]=h,n[10]=e):e=n[10],h=e}else{let e;n[11]!==h?(e=u.jsx("span",{children:h}),n[11]=h,n[12]=e):e=n[12],h=e}const m=je(i),g=je(p);let y;return n[13]!==r||n[14]!==h||n[15]!==f||n[16]!==t||n[17]!==a||n[18]!==m||n[19]!==g||n[20]!==d?(y=u.jsx(o8e,{"data-ui":"Label",...a,$accent:r,$align:m,$muted:f,$size:g,$weight:d,ref:t,children:h}),n[13]=r,n[14]=h,n[15]=f,n[16]=t,n[17]=a,n[18]=m,n[19]=g,n[20]=d,n[21]=y):y=n[21],y}));m1.displayName="ForwardRef(Label)";const g1={root:u8e,arrow:l8e,bgStroke:h8e,stroke:p8e,initials:f8e,image:d8e};function l8e(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function u8e(e){const{$color:t}=e,{avatar:n}=Ae(e.theme);return{"--avatar-bg-color":`var(--card-avatar-${t}-bg-color)`,"--avatar-fg-color":`var(--card-avatar-${t}-fg-color)`,backgroundColor:"var(--avatar-bg-color)",position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ys({focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function c8e(e){const{avatar:t,media:n}=Ae(e.theme);return Dt(n,e.$size,(e=>{const n=t.sizes[e]||t.sizes[0];return{width:ke(n.size),height:ke(n.size),borderRadius:ke(n.size/2),"&>svg":{width:ke(n.size),height:ke(n.size),borderRadius:ke(n.size/2)}}}))}function d8e(){return{position:"relative"}}function f8e(){return{width:"100%",height:"100%",color:"var(--avatar-fg-color)",alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function h8e(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function p8e(){return{strokeWidth:"2px",stroke:"var(--avatar-bg-color)",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const m8e=$.div(c8e,g1.root),g8e=$.div(g1.arrow),v8e=$.ellipse(g1.bgStroke),y8e=$.ellipse(g1.stroke),b8e=$.div(g1.initials),x8e=$(m1)({color:"inherit"}),w8e=$.svg(g1.image),qL=f.forwardRef((function(e,t){const n=Qe(52);let r,i,o,a,s,l,c,d,p,h,m,g;n[0]!==e?(({__unstable_hideInnerStroke:r,as:a,color:p,src:d,title:g,initials:s,onImageLoadError:l,arrowPosition:o,animateArrowFrom:i,status:h,size:m,...c}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h,n[11]=m,n[12]=g):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10],m=n[11],g=n[12]);const y=void 0===p?"gray":p,v=void 0===h?"online":h,b=void 0===m?1:m,{avatar:x}=wd(),w=vIe.isValidElementType(a)?a:"div",C=je(b),k=(x.sizes[C[0]]||x.sizes[0]).size,j=k/2,S=f.useId(),[E,_]=f.useState(i||o||"inside"),[A,T]=f.useState(!1),D=`avatar-image-${S}`;let M,I,O,N,P;n[13]!==E||n[14]!==o?(M=()=>{if(E===o)return;const e=requestAnimationFrame((()=>_(o)));return()=>cancelAnimationFrame(e)},I=[E,o],n[13]=E,n[14]=o,n[15]=M,n[16]=I):(M=n[15],I=n[16]),f.useEffect(M,I),n[17]!==d?(O=()=>{d&&T(!1)},N=[d],n[17]=d,n[18]=O,n[19]=N):(O=n[18],N=n[19]),f.useEffect(O,N),n[20]!==l?(P=()=>{T(!0),l&&l(new Error("Avatar: the image failed to load"))},n[20]=l,n[21]=P):P=n[21];const R=P;let F,L;n[22]!==C?(L=C.map(C8e),n[22]=C,n[23]=L):L=n[23],F=L;const $=F,B="string"==typeof w?w:void 0;let V,z,U,H;return n[24]!==y?(V=u.jsx(g8e,{children:u.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:u.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:y})})}),n[24]=y,n[25]=V):V=n[25],n[26]!==r||n[27]!==j||n[28]!==k||n[29]!==R||n[30]!==A||n[31]!==D||n[32]!==d?(z=!A&&d&&u.jsxs(w8e,{viewBox:`0 0 ${k} ${k}`,fill:"none",children:[u.jsx("defs",{children:u.jsx("pattern",{id:D,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:u.jsx("image",{href:d,width:"1",height:"1",onError:R})})}),u.jsx("circle",{cx:j,cy:j,r:j,fill:`url(#${D})`}),!r&&u.jsx(v8e,{cx:j,cy:j,rx:j,ry:j,vectorEffect:"non-scaling-stroke"}),u.jsx(y8e,{cx:j,cy:j,rx:j,ry:j,vectorEffect:"non-scaling-stroke"})]}),n[26]=r,n[27]=j,n[28]=k,n[29]=R,n[30]=A,n[31]=D,n[32]=d,n[33]=z):z=n[33],n[34]!==A||n[35]!==s||n[36]!==$||n[37]!==d?(U=(A||!d)&&s&&u.jsx(u.Fragment,{children:u.jsx(b8e,{children:u.jsx(x8e,{forwardedAs:"span",size:$,weight:"medium",children:s})})}),n[34]=A,n[35]=s,n[36]=$,n[37]=d,n[38]=U):U=n[38],n[39]!==E||n[40]!==w||n[41]!==y||n[42]!==t||n[43]!==c||n[44]!==C||n[45]!==v||n[46]!==B||n[47]!==V||n[48]!==z||n[49]!==U||n[50]!==g?(H=u.jsxs(m8e,{as:w,"data-as":B,"data-ui":"Avatar",...c,$color:y,$size:C,"aria-label":g,"data-arrow-position":E,"data-status":v,ref:t,title:g,children:[V,z,U]}),n[39]=E,n[40]=w,n[41]=y,n[42]=t,n[43]=c,n[44]=C,n[45]=v,n[46]=B,n[47]=V,n[48]=z,n[49]=U,n[50]=g,n[51]=H):H=n[51],H}));function C8e(e){return 1===e?1:2===e?3:3===e?5:0}function S8e(e){const{avatar:t,media:n}=Ae(e.theme);return Dt(n,e.$size,(e=>{const n=t.sizes[e];return n?{borderRadius:ke(n.size/2),minWidth:ke(n.size),height:ke(n.size)}:kf}))}function E8e(e){const{space:t}=Ae(e.theme);return de`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1px var(--card-hairline-hard-color);
    padding: 0 ${ke(t[2])};

    &:not([hidden]) {
      display: flex;
    }
  `}qL.displayName="ForwardRef(Avatar)";const _8e=$.div(S8e,E8e),IE=f.forwardRef((function(e,t){const n=Qe(9),{count:r,size:i}=e,o=je(void 0===i?1:i);let a,s;n[0]!==o?(s=o.map(k8e),n[0]=o,n[1]=s):s=n[1],a=s;const l=a;let c,d;return n[2]!==r||n[3]!==l?(c=u.jsx(m1,{as:"span",size:l,weight:"medium",children:r}),n[2]=r,n[3]=l,n[4]=c):c=n[4],n[5]!==t||n[6]!==o||n[7]!==c?(d=u.jsx(_8e,{$size:o,"data-ui":"AvatarCounter",ref:t,children:c}),n[5]=t,n[6]=o,n[7]=c,n[8]=d):d=n[8],d}));function k8e(e){return 1===e?1:2===e?3:3===e?5:0}IE.displayName="ForwardRef(AvatarCounter)";const T8e=de`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`;function A8e(){return T8e}function j8e(e){const{avatar:t,media:n}=Ae(e.theme);return Dt(n,e.$size,(e=>{const n=t.sizes[e];return n?{"& > div + div":{marginLeft:ke(n.distance)}}:kf}))}const I8e=$.div(j8e,A8e),Ux=f.forwardRef((function(e,t){const n=Qe(15);let r,i,o,a;n[0]!==e?(({children:r,maxLength:o,size:a,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=void 0===o?4:o,l=void 0===a?1:a,c=f.Children.toArray(r).filter(f.isValidElement),d=Math.max(s,0),p=je(l),h=c.length,m=h-(d-1),g=m>1?c.slice(m,h):c,y=I8e,v=0===h&&u.jsx("div",{children:u.jsx(IE,{count:h,size:p})}),b=0!==h&&m>1&&u.jsx("div",{children:u.jsx(IE,{count:m,size:p})});let x;n[5]!==p?(x=(e,t)=>u.jsx("div",{children:f.cloneElement(e,{size:p})},String(t)),n[5]=p,n[6]=x):x=n[6];const w=g.map(x);let C;return n[7]!==y||n[8]!==t||n[9]!==i||n[10]!==p||n[11]!==v||n[12]!==b||n[13]!==w?(C=u.jsxs(y,{"data-ui":"AvatarStack",...i,ref:t,$size:p,children:[v,b,w]}),n[7]=y,n[8]=t,n[9]=i,n[10]=p,n[11]=v,n[12]=b,n[13]=w,n[14]=C):C=n[14],C}));Ux.displayName="ForwardRef(AvatarStack)";const D8e=$.div(yNe,lde,bNe,WNe,n8e,hde),N=f.forwardRef((function(e,t){const n=Qe(59);let r,i,o,a,s,l,c,d,f,p,h,m,g,y,v,b,x,w,C,k,j,S,E,_,A,T,D;n[0]!==e?(({as:_,column:r,columnStart:o,columnEnd:i,display:A,flex:a,height:s,margin:T,marginX:p,marginY:h,marginTop:f,marginRight:d,marginBottom:l,marginLeft:c,overflow:m,padding:D,paddingX:x,paddingY:w,paddingTop:b,paddingRight:v,paddingBottom:g,paddingLeft:y,row:k,rowStart:S,rowEnd:j,sizing:E,...C}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=f,n[10]=p,n[11]=h,n[12]=m,n[13]=g,n[14]=y,n[15]=v,n[16]=b,n[17]=x,n[18]=w,n[19]=C,n[20]=k,n[21]=j,n[22]=S,n[23]=E,n[24]=_,n[25]=A,n[26]=T,n[27]=D):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],g=n[13],y=n[14],v=n[15],b=n[16],x=n[17],w=n[18],C=n[19],k=n[20],j=n[21],S=n[22],E=n[23],_=n[24],A=n[25],T=n[26],D=n[27]);const M=void 0===_?"div":_,I=void 0===A?"block":A,O=void 0===T?0:T,N=void 0===D?0:D,P="string"==typeof M?M:void 0,R=je(r),F=je(o),L=je(i),$=je(I),B=je(a),V=je(s),z=je(O),U=je(p),H=je(h),W=je(f),q=je(d),G=je(l),Y=je(c),K=je(m),Z=je(N),X=je(x),J=je(w),Q=je(b),ee=je(v),te=je(g),ne=je(y),re=je(k),ie=je(S),oe=je(j),ae=je(E);let se;return n[28]!==M||n[29]!==e.children||n[30]!==t||n[31]!==C||n[32]!==V||n[33]!==z||n[34]!==U||n[35]!==H||n[36]!==W||n[37]!==q||n[38]!==G||n[39]!==Y||n[40]!==K||n[41]!==Z||n[42]!==X||n[43]!==J||n[44]!==Q||n[45]!==ee||n[46]!==te||n[47]!==ne||n[48]!==re||n[49]!==ie||n[50]!==oe||n[51]!==ae||n[52]!==P||n[53]!==R||n[54]!==F||n[55]!==L||n[56]!==$||n[57]!==B?(se=u.jsx(D8e,{"data-as":P,"data-ui":"Box",...C,$column:R,$columnStart:F,$columnEnd:L,$display:$,$flex:B,$height:V,$margin:z,$marginX:U,$marginY:H,$marginTop:W,$marginRight:q,$marginBottom:G,$marginLeft:Y,$overflow:K,$padding:Z,$paddingX:X,$paddingY:J,$paddingTop:Q,$paddingRight:ee,$paddingBottom:te,$paddingLeft:ne,$row:re,$rowStart:ie,$rowEnd:oe,$sizing:ae,as:M,ref:t,children:e.children}),n[28]=M,n[29]=e.children,n[30]=t,n[31]=C,n[32]=V,n[33]=z,n[34]=U,n[35]=H,n[36]=W,n[37]=q,n[38]=G,n[39]=Y,n[40]=K,n[41]=Z,n[42]=X,n[43]=J,n[44]=Q,n[45]=ee,n[46]=te,n[47]=ne,n[48]=re,n[49]=ie,n[50]=oe,n[51]=ae,n[52]=P,n[53]=R,n[54]=F,n[55]=L,n[56]=$,n[57]=B,n[58]=se):se=n[58],se}));function O8e(e){const{$accent:t,$muted:n}=e,{font:r}=Ae(e.theme);return de`
    color: var(--card-fg-color);

    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.text.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
      color: var(--card-icon-color);

      & path {
        vector-effect: non-scaling-stroke !important;
      }
    }
  `}N.displayName="ForwardRef(Box)";const R8e=$.div(I6e,UL,O8e),M8e=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,L=f.forwardRef((function(e,t){const n=Qe(22);let r,i,o,a,s,l,c,d;n[0]!==e?(({accent:a,align:r,children:i,muted:s,size:l,textOverflow:c,weight:d,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8]);const f=void 0!==a&&a,p=void 0!==s&&s,h=void 0===l?2:l;let m=i;if("ellipsis"===c){let e;n[9]!==m?(e=u.jsx(M8e,{children:m}),n[9]=m,n[10]=e):e=n[10],m=e}const g=je(r),y=je(h);let v,b;return n[11]!==m?(v=u.jsx("span",{children:m}),n[11]=m,n[12]=v):v=n[12],n[13]!==f||n[14]!==p||n[15]!==t||n[16]!==o||n[17]!==g||n[18]!==y||n[19]!==v||n[20]!==d?(b=u.jsx(R8e,{"data-ui":"Text",...o,$accent:f,$align:g,$muted:p,ref:t,$size:y,$weight:d,children:v}),n[13]=f,n[14]=p,n[15]=t,n[16]=o,n[17]=g,n[18]=y,n[19]=v,n[20]=d,n[21]=b):b=n[21],b}));function $8e(e){const{$tone:t}=e;return{"--card-bg-color":`var(--card-badge-${t}-bg-color)`,"--card-fg-color":`var(--card-badge-${t}-fg-color)`,backgroundColor:"var(--card-bg-color)",cursor:"default","&:not([hidden])":{display:"inline-block",verticalAlign:"top"}}}L.displayName="ForwardRef(Text)";const P8e=$(N)(Cd,$8e),ja=f.forwardRef((function(e,t){const n=Qe(17);let r,i,o,a,s,l;if(n[0]!==e){const{children:t,fontSize:u,mode:c,padding:d,radius:f,tone:p,...h}=e;r=t,o=u,a=d,s=f,l=p,i=h,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l}else r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6];const c=void 0===o?1:o,d=void 0===a?1:a,f=void 0===l?"default":l,p=je(void 0===s?"full":s),h=je(d);let m,g;return n[7]!==r||n[8]!==c?(m=u.jsx(L,{size:c,children:r}),n[7]=r,n[8]=c,n[9]=m):m=n[9],n[10]!==t||n[11]!==i||n[12]!==p||n[13]!==h||n[14]!==m||n[15]!==f?(g=u.jsx(P8e,{"data-ui":"Badge",...i,$tone:f,$radius:p,padding:h,ref:t,children:m}),n[10]=t,n[11]=i,n[12]=p,n[13]=h,n[14]=m,n[15]=f,n[16]=g):g=n[16],g}));ja.displayName="ForwardRef(Badge)";const F8e=$(N)(lde,_Ne),U=f.forwardRef((function(e,t){const n=Qe(17);let r,i,o,a,s,l,c;n[0]!==e?(({align:r,as:i,direction:l,gap:o,justify:a,wrap:c,...s}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7]);const d=void 0===l?"row":l,f=je(r),p=je(d),h=je(o),m=je(a),g=je(c);let y;return n[8]!==i||n[9]!==t||n[10]!==s||n[11]!==f||n[12]!==p||n[13]!==h||n[14]!==m||n[15]!==g?(y=u.jsx(F8e,{"data-ui":"Flex",...s,$align:f,$direction:p,$gap:h,$justify:m,$wrap:g,forwardedAs:i,ref:t}),n[8]=i,n[9]=t,n[10]=s,n[11]=f,n[12]=p,n[13]=h,n[14]=m,n[15]=g,n[16]=y):y=n[16],y}));U.displayName="ForwardRef(Flex)";const L8e=Hf`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,N8e=$(L)`
  & > span > svg {
    animation: ${L8e} 500ms linear infinite;
  }
`,qf=f.forwardRef((function(e,t){const n=Qe(4);let r,i;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(s1,{}),n[0]=r):r=n[0],n[1]!==e||n[2]!==t?(i=u.jsx(N8e,{"data-ui":"Spinner",...e,ref:t,children:r}),n[1]=e,n[2]=t,n[3]=i):i=n[3],i}));function cn(e,t,n=!1){return{"--card-backdrop-color":e.backdrop,"--card-focus-ring-color":e.focusRing,"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-accent-fg-color":t.accent.fg,"--card-avatar-gray-bg-color":t.avatar.gray.bg,"--card-avatar-gray-fg-color":t.avatar.gray.fg,"--card-avatar-blue-bg-color":t.avatar.blue.bg,"--card-avatar-blue-fg-color":t.avatar.blue.fg,"--card-avatar-purple-bg-color":t.avatar.purple.bg,"--card-avatar-purple-fg-color":t.avatar.purple.fg,"--card-avatar-magenta-bg-color":t.avatar.magenta.bg,"--card-avatar-magenta-fg-color":t.avatar.magenta.fg,"--card-avatar-red-bg-color":t.avatar.red.bg,"--card-avatar-red-fg-color":t.avatar.red.fg,"--card-avatar-orange-bg-color":t.avatar.orange.bg,"--card-avatar-orange-fg-color":t.avatar.orange.fg,"--card-avatar-yellow-bg-color":t.avatar.yellow.bg,"--card-avatar-yellow-fg-color":t.avatar.yellow.fg,"--card-avatar-green-bg-color":t.avatar.green.bg,"--card-avatar-green-fg-color":t.avatar.green.fg,"--card-avatar-cyan-bg-color":t.avatar.cyan.bg,"--card-avatar-cyan-fg-color":t.avatar.cyan.fg,"--card-bg-color":t.bg,"--card-bg-image":n?`repeating-conic-gradient(${t.bg} 0% 25%, ${t.muted.bg} 0% 50%)`:void 0,"--card-border-color":t.border,"--card-badge-default-bg-color":t.badge.default.bg,"--card-badge-default-dot-color":t.badge.default.dot,"--card-badge-default-fg-color":t.badge.default.fg,"--card-badge-default-icon-color":t.badge.default.icon,"--card-badge-primary-bg-color":t.badge.primary.bg,"--card-badge-primary-dot-color":t.badge.primary.dot,"--card-badge-primary-fg-color":t.badge.primary.fg,"--card-badge-primary-icon-color":t.badge.primary.icon,"--card-badge-positive-bg-color":t.badge.positive.bg,"--card-badge-positive-dot-color":t.badge.positive.dot,"--card-badge-positive-fg-color":t.badge.positive.fg,"--card-badge-positive-icon-color":t.badge.positive.icon,"--card-badge-caution-bg-color":t.badge.caution.bg,"--card-badge-caution-dot-color":t.badge.caution.dot,"--card-badge-caution-fg-color":t.badge.caution.fg,"--card-badge-caution-icon-color":t.badge.caution.icon,"--card-badge-critical-bg-color":t.badge.critical.bg,"--card-badge-critical-dot-color":t.badge.critical.dot,"--card-badge-critical-fg-color":t.badge.critical.fg,"--card-badge-critical-icon-color":t.badge.critical.icon,"--card-code-bg-color":t.code.bg,"--card-code-fg-color":t.code.fg,"--card-fg-color":t.fg,"--card-icon-color":t.icon,"--card-kbd-bg-color":t.kbd.bg,"--card-kbd-border-color":t.kbd.border,"--card-kbd-fg-color":t.kbd.fg,"--card-link-fg-color":t.link.fg,"--card-muted-bg-color":t.muted.bg,"--card-muted-fg-color":t.muted.fg,"--card-skeleton-color-from":t.skeleton.from,"--card-skeleton-color-to":t.skeleton.to,"--card-bg2-color":t.muted.bg,"--card-link-color":t.link.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}function B8e(e){const{$width:t}=e,{style:n}=Ae(e.theme);return de`
    ${n?.button};

    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;
    vertical-align: top;

    ${"fill"===t&&de`
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    `}

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `}function uH(...e){return e.filter(Boolean).join(",")}function V8e(e){const{$mode:t}=e,{button:n,color:r,style:i}=Ae(e.theme),o="ghost"===e.$mode,a=r.button[t]||r.button.default,s=a[e.$tone]||a.default,l={width:n.border.width,color:"var(--card-border-color)"},u=void 0;return[cn(r,s.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:oi(l),'&:disabled, &[data-disabled="true"]':cn(r,s.disabled),"&:not([data-disabled='true'])":{boxShadow:uH(oi(l),o?u:void 0),"&:focus":{boxShadow:Ys({base:r,border:{width:2,color:r.bg},focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:uH(oi(l),o?u:void 0)},"@media (hover: hover)":{"&:hover":cn(r,s.hovered),"&:active":cn(r,s.pressed),"&[data-hovered]":cn(r,s.hovered)},"&[data-selected]":cn(r,s.pressed)}},i?.button?.root].filter(Boolean)}qf.displayName="ForwardRef(Spinner)";const z8e=$.button(Cd,B8e,V8e),U8e=$.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`,wt=f.forwardRef((function(e,t){const n=Qe(64);let r,i,o,a,s,l,c,d,p,h,m,g,y,v,b,x,w,C,k,j,S,E,_,A,T;n[0]!==e?(({children:o,disabled:a,fontSize:v,icon:r,iconRight:i,justify:b,loading:s,mode:x,padding:w,paddingX:h,paddingY:m,paddingTop:p,paddingBottom:l,paddingLeft:c,paddingRight:d,radius:C,selected:y,space:k,text:_,textAlign:A,tone:j,type:S,muted:E,width:T,...g}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=v,n[15]=b,n[16]=x,n[17]=w,n[18]=C,n[19]=k,n[20]=j,n[21]=S,n[22]=E,n[23]=_,n[24]=A,n[25]=T):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10],m=n[11],g=n[12],y=n[13],v=n[14],b=n[15],x=n[16],w=n[17],C=n[18],k=n[19],j=n[20],S=n[21],E=n[22],_=n[23],A=n[24],T=n[25]);const D=void 0===v?1:v,M=void 0===b?"center":b,I=void 0===x?"default":x,O=void 0===w?3:w,P=void 0===C?2:C,R=void 0===k?3:k,F=void 0===j?"default":j,$=void 0===S?"button":S,B=void 0!==E&&E,{button:V}=wd(),z=je(M),H=je(O),W=je(h),q=je(m),G=je(p),Y=je(l),K=je(c),Z=je(d),X=je(P),J=je(R);let Q,ee;n[26]!==H||n[27]!==Y||n[28]!==K||n[29]!==Z||n[30]!==G||n[31]!==W||n[32]!==q?(ee={padding:H,paddingX:W,paddingY:q,paddingTop:G,paddingBottom:Y,paddingLeft:K,paddingRight:Z},n[26]=H,n[27]=Y,n[28]=K,n[29]=Z,n[30]=G,n[31]=W,n[32]=q,n[33]=ee):ee=n[33],Q=ee;const te=Q,ne=!(!s&&!a),re=y?"":void 0,ie=!(!s&&!a);let oe,ae,se,le;return n[34]!==s?(oe=!!s&&u.jsx(U8e,{children:u.jsx(qf,{})}),n[34]=s,n[35]=oe):oe=n[35],n[36]!==r||n[37]!==i||n[38]!==te||n[39]!==V||n[40]!==D||n[41]!==z||n[42]!==B||n[43]!==J||n[44]!==_||n[45]!==A?(ae=(r||_||i)&&u.jsx(N,{as:"span",...te,children:u.jsxs(U,{as:"span",justify:z,gap:J,children:[r&&u.jsxs(L,{size:D,children:[f.isValidElement(r)&&r,ta.isValidElementType(r)&&u.jsx(r,{})]}),_&&u.jsx(N,{children:u.jsx(L,{muted:B,align:A,size:D,textOverflow:"ellipsis",weight:V.textWeight,children:_})}),i&&u.jsxs(L,{size:D,children:[f.isValidElement(i)&&i,ta.isValidElementType(i)&&u.jsx(i,{})]})]})}),n[36]=r,n[37]=i,n[38]=te,n[39]=V,n[40]=D,n[41]=z,n[42]=B,n[43]=J,n[44]=_,n[45]=A,n[46]=ae):ae=n[46],n[47]!==te||n[48]!==o?(se=o&&u.jsx(N,{as:"span",...te,children:o}),n[47]=te,n[48]=o,n[49]=se):se=n[49],n[50]!==I||n[51]!==X||n[52]!==t||n[53]!==g||n[54]!==ne||n[55]!==re||n[56]!==ie||n[57]!==oe||n[58]!==ae||n[59]!==se||n[60]!==F||n[61]!==$||n[62]!==T?(le=u.jsxs(z8e,{"data-ui":"Button",...g,$mode:I,$radius:X,$tone:F,"data-disabled":ne,"data-selected":re,disabled:ie,ref:t,type:$,$width:T,children:[oe,ae,se]}),n[50]=I,n[51]=X,n[52]=t,n[53]=g,n[54]=ne,n[55]=re,n[56]=ie,n[57]=oe,n[58]=ae,n[59]=se,n[60]=F,n[61]=$,n[62]=T,n[63]=le):le=n[63],le}));function H8e(e){return[W8e(e),G8e(e)]}function W8e(e){const{$checkered:t}=e,{space:n}=Ae(e.theme);return de`
    ${t&&de`
      background-size: ${n[3]}px ${n[3]}px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `}

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `}function G8e(e){const{$checkered:t,$focusRing:n,$muted:r}=e,{card:i,color:o,style:a}=Ae(e.theme),s={width:i.border.width,color:"var(--card-border-color)"};return de`
    color-scheme: ${o._dark?"dark":"light"};

    ${cn(o,o,t)}

    background-color: ${r?"var(--card-muted-bg-color)":"var(--card-bg-color)"};
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        ${cn(o,o.selectable.default.disabled,t)}
      }

      &:not(:disabled) {
        &[data-pressed] {
          ${cn(o,o.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${cn(o,o.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${cn(o,o.selectable.default.hovered,t)}
            }

            &:active {
              ${cn(o,o.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ys({base:o,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        ${cn(o,o.selectable.default.disabled,t)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${cn(o,o.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${cn(o,o.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${cn(o,o.selectable.default.hovered,t)}
            }

            &:active {
              ${cn(o,o.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ys({base:o,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    ${a?.card?.root}
  `}wt.displayName="ForwardRef(Button)";const Y8e=$(N)(uNe,Cd,i8e,H8e),ae=f.forwardRef((function(e,t){const n=Qe(42);let r,i,o,a,s,l,c,d,f,p,h,m,g,y,v,b;n[0]!==e?(({__unstable_checkered:g,__unstable_focusRing:y,as:r,border:i,borderTop:l,borderRight:s,borderBottom:o,borderLeft:a,muted:c,pressed:d,radius:v,scheme:p,selected:h,shadow:m,tone:b,...f}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=f,n[10]=p,n[11]=h,n[12]=m,n[13]=g,n[14]=y,n[15]=v,n[16]=b):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],g=n[13],y=n[14],v=n[15],b=n[16]);const x=void 0!==g&&g,w=void 0!==y&&y,C=void 0===v?0:v,k=void 0===b?"default":b,j=ta.isValidElementType(r)?r:"div",S=h1(),E="inherit"===k?S.tone:k,_="string"==typeof j?j:void 0,A=S.scheme,T=je(i),D=je(l),M=je(s),I=je(o),O=je(a),N=je(C),P=je(m),R=x?"":void 0,F=d?"":void 0,L=h?"":void 0;let $,B;return n[17]!==j||n[18]!==x||n[19]!==w||n[20]!==c||n[21]!==t||n[22]!==f||n[23]!==S.scheme||n[24]!==h||n[25]!==O||n[26]!==N||n[27]!==P||n[28]!==R||n[29]!==F||n[30]!==L||n[31]!==_||n[32]!==T||n[33]!==D||n[34]!==M||n[35]!==I||n[36]!==E?($=u.jsx(Y8e,{"data-as":_,"data-scheme":A,"data-ui":"Card","data-tone":E,...f,$border:T,$borderTop:D,$borderRight:M,$borderBottom:I,$borderLeft:O,$checkered:x,$focusRing:w,$muted:c,$radius:N,$shadow:P,$tone:E,"data-checkered":R,"data-pressed":F,"data-selected":L,forwardedAs:j,ref:t,selected:h}),n[17]=j,n[18]=x,n[19]=w,n[20]=c,n[21]=t,n[22]=f,n[23]=S.scheme,n[24]=h,n[25]=O,n[26]=N,n[27]=P,n[28]=R,n[29]=F,n[30]=L,n[31]=_,n[32]=T,n[33]=D,n[34]=M,n[35]=I,n[36]=E,n[37]=$):$=n[37],n[38]!==p||n[39]!==$||n[40]!==E?(B=u.jsx(GL,{scheme:p,tone:E,children:$}),n[38]=p,n[39]=$,n[40]=E,n[41]=B):B=n[41],B}));function q8e(){return de`
    position: relative;
    display: inline-block;
  `}function K8e(e){const{color:t,input:n,radius:r}=Ae(e.theme),{focusRing:i}=n.checkbox;return de`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: ${ke(n.checkbox.size)};
      width: ${ke(n.checkbox.size)};
      box-sizing: border-box;
      box-shadow: ${oi({color:t.input.default.enabled.border,width:n.border.width})};
      border-radius: ${ke(r[2])};
      line-height: 1;
      background-color: ${t.input.default.enabled.bg};

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 1.5px !important;
        }
      }
    }

    &:checked + span {
      background: ${t.input.default.enabled.fg};
      box-shadow: ${oi({color:t.input.default.enabled.fg,width:n.border.width})};
      color: ${t.input.default.enabled.bg};
    }

    /* focus */
    &:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ys({focusRing:i})};
    }

    /* focus when checked - uses a different offset */
    &:not(:disabled):focus:focus-visible&:checked + span {
      box-shadow: ${Ys({focusRing:{width:1,offset:1}})};
    }

    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${oi({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      color: ${t.input.default.disabled.fg};
    }
    &[data-error]&:checked + span {
      background-color: ${t.input.invalid.enabled.muted.bg};
      color: ${t.input.default.enabled.bg};
    }
    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ys({border:{width:n.border.width,color:t.input.invalid.readOnly.muted.bg},focusRing:{width:1,offset:1}})};
    }

    &:disabled + span {
      background-color: ${t.input.default.disabled.bg};
      box-shadow: ${oi({width:n.border.width,color:t.input.default.disabled.border})};
      color: ${t.input.default.disabled.fg};
    }
    &:disabled&:checked + span {
      background-color: ${t.input.default.disabled.muted.bg};
    }

    &[data-read-only] + span {
      background-color: ${t.input.default.readOnly.bg};
      box-shadow: ${oi({width:n.border.width,color:t.input.default.readOnly.border})};
      color: ${t.input.default.readOnly.fg};
    }

    &[data-read-only]&:checked + span {
      background-color: ${t.input.default.readOnly.muted.bg};
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }
    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `}ae.displayName="ForwardRef(Card)";const Z8e=$.div(q8e),X8e=$.input(K8e),Kf=f.forwardRef((function(e,t){const n=Qe(25);let r,i,o,a,s,l,c,d;n[0]!==e?(({checked:r,className:i,disabled:a,indeterminate:s,customValidity:o,readOnly:l,style:d,...c}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8]);const p=f.useRef(null);let h,m,g;n[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>p.current,n[9]=h):h=n[9],f.useImperativeHandle(t,h),n[10]!==s?(m=()=>{p.current&&(p.current.indeterminate=s||!1)},g=[s],n[10]=s,n[11]=m,n[12]=g):(m=n[11],g=n[12]),f.useEffect(m,g),Vx(p,o);const y=!a&&l?"":void 0,v=o?"":void 0,b=a||l;let x,w,C;return n[13]!==r||n[14]!==l||n[15]!==c||n[16]!==y||n[17]!==v||n[18]!==b?(x=u.jsx(X8e,{"data-read-only":y,"data-error":v,...c,checked:r,disabled:b,type:"checkbox",readOnly:l,ref:p}),n[13]=r,n[14]=l,n[15]=c,n[16]=y,n[17]=v,n[18]=b,n[19]=x):x=n[19],n[20]===Symbol.for("react.memo_cache_sentinel")?(w=u.jsxs("span",{children:[u.jsx(na,{}),u.jsx(NF,{})]}),n[20]=w):w=n[20],n[21]!==i||n[22]!==d||n[23]!==x?(C=u.jsxs(Z8e,{className:i,"data-ui":"Checkbox",style:d,children:[x,w]}),n[21]=i,n[22]=d,n[23]=x,n[24]=C):C=n[24],C}));function J8e({theme:e}){const{color:{syntax:t}}=Ae(e);return{"&.atrule":{color:t.atrule},"&.attr-name":{color:t.attrName},"&.attr-value":{color:t.attrValue},"&.attribute":{color:t.attribute},"&.boolean":{color:t.boolean},"&.builtin":{color:t.builtin},"&.cdata":{color:t.cdata},"&.char":{color:t.char},"&.class":{color:t.class},"&.class-name":{color:t.className},"&.comment":{color:t.comment},"&.constant":{color:t.constant},"&.deleted":{color:t.deleted},"&.doctype":{color:t.doctype},"&.entity":{color:t.entity},"&.function":{color:t.function},"&.hexcode":{color:t.hexcode},"&.id":{color:t.id},"&.important":{color:t.important},"&.inserted":{color:t.inserted},"&.keyword":{color:t.keyword},"&.number":{color:t.number},"&.operator":{color:t.operator},"&.prolog":{color:t.prolog},"&.property":{color:t.property},"&.pseudo-class":{color:t.pseudoClass},"&.pseudo-element":{color:t.pseudoElement},"&.punctuation":{color:t.punctuation},"&.regex":{color:t.regex},"&.selector":{color:t.selector},"&.string":{color:t.string},"&.symbol":{color:t.symbol},"&.tag":{color:t.tag},"&.unit":{color:t.unit},"&.url":{color:t.url},"&.variable":{color:t.variable}}}function Q8e(){return de`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        ${J8e}
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}Kf.displayName="ForwardRef(Checkbox)";const e7e=$.pre(Q8e,T6e),ni=f.forwardRef((function(e,t){const n=Qe(23);let r,i,o,a,s;n[0]!==e?(({children:r,language:i,size:a,weight:s,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=void 0===a?2:a,c="string"==typeof i?i:void 0;let d;n[6]!==c?(d=!!c&&Sp.hasLanguage(c),n[6]=c,n[7]=d):d=n[7];const f=d,p=je(l);let h,m,g;return n[8]!==r||n[9]!==c||n[10]!==f?(h=!(c&&f)&&u.jsx("code",{children:r}),n[8]=r,n[9]=c,n[10]=f,n[11]=h):h=n[11],n[12]!==r||n[13]!==c||n[14]!==f?(m=c&&f&&u.jsx(Sp,{inline:!0,language:c,value:String(r)}),n[12]=r,n[13]=c,n[14]=f,n[15]=m):m=n[15],n[16]!==t||n[17]!==o||n[18]!==p||n[19]!==h||n[20]!==m||n[21]!==s?(g=u.jsxs(e7e,{"data-ui":"Code",...o,$size:p,$weight:s,ref:t,children:[h,m]}),n[16]=t,n[17]=o,n[18]=p,n[19]=h,n[20]=m,n[21]=s,n[22]=g):g=n[22],g}));ni.displayName="ForwardRef(Code)";const t7e={width:"100%",margin:"0 auto"};function n7e(){return t7e}function r7e(e){const{container:t,media:n}=Ae(e.theme);return Dt(n,e.$width,(e=>({maxWidth:"auto"===e?"none":ke(t[e])})))}const i7e=$(N)(n7e,r7e),Xr=f.forwardRef((function(e,t){const n=Qe(9);let r,i,o;n[0]!==e?(({as:r,width:o,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a=je(void 0===o?2:o);let s;return n[4]!==r||n[5]!==t||n[6]!==i||n[7]!==a?(s=u.jsx(i7e,{"data-ui":"Container",...i,$width:a,forwardedAs:r,ref:t}),n[4]=r,n[5]=t,n[6]=i,n[7]=a,n[8]=s):s=n[8],s}));Xr.displayName="ForwardRef(Container)";const a7e=$(N)(PNe),Rn=f.forwardRef((function(e,t){const n=Qe(26);let r,i,o,a,s,l,c,d,f,p,h;n[0]!==e?(({as:r,autoRows:a,autoCols:i,autoFlow:o,columns:l,gap:c,gapX:d,gapY:f,rows:h,children:s,...p}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=f,n[10]=p,n[11]=h):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11]);const m="string"==typeof r?r:void 0,g=je(a),y=je(i),v=je(o),b=je(l),x=je(c),w=je(d),C=je(f),k=je(h);let j;return n[12]!==r||n[13]!==s||n[14]!==t||n[15]!==p||n[16]!==m||n[17]!==g||n[18]!==y||n[19]!==v||n[20]!==b||n[21]!==x||n[22]!==w||n[23]!==C||n[24]!==k?(j=u.jsx(a7e,{"data-as":m,"data-ui":"Grid",...p,$autoRows:g,$autoCols:y,$autoFlow:v,$columns:b,$gap:x,$gapX:w,$gapY:C,$rows:k,forwardedAs:r,ref:t,children:s}),n[12]=r,n[13]=s,n[14]=t,n[15]=p,n[16]=m,n[17]=g,n[18]=y,n[19]=v,n[20]=b,n[21]=x,n[22]=w,n[23]=C,n[24]=k,n[25]=j):j=n[25],j}));function o7e(e){const{$accent:t,$muted:n}=e,{font:r}=Ae(e.theme);return de`
    ${t&&de`
      color: var(--card-accent-fg-color);
    `}

    ${n&&de`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.heading.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}Rn.displayName="ForwardRef(Grid)";const s7e=$.div(o7e,UL,A6e),l7e=$.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Ci=f.forwardRef((function(e,t){const n=Qe(22);let r,i,o,a,s,l,c,d;n[0]!==e?(({accent:a,align:r,children:i,muted:s,size:l,textOverflow:c,weight:d,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8]);const f=void 0!==a&&a,p=void 0!==s&&s,h=void 0===l?2:l;let m=i;if("ellipsis"===c){let e;n[9]!==m?(e=u.jsx(l7e,{children:m}),n[9]=m,n[10]=e):e=n[10],m=e}const g=je(r),y=je(h);let v,b;return n[11]!==m?(v=u.jsx("span",{children:m}),n[11]=m,n[12]=v):v=n[12],n[13]!==f||n[14]!==p||n[15]!==t||n[16]!==o||n[17]!==g||n[18]!==y||n[19]!==v||n[20]!==d?(b=u.jsx(s7e,{"data-ui":"Heading",...o,$accent:f,$align:g,$muted:p,$size:y,$weight:d,ref:t,children:v}),n[13]=f,n[14]=p,n[15]=t,n[16]=o,n[17]=g,n[18]=y,n[19]=v,n[20]=d,n[21]=b):b=n[21],b}));function u7e(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function c7e(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$space,(e=>{const t=ke(.5===e?n[1]/2:n[e]);return{margin:`-${t} 0 0 -${t}`,"& > div":{padding:`${t} 0 0 ${t}`}}}))}Ci.displayName="ForwardRef(Heading)";const d7e=$(N)(u7e,c7e),xn=f.forwardRef((function(e,t){const n=Qe(12);let r,i,o,a,s,l;n[0]!==e?(({as:r,children:i,space:a,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]),n[5]!==i?(l=f.Children.map(i,f7e),n[5]=i,n[6]=l):l=n[6],s=l;const c=s,d=je(a);let p;return n[7]!==r||n[8]!==c||n[9]!==o||n[10]!==d?(p=u.jsx(d7e,{"data-ui":"Inline",...o,$space:d,forwardedAs:r,ref:t,children:c}),n[7]=r,n[8]=c,n[9]=o,n[10]=d,n[11]=p):p=n[11],p}));function f7e(e){return e&&u.jsx("div",{children:e})}function h7e(){return de`
    --card-bg-color: var(--card-kbd-bg-color);
    --card-border-color: var(--card-kbd-border-color);
    --card-fg-color: var(--card-kbd-fg-color);

    box-shadow: inset 0 0 0 1px var(--card-border-color);
    background: var(--card-bg-color);
    font: inherit;

    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  `}xn.displayName="ForwardRef(Inline)";const p7e=$.kbd(Cd,h7e),pde=f.forwardRef((function(e,t){const n=Qe(17);let r,i,o,a,s;n[0]!==e?(({children:r,fontSize:o,padding:a,radius:s,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=void 0===o?0:o,c=void 0===a?1:a,d=je(void 0===s?2:s);let f,p,h;return n[6]!==r||n[7]!==l?(f=u.jsx(L,{as:"span",size:l,weight:"semibold",children:r}),n[6]=r,n[7]=l,n[8]=f):f=n[8],n[9]!==c||n[10]!==f?(p=u.jsx(N,{as:"span",padding:c,children:f}),n[9]=c,n[10]=f,n[11]=p):p=n[11],n[12]!==t||n[13]!==i||n[14]!==d||n[15]!==p?(h=u.jsx(p7e,{"data-ui":"KBD",...i,$radius:d,ref:t,children:p}),n[12]=t,n[13]=i,n[14]=d,n[15]=p,n[16]=h):h=n[16],h}));pde.displayName="ForwardRef(KBD)";const mde={name:"@sanity/ui/origin",fn({middlewareData:e,placement:t,rects:n}){const[r]=t.split("-"),i=n.floating.width,o=n.floating.height,a=e.shift?.x||0,s=e.shift?.y||0;if(i<=0||o<=0)return{};const l=["bottom","top"].includes(r),{originX:u,originY:c}=l?{originX:cH(.5-a/i,0,1),originY:"bottom"===r?0:1}:{originX:"left"===r?1:0,originY:cH(.5-s/o,0,1)};return{data:{originX:u,originY:c}}}};function cH(e,t,n){return Math.min(Math.max(e,t),n)}function dH(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return wR(e,t,Math.min(1,n/o))}function wR(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function m7e(e){const t=e.length,n=[];for(let r=0;r<t;r+=1){const t=e[r],i=e[r-1],o=e[r+1];if(i&&t.radius){const e=dH(t,i,t.radius),r=dH(t,o,t.radius),a=wR(e,t,.5),s=wR(t,r,.5);n.push({type:"point",...e}),n.push({type:"curve",curveEnd:r,startControl:a,endControl:s})}else n.push({type:"point",...t})}return n}function g7e(e){return e.map(((e,t)=>"point"===e.type?`${0===t?"M":"L"} ${e.x} ${e.y}`:"curve"===e.type?`C ${e.startControl.x} ${e.startControl.y} ${e.endControl.x} ${e.endControl.y} ${e.curveEnd.x} ${e.curveEnd.y}`:"")).join(" ")}const v7e=$.div((({$w:e})=>de`
    position: absolute;
    width: ${e}px;
    height: ${e}px;

    :empty + & {
      display: none;
    }

    & > svg {
      display: block;
      line-height: 0;
      transform-origin: ${e/2}px ${e/2}px;
    }

    [data-placement^='top'] > & {
      bottom: -${e}px;

      & > svg {
        transform: rotate(0);
      }
    }

    [data-placement^='right'] > & {
      left: -${e}px;

      & > svg {
        transform: rotate(90deg);
      }
    }

    [data-placement^='left'] > & {
      right: -${e}px;

      & > svg {
        transform: rotate(-90deg);
      }
    }

    [data-placement^='bottom'] > & {
      top: -${e}px;

      & > svg {
        transform: rotate(180deg);
      }
    }
  `)),y7e=$.path`
  stroke: var(--card-shadow-outline-color);
`,b7e=$.path`
  fill: var(--card-bg-color);
`,KL=f.forwardRef((function(e,t){const n=Qe(24);let r,i,o,a;n[0]!==e?(({width:a,height:r,radius:o,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=void 0===o?0:o,{card:l}=wd(),c=l.shadow.outline,d=g7e(m7e([{x:0,y:0},{x:s,y:0,radius:s},{x:a/2,y:r-1,radius:s},{x:a-s,y:0,radius:s},{x:a,y:0}])),f=`${d}`,p=`${d} M ${a} -1 M 0 -1 Z`,h=`0 0 ${a} ${a}`;let m;n[5]!==c||n[6]!==a?(m=u.jsx("mask",{id:"stroke-mask",children:u.jsx("rect",{x:0,y:c,width:a,height:a,fill:"white"})}),n[5]=c,n[6]=a,n[7]=m):m=n[7];const g=2*c;let y,v,b,x;return n[8]!==f||n[9]!==g?(y=u.jsx(y7e,{d:f,mask:"url(#stroke-mask)",strokeWidth:g}),n[8]=f,n[9]=g,n[10]=y):y=n[10],n[11]!==p?(v=u.jsx(b7e,{d:p}),n[11]=p,n[12]=v):v=n[12],n[13]!==h||n[14]!==m||n[15]!==y||n[16]!==v||n[17]!==a?(b=u.jsxs("svg",{width:a,height:a,viewBox:h,children:[m,y,v]}),n[13]=h,n[14]=m,n[15]=y,n[16]=v,n[17]=a,n[18]=b):b=n[18],n[19]!==t||n[20]!==i||n[21]!==b||n[22]!==a?(x=u.jsx(v7e,{...i,$w:a,ref:t,children:b}),n[19]=t,n[20]=i,n[21]=b,n[22]=a,n[23]=x):x=n[23],x}));KL.displayName="ForwardRef(Arrow)";const gde=xd("@sanity/ui/context/boundaryElement",null);function Jc(e){const t=Qe(5),{children:n,element:r}=e;let i,o;t[0]!==r?(o={version:0,element:r},t[0]=r,t[1]=o):o=t[1],i=o;const a=i;let s;return t[2]!==n||t[3]!==a?(s=u.jsx(gde.Provider,{value:a,children:n}),t[2]=n,t[3]=a,t[4]=s):s=t[4],s}function Hx(e){return!(!e||"object"!=typeof e||Array.isArray(e))}Jc.displayName="BoundaryElementProvider";const x7e={version:0,element:null};function sm(){const e=f.useContext(gde);if(e&&(!Hx(e)||0!==e.version))throw new Error("useBoundaryElement(): the context value is not compatible");return e||x7e}function w7e(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function C7e(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const _k=f.forwardRef((function(e,t){const n=Qe(18),r=wd();let i,o,a;n[0]!==e?(({children:o,media:i,...a}=e),n[0]=e,n[1]=i,n[2]=o,n[3]=a):(i=n[1],o=n[2],a=n[3]);const s=i??r.media,[l,c]=f.useState(null),d=zx(l);let p;p=d?.border.width??window.innerWidth;const h=p;let m,g;if(n[4]!==s||n[5]!==h){const e=w7e(s,h);g=e.length?e.join(" "):void 0,n[4]=s,n[5]=h,n[6]=g}else g=n[6];m=g;const y=m;let v,b;if(n[7]!==s||n[8]!==h){const e=C7e(s,h);b=e.length?e.join(" "):void 0,n[7]=s,n[8]=h,n[9]=b}else b=n[9];v=b;const x=v;let w,C,k;return n[10]!==l?(w=()=>l,C=[l],n[10]=l,n[11]=w,n[12]=C):(w=n[11],C=n[12]),f.useImperativeHandle(t,w,C),n[13]!==o||n[14]!==y||n[15]!==x||n[16]!==a?(k=u.jsx("div",{"data-ui":"ElementQuery",...a,"data-eq-max":y,"data-eq-min":x,ref:c,children:o}),n[13]=o,n[14]=y,n[15]=x,n[16]=a,n[17]=k):k=n[17],k}));_k.displayName="ForwardRef(ElementQuery)";class v1 extends f.Component{state={error:null};static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){this.props.onCatch({error:e,info:t})}render(){const{error:e}=this.state;if(e){const t="string"==typeof e?.message?e.message:"Error";return u.jsx(ni,{children:t})}return this.props.children}}function vde(e){if(!Hx(e)||0!==e.version)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(0===e.version)return e;throw new Error("could not get layer context")}const CR=xd("@sanity/ui/context/layer",null);function Ho(){const e=Qe(2),t=f.useContext(CR);if(!t)throw new Error("useLayer(): missing context value");try{let n;return e[0]!==t?(n=vde(t),e[0]=t,e[1]=n):n=e[1],n}catch(e){const t=e;throw t instanceof Error?new Error(`useLayer(): ${t.message}`):new Error(`useLayer(): ${t}`)}}function SR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function S7e(e){let t=null;const n=SR((()=>{t=SR(e)}));return()=>{t&&t(),n()}}function E7e(e){return ZL(e)||XL(e)}function zu(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function ZL(e){return zu(e)&&"A"===e.nodeName}function _7e(e){return zu(e)&&"INPUT"===e.nodeName}function XL(e){return zu(e)&&"BUTTON"===e.nodeName}function k7e(e){return zu(e)&&"SELECT"===e.nodeName}function T7e(e){return zu(e)&&"TEXTAREA"===e.nodeName}function ER(e,t){return e.contains(t)||e===t}function A7e(e){return!!document.activeElement&&e.contains(document.activeElement)}function j7e(e){return e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex")||(ZL(e)?!!e.href&&"ignore"!==e.rel:_7e(e)?"hidden"!==e.type&&"file"!==e.type&&!e.disabled:!!(XL(e)||k7e(e)||T7e(e))&&!e.disabled)}function yde(e){if(!j7e(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Ap(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(zu(n)&&(yde(n)||Ap(n)))return!0}return!1}function JL(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(zu(n)&&(yde(n)||JL(n)))return!0}return!1}function I7e(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function nl(e){const t=Qe(19),{children:n,zOffset:r}=e,i=void 0===r?0:r,o=f.useContext(CR);let a;t[0]!==o?(a=o&&vde(o),t[0]=o,t[1]=a):a=t[1];const s=a,l=s?.registerChild,c=(s?.level??0)+1,d=je(i),p=d.length-1,h=Math.min(om(),p),m=s?s.zIndex+d[h]:d[h];let g;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={},t[2]=g):g=t[2];const[,y]=f.useState(g),[v,b]=f.useState(0),x=0===v;let w;t[3]!==l||t[4]!==y?(w=e=>{const t=l?.(e);return void 0!==e?y((t=>{const n=t[e]??0,r={...t,[e]:n+1};return b(Object.keys(r).length),r})):b(O7e),()=>{void 0!==e?y((t=>{const n={...t};return 1===n[e]?(delete n[e],b(Object.keys(n).length)):n[e]=n[e]-1,n})):b(D7e),t?.()}},t[3]=l,t[4]=y,t[5]=w):w=t[5];const C=w;let k,j,S,E;t[6]!==c||t[7]!==l?(k=()=>l?.(c),j=[c,l],t[6]=c,t[7]=l,t[8]=k,t[9]=j):(k=t[8],j=t[9]),f.useEffect(k,j),t[10]!==x||t[11]!==c||t[12]!==C||t[13]!==v||t[14]!==m?(E={version:0,isTopLayer:x,level:c,registerChild:C,size:v,zIndex:m},t[10]=x,t[11]=c,t[12]=C,t[13]=v,t[14]=m,t[15]=E):E=t[15],S=E;const _=S;let A;return t[16]!==n||t[17]!==_?(A=u.jsx(CR.Provider,{value:_,children:n}),t[16]=n,t[17]=_,t[18]=A):A=t[18],A}function D7e(e){return e-1}function O7e(e){return e+1}nl.displayName="LayerProvider";const R7e=$.div({position:"relative"}),M7e=f.forwardRef((function(e,t){const n=Qe(22);let r,i,o,a,s;n[0]!==e?(({children:r,onActivate:i,onFocus:o,style:s,...a}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=void 0===s?kf:s,{zIndex:c,isTopLayer:d}=Ho(),p=f.useRef(null),h=f.useRef(null),m=f.useRef(d);let g,y,v,b;n[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>h.current,n[6]=g):g=n[6],f.useImperativeHandle(t,g),n[7]!==d||n[8]!==i?(y=()=>{m.current!==d&&d&&i?.({activeElement:p.current}),m.current=d},v=[d,i],n[7]=d,n[8]=i,n[9]=y,n[10]=v):(y=n[9],v=n[10]),f.useEffect(y,v),n[11]!==d||n[12]!==o?(b=e=>{o?.(e);const t=h.current,n=document.activeElement;!d||!t||!n||zu(n)&&ER(t,n)&&(p.current=n)},n[11]=d,n[12]=o,n[13]=b):b=n[13];const x=b;let w,C;return n[14]!==l||n[15]!==c?(w={...l,zIndex:c},n[14]=l,n[15]=c,n[16]=w):w=n[16],n[17]!==r||n[18]!==x||n[19]!==a||n[20]!==w?(C=u.jsx(R7e,{...a,"data-ui":"Layer",onFocus:x,ref:h,style:w,children:r}),n[17]=r,n[18]=x,n[19]=a,n[20]=w,n[21]=C):C=n[21],C})),go=f.forwardRef((function(e,t){const n=Qe(11);let r,i,o;n[0]!==e?(({children:r,zOffset:o,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a=void 0===o?1:o;let s,l;return n[4]!==r||n[5]!==t||n[6]!==i?(s=u.jsx(M7e,{...i,ref:t,children:r}),n[4]=r,n[5]=t,n[6]=i,n[7]=s):s=n[7],n[8]!==s||n[9]!==a?(l=u.jsx(nl,{zOffset:a,children:s}),n[8]=s,n[9]=a,n[10]=l):l=n[10],l}));go.displayName="ForwardRef(Layer)";const bde="@sanity/ui/context/portal",cg=Symbol.for(`${bde}/element`);jc[cg]=null;const $7e={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(jc[cg]||(jc[cg]=document.createElement("div"),jc[cg].setAttribute("data-portal",""),document.body.appendChild(jc[cg])),jc[cg])}},xde=xd(bde,$7e);function Sd(){const e=f.useContext(xde);if(!e)throw new Error("usePortal(): missing context value");if(!Hx(e)||0!==e.version)throw new Error("usePortal(): the context value is not compatible");return e}function Zf(e){const t=Qe(3),{children:n,__unstable_name:r}=e,i=Sd(),o=(r?i.elements&&i.elements[r]:i.element)||i.elements?.default;if(!o)return null;let a;return t[0]!==n||t[1]!==o?(a=Vh.createPortal(n,o),t[0]=n,t[1]=o,t[2]=a):a=t[2],a}function y1(e){const t=Qe(7),{boundaryElement:n,children:r,element:i,__unstable_elements:o}=e,a=N7e(o),s=f.useSyncExternalStore(L7e,F7e,P7e);let l;const c=n||null,d=i||s;let p;t[0]!==a||t[1]!==c||t[2]!==d?(p={version:0,boundaryElement:c,element:d,elements:a},t[0]=a,t[1]=c,t[2]=d,t[3]=p):p=t[3],l=p;const h=l;let m;return t[4]!==r||t[5]!==h?(m=u.jsx(xde.Provider,{value:h,children:r}),t[4]=r,t[5]=h,t[6]=m):m=t[6],m}function P7e(){return null}function F7e(){return document.body}Zf.displayName="Portal",y1.displayName="PortalProvider";const L7e=()=>()=>{};function N7e(e){const t=f.useRef(e);return B7e(t.current,e)||(t.current=e),t.current}function B7e(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>e[n]===t[n]))}const V7e=$.div`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`,z7e=f.forwardRef((function(e,t){const n=Qe(4),{as:r,children:i}=e;let o;return n[0]!==r||n[1]!==i||n[2]!==t?(o=u.jsx(V7e,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:t,children:i}),n[0]=r,n[1]=i,n[2]=t,n[3]=o):o=n[3],o}));z7e.displayName="ForwardRef(SrOnly)";const U7e=$.div`
  position: relative;
`,fH=$.div`
  position: absolute;
  left: 0;
  right: 0;
`,H7e=f.forwardRef((function(e,t){const n=Qe(56);let r,i,o,a,s,l,c;n[0]!==e?(({as:s,gap:l,getItemKey:r,items:c,onChange:i,renderItem:o,...a}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7]);const d=void 0===s?"div":s,p=void 0===l?0:l;let h;n[8]!==c?(h=void 0===c?[]:c,n[8]=c,n[9]=h):h=n[9];const m=h,{space:g}=wd(),y=f.useRef(null),v=f.useRef(null),[b,x]=f.useState(0),[w,C]=f.useState(0),[k,j]=f.useState(-1);let S,E,_,A,T;n[10]===Symbol.for("react.memo_cache_sentinel")?(S=()=>y.current,n[10]=S):S=n[10],f.useImperativeHandle(t,S),n[11]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{if(!v.current)return;const e=v.current.firstChild;e instanceof HTMLElement&&j(e.offsetHeight)},n[11]=E):E=n[11],n[12]!==o?(_=[o],n[12]=o,n[13]=_):_=n[13],f.useEffect(E,_),n[14]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{if(!y.current)return;let e=y.current.parentNode;for(;e&&!I7e(e);)e=e.parentNode;if(e){const t=e;if(!(t instanceof HTMLElement))return;const n=()=>{x(t.scrollTop)};t.addEventListener("scroll",n,{passive:!0});const r=new ode((e=>{C(e[0].contentRect.height)}));return r.observe(t),n(),()=>{t.removeEventListener("scroll",n),r.unobserve(t),r.disconnect()}}const t=()=>{x(window.scrollY)},n=()=>{C(window.innerHeight)};return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",n),C(window.innerHeight),t(),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",n)}},T=[],n[14]=A,n[15]=T):(A=n[14],T=n[15]),f.useEffect(A,T);const D=m.length,M=k?D*(k+g[p])-g[p]:0,I=M?Math.max(Math.floor(b/M*D)-2,0):0,O=M?Math.ceil((b+w)/M*D)+1:0;let N,P,R;n[16]!==I||n[17]!==p||n[18]!==k||n[19]!==i||n[20]!==w||n[21]!==b||n[22]!==g||n[23]!==O?(P=()=>{i&&i({fromIndex:I,gap:g[p],itemHeight:k,scrollHeight:w,scrollTop:b,toIndex:O})},N=[I,p,k,i,w,b,g,O],n[16]=I,n[17]=p,n[18]=k,n[19]=i,n[20]=w,n[21]=b,n[22]=g,n[23]=O,n[24]=N,n[25]=P):(N=n[24],P=n[25]),f.useEffect(P,N);e:{if(!o||0===m.length){R=null;break e}if(-1===k){const e=m[0];let t,r;n[26]!==o||n[27]!==e?(t=o(e),n[26]=o,n[27]=e,n[28]=t):t=n[28],n[29]!==t?(r=[u.jsx(fH,{children:t},0)],n[29]=t,n[30]=r):r=n[30],R=r;break e}let e;if(n[31]!==I||n[32]!==p||n[33]!==r||n[34]!==k||n[35]!==m||n[36]!==o||n[37]!==g||n[38]!==O){let t;n[40]!==I||n[41]!==p||n[42]!==r||n[43]!==k||n[44]!==o||n[45]!==g?(t=(e,t)=>{const n=I+t,i=o(e),a=r?r(e,n):n;return u.jsx(fH,{style:{top:n*(k+g[p])},children:i},a)},n[40]=I,n[41]=p,n[42]=r,n[43]=k,n[44]=o,n[45]=g,n[46]=t):t=n[46],e=m.slice(I,O).map(t),n[31]=I,n[32]=p,n[33]=r,n[34]=k,n[35]=m,n[36]=o,n[37]=g,n[38]=O,n[39]=e}else e=n[39];R=e}const F=R;let L,$;n[47]!==M?($={height:M},n[47]=M,n[48]=$):$=n[48],L=$;const B=L;let V,z;return n[49]!==F||n[50]!==B?(V=u.jsx("div",{ref:v,style:B,children:F}),n[49]=F,n[50]=B,n[51]=V):V=n[51],n[52]!==d||n[53]!==a||n[54]!==V?(z=u.jsx(U7e,{as:d,"data-ui":"VirtualList",...a,ref:y,children:V}),n[52]=d,n[53]=a,n[54]=V,n[55]=z):z=n[55],z}));H7e.displayName="ForwardRef(VirtualList)";const W7e=4,dg=4,G7e=19,Y7e=8,q7e=2,wde=[0,0,0,0],K7e={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function Z7e(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(i){const{elements:o,placement:a,platform:s,rects:l}=i,{floating:u,reference:c}=l,d=await K$e(i,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let f=1/0,p=1/0;const h=u.width,m=u.height;a.includes("top")&&(f=h-(d.left+d.right),p=m-d.top),a.includes("right")&&(f=h-d.right,p=m-(d.top+d.bottom)),a.includes("bottom")&&(f=h-(d.left+d.right),p=m-d.bottom),a.includes("left")&&(f=h-d.left,p=m-(d.top+d.bottom)),t({availableWidth:f-n[1]-n[3],availableHeight:p-n[0]-n[2],elements:o,referenceWidth:c.width-n[1]-n[3]});const g=await s.getDimensions(o.floating),y=g.height;return h!==g.width||m!==y?{reset:{rects:!0}}:{}}}}function X7e(e){const{container:t,mediaIndex:n,width:r}=e,i=r[n],o=void 0===i?r[r.length-1]:i;return"number"==typeof o?t[o]:void 0}function J7e(e){const{boundaryWidth:t,currentWidth:n}=e;if(void 0!==n||void 0!==t)return Math.min(n??1/0,(t||1/0)-8)}const Q7e=$(di(ae))`
  &:not([hidden]) {
    display: flex;
  }
  flex-direction: column;
  width: max-content;
  min-width: min-content;
  & > * {
    opacity: var(${Tu}, 1);
    will-change: opacity;
  }
`,Cde=f.memo(f.forwardRef((function(e,t){const n=Qe(60);let r,i,o,a,s,l,c,d,f,p,h,m,g,y,v,b,x,w,C,k,j,S;n[0]!==e?(({__unstable_margins:c,animate:r,arrow:i,arrowRef:o,arrowX:a,arrowY:s,children:l,padding:h,placement:m,originX:d,originY:f,overflow:p,radius:g,scheme:v,shadow:b,strategy:x,style:w,tone:C,width:k,x:j,y:S,...y}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=f,n[10]=p,n[11]=h,n[12]=m,n[13]=g,n[14]=y,n[15]=v,n[16]=b,n[17]=x,n[18]=w,n[19]=C,n[20]=k,n[21]=j,n[22]=S):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],g=n[13],y=n[14],v=n[15],b=n[16],x=n[17],w=n[18],C=n[19],k=n[20],j=n[21],S=n[22]);const{zIndex:E}=Ho();let _;_=c||wde;const A=_,T=(j??0)+A[3],D=(S??0)+A[0];let M;const I=r?"transform":void 0;let O;n[23]!==d||n[24]!==f||n[25]!==x||n[26]!==w||n[27]!==I||n[28]!==k||n[29]!==T||n[30]!==D||n[31]!==E?(O={left:T,originX:d,originY:f,position:x,top:D,width:k,zIndex:E,willChange:I,...w},n[23]=d,n[24]=f,n[25]=x,n[26]=w,n[27]=I,n[28]=k,n[29]=T,n[30]=D,n[31]=E,n[32]=O):O=n[32],M=O;const N=M;let P;const R=null!==a?a:void 0,F=null!==s?s:void 0;let L;n[33]!==R||n[34]!==F?(L={left:R,top:F,right:void 0,bottom:void 0},n[33]=R,n[34]=F,n[35]=L):L=n[35],P=L;const $=P,B=y;let V,z,H,W,q;return n[36]!==r?(V=r?Qce:{},n[36]=r,n[37]=V):V=n[37],n[38]!==l||n[39]!==h?(z=u.jsx(U,{direction:"column",flex:1,padding:h,children:l}),n[38]=l,n[39]=h,n[40]=z):z=n[40],n[41]!==p||n[42]!==z?(H=u.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:p,children:z}),n[41]=p,n[42]=z,n[43]=H):H=n[43],n[44]!==i||n[45]!==o||n[46]!==$?(W=i&&u.jsx(KL,{ref:o,style:$,width:19,height:8,radius:2}),n[44]=i,n[45]=o,n[46]=$,n[47]=W):W=n[47],n[48]!==m||n[49]!==g||n[50]!==t||n[51]!==N||n[52]!==v||n[53]!==b||n[54]!==H||n[55]!==W||n[56]!==B||n[57]!==V||n[58]!==C?(q=u.jsxs(Q7e,{"data-ui":"Popover",...B,"data-placement":m,radius:g,ref:t,scheme:v,shadow:b,sizing:"border",style:N,tone:C,...V,children:[H,W]}),n[48]=m,n[49]=g,n[50]=t,n[51]=N,n[52]=v,n[53]=b,n[54]=H,n[55]=W,n[56]=B,n[57]=V,n[58]=C,n[59]=q):q=n[59],q})));Cde.displayName="Memo(ForwardRef(PopoverCard))";const Uu=f.memo(f.forwardRef((function(e,t){const{container:n,layer:r}=wd(),i=sm(),{__unstable_margins:o=wde,animate:a=!1,arrow:s=!1,boundaryElement:l=i.element,children:c,constrainSize:d=!1,content:p,disabled:h,fallbackPlacements:m=e.fallbackPlacements??K7e[e.placement??"bottom"],matchReferenceWidth:g,floatingBoundary:y=e.boundaryElement??i.element,onActivate:v,open:b,overflow:x="hidden",padding:w,placement:C="bottom",portal:k,preventOverflow:j=!0,radius:S=3,referenceBoundary:E=e.boundaryElement??i.element,referenceElement:_,scheme:A,shadow:T=3,tone:D="inherit",width:M="auto",zOffset:I=r.popover.zOffset,updateRef:O,...N}=e,P=!Ek()&&a,R=zx(l)?.border,F=je(w),L=je(S),$=je(T),B=je(M),V=je(I),z=f.useRef(null),U=f.useRef(null),H="viewport";f.useImperativeHandle(t,(()=>z.current));const W=om(),q=d||j?R?.width:void 0,G=X7e({container:n,mediaIndex:W,width:B}),Y=f.useRef(G);f.useEffect((()=>{Y.current=G}),[G]);const K=J7e({boundaryWidth:q,currentWidth:G}),Z=f.useRef(K);f.useEffect((()=>{Z.current=K}),[K]);const X=f.useRef();f.useEffect((()=>{const e=z.current;if(!b||!e)return;const t=X.current;g?void 0!==t&&(e.style.width=`${t}px`):void 0!==G&&(e.style.width=`${G}px`),"number"==typeof K&&(e.style.maxWidth=`${K}px`)}),[G,g,K,b]);const J=f.useMemo((()=>{const e=[];return(d||j)&&e.push(Rue({boundary:y||void 0,fallbackPlacements:m,padding:4,rootBoundary:H})),e.push(Due({mainAxis:4})),(d||g)&&e.push(Z7e({apply({availableWidth:e,availableHeight:t,elements:n,referenceWidth:r}){X.current=r;const i=Y.current,o=Z.current;g?n.floating.style.width=`${r}px`:void 0!==i&&(n.floating.style.width=`${i}px`),d&&(n.floating.style.maxWidth=`${Math.min(e,o??1/0)}px`,n.floating.style.maxHeight=`${t}px`)},boundaryElement:y||void 0,constrainSize:d,margins:o,matchReferenceWidth:g,padding:4})),j&&e.push(Oue({boundary:y||void 0,rootBoundary:H,padding:4})),s&&e.push(Mue({element:U,padding:4})),P&&e.push(mde),e.push(nPe({boundary:E||void 0,padding:4,strategy:"referenceHidden"})),e}),[P,s,d,m,y,o,g,j,E]),{x:Q,y:ee,middlewareData:te,placement:ne,refs:re,strategy:ie,update:oe}=Iue({middleware:J,placement:C,whileElementsMounted:Aue}),ae=te.hide?.referenceHidden,se=te.arrow?.x,le=te.arrow?.y,ue=te["@sanity/ui/origin"]?.originX,ce=te["@sanity/ui/origin"]?.originY,de=f.useCallback((e=>{U.current=e}),[]),fe=f.useCallback((e=>{z.current=e,re.setFloating(e)}),[re]),pe=f.useCallback((e=>{re.setReference(e);const t=e9e(c);"function"==typeof t?t(e):t&&(t.current=e)}),[c,re]),he=f.useMemo((()=>!c||_?null:f.cloneElement(c,{ref:pe})),[c,_,pe]);if(f.useEffect((()=>{O&&("function"==typeof O?O(oe):O&&(O.current=oe))}),[oe,O]),f.useEffect((()=>{he||re.setReference(_||null)}),[_,re,he]),h)return c||u.jsx(u.Fragment,{});const me=u.jsx(nl,{zOffset:V,children:u.jsx(Cde,{...N,__unstable_margins:o,animate:P,arrow:s,arrowRef:de,arrowX:se,arrowY:le,hidden:ae,overflow:x,padding:F,placement:ne,radius:L,ref:fe,scheme:A,shadow:$,originX:ue,originY:ce,strategy:ie,tone:D,width:g?X.current:G,x:Q,y:ee,children:p})}),ge=b&&(k?u.jsx(Zf,{__unstable_name:"string"==typeof k?k:void 0,children:me}):me);return u.jsxs(u.Fragment,{children:[P?u.jsx(xs,{children:ge}):ge,he]})})));function e9e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function t9e(){return de`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `}function n9e(e){const{color:t,input:n}=Ae(e.theme),r=(n.radio.size-n.radio.markSize)/2;return de`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: ${ke(n.radio.size/2)};
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: ${ke(n.radio.size)};
      width: ${ke(n.radio.size)};
      border-radius: ${ke(n.radio.size/2)};
      background: ${t.input.default.enabled.bg};
      box-shadow: ${oi({color:t.input.default.enabled.border,width:n.border.width})};

      &::after {
        content: '';
        position: absolute;
        top: ${ke(r)};
        left: ${ke(r)};
        height: ${ke(n.radio.markSize)};
        width: ${ke(n.radio.markSize)};
        border-radius: ${ke(n.radio.markSize/2)};
        background: ${t.input.default.enabled.fg};
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: ${Ys({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.radio.focusRing})};
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: ${oi({color:t.input.default.enabled.border,width:n.border.width})};
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* customValidity */
    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${oi({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      &::after {
        background: ${t.input.invalid.enabled.muted.bg};
      }
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px ${t.input.default.readOnly.border};
      background: ${t.input.default.readOnly.bg};

      &::after {
        background: ${t.input.default.readOnly.border};
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px ${t.input.default.disabled.border};
      background: ${t.input.default.disabled.bg};

      &::after {
        background: ${t.input.default.disabled.border};
      }
    }
  `}Uu.displayName="Memo(ForwardRef(Popover))";const r9e=$.div(t9e),i9e=$.input(n9e),Sde=f.forwardRef((function(e,t){const n=Qe(19);let r,i,o,a,s,l;n[0]!==e?(({className:r,disabled:o,style:l,customValidity:i,readOnly:a,...s}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6]);const c=f.useRef(null);let d;n[7]===Symbol.for("react.memo_cache_sentinel")?(d=()=>c.current,n[7]=d):d=n[7],f.useImperativeHandle(t,d),Vx(c,i);const p=!o&&a?"":void 0,h=i?"":void 0,m=o||a;let g,y,v;return n[8]!==a||n[9]!==s||n[10]!==p||n[11]!==h||n[12]!==m?(g=u.jsx(i9e,{"data-read-only":p,"data-error":h,...s,disabled:m,readOnly:a,ref:c,type:"radio"}),n[8]=a,n[9]=s,n[10]=p,n[11]=h,n[12]=m,n[13]=g):g=n[13],n[14]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx("span",{}),n[14]=y):y=n[14],n[15]!==r||n[16]!==l||n[17]!==g?(v=u.jsxs(r9e,{className:r,"data-ui":"Radio",style:l,children:[g,y]}),n[15]=r,n[16]=l,n[17]=g,n[18]=v):v=n[18],v}));function a9e(){return de`
    position: relative;
    width: -moz-available;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `}function o9e(e){const{font:t}=Ae(e.theme);return de`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: ${t.text.family};
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `}function s9e(e){const{color:t,input:n}=Ae(e.theme);return de`
    /* enabled */
    background-color: ${t.input.default.enabled.bg};
    color: ${t.input.default.enabled.fg};
    box-shadow: ${oi({color:t.input.default.enabled.border,width:n.border.width})};

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: ${t.input.default.hovered.bg};
        color: ${t.input.default.hovered.fg};
        box-shadow: ${oi({color:t.input.default.hovered.border,width:n.border.width})};
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: ${Ys({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.select.focusRing})};
    }

    /* read-only */
    &[data-read-only] {
      background-color: ${t.input.default.readOnly.bg};
      color: ${t.input.default.readOnly.fg};
      box-shadow: ${oi({color:t.input.default.readOnly.border,width:n.border.width})};
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: ${t.input.default.disabled.bg};
      color: ${t.input.default.disabled.fg};
      box-shadow: ${oi({color:t.input.default.disabled.border,width:n.border.width})};
    }
  `}function l9e(e){return{fontSize:ke(e.fontSize),lineHeight:ke(e.lineHeight)}}function u9e(e){const{$fontSize:t}=e,{font:n,media:r}=Ae(e.theme);return Dt(r,t,(e=>l9e(n.text.sizes[e]||n.text.sizes[2])))}function c9e(){return[Cd,o9e,s9e,u9e,e8e]}function d9e(e){const{color:t}=Ae(e.theme);return de`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: ${t.input.default.enabled.fg};

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: ${t.input.default.hovered.fg};
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: ${t.input.default.disabled.fg};
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: ${t.input.default.readOnly.fg};
    }
  `}Sde.displayName="ForwardRef(Radio)";const QL={root:a9e,input:c9e,iconBox:d9e},f9e=$.div(QL.root),h9e=$.select(QL.input),p9e=$(N)(QL.iconBox),rl=f.forwardRef((function(e,t){const n=Qe(29);let r,i,o,a,s,l,c,d,p;n[0]!==e?(({children:r,customValidity:i,disabled:o,fontSize:l,padding:c,radius:d,readOnly:a,space:p,...s}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9]);const h=void 0===l?2:l,m=void 0===c?3:c,g=void 0===d?2:d,y=void 0===p?3:p,v=f.useRef(null);let b;n[10]===Symbol.for("react.memo_cache_sentinel")?(b=()=>v.current,n[10]=b):b=n[10],f.useImperativeHandle(t,b),Vx(v,i);const x=!o&&a?"":void 0,w=je(h),C=je(m),k=je(g),j=je(y),S=o||a;let E,_,A,T,D;return n[11]!==r||n[12]!==s||n[13]!==S||n[14]!==x||n[15]!==w||n[16]!==C||n[17]!==k||n[18]!==j?(E=u.jsx(h9e,{"data-read-only":x,"data-ui":"Select",...s,$fontSize:w,$padding:C,$radius:k,$space:j,disabled:S,ref:v,children:r}),n[11]=r,n[12]=s,n[13]=S,n[14]=x,n[15]=w,n[16]=C,n[17]=k,n[18]=j,n[19]=E):E=n[19],n[20]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(ci,{}),n[20]=_):_=n[20],n[21]!==h?(A=u.jsx(L,{size:h,children:_}),n[21]=h,n[22]=A):A=n[22],n[23]!==m||n[24]!==A?(T=u.jsx(p9e,{padding:m,children:A}),n[23]=m,n[24]=A,n[25]=T):T=n[25],n[26]!==E||n[27]!==T?(D=u.jsxs(f9e,{"data-ui":"Select",children:[E,T]}),n[26]=E,n[27]=T,n[28]=D):D=n[28],D}));rl.displayName="ForwardRef(Select)";const m9e={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function g9e(){return m9e}function v9e(e){const{media:t,space:n}=Ae(e.theme);return Dt(t,e.$space,(e=>({gridGap:ke(n[e])})))}const y9e=$(N)(g9e,v9e),ne=f.forwardRef((function(e,t){const n=Qe(10);let r,i,o;n[0]!==e?(({as:r,space:o,...i}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a="string"==typeof r?r:void 0,s=je(o);let l;return n[4]!==r||n[5]!==t||n[6]!==i||n[7]!==a||n[8]!==s?(l=u.jsx(y9e,{"data-as":a,"data-ui":"Stack",...i,$space:s,forwardedAs:r,ref:t}),n[4]=r,n[5]=t,n[6]=i,n[7]=a,n[8]=s,n[9]=l):l=n[9],l}));function b9e(){return de`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `}function x9e(){return de`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `}function w9e(e){const{color:t,input:n}=Ae(e.theme);return de`
    --switch-bg-color: ${t.input.default.enabled.border};
    --switch-fg-color: ${t.input.default.enabled.bg};
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: ${ke(n.switch.width)};
    height: ${ke(n.switch.height)};
    border-radius: ${ke(n.switch.height/2)};

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: ${Ys({focusRing:n.switch.focusRing})};
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: ${t.input.default.enabled.fg};
      --switch-fg-color: ${t.input.default.enabled.bg};
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: ${t.input.default.hovered.border};
        --switch-fg-color: ${t.input.default.hovered.bg};
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: ${t.input.default.enabled.fg};
        --switch-fg-color: ${t.input.default.enabled.bg};
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: ${t.input.default.disabled.border};
      --switch-fg-color: ${t.input.default.disabled.bg};
    }

    input[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.border};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }

    input:checked[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.fg};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }
  `}function C9e(e){const{input:t}=Ae(e.theme);return de`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: ${ke(t.switch.width)};
    height: ${ke(t.switch.height)};
    border-radius: ${ke(t.switch.height/2)};
  `}function S9e(e){const{$indeterminate:t}=e,{input:n}=Ae(e.theme),r=n.switch.width,i=n.switch.height,o=n.switch.padding,a=i-2*n.switch.padding,s=r-2*o-a,l=r/2-a/2-o,u=!0!==t&&!0===e.$checked;return de`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: ${ke(o)};
    top: ${ke(o)};
    height: ${ke(a)};
    width: ${ke(a)};
    border-radius: ${ke(a/2)};
    transition-property: transform;
    transition-duration: ${n.switch.transitionDurationMs}ms;
    transition-timing-function: ${n.switch.transitionTimingFunction};
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);
    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);

    ${u&&de`
      transform: translate3d(${s}px, 0, 0);
    `}

    ${t&&de`
      transform: translate3d(${l}px, 0, 0);
    `}
  `}ne.displayName="ForwardRef(Stack)";const E9e=$.span(b9e),_9e=$.input(x9e),k9e=$.span(w9e),T9e=$.span(C9e),A9e=$.span(S9e),kk=f.forwardRef((function(e,t){const n=Qe(26);let r,i,o,a,s,l,c;n[0]!==e?(({checked:r,className:i,disabled:o,indeterminate:a,readOnly:s,style:c,...l}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7]);const d=f.useRef(null);let p,h,m;n[8]===Symbol.for("react.memo_cache_sentinel")?(p=()=>d.current,n[8]=p):p=n[8],f.useImperativeHandle(t,p),n[9]!==a?(h=()=>{d.current&&(d.current.indeterminate=a||!1)},m=[a],n[9]=a,n[10]=h,n[11]=m):(h=n[10],m=n[11]),f.useEffect(h,m);const g=!o&&s?"":void 0,y=!0!==a&&r,v=o||s;let b,x,w,C;return n[12]!==l||n[13]!==g||n[14]!==y||n[15]!==v?(b=u.jsx(_9e,{"data-read-only":g,...l,checked:y,disabled:v,type:"checkbox",ref:d}),n[12]=l,n[13]=g,n[14]=y,n[15]=v,n[16]=b):b=n[16],n[17]===Symbol.for("react.memo_cache_sentinel")?(x=u.jsx(T9e,{}),n[17]=x):x=n[17],n[18]!==r||n[19]!==a?(w=u.jsxs(k9e,{"aria-hidden":!0,"data-name":"representation",children:[x,u.jsx(A9e,{$checked:r,$indeterminate:a})]}),n[18]=r,n[19]=a,n[20]=w):w=n[20],n[21]!==i||n[22]!==c||n[23]!==b||n[24]!==w?(C=u.jsxs(E9e,{className:i,"data-ui":"Switch",style:c,children:[b,w]}),n[21]=i,n[22]=c,n[23]=b,n[24]=w,n[25]=C):C=n[25],C}));kk.displayName="ForwardRef(Switch)";const j9e=$.span(ude),I9e=$.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,D9e=$.textarea(YL,cde,dde),O9e=$.div(Cd,fde),Ede=f.forwardRef((function(e,t){const n=Qe(29);let r,i,o,a,s,l,c,d,p;n[0]!==e?(({border:a,customValidity:i,disabled:s,fontSize:l,padding:c,radius:d,weight:p,__unstable_disableFocusRing:r,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9]);const h=void 0===a||a,m=void 0!==s&&s,g=void 0===l?2:l,y=void 0===c?3:c,v=void 0===d?2:d,b=f.useRef(null),x=h1();let w;n[10]===Symbol.for("react.memo_cache_sentinel")?(w=()=>b.current,n[10]=w):w=n[10],f.useImperativeHandle(t,w),Vx(b,i);const C=x.scheme,k=x.tone,j=je(g),S=je(y),E=x.scheme,_=je(0);let A;n[11]!==m||n[12]!==o||n[13]!==x.scheme||n[14]!==x.tone||n[15]!==_||n[16]!==j||n[17]!==S||n[18]!==p?(A=u.jsx(D9e,{"data-as":"textarea","data-scheme":C,"data-tone":k,...o,$fontSize:j,$padding:S,$scheme:E,$space:_,$tone:x.tone,$weight:p,disabled:m,ref:b}),n[11]=m,n[12]=o,n[13]=x.scheme,n[14]=x.tone,n[15]=_,n[16]=j,n[17]=S,n[18]=p,n[19]=A):A=n[19];const T=je(v),D=h?"":void 0;let M,I;return n[20]!==r||n[21]!==x.scheme||n[22]!==x.tone||n[23]!==T||n[24]!==D?(M=u.jsx(O9e,{$radius:T,$unstableDisableFocusRing:r,$scheme:x.scheme,$tone:x.tone,"data-border":D,"data-scheme":x.scheme,"data-tone":x.tone}),n[20]=r,n[21]=x.scheme,n[22]=x.tone,n[23]=T,n[24]=D,n[25]=M):M=n[25],n[26]!==A||n[27]!==M?(I=u.jsx(j9e,{"data-ui":"TextArea",children:u.jsxs(I9e,{children:[A,M]})}),n[26]=A,n[27]=M,n[28]=I):I=n[28],I}));Ede.displayName="ForwardRef(TextArea)";const R9e={zIndex:2},M9e=$(ae).attrs({forwardedAs:"span"})(ude),$9e=$.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,P9e=$(ae).attrs({forwardedAs:"span"})`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,F9e=$(ae).attrs({forwardedAs:"span"})`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,L9e=$.input(YL,cde,dde),N9e=$.span(Cd,fde),B9e=$(N)`
  position: absolute;
  top: 0;
  left: 0;
`,V9e=$(N)`
  position: absolute;
  top: 0;
  right: 0;
`,z9e=$(ae)`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`,U9e=$(wt)({"&:not([hidden])":{display:"block"}}),Vr=f.forwardRef((function(e,t){const n=Qe(84);let r,i,o,a,s,l,c,d,p,h,m,g,y,v,b,x,w,C;n[0]!==e?(({__unstable_disableFocusRing:o,border:m,clearButton:a,disabled:g,fontSize:y,icon:r,iconRight:i,onClear:l,padding:v,prefix:c,radius:b,readOnly:d,space:x,suffix:h,customValidity:s,type:w,weight:C,...p}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=v,n[15]=b,n[16]=x,n[17]=w,n[18]=C):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10],m=n[11],g=n[12],y=n[13],v=n[14],b=n[15],x=n[16],w=n[17],C=n[18]);const k=void 0===m||m,j=void 0!==g&&g,S=void 0===y?2:y,E=void 0===v?3:v,_=void 0===b?2:b,A=void 0===x?3:x,T=void 0===w?"text":w,D=f.useRef(null),M=h1(),I=je(S),O=je(E),N=je(_),P=je(A),R=!!a,F=!!r,$=!!i,B=!!h,V=!!c;let z;n[19]===Symbol.for("react.memo_cache_sentinel")?(z=()=>D.current,n[19]=z):z=n[19],f.useImperativeHandle(t,z),Vx(D,s);const U=H9e;let H;n[20]!==l?(H=e=>{e.preventDefault(),e.stopPropagation(),l&&l(),D.current?.focus()},n[20]=l,n[21]=H):H=n[21];const W=H;let q,G;n[22]!==c||n[23]!==N?(G=c&&u.jsx(P9e,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:N,sizing:"border",tone:"inherit",children:u.jsx("span",{children:c})}),n[22]=c,n[23]=N,n[24]=G):G=n[24],q=G;const Y=q;let K;const Z=k?"":void 0;let X,J,Q;n[25]!==r||n[26]!==I||n[27]!==O?(X=r&&u.jsx(B9e,{padding:O,children:u.jsxs(L,{size:I,children:[f.isValidElement(r)&&r,ta.isValidElementType(r)&&u.jsx(r,{})]})}),n[25]=r,n[26]=I,n[27]=O,n[28]=X):X=n[28],n[29]!==R||n[30]!==i||n[31]!==I||n[32]!==O?(J=!R&&i&&u.jsx(V9e,{padding:O,children:u.jsxs(L,{size:I,children:[f.isValidElement(i)&&i,ta.isValidElementType(i)&&u.jsx(i,{})]})}),n[29]=R,n[30]=i,n[31]=I,n[32]=O,n[33]=J):J=n[33],n[34]!==V||n[35]!==B||n[36]!==o||n[37]!==N||n[38]!==M.scheme||n[39]!==M.tone||n[40]!==Z||n[41]!==X||n[42]!==J?(Q=u.jsxs(N9e,{$hasPrefix:V,$unstableDisableFocusRing:o,$hasSuffix:B,$radius:N,$scheme:M.scheme,$tone:M.tone,"data-border":Z,"data-scheme":M.scheme,"data-tone":M.tone,children:[X,J]}),n[34]=V,n[35]=B,n[36]=o,n[37]=N,n[38]=M.scheme,n[39]=M.tone,n[40]=Z,n[41]=X,n[42]=J,n[43]=Q):Q=n[43],K=Q;const ee=K;let te,ne;n[44]!==O?(ne=O.map(W9e),n[44]=O,n[45]=ne):ne=n[45],te=ne;const re=te;let ie,oe;n[46]!==O?(oe=O.map(G9e),n[46]=O,n[47]=oe):oe=n[47],ie=oe;const ae=ie;let se;se="object"==typeof a?a:kf;const le=se;let ue,ce;n[48]!==a||n[49]!==re||n[50]!==ae||n[51]!==le||n[52]!==s||n[53]!==j||n[54]!==I||n[55]!==W||n[56]!==N||n[57]!==d?(ce=!j&&!d&&a&&u.jsx(z9e,{forwardedAs:"span",padding:re,style:R9e,tone:s?"critical":"inherit",children:u.jsx(U9e,{"aria-label":"Clear","data-qa":"clear-button",fontSize:I,icon:Ar,mode:"bleed",padding:ae,radius:N,...le,onClick:W,onMouseDown:U})}),n[48]=a,n[49]=re,n[50]=ae,n[51]=le,n[52]=s,n[53]=j,n[54]=I,n[55]=W,n[56]=N,n[57]=d,n[58]=ce):ce=n[58],ue=ce;const de=ue;let fe,pe;n[59]!==N||n[60]!==h?(pe=h&&u.jsx(F9e,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:N,sizing:"border",tone:"inherit",children:u.jsx("span",{children:h})}),n[59]=N,n[60]=h,n[61]=pe):pe=n[61],fe=pe;const he=fe,me=$||R;let ge,ye,ve;return n[62]!==F||n[63]!==j||n[64]!==I||n[65]!==O||n[66]!==d||n[67]!==p||n[68]!==M.scheme||n[69]!==M.tone||n[70]!==P||n[71]!==me||n[72]!==T||n[73]!==C?(ge=u.jsx(L9e,{"data-as":"input","data-scheme":M.scheme,"data-tone":M.tone,...p,$fontSize:I,$iconLeft:F,$iconRight:me,$padding:O,$scheme:M.scheme,$space:P,$tone:M.tone,$weight:C,disabled:j,readOnly:d,ref:D,type:T}),n[62]=F,n[63]=j,n[64]=I,n[65]=O,n[66]=d,n[67]=p,n[68]=M.scheme,n[69]=M.tone,n[70]=P,n[71]=me,n[72]=T,n[73]=C,n[74]=ge):ge=n[74],n[75]!==de||n[76]!==ee||n[77]!==ge?(ye=u.jsxs($9e,{children:[ge,ee,de]}),n[75]=de,n[76]=ee,n[77]=ge,n[78]=ye):ye=n[78],n[79]!==Y||n[80]!==M.tone||n[81]!==he||n[82]!==ye?(ve=u.jsxs(M9e,{"data-ui":"TextInput",tone:M.tone,children:[Y,ye,he]}),n[79]=Y,n[80]=M.tone,n[81]=he,n[82]=ye,n[83]=ve):ve=n[83],ve}));function H9e(e){e.preventDefault(),e.stopPropagation()}function W9e(e){return 0===e?0:1===e||2===e?1:e-2}function G9e(e){return 0===e||1===e?0:2===e?1:e-1}function _R(e){const t=Qe(3),[n,r]=f.useState(e),i=f.useRef();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(e,t)=>{const n=()=>{r(e)};if(i.current&&(clearTimeout(i.current),i.current=void 0),!t)return n();i.current=setTimeout(n,t)},t[0]=o):o=t[0];const a=o;let s;return t[1]!==n?(s=[n,a],t[1]=n,t[2]=s):s=t[2],s}Vr.displayName="ForwardRef(TextInput)";const Y9e=15,q9e=6,K9e=2,Z9e=4,EC=4,X9e={top:["top-end","top-start","bottom","left","right"],"top-start":["top","top-end","bottom-start","left-start","right-start"],"top-end":["top","top-start","bottom-end","left-end","right-end"],bottom:["bottom-end","bottom-start","top","left","right"],"bottom-start":["bottom","bottom-end","top-start","left-start","right-start"],"bottom-end":["bottom","bottom-start","top-end","left-end","right-end"],left:["left-end","left-start","right","top","bottom"],"left-start":["left","left-end","right-start","top-start","bottom-start"],"left-end":["left","left-start","right-end","top-end","bottom-end"],right:["right-end","right-start","left","top","bottom"],"right-start":["right","right-end","left-start","top-start","bottom-start"],"right-end":["right","right-start","left-end","top-end","bottom-end"]},J9e=$(di(ae))`
  & > * {
    opacity: var(${Tu}, 1);
    will-change: opacity;
  }
`,_de=f.memo(f.forwardRef((function(e,t){const n=Qe(42);let r,i,o,a,s,l,c,d,f,p,h,m,g,y,v,b;n[0]!==e?(({animate:r,arrow:i,arrowRef:o,arrowX:a,arrowY:s,children:l,originX:c,originY:d,padding:f,placement:p,radius:h,scheme:g,shadow:y,style:v,...m}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=f,n[10]=p,n[11]=h,n[12]=m,n[13]=g,n[14]=y,n[15]=v):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11],m=n[12],g=n[13],y=n[14],v=n[15]);const x=r?"transform":void 0;let w;n[16]!==c||n[17]!==d||n[18]!==v||n[19]!==x?(w={originX:c,originY:d,willChange:x,...v},n[16]=c,n[17]=d,n[18]=v,n[19]=x,n[20]=w):w=n[20],b=w;const C=b;let k;const j=null!==a?a:void 0,S=null!==s?s:void 0;let E;n[21]!==j||n[22]!==S?(E={left:j,top:S,right:void 0,bottom:void 0},n[21]=j,n[22]=S,n[23]=E):E=n[23],k=E;const _=k,A=m;let T,D,M;return n[24]!==r?(T=r?Qce:{},n[24]=r,n[25]=T):T=n[25],n[26]!==i||n[27]!==o||n[28]!==_?(D=i&&u.jsx(KL,{ref:o,style:_,width:15,height:6,radius:2}),n[26]=i,n[27]=o,n[28]=_,n[29]=D):D=n[29],n[30]!==l||n[31]!==f||n[32]!==p||n[33]!==h||n[34]!==t||n[35]!==C||n[36]!==g||n[37]!==y||n[38]!==A||n[39]!==T||n[40]!==D?(M=u.jsxs(J9e,{"data-ui":"Tooltip__card",...A,"data-placement":p,padding:f,radius:h,ref:t,scheme:g,shadow:y,style:C,...T,children:[l,D]}),n[30]=l,n[31]=f,n[32]=p,n[33]=h,n[34]=t,n[35]=C,n[36]=g,n[37]=y,n[38]=A,n[39]=T,n[40]=D,n[41]=M):M=n[41],M})));_de.displayName="Memo(ForwardRef(TooltipCard))";const kde=xd("@sanity/ui/context/tooltipDelayGroup",null);function Q9e(){return f.useContext(kde)}function Tde(e){const t=Qe(10),{children:n,delay:r}=e,[i,o]=_R(!1),[a,s]=_R(null),l="number"==typeof r?r:r?.open||0,c="number"==typeof r?r:r?.close||0;let d;const f=i?1:l;let p;t[0]!==c||t[1]!==i||t[2]!==a||t[3]!==o||t[4]!==s||t[5]!==f?(p={isGroupActive:i,setIsGroupActive:o,openTooltipId:a,setOpenTooltipId:s,openDelay:f,closeDelay:c},t[0]=c,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=f,t[6]=p):p=t[6],d=p;const h=d;let m;return t[7]!==n||t[8]!==h?(m=u.jsx(kde.Provider,{value:h,children:n}),t[7]=n,t[8]=h,t[9]=m):m=t[9],m}Tde.displayName="TooltipDelayGroupProvider";const eBe=$(go)`
  pointer-events: none;
`,DE=f.forwardRef((function(e,t){const n=sm(),{layer:r}=wd(),{animate:i=!1,arrow:o=!1,boundaryElement:a=n?.element,children:s,content:l,disabled:c,fallbackPlacements:d=e.fallbackPlacements??X9e[e.placement??"bottom"],padding:p=2,placement:h="bottom",portal:m,radius:g=2,scheme:y,shadow:v=2,zOffset:b=r.tooltip.zOffset,delay:x,...w}=e,C=!Ek()&&i,k=je(d),j=f.useRef(null),[S,E]=f.useState(null),_=f.useRef(null),A="viewport",[T,D]=f.useState(0);f.useImperativeHandle(t,(()=>j.current));const M=Sd(),I="string"==typeof m?M.elements?.[m]||null:M.element,O=f.useMemo((()=>{const e=[];return e.push(Rue({boundary:a||void 0,fallbackPlacements:k,padding:4,rootBoundary:A})),e.push(Due({mainAxis:4})),e.push(Oue({boundary:a||void 0,rootBoundary:A,padding:4})),o&&e.push(Mue({element:_,padding:4})),C&&e.push(mde),e}),[C,o,a,k]),{floatingStyles:N,placement:P,middlewareData:R,refs:F,update:L}=Iue({middleware:O,placement:h,whileElementsMounted:Aue}),$=R.arrow?.x,B=R.arrow?.y,V=R["@sanity/ui/origin"]?.originX,z=R["@sanity/ui/origin"]?.originY,U=f.useId(),[H,W]=_R(!1),q=Q9e(),G=H||q?.openTooltipId===U,Y=null!==q,K="number"==typeof x?x:x?.open||0,Z="number"==typeof x?x:x?.close||0,X=Y?q.openDelay:K,J=Y?q.closeDelay:Z,Q=f.useCallback(((e,t)=>{if(Y)if(e){const n=t?0:X;q.setIsGroupActive(e,n),q.setOpenTooltipId(U,n)}else{const n=J>200?J:200;q.setIsGroupActive(e,n),q.setOpenTooltipId(null,t?0:J)}else W(e,t?0:e?X:J)}),[Y,q,X,U,J,W]),ee=f.useCallback((e=>{Q(!1),s?.props?.onBlur?.(e)}),[s?.props,Q]),te=f.useCallback((e=>{Q(!1,!0),s?.props.onClick?.(e)}),[s?.props,Q]),ne=f.useCallback((e=>{Q(!1,!0),s?.props.onContextMenu?.(e)}),[s?.props,Q]),re=f.useCallback((e=>{Q(!0),s?.props?.onFocus?.(e)}),[s?.props,Q]),ie=f.useCallback((e=>{Q(!0),s?.props?.onMouseEnter?.(e)}),[s?.props,Q]),oe=f.useCallback((e=>{Q(!1),s?.props?.onMouseLeave?.(e)}),[s?.props,Q]);tBe({handleIsOpenChange:Q,referenceElement:S,showTooltip:G}),f.useEffect((()=>{c&&G&&Q(!1)}),[c,Q,G]),f.useEffect((()=>{!l&&G&&Q(!1)}),[l,Q,G]),f.useEffect((()=>F.setReference(S)),[S,F]),f.useEffect((()=>{if(G)return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&Q(!1,!0)}}),[Q,G]),f.useLayoutEffect((()=>{const e=[...a?[a.offsetWidth]:[],I?.offsetWidth||document.body.offsetWidth];D(Math.min(...e)-8)}),[a,I]);const ae=f.useCallback((e=>{_.current=e,L()}),[L]),se=f.useCallback((e=>{j.current=e,F.setFloating(e)}),[F]),le=f.useRef(null);f.useImperativeHandle(s?.ref,(()=>le.current));const ue=f.useMemo((()=>s?f.cloneElement(s,{onBlur:ee,onFocus:re,onMouseEnter:ie,onMouseLeave:oe,onClick:te,onContextMenu:ne,ref:le}):null),[s,ee,te,ne,re,ie,oe]);if(f.useEffect((()=>{if(ue)return E(le.current),()=>E(null)}),[ue]),!ue)return u.jsx(u.Fragment,{});if(c)return ue;const ce=u.jsx(eBe,{"data-ui":"Tooltip",...w,ref:se,style:{...N,maxWidth:T>0?`${T}px`:void 0},zOffset:b,children:u.jsx(_de,{...w,animate:C,arrow:o,arrowRef:ae,arrowX:$,arrowY:B,originX:V,originY:z,padding:p,placement:P,radius:g,ref:se,scheme:y,shadow:v,children:l})}),de=G&&(m?u.jsx(Zf,{__unstable_name:"string"==typeof m?m:void 0,children:ce}):ce);return u.jsxs(u.Fragment,{children:[C?u.jsx(xs,{children:de}):de,ue]})}));function tBe(e){const t=Qe(7),{handleIsOpenChange:n,referenceElement:r,showTooltip:i}=e;let o;t[0]!==n||t[1]!==r?(o=(e,t)=>{r&&(r===e||e instanceof Node&&r.contains(e)||(n(!1),t()))},t[0]=n,t[1]=r,t[2]=o):o=t[2];const a=VL(o);let s,l;t[3]!==a||t[4]!==i?(s=()=>{if(!i)return;const e=t=>{a(t.target,(()=>window.removeEventListener("mousemove",e)))};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},l=[a,i],t[3]=a,t[4]=i,t[5]=s,t[6]=l):(s=t[5],l=t[6]),f.useEffect(s,l)}DE.displayName="ForwardRef(Tooltip)";const nBe=$.div`
  line-height: 0;
`,rBe=$(N)`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`,iBe=Hf`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,aBe=$(s1)`
  animation: ${iBe} 500ms linear infinite;
`;function oBe(e){const t=Qe(11),{children:n,id:r,onSelect:i,selected:o,value:a}=e;let s;t[0]!==i||t[1]!==a?(s=()=>{setTimeout((()=>{i(a)}),0)},t[0]=i,t[1]=a,t[2]=s):s=t[2];const l=s;let c;t[3]!==l?(c=e=>{"Enter"===e.key&&!E7e(e.currentTarget)&&l()},t[3]=l,t[4]=c):c=t[4];const d=c;let f;return t[5]!==n||t[6]!==l||t[7]!==d||t[8]!==r||t[9]!==o?(f=u.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:r,role:"option",onClick:l,onKeyDown:d,children:n}),t[5]=n,t[6]=l,t[7]=d,t[8]=r,t[9]=o,t[10]=f):f=t[10],f}function sBe(e,t){return"input/change"===t.type?{...e,activeValue:null,focused:!0,query:t.query}:"input/focus"===t.type?{...e,focused:!0}:"root/blur"===t.type?{...e,focused:!1,query:null}:"root/clear"===t.type?{...e,activeValue:null,query:null,value:null}:"root/escape"===t.type?{...e,focused:!1,query:null}:"root/open"===t.type?{...e,query:e.query||t.query}:"root/setActiveValue"===t.type?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:"root/setListFocused"===t.type?{...e,listFocused:t.listFocused}:"value/change"===t.type?{...e,activeValue:t.value,query:null,value:t.value}:e}const lBe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],uBe="bottom-start",cBe=["bottom-start","top-start"],dBe=(e,t)=>t?t.value:e,fBe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Ade=f.forwardRef((function(e,t){const{border:n=!0,customValidity:r,disabled:i,filterOption:o,fontSize:a=2,icon:s,id:l,listBox:c=kf,loading:d,onBlur:p,onChange:h,onFocus:m,onQueryChange:g,onSelect:y,openButton:v,openOnFocus:b,options:x,padding:w=3,popover:C=kf,prefix:k,radius:j=2,readOnly:S,relatedElements:E,renderOption:_,renderPopover:A,renderValue:T=dBe,suffix:D,value:M,...I}=e,[O,P]=f.useReducer(sBe,{activeValue:M||null,focused:!1,listFocused:!1,query:null,value:M||null}),{activeValue:R,focused:F,listFocused:$,query:B,value:V}=O,z=f.useCallback((({value:e})=>u.jsx(ae,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:u.jsx(L,{size:a,textOverflow:"ellipsis",children:e})})),[a,w]),U="function"==typeof _?_:z,H="function"==typeof o?o:fBe,W=f.useRef(null),q=f.useRef(null),G=f.useRef(null),Y=f.useRef(null),K=f.useRef(!1),Z=f.useRef(V),X=f.useRef(M),J=f.useRef(!1);f.useImperativeHandle(t,(()=>G.current));const Q=`${l}-listbox`,ee=Array.isArray(x)?x:f1,te=je(w),re=f.useMemo((()=>null!==V?ee.find((e=>e.value===V)):void 0),[ee,V]),ie=f.useMemo((()=>ee.filter((e=>!B||H(B,e)))),[H,ee,B]),oe=ie.length,se=R?`${l}-option-${R}`:void 0,le=null!==B&&d||F&&null!==B,ue=f.useCallback((e=>{setTimeout((()=>{if(J.current)return;const t=(E||[]).concat(W.current?[W.current]:[],q.current?[q.current]:[]);let n=!1;if(document.activeElement)for(const e of t)if(e===document.activeElement||e.contains(document.activeElement)){n=!0;break}!1===n&&(P({type:"root/blur"}),J.current=!1,g&&g(null),p&&p(e))}),0)}),[p,g,E]),ce=f.useCallback((e=>{const t=Y.current,n=e.target instanceof HTMLElement?e.target:null,r=t?.contains(n)||!1;r!==K.current&&(K.current=r,P({type:"root/setListFocused",listFocused:r}))}),[]),de=f.useCallback((e=>{P({type:"value/change",value:e}),J.current=!1,y&&y(e),Z.current=e,h&&h(e),g&&g(null),G.current?.focus()}),[h,y,g]),fe=f.useCallback((e=>{if("ArrowDown"===e.key){if(e.preventDefault(),!oe)return;const t=ie.find((e=>e.value===R)),n=t?ie.indexOf(t):-1,r=ie[(n+1)%oe];return void(r&&P({type:"root/setActiveValue",value:r.value,listFocused:!0}))}if("ArrowUp"===e.key){if(e.preventDefault(),!oe)return;const t=ie.find((e=>e.value===R)),n=t?ie.indexOf(t):-1,r=ie[-1===n?oe-1:(oe+n-1)%oe];return void(r&&P({type:"root/setActiveValue",value:r.value,listFocused:!0}))}if("Escape"===e.key)return P({type:"root/escape"}),J.current=!1,g&&g(null),void G.current?.focus();const t=e.target,n=Y.current;n!==t&&!n?.contains(t)||lBe.includes(e.key)||G.current?.focus()}),[R,ie,oe,g]),pe=f.useCallback((e=>{const t=e.currentTarget.value;P({type:"input/change",query:t}),g&&g(t)}),[g]),he=f.useCallback((()=>{P({type:"root/open",query:V?T(V,re):""})}),[re,T,V]),me=f.useCallback((e=>{F||(P({type:"input/focus"}),m&&m(e),b&&he())}),[F,m,b,he]),ge=f.useCallback((()=>{J.current=!0}),[]),ye=f.useCallback((()=>{J.current=!1}),[]),ve=f.useCallback((()=>{P({type:"root/clear"}),Z.current="",h&&h(""),g&&g(null),G.current?.focus()}),[h,g]),be=f.useCallback((()=>{P({type:"input/focus"})}),[]);f.useEffect((()=>{if(M!==X.current)return X.current=M,void(void 0!==M&&(P({type:"value/change",value:M}),Z.current=M));M!==Z.current&&(Z.current=M||null,P({type:"value/change",value:M||null}))}),[M]),f.useEffect((()=>{!F&&Z.current&&P({type:"root/setActiveValue",value:Z.current})}),[F]),f.useEffect((()=>{const e=Y.current;if(!e)return;const t=ie.find((e=>e.value===R));if(t){const n=ie.indexOf(t),r=e.childNodes[n];if(r){if(A7e(r))return;Ap(r)}}}),[R,ie]);const xe=f.useMemo((()=>{if(!d&&!i&&V)return{"aria-label":"Clear",onFocus:be}}),[i,be,d,V]),we=f.useMemo((()=>te.map((e=>0===e?0:1===e||2===e?1:e-2))),[te]),Ce=f.useMemo((()=>te.map((e=>Math.max(e-1,0)))),[te]),ke=f.useMemo((()=>"object"==typeof v?v:kf),[v]),Se=f.useCallback((e=>{he(),ke.onClick&&ke.onClick(e),SR((()=>G.current?.focus()))}),[ke,he]),Ee=f.useMemo((()=>i||S||!v?void 0:u.jsx(N,{"aria-hidden":le,padding:we,children:u.jsx(wt,{"aria-label":"Open",disabled:le,fontSize:a,icon:ci,mode:"bleed",padding:Ce,...ke,onClick:Se})})),[i,le,a,Se,v,we,Ce,ke,S]),_e=f.useMemo((()=>null===B?null!==V?T(V,re):"":B),[re,B,T,V]),Ae=u.jsx(Vr,{...I,"aria-activedescendant":se,"aria-autocomplete":"list","aria-expanded":le,"aria-owns":Q,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:n,clearButton:xe,customValidity:r,disabled:i,fontSize:a,icon:s,iconRight:d&&aBe,id:l,inputMode:"search",onChange:pe,onClear:ve,onFocus:me,padding:te,prefix:k,radius:j,readOnly:S,ref:G,role:"combobox",spellCheck:!1,suffix:D||Ee,value:_e}),Te=f.useCallback((e=>{"Tab"===e.key&&$&&G.current?.focus()}),[$]),De=f.useMemo((()=>0===ie.length?null:u.jsx(rBe,{"data-ui":"AutoComplete__results",onKeyDown:Te,padding:1,...c,tabIndex:-1,children:u.jsx(ne,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:Q,ref:Y,role:"listbox",space:1,children:ie.map((e=>{const t=null!==R?e.value===R:re===e;return u.jsx(oBe,{id:`${l}-option-${e.value}`,onSelect:de,selected:t,value:e.value,children:f.cloneElement(U(e),{disabled:d,selected:t,tabIndex:$&&t?0:-1})},e.value)}))})})),[R,re,ie,de,Te,l,c,Q,$,d,U]),Me=f.useMemo((()=>A?A({content:De,hidden:!le,inputElement:G.current,onMouseEnter:ge,onMouseLeave:ye},q):0===oe?null:u.jsx(Uu,{arrow:!1,constrainSize:!0,content:De,fallbackPlacements:cBe,matchReferenceWidth:!0,onMouseEnter:ge,onMouseLeave:ye,open:le,overflow:"auto",placement:uBe,portal:!0,radius:j,ref:q,referenceElement:G.current,...C})),[De,le,oe,ge,ye,C,j,A]);return u.jsxs(nBe,{"data-ui":"Autocomplete",onBlur:ue,onFocus:ce,onKeyDown:fe,ref:W,children:[Ae,Me]})}));Ade.displayName="ForwardRef(Autocomplete)";const Tk=Ade,hBe=$.ol`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`,pBe=$(wt)`
  appearance: none;
  margin: -4px;
`,e6=f.forwardRef((function(e,t){const{children:n,maxLength:r,separator:i,space:o=2,...a}=e,s=je(o),[l,c]=f.useState(!1),d=f.useRef(null),p=f.useRef(null),h=f.useCallback((()=>c(!1)),[]),m=f.useCallback((()=>c(!0)),[]);HL(h,(()=>[d.current,p.current]));const g=f.useMemo((()=>f.Children.toArray(n).filter(f.isValidElement)),[n]),y=f.useMemo((()=>{const e=g.length;if(r&&e>r){const t=Math.ceil(r/2),n=Math.floor(r/2);return[...g.slice(0,t-1),u.jsx(Uu,{constrainSize:!0,content:u.jsx(ne,{as:"ol",overflow:"auto",padding:s,space:s,children:g.slice(t-1,e-n)}),open:l,placement:"top",portal:!0,ref:p,children:u.jsx(pBe,{fontSize:1,mode:"bleed",onClick:l?h:m,padding:1,ref:d,selected:l,text:""})},"button"),...g.slice(e-n)]}return g}),[h,m,r,l,g,s]);return u.jsx(hBe,{"data-ui":"Breadcrumbs",...a,ref:t,children:y.map(((e,t)=>u.jsxs(f.Fragment,{children:[t>0&&u.jsx(N,{"aria-hidden":!0,as:"li",paddingX:s,children:i||u.jsx(L,{muted:!0,children:"/"})}),u.jsx(N,{as:"li",children:e})]},t)))})}));function mBe({theme:e}){const{color:t}=Ae(e);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:t.backdrop}}function gBe(e){const{media:t}=Ae(e.theme);return Dt(t,e.$position,(e=>({"&&":{position:e}})))}function vBe(e){return e.$animate?de`
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    animation: fadeIn 200ms ease-out;
    // Animates the dialog card.
    & > [data-ui='DialogCard'] {
      animation: zoomIn 200ms ease-out;
    }
  `:de``}e6.displayName="ForwardRef(Breadcrumbs)";const jde=xd("@sanity/ui/context/dialog",{version:0});function yBe(){return f.useContext(jde)}function kR(e,t,n){return!e||!t||(ER(e,n)||ER(t,n))}const bBe=$(go)(hde,mBe,gBe,vBe),xBe=$(Xr)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,wBe=$(ae)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`,CBe=$(U)`
  flex: 1;
  min-height: 0;
  width: 100%;
`,SBe=$(N)`
  position: relative;
  z-index: 2;
`,EBe=$(N)`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`,_Be=$(N)`
  position: relative;
  z-index: 3;
`,Ide=f.forwardRef((function(e,t){const n=Qe(38),{__unstable_autoFocus:r,__unstable_hideCloseButton:i,children:o,contentRef:a,footer:s,header:l,id:c,onClickOutside:d,onClose:p,portal:h,radius:m,scheme:g,shadow:y,width:v}=e,b=Sd(),x=h?b.elements?.[h]||null:b.element,w=sm().element,C=je(m),k=je(y),j=je(v),S=f.useRef(null),E=f.useRef(null),_=Ho(),{isTopLayer:A}=_,T=`${c}_label`,D=!!p&&!1===i,M=!!l||D;let I,O,P,R,F,$,B,V,z,H,W,q,G;return n[0]===Symbol.for("react.memo_cache_sentinel")?(I=()=>S.current,n[0]=I):I=n[0],f.useImperativeHandle(t,I),n[1]===Symbol.for("react.memo_cache_sentinel")?(O=()=>E.current,n[1]=O):O=n[1],f.useImperativeHandle(a,O),n[2]!==r?(P=()=>{r&&S.current&&Ap(S.current)},R=[r,S],n[2]=r,n[3]=P,n[4]=R):(P=n[3],R=n[4]),f.useEffect(P,R),n[5]!==w||n[6]!==A||n[7]!==p||n[8]!==x?(F=e=>{if(!A||!p)return;const t=document.activeElement;t&&!kR(w,x,t)||"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),p())},n[5]=w,n[6]=A,n[7]=p,n[8]=x,n[9]=F):F=n[9],mo(F),n[10]!==w||n[11]!==A||n[12]!==d||n[13]!==x?($=A&&d&&(e=>{const t=e.target;t&&!kR(w,x,t)||d()}),n[10]=w,n[11]=A,n[12]=d,n[13]=x,n[14]=$):$=n[14],n[15]===Symbol.for("react.memo_cache_sentinel")?(B=()=>[S.current],n[15]=B):B=n[15],HL($,B),n[16]!==l||n[17]!==T||n[18]!==p||n[19]!==D||n[20]!==M?(V=M&&u.jsx(SBe,{children:u.jsxs(U,{align:"flex-start",padding:3,children:[u.jsx(N,{flex:1,padding:2,children:l&&u.jsx(L,{id:T,size:1,weight:"semibold",children:l})}),D&&u.jsx(N,{flex:"none",children:u.jsx(wt,{"aria-label":"Close dialog",disabled:!p,icon:Ar,mode:"bleed",onClick:p,padding:2})})]})}),n[16]=l,n[17]=T,n[18]=p,n[19]=D,n[20]=M,n[21]=V):V=n[21],n[22]!==o?(z=u.jsx(EBe,{flex:1,ref:E,tabIndex:-1,children:o}),n[22]=o,n[23]=z):z=n[23],n[24]!==s?(H=s&&u.jsx(_Be,{children:s}),n[24]=s,n[25]=H):H=n[25],n[26]!==V||n[27]!==z||n[28]!==H?(W=u.jsxs(CBe,{direction:"column",children:[V,z,H]}),n[26]=V,n[27]=z,n[28]=H,n[29]=W):W=n[29],n[30]!==C||n[31]!==g||n[32]!==k||n[33]!==W?(q=u.jsx(wBe,{radius:C,ref:S,scheme:g,shadow:k,children:W}),n[30]=C,n[31]=g,n[32]=k,n[33]=W,n[34]=q):q=n[34],n[35]!==q||n[36]!==j?(G=u.jsx(xBe,{"data-ui":"DialogCard",width:j,children:q}),n[35]=q,n[36]=j,n[37]=G):G=n[37],G}));Ide.displayName="ForwardRef(DialogCard)";const Ak=f.forwardRef((function(e,t){const n=Qe(60),r=yBe(),{layer:i}=wd();let o,a,s,l,c,d,p,h,m,g,y,v,b,x,w,C,k,j,S,E,_;n[0]!==e?(({__unstable_autoFocus:w,__unstable_hideCloseButton:C,cardRadius:k,cardShadow:j,children:s,contentRef:l,footer:c,header:d,id:p,onActivate:h,onClickOutside:m,onClose:g,onFocus:y,padding:S,portal:v,position:o,scheme:x,width:E,zOffset:a,animate:_,...b}=e),n[0]=e,n[1]=o,n[2]=a,n[3]=s,n[4]=l,n[5]=c,n[6]=d,n[7]=p,n[8]=h,n[9]=m,n[10]=g,n[11]=y,n[12]=v,n[13]=b,n[14]=x,n[15]=w,n[16]=C,n[17]=k,n[18]=j,n[19]=S,n[20]=E,n[21]=_):(o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],d=n[6],p=n[7],h=n[8],m=n[9],g=n[10],y=n[11],v=n[12],b=n[13],x=n[14],w=n[15],C=n[16],k=n[17],j=n[18],S=n[19],E=n[20],_=n[21]);const A=void 0===w||w,T=void 0!==C&&C,D=void 0===k?4:k,M=void 0===j?3:j,I=void 0===S?3:S,O=void 0===E?0:E,N=void 0!==_&&_,P=o??(r.position||"fixed"),R=a??(r.zOffset||i.dialog.zOffset),F=!Ek()&&N,L=Sd(),$=v?L.elements?.[v]||null:L.element,B=sm().element,V=je(D),z=je(I),U=je(P),H=je(O),W=je(R),q=f.useRef(null),G=f.useRef(null),Y=f.useRef(null),K=f.useRef(null);let Z;n[22]!==y?(Z=e=>{y?.(e);const t=e.target,n=Y.current;n&&t===q.current?JL(n):n&&t===G.current?Ap(n):zu(e.target)&&(K.current=e.target)},n[22]=y,n[23]=Z):Z=n[23];const X=Z,J=`${p}_label`,Q=f.useRef();let ee;n[24]!==B||n[25]!==$?(ee=()=>{Q.current&&clearTimeout(Q.current),Q.current=setTimeout((()=>{const e=document.activeElement;if(e&&!kR(B,$,e)){const e=K.current;if(!e||!document.body.contains(e)){const e=Y.current;return void(e&&Ap(e))}e.focus()}}),0)},n[24]=B,n[25]=$,n[26]=ee):ee=n[26];const te=ee;let ne,re,ie,oe,ae;return n[27]===Symbol.for("react.memo_cache_sentinel")?(ne=u.jsx("div",{ref:q,tabIndex:0}),n[27]=ne):ne=n[27],n[28]!==A||n[29]!==V||n[30]!==M||n[31]!==s||n[32]!==l||n[33]!==c||n[34]!==d||n[35]!==T||n[36]!==p||n[37]!==m||n[38]!==g||n[39]!==v||n[40]!==x||n[41]!==H?(re=u.jsx(Ide,{__unstable_autoFocus:A,__unstable_hideCloseButton:T,contentRef:l,footer:c,header:d,id:p,onClickOutside:m,onClose:g,portal:v,radius:V,ref:Y,scheme:x,shadow:M,width:H,children:s}),n[28]=A,n[29]=V,n[30]=M,n[31]=s,n[32]=l,n[33]=c,n[34]=d,n[35]=T,n[36]=p,n[37]=m,n[38]=g,n[39]=v,n[40]=x,n[41]=H,n[42]=re):re=n[42],n[43]===Symbol.for("react.memo_cache_sentinel")?(ie=u.jsx("div",{ref:G,tabIndex:0}),n[43]=ie):ie=n[43],n[44]!==F||n[45]!==X||n[46]!==te||n[47]!==p||n[48]!==J||n[49]!==h||n[50]!==z||n[51]!==U||n[52]!==t||n[53]!==b||n[54]!==re||n[55]!==W?(oe=u.jsxs(bBe,{...b,$animate:F,$padding:z,$position:U,"aria-labelledby":J,"aria-modal":!0,"data-ui":"Dialog",id:p,onActivate:h,onClick:te,onFocus:X,ref:t,role:"dialog",zOffset:W,children:[ne,re,ie]}),n[44]=F,n[45]=X,n[46]=te,n[47]=p,n[48]=J,n[49]=h,n[50]=z,n[51]=U,n[52]=t,n[53]=b,n[54]=re,n[55]=W,n[56]=oe):oe=n[56],n[57]!==v||n[58]!==oe?(ae=u.jsx(Zf,{__unstable_name:v,children:oe}),n[57]=v,n[58]=oe,n[59]=ae):ae=n[59],ae}));function OE(e){const t=Qe(6),{children:n,position:r,zOffset:i}=e;let o,a;t[0]!==r||t[1]!==i?(a={version:0,position:r,zOffset:i},t[0]=r,t[1]=i,t[2]=a):a=t[2],o=a;const s=o;let l;return t[3]!==n||t[4]!==s?(l=u.jsx(jde.Provider,{value:s,children:n}),t[3]=n,t[4]=s,t[5]=l):l=t[5],l}Ak.displayName="ForwardRef(Dialog)",OE.displayName="DialogProvider";const kBe=$.kbd`
  font: inherit;
  padding: 1px;

  &:not([hidden]) {
    display: block;
  }
`,TBe=$(pde)`
  &:not([hidden]) {
    display: block;
  }
`,Wx=f.forwardRef((function(e,t){const n=Qe(24);let r,i,o,a,s,l;n[0]!==e?(({fontSize:r,keys:i,padding:o,radius:a,space:l,...s}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6]);const c=je(void 0===l?.5:l);if(!i||0===i.length){let e;return n[7]===Symbol.for("react.memo_cache_sentinel")?(e=u.jsx(u.Fragment,{}),n[7]=e):e=n[7],e}let d,f,p;if(n[8]!==r||n[9]!==i||n[10]!==o||n[11]!==a){let e;n[13]!==r||n[14]!==o||n[15]!==a?(e=(e,t)=>u.jsx(TBe,{fontSize:r,padding:o,radius:a,children:e},t),n[13]=r,n[14]=o,n[15]=a,n[16]=e):e=n[16],d=i.map(e),n[8]=r,n[9]=i,n[10]=o,n[11]=a,n[12]=d}else d=n[12];return n[17]!==c||n[18]!==d?(f=u.jsx(xn,{as:"span",space:c,children:d}),n[17]=c,n[18]=d,n[19]=f):f=n[19],n[20]!==t||n[21]!==s||n[22]!==f?(p=u.jsx(kBe,{"data-ui":"Hotkeys",...s,ref:t,children:f}),n[20]=t,n[21]=s,n[22]=f,n[23]=p):p=n[23],p}));Wx.displayName="ForwardRef(Hotkeys)";const Dde=xd("@sanity/ui/context/menu",null);function ABe(e){return ZL(e)&&"true"!==e.getAttribute("data-disabled")||XL(e)&&!e.disabled}function Km(e){return e.filter(ABe)}function jBe(e,t){const n=[];let r=t;for(;r!==e;){const t=r.parentElement;if(!t)return n;const i=Array.from(t.childNodes).indexOf(r);if(n.unshift(i),t===e)return n;r=t}return n}const hH=[];function IBe(e,t){if(!e)return;const n=new WeakMap;for(const r of t)n.set(r,jBe(e,r));t.sort(((e,t)=>{const r=n.get(e)||hH,i=n.get(t)||hH,o=Math.max(r.length,i.length);for(let e=0;e<o;e+=1){const t=r[e]||-1,n=i[e]||-1;if(t!==n)return t-n}return 0}))}function DBe(e){const{onKeyDown:t,originElement:n,shouldFocus:r,rootElementRef:i}=e,o=f.useRef([]),[a,s]=f.useState(-1),l=f.useRef(a),u=f.useMemo((()=>o.current[a]||null),[a]),c=!!i.current,d=f.useCallback((e=>{s(e),l.current=e}),[]),p=f.useCallback(((e,t)=>{if(!e)return()=>{};if(-1===o.current.indexOf(e)&&(o.current.push(e),IBe(i.current,o.current)),t){const t=o.current.indexOf(e);d(t)}return()=>{const t=o.current.indexOf(e);t>-1&&o.current.splice(t,1)}}),[i,d]),h=f.useCallback((e=>{if("Tab"!==e.key)if("Home"!==e.key)if("End"!==e.key)if("ArrowUp"!==e.key)if("ArrowDown"!==e.key)t&&t(e);else{e.preventDefault(),e.stopPropagation();const t=Km(o.current),n=t.length;if(0===n)return;const r=o.current[l.current];let i=t.indexOf(r);i=(i+1)%n;const a=t[i],s=o.current.indexOf(a);d(s)}else{e.preventDefault(),e.stopPropagation();const t=Km(o.current),n=t.length;if(0===n)return;const r=o.current[l.current];let i=t.indexOf(r);i=(i-1+n)%n;const a=t[i],s=o.current.indexOf(a);d(s)}else{e.preventDefault(),e.stopPropagation();const t=Km(o.current),n=t[t.length-1];if(!n)return;const r=o.current.indexOf(n);d(r)}else{e.preventDefault(),e.stopPropagation();const t=Km(o.current)[0];if(!t)return;const n=o.current.indexOf(t);d(n)}else n&&n.focus()}),[t,n,d]),m=f.useCallback((e=>{const t=e.currentTarget,n=o.current.indexOf(t);d(n)}),[d]),g=f.useCallback((()=>{d(-2),i.current?.focus()}),[i,d]);return f.useEffect((()=>{if(!c)return;const e=requestAnimationFrame((()=>{if(-1!==a)(o.current[a]||null)?.focus();else{if("first"===r){const e=Km(o.current)[0];if(e){const t=o.current.indexOf(e);d(t)}}if("last"===r){const e=Km(o.current),t=e[e.length-1];if(t){const e=o.current.indexOf(t);d(e)}}}}));return()=>cancelAnimationFrame(e)}),[a,c,d,r]),{activeElement:u,activeIndex:a,handleItemMouseEnter:m,handleItemMouseLeave:g,handleKeyDown:h,mount:p}}const OBe=$(N)`
  outline: none;
  overflow: auto;
`,At=f.forwardRef((function(e,t){const n=Qe(50);let r,i,o,a,s,l,c,d,p,h,m,g;if(n[0]!==e){const{children:t,focusFirst:u,focusLast:f,onClickOutside:y,onEscape:v,onItemClick:b,onItemSelect:x,onKeyDown:w,originElement:C,padding:k,registerElement:j,shouldFocus:S,space:E,..._}=e;i=t,o=y,a=v,s=b,l=x,c=w,d=C,m=k,p=j,r=S,g=E,h=_,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h,n[11]=m,n[12]=g}else r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10],m=n[11],g=n[12];const y=void 0===m?1:m,v=void 0===g?1:g,b=r??((e.focusFirst?"first":e.focusLast&&"last")||null),x=f.useRef(null);let w;n[13]===Symbol.for("react.memo_cache_sentinel")?(w=()=>x.current,n[13]=w):w=n[13],f.useImperativeHandle(t,w);const{isTopLayer:C}=Ho();let k;n[14]!==c||n[15]!==d||n[16]!==b?(k={onKeyDown:c,originElement:d,shouldFocus:b,rootElementRef:x},n[14]=c,n[15]=d,n[16]=b,n[17]=k):k=n[17];const{activeElement:j,activeIndex:S,handleItemMouseEnter:E,handleItemMouseLeave:_,handleKeyDown:A,mount:T}=DBe(k),D=f.useRef(null);let M;n[18]!==p?(M=e=>{D.current&&(D.current(),D.current=null),x.current=e,x.current&&p&&(D.current=p(x.current))},n[18]=p,n[19]=M):M=n[19];const I=M;let O,N,P,R,F,L;n[20]!==S||n[21]!==l?(O=()=>{l&&l(S)},N=[S,l],n[20]=S,n[21]=l,n[22]=O,n[23]=N):(O=n[22],N=n[23]),f.useEffect(O,N),n[24]===Symbol.for("react.memo_cache_sentinel")?(P=()=>[x.current],n[24]=P):P=n[24],HL(C&&o,P),n[25]!==C||n[26]!==a?(R=e=>{C&&"Escape"===e.key&&(e.stopPropagation(),a&&a())},n[25]=C,n[26]=a,n[27]=R):R=n[27],mo(R),n[28]!==j||n[29]!==S||n[30]!==E||n[31]!==_||n[32]!==T||n[33]!==o||n[34]!==a||n[35]!==s||n[36]!==p?(L={version:0,activeElement:j,activeIndex:S,mount:T,onClickOutside:o,onEscape:a,onItemClick:s,onItemMouseEnter:E,onItemMouseLeave:_,registerElement:p,onMouseEnter:E,onMouseLeave:_},n[28]=j,n[29]=S,n[30]=E,n[31]=_,n[32]=T,n[33]=o,n[34]=a,n[35]=s,n[36]=p,n[37]=L):L=n[37],F=L;const $=F;let B,V,z;return n[38]!==i||n[39]!==v?(B=u.jsx(ne,{space:v,children:i}),n[38]=i,n[39]=v,n[40]=B):B=n[40],n[41]!==A||n[42]!==I||n[43]!==y||n[44]!==h||n[45]!==B?(V=u.jsx(OBe,{"data-ui":"Menu",...h,onKeyDown:A,padding:y,ref:I,role:"menu",tabIndex:-1,children:B}),n[41]=A,n[42]=I,n[43]=y,n[44]=h,n[45]=B,n[46]=V):V=n[46],n[47]!==V||n[48]!==$?(z=u.jsx(Dde.Provider,{value:$,children:V}),n[47]=V,n[48]=$,n[49]=z):z=n[49],z}));At.displayName="ForwardRef(Menu)";const jk=f.forwardRef((function(e,t){const n=Qe(62),{__unstable_disableRestoreFocusOnClose:r,boundaryElement:i,button:o,id:a,menu:s,onClose:l,onOpen:c,placement:d,popoverScheme:p,portal:h,popover:m,popoverRadius:g,preventOverflow:y}=e,v=void 0!==r&&r,b=void 0===h||h,[x,w]=f.useState(!1),[C,k]=f.useState(null),[j,S]=f.useState(null);let E;n[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],n[0]=E):E=n[0];const[_,A]=f.useState(E),T=f.useRef(x);let D,M,I,O,N,P,R;n[1]!==c||n[2]!==x?(D=()=>{c&&x&&!T.current&&c()},M=[c,x],n[1]=c,n[2]=x,n[3]=D,n[4]=M):(D=n[3],M=n[4]),f.useEffect(D,M),n[5]!==l||n[6]!==x?(I=()=>{l&&!x&&T.current&&l()},O=[l,x],n[5]=l,n[6]=x,n[7]=I,n[8]=O):(I=n[7],O=n[8]),f.useEffect(I,O),n[9]!==x?(N=()=>{T.current=x},P=[x],n[9]=x,n[10]=N,n[11]=P):(N=n[10],P=n[11]),f.useEffect(N,P),n[12]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{w(RBe),k(null)},n[12]=R):R=n[12];const F=R;let L;n[13]!==x?(L=e=>{x&&e.preventDefault()},n[13]=x,n[14]=L):L=n[14];const $=L;let B;n[15]===Symbol.for("react.memo_cache_sentinel")?(B=e=>"ArrowDown"===e.key||"Enter"===e.key||" "===e.key?(e.preventDefault(),w(!0),void k("first")):"ArrowUp"===e.key?(e.preventDefault(),w(!0),void k("last")):void 0,n[15]=B):B=n[15];const V=B;let z;n[16]!==j||n[17]!==_?(z=e=>{const t=e.target;if(t instanceof Node&&(!j||t!==j&&!j.contains(t))){for(const e of _)if(t===e||e.contains(t))return;w(!1)}},n[16]=j,n[17]=_,n[18]=z):z=n[18];const U=z;let H;n[19]!==j||n[20]!==v?(H=()=>{w(!1),!v&&j&&j.focus()},n[19]=j,n[20]=v,n[21]=H):H=n[21];const W=H;let q;n[22]!==_?(q=e=>{const t=e.relatedTarget;if(t instanceof Node){for(const e of _)if(e===t||e.contains(t))return;w(!1)}},n[22]=_,n[23]=q):q=n[23];const G=q;let Y;n[24]!==j||n[25]!==v?(Y=()=>{w(!1),!v&&j&&j.focus()},n[24]=j,n[25]=v,n[26]=Y):Y=n[26];const K=Y;let Z;n[27]===Symbol.for("react.memo_cache_sentinel")?(Z=e=>(A((t=>t.concat([e]))),()=>A((t=>t.filter((t=>t!==e))))),n[27]=Z):Z=n[27];const X=Z;let J;n[28]!==j||n[29]!==G||n[30]!==K||n[31]!==U||n[32]!==W||n[33]!==a||n[34]!==s||n[35]!==C?(J=s&&f.cloneElement(s,{"aria-labelledby":a,onBlurCapture:G,onClickOutside:U,onEscape:W,onItemClick:K,originElement:j,registerElement:X,shouldFocus:C}),n[28]=j,n[29]=G,n[30]=K,n[31]=U,n[32]=W,n[33]=a,n[34]=s,n[35]=C,n[36]=J):J=n[36];const Q=J;let ee,te;n[37]!==o||n[38]!==$||n[39]!==a||n[40]!==x?(te=o&&f.cloneElement(o,{"data-ui":"MenuButton",id:a,onClick:F,onKeyDown:V,onMouseDown:$,"aria-haspopup":!0,"aria-expanded":x,ref:S,selected:o.props.selected??x}),n[37]=o,n[38]=$,n[39]=a,n[40]=x,n[41]=te):te=n[41],ee=te;const ne=ee;let re,ie,oe,ae,se;n[42]!==j?(re=()=>j,ie=[j],n[42]=j,n[43]=re,n[44]=ie):(re=n[43],ie=n[44]),f.useImperativeHandle(t,re,ie),n[45]!==m?(ae=m||{},n[45]=m,n[46]=ae):ae=n[46],n[47]!==i||n[48]!==d||n[49]!==g||n[50]!==p||n[51]!==b||n[52]!==y||n[53]!==ae?(se={boundaryElement:i,overflow:"auto",placement:d,portal:b,preventOverflow:y,radius:g,scheme:p,...ae},n[47]=i,n[48]=d,n[49]=g,n[50]=p,n[51]=b,n[52]=y,n[53]=ae,n[54]=se):se=n[54],oe=se;const le=oe;let ue,ce;return n[55]!==ne?(ue=ne||u.jsx(u.Fragment,{}),n[55]=ne,n[56]=ue):ue=n[56],n[57]!==Q||n[58]!==x||n[59]!==le||n[60]!==ue?(ce=u.jsx(Uu,{"data-ui":"MenuButton__popover",...le,content:Q,open:x,children:ue}),n[57]=Q,n[58]=x,n[59]=le,n[60]=ue,n[61]=ce):ce=n[61],ce}));function RBe(e){return!e}jk.displayName="ForwardRef(MenuButton)";const rr=$.hr`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`;function MBe(){return de`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `}function $Be(e){const{$tone:t}=e,{color:n,style:r}=Ae(e.theme),i=n.selectable[t];return de`
    ${cn(n,i.enabled)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        ${cn(n,i.disabled)}
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          ${cn(n,i.pressed)}
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          ${cn(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${cn(n,i.hovered)}
            }

            &:active {
              ${cn(n,i.pressed)}
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        ${cn(n,i.disabled)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${cn(n,i.pressed)}
        }

        &[data-selected] {
          ${cn(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${cn(n,i.hovered)}
            }
            &:active {
              ${cn(n,i.pressed)}
            }
          }
        }
      }
    }

    ${r?.card?.root}
  `}rr.displayName="MenuDivider";const t6=$(N)(Cd,MBe,$Be);function Ode(){const e=f.useContext(Dde);if(!e)throw new Error("useMenu(): missing context value");if(!Hx(e)||0!==e.version)throw new Error("useMenu(): the context value is not compatible");return e}function Rde(e){const t=Qe(77);let n,r,i,o,a,s,l,c,d,p,h,m;t[0]!==e?(({as:s,children:r,fontSize:l,icon:n,onClick:i,padding:c,popover:o,radius:d,space:p,text:m,tone:h,...a}=e),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t[9]=d,t[10]=p,t[11]=h,t[12]=m):(n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],d=t[9],p=t[10],h=t[11],m=t[12]);const g=void 0===s?"button":s,y=void 0===l?1:l,v=void 0===c?3:c,b=void 0===d?2:d,x=void 0===p?3:p,w=void 0===h?"default":h,C=Ode(),{scheme:k}=h1(),{activeElement:j,mount:S,onClickOutside:E,onEscape:_,onItemClick:A,onItemMouseEnter:T,registerElement:D}=C,M=T??C.onMouseEnter,[I,O]=f.useState(null),[P,R]=f.useState(!1),[F,$]=f.useState(null),B=!!j&&j===I,[V,z]=f.useState(!1);let H;t[13]!==M?(H=e=>{z(!1),M(e),R(!0)},t[13]=M,t[14]=H):H=t[14];const W=H;let q;t[15]!==I?(q=e=>{"ArrowLeft"===e.key&&(e.stopPropagation(),R(!1),requestAnimationFrame((()=>{I?.focus()})))},t[15]=I,t[16]=q):q=t[16];const G=q;let Y;t[17]!==i?(Y=e=>{i?.(e),$("first"),R(!0)},t[17]=i,t[18]=Y):Y=t[18];const K=Y;let Z;t[19]!==A?(Z=()=>{R(!1),A?.()},t[19]=A,t[20]=Z):Z=t[20];const X=Z;let J;t[21]===Symbol.for("react.memo_cache_sentinel")?(J=()=>z(!0),t[21]=J):J=t[21];const Q=J;let ee,te,ne,re,ie,oe,ae,se,le;t[22]!==S||t[23]!==I?(ee=()=>S(I),te=[S,I],t[22]=S,t[23]=I,t[24]=ee,t[25]=te):(ee=t[24],te=t[25]),f.useEffect(ee,te),t[26]!==B?(ne=()=>{B||R(!1)},re=[B],t[26]=B,t[27]=ne,t[28]=re):(ne=t[27],re=t[28]),f.useEffect(ne,re),t[29]!==P?(ie=()=>{P||z(!1)},oe=[P],t[29]=P,t[30]=ie,t[31]=oe):(ie=t[30],oe=t[31]),f.useEffect(ie,oe),t[32]!==F?(ae=()=>{if(!F)return;const e=requestAnimationFrame((()=>$(null)));return()=>cancelAnimationFrame(e)},se=[F],t[32]=F,t[33]=ae,t[34]=se):(ae=t[33],se=t[34]),f.useEffect(ae,se),t[35]!==r||t[36]!==X||t[37]!==G||t[38]!==E||t[39]!==_||t[40]!==D||t[41]!==F?(le=u.jsx(At,{onClickOutside:E,onEscape:_,onItemClick:X,onKeyDown:G,onMouseEnter:Q,registerElement:D,shouldFocus:F,children:r}),t[35]=r,t[36]=X,t[37]=G,t[38]=E,t[39]=_,t[40]=D,t[41]=F,t[42]=le):le=t[42];const ue=le;let ce;t[43]===Symbol.for("react.memo_cache_sentinel")?(ce=e=>{const t=e.currentTarget;if(document.activeElement===t&&"ArrowRight"===e.key)return $("first"),R(!0),void z(!0)},t[43]=ce):ce=t[43];const de=ce,fe="button"===g?V:void 0,pe="button"!==g?V:void 0,he=!V&&B?"":void 0,me=je(b),ge="button"===g?"button":void 0;let ye,ve,be,xe,we,Ce,ke;return t[44]!==n||t[45]!==y?(ye=n&&u.jsxs(L,{size:y,children:[f.isValidElement(n)&&n,ta.isValidElementType(n)&&u.jsx(n,{})]}),t[44]=n,t[45]=y,t[46]=ye):ye=t[46],t[47]!==y||t[48]!==m?(ve=u.jsx(N,{flex:1,children:u.jsx(L,{size:y,textOverflow:"ellipsis",weight:"medium",children:m})}),t[47]=y,t[48]=m,t[49]=ve):ve=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(be=u.jsx(Aa,{}),t[50]=be):be=t[50],t[51]!==y?(xe=u.jsx(L,{size:y,children:be}),t[51]=y,t[52]=xe):xe=t[52],t[53]!==v||t[54]!==x||t[55]!==ye||t[56]!==ve||t[57]!==xe?(we=u.jsxs(U,{gap:x,padding:v,children:[ye,ve,xe]}),t[53]=v,t[54]=x,t[55]=ye,t[56]=ve,t[57]=xe,t[58]=we):we=t[58],t[59]!==g||t[60]!==K||t[61]!==W||t[62]!==a||t[63]!==k||t[64]!==fe||t[65]!==pe||t[66]!==he||t[67]!==me||t[68]!==ge||t[69]!==we||t[70]!==w?(Ce=u.jsx(t6,{"data-as":g,"data-ui":"MenuGroup",forwardedAs:g,...a,"aria-pressed":fe,"data-pressed":pe,"data-selected":he,$radius:me,$tone:w,$scheme:k,onClick:K,onKeyDown:de,onMouseEnter:W,ref:O,tabIndex:-1,type:ge,children:we}),t[59]=g,t[60]=K,t[61]=W,t[62]=a,t[63]=k,t[64]=fe,t[65]=pe,t[66]=he,t[67]=me,t[68]=ge,t[69]=we,t[70]=w,t[71]=Ce):Ce=t[71],t[72]!==ue||t[73]!==P||t[74]!==o||t[75]!==Ce?(ke=u.jsx(Uu,{...o,content:ue,"data-ui":"MenuGroup__popover",open:P,children:Ce}),t[72]=ue,t[73]=P,t[74]=o,t[75]=Ce,t[76]=ke):ke=t[76],ke}t6.displayName="Selectable",Rde.displayName="MenuGroup";const lm=f.forwardRef((function(e,t){const n=Qe(74);let r,i,o,a,s,l,c,d,p,h,m,g,y,v,b,x,w,C,k,j,S,E;n[0]!==e?(({as:x,children:o,disabled:a,fontSize:w,hotkeys:s,icon:r,iconRight:i,onClick:l,padding:C,paddingX:m,paddingY:g,paddingTop:h,paddingRight:p,paddingBottom:c,paddingLeft:d,pressed:y,radius:k,selected:b,space:j,text:E,tone:S,...v}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=v,n[15]=b,n[16]=x,n[17]=w,n[18]=C,n[19]=k,n[20]=j,n[21]=S,n[22]=E):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10],m=n[11],g=n[12],y=n[13],v=n[14],b=n[15],x=n[16],w=n[17],C=n[18],k=n[19],j=n[20],S=n[21],E=n[22]);const _=void 0===x?"button":x,A=void 0===w?1:w,T=void 0===C?3:C,D=void 0===k?2:k,M=void 0===j?3:j,I=void 0===S?"default":S,{scheme:O}=h1(),P=Ode(),{activeElement:R,mount:F,onItemClick:$,onItemMouseEnter:B,onItemMouseLeave:V}=P,z=B??P.onMouseEnter,H=V??P.onMouseLeave,[W,q]=f.useState(null),G=!!R&&R===W,Y=f.useRef(null);let K,Z,X,J;n[23]===Symbol.for("react.memo_cache_sentinel")?(K=()=>Y.current,n[23]=K):K=n[23],f.useImperativeHandle(t,K),n[24]!==F||n[25]!==W||n[26]!==b?(Z=()=>F(W,b),X=[F,W,b],n[24]=F,n[25]=W,n[26]=b,n[27]=Z,n[28]=X):(Z=n[27],X=n[28]),f.useEffect(Z,X),n[29]!==a||n[30]!==l||n[31]!==$?(J=e=>{a||(l&&l(e),$&&$())},n[29]=a,n[30]=l,n[31]=$,n[32]=J):J=n[32];const Q=J;let ee,te;n[33]!==T||n[34]!==c||n[35]!==d||n[36]!==p||n[37]!==h||n[38]!==m||n[39]!==g?(te={padding:T,paddingX:m,paddingY:g,paddingTop:h,paddingRight:p,paddingBottom:c,paddingLeft:d},n[33]=T,n[34]=c,n[35]=d,n[36]=p,n[37]=h,n[38]=m,n[39]=g,n[40]=te):te=n[40],ee=te;const ne=ee,re=je(A);let ie;n[41]!==re?(ie=re.map(PBe),n[41]=re,n[42]=ie):ie=n[42];const oe=ie;let ae;n[43]===Symbol.for("react.memo_cache_sentinel")?(ae=e=>{Y.current=e,q(e)},n[43]=ae):ae=n[43];const se=ae,le="button"===_&&y,ue="button"!==_&&y?"":void 0,ce=G?"":void 0,de=a?"":void 0,fe=je(D),pe=je(0),he=a?"default":I,me="button"===_?"button":void 0;let ge,ye,ve;return n[44]!==r||n[45]!==i||n[46]!==A||n[47]!==s||n[48]!==oe||n[49]!==ne||n[50]!==M||n[51]!==E?(ge=(r||E||i)&&u.jsxs(U,{as:"span",gap:M,align:"center",...ne,children:[r&&u.jsxs(L,{size:A,children:[f.isValidElement(r)&&r,ta.isValidElementType(r)&&u.jsx(r,{})]}),E&&u.jsx(N,{flex:1,children:u.jsx(L,{size:A,textOverflow:"ellipsis",weight:"medium",children:E})}),s&&u.jsx(Wx,{fontSize:oe,keys:s,style:{marginTop:-4,marginBottom:-4}}),i&&u.jsxs(L,{size:A,children:[f.isValidElement(i)&&i,ta.isValidElementType(i)&&u.jsx(i,{})]})]}),n[44]=r,n[45]=i,n[46]=A,n[47]=s,n[48]=oe,n[49]=ne,n[50]=M,n[51]=E,n[52]=ge):ge=n[52],n[53]!==o||n[54]!==ne?(ye=o&&u.jsx(N,{as:"span",...ne,children:o}),n[53]=o,n[54]=ne,n[55]=ye):ye=n[55],n[56]!==_||n[57]!==a||n[58]!==Q||n[59]!==z||n[60]!==H||n[61]!==v||n[62]!==O||n[63]!==le||n[64]!==ue||n[65]!==ce||n[66]!==de||n[67]!==fe||n[68]!==pe||n[69]!==he||n[70]!==me||n[71]!==ge||n[72]!==ye?(ve=u.jsxs(t6,{"data-ui":"MenuItem",...v,"aria-pressed":le,"data-pressed":ue,"data-selected":ce,"data-disabled":de,forwardedAs:_,$radius:fe,$padding:pe,$tone:he,$scheme:O,disabled:a,onClick:Q,onMouseEnter:z,onMouseLeave:H,ref:se,role:"menuitem",tabIndex:-1,type:me,children:[ge,ye]}),n[56]=_,n[57]=a,n[58]=Q,n[59]=z,n[60]=H,n[61]=v,n[62]=O,n[63]=le,n[64]=ue,n[65]=ce,n[66]=de,n[67]=fe,n[68]=pe,n[69]=he,n[70]=me,n[71]=ge,n[72]=ye,n[73]=ve):ve=n[73],ve}));function PBe(e){return e-1}lm.displayName="ForwardRef(MenuItem)";const FBe=Hf`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`,LBe=de`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: ${FBe};
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`,NBe=de`
  opacity: ${({$visible:e})=>e?1:0};
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    ${({$animated:e})=>e?LBe:de`
            background-color: var(--card-skeleton-color-from);
          `}
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`,BBe=$(N)(Cd,NBe),Hu=f.forwardRef((function(e,t){const n=Qe(14);let r,i,o,a;n[0]!==e?(({animated:a,delay:r,radius:i,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=void 0!==a&&a,[l,c]=f.useState(!r);let d,p;n[5]!==r?(d=()=>{if(!r)return c(!0);const e=setTimeout((()=>{c(!0)}),r);return()=>{clearTimeout(e)}},p=[r],n[5]=r,n[6]=d,n[7]=p):(d=n[6],p=n[7]),f.useEffect(d,p);const h=je(i);let m;return n[8]!==s||n[9]!==t||n[10]!==o||n[11]!==h||n[12]!==l?(m=u.jsx(BBe,{...o,$animated:s,$radius:h,$visible:l,ref:t}),n[8]=s,n[9]=t,n[10]=o,n[11]=h,n[12]=l,n[13]=m):m=n[13],m}));Hu.displayName="ForwardRef(Skeleton)";const Ik=$(Hu)((e=>{const{$size:t,$style:n}=e,{font:r,media:i}=Ae(e.theme),o=r[n];return Dt(i,t,(e=>{const t=o.sizes[e];return{height:t.lineHeight-t.ascenderHeight-t.descenderHeight}}))})),Jn=f.forwardRef((function(e,t){const n=Qe(7);let r,i;n[0]!==e?(({size:i,...r}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=je(void 0===i?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=u.jsx(Ik,{...r,$size:o,ref:t,$style:"text"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a}));Jn.displayName="ForwardRef(TextSkeleton)";const VBe=f.forwardRef((function(e,t){const n=Qe(7);let r,i;n[0]!==e?(({size:i,...r}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=je(void 0===i?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=u.jsx(Ik,{...r,$size:o,ref:t,$style:"label"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a}));VBe.displayName="ForwardRef(LabelSkeleton)";const zBe=f.forwardRef((function(e,t){const n=Qe(7);let r,i;n[0]!==e?(({size:i,...r}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=je(void 0===i?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=u.jsx(Ik,{...r,$size:o,ref:t,$style:"heading"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a}));zBe.displayName="ForwardRef(HeadingSkeleton)";const UBe=f.forwardRef((function(e,t){const n=Qe(7);let r,i;n[0]!==e?(({size:i,...r}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=je(void 0===i?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=u.jsx(Ik,{...r,$size:o,ref:t,$style:"code"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a}));UBe.displayName="ForwardRef(CodeSkeleton)";const HBe=$(wt)`
  max-width: 100%;
`,n6=f.forwardRef((function(e,t){const n=Qe(30);let r,i,o,a,s,l,c,d,p,h;n[0]!==e?(({icon:i,id:o,focused:r,fontSize:p,label:a,onClick:s,onFocus:l,padding:h,selected:d,...c}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=c,n[8]=d,n[9]=p,n[10]=h):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],c=n[7],d=n[8],p=n[9],h=n[10]);const m=void 0===p?1:p,g=void 0===h?2:h,y=f.useRef(null),v=f.useRef(!1);let b,x;n[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>y.current,n[11]=b):b=n[11],f.useImperativeHandle(t,b),n[12]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{v.current=!1},n[12]=x):x=n[12];const w=x;let C;n[13]!==l?(C=e=>{v.current=!0,l&&l(e)},n[13]=l,n[14]=C):C=n[14];const k=C;let j,S;n[15]!==r?(j=()=>{r&&!v.current&&(y.current&&y.current.focus(),v.current=!0)},S=[r],n[15]=r,n[16]=j,n[17]=S):(j=n[16],S=n[17]),f.useEffect(j,S);const E=d?"true":"false",_=d?0:-1;let A;return n[18]!==m||n[19]!==k||n[20]!==i||n[21]!==o||n[22]!==a||n[23]!==s||n[24]!==g||n[25]!==c||n[26]!==d||n[27]!==E||n[28]!==_?(A=u.jsx(HBe,{"data-ui":"Tab",...c,"aria-selected":E,fontSize:m,icon:i,id:o,mode:"bleed",onClick:s,onBlur:w,onFocus:k,padding:g,ref:y,role:"tab",selected:d,tabIndex:_,text:a,type:"button"}),n[18]=m,n[19]=k,n[20]=i,n[21]=o,n[22]=a,n[23]=s,n[24]=g,n[25]=c,n[26]=d,n[27]=E,n[28]=_,n[29]=A):A=n[29],A}));n6.displayName="ForwardRef(Tab)";const WBe=$(xn)`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`,b1=f.forwardRef((function(e,t){const n=Qe(15);let r,i;n[0]!==e?(({children:r,...i}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const[o,a]=f.useState(-1);let s;if(n[3]!==r||n[4]!==o){const e=f.Children.toArray(r).filter(f.isValidElement);let t;n[6]!==o?(t=(e,t)=>f.cloneElement(e,{focused:o===t,key:t,onFocus:()=>a(t)}),n[6]=o,n[7]=t):t=n[7],s=e.map(t),n[3]=r,n[4]=o,n[5]=s}else s=n[5];const l=s,c=l.length;let d;n[8]!==c?(d=e=>{"ArrowLeft"===e.key&&a((e=>(e+c-1)%c)),"ArrowRight"===e.key&&a((e=>(e+1)%c))},n[8]=c,n[9]=d):d=n[9];const p=d;let h;return n[10]!==p||n[11]!==t||n[12]!==i||n[13]!==l?(h=u.jsx(WBe,{"data-ui":"TabList",...i,onKeyDown:p,ref:t,role:"tablist",children:l}),n[10]=p,n[11]=t,n[12]=i,n[13]=l,n[14]=h):h=n[14],h}));b1.displayName="ForwardRef(TabList)";const Mde=f.forwardRef((function(e,t){const n=Qe(9);let r,i;n[0]!==e?(({flex:r,...i}=e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=void 0===e.tabIndex?0:e.tabIndex;let a;return n[3]!==r||n[4]!==e.children||n[5]!==t||n[6]!==i||n[7]!==o?(a=u.jsx(N,{"data-ui":"TabPanel",...i,flex:r,ref:t,role:"tabpanel",tabIndex:o,children:e.children}),n[3]=r,n[4]=e.children,n[5]=t,n[6]=i,n[7]=o,n[8]=a):a=n[8],a}));Mde.displayName="ForwardRef(TabPanel)";const GBe=$(U)`
  overflow-x: auto;
`,YBe=Hf`
  0% {
    width: 0;
  }
  100% {
    width: 100%;
  }
`,pH=2;function qBe(e){const{color:t}=Ae(e.theme),n=t.button.default[e.tone].enabled.bg;return e.$duration?de`
    pointer-events: all;
    width: 100%;
    position: relative;
    overflow: hidden;
    overflow: clip;
    padding-bottom: ${2}px;
    &::before {
      content: '';
      position: absolute;
      bottom: 0px;
      height: ${2}px;
      background: ${n};
      animation-name: ${YBe};
      animation-duration: ${e.$duration}ms;
      animation-fill-mode: both;
    }

    & > * {
      opacity: var(${Tu}, 1);
      will-change: opacity;
    }
  `:de`
      pointer-events: all;
      & > * {
        opacity: var(${Tu}, 1);
        will-change: opacity;
      }
    `}const KBe={error:"critical",warning:"caution",success:"positive",info:"primary"},ZBe={error:"critical",warning:"caution",success:"positive",info:"primary"},XBe={error:"alert",warning:"alert",success:"alert",info:"alert"},JBe=$(ae)(qBe);function $de(e){const t=Qe(30);let n,r,i,o,a,s,l,c;t[0]!==e?(({closable:n,description:r,duration:i,onClose:o,radius:l,title:c,status:s,...a}=e),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c):(n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8]);const d=void 0===l?3:l,f=s?KBe[s]:"default",p=s?ZBe[s]:"default",h=s?XBe[s]:"status";let m,g,y,v,b,x;return t[9]!==c?(m=c&&u.jsx(L,{size:1,weight:"medium",children:c}),t[9]=c,t[10]=m):m=t[10],t[11]!==r?(g=r&&u.jsx(L,{muted:!0,size:1,children:r}),t[11]=r,t[12]=g):g=t[12],t[13]!==m||t[14]!==g?(y=u.jsx(GBe,{flex:1,padding:3,children:u.jsxs(ne,{space:3,children:[m,g]})}),t[13]=m,t[14]=g,t[15]=y):y=t[15],t[16]!==p||t[17]!==n||t[18]!==o?(v=n&&u.jsx(N,{padding:1,children:u.jsx(wt,{as:"button",icon:Ar,mode:"bleed",padding:2,tone:p,onClick:o,style:{verticalAlign:"top"}})}),t[16]=p,t[17]=n,t[18]=o,t[19]=v):v=t[19],t[20]!==y||t[21]!==v?(b=u.jsxs(U,{align:"flex-start",children:[y,v]}),t[20]=y,t[21]=v,t[22]=b):b=t[22],t[23]!==f||t[24]!==i||t[25]!==d||t[26]!==a||t[27]!==h||t[28]!==b?(x=u.jsx(JBe,{"data-ui":"Toast",role:h,...a,marginTop:3,radius:d,shadow:2,tone:f,$duration:i,children:b}),t[23]=f,t[24]=i,t[25]=d,t[26]=a,t[27]=h,t[28]=b,t[29]=x):x=t[29],x}function QBe(){return f.useSyncExternalStore(nVe,tVe,eVe)}function eVe(){return!1}function tVe(){return!0}$de.displayName="Toast";const nVe=()=>()=>{},Pde=xd("@sanity/ui/context/toast",null);let rVe=0;function iVe(){return String(rVe++)}const aVe=$(go)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`,oVe=$.div`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`;function Fde(e){const t=Qe(24),{children:n,padding:r,paddingX:i,paddingY:o,zOffset:a}=e,s=void 0===r?4:r;let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[0]=l):l=t[0];const[c,d]=f.useState(l);let p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p={},t[1]=p):p=t[1];const h=f.useRef(p),m=QBe(),g=Ek();let y,v,b,x,w,C,k;t[2]===Symbol.for("react.memo_cache_sentinel")?(v={opacity:0,[Tu]:0,y:32,scale:.25,willChange:"transform"},b=[0,1,1],t[2]=v,t[3]=b):(v=t[2],b=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(x={opacity:b,[Tu]:[0,0,1],y:0,scale:1},w=[1,1,0],t[4]=x,t[5]=w):(x=t[4],w=t[5]),t[6]===Symbol.for("react.memo_cache_sentinel")?(C=[1,0,0],t[6]=C):C=t[6],t[7]!==g?(k={initial:v,animate:x,exit:{opacity:w,[Tu]:C,scale:.5,transition:g?{duration:0}:{duration:.2}}},t[7]=g,t[8]=k):k=t[8],y=k;const j=y;let S,E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={version:0,push:e=>{const t=e=>f.startTransition((()=>d(e))),n=e.id||iVe(),r=e.duration||5e3,i=()=>{const e=h.current[n]?.timeoutId;t((e=>{const t=e.findIndex((e=>e.id===n));if(t>-1){const n=e.slice(0);return n.splice(t,1),n}return e})),void 0!==e&&(clearTimeout(e),delete h.current[n])};return t((t=>t.filter((e=>e.id!==n)).concat([{dismiss:i,id:n,params:{...e,duration:r}}]))),h.current[n]&&(clearTimeout(h.current[n].timeoutId),delete h.current[n]),h.current[n]={timeoutId:setTimeout(i,r)},n}},t[9]=E):E=t[9],S=E;const _=S;let A,T,D,M;return t[10]===Symbol.for("react.memo_cache_sentinel")?(A=()=>()=>{for(const{timeoutId:e}of Object.values(h.current))clearTimeout(e);h.current={}},T=[],t[10]=A,t[11]=T):(A=t[10],T=t[11]),f.useEffect(A,T),t[12]!==m||t[13]!==s||t[14]!==i||t[15]!==o||t[16]!==g||t[17]!==c||t[18]!==j||t[19]!==a?(D=m&&u.jsx(aVe,{"data-ui":"ToastProvider",zOffset:a,children:u.jsx(oVe,{children:u.jsx(N,{padding:s,paddingX:i,paddingY:o,children:u.jsx(xs,{initial:!1,children:c.map((e=>{const{dismiss:t,id:n,params:r}=e;return u.jsx(di.div,{layout:"position",initial:"initial",animate:"animate",exit:"exit",variants:j,transition:g?{duration:0}:{type:"spring",damping:30,stiffness:400},children:u.jsx($de,{closable:r.closable,description:r.description,onClose:t,status:r.status,title:r.title,duration:r.duration})},n)}))})})})}),t[12]=m,t[13]=s,t[14]=i,t[15]=o,t[16]=g,t[17]=c,t[18]=j,t[19]=a,t[20]=D):D=t[20],t[21]!==n||t[22]!==D?(M=u.jsxs(Pde.Provider,{value:_,children:[n,D]}),t[21]=n,t[22]=D,t[23]=M):M=t[23],M}function Ur(){const e=f.useContext(Pde);if(!e)throw new Error("useToast(): missing context value");if(!Hx(e)||0!==e.version)throw new Error("useToast(): the context value is not compatible");return e}function sVe(e,t,n){const r=t.indexOf(n),i=t.slice(0,r);for(let t=i.length-1;t>=0;t-=1){const n=i[t].getAttribute("data-tree-key");if(!n)continue;const r=n.split("/");r.pop();const o=[];let a=!0;for(let t=0;t<r.length;t+=1){o.push(r[t]);const n=o.join("/");if(!e[n]?.expanded){a=!1;break}}if(a)return i[t]}return null}function lVe(e,t,n){const r=t.indexOf(n),i=t.slice(r),o=t.length;for(let t=1;t<o;t+=1){if(!i[t])continue;const n=i[t].getAttribute("data-tree-key");if(!n)continue;const r=n.split("/");r.pop();const o=[];let a=!0;for(let t=0;t<r.length;t+=1){o.push(r[t]);const n=o.join("/");if(!e[n]?.expanded){a=!1;break}}if(a)return i[t]}return null}function mH(e){if("treeitem"===e.getAttribute("role")&&e.focus(),"none"===e.getAttribute("role")){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}Fde.displayName="ToastProvider";const RE=xd("@sanity/ui/context/tree",null),uVe=f.memo(f.forwardRef((function(e,t){const n=Qe(37);let r,i,o,a;n[0]!==e?(({children:r,space:a,onFocus:i,...o}=e),n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=void 0===a?1:a,l=f.useRef(null),[c,d]=f.useState(null),p=f.useRef(c);let h,m;n[5]===Symbol.for("react.memo_cache_sentinel")?(m=[],n[5]=m):m=n[5],h=m;const g=h;let y;n[6]===Symbol.for("react.memo_cache_sentinel")?(y=[],n[6]=y):y=n[6];const[v,b]=f.useState(y);let x;n[7]===Symbol.for("react.memo_cache_sentinel")?(x={},n[7]=x):x=n[7];const[w,C]=f.useState(x),k=f.useRef(w);let j,S,E,_,A,T;n[8]===Symbol.for("react.memo_cache_sentinel")?(j=()=>l.current,n[8]=j):j=n[8],f.useImperativeHandle(t,j),n[9]!==c?(S=()=>{p.current=c},E=[c],n[9]=c,n[10]=S,n[11]=E):(S=n[10],E=n[11]),f.useEffect(S,E),n[12]!==w?(_=()=>{k.current=w},A=[w],n[12]=w,n[13]=_,n[14]=A):(_=n[13],A=n[14]),f.useEffect(_,A),n[15]===Symbol.for("react.memo_cache_sentinel")?(T=(e,t,n,r)=>(C((r=>({...r,[t]:{element:e,expanded:n}}))),r&&d(e),()=>{C((e=>{const n={...e};return delete n[t],n}))}),n[15]=T):T=n[15];const D=T;let M;n[16]===Symbol.for("react.memo_cache_sentinel")?(M=(e,t)=>{C((n=>{const r=n[e];return r?{...n,[e]:{...r,expanded:t}}:n}))},n[16]=M):M=n[16];const I=M;let O;const N=c||v[0]||null;let P;n[17]!==s||n[18]!==w||n[19]!==N?(P={version:0,focusedElement:N,level:0,path:g,registerItem:D,setExpanded:I,setFocusedElement:d,space:s,state:w},n[17]=s,n[18]=w,n[19]=N,n[20]=P):P=n[20],O=P;const R=O;let F;n[21]!==v?(F=e=>{if(p.current){if("ArrowDown"===e.key){e.preventDefault();const t=lVe(k.current,v,p.current);return void(t&&(mH(t),d(t)))}if("ArrowUp"===e.key){e.preventDefault();const t=sVe(k.current,v,p.current);return void(t&&(mH(t),d(t)))}if("ArrowLeft"===e.key){e.preventDefault();const t=p.current.getAttribute("data-tree-key");if(!t)return;const n=k.current[t];if(!n)return;if(n.expanded)C((e=>{const n=e[t];return n?{...e,[t]:{...n,expanded:!1}}:e}));else{const e=t.split("/");e.pop();const n=e.join("/"),r=n&&k.current[n];r&&(r.element.focus(),d(r.element))}return}if("ArrowRight"===e.key){e.preventDefault();const t=p.current.getAttribute("data-tree-key");if(!t)return;return void(k.current[t]?.expanded||C((e=>{const n=e[t];return n?{...e,[t]:{...n,expanded:!0}}:e})))}}},n[21]=v,n[22]=F):F=n[22];const L=F;let $;n[23]!==i?($=e=>{d(e.target),i?.(e)},n[23]=i,n[24]=$):$=n[24];const B=$;let V,z,U,H;return n[25]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{if(!l.current)return;const e=Array.from(l.current.querySelectorAll('[data-ui="TreeItem"]'));b(e)},n[25]=V):V=n[25],n[26]!==r?(z=[r],n[26]=r,n[27]=z):z=n[27],f.useEffect(V,z),n[28]!==r||n[29]!==B||n[30]!==L||n[31]!==o||n[32]!==s?(U=u.jsx(ne,{as:"ul","data-ui":"Tree",...o,onFocus:B,onKeyDown:L,ref:l,role:"tree",space:s,children:r}),n[28]=r,n[29]=B,n[30]=L,n[31]=o,n[32]=s,n[33]=U):U=n[33],n[34]!==R||n[35]!==U?(H=u.jsx(RE.Provider,{value:R,children:U}),n[34]=R,n[35]=U,n[36]=H):H=n[36],H})));function cVe(){return de`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      background-color: var(--card-bg-color);
      color: var(--treeitem-fg-color);

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &:focus > div {
        position: relative;
      }
    }
  `}function dVe(e){const{color:t}=Ae(e.theme),n=t.selectable.default;return de`
    &[role='none'] {
      & > [role='treeitem'] {
        ${cn(t,n.enabled)}
      }

      &[data-selected] > [role='treeitem'] {
        ${cn(t,n.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          ${cn(t,n.hovered)}
        }

        & > [role='treeitem']:focus {
          ${cn(t,n.selected)}
        }
      }
    }

    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        ${cn(t,n.enabled)}
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        ${cn(t,n.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          ${cn(t,n.hovered)}
        }

        &:focus > [data-ui='TreeItem__box'] {
          ${cn(t,n.selected)}
        }
      }
    }
  `}function fVe(e){const{$level:t}=e,{space:n}=Ae(e.theme);return de`
    padding-left: ${ke(n[2]*t)};

    &[data-as='a'] {
      text-decoration: none;
    }
  `}function Lde(){const e=f.useContext(RE);if(!e)throw new Error("Tree: missing context value");return e}uVe.displayName="Memo(ForwardRef(Tree))";const gH=f.memo((function(e){const t=Qe(9);let n,r,i;t[0]!==e?(({children:n,expanded:i,...r}=e),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);const o=void 0!==i&&i,a=Lde(),s=!o;let l;return t[4]!==n||t[5]!==r||t[6]!==s||t[7]!==a.space?(l=u.jsx(ne,{as:"ul","data-ui":"TreeGroup",...r,hidden:s,marginTop:a.space,role:"group",space:a.space,children:n}),t[4]=n,t[5]=r,t[6]=s,t[7]=a.space,t[8]=l):l=t[8],l})),vH=f.memo($.li(cVe,dVe)),yH=$(N).attrs({forwardedAs:"a"})(fVe),hVe=$(L)`
  & > svg {
    transition: transform 100ms;
  }
`,pVe=f.memo((function(e){const{children:t,expanded:n=!1,fontSize:r=1,href:i,icon:o,id:a,linkAs:s,muted:l,onClick:c,padding:d=2,selected:p=!1,space:h=2,text:m,weight:g,...y}=e,v=f.useRef(null),b=f.useRef(null),x=Lde(),{path:w,registerItem:C,setExpanded:k,setFocusedElement:j}=x,S=f.useId(),E=a||S,_=f.useMemo((()=>w.concat([E||""])),[E,w]),A=_.join("/"),T=x.state[A],D=x.focusedElement===v.current,M=void 0===T?.expanded?n:T?.expanded||!1,I=x.focusedElement&&x.focusedElement===v.current?0:-1,O=f.useMemo((()=>({...x,level:x.level+1,path:_})),[_,x]),P=f.useCallback((e=>{c&&c(e);const t=e.target;t instanceof HTMLElement&&("TreeItem"===t.getAttribute("data-ui")||t.closest('[data-ui="TreeItem__box"]'))&&(e.stopPropagation(),k(A,!M),j(v.current))}),[M,A,c,k,j]),R=f.useCallback((e=>{D&&"Enter"===e.key&&(b.current||v.current)?.click()}),[D]);f.useEffect((()=>{if(v.current)return C(v.current,_.join("/"),M,p)}),[M,_,C,p]);const F=u.jsxs(U,{padding:d,children:[u.jsxs(N,{marginRight:h,style:{visibility:o||t?"visible":"hidden",pointerEvents:"none"},children:[o&&u.jsx(L,{muted:l,size:r,weight:g,children:u.jsx(o,{})}),!o&&u.jsx(hVe,{muted:l,size:r,weight:g,children:u.jsx(Ax,{style:{transform:M?"rotate(90deg)":void 0}})})]}),u.jsx(N,{flex:1,children:u.jsx(L,{muted:l,size:r,textOverflow:"ellipsis",weight:g,children:m})})]});return i?u.jsxs(vH,{"data-selected":p?"":void 0,"data-tree-id":E,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:P,ref:v,role:"none",children:[u.jsx(yH,{$level:x.level,"aria-expanded":M,as:s,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:I,children:F}),u.jsx(RE.Provider,{value:O,children:t&&u.jsx(gH,{hidden:!M,children:t})})]}):u.jsxs(vH,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":E,"data-tree-key":A,...y,"aria-expanded":M,onClick:P,onKeyDown:R,ref:v,role:"treeitem",tabIndex:I,children:[u.jsx(yH,{$level:x.level,as:"div","data-ui":"TreeItem__box",children:F}),u.jsx(RE.Provider,{value:O,children:t&&u.jsx(gH,{expanded:M,children:t})})]})}));pVe.displayName="Memo(TreeItem)";var _b,ap=[],mVe=function(){return ap.some((function(e){return e.activeTargets.length>0}))},gVe=function(){return ap.some((function(e){return e.skippedTargets.length>0}))},bH="ResizeObserver loop completed with undelivered notifications.",vVe=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:bH}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=bH),window.dispatchEvent(e)};!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(_b||(_b={}));var dI,op=function(e){return Object.freeze(e)},yVe=function(e,t){this.inlineSize=e,this.blockSize=t,op(this)},Nde=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,op(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),r6=function(e){return e instanceof SVGElement&&"getBBox"in e},Bde=function(e){if(r6(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},xH=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=e?.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},bVe=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Yy=typeof window<"u"?window:{},_C=new WeakMap,wH=/auto|scroll/,xVe=/^tb|vertical/,wVe=/msie|trident/i.test(Yy.navigator&&Yy.navigator.userAgent),eu=function(e){return parseFloat(e||"0")},Ug=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new yVe((n?t:e)||0,(n?e:t)||0)},CH=op({devicePixelContentBoxSize:Ug(),borderBoxSize:Ug(),contentBoxSize:Ug(),contentRect:new Nde(0,0,0,0)}),Vde=function(e,t){if(void 0===t&&(t=!1),_C.has(e)&&!t)return _C.get(e);if(Bde(e))return _C.set(e,CH),CH;var n=getComputedStyle(e),r=r6(e)&&e.ownerSVGElement&&e.getBBox(),i=!wVe&&"border-box"===n.boxSizing,o=xVe.test(n.writingMode||""),a=!r&&wH.test(n.overflowY||""),s=!r&&wH.test(n.overflowX||""),l=r?0:eu(n.paddingTop),u=r?0:eu(n.paddingRight),c=r?0:eu(n.paddingBottom),d=r?0:eu(n.paddingLeft),f=r?0:eu(n.borderTopWidth),p=r?0:eu(n.borderRightWidth),h=r?0:eu(n.borderBottomWidth),m=d+u,g=l+c,y=(r?0:eu(n.borderLeftWidth))+p,v=f+h,b=s?e.offsetHeight-v-e.clientHeight:0,x=a?e.offsetWidth-y-e.clientWidth:0,w=i?m+y:0,C=i?g+v:0,k=r?r.width:eu(n.width)-w-x,j=r?r.height:eu(n.height)-C-b,S=k+m+x+y,E=j+g+b+v,_=op({devicePixelContentBoxSize:Ug(Math.round(k*devicePixelRatio),Math.round(j*devicePixelRatio),o),borderBoxSize:Ug(S,E,o),contentBoxSize:Ug(k,j,o),contentRect:new Nde(d,l,k,j)});return _C.set(e,_),_},zde=function(e,t,n){var r=Vde(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case _b.DEVICE_PIXEL_CONTENT_BOX:return a;case _b.BORDER_BOX:return i;default:return o}},CVe=function(e){var t=Vde(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=op([t.borderBoxSize]),this.contentBoxSize=op([t.contentBoxSize]),this.devicePixelContentBoxSize=op([t.devicePixelContentBoxSize])},Ude=function(e){if(Bde(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},SVe=function(){var e=1/0,t=[];ap.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new CVe(t.target),i=Ude(t.target);r.push(n),t.lastReportedSize=zde(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},SH=function(e){ap.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(Ude(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},EVe=function(){var e=0;for(SH(e);mVe();)e=SVe(),SH(e);return gVe()&&vVe(),e>0},Hde=[],_Ve=function(){return Hde.splice(0).forEach((function(e){return e()}))},kVe=function(e){if(!dI){var t=0,n=document.createTextNode("");new MutationObserver((function(){return _Ve()})).observe(n,{characterData:!0}),dI=function(){n.textContent="".concat(t?t--:t++)}}Hde.push(e),dI()},TVe=function(e){kVe((function(){requestAnimationFrame(e)}))},bS=0,AVe=function(){return!!bS},jVe=250,IVe={attributes:!0,characterData:!0,childList:!0,subtree:!0},EH=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],_H=function(e){return void 0===e&&(e=0),Date.now()+e},fI=!1,DVe=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=jVe),!fI){fI=!0;var n=_H(e);TVe((function(){var r=!1;try{r=EVe()}finally{if(fI=!1,e=n-_H(),!AVe())return;r?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,IVe)};document.body?t():Yy.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),EH.forEach((function(t){return Yy.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),EH.forEach((function(t){return Yy.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),TR=new DVe,kH=function(e){!bS&&e>0&&TR.start(),!(bS+=e)&&TR.stop()},OVe=function(e){return!r6(e)&&!bVe(e)&&"inline"===getComputedStyle(e).display},RVe=function(){function e(e,t){this.target=e,this.observedBox=t||_b.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=zde(this.target,this.observedBox,!0);return OVe(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),MVe=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},kC=new WeakMap,TH=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},TC=function(){function e(){}return e.connect=function(e,t){var n=new MVe(e,t);kC.set(e,n)},e.observe=function(e,t,n){var r=kC.get(e),i=0===r.observationTargets.length;TH(r.observationTargets,t)<0&&(i&&ap.push(r),r.observationTargets.push(new RVe(t,n&&n.box)),kH(1),TR.schedule())},e.unobserve=function(e,t){var n=kC.get(e),r=TH(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&ap.splice(ap.indexOf(n),1),n.observationTargets.splice(r,1),kH(-1))},e.disconnect=function(e){var t=this,n=kC.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Wde=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");TC.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xH(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");TC.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xH(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");TC.unobserve(this,e)},e.prototype.disconnect=function(){TC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(null,arguments)}function $Ve(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const AH={};function AR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&AH[t[0]]||("string"==typeof t[0]&&(AH[t[0]]=new Date),$Ve(...t))}const Gde=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function jH(e,t,n){e.loadNamespaces(t,Gde(e,n))}function IH(e,t,n,r){"string"==typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,Gde(e,r))}function PVe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,n)=>{const r=t.services.backendConnector.state[`${e}|${n}`];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function FVe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):PVe(e,t,n):(AR("i18n.languages were undefined or empty",t.languages),!0)}const LVe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NVe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},BVe=e=>NVe[e],VVe=e=>e.replace(LVe,BVe);let Yde,jR={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:VVe};function zVe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jR={...jR,...e}}function UVe(){return jR}function HVe(e){Yde=e}function WVe(){return Yde}const GVe={type:"3rdParty",init(e){zVe(e.options.react),HVe(e)}},qde=f.createContext();class YVe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const qVe=(e,t)=>{const n=f.useRef();return f.useEffect((()=>{n.current=e}),[e,t]),n.current};function x1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=f.useContext(qde)||{},o=n||r||WVe();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new YVe),!o){AR("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}o.options.react&&void 0!==o.options.react.wait&&AR("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...UVe(),...o.options.react,...t},{useSuspense:s,keyPrefix:l}=a;let u=e||i||o.options&&o.options.defaultNS;u="string"==typeof u?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every((e=>FVe(e,o,a)));function d(){return o.getFixedT(t.lng||null,"fallback"===a.nsMode?u:u[0],l)}const[p,h]=f.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const g=qVe(m),y=f.useRef(!0);f.useEffect((()=>{const{bindI18n:e,bindI18nStore:n}=a;function r(){y.current&&h(d)}return y.current=!0,!c&&!s&&(t.lng?IH(o,t.lng,u,(()=>{y.current&&h(d)})):jH(o,u,(()=>{y.current&&h(d)}))),c&&g&&g!==m&&y.current&&h(d),e&&o&&o.on(e,r),n&&o&&o.store.on(n,r),()=>{y.current=!1,e&&o&&e.split(" ").forEach((e=>o.off(e,r))),n&&o&&n.split(" ").forEach((e=>o.store.off(e,r)))}}),[o,m]);const v=f.useRef(!0);f.useEffect((()=>{y.current&&!v.current&&h(d),v.current=!1}),[o,l]);const b=[p,o,c];if(b.t=p,b.i18n=o,b.ready=c,c||!c&&!s)return b;throw new Promise((e=>{t.lng?IH(o,t.lng,u,(()=>e())):jH(o,u,(()=>e()))}))}function KVe(e){let{i18n:t,defaultNS:n,children:r}=e;const i=f.useMemo((()=>({i18n:t,defaultNS:n})),[t,n]);return f.createElement(qde.Provider,{value:i},r)}function w1({children:e,condition:t,wrapper:n}){return t?n(e):e}const ZVe={space:3,padding:3},XVe={space:2,padding:2},JVe=$.span`
  display: inline-flex;
`,me=f.forwardRef((function({size:e="default",mode:t="default",paddingY:n,tone:r="default",tooltipProps:i,...o},a){const s=f.useCallback((e=>u.jsx(pt,{content:i?.content,portal:!0,...i,children:u.jsx(JVe,{children:e})})),[i]);return u.jsx(w1,{condition:!!i,wrapper:s,children:u.jsx(wt,{...o,..."default"===e?XVe:ZVe,paddingY:n,ref:a,mode:t,tone:r})})})),Si=f.forwardRef((function({bodyHeight:e,children:t,footer:n,padding:r=!0,...i},o){const{t:a}=x1();return u.jsx(Ak,{...i,animate:!0,ref:o,footer:(n?.confirmButton||n?.cancelButton)&&u.jsxs(U,{width:"full",gap:3,justify:"flex-end",padding:3,children:[i.onClose&&u.jsx(wt,{mode:"bleed",padding:2,text:a("common.dialog.cancel-button.text"),tone:"default",onClick:i.onClose,...n.cancelButton}),n.confirmButton&&u.jsx(wt,{mode:"default",padding:2,text:a("common.dialog.confirm-button.text"),tone:"critical",...n.confirmButton})]}),children:u.jsx(N,{height:e,padding:r?4:0,children:t})})})),Gt=f.forwardRef((function(e,t){return u.jsx(jk,{...e,ref:t,popover:{...e.popover,animate:!0}})})),i6=e=>u.jsx(Rde,{...e,fontSize:1,padding:3}),hI=1,QVe=0,eze=$(L)`
  margin-top: 2px;
`,tze=$(N)`
  height: 25px;
  width: 25px;
  overflow: hidden;
`,qe=f.forwardRef((function({badgeText:e,children:t,disabled:n,hotkeys:r,icon:i,iconRight:o,preview:a=null,renderMenuItem:s,text:l,tooltipProps:c,__unstable_subtitle:d,__unstable_space:p,...h},m){const g=f.useMemo((()=>u.jsxs(U,{align:"center",gap:2,children:[a&&u.jsx(tze,{style:{opacity:n?.25:void 0},paddingRight:p?1:0,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:a})}),i&&u.jsx(N,{paddingRight:1,children:u.jsxs(L,{size:1,children:[f.isValidElement(i)&&i,ta.isValidElementType(i)&&f.createElement(i)]})}),l&&u.jsxs(ne,{flex:1,space:d?1:2,paddingLeft:d?1:0,children:[u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:l}),d&&u.jsx(eze,{size:0,textOverflow:"ellipsis",weight:"medium",muted:!0,children:d})]}),(e||r||o)&&u.jsxs(U,{align:"center",gap:3,marginLeft:3,children:[r&&u.jsx(Wx,{keys:r,style:{marginTop:-4,marginBottom:-4}}),e&&u.jsx(ja,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:e}),o&&u.jsxs(L,{size:1,children:[f.isValidElement(o)&&o,ta.isValidElementType(o)&&f.createElement(o)]})]})]})),[a,n,p,i,l,d,e,r,o]),y=f.useCallback((e=>u.jsx(pt,{content:c?.content,portal:!0,...c,children:u.jsx("div",{children:e})})),[c]);return u.jsx(w1,{condition:!!c,wrapper:y,children:u.jsx(lm,{disabled:n,paddingLeft:a?1:3,paddingRight:3,paddingY:a?1:3,ref:m,...h,children:typeof t>"u"&&"function"==typeof s?s(g):g})})})),An=f.forwardRef((function(e,t){return u.jsx(Uu,{...e,animate:!0,ref:t})})),kb=f.forwardRef((function({tone:e="default",...t},n){return u.jsx(n6,{...t,muted:!0,padding:2,ref:n,tone:e})})),Kde={open:400},DH={animate:!0,arrow:!1,boundaryElement:null,delay:Kde,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},pt=f.forwardRef((function(e,t){const{content:n,hotkeys:r,...i}=e;return"string"==typeof n?u.jsx(DE,{...DH,content:u.jsxs(U,{align:"center",children:[n&&u.jsx(N,{flex:1,padding:1,children:u.jsx(L,{size:1,children:n})}),r&&u.jsx(N,{flex:"none",children:u.jsx(Wx,{keys:r})})]}),padding:1,ref:t,...i}):u.jsx(DE,{...DH,content:n,ref:t,...i})})),Sa=e=>u.jsx(Tde,{delay:Kde,children:e.children}),nze="https://docs.sanity.io/help/";function Zde(e){return nze+e}function rze(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var a6=rze,ize=vd,aze=bs,oze="[object Arguments]";function sze(e){return aze(e)&&ize(e)==oze}var lze=sze,OH=lze,uze=bs,Xde=Object.prototype,cze=Xde.hasOwnProperty,dze=Xde.propertyIsEnumerable,fze=OH(function(){return arguments}())?OH:function(e){return uze(e)&&cze.call(e,"callee")&&!dze.call(e,"callee")},Dk=fze,hze=Array.isArray,Ei=hze,RH=t1,pze=Dk,mze=Ei,MH=t1?t1.isConcatSpreadable:void 0;function gze(e){return mze(e)||pze(e)||!!(MH&&e&&e[MH])}var vze=gze,yze=a6,bze=vze;function Jde(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bze),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Jde(s,t-1,n,r,i):yze(i,s):r||(i[i.length]=s)}return i}var C1=Jde;function xze(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Wu=xze,wze=Ei,Cze=tm,Sze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eze=/^\w*$/;function _ze(e,t){if(wze(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Cze(e))||(Eze.test(e)||!Sze.test(e)||null!=t&&e in Object(t))}var o6=_ze,kze=vd,Tze=sl,Aze="[object AsyncFunction]",jze="[object Function]",Ize="[object GeneratorFunction]",Dze="[object Proxy]";function Oze(e){if(!Tze(e))return!1;var t=kze(e);return t==jze||t==Ize||t==Aze||t==Dze}var Qde=Oze,Rze=ll,Mze=Rze["__core-js_shared__"],$ze=Mze,pI=$ze,$H=function(){var e=/[^.]+$/.exec(pI&&pI.keys&&pI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pze(e){return!!$H&&$H in e}var Fze=Pze,Lze=Function.prototype,Nze=Lze.toString;function Bze(e){if(null!=e){try{return Nze.call(e)}catch{}try{return e+""}catch{}}return""}var efe=Bze,Vze=Qde,zze=Fze,Uze=sl,Hze=efe,Wze=/[\\^$.*+?()[\]{}|]/g,Gze=/^\[object .+?Constructor\]$/,Yze=Function.prototype,qze=Object.prototype,Kze=Yze.toString,Zze=qze.hasOwnProperty,Xze=RegExp("^"+Kze.call(Zze).replace(Wze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jze(e){return!(!Uze(e)||zze(e))&&(Vze(e)?Xze:Gze).test(Hze(e))}var Qze=Jze;function eUe(e,t){return e?.[t]}var tUe=eUe,nUe=Qze,rUe=tUe;function iUe(e,t){var n=rUe(e,t);return nUe(n)?n:void 0}var um=iUe,aUe=um,oUe=aUe(Object,"create"),Ok=oUe,PH=Ok;function sUe(){this.__data__=PH?PH(null):{},this.size=0}var lUe=sUe;function uUe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cUe=uUe,dUe=Ok,fUe="__lodash_hash_undefined__",hUe=Object.prototype,pUe=hUe.hasOwnProperty;function mUe(e){var t=this.__data__;if(dUe){var n=t[e];return n===fUe?void 0:n}return pUe.call(t,e)?t[e]:void 0}var gUe=mUe,vUe=Ok,yUe=Object.prototype,bUe=yUe.hasOwnProperty;function xUe(e){var t=this.__data__;return vUe?void 0!==t[e]:bUe.call(t,e)}var wUe=xUe,CUe=Ok,SUe="__lodash_hash_undefined__";function EUe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=CUe&&void 0===t?SUe:t,this}var _Ue=EUe,kUe=lUe,TUe=cUe,AUe=gUe,jUe=wUe,IUe=_Ue;function S1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S1.prototype.clear=kUe,S1.prototype.delete=TUe,S1.prototype.get=AUe,S1.prototype.has=jUe,S1.prototype.set=IUe;var DUe=S1;function OUe(){this.__data__=[],this.size=0}var RUe=OUe;function MUe(e,t){return e===t||e!=e&&t!=t}var Gx=MUe,$Ue=Gx;function PUe(e,t){for(var n=e.length;n--;)if($Ue(e[n][0],t))return n;return-1}var Rk=PUe,FUe=Rk,LUe=Array.prototype,NUe=LUe.splice;function BUe(e){var t=this.__data__,n=FUe(t,e);return!(n<0)&&(n==t.length-1?t.pop():NUe.call(t,n,1),--this.size,!0)}var VUe=BUe,zUe=Rk;function UUe(e){var t=this.__data__,n=zUe(t,e);return n<0?void 0:t[n][1]}var HUe=UUe,WUe=Rk;function GUe(e){return WUe(this.__data__,e)>-1}var YUe=GUe,qUe=Rk;function KUe(e,t){var n=this.__data__,r=qUe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ZUe=KUe,XUe=RUe,JUe=VUe,QUe=HUe,eHe=YUe,tHe=ZUe;function E1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E1.prototype.clear=XUe,E1.prototype.delete=JUe,E1.prototype.get=QUe,E1.prototype.has=eHe,E1.prototype.set=tHe;var Mk=E1,nHe=um,rHe=ll,iHe=nHe(rHe,"Map"),s6=iHe,FH=DUe,aHe=Mk,oHe=s6;function sHe(){this.size=0,this.__data__={hash:new FH,map:new(oHe||aHe),string:new FH}}var lHe=sHe;function uHe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var cHe=uHe,dHe=cHe;function fHe(e,t){var n=e.__data__;return dHe(t)?n["string"==typeof t?"string":"hash"]:n.map}var $k=fHe,hHe=fHe;function pHe(e){var t=hHe(this,e).delete(e);return this.size-=t?1:0,t}var mHe=pHe,gHe=fHe;function vHe(e){return gHe(this,e).get(e)}var yHe=vHe,bHe=fHe;function xHe(e){return bHe(this,e).has(e)}var wHe=xHe,CHe=fHe;function SHe(e,t){var n=CHe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var EHe=SHe,_He=lHe,kHe=mHe,THe=yHe,AHe=wHe,jHe=EHe;function _1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_1.prototype.clear=_He,_1.prototype.delete=kHe,_1.prototype.get=THe,_1.prototype.has=AHe,_1.prototype.set=jHe;var l6=_1,tfe=l6,IHe="Expected a function";function u6(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(IHe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(u6.Cache||tfe),n}u6.Cache=tfe;var nfe=u6;const Pk=Be(nfe);var DHe=nfe,OHe=500;function RHe(e){var t=DHe(e,(function(e){return n.size===OHe&&n.clear(),e})),n=t.cache;return t}var MHe=RHe,$He=MHe,PHe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FHe=/\\(\\)?/g,LHe=$He((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(PHe,(function(e,n,r,i){t.push(r?i.replace(FHe,"$1"):n||e)})),t})),rfe=LHe,LH=t1,NHe=Wu,BHe=Ei,VHe=tm,zHe=1/0,NH=t1?t1.prototype:void 0,BH=NH?NH.toString:void 0;function ife(e){if("string"==typeof e)return e;if(BHe(e))return NHe(e,ife)+"";if(VHe(e))return BH?BH.call(e):"";var t=e+"";return"0"==t&&1/e==-zHe?"-0":t}var afe=ife,UHe=afe;function HHe(e){return null==e?"":UHe(e)}var dl=HHe,WHe=Ei,GHe=o6,YHe=rfe,qHe=dl;function KHe(e,t){return WHe(e)?e:GHe(e,t)?[e]:YHe(qHe(e))}var k1=KHe,ZHe=tm,XHe=1/0;function JHe(e){if("string"==typeof e||ZHe(e))return e;var t=e+"";return"0"==t&&1/e==-XHe?"-0":t}var cm=JHe,QHe=k1,eWe=cm;function tWe(e,t){for(var n=0,r=(t=QHe(t,e)).length;null!=e&&n<r;)e=e[eWe(t[n++])];return n&&n==r?e:void 0}var Yx=tWe,nWe=Mk;function rWe(){this.__data__=new nWe,this.size=0}var iWe=rWe;function aWe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var oWe=aWe;function sWe(e){return this.__data__.get(e)}var lWe=sWe;function uWe(e){return this.__data__.has(e)}var cWe=uWe,dWe=Mk,fWe=s6,hWe=l6,pWe=200;function mWe(e,t){var n=this.__data__;if(n instanceof dWe){var r=n.__data__;if(!fWe||r.length<pWe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hWe(r)}return n.set(e,t),this.size=n.size,this}var gWe=mWe,vWe=Mk,yWe=iWe,bWe=oWe,xWe=lWe,wWe=cWe,CWe=gWe;function T1(e){var t=this.__data__=new vWe(e);this.size=t.size}T1.prototype.clear=yWe,T1.prototype.delete=bWe,T1.prototype.get=xWe,T1.prototype.has=wWe,T1.prototype.set=CWe;var c6=T1,SWe="__lodash_hash_undefined__";function EWe(e){return this.__data__.set(e,SWe),this}var _We=EWe;function kWe(e){return this.__data__.has(e)}var TWe=kWe,AWe=l6,jWe=_We,IWe=TWe;function ME(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new AWe;++t<n;)this.add(e[t])}ME.prototype.add=ME.prototype.push=jWe,ME.prototype.has=IWe;var Fk=ME;function DWe(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var OWe=DWe;function RWe(e,t){return e.has(t)}var Lk=RWe,MWe=Fk,$We=OWe,PWe=Lk,FWe=1,LWe=2;function NWe(e,t,n,r,i,o){var a=n&FWe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=n&LWe?new MWe:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h=e[d],m=t[d];if(r)var g=a?r(m,h,d,t,e,o):r(h,m,d,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!$We(t,(function(e,t){if(!PWe(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(h!==m&&!i(h,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}var ofe=NWe,BWe=ll,VWe=BWe.Uint8Array,sfe=VWe;function zWe(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var UWe=zWe;function HWe(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var d6=HWe,VH=t1,zH=sfe,WWe=Gx,GWe=ofe,YWe=UWe,qWe=d6,KWe=1,ZWe=2,XWe="[object Boolean]",JWe="[object Date]",QWe="[object Error]",eGe="[object Map]",tGe="[object Number]",nGe="[object RegExp]",rGe="[object Set]",iGe="[object String]",aGe="[object Symbol]",oGe="[object ArrayBuffer]",sGe="[object DataView]",UH=t1?t1.prototype:void 0,mI=UH?UH.valueOf:void 0;function lGe(e,t,n,r,i,o,a){switch(n){case sGe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oGe:return!(e.byteLength!=t.byteLength||!o(new zH(e),new zH(t)));case XWe:case JWe:case tGe:return WWe(+e,+t);case QWe:return e.name==t.name&&e.message==t.message;case nGe:case iGe:return e==t+"";case eGe:var s=YWe;case rGe:var l=r&KWe;if(s||(s=qWe),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=ZWe,a.set(e,t);var c=GWe(s(e),s(t),r,i,o,a);return a.delete(e),c;case aGe:if(mI)return mI.call(e)==mI.call(t)}return!1}var uGe=lGe,cGe=a6,dGe=Ei;function fGe(e,t,n){var r=t(e);return dGe(e)?r:cGe(r,n(e))}var lfe=fGe;function hGe(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var ufe=hGe;function pGe(){return[]}var cfe=pGe,mGe=ufe,gGe=cfe,vGe=Object.prototype,yGe=vGe.propertyIsEnumerable,HH=Object.getOwnPropertySymbols,bGe=HH?function(e){return null==e?[]:(e=Object(e),mGe(HH(e),(function(t){return yGe.call(e,t)})))}:gGe,f6=bGe;function xGe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var wGe=xGe,$E={exports:{}};function CGe(){return!1}var SGe=CGe;$E.exports,function(e,t){var n=ll,r=SGe,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}($E,$E.exports);var Nk=$E.exports,EGe=9007199254740991,_Ge=/^(?:0|[1-9]\d*)$/;function kGe(e,t){var n=typeof e;return!!(t=t??EGe)&&("number"==n||"symbol"!=n&&_Ge.test(e))&&e>-1&&e%1==0&&e<t}var Bk=kGe,TGe=9007199254740991;function AGe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=TGe}var h6=AGe,jGe=vd,IGe=h6,DGe=bs,OGe="[object Arguments]",RGe="[object Array]",MGe="[object Boolean]",$Ge="[object Date]",PGe="[object Error]",FGe="[object Function]",LGe="[object Map]",NGe="[object Number]",BGe="[object Object]",VGe="[object RegExp]",zGe="[object Set]",UGe="[object String]",HGe="[object WeakMap]",WGe="[object ArrayBuffer]",GGe="[object DataView]",YGe="[object Float32Array]",qGe="[object Float64Array]",KGe="[object Int8Array]",ZGe="[object Int16Array]",XGe="[object Int32Array]",JGe="[object Uint8Array]",QGe="[object Uint8ClampedArray]",eYe="[object Uint16Array]",tYe="[object Uint32Array]",Mr={};function nYe(e){return DGe(e)&&IGe(e.length)&&!!Mr[jGe(e)]}Mr[YGe]=Mr[qGe]=Mr[KGe]=Mr[ZGe]=Mr[XGe]=Mr[JGe]=Mr[QGe]=Mr[eYe]=Mr[tYe]=!0,Mr[OGe]=Mr[RGe]=Mr[WGe]=Mr[MGe]=Mr[GGe]=Mr[$Ge]=Mr[PGe]=Mr[FGe]=Mr[LGe]=Mr[NGe]=Mr[BGe]=Mr[VGe]=Mr[zGe]=Mr[UGe]=Mr[HGe]=!1;var rYe=nYe;function iYe(e){return function(t){return e(t)}}var A1=iYe,PE={exports:{}};PE.exports,function(e,t){var n=Hae,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(PE,PE.exports);var p6=PE.exports,aYe=rYe,oYe=A1,WH=p6,GH=p6&&p6.isTypedArray,sYe=GH?oYe(GH):aYe,m6=sYe,lYe=wGe,uYe=Dk,cYe=Ei,dYe=Nk,fYe=Bk,hYe=m6,pYe=Object.prototype,mYe=pYe.hasOwnProperty;function gYe(e,t){var n=cYe(e),r=!n&&uYe(e),i=!n&&!r&&dYe(e),o=!n&&!r&&!i&&hYe(e),a=n||r||i||o,s=a?lYe(e.length,String):[],l=s.length;for(var u in e)(t||mYe.call(e,u))&&(!a||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||fYe(u,l)))&&s.push(u);return s}var dfe=gYe,vYe=Object.prototype;function yYe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vYe)}var Vk=yYe;function bYe(e,t){return function(n){return e(t(n))}}var ffe=bYe,xYe=ffe,wYe=xYe(Object.keys,Object),CYe=wYe,SYe=Vk,EYe=CYe,_Ye=Object.prototype,kYe=_Ye.hasOwnProperty;function TYe(e){if(!SYe(e))return EYe(e);var t=[];for(var n in Object(e))kYe.call(e,n)&&"constructor"!=n&&t.push(n);return t}var hfe=TYe,AYe=Qde,jYe=h6;function IYe(e){return null!=e&&jYe(e.length)&&!AYe(e)}var Xf=IYe,DYe=dfe,OYe=hfe,RYe=Xf;function MYe(e){return RYe(e)?DYe(e):OYe(e)}var Ed=MYe,$Ye=lfe,PYe=f6,FYe=Ed;function LYe(e){return $Ye(e,FYe,PYe)}var pfe=LYe,YH=pfe,NYe=1,BYe=Object.prototype,VYe=BYe.hasOwnProperty;function zYe(e,t,n,r,i,o){var a=n&NYe,s=YH(e),l=s.length;if(l!=YH(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:VYe.call(t,c)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var y=a?r(g,m,c,t,e,o):r(m,g,c,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}var UYe=zYe,HYe=um,WYe=ll,GYe=HYe(WYe,"DataView"),YYe=GYe,qYe=um,KYe=ll,ZYe=qYe(KYe,"Promise"),XYe=ZYe,JYe=um,QYe=ll,eqe=JYe(QYe,"Set"),mfe=eqe,tqe=um,nqe=ll,rqe=tqe(nqe,"WeakMap"),gfe=rqe,IR=YYe,DR=s6,OR=XYe,RR=mfe,MR=gfe,vfe=vd,j1=efe,qH="[object Map]",iqe="[object Object]",KH="[object Promise]",ZH="[object Set]",XH="[object WeakMap]",JH="[object DataView]",aqe=j1(IR),oqe=j1(DR),sqe=j1(OR),lqe=j1(RR),uqe=j1(MR),jh=vfe;(IR&&jh(new IR(new ArrayBuffer(1)))!=JH||DR&&jh(new DR)!=qH||OR&&jh(OR.resolve())!=KH||RR&&jh(new RR)!=ZH||MR&&jh(new MR)!=XH)&&(jh=function(e){var t=vfe(e),n=t==iqe?e.constructor:void 0,r=n?j1(n):"";if(r)switch(r){case aqe:return JH;case oqe:return qH;case sqe:return KH;case lqe:return ZH;case uqe:return XH}return t});var qx=jh,gI=c6,cqe=ofe,dqe=uGe,fqe=UYe,QH=qx,eW=Ei,tW=Nk,hqe=m6,pqe=1,nW="[object Arguments]",rW="[object Array]",AC="[object Object]",mqe=Object.prototype,iW=mqe.hasOwnProperty;function gqe(e,t,n,r,i,o){var a=eW(e),s=eW(t),l=a?rW:QH(e),u=s?rW:QH(t),c=(l=l==nW?AC:l)==AC,d=(u=u==nW?AC:u)==AC,f=l==u;if(f&&tW(e)){if(!tW(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new gI),a||hqe(e)?cqe(e,t,n,r,i,o):dqe(e,t,l,n,r,i,o);if(!(n&pqe)){var p=c&&iW.call(e,"__wrapped__"),h=d&&iW.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,g=h?t.value():t;return o||(o=new gI),i(m,g,n,r,o)}}return!!f&&(o||(o=new gI),fqe(e,t,n,r,i,o))}var vqe=gqe,yqe=vqe,aW=bs;function yfe(e,t,n,r,i){return e===t||(null==e||null==t||!aW(e)&&!aW(t)?e!=e&&t!=t:yqe(e,t,n,r,yfe,i))}var g6=yfe,bqe=c6,xqe=g6,wqe=1,Cqe=2;function Sqe(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new bqe;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?xqe(c,u,wqe|Cqe,r,d):f))return!1}}return!0}var Eqe=Sqe,_qe=sl;function kqe(e){return e==e&&!_qe(e)}var bfe=kqe,Tqe=bfe,Aqe=Ed;function jqe(e){for(var t=Aqe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Tqe(i)]}return t}var Iqe=jqe;function Dqe(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var xfe=Dqe,Oqe=Eqe,Rqe=Iqe,Mqe=xfe;function $qe(e){var t=Rqe(e);return 1==t.length&&t[0][2]?Mqe(t[0][0],t[0][1]):function(n){return n===e||Oqe(n,e,t)}}var Pqe=$qe,Fqe=Yx;function Lqe(e,t,n){var r=null==e?void 0:Fqe(e,t);return void 0===r?n:r}var wfe=Lqe;const Yn=Be(wfe);function Nqe(e,t){return null!=e&&t in Object(e)}var Bqe=Nqe,Vqe=k1,zqe=Dk,Uqe=Ei,Hqe=Bk,Wqe=h6,Gqe=cm;function Yqe(e,t,n){for(var r=-1,i=(t=Vqe(t,e)).length,o=!1;++r<i;){var a=Gqe(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Wqe(i)&&Hqe(a,i)&&(Uqe(e)||zqe(e))}var qqe=Yqe,Kqe=Bqe,Zqe=qqe;function Xqe(e,t){return null!=e&&Zqe(e,t,Kqe)}var Cfe=Xqe,Jqe=g6,Qqe=wfe,eKe=Cfe,tKe=o6,nKe=bfe,rKe=xfe,iKe=cm,aKe=1,oKe=2;function sKe(e,t){return tKe(e)&&nKe(t)?rKe(iKe(e),t):function(n){var r=Qqe(n,e);return void 0===r&&r===t?eKe(n,e):Jqe(t,r,aKe|oKe)}}var lKe=sKe;function uKe(e){return e}var dm=uKe;const Sfe=Be(dm);function cKe(e){return function(t){return t?.[e]}}var dKe=cKe,fKe=Yx;function hKe(e){return function(t){return fKe(t,e)}}var pKe=hKe,mKe=dKe,gKe=pKe,vKe=o6,yKe=cm;function bKe(e){return vKe(e)?mKe(yKe(e)):gKe(e)}var xKe=bKe,wKe=Pqe,CKe=lKe,SKe=dm,EKe=Ei,_Ke=xKe;function kKe(e){return"function"==typeof e?e:null==e?SKe:"object"==typeof e?EKe(e)?CKe(e[0],e[1]):wKe(e):_Ke(e)}var Jf=kKe;function TKe(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}var AKe=TKe,jKe=AKe,IKe=jKe(),DKe=IKe,OKe=DKe,RKe=Ed;function MKe(e,t){return e&&OKe(e,t,RKe)}var $Ke=MKe,PKe=Xf;function FKe(e,t){return function(n,r){if(null==n)return n;if(!PKe(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}var LKe=FKe,NKe=$Ke,BKe=LKe,VKe=BKe(NKe),Efe=VKe,zKe=Efe,UKe=Xf;function HKe(e,t){var n=-1,r=UKe(e)?Array(e.length):[];return zKe(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}var _fe=HKe;function WKe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var GKe=WKe,oW=tm;function YKe(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=oW(e),a=void 0!==t,s=null===t,l=t==t,u=oW(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var qKe=YKe,KKe=qKe;function ZKe(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=KKe(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}var XKe=ZKe,vI=Wu,JKe=Yx,QKe=Jf,eZe=_fe,tZe=GKe,nZe=A1,rZe=XKe,iZe=dm,aZe=Ei;function oZe(e,t,n){t=t.length?vI(t,(function(e){return aZe(e)?function(t){return JKe(t,1===e.length?e[0]:e)}:e})):[iZe];var r=-1;t=vI(t,nZe(QKe));var i=eZe(e,(function(e,n,i){return{criteria:vI(t,(function(t){return t(e)})),index:++r,value:e}}));return tZe(i,(function(e,t){return rZe(e,t,n)}))}var kfe=oZe;function sZe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Tfe=sZe,lZe=Tfe,sW=Math.max;function uZe(e,t,n){return t=sW(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=sW(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),lZe(e,this,s)}}var Afe=uZe;function cZe(e){return function(){return e}}var dZe=cZe,fZe=um,hZe=function(){try{var e=fZe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jfe=hZe,pZe=dZe,lW=jfe,mZe=dm,gZe=lW?function(e,t){return lW(e,"toString",{configurable:!0,enumerable:!1,value:pZe(t),writable:!0})}:mZe,vZe=gZe,yZe=800,bZe=16,xZe=Date.now;function wZe(e){var t=0,n=0;return function(){var r=xZe(),i=bZe-(r-n);if(n=r,i>0){if(++t>=yZe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CZe=wZe,SZe=vZe,EZe=CZe,_Ze=EZe(SZe),Ife=_Ze,kZe=dm,TZe=Afe,AZe=Ife;function jZe(e,t){return AZe(TZe(e,t,kZe),e+"")}var fm=jZe,IZe=Gx,DZe=Xf,OZe=Bk,RZe=sl;function MZe(e,t,n){if(!RZe(n))return!1;var r=typeof t;return!!("number"==r?DZe(n)&&OZe(t,n.length):"string"==r&&t in n)&&IZe(n[t],e)}var zk=MZe,$Ze=C1,PZe=kfe,FZe=fm,uW=zk,LZe=FZe((function(e,t){if(null==e)return[];var n=t.length;return n>1&&uW(e,t[0],t[1])?t=[]:n>2&&uW(t[0],t[1],t[2])&&(t=[t[0]]),PZe(e,$Ze(t,1),[])})),NZe=LZe;const Qf=Be(NZe);function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(this,arguments)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}function Zm(e,t,n){var r,i,o=null!=(r=n.initialDeps)?r:[];return function(){var r;n.key&&null!=n.debug&&n.debug()&&(r=Date.now());var a,s=e();if(!(s.length!==o.length||s.some((function(e,t){return o[t]!==e}))))return i;if(o=s,n.key&&null!=n.debug&&n.debug()&&(a=Date.now()),i=t.apply(void 0,s),n.key&&null!=n.debug&&n.debug()){var l=Math.round(100*(Date.now()-r))/100,u=Math.round(100*(Date.now()-a))/100,c=u/16,d=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c "+d(u,5)+" /"+d(l,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*c,120))+"deg 100% 31%);",n?.key)}return null==n||null==n.onChange||n.onChange(i),i}}function yI(e,t){if(void 0===e)throw new Error("Unexpected undefined");return e}var BZe=function(e,t){return Math.abs(e-t)<1},VZe=function(e){return e},Dfe=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[],i=t;i<=n;i++)r.push(i);return r},zZe=function(e,t){var n=e.scrollElement;if(n){var r=function(e){var n=e.width,r=e.height;t({width:Math.round(n),height:Math.round(r)})};r(n.getBoundingClientRect());var i=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var i=t.borderBoxSize[0];if(i)return void r({width:i.inlineSize,height:i.blockSize})}r(n.getBoundingClientRect())}));return i.observe(n,{box:"border-box"}),function(){i.unobserve(n)}}},UZe=function(e,t){var n=e.scrollElement;if(n){var r=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},HZe=function(e,t,n){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Ofe=function(e,t,n){var r,i,o=t.adjustments,a=void 0===o?0:o,s=t.behavior,l=e+a;null==(r=n.scrollElement)||null==r.scrollTo||r.scrollTo(((i={})[n.options.horizontal?"left":"top"]=l,i.behavior=s,i))},WZe=function(e){var t,n,r=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||(typeof ResizeObserver<"u"?t=new ResizeObserver((function(e){e.forEach((function(e){r._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var n=t[0];typeof t[1]>"u"&&delete e[n]})),r.options=LE({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VZe,rangeExtractor:Dfe,onChange:function(){},measureElement:HZe,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==r.options.onChange||r.options.onChange(r)},this.cleanup=function(){r.unsubs.filter(Boolean).forEach((function(e){return e()})),r.unsubs=[],r.scrollElement=null},this._didMount=function(){return r.measureElementCache.forEach(r.observer.observe),function(){r.observer.disconnect(),r.cleanup()}},this._willUpdate=function(){var e=r.options.getScrollElement();r.scrollElement!==e&&(r.cleanup(),r.scrollElement=e,r._scrollToOffset(r.scrollOffset,{adjustments:void 0,behavior:void 0}),r.unsubs.push(r.options.observeElementRect(r,(function(e){var t=r.scrollRect;r.scrollRect=e,(r.options.horizontal?e.width!==t.width:e.height!==t.height)&&r.maybeNotify()}))),r.unsubs.push(r.options.observeElementOffset(r,(function(e){r.scrollAdjustments=0,r.scrollOffset!==e&&(null!==r.isScrollingTimeoutId&&(clearTimeout(r.isScrollingTimeoutId),r.isScrollingTimeoutId=null),r.isScrolling=!0,r.scrollDirection=r.scrollOffset<e?"forward":"backward",r.scrollOffset=e,r.maybeNotify(),r.isScrollingTimeoutId=setTimeout((function(){r.isScrollingTimeoutId=null,r.isScrolling=!1,r.scrollDirection=null,r.maybeNotify()}),r.options.scrollingDelay))}))))},this.getSize=function(){return r.scrollRect[r.options.horizontal?"width":"height"]},this.memoOptions=Zm((function(){return[r.options.count,r.options.paddingStart,r.options.scrollMargin,r.options.getItemKey]}),(function(e,t,n,i){return r.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:i}}),{key:!1}),this.getFurthestMeasurement=function(e,t){for(var n=new Map,i=new Map,o=t-1;o>=0;o--){var a=e[o];if(!n.has(a.lane)){var s=i.get(a.lane);if(null==s||a.end>s.end?i.set(a.lane,a):a.end<s.end&&n.set(a.lane,!0),n.size===r.options.lanes)break}}return i.size===r.options.lanes?Array.from(i.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=Zm((function(){return[r.memoOptions(),r.itemSizeCache]}),(function(e,t){var n=e.count,i=e.paddingStart,o=e.scrollMargin,a=e.getItemKey,s=r.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,r.pendingMeasuredCacheIndexes):0;r.pendingMeasuredCacheIndexes=[];for(var l=r.measurementsCache.slice(0,s),u=s;u<n;u++){var c=a(u),d=1===r.options.lanes?l[u-1]:r.getFurthestMeasurement(l,u),f=d?d.end:i+o,p=t.get(c),h="number"==typeof p?p:r.options.estimateSize(u),m=f+h,g=d?d.lane:u%r.options.lanes;l[u]={index:u,start:f,size:h,end:m,key:c,lane:g}}return r.measurementsCache=l,l}),{key:!1,debug:function(){return r.options.debug}}),this.calculateRange=Zm((function(){return[r.getMeasurements(),r.getSize(),r.scrollOffset]}),(function(e,t,n){return r.range=GZe({measurements:e,outerSize:t,scrollOffset:n})}),{key:!1,debug:function(){return r.options.debug}}),this.maybeNotify=Zm((function(){var e=r.calculateRange();return[e.startIndex,e.endIndex,r.isScrolling]}),(function(){r.notify()}),{key:!1,debug:function(){return r.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Zm((function(){return[r.options.rangeExtractor,r.calculateRange(),r.options.overscan,r.options.count]}),(function(e,t,n,r){return e(LE({},t,{overscan:n,count:r}))}),{key:!1,debug:function(){return r.options.debug}}),this.indexFromElement=function(e){var t=r.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n,i=r.indexFromElement(e),o=r.measurementsCache[i];if(o){var a=r.measureElementCache.get(o.key);if(!e.isConnected)return r.observer.unobserve(e),void(e===a&&r.measureElementCache.delete(o.key));a!==e&&(a&&r.observer.unobserve(a),r.observer.observe(e),r.measureElementCache.set(o.key,e));var s=r.options.measureElement(e,t,r),l=s-(null!=(n=r.itemSizeCache.get(o.key))?n:o.size);0!==l&&(o.start<r.scrollOffset&&r._scrollToOffset(r.scrollOffset,{adjustments:r.scrollAdjustments+=l,behavior:void 0}),r.pendingMeasuredCacheIndexes.push(i),r.itemSizeCache=new Map(r.itemSizeCache.set(o.key,s)),r.notify())}},this.measureElement=function(e){e&&r._measureElement(e,void 0)},this.getVirtualItems=Zm((function(){return[r.getIndexes(),r.getMeasurements()]}),(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=t[e[r]];n.push(o)}return n}),{key:!1,debug:function(){return r.options.debug}}),this.getVirtualItemForOffset=function(e){var t=r.getMeasurements();return yI(t[Rfe(0,t.length-1,(function(e){return yI(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var n=r.getSize();"auto"===t&&(t=e<=r.scrollOffset?"start":e>=r.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var i=r.options.horizontal?"scrollWidth":"scrollHeight",o=(r.scrollElement?"document"in r.scrollElement?r.scrollElement.document.documentElement[i]:r.scrollElement[i]:0)-r.getSize();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,r.options.count-1));var n=yI(r.getMeasurements()[e]);if("auto"===t)if(n.end>=r.scrollOffset+r.getSize()-r.options.scrollPaddingEnd)t="end";else{if(!(n.start<=r.scrollOffset+r.options.scrollPaddingStart))return[r.scrollOffset,t];t="start"}var i="end"===t?n.end+r.options.scrollPaddingEnd:n.start-r.options.scrollPaddingStart;return[r.getOffsetForAlignment(i,t),t]},this.isDynamicMode=function(){return r.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==r.scrollToIndexTimeoutId&&(clearTimeout(r.scrollToIndexTimeoutId),r.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,i=n.align,o=void 0===i?"start":i,a=n.behavior;r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.getOffsetForAlignment(e,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,i=n.align,o=void 0===i?"auto":i,a=n.behavior;e=Math.max(0,Math.min(e,r.options.count-1)),r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var s=r.getOffsetForIndex(e,o),l=s[0],u=s[1];r._scrollToOffset(l,{adjustments:void 0,behavior:a}),"smooth"!==a&&r.isDynamicMode()&&(r.scrollToIndexTimeoutId=setTimeout((function(){if(r.scrollToIndexTimeoutId=null,r.measureElementCache.has(r.options.getItemKey(e))){var t=r.getOffsetForIndex(e,u)[0];BZe(t,r.scrollOffset)||r.scrollToIndex(e,{align:u,behavior:a})}else r.scrollToIndex(e,{align:u,behavior:a})})))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;r.cancelScrollToIndex(),"smooth"===n&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=r.getMeasurements()[r.options.count-1])?void 0:e.end)||r.options.paddingStart)-r.options.scrollMargin+r.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,i=t.behavior;r.options.scrollToFn(e,{behavior:i,adjustments:n},r)},this.measure=function(){r.itemSizeCache=new Map,r.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){r.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},Rfe=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0};function GZe(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=Rfe(0,i,(function(e){return t[e].start}),r),a=o;a<i&&t[a].end<r+n;)a++;return{startIndex:o,endIndex:a}}var YZe=typeof document<"u"?f.useLayoutEffect:f.useEffect;function qZe(e){var t=f.useReducer((function(){return{}}),{})[1],n=FE({},e,{onChange:function(n){t(),null==e.onChange||e.onChange(n)}}),r=f.useState((function(){return new WZe(n)}))[0];return r.setOptions(n),f.useEffect((function(){return r._didMount()}),[]),YZe((function(){return r._willUpdate()})),r}function v6(e){return qZe(FE({observeElementRect:zZe,observeElementOffset:UZe,scrollToFn:Ofe},e))}var KZe=qae,ZZe=sl,XZe="Expected a function";function JZe(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(XZe);return ZZe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),KZe(e,t,{leading:r,maxWait:t,trailing:i})}var QZe=JZe;const I1=Be(QZe),Mfe=!(typeof navigator>"u")&&"ReactNative"===navigator.product,$fe={timeout:Mfe?6e4:12e4},eXe=function(e){const t={...$fe,..."string"==typeof e?{url:e}:e};if(t.timeout=Pfe(t.timeout),t.query){const{url:e,searchParams:n}=function(e){const t=e.indexOf("?");if(-1===t)return{url:e,searchParams:new URLSearchParams};const n=e.slice(0,t),r=e.slice(t+1);if(!Mfe)return{url:n,searchParams:new URLSearchParams(r)};if("function"!=typeof decodeURIComponent)throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const i=new URLSearchParams;for(const e of r.split("&")){const[t,n]=e.split("=");t&&i.append(cW(t),cW(n||""))}return{url:n,searchParams:i}}(t.url);for(const[r,i]of Object.entries(t.query)){if(void 0!==i)if(Array.isArray(i))for(const e of i)n.append(r,e);else n.append(r,i);const o=n.toString();o&&(t.url=`${e}?${o}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function cW(e){return decodeURIComponent(e.replace(/\+/g," "))}function Pfe(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?Pfe($fe.timeout):{connect:t,socket:t}}const tXe=/^https?:\/\//i,nXe=function(e){if(!tXe.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function Ffe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const rXe=["request","response","progress","error","abort"],dW=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Lfe(e,t){const n=[],r=dW.reduce(((e,t)=>(e[t]=e[t]||[],e)),{processOptions:[eXe],validateOptions:[nXe]});function i(e){const n=rXe.reduce(((e,t)=>(e[t]=function(){const e=Object.create(null);let t=0;return{publish:function(t){for(const n in e)e[n](t)},subscribe:function(n){const r=t++;return e[r]=n,function(){delete e[r]}}}}(),e)),{}),i=(a=r,function(e,t,...n){const r="onError"===e;let i=t;for(let t=0;t<a[e].length&&(i=(0,a[e][t])(i,...n),!r||i);t++);return i}),o=i("processOptions",e);var a;i("validateOptions",o);const s={options:o,channels:n,applyMiddleware:i};let l;const u=n.request.subscribe((e=>{l=t(e,((t,r)=>((e,t,r)=>{let o=e,a=t;if(!o)try{a=i("onResponse",t,r)}catch(e){a=null,o=e}o=o&&i("onError",o,r),o?n.error.publish(o):a&&n.response.publish(a)})(t,r,e)))}));n.abort.subscribe((()=>{u(),l&&l.abort()}));const c=i("onReturn",n,s);return c===n&&n.request.publish(s),c}return i.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return dW.forEach((t=>{e[t]&&r[t].push(e[t])})),n.push(e),i},i.clone=()=>Lfe(n,t),e.forEach(i.use),i}var bI=function(e){return e.replace(/^\s+|\s+$/g,"")},iXe=Ffe((function(e){if(!e)return{};for(var t={},n=bI(e).split("\n"),r=0;r<n.length;r++){var i=n[r],o=i.indexOf(":"),a=bI(i.slice(0,o)).toLowerCase(),s=bI(i.slice(o+1));typeof t[a]>"u"?t[a]=s:(l=t[a],"[object Array]"===Object.prototype.toString.call(l)?t[a].push(s):t[a]=[t[a],s])}var l;return t}));let $R=class{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#e;#t;#n;#r={};#i;#o={};#a;open(e,t,n){this.#e=e,this.#t=t,this.#n="",this.readyState=1,this.onreadystatechange?.(),this.#i=void 0}abort(){this.#i&&this.#i.abort()}getAllResponseHeaders(){return this.#n}setRequestHeader(e,t){this.#r[e]=t}setInit(e,t=!0){this.#o=e,this.#a=t}send(e){const t="arraybuffer"!==this.responseType,n={...this.#o,method:this.#e,headers:this.#r,body:e};"function"==typeof AbortController&&this.#a&&(this.#i=new AbortController,typeof EventTarget<"u"&&this.#i.signal instanceof EventTarget&&(n.signal=this.#i.signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(this.#t,n).then((e=>(e.headers.forEach(((e,t)=>{this.#n+=`${t}: ${e}\r\n`})),this.status=e.status,this.statusText=e.statusText,this.readyState=3,this.onreadystatechange?.(),t?e.text():e.arrayBuffer()))).then((e=>{"string"==typeof e?this.responseText=e:this.response=e,this.readyState=4,this.onreadystatechange?.()})).catch((e=>{"AbortError"!==e.name?this.onerror?.(e):this.onabort?.()}))}};const PR="function"==typeof XMLHttpRequest?"xhr":"fetch",aXe="xhr"===PR?XMLHttpRequest:$R,oXe=(e,t)=>{const n=e.options,r=e.applyMiddleware("finalizeOptions",n),i={},o=e.applyMiddleware("interceptRequest",void 0,{adapter:PR,context:e});if(o){const e=setTimeout(t,0,null,o);return{abort:()=>clearTimeout(e)}}let a=new aXe;a instanceof $R&&"object"==typeof r.fetch&&a.setInit(r.fetch,r.useAbortSignal??!0);const s=r.headers,l=r.timeout;let u=!1,c=!1,d=!1;if(a.onerror=e=>{h(a instanceof $R?e instanceof Error?e:new Error(`Request error while attempting to reach is ${r.url}`,{cause:e}):new Error(`Request error while attempting to reach is ${r.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},a.ontimeout=e=>{h(new Error(`Request timeout while attempting to reach ${r.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},a.onabort=()=>{p(!0),u=!0},a.onreadystatechange=()=>{l&&(p(),i.socket=setTimeout((()=>f("ESOCKETTIMEDOUT")),l.socket)),!u&&4===a.readyState&&0!==a.status&&function(){if(!(u||c||d)){if(0===a.status)return void h(new Error("Unknown XHR error"));p(),c=!0,t(null,{body:a.response||(""===a.responseType||"text"===a.responseType?a.responseText:""),url:r.url,method:r.method,headers:iXe(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText})}}()},a.open(r.method,r.url,!0),a.withCredentials=!!r.withCredentials,s&&a.setRequestHeader)for(const e in s)s.hasOwnProperty(e)&&a.setRequestHeader(e,s[e]);return r.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:r,adapter:PR,request:a,context:e}),a.send(r.body||null),l&&(i.connect=setTimeout((()=>f("ETIMEDOUT")),l.connect)),{abort:function(){u=!0,a&&a.abort()}};function f(t){d=!0,a.abort();const n=new Error("ESOCKETTIMEDOUT"===t?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);n.code=t,e.channels.error.publish(n)}function p(e){(e||u||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function h(e){if(c)return;p(!0),c=!0,a=null;const n=e||new Error(`Network error while attempting to reach ${r.url}`);n.isNetworkError=!0,n.request=r,t(n)}},sXe=(e=[],t=oXe)=>Lfe(e,t);var fW,hW,lXe={},FR={exports:{}};function uXe(){if(hW)return fW;hW=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return fW=function(a,s){s=s||{};var l,u,c,d,f=typeof a;if("string"===f&&a.length>0)return function(o){if(!((o=String(o)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*i;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*t;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(a);if("number"===f&&isFinite(a))return s.long?(l=a,(u=Math.abs(l))>=r?o(l,u,r,"day"):u>=n?o(l,u,n,"hour"):u>=t?o(l,u,t,"minute"):u>=e?o(l,u,e,"second"):l+" ms"):(c=a,(d=Math.abs(c))>=r?Math.round(c/r)+"d":d>=n?Math.round(c/n)+"h":d>=t?Math.round(c/t)+"m":d>=e?Math.round(c/e)+"s":c+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var cXe=function(e){function t(e){let r,i,o,a=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];r=o.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){const r=t(this.namespace+(typeof n>"u"?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=uXe(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=lXe.DEBUG),e},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=cXe(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(FR,FR.exports),Ffe(FR.exports);const dXe=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function pW(e){return"[object Object]"===Object.prototype.toString.call(e)}function fXe(e){if(!1===pW(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!(!1===pW(n)||!1===n.hasOwnProperty("isPrototypeOf"))}const hXe=["boolean","string","number"];function pXe(){return{processOptions:e=>{const t=e.body;return!t||"function"==typeof t.pipe||dXe(t)||-1===hXe.indexOf(typeof t)&&!Array.isArray(t)&&!fXe(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function mXe(e){return{onResponse:e=>{const n=e.headers["content-type"]||"",r=-1!==n.indexOf("application/json");return e.body&&n&&r?Object.assign({},e,{body:t(e.body)}):e},processOptions:e=>Object.assign({},e,{headers:Object.assign({Accept:"application/json"},e.headers)})};function t(e){try{return JSON.parse(e)}catch(e){throw e.message=`Failed to parsed response body as JSON: ${e.message}`,e}}}let wy={};typeof globalThis<"u"?wy=globalThis:typeof window<"u"?wy=window:typeof global<"u"?wy=global:typeof self<"u"&&(wy=self);var gXe=wy;function vXe(e={}){const t=e.implementation||gXe.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(e,n)=>new t((t=>(e.error.subscribe((e=>t.error(e))),e.progress.subscribe((e=>t.next(Object.assign({type:"progress"},e)))),e.response.subscribe((e=>{t.next(Object.assign({type:"response"},e)),t.complete()})),e.request.publish(n),()=>e.abort.publish())))}}function yXe(){return{onRequest:e=>{if("xhr"!==e.adapter)return;const t=e.request,n=e.context;function r(e){return t=>{const r=t.lengthComputable?t.loaded/t.total*100:-1;n.channels.progress.publish({stage:e,percent:r,total:t.total,loaded:t.loaded,lengthComputable:t.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"))}}}var Nfe=(e,t,n)=>("GET"===n.method||"HEAD"===n.method)&&(e.isNetworkError||!1);function bXe(e){return 100*Math.pow(2,e)+100*Math.random()}const y6=(e={})=>(e=>{const t=e.maxRetries||5,n=e.retryDelay||bXe,r=e.shouldRetry;return{onError:(e,i)=>{const o=i.options,a=o.maxRetries||t,s=o.retryDelay||n,l=o.shouldRetry||r,u=o.attemptNumber||0;if(null!==(c=o.body)&&"object"==typeof c&&"function"==typeof c.pipe||!l(e,u,o)||u>=a)return e;var c;const d=Object.assign({},i,{options:Object.assign({},o,{attemptNumber:u+1})});return setTimeout((()=>i.channels.request.publish(d)),s(u)),null}}})({shouldRetry:Nfe,...e});y6.shouldRetry=Nfe;var LR=function(e,t){return(LR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ws(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}LR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var NR=function(){return NR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},NR.apply(this,arguments)};function xXe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Bfe(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function jp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function il(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Hg(e){return this instanceof Hg?(this.v=e,this):new Hg(e)}function wXe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof Hg?Promise.resolve(e.value.v).then(l,u):c(o[0][2],e)}(i[e](t))}catch(e){c(o[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function CXe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof jp?jp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function on(e){return"function"==typeof e}function Uk(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xI=Uk((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function NE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ip=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=jp(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(on(l))try{l()}catch(e){i=e instanceof xI?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=jp(u),d=c.next();!d.done;d=c.next()){var f=d.value;try{mW(f)}catch(e){i=i??[],e instanceof xI?i=il(il([],fs(i)),fs(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(i)throw new xI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)mW(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&NE(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&NE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),Vfe=Ip.EMPTY;function zfe(e){return e instanceof Ip||e&&"closed"in e&&on(e.remove)&&on(e.add)&&on(e.unsubscribe)}function mW(e){on(e)?e():e.unsubscribe()}var Ufe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hfe={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,il([e,t],fs(n)))},clearTimeout:function(e){var t=Hfe.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Wfe(e){Hfe.setTimeout((function(){throw e}))}function Dp(){}function xS(e){e()}var b6=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,zfe(t)&&t.add(n)):n.destination=kXe,n}return ws(t,e),t.create=function(e,t,n){return new S0(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ip),SXe=Function.prototype.bind;function wI(e,t){return SXe.call(e,t)}var EXe=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){jC(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){jC(e)}else jC(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){jC(e)}},e}(),S0=function(e){function t(t,n,r){var i,o,a=e.call(this)||this;on(t)||!t?i={next:t??void 0,error:n??void 0,complete:r??void 0}:a&&Ufe.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&wI(t.next,o),error:t.error&&wI(t.error,o),complete:t.complete&&wI(t.complete,o)}):i=t;return a.destination=new EXe(i),a}return ws(t,e),t}(b6);function jC(e){Wfe(e)}function _Xe(e){throw e}var kXe={closed:!0,next:Dp,error:_Xe,complete:Dp},x6="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gu(e){return e}function TXe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gfe(e)}function Gfe(e){return 0===e.length?Gu:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var It=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=jXe(e)?e:new S0(e,t,n);return xS((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=gW(t))((function(t,r){var i=new S0({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[x6]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gfe(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=gW(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function gW(e){var t;return null!==(t=e??Ufe.Promise)&&void 0!==t?t:Promise}function AXe(e){return e&&on(e.next)&&on(e.error)&&on(e.complete)}function jXe(e){return e&&e instanceof b6||AXe(e)&&zfe(e)}function Yfe(e){return on(e?.lift)}function jn(e){return function(t){if(Yfe(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function nn(e,t,n,r,i){return new qfe(e,t,n,r,i)}var qfe=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return ws(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(b6);function Al(){return jn((function(e,t){var n=null;e._refCount++;var r=nn(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}var CI,IXe=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,Yfe(t)&&(r.lift=t.lift),r}return ws(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,e?.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new Ip;var n=this.getSubject();t.add(this.source.subscribe(nn(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=Ip.EMPTY)}return t},t.prototype.refCount=function(){return Al()(this)},t}(It),DXe=Uk((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),kr=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return ws(t,e),t.prototype.lift=function(e){var t=new vW(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new DXe},t.prototype.next=function(e){var t=this;xS((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=jp(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;xS((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;xS((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?Vfe:(this.currentObservers=null,o.push(e),new Ip((function(){t.currentObservers=null,NE(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new It;return e.source=this,e},t.create=function(e,t){return new vW(e,t)},t}(It),vW=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return ws(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Vfe},t}(kr),Hk=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return ws(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(kr),w6={now:function(){return(w6.delegate||Date).now()},delegate:void 0},C6=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=w6);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return ws(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(i.push(t),!o&&i.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var a=n.now(),s=0,l=1;l<r.length&&r[l]<=a;l+=2)s=l;s&&r.splice(0,s+1)}},t}(kr),OXe=function(e){function t(t,n){return e.call(this)||this}return ws(t,e),t.prototype.schedule=function(e,t){return this},t}(Ip),BR={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,il([e,t],fs(n)))},clearInterval:function(e){var t=BR.delegate;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Kfe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return ws(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),BR.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&BR.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,NE(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(OXe),RXe=1,VR={};function yW(e){return e in VR&&(delete VR[e],!0)}var Zfe={setImmediate:function(e){var t=RXe++;return VR[t]=!0,CI||(CI=Promise.resolve()),CI.then((function(){return yW(t)&&e()})),t},clearImmediate:function(e){yW(e)}},MXe=Zfe.setImmediate,$Xe=Zfe.clearImmediate,zR={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return MXe.apply(void 0,il([],fs(e)))},clearImmediate:function(e){var t=zR.delegate;return(t?.clearImmediate||$Xe)(e)},delegate:void 0},PXe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return ws(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=zR.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var o=t.actions;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(zR.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(Kfe),bW=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=w6.now,e}(),Xfe=function(e){function t(t,n){void 0===n&&(n=bW.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return ws(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(bW),FXe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ws(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(Xfe),LXe=new FXe(PXe),al=new Xfe(Kfe),NXe=al,Zn=new It((function(e){return e.complete()}));function Jfe(e){return e&&on(e.schedule)}function S6(e){return e[e.length-1]}function Wk(e){return on(S6(e))?e.pop():void 0}function Kx(e){return Jfe(S6(e))?e.pop():void 0}function BXe(e,t){return"number"==typeof S6(e)?e.pop():t}var E6=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Qfe(e){return on(e?.then)}function ehe(e){return on(e[x6])}function the(e){return Symbol.asyncIterator&&on(e?.[Symbol.asyncIterator])}function nhe(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function VXe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var rhe=VXe();function ihe(e){return on(e?.[rhe])}function ahe(e){return wXe(this,arguments,(function(){var t,n,r;return Bfe(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Hg(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,Hg(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Hg(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function ohe(e){return on(e?.getReader)}function zn(e){if(e instanceof It)return e;if(null!=e){if(ehe(e))return zXe(e);if(E6(e))return UXe(e);if(Qfe(e))return HXe(e);if(the(e))return she(e);if(ihe(e))return WXe(e);if(ohe(e))return GXe(e)}throw nhe(e)}function zXe(e){return new It((function(t){var n=e[x6]();if(on(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function UXe(e){return new It((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function HXe(e){return new It((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Wfe)}))}function WXe(e){return new It((function(t){var n,r;try{for(var i=jp(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}))}function she(e){return new It((function(t){YXe(e,t).catch((function(e){return t.error(e)}))}))}function GXe(e){return she(ahe(e))}function YXe(e,t){var n,r,i,o;return xXe(this,void 0,void 0,(function(){var a,s;return Bfe(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=CXe(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))}function zc(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function lhe(e,t){return void 0===t&&(t=0),jn((function(n,r){n.subscribe(nn(r,(function(n){return zc(r,e,(function(){return r.next(n)}),t)}),(function(){return zc(r,e,(function(){return r.complete()}),t)}),(function(n){return zc(r,e,(function(){return r.error(n)}),t)})))}))}function uhe(e,t){return void 0===t&&(t=0),jn((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function qXe(e,t){return zn(e).pipe(uhe(t),lhe(t))}function KXe(e,t){return zn(e).pipe(uhe(t),lhe(t))}function ZXe(e,t){return new It((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}function XXe(e,t){return new It((function(n){var r;return zc(n,t,(function(){r=e[rhe](),zc(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return on(r?.return)&&r.return()}}))}function che(e,t){if(!e)throw new Error("Iterable cannot be null");return new It((function(n){zc(n,t,(function(){var r=e[Symbol.asyncIterator]();zc(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function JXe(e,t){return che(ahe(e),t)}function dhe(e,t){if(null!=e){if(ehe(e))return qXe(e,t);if(E6(e))return ZXe(e,t);if(Qfe(e))return KXe(e,t);if(the(e))return che(e,t);if(ihe(e))return XXe(e,t);if(ohe(e))return JXe(e,t)}throw nhe(e)}function Qn(e,t){return t?dhe(e,t):zn(e)}function we(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qn(e,Kx(e))}function Rf(e,t){var n=on(e)?e:function(){return e};return new It((function(e){return e.error(n())}))}function QXe(e){return!!e&&(e instanceof It||on(e.lift)&&on(e.subscribe))}var Zx=Uk((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function gi(e,t){var n="object"==typeof t;return new Promise((function(r,i){var o,a=!1;e.subscribe({next:function(e){o=e,a=!0},error:i,complete:function(){a?r(o):n?r(t.defaultValue):i(new Zx)}})}))}function eJe(e,t){return new Promise((function(t,n){var r=new S0({next:function(e){t(e),r.unsubscribe()},error:n,complete:function(){n(new Zx)}});e.subscribe(r)}))}function fhe(e){return e instanceof Date&&!isNaN(e)}var tJe=Uk((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function nJe(e,t){var n=fhe(e)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,i=n.each,o=n.with,a=void 0===o?rJe:o,s=n.scheduler,l=void 0===s?al:s,u=n.meta,c=void 0===u?null:u;if(null==r&&null==i)throw new TypeError("No timeout provided.");return jn((function(e,t){var n,o,s=null,u=0,d=function(e){o=zc(t,l,(function(){try{n.unsubscribe(),zn(a({meta:c,lastValue:s,seen:u})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(nn(t,(function(e){o?.unsubscribe(),u++,t.next(s=e),i>0&&d(i)}),void 0,void 0,(function(){o?.closed||o?.unsubscribe(),s=null}))),!u&&d(null!=r?"number"==typeof r?r:+r-l.now():i)}))}function rJe(e){throw new tJe(e)}function fe(e,t){return jn((function(n,r){var i=0;n.subscribe(nn(r,(function(n){r.next(e.call(t,n,i++))})))}))}var iJe=Array.isArray;function aJe(e,t){return iJe(t)?e.apply(void 0,il([],fs(t))):e(t)}function Gk(e){return fe((function(t){return aJe(e,t)}))}var oJe=Array.isArray,sJe=Object.getPrototypeOf,lJe=Object.prototype,uJe=Object.keys;function hhe(e){if(1===e.length){var t=e[0];if(oJe(t))return{args:t,keys:null};if(cJe(t)){var n=uJe(t);return{args:n.map((function(e){return t[e]})),keys:n}}}return{args:e,keys:null}}function cJe(e){return e&&"object"==typeof e&&sJe(e)===lJe}function phe(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function Ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Kx(e),r=Wk(e),i=hhe(e),o=i.args,a=i.keys;if(0===o.length)return Qn([],n);var s=new It(mhe(o,n,a?function(e){return phe(a,e)}:Gu));return r?s.pipe(Gk(r)):s}function mhe(e,t,n){return void 0===n&&(n=Gu),function(r){xW(t,(function(){for(var i=e.length,o=new Array(i),a=i,s=i,l=function(i){xW(t,(function(){var l=Qn(e[i],t),u=!1;l.subscribe(nn(r,(function(e){o[i]=e,u||(u=!0,s--),s||r.next(n(o.slice()))}),(function(){--a||r.complete()})))}),r)},u=0;u<i;u++)l(u)}),r)}}function xW(e,t,n){e?zc(n,e,t):t()}function dJe(e,t,n,r,i,o,a,s){var l=[],u=0,c=0,d=!1,f=function(){d&&!l.length&&!u&&t.complete()},p=function(e){u++;var i=!1;zn(n(e,c++)).subscribe(nn(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{u--;for(;l.length&&u<r;)e=void 0,e=l.shift(),a||p(e);f()}catch(e){t.error(e)}var e})))};return e.subscribe(nn(t,(function(e){return u<r?p(e):l.push(e)}),(function(){d=!0,f()}))),function(){}}function kt(e,t,n){return void 0===n&&(n=1/0),on(t)?kt((function(n,r){return fe((function(e,i){return t(n,e,r,i)}))(zn(e(n,r)))}),n):("number"==typeof t&&(n=t),jn((function(t,r){return dJe(t,r,e,n)})))}function Yk(e){return void 0===e&&(e=1/0),kt(Gu,e)}function fJe(){return Yk(1)}function bi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fJe()(Qn(e,Kx(e)))}function Pi(e){return new It((function(t){zn(e()).subscribe(t)}))}function hJe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wk(e),r=hhe(e),i=r.args,o=r.keys,a=new It((function(e){var t=i.length;if(t)for(var n=new Array(t),r=t,a=t,s=function(t){var s=!1;zn(i[t]).subscribe(nn(e,(function(e){s||(s=!0,a--),n[t]=e}),(function(){return r--}),void 0,(function(){(!r||!s)&&(a||e.next(o?phe(o,n):n),e.complete())})))},l=0;l<t;l++)s(l);else e.complete()}));return n?a.pipe(Gk(n)):a}var pJe=["addListener","removeListener"],mJe=["addEventListener","removeEventListener"],gJe=["on","off"];function Ka(e,t,n,r){if(on(n)&&(r=n,n=void 0),r)return Ka(e,t,n).pipe(Gk(r));var i=fs(bJe(e)?mJe.map((function(r){return function(i){return e[r](t,i,n)}})):vJe(e)?pJe.map(wW(e,t)):yJe(e)?gJe.map(wW(e,t)):[],2),o=i[0],a=i[1];if(!o&&E6(e))return kt((function(e){return Ka(e,t,n)}))(zn(e));if(!o)throw new TypeError("Invalid event target");return new It((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return a(t)}}))}function wW(e,t){return function(n){return function(r){return e[n](t,r)}}}function vJe(e){return on(e.addListener)&&on(e.removeListener)}function yJe(e){return on(e.on)&&on(e.off)}function bJe(e){return on(e.addEventListener)&&on(e.removeEventListener)}function xJe(e,t,n){return Pi((function(){return e()?t:n}))}function ri(e,t,n){void 0===e&&(e=0),void 0===n&&(n=NXe);var r=-1;return null!=t&&(Jfe(t)?n=t:r=t),new It((function(t){var i=fhe(e)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function kn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Kx(e),r=BXe(e,1/0),i=e;return i.length?1===i.length?zn(i[0]):Yk(r)(Qn(i,n)):Zn}var _6=new It(Dp),wJe=Array.isArray;function ghe(e){return 1===e.length&&wJe(e[0])?e[0]:e}function CJe(e,t){return function(n,r){return!e.call(t,n,r)}}function jt(e,t){return jn((function(n,r){var i=0;n.subscribe(nn(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}function k6(e,t,n){return[jt(t,n)(zn(e)),jt(CJe(t,n))(zn(e))]}function SJe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=ghe(e)).length?zn(e[0]):new It(EJe(e))}function EJe(e){return function(t){for(var n=[],r=function(r){n.push(zn(e[r]).subscribe(nn(t,(function(e){if(n){for(var i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}function _Je(e,t){return new It((function(n){var r=e(),i=t(r);return(i?zn(i):Zn).subscribe(n),function(){r&&r.unsubscribe()}}))}function kJe(e){return jn((function(t,n){var r=!1,i=null,o=null,a=!1,s=function(){if(o?.unsubscribe(),o=null,r){r=!1;var e=i;i=null,n.next(e)}a&&n.complete()},l=function(){o=null,a&&n.complete()};t.subscribe(nn(n,(function(t){r=!0,i=t,o||zn(e(t)).subscribe(o=nn(n,s,l))}),(function(){a=!0,(!r||!o||o.closed)&&n.complete()})))}))}function TJe(e,t){return void 0===t&&(t=al),kJe((function(){return ri(e,t)}))}function pn(e){return jn((function(t,n){var r,i=null,o=!1;i=t.subscribe(nn(n,void 0,void 0,(function(a){r=zn(e(a,pn(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0}))),o&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function vhe(e,t,n,r,i){return function(o,a){var s=n,l=t,u=0;o.subscribe(nn(a,(function(t){var n=u++;l=s?e(l,t,n):(s=!0,t),r&&a.next(l)}),i&&function(){s&&a.next(l),a.complete()}))}}function yhe(e,t){return jn(vhe(e,t,arguments.length>=2,!1,!0))}var AJe=function(e,t){return e.push(t),e};function bhe(){return jn((function(e,t){yhe(AJe,[])(e).subscribe(t)}))}function xhe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wk(e);return n?TXe(xhe.apply(void 0,il([],fs(e))),Gk(n)):jn((function(t,n){mhe(il([t],fs(ghe(e))))(n)}))}function jJe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xhe.apply(void 0,il([],fs(e)))}function sp(e,t){return on(t)?kt(e,t,1):kt(e,1)}function IJe(e){return new It((function(t){return e.subscribe(t)}))}var DJe={connector:function(){return new kr}};function OJe(e,t){void 0===t&&(t=DJe);var n=t.connector;return jn((function(t,r){var i=n();zn(e(IJe(i))).subscribe(r),r.add(t.subscribe(i))}))}function T6(e){return jn((function(t,n){var r=!1,i=null,o=null,a=function(){if(o?.unsubscribe(),o=null,r){r=!1;var e=i;i=null,n.next(e)}};t.subscribe(nn(n,(function(t){o?.unsubscribe(),r=!0,i=t,o=nn(n,a,Dp),zn(e(t)).subscribe(o)}),(function(){a(),n.complete()}),void 0,(function(){i=o=null})))}))}function A6(e,t){return void 0===t&&(t=al),jn((function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,r.next(e)}};function l(){var n=a+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);s()}n.subscribe(nn(r,(function(n){o=n,a=t.now(),i||(i=t.schedule(l,e),r.add(i))}),(function(){s(),r.complete()}),void 0,(function(){o=i=null})))}))}function whe(e){return jn((function(t,n){var r=!1;t.subscribe(nn(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function xa(e){return e<=0?function(){return Zn}:jn((function(t,n){var r=0;t.subscribe(nn(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function qk(e){return fe((function(){return e}))}function RJe(e,t){return kt((function(t,n){return zn(e(t,n)).pipe(xa(1),qk(t))}))}function Che(e,t){void 0===t&&(t=al);var n=ri(e,t);return RJe((function(){return n}))}function MJe(e,t){return jn((function(n,r){var i=new Set;n.subscribe(nn(r,(function(t){var n=e?e(t):t;i.has(n)||(i.add(n),r.next(t))}))),t&&zn(t).subscribe(nn(r,(function(){return i.clear()}),Dp))}))}function mr(e,t){return void 0===t&&(t=Gu),e=e??$Je,jn((function(n,r){var i,o=!0;n.subscribe(nn(r,(function(n){var a=t(n);(o||!e(i,a))&&(o=!1,i=a,r.next(n))})))}))}function $Je(e,t){return e===t}function She(e){return void 0===e&&(e=PJe),jn((function(t,n){var r=!1;t.subscribe(nn(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function PJe(){return new Zx}function FJe(e,t){return jn((function(t,n){var r=0,i=null,o=!1;t.subscribe(nn(n,(function(t){i||(i=nn(n,void 0,(function(){i=null,o&&n.complete()})),zn(e(t,r++)).subscribe(i))}),(function(){o=!0,!i&&n.complete()})))}))}function Kk(e){return jn((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}function Ehe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?jt((function(t,n){return e(t,n,r)})):Gu,xa(1),n?whe(t):She((function(){return new Zx})))}}function _he(e,t,n,r){return jn((function(i,o){var a;t&&"function"!=typeof t?(n=t.duration,a=t.element,r=t.connector):a=t;var s=new Map,l=function(e){s.forEach(e),e(o)},u=function(e){return l((function(t){return t.error(e)}))},c=0,d=!1,f=new qfe(o,(function(t){try{var i=e(t),l=s.get(i);if(!l){s.set(i,l=r?r():new kr);var p=function(e,t){var n=new It((function(e){c++;var n=t.subscribe(e);return function(){n.unsubscribe(),0==--c&&d&&f.unsubscribe()}}));return n.key=e,n}(i,l);if(o.next(p),n){var h=nn(l,(function(){l.complete(),h?.unsubscribe()}),void 0,void 0,(function(){return s.delete(i)}));f.add(zn(n(p)).subscribe(h))}}l.next(a?a(t):t)}catch(e){u(e)}}),(function(){return l((function(e){return e.complete()}))}),u,(function(){return s.clear()}),(function(){return d=!0,0===c}));i.subscribe(f)}))}function LJe(e){return e<=0?function(){return Zn}:jn((function(t,n){var r=[];t.subscribe(nn(n,(function(t){r.push(t),e<r.length&&r.shift()}),(function(){var e,t;try{for(var i=jp(r),o=i.next();!o.done;o=i.next()){var a=o.value;n.next(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){r=null})))}))}function NJe(e,t){var n=arguments.length>=2;return function(e){return e.pipe(Gu,LJe(1),n?whe(t):She((function(){return new Zx})))}}var BJe=kt;function E0(e,t,n){return void 0===n&&(n=1/0),on(t)?kt((function(){return e}),t,n):kt((function(){return e}),n)}function VJe(e,t){var n=on(e)?e:function(){return e};return on(t)?OJe(t,{connector:n}):function(e){return new IXe(e,n)}}function jl(e,t,n,r){var i=on(n)?n:void 0;return function(n){return VJe(new C6(e,t,r),i)(n)}}function zJe(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,r=void 0===n?1/0:n,i=t.delay,o=t.resetOnSuccess,a=void 0!==o&&o;return r<=0?Gu:jn((function(e,t){var n,o=0,s=function(){var l=!1;n=e.subscribe(nn(t,(function(e){a&&(o=0),t.next(e)}),void 0,(function(e){if(o++<r){var a=function(){n?(n.unsubscribe(),n=null,s()):l=!0};if(null!=i){var u="number"==typeof i?ri(i):zn(i(e,o)),c=nn(t,(function(){c.unsubscribe(),a()}),(function(){t.complete()}));u.subscribe(c)}else a()}else t.error(e)}))),l&&(n.unsubscribe(),n=null,s())};s()}))}function hs(e,t){return jn(vhe(e,t,arguments.length>=2,!0))}function ho(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new kr}:t,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,a=void 0===o||o,s=e.resetOnRefCountZero,l=void 0===s||s;return function(e){var t,r,o,s=0,u=!1,c=!1,d=function(){r?.unsubscribe(),r=void 0},f=function(){d(),t=o=void 0,u=c=!1},p=function(){var e=t;f(),e?.unsubscribe()};return jn((function(e,h){s++,!c&&!u&&d();var m=o=o??n();h.add((function(){0===--s&&!c&&!u&&(r=SI(p,l))})),m.subscribe(h),!t&&s>0&&(t=new S0({next:function(e){return m.next(e)},error:function(e){c=!0,d(),r=SI(f,i,e),m.error(e)},complete:function(){u=!0,d(),r=SI(f,a),m.complete()}}),zn(e).subscribe(t))}))(e)}}function SI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new S0({next:function(){i.unsubscribe(),e()}});return zn(t.apply(void 0,il([],fs(n)))).subscribe(i)}}else e()}function Bi(e,t,n){var r,i,o,a,s=!1;return e&&"object"==typeof e?(r=e.bufferSize,a=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(o=e.refCount)&&o,n=e.scheduler):a=e??1/0,ho({connector:function(){return new C6(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function khe(e){return jt((function(t,n){return e<=n}))}function xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Kx(e);return jn((function(t,r){(n?bi(e,t,n):bi(e,t)).subscribe(r)}))}function ht(e,t){return jn((function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(nn(r,(function(n){i?.unsubscribe();var a=0,l=o++;zn(e(n,l)).subscribe(i=nn(r,(function(e){return r.next(t?t(n,e,l,a++):e)}),(function(){i=null,s()})))}),(function(){a=!0,s()})))}))}function UJe(e,t){return on(t)?ht((function(){return e}),t):ht((function(){return e}))}function j6(e){return jn((function(t,n){zn(e).subscribe(nn(n,(function(){return n.complete()}),Dp)),!n.closed&&t.subscribe(n)}))}function qn(e,t,n){var r=on(e)||t||n?{next:e,error:t,complete:n}:e;return r?jn((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;e.subscribe(nn(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):Gu}function I6(e,t){return jn((function(n,r){var i=t??{},o=i.leading,a=void 0===o||o,s=i.trailing,l=void 0!==s&&s,u=!1,c=null,d=null,f=!1,p=function(){d?.unsubscribe(),d=null,l&&(g(),f&&r.complete())},h=function(){d=null,f&&r.complete()},m=function(t){return d=zn(e(t)).subscribe(nn(r,p,h))},g=function(){if(u){u=!1;var e=c;c=null,r.next(e),!f&&m(e)}};n.subscribe(nn(r,(function(e){u=!0,c=e,(!d||d.closed)&&(a?g():m(e))}),(function(){f=!0,(!(l&&u&&d)||d.closed)&&r.complete()})))}))}function Tb(e,t,n){void 0===t&&(t=al);var r=ri(e,t);return I6((function(){return r}),n)}function qy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wk(e);return jn((function(t,r){for(var i=e.length,o=new Array(i),a=e.map((function(){return!1})),s=!1,l=function(t){zn(e[t]).subscribe(nn(r,(function(e){o[t]=e,!s&&!a[t]&&(a[t]=!0,(s=a.every(Gu))&&(a=null))}),Dp))},u=0;u<i;u++)l(u);t.subscribe(nn(r,(function(e){if(s){var t=il([e],fs(o));r.next(n?n.apply(void 0,il([],fs(t))):t)}})))}))}var The={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},D6={0:8203,1:8204,2:8205,3:65279},HJe=new Array(4).fill(String.fromCodePoint(D6[0])).join("");function WJe(e){let t=JSON.stringify(e);return`${HJe}${Array.from(t).map((e=>{let n=e.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${e} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map((e=>String.fromCodePoint(D6[e]))).join("")})).join("")}`}function GJe(e){return!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e))&&!!Date.parse(e)}function YJe(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function B4n(e,t,n="auto"){return!0===n||"auto"===n&&(GJe(e)||YJe(e))?e:`${e}${WJe(t)}`}Object.fromEntries(Object.entries(D6).map((e=>e.reverse()))),Object.fromEntries(Object.entries(The).map((e=>e.reverse())));var qJe=`${Object.values(The).map((e=>`\\u{${e.toString(16)}}`)).join("")}`,CW=new RegExp(`[${qJe}]{4,}`,"gu");function KJe(e){var t;return{cleaned:e.replace(CW,""),encoded:(null==(t=e.match(CW))?void 0:t[0])||""}}function ZJe(e){return e&&JSON.parse(KJe(JSON.stringify(e)).cleaned)}function XJe(e){return ZJe(e)}class JJe extends Error{response;statusCode=400;responseBody;details;constructor(e){const t=Ahe(e);super(t.message),Object.assign(this,t)}}class QJe extends Error{response;statusCode=500;responseBody;details;constructor(e){const t=Ahe(e);super(t.message),Object.assign(this,t)}}function Ahe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:rQe(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message=`${t.error} - ${t.message}`,n;if(eQe(t)||tQe(t)){const e=t.error.items||[],r=e.slice(0,5).map((e=>e.error?.description)).filter(Boolean);let i=r.length?`:\n- ${r.join("\n- ")}`:"";return e.length>5&&(i+=`\n...and ${e.length-5} more`),n.message=`${t.error.description}${i}`,n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||nQe(e),n)}function eQe(e){return BE(e)&&BE(e.error)&&"mutationError"===e.error.type&&"string"==typeof e.error.description}function tQe(e){return BE(e)&&BE(e.error)&&"actionError"===e.error.type&&"string"==typeof e.error.description}function BE(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function nQe(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function rQe(e,t){return-1!==(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(e,null,2):e}let iQe=class extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;const t=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:e}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",e),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}};const aQe={onResponse:e=>{if(e.statusCode>=500)throw new QJe(e);if(e.statusCode>=400)throw new JJe(e);return e}},oQe={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach((e=>console.warn(e))),e}};function sQe(e){return sXe([y6({shouldRetry:lQe}),...e,oQe,pXe(),mXe(),yXe(),aQe,vXe({implementation:It})])}function lQe(e,t,n){if(0===n.maxRetries)return!1;const r="GET"===n.method||"HEAD"===n.method,i=(n.uri||n.url).startsWith("/data/query"),o=e.response&&(429===e.response.statusCode||502===e.response.statusCode||503===e.response.statusCode);return!(!r&&!i||!o)||y6.shouldRetry(e,t,n)}function jhe(e){if("string"==typeof e)return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if("object"==typeof e&&null!==e&&"query"in e&&"string"==typeof e.query)return"params"in e&&"object"==typeof e.params&&null!==e.params?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error(`Unknown selection - must be one of:\n\n${t}`)}const SW=["image","file"],EW=["before","after","replace"],Ihe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},uQe=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},cQe=e=>{if(-1===SW.indexOf(e))throw new Error(`Invalid asset type: ${e}. Must be one of ${SW.join(", ")}`)},Ky=(e,t)=>{if(null===t||"object"!=typeof t||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},Dhe=(e,t)=>{if("string"!=typeof t||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},VE=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);Dhe(e,t._id)},dQe=(e,t,n)=>{const r="insert(at, selector, items)";if(-1===EW.indexOf(e)){const e=EW.map((e=>`"${e}"`)).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${e}`)}if("string"!=typeof t)throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},Ohe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},Rhe=e=>{if("string"!=typeof e||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};class Mhe{selection;operations;constructor(e,t={}){this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Ky("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return dQe(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,r){const i=t<0?t-1:t,o=typeof n>"u"||-1===n?-1:Math.max(0,t+n),a=`${e}[${i}:${i<0&&o>=0?"":o}]`;return this.insert("replace",a,r||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...jhe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return Ky(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}class lp extends Mhe{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new lp(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,n=Object.assign({returnFirst:t,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}class up extends Mhe{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new up(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,n=Object.assign({returnFirst:t,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}const $he={returnDocuments:!1};class Phe{operations;trxId;constructor(e=[],t){this.operations=e,this.trxId=t}create(e){return Ky("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return Ky(t,e),VE(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return Ky(t,e),VE(t,e),this._add({[t]:e})}delete(e){return Dhe("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class Zk extends Phe{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new Zk([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},$he,e||{}))}patch(e,t){const n="function"==typeof t;if("string"!=typeof e&&e instanceof up)return this._add({patch:e.serialize()});if(n){const n=t(new up(e,{},this.#e));if(!(n instanceof up))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}}class Xk extends Phe{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new Xk([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},$he,e||{}))}patch(e,t){const n="function"==typeof t;if("string"!=typeof e&&e instanceof lp)return this._add({patch:e.serialize()});if(n){const n=t(new lp(e,{},this.#e));if(!(n instanceof lp))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}}const fQe="https://www.sanity.io/help/";function O6(e){return fQe+e}function hQe(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const Xx=e=>hQe(((...t)=>console.warn(e.join(" "),...t))),pQe=Xx(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),mQe=Xx(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),gQe=Xx(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),vQe=Xx(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${O6("js-client-browser-token")} for more information and how to hide this warning.`]),yQe=Xx(["Using the Sanity client without specifying an API version is deprecated.",`See ${O6("js-client-api-version")}`]),bQe="apicdn.sanity.io",Zy={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},xQe=["localhost","127.0.0.1","0.0.0.0"],wQe=e=>-1!==xQe.indexOf(e);function CQe(e){if("1"===e||"X"===e)return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const Fhe=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},Lhe=(e,t)=>{const n={...t,...e,stega:{..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||Zy.stega,..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||{}}};n.apiVersion||yQe();const r={...Zy,...n},i=r.useProjectHostname;if(typeof Promise>"u"){const e=O6("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${e}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if("string"==typeof r.perspective&&Fhe(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof r.stega.enabled)throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&void 0===r.stega.studioUrl)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&"string"!=typeof r.stega.studioUrl&&"function"!=typeof r.stega.studioUrl)throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,a=o&&wQe(window.location.hostname);o&&a&&r.token&&!0!==r.ignoreBrowserTokenWarning?vQe():typeof r.useCdn>"u"&&mQe(),i&&uQe(r.projectId),r.dataset&&Ihe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?Rhe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Zy.apiHost,!0===r.useCdn&&r.withCredentials&&pQe(),r.useCdn=!1!==r.useCdn&&!r.withCredentials,CQe(r.apiVersion);const s=r.apiHost.split("://",2),l=s[0],u=s[1],c=r.isDefaultApi?bQe:u;return r.useProjectHostname?(r.url=`${l}://${r.projectId}.${u}/v${r.apiVersion}`,r.cdnUrl=`${l}://${r.projectId}.${c}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r},SQe="X-Sanity-Project-ID";function EQe(e,t={}){const n={},r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[SQe]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),o=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof o>"u"?3e5:o,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:"object"==typeof t.fetch&&"object"==typeof e.fetch?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const Nhe=({query:e,params:t={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:a,...s}=n;i&&r.append("tag",i),r.append("query",e);for(const[e,n]of Object.entries(t))r.append(`$${e}`,JSON.stringify(n));for(const[e,t]of Object.entries(s))t&&r.append(e,`${t}`);return!1===a&&r.append("returnQuery","false"),!1===o&&r.append("includeMutations","false"),`?${r}`},_Qe=(e,t)=>!1===e?void 0:typeof e>"u"?t:e,kQe=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:_Qe(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),R6=e=>"response"===e.type,TQe=e=>e.body,AQe=(e,t)=>e.reduce(((e,n)=>(e[t(n)]=n,e)),Object.create(null)),jQe=11264;function Bhe(e,t,n,r,i={},o={}){const a="stega"in o?{...n||{},..."boolean"==typeof o.stega?{enabled:o.stega}:o.stega||{}}:n,s=a.enabled?XJe(i):i,l=!1===o.filterResponse?e=>e:e=>e.result,{cache:u,next:c,...d}={useAbortSignal:typeof o.signal<"u",resultSourceMap:a.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:!1===o.filterResponse&&!1!==o.returnQuery},f=D1(e,t,"query",{query:r,params:s},typeof u<"u"||typeof c<"u"?{...d,fetch:{cache:u,next:c}}:d);return a.enabled?f.pipe(jJe(Qn(md((()=>import("./stegaEncodeSourceMap.oSB9a4mT.js")),__vite__mapDeps([0,1])).then((function(e){return e.stegaEncodeSourceMap$1})).then((({stegaEncodeSourceMap:e})=>e)))),fe((([e,t])=>{const n=t(e.result,e.resultSourceMap,a);return l({...e,result:n})}))):f.pipe(fe(l))}function Vhe(e,t,n,r={}){return Jx(e,t,{uri:hm(e,"doc",n),json:!0,tag:r.tag,signal:r.signal}).pipe(jt(R6),fe((e=>e.body.documents&&e.body.documents[0])))}function zhe(e,t,n,r={}){return Jx(e,t,{uri:hm(e,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal}).pipe(jt(R6),fe((e=>{const t=AQe(e.body.documents||[],(e=>e._id));return n.map((e=>t[e]||null))})))}function Uhe(e,t,n,r){return VE("createIfNotExists",n),Jk(e,t,n,"createIfNotExists",r)}function Hhe(e,t,n,r){return VE("createOrReplace",n),Jk(e,t,n,"createOrReplace",r)}function Whe(e,t,n,r){return D1(e,t,"mutate",{mutations:[{delete:jhe(n)}]},r)}function Ghe(e,t,n,r){let i;i=n instanceof up||n instanceof lp?{patch:n.serialize()}:n instanceof Zk||n instanceof Xk?n.serialize():n;return D1(e,t,"mutate",{mutations:Array.isArray(i)?i:[i],transactionId:r&&r.transactionId||void 0},r)}function Yhe(e,t,n,r){return D1(e,t,"actions",{actions:Array.isArray(n)?n:[n],transactionId:r&&r.transactionId||void 0,skipCrossDatasetReferenceValidation:r&&r.skipCrossDatasetReferenceValidation||void 0,dryRun:r&&r.dryRun||void 0},r)}function D1(e,t,n,r,i={}){const o="mutate"===n,a="actions"===n,s="query"===n,l=o||a?"":Nhe(r),u=!o&&!a&&l.length<jQe,c=u?l:"",d=i.returnFirst,{timeout:f,token:p,tag:h,headers:m,returnQuery:g,lastLiveEventId:y}=i;return Jx(e,t,{method:u?"GET":"POST",uri:hm(e,n,c),json:!0,body:u?void 0:r,query:o&&kQe(i),timeout:f,headers:m,token:p,tag:h,returnQuery:g,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(y)?y[0]:y,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn}).pipe(jt(R6),fe(TQe),fe((e=>{if(!o)return e;const t=e.results||[];if(i.returnDocuments)return d?t[0]&&t[0].document:t.map((e=>e.document));const n=d?"documentId":"documentIds",r=d?t[0]&&t[0].id:t.map((e=>e.id));return{transactionId:e.transactionId,results:t,[n]:r}})))}function Jk(e,t,n,r,i={}){return D1(e,t,"mutate",{mutations:[{[r]:n}]},Object.assign({returnFirst:!0,returnDocuments:!0},i))}function Jx(e,t,n){const r=n.url||n.uri,i=e.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&0===r.indexOf("/data/"):n.canUseCdn;let a=(n.useCdn??i.useCdn)&&o;const s=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(s&&null!==n.tag&&(n.query={tag:Rhe(s),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&0===r.indexOf("/data/query/")){const e=n.resultSourceMap??i.resultSourceMap;void 0!==e&&!1!==e&&(n.query={resultSourceMap:e,...n.query});const t=n.perspective||i.perspective;"string"==typeof t&&"raw"!==t&&(Fhe(t),n.query={perspective:t,...n.query},"previewDrafts"===t&&a&&(a=!1,gQe())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),!1===n.returnQuery&&(n.query={returnQuery:"false",...n.query})}const l=EQe(i,Object.assign({},n,{url:M6(e,r,a)})),u=new It((e=>t(l,i.requester).subscribe(e)));return n.signal?u.pipe(IQe(n.signal)):u}function zl(e,t,n){return Jx(e,t,n).pipe(jt((e=>"response"===e.type)),fe((e=>e.body)))}function hm(e,t,n){const r=e.config(),i=`/${t}/${Ohe(r)}`;return`/data${n?`${i}/${n}`:i}`.replace(/\/($|\?)/,"$1")}function M6(e,t,n=!1){const{url:r,cdnUrl:i}=e.config();return`${n?i:r}/${t.replace(/^\//,"")}`}function IQe(e){return t=>new It((n=>{const r=()=>n.error(OQe(e));if(e&&e.aborted)return void r();const i=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),i.unsubscribe()}}))}const DQe=!!globalThis.DOMException;function OQe(e){if(DQe)return new DOMException(e?.reason??"The operation was aborted.","AbortError");const t=new Error(e?.reason??"The operation was aborted.");return t.name="AbortError",t}class RQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){return qhe(this.#e,this.#t,e,t,n)}}class MQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){return gi(qhe(this.#e,this.#t,e,t,n).pipe(jt((e=>"response"===e.type)),fe((e=>e.body.document))))}}function qhe(e,t,n,r,i={}){cQe(n);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const a=Ohe(e.config()),s="image"===n?"images":"files",l=$Qe(i,r),{tag:u,label:c,title:d,description:f,creditLine:p,filename:h,source:m}=l,g={label:c,title:d,description:f,filename:h,meta:o,creditLine:p};return m&&(g.sourceId=m.id,g.sourceName=m.name,g.sourceUrl=m.url),Jx(e,t,{tag:u,method:"POST",timeout:l.timeout||0,uri:`/assets/${s}/${a}`,headers:l.contentType?{"Content-Type":l.contentType}:{},query:g,body:r})}function $Qe(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e)}var PQe=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce(((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n)),{});const FQe=(e,t)=>t.reduce(((t,n)=>(typeof e[n]>"u"||(t[n]=e[n]),t)),{}),LQe=14800,NQe=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],BQe={includeResult:!0};function Khe(e,t,n={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:a}=this.config(),s=n.tag&&a?[a,n.tag].join("."):n.tag,l={...PQe(n,BQe),tag:s},u=FQe(l,NQe),c=`${r}${hm(this,"listen",Nhe({query:e,params:t,options:{tag:s,...u}}))}`;if(c.length>LQe)return new It((e=>e.error(new Error("Query too large for listener"))));const d=l.events?l.events:["mutation"],f=-1!==d.indexOf("reconnect"),p={};return(i||o)&&(p.withCredentials=!0),i&&(p.headers={Authorization:`Bearer ${i}`}),new It((e=>{let t,n,r=!1,i=!1;function o(){r||(f&&e.next({type:"reconnect"}),!r&&t.readyState===t.CLOSED&&(u(),clearTimeout(n),n=setTimeout(h,100)))}function a(t){e.error(VQe(t))}function s(t){const n=Zhe(t);return n instanceof Error?e.error(n):e.next(n)}function l(){r=!0,u(),e.complete()}function u(){t&&(t.removeEventListener("error",o),t.removeEventListener("channelError",a),t.removeEventListener("disconnect",l),d.forEach((e=>t.removeEventListener(e,s))),t.close())}function h(){(async function(){const{default:e}=await md((async()=>{const{default:e}=await import("./browser.7KqZ-Os9.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([2,1]));if(i)return;const t=new e(c,p);return t.addEventListener("error",o),t.addEventListener("channelError",a),t.addEventListener("disconnect",l),d.forEach((e=>t.addEventListener(e,s))),t})().then((e=>{e&&(t=e,i&&u())})).catch((t=>{e.error(t),m()}))}function m(){r=!0,u(),i=!0}return h(),m}))}function Zhe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(e){return e}}function VQe(e){if(e instanceof Error)return e;const t=Zhe(e);return t instanceof Error?t:new Error(zQe(t))}function zQe(e){return e.error?e.error.description?e.error.description:"string"==typeof e.error?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}const _W="2021-03-26";class Xhe{#e;constructor(e){this.#e=e}events({includeDrafts:e=!1,tag:t}={}){const{projectId:n,apiVersion:r,token:i,withCredentials:o,requestTagPrefix:a}=this.#e.config(),s=r.replace(/^v/,"");if("X"!==s&&s<_W)throw new Error(`The live events API requires API version ${_W} or later. The current API version is ${s}. Please update your API version to use this feature.`);if(e&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");if(e&&"X"!==s)throw new Error("The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.");const l=hm(this.#e,"live/events"),u=new URL(this.#e.getUrl(l,!1)),c=t&&a?[a,t].join("."):t;c&&u.searchParams.set("tag",c),e&&u.searchParams.set("includeDrafts","true");const d=["restart","message","welcome","reconnect"],f={};return e&&i&&(f.headers={Authorization:`Bearer ${i}`}),e&&o&&(f.withCredentials=!0),new It((e=>{let t,r,i=!1,o=!1;function a(n){if(!i){if("data"in n){const t=kW(n);e.error(new Error(t.message,{cause:t}))}t.readyState===t.CLOSED&&(l(),clearTimeout(r),r=setTimeout(c,100))}}function s(t){const n=kW(t);return n instanceof Error?e.error(n):e.next(n)}function l(){if(t){t.removeEventListener("error",a);for(const e of d)t.removeEventListener(e,s);t.close()}}function c(){(async function(){const e=typeof EventSource>"u"||f.headers||f.withCredentials?(await md((async()=>{const{default:e}=await import("./browser.7KqZ-Os9.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([2,1]))).default:EventSource;if(o)return;try{if(await fetch(u,{method:"OPTIONS",mode:"cors",credentials:f.withCredentials?"include":"omit",headers:f.headers}),o)return}catch{throw new iQe({projectId:n})}const t=new e(u.toString(),f);t.addEventListener("error",a);for(const e of d)t.addEventListener(e,s);return t})().then((e=>{e&&(t=e,o&&l())})).catch((t=>{e.error(t),p()}))}function p(){i=!0,l(),o=!0}return c(),p}))}}function kW(e){try{const t=e.data&&JSON.parse(e.data)||{};return{type:e.type,id:e.lastEventId,...t}}catch(e){return e}}class UQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return Wg(this.#e,this.#t,"PUT",e,t)}edit(e,t){return Wg(this.#e,this.#t,"PATCH",e,t)}delete(e){return Wg(this.#e,this.#t,"DELETE",e)}list(){return zl(this.#e,this.#t,{uri:"/datasets",tag:null})}}class HQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return gi(Wg(this.#e,this.#t,"PUT",e,t))}edit(e,t){return gi(Wg(this.#e,this.#t,"PATCH",e,t))}delete(e){return gi(Wg(this.#e,this.#t,"DELETE",e))}list(){return gi(zl(this.#e,this.#t,{uri:"/datasets",tag:null}))}}function Wg(e,t,n,r,i){return Ihe(r),zl(e,t,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}class WQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){const t=!1===e?.includeMembers?"/projects?includeMembers=false":"/projects";return zl(this.#e,this.#t,{uri:t})}getById(e){return zl(this.#e,this.#t,{uri:`/projects/${e}`})}}class GQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){const t=!1===e?.includeMembers?"/projects?includeMembers=false":"/projects";return gi(zl(this.#e,this.#t,{uri:t}))}getById(e){return gi(zl(this.#e,this.#t,{uri:`/projects/${e}`}))}}class YQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return zl(this.#e,this.#t,{uri:`/users/${e}`})}}class qQe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return gi(zl(this.#e,this.#t,{uri:`/users/${e}`}))}}class zE{assets;datasets;live;projects;users;#e;#t;listen=Khe;constructor(e,t=Zy){this.config(t),this.#t=e,this.assets=new RQe(this,this.#t),this.datasets=new UQe(this,this.#t),this.live=new Xhe(this),this.projects=new WQe(this,this.#t),this.users=new YQe(this,this.#t)}clone(){return new zE(this.#t,this.config())}config(e){if(void 0===e)return{...this.#e};if(this.#e&&!1===this.#e.allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#e=Lhe(e,this.#e||{}),this}withConfig(e){const t=this.config();return new zE(this.#t,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return Bhe(this,this.#t,this.#e.stega,e,t,n)}getDocument(e,t){return Vhe(this,this.#t,e,t)}getDocuments(e,t){return zhe(this,this.#t,e,t)}create(e,t){return Jk(this,this.#t,e,"create",t)}createIfNotExists(e,t){return Uhe(this,this.#t,e,t)}createOrReplace(e,t){return Hhe(this,this.#t,e,t)}delete(e,t){return Whe(this,this.#t,e,t)}mutate(e,t){return Ghe(this,this.#t,e,t)}patch(e,t){return new lp(e,t,this)}transaction(e){return new Xk(e,this)}action(e,t){return Yhe(this,this.#t,e,t)}request(e){return zl(this,this.#t,e)}getUrl(e,t){return M6(this,e,t)}getDataUrl(e,t){return hm(this,e,t)}}class UE{assets;datasets;live;projects;users;observable;#e;#t;listen=Khe;constructor(e,t=Zy){this.config(t),this.#t=e,this.assets=new MQe(this,this.#t),this.datasets=new HQe(this,this.#t),this.live=new Xhe(this),this.projects=new GQe(this,this.#t),this.users=new qQe(this,this.#t),this.observable=new zE(e,t)}clone(){return new UE(this.#t,this.config())}config(e){if(void 0===e)return{...this.#e};if(this.#e&&!1===this.#e.allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#e=Lhe(e,this.#e||{}),this}withConfig(e){const t=this.config();return new UE(this.#t,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return gi(Bhe(this,this.#t,this.#e.stega,e,t,n))}getDocument(e,t){return gi(Vhe(this,this.#t,e,t))}getDocuments(e,t){return gi(zhe(this,this.#t,e,t))}create(e,t){return gi(Jk(this,this.#t,e,"create",t))}createIfNotExists(e,t){return gi(Uhe(this,this.#t,e,t))}createOrReplace(e,t){return gi(Hhe(this,this.#t,e,t))}delete(e,t){return gi(Whe(this,this.#t,e,t))}mutate(e,t){return gi(Ghe(this,this.#t,e,t))}patch(e,t){return new up(e,t,this)}transaction(e){return new Zk(e,this)}action(e,t){return gi(Yhe(this,this.#t,e,t))}request(e){return gi(zl(this,this.#t,e))}dataRequest(e,t,n){return gi(D1(this,this.#t,e,t,n))}getUrl(e,t){return M6(this,e,t)}getDataUrl(e,t){return hm(this,e,t)}}function KQe(e,t){const n=sQe(e);return{requester:n,createClient:e=>new t(((t,r)=>(r||n)({maxRedirects:0,maxRetries:e.maxRetries,retryDelay:e.retryDelay,...t})),e)}}var ZQe=[];const XQe=KQe(ZQe,UE),Jhe=XQe.createClient;var JQe=g6;function QQe(e,t){return JQe(e,t)}var eet=QQe;const bt=Be(eet);var tet=net;function net(e,t,n){if(null===e!==(null===t))return!1;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;var i=typeof e;return i===typeof t&&(aet(i)?n?n(e,t):e===t:r?ret(e,t,n):iet(e,t,n))}function ret(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function iet(e,t,n){var r=0,i=0;if(n)for(var o in e){if(e.hasOwnProperty(o)&&!n(e[o],t[o]))return!1;r++}else for(var o in e){if(e.hasOwnProperty(o)&&e[o]!==t[o])return!1;r++}for(var o in t)t.hasOwnProperty(o)&&i++;return r===i}function aet(e){return"function"!==e&&"object"!==e}const ed=Be(tet);function oet(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var UR="data-focus-lock",Qhe="data-focus-lock-disabled",set="data-no-focus-lock",uet="data-autofocus-inside",cet="data-no-autofocus";function EI(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}function det(e,t){var n=f.useState((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}var fet=typeof window<"u"?f.useLayoutEffect:f.useEffect,TW=new WeakMap;function het(e,t){var n=det(null,(function(t){return e.forEach((function(e){return EI(e,t)}))}));return fet((function(){var t=TW.get(n);if(t){var r=new Set(t),i=new Set(e),o=n.current;r.forEach((function(e){i.has(e)||EI(e,null)})),i.forEach((function(e){r.has(e)||EI(e,o)}))}TW.set(n,e)}),[e]),n}var _I={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function epe(e){return e}function tpe(e,t){void 0===t&&(t=epe);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function $6(e,t){return void 0===t&&(t=epe),tpe(e,t)}function pet(e){void 0===e&&(e={});var t=tpe(null);return t.options=NR({async:!0,ssr:!1},e),t}var npe=$6({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),rpe=$6(),met=$6(),get=pet({async:!0,ssr:typeof document<"u"}),vet=f.createContext(void 0),yet=[],P6=f.forwardRef((function(e,t){var n,r=f.useState(),i=r[0],o=r[1],a=f.useRef(),s=f.useRef(!1),l=f.useRef(null),u=f.useState({})[1],c=e.children,d=e.disabled,p=void 0!==d&&d,h=e.noFocusGuards,m=void 0!==h&&h,g=e.persistentFocus,y=void 0!==g&&g,v=e.crossFrame,b=void 0===v||v,x=e.autoFocus,w=void 0===x||x;e.allowTextSelection;var C=e.group,k=e.className,j=e.whiteList,S=e.hasPositiveIndices,E=e.shards,_=void 0===E?yet:E,A=e.as,T=void 0===A?"div":A,D=e.lockProps,M=void 0===D?{}:D,I=e.sideCar,O=e.returnFocus,N=void 0!==O&&O,P=e.focusOptions,R=e.onActivation,F=e.onDeactivation,L=f.useState({})[0],$=f.useCallback((function(e){var t=e.captureFocusRestore;if(!l.current){var n,r=null==(n=document)?void 0:n.activeElement;l.current=r,r!==document.body&&(l.current=t(r))}a.current&&R&&R(a.current),s.current=!0,u()}),[R]),B=f.useCallback((function(){s.current=!1,F&&F(a.current),u()}),[F]),V=f.useCallback((function(e){var t=l.current;if(t){var n=("function"==typeof t?t():t)||document.body,r="function"==typeof N?N(n):N;if(r){var i="object"==typeof r?r:void 0;l.current=null,e?Promise.resolve().then((function(){return n.focus(i)})):n.focus(i)}}}),[N]),z=f.useCallback((function(e){s.current&&npe.useMedium(e)}),[]),U=rpe.useMedium,H=f.useCallback((function(e){a.current!==e&&(a.current=e,o(e))}),[]),W=Qc(((n={})[Qhe]=p&&"disabled",n[UR]=C,n),M),q=!0!==m,G=q&&"tail"!==m,Y=het([t,H]),K=f.useMemo((function(){return{observed:a,shards:_,enabled:!p,active:s.current}}),[p,s.current,_,i]);return f.createElement(f.Fragment,null,q&&[f.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:_I}),S?f.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:_I}):null],!p&&f.createElement(I,{id:L,sideCar:get,observed:i,disabled:p,persistentFocus:y,crossFrame:b,autoFocus:w,whiteList:j,shards:_,onActivation:$,onDeactivation:B,returnFocus:V,focusOptions:P,noFocusGuards:m}),f.createElement(T,Qc({ref:Y},W,{className:k,onBlur:U,onFocus:z}),f.createElement(vet.Provider,{value:K},c)),G&&f.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:_I}))}));function HE(e,t){return(HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bet(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,HE(e,t)}function Ul(e){return(Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xet(e,t){if("object"!=Ul(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ipe(e){var t=xet(e,"string");return"symbol"==Ul(t)?t:t+""}function Je(e,t,n){return(t=ipe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wet(e,t){return function(n){var r,i=[];function o(){r=e(i.map((function(e){return e.props}))),t(r)}var a,s=function(e){function t(){return e.apply(this,arguments)||this}bet(t,e),t.peek=function(){return r};var a=t.prototype;return a.componentDidMount=function(){i.push(this),o()},a.componentDidUpdate=function(){o()},a.componentWillUnmount=function(){var e=i.indexOf(this);i.splice(e,1),o()},a.render=function(){return Ke.createElement(n,this.props)},t}(f.PureComponent);return Je(s,"displayName","SideEffect("+(((a=n).displayName||a.name||"Component")+")")),s}}P6.propTypes={};var Yu=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Op=function(e){return Array.isArray(e)?e:[e]},ape=function(e){return Array.isArray(e)?e[0]:e},Cet=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))},ope=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},spe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Eet=function(e){return e.hasAttribute("inert")},_et=function(e,t){return!e||spe(e)||!Cet(e)&&!Eet(e)&&t(ope(e))},lpe=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=_et(t,lpe.bind(void 0,e));return e.set(t,r),r},ket=function(e,t){return!(e&&!spe(e))||!!jet(e)&&t(ope(e))},upe=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=ket(t,upe.bind(void 0,e));return e.set(t,r),r},cpe=function(e){return e.dataset},Tet=function(e){return"BUTTON"===e.tagName},dpe=function(e){return"INPUT"===e.tagName},fpe=function(e){return dpe(e)&&"radio"===e.type},Aet=function(e){return!((dpe(e)||Tet(e))&&("hidden"===e.type||e.disabled))},jet=function(e){var t=e.getAttribute(cet);return![!0,"true",""].includes(t)},F6=function(e){var t;return!(!e||null===(t=cpe(e))||void 0===t||!t.focusGuard)},HR=function(e){return!F6(e)},Iet=function(e){return!!e},Det=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},Oet=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},L6=function(e,t,n){return Yu(e).map((function(e,t){var r=Oet(e);return{node:e,index:t,tabIndex:n&&-1===r?(e.dataset||{}).focusGuard?0:-1:r}})).filter((function(e){return!t||e.tabIndex>=0})).sort(Det)},Ret=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],N6=Ret.join(","),Met="".concat(N6,", [data-focus-guard]"),hpe=function(e,t){return Yu((e.shadowRoot||e).children).reduce((function(e,n){return e.concat(n.matches(t?Met:N6)?[n]:[],hpe(n))}),[])},$et=function(e,t){var n;return e instanceof HTMLIFrameElement&&null!==(n=e.contentDocument)&&void 0!==n&&n.body?_0([e.contentDocument.body],t):[e]},_0=function(e,t){return e.reduce((function(e,n){var r,i=hpe(n,t),o=(r=[]).concat.apply(r,i.map((function(e){return $et(e,t)})));return e.concat(o,n.parentNode?Yu(n.parentNode.querySelectorAll(N6)).filter((function(e){return e===n})):[])}),[])},Pet=function(e){var t=e.querySelectorAll("[".concat(uet,"]"));return Yu(t).map((function(e){return _0([e])})).reduce((function(e,t){return e.concat(t)}),[])},B6=function(e,t){return Yu(e).filter((function(e){return lpe(t,e)})).filter((function(e){return Aet(e)}))},AW=function(e,t){return void 0===t&&(t=new Map),Yu(e).filter((function(e){return upe(t,e)}))},V6=function(e,t,n){return L6(B6(_0(e,n),t),!0,n)},Ab=function(e,t){return L6(B6(_0(e),t),!1)},Fet=function(e,t){return B6(Pet(e),t)},cp=function(e,t){return e.shadowRoot?cp(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||Yu(e.children).some((function(e){var n;if(e instanceof HTMLIFrameElement){var r=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!r&&cp(r,t)}return cp(e,t)}))},Let=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))},ppe=function(e){return e.parentNode?ppe(e.parentNode):e},z6=function(e){return Op(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(UR);return e.push.apply(e,n?Let(Yu(ppe(t).querySelectorAll("[".concat(UR,'="').concat(n,'"]:not([').concat(Qhe,'="disabled"])')))):[t]),e}),[])},Net=function(e){try{return e()}catch{return}},jb=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?jb(t.shadowRoot):t instanceof HTMLIFrameElement&&Net((function(){return t.contentWindow.document}))?jb(t.contentWindow.document):t}},Bet=function(e,t){return e===t},Vet=function(e,t){return!!Yu(e.querySelectorAll("iframe")).some((function(e){return Bet(e,t)}))},mpe=function(e,t){return void 0===t&&(t=jb(ape(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&z6(e).some((function(e){return cp(e,t)||Vet(e,t)}))},zet=function(e){void 0===e&&(e=document);var t=jb(e);return!!t&&Yu(e.querySelectorAll("[".concat(set,"]"))).some((function(e){return cp(e,t)}))},Uet=function(e,t){return t.filter(fpe).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e},U6=function(e,t){return fpe(e)&&e.name?Uet(e,t):e},Het=function(e){var t=new Set;return e.forEach((function(n){return t.add(U6(n,e))})),e.filter((function(e){return t.has(e)}))},jW=function(e){return e[0]&&e.length>1?U6(e[0],e):e[0]},IW=function(e,t){return e.indexOf(U6(t,e))},WR="NEW_FOCUS",Wet=function(e,t,n,r,i){var o=e.length,a=e[0],s=e[o-1],l=F6(r);if(!(r&&e.indexOf(r)>=0)){var u=void 0!==r?n.indexOf(r):-1,c=i?n.indexOf(i):u,d=i?e.indexOf(i):-1;if(-1===u)return-1!==d?d:WR;if(-1===d)return WR;var f=u-c,p=n.indexOf(a),h=n.indexOf(s),m=Het(n),g=(void 0!==r?m.indexOf(r):-1)-(i?m.indexOf(i):u);if(!f&&d>=0||0===t.length)return d;var y=IW(e,t[0]),v=IW(e,t[t.length-1]);if(u<=p&&l&&Math.abs(f)>1)return v;if(u>=h&&l&&Math.abs(f)>1)return y;if(f&&Math.abs(g)>1)return d;if(u<=p)return v;if(u>h)return y;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Get=function(e){return function(t){var n,r=null===(n=cpe(t))||void 0===n?void 0:n.autofocus;return t.autofocus||void 0!==r&&"false"!==r||e.indexOf(t)>=0}},DW=function(e,t,n){var r=e.map((function(e){return e.node})),i=AW(r.filter(Get(n)));return i&&i.length?jW(i):jW(AW(t))},GR=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&GR(e.parentNode.host||e.parentNode,t),t},kI=function(e,t){for(var n=GR(e),r=GR(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},gpe=function(e,t,n){var r=Op(e),i=Op(t),o=r[0],a=!1;return i.filter(Boolean).forEach((function(e){a=kI(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=kI(o,e);t&&(a=!a||cp(t,a)?t:kI(t,a))}))})),a},OW=function(e,t){return e.reduce((function(e,n){return e.concat(Fet(n,t))}),[])},Yet=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(Iet)},qet=function(e,t){var n=jb(Op(e).length>0?document:ape(e).ownerDocument),r=z6(e).filter(HR),i=gpe(n||e,e,r),o=new Map,a=Ab(r,o),s=a.filter((function(e){var t=e.node;return HR(t)}));if(s[0]){var l=Ab([i],o).map((function(e){return e.node})),u=Yet(l,s),c=u.map((function(e){return e.node})),d=u.filter((function(e){return e.tabIndex>=0})).map((function(e){return e.node})),f=Wet(c,d,l,n,t);if(f===WR){var p=DW(a,d,OW(r,o))||DW(a,c,OW(r,o));return p?{node:p}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===f?f:u[f]}},Ket=function(e){var t=z6(e).filter(HR),n=gpe(e,e,t),r=L6(_0([n],!0),!0,!0),i=_0(t,!1);return r.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:F6(t)}}))},H6=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},TI=0,AI=!1,vpe=function(e,t,n){void 0===n&&(n={});var r=qet(e,t);if(!AI&&r){if(TI>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),AI=!0,void setTimeout((function(){AI=!1}),1);TI++,H6(r.node,n.focusOptions),TI--}};function kv(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return t?.deref()||null}}var Zet=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:kv(n),parent:kv(n.parentElement),left:kv(n.previousElementSibling),right:kv(n.nextElementSibling)}),n=n.parentElement;return{element:kv(e),stack:t,ownerDocument:e.ownerDocument}},Xet=function(e){var t,n,r,i,o;if(e)for(var a=e.stack,s=e.ownerDocument,l=new Map,u=0,c=a;u<c.length;u++){var d=c[u],f=null===(t=d.parent)||void 0===t?void 0:t.call(d);if(f&&s.contains(f)){for(var p=null===(n=d.left)||void 0===n?void 0:n.call(d),h=d.current(),m=f.contains(h)?h:void 0,g=null===(r=d.right)||void 0===r?void 0:r.call(d),y=V6([f],l),v=null!==(o=null!==(i=m??p?.nextElementSibling)&&void 0!==i?i:g)&&void 0!==o?o:p;v;){for(var b=0,x=y;b<x.length;b++){var w=x[b];if(v?.contains(w.node))return w.node}v=v.nextElementSibling}if(y.length)return y[0].node}}},ype=function(e){var t=Zet(e);return function(){return Xet(t)}},Jet=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=Op(t);if(r.every((function(t){return!cp(t,e)})))return console.error("Active element is not contained in the scope"),{};var i=n?V6(r,new Map):Ab(r,new Map),o=i.findIndex((function(t){return t.node===e}));return-1!==o?{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}:void 0},Qet=function(e,t){var n=t?V6(Op(e),new Map):Ab(Op(e),new Map);return{first:n[0],last:n[n.length-1]}},ett=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},bpe=function(e,t,n){void 0===t&&(t={});var r=ett(t),i=Jet(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&H6(o.node,r.focusOptions)}},ttt=function(e,t){void 0===t&&(t={}),bpe(e,t,(function(e,t){var n=e.next,r=e.first;return n||t&&r}))},ntt=function(e,t){void 0===t&&(t={}),bpe(e,t,(function(e,t){var n=e.prev,r=e.last;return n||t&&r}))},xpe=function(e,t,n){var r,i=Qet(e,null===(r=t.onlyTabbable)||void 0===r||r)[n];i&&H6(i.node,t.focusOptions)},rtt=function(e,t){void 0===t&&(t={}),xpe(e,t,"first")},itt=function(e,t){void 0===t&&(t={}),xpe(e,t,"last")};function W6(e){setTimeout(e,1)}var att=function(e){return e&&"current"in e?e.current:e},wpe=function(){return document&&document.activeElement===document.body},ott=function(){return wpe()||zet()},Gg=null,Xo=null,RW=function(){return null},Yg=null,Ib=!1,G6=!1,stt=function(){return!0},ltt=function(e){return(Gg.whiteList||stt)(e)},utt=function(e,t){Yg={observerNode:e,portaledElement:t}},ctt=function(e){return Yg&&Yg.portaledElement===e};function MW(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==e)return;i=null}}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var dtt=function(e){return e?!!Ib:"meanwhile"===Ib},ftt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},htt=function(e,t){return t.some((function(t){return ftt(e,t,t)}))},Cpe=function(e){return Ab(e,new Map)},ptt=function(e){return!Cpe([e.parentNode]).some((function(t){return t.node===e}))},WE=function(){var e=!1;if(Gg){var t=Gg,n=t.observed,r=t.persistentFocus,i=t.autoFocus,o=t.shards,a=t.crossFrame,s=t.focusOptions,l=t.noFocusGuards,u=n||Yg&&Yg.portaledElement;if(wpe()&&Xo&&(!document.body.contains(Xo)||ptt(Xo))){Xo=null;var c=RW();c&&c.focus()}var d=document&&document.activeElement;if(u){var f=[u].concat(o.map(att).filter(Boolean));if((!d||ltt(d))&&(r||function(){if(!dtt(a)||!l||!Xo||G6)return!1;var e=Cpe(f),t=e.findIndex((function(e){return e.node===Xo}));return 0===t||t===e.length-1}()||!ott()||!Xo&&i)&&(u&&!(mpe(f)||d&&htt(d,f)||ctt(d))&&(document&&!Xo&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(e=vpe(f,Xo,{focusOptions:s}),Yg={})),Ib=!1,Xo=document&&document.activeElement,RW=ype(Xo)),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,h=Ket(f),m=h.map((function(e){return e.node})).indexOf(p);m>-1&&(h.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),MW(m,h.length,1,h),MW(m,-1,-1,h))}}}return e},Spe=function(e){WE()&&e&&(e.stopPropagation(),e.preventDefault())},Y6=function(){return W6(WE)},mtt=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||utt(n,t)},gtt=function(){return null},Epe=function(){G6=!0},_pe=function(){G6=!1,Ib="just",W6((function(){Ib="meanwhile"}))},vtt=function(){document.addEventListener("focusin",Spe),document.addEventListener("focusout",Y6),window.addEventListener("focus",Epe),window.addEventListener("blur",_pe)},ytt=function(){document.removeEventListener("focusin",Spe),document.removeEventListener("focusout",Y6),window.removeEventListener("focus",Epe),window.removeEventListener("blur",_pe)};function btt(e){return e.filter((function(e){return!e.disabled}))}var kpe={moveFocusInside:vpe,focusInside:mpe,focusNextElement:ttt,focusPrevElement:ntt,focusFirstElement:rtt,focusLastElement:itt,captureFocusRestore:ype};function xtt(e){var t=e.slice(-1)[0];t&&!Gg&&vtt();var n=Gg,r=n&&t&&t.id===n.id;Gg=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(Xo=null,(!r||n.observed!==t.observed)&&t.onActivation(kpe),WE(),W6(WE)):(ytt(),Xo=null)}npe.assignSyncMedium(mtt),rpe.assignMedium(Y6),met.assignMedium((function(e){return e(kpe)}));const wtt=wet(btt,xtt)(gtt);var fl=f.forwardRef((function(e,t){return f.createElement(P6,Qc({sideCar:wtt,ref:t},e))})),Tpe=P6.propTypes||{};function Ape(e){const t=$u(e),[n,r]=f.useState(t),{defaultDpr:i,maxDpr:o,round:a}={};return f.useEffect((()=>{if(!(typeof window<"u"&&"matchMedia"in window))return;const e=()=>r($u({defaultDpr:i,maxDpr:o,round:a})),t=window.matchMedia(`screen and (resolution: ${n}dppx)`);return t.addEventListener?t.addEventListener("change",e):t.addListener(e),()=>{t.removeEventListener?t.removeEventListener("change",e):t.removeListener(e)}}),[n,i,o,a]),n}function $u(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}Tpe.sideCar,oet(Tpe,["sideCar"]),fl.propTypes={};var Ctt=dl,Stt=0;function Ett(e){var t=++Stt;return Ctt(e)+t}var _tt=Ett;const jpe=Be(_tt);function ktt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Ttt=ktt,$W=jfe;function Att(e,t,n){"__proto__"==t&&$W?$W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Qk=Att,jtt=Qk,Itt=Gx,Dtt=Object.prototype,Ott=Dtt.hasOwnProperty;function Rtt(e,t,n){var r=e[t];(!Ott.call(e,t)||!Itt(r,n)||void 0===n&&!(t in e))&&jtt(e,t,n)}var q6=Rtt,Mtt=q6,$tt=Qk;function Ptt(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?$tt(n,s,l):Mtt(n,s,l)}return n}var pm=Ptt,Ftt=pm,Ltt=Ed;function Ntt(e,t){return e&&Ftt(t,Ltt(t),e)}var Btt=Ntt;function Vtt(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var ztt=Vtt,Utt=sl,Htt=Vk,Wtt=ztt,Gtt=Object.prototype,Ytt=Gtt.hasOwnProperty;function qtt(e){if(!Utt(e))return Wtt(e);var t=Htt(e),n=[];for(var r in e)"constructor"==r&&(t||!Ytt.call(e,r))||n.push(r);return n}var Ktt=qtt,Ztt=dfe,Xtt=Ktt,Jtt=Xf;function Qtt(e){return Jtt(e)?Ztt(e,!0):Xtt(e)}var eT=Qtt,ent=pm,tnt=eT;function nnt(e,t){return e&&ent(t,tnt(t),e)}var rnt=nnt,GE={exports:{}};GE.exports,function(e,t){var n=ll,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(GE,GE.exports);var int=GE.exports;function ant(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var K6=ant,ont=pm,snt=f6;function lnt(e,t){return ont(e,snt(e),t)}var unt=lnt,cnt=ffe,dnt=cnt(Object.getPrototypeOf,Object),Z6=dnt,fnt=a6,hnt=Z6,pnt=f6,mnt=cfe,gnt=Object.getOwnPropertySymbols,vnt=gnt?function(e){for(var t=[];e;)fnt(t,pnt(e)),e=hnt(e);return t}:mnt,Ipe=vnt,ynt=pm,bnt=vnt;function xnt(e,t){return ynt(e,bnt(e),t)}var wnt=xnt,Cnt=lfe,Snt=vnt,Ent=eT;function _nt(e){return Cnt(e,Ent,Snt)}var X6=_nt,knt=Object.prototype,Tnt=knt.hasOwnProperty;function Ant(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Tnt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jnt=Ant,PW=sfe;function Int(e){var t=new e.constructor(e.byteLength);return new PW(t).set(new PW(e)),t}var J6=Int,Dnt=J6;function Ont(e,t){var n=t?Dnt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Rnt=Ont,Mnt=/\w*$/;function $nt(e){var t=new e.constructor(e.source,Mnt.exec(e));return t.lastIndex=e.lastIndex,t}var Pnt=$nt,FW=t1,LW=t1?t1.prototype:void 0,NW=LW?LW.valueOf:void 0;function Fnt(e){return NW?Object(NW.call(e)):{}}var Lnt=Fnt,Nnt=J6;function Bnt(e,t){var n=t?Nnt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Vnt=Bnt,znt=J6,Unt=Rnt,Hnt=Pnt,Wnt=Lnt,Gnt=Vnt,Ynt="[object Boolean]",qnt="[object Date]",Knt="[object Map]",Znt="[object Number]",Xnt="[object RegExp]",Jnt="[object Set]",Qnt="[object String]",ert="[object Symbol]",trt="[object ArrayBuffer]",nrt="[object DataView]",rrt="[object Float32Array]",irt="[object Float64Array]",art="[object Int8Array]",ort="[object Int16Array]",srt="[object Int32Array]",lrt="[object Uint8Array]",urt="[object Uint8ClampedArray]",crt="[object Uint16Array]",drt="[object Uint32Array]";function frt(e,t,n){var r=e.constructor;switch(t){case trt:return znt(e);case Ynt:case qnt:return new r(+e);case nrt:return Unt(e,n);case rrt:case irt:case art:case ort:case srt:case lrt:case urt:case crt:case drt:return Gnt(e,n);case Knt:return new r;case Znt:case Qnt:return new r(e);case Xnt:return Hnt(e);case Jnt:return new r;case ert:return Wnt(e)}}var hrt=frt,prt=sl,BW=Object.create,mrt=function(){function e(){}return function(t){if(!prt(t))return{};if(BW)return BW(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Q6=mrt,grt=Q6,vrt=Z6,yrt=Vk;function brt(e){return"function"!=typeof e.constructor||yrt(e)?{}:grt(vrt(e))}var xrt=brt,wrt=qx,Crt=bs,Srt="[object Map]";function Ert(e){return Crt(e)&&wrt(e)==Srt}var _rt=Ert,krt=_rt,Trt=A1,VW=p6,zW=p6&&p6.isMap,Art=zW?Trt(zW):krt,jrt=Art,Irt=qx,Drt=bs,Ort="[object Set]";function Rrt(e){return Drt(e)&&Irt(e)==Ort}var Mrt=Rrt,$rt=Mrt,Prt=A1,UW=p6,HW=p6&&p6.isSet,Frt=HW?Prt(HW):$rt,Lrt=Frt,Nrt=c6,Brt=Ttt,Vrt=q6,zrt=Btt,Urt=rnt,Hrt=int,Wrt=K6,Grt=unt,Yrt=wnt,qrt=pfe,Krt=X6,Zrt=qx,Xrt=jnt,Jrt=hrt,Qrt=xrt,eit=Ei,tit=Nk,nit=jrt,rit=sl,iit=Lrt,ait=Ed,oit=eT,sit=1,lit=2,uit=4,Dpe="[object Arguments]",cit="[object Array]",dit="[object Boolean]",fit="[object Date]",hit="[object Error]",Ope="[object Function]",pit="[object GeneratorFunction]",mit="[object Map]",git="[object Number]",Rpe="[object Object]",vit="[object RegExp]",yit="[object Set]",bit="[object String]",xit="[object Symbol]",wit="[object WeakMap]",Cit="[object ArrayBuffer]",Sit="[object DataView]",Eit="[object Float32Array]",_it="[object Float64Array]",kit="[object Int8Array]",Tit="[object Int16Array]",Ait="[object Int32Array]",jit="[object Uint8Array]",Iit="[object Uint8ClampedArray]",Dit="[object Uint16Array]",Oit="[object Uint32Array]",Cr={};function wS(e,t,n,r,i,o){var a,s=t&sit,l=t&lit,u=t&uit;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!rit(e))return e;var c=eit(e);if(c){if(a=Xrt(e),!s)return Wrt(e,a)}else{var d=Zrt(e),f=d==Ope||d==pit;if(tit(e))return Hrt(e,s);if(d==Rpe||d==Dpe||f&&!i){if(a=l||f?{}:Qrt(e),!s)return l?Yrt(e,Urt(a,e)):Grt(e,zrt(a,e))}else{if(!Cr[d])return i?e:{};a=Jrt(e,d,s)}}o||(o=new Nrt);var p=o.get(e);if(p)return p;o.set(e,a),iit(e)?e.forEach((function(r){a.add(wS(r,t,n,r,e,o))})):nit(e)&&e.forEach((function(r,i){a.set(i,wS(r,t,n,i,e,o))}));var h=c?void 0:(u?l?Krt:qrt:l?oit:ait)(e);return Brt(h||e,(function(r,i){h&&(r=e[i=r]),Vrt(a,i,wS(r,t,n,i,e,o))})),a}Cr[Dpe]=Cr[cit]=Cr[Cit]=Cr[Sit]=Cr[dit]=Cr[fit]=Cr[Eit]=Cr[_it]=Cr[kit]=Cr[Tit]=Cr[Ait]=Cr[mit]=Cr[git]=Cr[Rpe]=Cr[vit]=Cr[yit]=Cr[bit]=Cr[xit]=Cr[jit]=Cr[Iit]=Cr[Dit]=Cr[Oit]=!0,Cr[hit]=Cr[Ope]=Cr[wit]=!1;var eN=wS,Rit=eN,Mit=1,$it=4;function Pit(e){return Rit(e,Mit|$it)}var Fit=Pit;const Lit=Be(Fit);var Nit=vd,Bit=Z6,Vit=bs,zit="[object Object]",Uit=Function.prototype,Hit=Object.prototype,Mpe=Uit.toString,Wit=Hit.hasOwnProperty,Git=Mpe.call(Object);function Yit(e){if(!Vit(e)||Nit(e)!=zit)return!1;var t=Bit(e);if(null===t)return!0;var n=Wit.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Mpe.call(n)==Git}var tN=Yit;const ar=Be(tN);var $pe,YR;function Ze(){return $pe.apply(null,arguments)}function qit(e){$pe=e}function Hl(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function dp(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nN(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(Mn(e,t))return!1;return!0}function Io(e){return void 0===e}function td(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Qx(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Ppe(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function uf(e,t){for(var n in t)Mn(t,n)&&(e[n]=t[n]);return Mn(t,"toString")&&(e.toString=t.toString),Mn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function qu(e,t,n,r){return ame(e,t,n,r,!0).utc()}function Kit(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Wt(e){return null==e._pf&&(e._pf=Kit()),e._pf}function rN(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=Wt(e),n=YR.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function tT(e){var t=qu(NaN);return null!=e?uf(Wt(t),e):Wt(t).userInvalidated=!0,t}YR=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var WW=Ze.momentProperties=[],jI=!1;function iN(e,t){var n,r,i,o=WW.length;if(Io(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Io(t._i)||(e._i=t._i),Io(t._f)||(e._f=t._f),Io(t._l)||(e._l=t._l),Io(t._strict)||(e._strict=t._strict),Io(t._tzm)||(e._tzm=t._tzm),Io(t._isUTC)||(e._isUTC=t._isUTC),Io(t._offset)||(e._offset=t._offset),Io(t._pf)||(e._pf=Wt(t)),Io(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)Io(i=t[r=WW[n]])||(e[r]=i);return e}function ew(e){iN(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===jI&&(jI=!0,Ze.updateOffset(this),jI=!1)}function Wl(e){return e instanceof ew||null!=e&&null!=e._isAMomentObject}function Fpe(e){!1===Ze.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function hl(e,t){var n=!0;return uf((function(){if(null!=Ze.deprecationHandler&&Ze.deprecationHandler(null,e),n){var r,i,o,a=[],s=arguments.length;for(i=0;i<s;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])Mn(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];a.push(r)}Fpe(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var KR,GW={};function Lpe(e,t){null!=Ze.deprecationHandler&&Ze.deprecationHandler(e,t),GW[e]||(Fpe(t),GW[e]=!0)}function Ku(e){return typeof Function<"u"&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Zit(e){var t,n;for(n in e)Mn(e,n)&&(Ku(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qR(e,t){var n,r=uf({},e);for(n in t)Mn(t,n)&&(dp(e[n])&&dp(t[n])?(r[n]={},uf(r[n],e[n]),uf(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)Mn(e,n)&&!Mn(t,n)&&dp(e[n])&&(r[n]=uf({},r[n]));return r}function aN(e){null!=e&&this.set(e)}Ze.suppressDeprecationWarnings=!1,Ze.deprecationHandler=null,KR=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)Mn(e,t)&&n.push(t);return n};var Xit={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Jit(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Ku(r)?r.call(t,n):r}function Pu(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var oN=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,IC=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,II={},qg={};function vt(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(qg[e]=i),t&&(qg[t[0]]=function(){return Pu(i.apply(this,arguments),t[1],t[2])}),n&&(qg[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Qit(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function eat(e){var t,n,r=e.match(oN);for(t=0,n=r.length;t<n;t++)qg[r[t]]?r[t]=qg[r[t]]:r[t]=Qit(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=Ku(r[i])?r[i].call(t,e):r[i];return o}}function CS(e,t){return e.isValid()?(t=Npe(t,e.localeData()),II[t]=II[t]||eat(t),II[t](e)):e.localeData().invalidDate()}function Npe(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(IC.lastIndex=0;n>=0&&IC.test(e);)e=e.replace(IC,r),IC.lastIndex=0,n-=1;return e}var tat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nat(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(oN).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var rat="Invalid date";function iat(){return this._invalidDate}var aat="%d",oat=/\d{1,2}/;function sat(e){return this._ordinal.replace("%d",e)}var lat={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function uat(e,t,n,r){var i=this._relativeTime[n];return Ku(i)?i(e,t,n,r):i.replace(/%d/i,e)}function cat(e,t){var n=this._relativeTime[e>0?"future":"past"];return Ku(n)?n(t):n.replace(/%s/i,t)}var YW={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function pl(e){return"string"==typeof e?YW[e]||YW[e.toLowerCase()]:void 0}function sN(e){var t,n,r={};for(n in e)Mn(e,n)&&((t=pl(n))&&(r[t]=e[n]));return r}var dat={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function fat(e){var t,n=[];for(t in e)Mn(e,t)&&n.push({unit:t,priority:dat[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var YE,Bpe=/\d/,Cs=/\d\d/,Vpe=/\d{3}/,lN=/\d{4}/,nT=/[+-]?\d{6}/,Hr=/\d\d?/,zpe=/\d\d\d\d?/,Upe=/\d\d\d\d\d\d?/,rT=/\d{1,3}/,uN=/\d{1,4}/,iT=/[+-]?\d{1,6}/,O1=/\d+/,aT=/[+-]?\d+/,hat=/Z|[+-]\d\d:?\d\d/gi,oT=/Z|[+-]\d\d(?::?\d\d)?/gi,pat=/[+-]?\d+(\.\d{1,3})?/,tw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,R1=/^[1-9]\d?/,cN=/^([1-9]\d|\d)/;function it(e,t,n){YE[e]=Ku(t)?t:function(e,r){return e&&n?n:t}}function mat(e,t){return Mn(YE,e)?YE[e](t._strict,t._locale):new RegExp(gat(e))}function gat(e){return Uc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Uc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ps(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function dn(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ps(t)),n}YE={};var ZR={};function sr(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),td(t)&&(i=function(e,n){n[t]=dn(e)}),r=e.length,n=0;n<r;n++)ZR[e[n]]=i}function nw(e,t){sr(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function vat(e,t,n){null!=t&&Mn(ZR,e)&&ZR[e](t,n._a,n,e)}function sT(e){return e%4==0&&e%100!=0||e%400==0}var Ya=0,Mc=1,pu=2,Ji=3,Il=4,$c=5,Hh=6,yat=7,bat=8;function Xy(e){return sT(e)?366:365}vt("Y",0,0,(function(){var e=this.year();return e<=9999?Pu(e,4):"+"+e})),vt(0,["YY",2],0,(function(){return this.year()%100})),vt(0,["YYYY",4],0,"year"),vt(0,["YYYYY",5],0,"year"),vt(0,["YYYYYY",6,!0],0,"year"),it("Y",aT),it("YY",Hr,Cs),it("YYYY",uN,lN),it("YYYYY",iT,nT),it("YYYYYY",iT,nT),sr(["YYYYY","YYYYYY"],Ya),sr("YYYY",(function(e,t){t[Ya]=2===e.length?Ze.parseTwoDigitYear(e):dn(e)})),sr("YY",(function(e,t){t[Ya]=Ze.parseTwoDigitYear(e)})),sr("Y",(function(e,t){t[Ya]=parseInt(e,10)})),Ze.parseTwoDigitYear=function(e){return dn(e)+(dn(e)>68?1900:2e3)};var mi,Hpe=M1("FullYear",!0);function xat(){return sT(this.year())}function M1(e,t){return function(n){return null!=n?(Wpe(this,e,n),Ze.updateOffset(this,t),this):Db(this,e)}}function Db(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Wpe(e,t,n){var r,i,o,a,s;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=e.month(),s=29!==(s=e.date())||1!==a||sT(o)?s:28,i?r.setUTCFullYear(o,a,s):r.setFullYear(o,a,s)}}function wat(e){return Ku(this[e=pl(e)])?this[e]():this}function Cat(e,t){if("object"==typeof e){var n,r=fat(e=sN(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(Ku(this[e=pl(e)]))return this[e](t);return this}function Sat(e,t){return(e%t+t)%t}function dN(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Sat(t,12);return e+=(t-n)/12,1===n?sT(e)?29:28:31-n%7%2}mi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},vt("M",["MM",2],"Mo",(function(){return this.month()+1})),vt("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),vt("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),it("M",Hr,R1),it("MM",Hr,Cs),it("MMM",(function(e,t){return t.monthsShortRegex(e)})),it("MMMM",(function(e,t){return t.monthsRegex(e)})),sr(["M","MM"],(function(e,t){t[Mc]=dn(e)-1})),sr(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Mc]=i:Wt(n).invalidMonth=e}));var Eat="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gpe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ype=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_at=tw,kat=tw;function Tat(e,t){return e?Hl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ype).test(t)?"format":"standalone"][e.month()]:Hl(this._months)?this._months:this._months.standalone}function Aat(e,t){return e?Hl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ype.test(t)?"format":"standalone"][e.month()]:Hl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function jat(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=qu([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=mi.call(this._shortMonthsParse,a))?i:null:-1!==(i=mi.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=mi.call(this._shortMonthsParse,a))?i:-1!==(i=mi.call(this._longMonthsParse,a))?i:null:-1!==(i=mi.call(this._longMonthsParse,a))?i:-1!==(i=mi.call(this._shortMonthsParse,a))?i:null}function Iat(e,t,n){var r,i,o;if(this._monthsParseExact)return jat.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=qu([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function qpe(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=dn(t);else if(!td(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,dN(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function Kpe(e){return null!=e?(qpe(this,e),Ze.updateOffset(this,!0),this):Db(this,"Month")}function Dat(){return dN(this.year(),this.month())}function Oat(e){return this._monthsParseExact?(Mn(this,"_monthsRegex")||Zpe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Mn(this,"_monthsShortRegex")||(this._monthsShortRegex=_at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Rat(e){return this._monthsParseExact?(Mn(this,"_monthsRegex")||Zpe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Mn(this,"_monthsRegex")||(this._monthsRegex=kat),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Zpe(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],a=[],s=[];for(t=0;t<12;t++)n=qu([2e3,t]),r=Uc(this.monthsShort(n,"")),i=Uc(this.months(n,"")),o.push(r),a.push(i),s.push(i),s.push(r);o.sort(e),a.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Mat(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function Ob(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function qE(e,t,n){var r=7+t-n;return-((7+Ob(e,0,r).getUTCDay()-t)%7)+r-1}function Xpe(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+qE(e,r,i);return s<=0?a=Xy(o=e-1)+s:s>Xy(e)?(o=e+1,a=s-Xy(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Rb(e,t,n){var r,i,o=qE(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Hc(i=e.year()-1,t,n):a>Hc(e.year(),t,n)?(r=a-Hc(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Hc(e,t,n){var r=qE(e,t,n),i=qE(e+1,t,n);return(Xy(e)-r+i)/7}function $at(e){return Rb(e,this._week.dow,this._week.doy).week}vt("w",["ww",2],"wo","week"),vt("W",["WW",2],"Wo","isoWeek"),it("w",Hr,R1),it("ww",Hr,Cs),it("W",Hr,R1),it("WW",Hr,Cs),nw(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=dn(e)}));var Pat={dow:0,doy:6};function Fat(){return this._week.dow}function Lat(){return this._week.doy}function Nat(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Bat(e){var t=Rb(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Vat(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function zat(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function fN(e,t){return e.slice(t,7).concat(e.slice(0,t))}vt("d",0,"do","day"),vt("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),vt("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),vt("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),vt("e",0,0,"weekday"),vt("E",0,0,"isoWeekday"),it("d",Hr),it("e",Hr),it("E",Hr),it("dd",(function(e,t){return t.weekdaysMinRegex(e)})),it("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),it("dddd",(function(e,t){return t.weekdaysRegex(e)})),nw(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:Wt(n).invalidWeekday=e})),nw(["d","e","E"],(function(e,t,n,r){t[r]=dn(e)}));var Uat="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jpe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hat="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Wat=tw,Gat=tw,Yat=tw;function qat(e,t){var n=Hl(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?fN(n,this._week.dow):e?n[e.day()]:n}function Kat(e){return!0===e?fN(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Zat(e){return!0===e?fN(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Xat(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=qu([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=mi.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=mi.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=mi.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=mi.call(this._weekdaysParse,a))||-1!==(i=mi.call(this._shortWeekdaysParse,a))?i:-1!==(i=mi.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=mi.call(this._shortWeekdaysParse,a))||-1!==(i=mi.call(this._weekdaysParse,a))?i:-1!==(i=mi.call(this._minWeekdaysParse,a))?i:null:-1!==(i=mi.call(this._minWeekdaysParse,a))||-1!==(i=mi.call(this._weekdaysParse,a))?i:-1!==(i=mi.call(this._shortWeekdaysParse,a))?i:null}function Jat(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Xat.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=qu([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Qat(e){if(!this.isValid())return null!=e?this:NaN;var t=Db(this,"Day");return null!=e?(e=Vat(e,this.localeData()),this.add(e-t,"d")):t}function eot(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function tot(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=zat(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function not(e){return this._weekdaysParseExact?(Mn(this,"_weekdaysRegex")||hN.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Mn(this,"_weekdaysRegex")||(this._weekdaysRegex=Wat),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function rot(e){return this._weekdaysParseExact?(Mn(this,"_weekdaysRegex")||hN.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gat),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function iot(e){return this._weekdaysParseExact?(Mn(this,"_weekdaysRegex")||hN.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yat),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function hN(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=qu([2e3,1]).day(t),r=Uc(this.weekdaysMin(n,"")),i=Uc(this.weekdaysShort(n,"")),o=Uc(this.weekdays(n,"")),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);a.sort(e),s.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function pN(){return this.hours()%12||12}function aot(){return this.hours()||24}function Qpe(e,t){vt(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function eme(e,t){return t._meridiemParse}function oot(e){return"p"===(e+"").toLowerCase().charAt(0)}vt("H",["HH",2],0,"hour"),vt("h",["hh",2],0,pN),vt("k",["kk",2],0,aot),vt("hmm",0,0,(function(){return""+pN.apply(this)+Pu(this.minutes(),2)})),vt("hmmss",0,0,(function(){return""+pN.apply(this)+Pu(this.minutes(),2)+Pu(this.seconds(),2)})),vt("Hmm",0,0,(function(){return""+this.hours()+Pu(this.minutes(),2)})),vt("Hmmss",0,0,(function(){return""+this.hours()+Pu(this.minutes(),2)+Pu(this.seconds(),2)})),Qpe("a",!0),Qpe("A",!1),it("a",eme),it("A",eme),it("H",Hr,cN),it("h",Hr,R1),it("k",Hr,R1),it("HH",Hr,Cs),it("hh",Hr,Cs),it("kk",Hr,Cs),it("hmm",zpe),it("hmmss",Upe),it("Hmm",zpe),it("Hmmss",Upe),sr(["H","HH"],Ji),sr(["k","kk"],(function(e,t,n){var r=dn(e);t[Ji]=24===r?0:r})),sr(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),sr(["h","hh"],(function(e,t,n){t[Ji]=dn(e),Wt(n).bigHour=!0})),sr("hmm",(function(e,t,n){var r=e.length-2;t[Ji]=dn(e.substr(0,r)),t[Il]=dn(e.substr(r)),Wt(n).bigHour=!0})),sr("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ji]=dn(e.substr(0,r)),t[Il]=dn(e.substr(r,2)),t[$c]=dn(e.substr(i)),Wt(n).bigHour=!0})),sr("Hmm",(function(e,t,n){var r=e.length-2;t[Ji]=dn(e.substr(0,r)),t[Il]=dn(e.substr(r))})),sr("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ji]=dn(e.substr(0,r)),t[Il]=dn(e.substr(r,2)),t[$c]=dn(e.substr(i))}));var sot=/[ap]\.?m?\.?/i,lot=M1("Hours",!0);function uot(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Mb,tme={calendar:Xit,longDateFormat:tat,invalidDate:rat,ordinal:aat,dayOfMonthOrdinalParse:oat,relativeTime:lat,months:Eat,monthsShort:Gpe,week:Pat,weekdays:Uat,weekdaysMin:Hat,weekdaysShort:Jpe,meridiemParse:sot},Kr={},Tv={};function cot(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function qW(e){return e&&e.toLowerCase().replace("_","-")}function dot(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=qW(e[o]).split("-")).length,n=(n=qW(e[o+1]))?n.split("-"):null;t>0;){if(r=lT(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cot(i,n)>=t-1)break;t--}o++}return Mb}function fot(e){return!(!e||!e.match("^[^/\\\\]*$"))}function lT(e){var t=null;if(void 0===Kr[e]&&typeof module<"u"&&module&&module.exports&&fot(e))try{t=Mb._abbr,require("./locale/"+e),Tf(t)}catch{Kr[e]=null}return Kr[e]}function Tf(e,t){var n;return e&&((n=Io(t)?_d(e):mN(e,t))?Mb=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Mb._abbr}function mN(e,t){if(null!==t){var n,r=tme;if(t.abbr=e,null!=Kr[e])Lpe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Kr[e]._config;else if(null!=t.parentLocale)if(null!=Kr[t.parentLocale])r=Kr[t.parentLocale]._config;else{if(null==(n=lT(t.parentLocale)))return Tv[t.parentLocale]||(Tv[t.parentLocale]=[]),Tv[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Kr[e]=new aN(qR(r,t)),Tv[e]&&Tv[e].forEach((function(e){mN(e.name,e.config)})),Tf(e),Kr[e]}return delete Kr[e],null}function hot(e,t){if(null!=t){var n,r,i=tme;null!=Kr[e]&&null!=Kr[e].parentLocale?Kr[e].set(qR(Kr[e]._config,t)):(null!=(r=lT(e))&&(i=r._config),t=qR(i,t),null==r&&(t.abbr=e),(n=new aN(t)).parentLocale=Kr[e],Kr[e]=n),Tf(e)}else null!=Kr[e]&&(null!=Kr[e].parentLocale?(Kr[e]=Kr[e].parentLocale,e===Tf()&&Tf(e)):null!=Kr[e]&&delete Kr[e]);return Kr[e]}function _d(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mb;if(!Hl(e)){if(t=lT(e))return t;e=[e]}return dot(e)}function pot(){return KR(Kr)}function gN(e){var t,n=e._a;return n&&-2===Wt(e).overflow&&(t=n[Mc]<0||n[Mc]>11?Mc:n[pu]<1||n[pu]>dN(n[Ya],n[Mc])?pu:n[Ji]<0||n[Ji]>24||24===n[Ji]&&(0!==n[Il]||0!==n[$c]||0!==n[Hh])?Ji:n[Il]<0||n[Il]>59?Il:n[$c]<0||n[$c]>59?$c:n[Hh]<0||n[Hh]>999?Hh:-1,Wt(e)._overflowDayOfYear&&(t<Ya||t>pu)&&(t=pu),Wt(e)._overflowWeeks&&-1===t&&(t=yat),Wt(e)._overflowWeekday&&-1===t&&(t=bat),Wt(e).overflow=t),e}var mot=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,got=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vot=/Z|[+-]\d\d(?::?\d\d)?/,DC=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],DI=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yot=/^\/?Date\((-?\d+)/i,bot=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xot={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function nme(e){var t,n,r,i,o,a,s=e._i,l=mot.exec(s)||got.exec(s),u=DC.length,c=DI.length;if(l){for(Wt(e).iso=!0,t=0,n=u;t<n;t++)if(DC[t][1].exec(l[1])){i=DC[t][0],r=!1!==DC[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(DI[t][1].exec(l[3])){o=(l[2]||" ")+DI[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!vot.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),yN(e)}else e._isValid=!1}function wot(e,t,n,r,i,o){var a=[Cot(e),Gpe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Cot(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Sot(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Eot(e,t,n){if(e&&Jpe.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return Wt(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}function _ot(e,t,n){if(e)return xot[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return 60*((r-i)/100)+i}function rme(e){var t,n=bot.exec(Sot(e._i));if(n){if(t=wot(n[4],n[3],n[2],n[5],n[6],n[7]),!Eot(n[1],t,e))return;e._a=t,e._tzm=_ot(n[8],n[9],n[10]),e._d=Ob.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Wt(e).rfc2822=!0}else e._isValid=!1}function kot(e){var t=yot.exec(e._i);null===t?(nme(e),!1===e._isValid&&(delete e._isValid,rme(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:Ze.createFromInputFallback(e)))):e._d=new Date(+t[1])}function fg(e,t,n){return e??t??n}function Tot(e){var t=new Date(Ze.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vN(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Tot(e),e._w&&null==e._a[pu]&&null==e._a[Mc]&&Aot(e),null!=e._dayOfYear&&(o=fg(e._a[Ya],r[Ya]),(e._dayOfYear>Xy(o)||0===e._dayOfYear)&&(Wt(e)._overflowDayOfYear=!0),n=Ob(o,0,e._dayOfYear),e._a[Mc]=n.getUTCMonth(),e._a[pu]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ji]&&0===e._a[Il]&&0===e._a[$c]&&0===e._a[Hh]&&(e._nextDay=!0,e._a[Ji]=0),e._d=(e._useUTC?Ob:Mat).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ji]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Wt(e).weekdayMismatch=!0)}}function Aot(e){var t,n,r,i,o,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=fg(t.GG,e._a[Ya],Rb(zr(),1,4).year),r=fg(t.W,1),((i=fg(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=Rb(zr(),o,a),n=fg(t.gg,e._a[Ya],u.year),r=fg(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Hc(n,o,a)?Wt(e)._overflowWeeks=!0:null!=l?Wt(e)._overflowWeekday=!0:(s=Xpe(n,r,i,o,a),e._a[Ya]=s.year,e._dayOfYear=s.dayOfYear)}function yN(e){if(e._f!==Ze.ISO_8601)if(e._f!==Ze.RFC_2822){e._a=[],Wt(e).empty=!0;var t,n,r,i,o,a,s,l=""+e._i,u=l.length,c=0;for(s=(r=Npe(e._f,e._locale).match(oN)||[]).length,t=0;t<s;t++)i=r[t],(n=(l.match(mat(i,e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&Wt(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),c+=n.length),qg[i]?(n?Wt(e).empty=!1:Wt(e).unusedTokens.push(i),vat(i,n,e)):e._strict&&!n&&Wt(e).unusedTokens.push(i);Wt(e).charsLeftOver=u-c,l.length>0&&Wt(e).unusedInput.push(l),e._a[Ji]<=12&&!0===Wt(e).bigHour&&e._a[Ji]>0&&(Wt(e).bigHour=void 0),Wt(e).parsedDateParts=e._a.slice(0),Wt(e).meridiem=e._meridiem,e._a[Ji]=jot(e._locale,e._a[Ji],e._meridiem),null!==(a=Wt(e).era)&&(e._a[Ya]=e._locale.erasConvertYear(a,e._a[Ya])),vN(e),gN(e)}else rme(e);else nme(e)}function jot(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),!r&&12===t&&(t=0)),t)}function Iot(e){var t,n,r,i,o,a,s=!1,l=e._f.length;if(0===l)return Wt(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,a=!1,t=iN({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],yN(t),rN(t)&&(a=!0),o+=Wt(t).charsLeftOver,o+=10*Wt(t).unusedTokens.length,Wt(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));uf(e,n||t)}function Dot(e){if(!e._d){var t=sN(e._i),n=void 0===t.day?t.date:t.day;e._a=Ppe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vN(e)}}function Oot(e){var t=new ew(gN(ime(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ime(e){var t=e._i,n=e._f;return e._locale=e._locale||_d(e._l),null===t||void 0===n&&""===t?tT({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Wl(t)?new ew(gN(t)):(Qx(t)?e._d=t:Hl(n)?Iot(e):n?yN(e):Rot(e),rN(e)||(e._d=null),e))}function Rot(e){var t=e._i;Io(t)?e._d=new Date(Ze.now()):Qx(t)?e._d=new Date(t.valueOf()):"string"==typeof t?kot(e):Hl(t)?(e._a=Ppe(t.slice(0),(function(e){return parseInt(e,10)})),vN(e)):dp(t)?Dot(e):td(t)?e._d=new Date(t):Ze.createFromInputFallback(e)}function ame(e,t,n,r,i){var o={};return(!0===t||!1===t)&&(r=t,t=void 0),(!0===n||!1===n)&&(r=n,n=void 0),(dp(e)&&nN(e)||Hl(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Oot(o)}function zr(e,t,n,r){return ame(e,t,n,r,!1)}Ze.createFromInputFallback=hl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),Ze.ISO_8601=function(){},Ze.RFC_2822=function(){};var Mot=hl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:tT()})),$ot=hl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=zr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:tT()}));function ome(e,t){var n,r;if(1===t.length&&Hl(t[0])&&(t=t[0]),!t.length)return zr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Pot(){return ome("isBefore",[].slice.call(arguments,0))}function Fot(){return ome("isAfter",[].slice.call(arguments,0))}var Lot=function(){return Date.now?Date.now():+new Date},Av=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Not(e){var t,n,r=!1,i=Av.length;for(t in e)if(Mn(e,t)&&(-1===mi.call(Av,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Av[n]]){if(r)return!1;parseFloat(e[Av[n]])!==dn(e[Av[n]])&&(r=!0)}return!0}function Bot(){return this._isValid}function Vot(){return Yl(NaN)}function uT(e){var t=sN(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Not(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=_d(),this._bubble()}function SS(e){return e instanceof uT}function XR(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zot(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)dn(e[r])!==dn(t[r])&&a++;return a+o}function sme(e,t){vt(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Pu(~~(e/60),2)+t+Pu(~~e%60,2)}))}sme("Z",":"),sme("ZZ",""),it("Z",oT),it("ZZ",oT),sr(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=bN(oT,e)}));var Uot=/([\+\-]|\d\d)/gi;function bN(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Uot)||["-",0,0])[1]+dn(n[2]))?0:"+"===n[0]?r:-r}function xN(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Wl(e)||Qx(e)?e.valueOf():zr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Ze.updateOffset(n,!1),n):zr(e).local()}function JR(e){return-Math.round(e._d.getTimezoneOffset())}function Hot(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=bN(oT,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=JR(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?cme(this,Yl(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ze.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:JR(this)}function Wot(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Got(e){return this.utcOffset(0,e)}function Yot(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(JR(this),"m")),this}function qot(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=bN(hat,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Kot(e){return!!this.isValid()&&(e=e?zr(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Zot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xot(){if(!Io(this._isDSTShifted))return this._isDSTShifted;var e,t={};return iN(t,this),(t=ime(t))._a?(e=t._isUTC?qu(t._a):zr(t._a),this._isDSTShifted=this.isValid()&&zot(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Jot(){return!!this.isValid()&&!this._isUTC}function Qot(){return!!this.isValid()&&this._isUTC}function lme(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}Ze.updateOffset=function(){};var est=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tst=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yl(e,t){var n,r,i,o=e,a=null;return SS(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:td(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=est.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:dn(a[pu])*n,h:dn(a[Ji])*n,m:dn(a[Il])*n,s:dn(a[$c])*n,ms:dn(XR(1e3*a[Hh]))*n}):(a=tst.exec(e))?(n="-"===a[1]?-1:1,o={y:vh(a[2],n),M:vh(a[3],n),w:vh(a[4],n),d:vh(a[5],n),h:vh(a[6],n),m:vh(a[7],n),s:vh(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=nst(zr(o.from),zr(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new uT(o),SS(e)&&Mn(e,"_locale")&&(r._locale=e._locale),SS(e)&&Mn(e,"_isValid")&&(r._isValid=e._isValid),r}function vh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function KW(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nst(e,t){var n;return e.isValid()&&t.isValid()?(t=xN(t,e),e.isBefore(t)?n=KW(e,t):((n=KW(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ume(e,t){return function(n,r){var i;return null!==r&&!isNaN(+r)&&(Lpe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),cme(this,Yl(n,r),e),this}}function cme(e,t,n,r){var i=t._milliseconds,o=XR(t._days),a=XR(t._months);e.isValid()&&(r=r??!0,a&&qpe(e,Db(e,"Month")+a*n),o&&Wpe(e,"Date",Db(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Ze.updateOffset(e,o||a))}Yl.fn=uT.prototype,Yl.invalid=Vot;var rst=ume(1,"add"),ist=ume(-1,"subtract");function dme(e){return"string"==typeof e||e instanceof String}function ast(e){return Wl(e)||Qx(e)||dme(e)||td(e)||sst(e)||ost(e)||null==e}function ost(e){var t,n=dp(e)&&!nN(e),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=i.length;for(t=0;t<o;t+=1)r=r||Mn(e,i[t]);return n&&r}function sst(e){var t=Hl(e),n=!1;return t&&(n=0===e.filter((function(t){return!td(t)&&dme(e)})).length),t&&n}function lst(e){var t,n=dp(e)&&!nN(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||Mn(e,i[t]);return n&&r}function ust(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cst(e,t){1===arguments.length&&(arguments[0]?ast(arguments[0])?(e=arguments[0],t=void 0):lst(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||zr(),r=xN(n,this).startOf("day"),i=Ze.calendarFormat(this,r)||"sameElse",o=t&&(Ku(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,zr(n)))}function dst(){return new ew(this)}function fst(e,t){var n=Wl(e)?e:zr(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=pl(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function hst(e,t){var n=Wl(e)?e:zr(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=pl(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function pst(e,t,n,r){var i=Wl(e)?e:zr(e),o=Wl(t)?t:zr(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function mst(e,t){var n,r=Wl(e)?e:zr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=pl(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function gst(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vst(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yst(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=xN(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=pl(t)){case"year":o=ES(this,r)/12;break;case"month":o=ES(this,r);break;case"quarter":o=ES(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Ps(o)}function ES(e,t){if(e.date()<t.date())return-ES(t,e);var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return t-i<0?n=(t-i)/(i-e.clone().add(r-1,"months")):n=(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function bst(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xst(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?CS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ku(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",CS(n,"Z")):CS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wst(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)}function Cst(e){e||(e=this.isUtc()?Ze.defaultFormatUtc:Ze.defaultFormat);var t=CS(this,e);return this.localeData().postformat(t)}function Sst(e,t){return this.isValid()&&(Wl(e)&&e.isValid()||zr(e).isValid())?Yl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Est(e){return this.from(zr(),e)}function _st(e,t){return this.isValid()&&(Wl(e)&&e.isValid()||zr(e).isValid())?Yl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kst(e){return this.to(zr(),e)}function fme(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_d(e))&&(this._locale=t),this)}Ze.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Ze.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hme=hl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function pme(){return this._locale}var KE=1e3,Kg=60*KE,ZE=60*Kg,mme=3506328*ZE;function Zg(e,t){return(e%t+t)%t}function gme(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-mme:new Date(e,t,n).valueOf()}function vme(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-mme:Date.UTC(e,t,n)}function Tst(e){var t,n;if(void 0===(e=pl(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vme:gme,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Zg(t+(this._isUTC?0:this.utcOffset()*Kg),ZE);break;case"minute":t=this._d.valueOf(),t-=Zg(t,Kg);break;case"second":t=this._d.valueOf(),t-=Zg(t,KE)}return this._d.setTime(t),Ze.updateOffset(this,!0),this}function Ast(e){var t,n;if(void 0===(e=pl(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vme:gme,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ZE-Zg(t+(this._isUTC?0:this.utcOffset()*Kg),ZE)-1;break;case"minute":t=this._d.valueOf(),t+=Kg-Zg(t,Kg)-1;break;case"second":t=this._d.valueOf(),t+=KE-Zg(t,KE)-1}return this._d.setTime(t),Ze.updateOffset(this,!0),this}function jst(){return this._d.valueOf()-6e4*(this._offset||0)}function Ist(){return Math.floor(this.valueOf()/1e3)}function Dst(){return new Date(this.valueOf())}function Ost(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Rst(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mst(){return this.isValid()?this.toISOString():null}function $st(){return rN(this)}function Pst(){return uf({},Wt(this))}function Fst(){return Wt(this).overflow}function Lst(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nst(e,t){var n,r,i,o=this._eras||_d("en")._eras;for(n=0,r=o.length;n<r;++n){if("string"==typeof o[n].since)i=Ze(o[n].since).startOf("day"),o[n].since=i.valueOf();switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Ze(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}}return o}function Bst(e,t,n){var r,i,o,a,s,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([o,a,s].indexOf(e)>=0)return l[r]}function Vst(e,t){var n=e.since<=e.until?1:-1;return void 0===t?Ze(e.since).year():Ze(e.since).year()+(t-e.offset)*n}function zst(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Ust(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Hst(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Wst(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Ze(i[e].since).year())*n+i[e].offset;return this.year()}function Gst(e){return Mn(this,"_erasNameRegex")||CN.call(this),e?this._erasNameRegex:this._erasRegex}function Yst(e){return Mn(this,"_erasAbbrRegex")||CN.call(this),e?this._erasAbbrRegex:this._erasRegex}function qst(e){return Mn(this,"_erasNarrowRegex")||CN.call(this),e?this._erasNarrowRegex:this._erasRegex}function wN(e,t){return t.erasAbbrRegex(e)}function Kst(e,t){return t.erasNameRegex(e)}function Zst(e,t){return t.erasNarrowRegex(e)}function Xst(e,t){return t._eraYearOrdinalRegex||O1}function CN(){var e,t,n,r,i,o=[],a=[],s=[],l=[],u=this.eras();for(e=0,t=u.length;e<t;++e)n=Uc(u[e].name),r=Uc(u[e].abbr),i=Uc(u[e].narrow),a.push(n),o.push(r),s.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function cT(e,t){vt(0,[e,e.length],0,t)}function Jst(e){return yme.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Qst(e){return yme.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function elt(){return Hc(this.year(),1,4)}function tlt(){return Hc(this.isoWeekYear(),1,4)}function nlt(){var e=this.localeData()._week;return Hc(this.year(),e.dow,e.doy)}function rlt(){var e=this.localeData()._week;return Hc(this.weekYear(),e.dow,e.doy)}function yme(e,t,n,r,i){var o;return null==e?Rb(this,r,i).year:(t>(o=Hc(e,r,i))&&(t=o),ilt.call(this,e,t,n,r,i))}function ilt(e,t,n,r,i){var o=Xpe(e,t,n,r,i),a=Ob(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function alt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}vt("N",0,0,"eraAbbr"),vt("NN",0,0,"eraAbbr"),vt("NNN",0,0,"eraAbbr"),vt("NNNN",0,0,"eraName"),vt("NNNNN",0,0,"eraNarrow"),vt("y",["y",1],"yo","eraYear"),vt("y",["yy",2],0,"eraYear"),vt("y",["yyy",3],0,"eraYear"),vt("y",["yyyy",4],0,"eraYear"),it("N",wN),it("NN",wN),it("NNN",wN),it("NNNN",Kst),it("NNNNN",Zst),sr(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Wt(n).era=i:Wt(n).invalidEra=e})),it("y",O1),it("yy",O1),it("yyy",O1),it("yyyy",O1),it("yo",Xst),sr(["y","yy","yyy","yyyy"],Ya),sr(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ya]=n._locale.eraYearOrdinalParse(e,i):t[Ya]=parseInt(e,10)})),vt(0,["gg",2],0,(function(){return this.weekYear()%100})),vt(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),cT("gggg","weekYear"),cT("ggggg","weekYear"),cT("GGGG","isoWeekYear"),cT("GGGGG","isoWeekYear"),it("G",aT),it("g",aT),it("GG",Hr,Cs),it("gg",Hr,Cs),it("GGGG",uN,lN),it("gggg",uN,lN),it("GGGGG",iT,nT),it("ggggg",iT,nT),nw(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=dn(e)})),nw(["gg","GG"],(function(e,t,n,r){t[r]=Ze.parseTwoDigitYear(e)})),vt("Q",0,"Qo","quarter"),it("Q",Bpe),sr("Q",(function(e,t){t[Mc]=3*(dn(e)-1)})),vt("D",["DD",2],"Do","date"),it("D",Hr,R1),it("DD",Hr,Cs),it("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),sr(["D","DD"],pu),sr("Do",(function(e,t){t[pu]=dn(e.match(Hr)[0])}));var bme=M1("Date",!0);function olt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}vt("DDD",["DDDD",3],"DDDo","dayOfYear"),it("DDD",rT),it("DDDD",Vpe),sr(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=dn(e)})),vt("m",["mm",2],0,"minute"),it("m",Hr,cN),it("mm",Hr,Cs),sr(["m","mm"],Il);var slt=M1("Minutes",!1);vt("s",["ss",2],0,"second"),it("s",Hr,cN),it("ss",Hr,Cs),sr(["s","ss"],$c);var cf,xme,llt=M1("Seconds",!1);for(vt("S",0,0,(function(){return~~(this.millisecond()/100)})),vt(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),vt(0,["SSS",3],0,"millisecond"),vt(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),vt(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),vt(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),vt(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),vt(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),vt(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),it("S",rT,Bpe),it("SS",rT,Cs),it("SSS",rT,Vpe),cf="SSSS";cf.length<=9;cf+="S")it(cf,O1);function ult(e,t){t[Hh]=dn(1e3*("0."+e))}for(cf="S";cf.length<=9;cf+="S")sr(cf,ult);function clt(){return this._isUTC?"UTC":""}function dlt(){return this._isUTC?"Coordinated Universal Time":""}xme=M1("Milliseconds",!1),vt("z",0,0,"zoneAbbr"),vt("zz",0,0,"zoneName");var Ne=ew.prototype;function flt(e){return zr(1e3*e)}function hlt(){return zr.apply(null,arguments).parseZone()}function wme(e){return e}Ne.add=rst,Ne.calendar=cst,Ne.clone=dst,Ne.diff=yst,Ne.endOf=Ast,Ne.format=Cst,Ne.from=Sst,Ne.fromNow=Est,Ne.to=_st,Ne.toNow=kst,Ne.get=wat,Ne.invalidAt=Fst,Ne.isAfter=fst,Ne.isBefore=hst,Ne.isBetween=pst,Ne.isSame=mst,Ne.isSameOrAfter=gst,Ne.isSameOrBefore=vst,Ne.isValid=$st,Ne.lang=hme,Ne.locale=fme,Ne.localeData=pme,Ne.max=$ot,Ne.min=Mot,Ne.parsingFlags=Pst,Ne.set=Cat,Ne.startOf=Tst,Ne.subtract=ist,Ne.toArray=Ost,Ne.toObject=Rst,Ne.toDate=Dst,Ne.toISOString=xst,Ne.inspect=wst,typeof Symbol<"u"&&null!=Symbol.for&&(Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ne.toJSON=Mst,Ne.toString=bst,Ne.unix=Ist,Ne.valueOf=jst,Ne.creationData=Lst,Ne.eraName=zst,Ne.eraNarrow=Ust,Ne.eraAbbr=Hst,Ne.eraYear=Wst,Ne.year=Hpe,Ne.isLeapYear=xat,Ne.weekYear=Jst,Ne.isoWeekYear=Qst,Ne.quarter=Ne.quarters=alt,Ne.month=Kpe,Ne.daysInMonth=Dat,Ne.week=Ne.weeks=Nat,Ne.isoWeek=Ne.isoWeeks=Bat,Ne.weeksInYear=nlt,Ne.weeksInWeekYear=rlt,Ne.isoWeeksInYear=elt,Ne.isoWeeksInISOWeekYear=tlt,Ne.date=bme,Ne.day=Ne.days=Qat,Ne.weekday=eot,Ne.isoWeekday=tot,Ne.dayOfYear=olt,Ne.hour=Ne.hours=lot,Ne.minute=Ne.minutes=slt,Ne.second=Ne.seconds=llt,Ne.millisecond=Ne.milliseconds=xme,Ne.utcOffset=Hot,Ne.utc=Got,Ne.local=Yot,Ne.parseZone=qot,Ne.hasAlignedHourOffset=Kot,Ne.isDST=Zot,Ne.isLocal=Jot,Ne.isUtcOffset=Qot,Ne.isUtc=lme,Ne.isUTC=lme,Ne.zoneAbbr=clt,Ne.zoneName=dlt,Ne.dates=hl("dates accessor is deprecated. Use date instead.",bme),Ne.months=hl("months accessor is deprecated. Use month instead",Kpe),Ne.years=hl("years accessor is deprecated. Use year instead",Hpe),Ne.zone=hl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Wot),Ne.isDSTShifted=hl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Xot);var $n=aN.prototype;function XE(e,t,n,r){var i=_d(),o=qu().set(r,t);return i[n](o,e)}function Cme(e,t,n){if(td(e)&&(t=e,e=void 0),e=e||"",null!=t)return XE(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=XE(e,r,n,"month");return i}function SN(e,t,n,r){"boolean"==typeof e?(td(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,td(t)&&(n=t,t=void 0),t=t||"");var i,o=_d(),a=e?o._week.dow:0,s=[];if(null!=n)return XE(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=XE(t,(i+a)%7,r,"day");return s}function plt(e,t){return Cme(e,t,"months")}function mlt(e,t){return Cme(e,t,"monthsShort")}function glt(e,t,n){return SN(e,t,n,"weekdays")}function vlt(e,t,n){return SN(e,t,n,"weekdaysShort")}function ylt(e,t,n){return SN(e,t,n,"weekdaysMin")}$n.calendar=Jit,$n.longDateFormat=nat,$n.invalidDate=iat,$n.ordinal=sat,$n.preparse=wme,$n.postformat=wme,$n.relativeTime=uat,$n.pastFuture=cat,$n.set=Zit,$n.eras=Nst,$n.erasParse=Bst,$n.erasConvertYear=Vst,$n.erasAbbrRegex=Yst,$n.erasNameRegex=Gst,$n.erasNarrowRegex=qst,$n.months=Tat,$n.monthsShort=Aat,$n.monthsParse=Iat,$n.monthsRegex=Rat,$n.monthsShortRegex=Oat,$n.week=$at,$n.firstDayOfYear=Lat,$n.firstDayOfWeek=Fat,$n.weekdays=qat,$n.weekdaysMin=Zat,$n.weekdaysShort=Kat,$n.weekdaysParse=Jat,$n.weekdaysRegex=not,$n.weekdaysShortRegex=rot,$n.weekdaysMinRegex=iot,$n.isPM=oot,$n.meridiem=uot,Tf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===dn(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Ze.lang=hl("moment.lang is deprecated. Use moment.locale instead.",Tf),Ze.langData=hl("moment.langData is deprecated. Use moment.localeData instead.",_d);var dc=Math.abs;function blt(){var e=this._data;return this._milliseconds=dc(this._milliseconds),this._days=dc(this._days),this._months=dc(this._months),e.milliseconds=dc(e.milliseconds),e.seconds=dc(e.seconds),e.minutes=dc(e.minutes),e.hours=dc(e.hours),e.months=dc(e.months),e.years=dc(e.years),this}function Sme(e,t,n,r){var i=Yl(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xlt(e,t){return Sme(this,e,t,1)}function wlt(e,t){return Sme(this,e,t,-1)}function ZW(e){return e<0?Math.floor(e):Math.ceil(e)}function Clt(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ZW(QR(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=Ps(o/1e3),l.seconds=e%60,t=Ps(e/60),l.minutes=t%60,n=Ps(t/60),l.hours=n%24,a+=Ps(n/24),s+=i=Ps(Eme(a)),a-=ZW(QR(i)),r=Ps(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Eme(e){return 4800*e/146097}function QR(e){return 146097*e/4800}function Slt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=pl(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Eme(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(QR(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function kd(e){return function(){return this.as(e)}}var _me=kd("ms"),Elt=kd("s"),_lt=kd("m"),klt=kd("h"),Tlt=kd("d"),Alt=kd("w"),jlt=kd("M"),Ilt=kd("Q"),Dlt=kd("y"),Olt=_me;function Rlt(){return Yl(this)}function Mlt(e){return e=pl(e),this.isValid()?this[e+"s"]():NaN}function mm(e){return function(){return this.isValid()?this._data[e]:NaN}}var $lt=mm("milliseconds"),Plt=mm("seconds"),Flt=mm("minutes"),Llt=mm("hours"),Nlt=mm("days"),Blt=mm("months"),Vlt=mm("years");function zlt(){return Ps(this.days()/7)}var Ec=Math.round,Dg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ult(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Hlt(e,t,n,r){var i=Yl(e).abs(),o=Ec(i.as("s")),a=Ec(i.as("m")),s=Ec(i.as("h")),l=Ec(i.as("d")),u=Ec(i.as("M")),c=Ec(i.as("w")),d=Ec(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,Ult.apply(null,f)}function Wlt(e){return void 0===e?Ec:"function"==typeof e&&(Ec=e,!0)}function Glt(e,t){return void 0!==Dg[e]&&(void 0===t?Dg[e]:(Dg[e]=t,"s"===e&&(Dg.ss=t-1),!0))}function Ylt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=Dg;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},Dg,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=Hlt(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var OI=Math.abs;function Xm(e){return(e>0)-(e<0)||+e}function dT(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,l=OI(this._milliseconds)/1e3,u=OI(this._days),c=OI(this._months),d=this.asSeconds();return d?(e=Ps(l/60),t=Ps(e/60),l%=60,e%=60,n=Ps(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=Xm(this._months)!==Xm(d)?"-":"",a=Xm(this._days)!==Xm(d)?"-":"",s=Xm(this._milliseconds)!==Xm(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var Cn=uT.prototype;Cn.isValid=Bot,Cn.abs=blt,Cn.add=xlt,Cn.subtract=wlt,Cn.as=Slt,Cn.asMilliseconds=_me,Cn.asSeconds=Elt,Cn.asMinutes=_lt,Cn.asHours=klt,Cn.asDays=Tlt,Cn.asWeeks=Alt,Cn.asMonths=jlt,Cn.asQuarters=Ilt,Cn.asYears=Dlt,Cn.valueOf=Olt,Cn._bubble=Clt,Cn.clone=Rlt,Cn.get=Mlt,Cn.milliseconds=$lt,Cn.seconds=Plt,Cn.minutes=Flt,Cn.hours=Llt,Cn.days=Nlt,Cn.weeks=zlt,Cn.months=Blt,Cn.years=Vlt,Cn.humanize=Ylt,Cn.toISOString=dT,Cn.toString=dT,Cn.toJSON=dT,Cn.locale=fme,Cn.localeData=pme,Cn.toIsoString=hl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dT),Cn.lang=hme,vt("X",0,0,"unix"),vt("x",0,0,"valueOf"),it("x",aT),it("X",pat),sr("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),sr("x",(function(e,t,n){n._d=new Date(dn(e))})),Ze.version="2.30.1",qit(zr),Ze.fn=Ne,Ze.min=Pot,Ze.max=Fot,Ze.now=Lot,Ze.utc=qu,Ze.unix=flt,Ze.months=plt,Ze.isDate=Qx,Ze.locale=Tf,Ze.invalid=tT,Ze.duration=Yl,Ze.isMoment=Wl,Ze.weekdays=glt,Ze.parseZone=hlt,Ze.localeData=_d,Ze.isDuration=SS,Ze.monthsShort=mlt,Ze.weekdaysMin=ylt,Ze.defineLocale=mN,Ze.updateLocale=hot,Ze.locales=pot,Ze.weekdaysShort=vlt,Ze.normalizeUnits=pl,Ze.relativeTimeRounding=Wlt,Ze.relativeTimeThreshold=Glt,Ze.calendarFormat=ust,Ze.prototype=Ne,Ze.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const eh="YYYY-MM-DD",EN="HH:mm";function $1(e,t,n=!1){return n?Ze.utc(e).format(t):Ze(e).format(t)}function fT(e,t){const n=Ze(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:`Invalid date. Must be on the format "${t}"`}}var qlt=Object.defineProperty,Klt=(e,t,n)=>t in e?qlt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OC=(e,t,n)=>Klt(e,"symbol"!=typeof t?t+"":t,n);class kme{constructor(e){this.max=e,OC(this,"current",0),OC(this,"resolvers",[]),OC(this,"ready",(()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise((e=>{this.resolvers.push(e)})))),OC(this,"release",(()=>{if(this.max===1/0)return;const e=this.resolvers.shift();e?e():this.current=Math.max(0,this.current-1)}))}}function Zlt(e){const t=new kme(e);function n(e){return new Proxy(e,{get:(e,r)=>{switch(r){case"fetch":return(...n)=>Qn(t.ready()).pipe(ht((()=>e.fetch(...n))),Kk((()=>t.release())));case"clone":return(...t)=>n(e.clone(...t));case"config":return(...t)=>{const r=e.config(...t);return t[0]?n(r):r};case"withConfig":return(...t)=>n(e.withConfig(...t));default:return e[r]}}})}return function e(r){return new Proxy(r,{get:(r,i)=>{switch(i){case"fetch":return async(...e)=>{await t.ready();try{return await r.fetch(...e)}finally{t.release()}};case"clone":return(...t)=>e(r.clone(...t));case"config":return(...t)=>{const n=r.config(...t);return t[0]?e(n):n};case"withConfig":return(...t)=>e(r.withConfig(...t));case"observable":return n(r.observable);default:return r[i]}}})}}var Xlt=C1;function Jlt(e){return(null==e?0:e.length)?Xlt(e,1):[]}var Tme=Jlt;const pr=Be(Tme);function Qlt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var Ame=Qlt;function eut(e){return e!=e}var tut=eut;function nut(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var rut=nut,iut=Ame,aut=tut,out=rut;function sut(e,t,n){return t==t?out(e,t,n):iut(e,aut,n)}var _N=sut,lut=_N;function uut(e,t){return!!(null==e?0:e.length)&&lut(e,t,0)>-1}var kN=uut;function cut(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var TN=cut;function dut(){}var AN=dut;const jme=Be(AN);var RI=mfe,fut=AN,hut=d6,put=1/0,mut=RI&&1/hut(new RI([,-0]))[1]==put?function(e){return new RI(e)}:fut,gut=mut,vut=Fk,yut=kN,but=TN,xut=Lk,wut=gut,Cut=d6,Sut=200;function Eut(e,t,n){var r=-1,i=yut,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=but;else if(o>=Sut){var u=t?null:wut(e);if(u)return Cut(u);a=!1,i=xut,l=new vut}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var hT=Eut,_ut=Jf,kut=hT;function Tut(e,t){return e&&e.length?kut(e,_ut(t)):[]}var Aut=Tut;const Mf=Be(Aut),Pt=e=>"string"==typeof e,jv=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},XW=e=>null==e?"":""+e,jut=(e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))},Iut=/###/g,JW=e=>e&&e.indexOf("###")>-1?e.replace(Iut,"."):e,QW=e=>!e||Pt(e),Jy=(e,t,n)=>{const r=Pt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(QW(e))return{};const t=JW(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return QW(e)?{}:{obj:e,k:JW(r[i])}},eG=(e,t,n)=>{const{obj:r,k:i}=Jy(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=Jy(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Jy(e,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},Dut=(e,t,n,r)=>{const{obj:i,k:o}=Jy(e,t,Object);i[o]=i[o]||[],i[o].push(n)},JE=(e,t)=>{const{obj:n,k:r}=Jy(e,t);if(n)return n[r]},Out=(e,t,n)=>{const r=JE(e,n);return void 0!==r?r:JE(t,n)},Ime=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Pt(e[r])||e[r]instanceof String||Pt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Ime(e[r],t[r],n):e[r]=t[r]);return e},Jm=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Rut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Mut=e=>Pt(e)?e.replace(/[&<>"'\/]/g,(e=>Rut[e])):e;class $ut{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Put=[" ",",","?","!",";"],Fut=new $ut(20),Lut=(e,t,n)=>{t=t||"",n=n||"";const r=Put.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=Fut.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o},eM=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let e=0;e<r.length;){if(!i||"object"!=typeof i)return;let t,o="";for(let a=e;a<r.length;++a)if(a!==e&&(o+=n),o+=r[a],t=i[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<r.length-1)continue;e+=a-e+1;break}i=t}return i},QE=e=>e&&e.replace("_","-"),Nut={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class e_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Nut,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Pt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new e_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new e_(this.logger,e)}}var bu=new e_;class pT{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let t=0;t<i;t++)r.apply(r,[e,...n])}))}}class tG extends pT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Pt(n)&&i?a.push(...n.split(i)):a.push(n)));const s=JE(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&o&&Pt(n)?eM(this.data&&this.data[e]&&this.data[e][t],n,i):s}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),eG(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(Pt(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=JE(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Ime(s,n,i):s={...s,...n},eG(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Dme={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const nG={};class t_ extends pT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),jut(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=bu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||Lut(e,n,r));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Pt(i)?[i]:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return{key:e,namespaces:Pt(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const c=this.resolve(e,t);let d=c&&c.res;const f=c&&c.usedKey||o,p=c&&c.exactUsedKey||o,h=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!Pt(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(!(g&&d&&y&&["[object Number]","[object Function]","[object RegExp]"].indexOf(h)<0)||Pt(m)&&Array.isArray(d))if(g&&Pt(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const u=void 0!==t.count&&!Pt(t.count),f=t_.hasDefaultValue(t),p=u?this.pluralResolver.getSuffix(l,t.count,t):"",h=t.ordinal&&u?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=u&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${h}`]||t.defaultValue;!this.isValidLookup(d)&&f&&(r=!0,d=g),this.isValidLookup(d)||(a=!0,d=o);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,v=f&&g!==d&&this.options.updateMissing;if(a||r||v){if(this.logger.log(v?"updateKey":"missingKey",l,s,o,v?g:d),i){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=f&&r!==d?r:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,i,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,i,v,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||g)}))})):r(e,o,g))}d=this.extendTranslation(d,e,t,c,n),a&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${o}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,r?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(i){const e=Array.isArray(d),n=e?[]:{},r=e?p:f;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const o=`${r}${i}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=d[e])}d=n}}return r?(c.res=d,c.usedParams=this.getUsedParamsDetails(t),c):d}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Pt(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&!Pt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):o.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Pt(a)?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=Dme.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pt(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),l=s.key;n=l;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==a.count&&!Pt(a.count),d=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),f=void 0!==a.context&&(Pt(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(o=e,!nG[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(nG[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(o.push(l+e),a.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),d&&o.push(l+t)),f){const n=`${l}${this.options.contextSeparator}${a.context}`;o.push(n),c&&(o.push(n+e),a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Pt(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const MI=e=>e.charAt(0).toUpperCase()+e.slice(1);class rG{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bu.create("languageUtils")}getScriptPartFromCode(e){if(!(e=QE(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=QE(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=MI(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=MI(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=MI(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0||!(e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1)?void 0:e))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Pt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Pt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Pt(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let But=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Vut={1:e=>+(e>1),2:e=>+(1!=e),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>1==e?0:e>=2&&e<=4?1:2,7:e=>1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>1==e?0:2==e?1:8!=e&&11!=e?2:3,9:e=>+(e>=2),10:e=>1==e?0:2==e?1:e<7?2:e<11?3:4,11:e=>1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(0!==e),14:e=>1==e?0:2==e?1:3==e?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:0!==e?1:2,17:e=>1==e||e%10==1&&e%100!=11?0:1,18:e=>0==e?0:1==e?1:2,19:e=>1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>1==e?0:0==e||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3};const zut=["v1","v2","v3"],Uut=["v4"],iG={zero:0,one:1,two:2,few:3,many:4,other:5},Hut=()=>{const e={};return But.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Vut[t.fc]}}))})),e};class Wut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=bu.create("pluralResolver"),(!this.options.compatibilityJSON||Uut.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Hut(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=QE("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch{if(!e.match(/-|_/))return;const n=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(n,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>iG[e]-iG[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!zut.includes(this.options.compatibilityJSON)}}const aG=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=Out(e,t,n);return!o&&i&&Pt(n)&&(o=eM(e,n,r),void 0===o&&(o=eM(t,n,r))),o},$I=e=>e.replace(/\$/g,"$$$$");class Gut{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=bu.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:Mut,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?Jm(i):o||"{{",this.suffix=a?Jm(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?Jm(d):f||Jm("$t("),this.nestingSuffix=p?Jm(p):h||Jm(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const i=aG(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(aG(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const u=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,c=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>$I(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?$I(this.escape(e)):$I(e)}].forEach((t=>{for(a=0;i=t.regex.exec(e);){const n=i[1].trim();if(o=l(n),void 0===o)if("function"==typeof u){const t=u(e,i,r);o=Pt(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(c){o=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else!Pt(o)&&!this.useRawValueToEscape&&(o=XW(o));const s=t.safeValue(o);if(e=e.replace(i[0],s),c?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];i={...o},i=i.replace&&!Pt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(a.call(this,n[1].trim(),i),i),r&&n[0]===e&&!Pt(r))return r;Pt(r)||(r=XW(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Yut=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}},Qm=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=t[a];return s||(s=e(QE(r),i),t[a]=s),s(n)}};class qut{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=bu.create("formatter"),this.options=e,this.formats={number:Qm(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Qm(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Qm(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Qm(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Qm(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Qm(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=Yut(t);if(this.formats[i]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[i](e,s,{...o,...r,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e)}}const Kut=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};let Zut=class extends pT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=bu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,r=!1,void 0===o[a]&&(o[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{Dut(n.loaded,[i],o),Kut(n,e),t&&n.errors.push(t),0===n.pendingCount&&!n.done&&(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Pt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pt(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,r,s):l(e,t,n,r),i&&"function"==typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(e){a(e)}else l(e,t,n,r,a,s)}!e||!e[0]||this.store.addResource(e[0],t,n,r)}}};const oG=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Pt(e[1])&&(t.defaultValue=e[1]),Pt(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),sG=e=>(Pt(e.ns)&&(e.ns=[e.ns]),Pt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Pt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),RC=()=>{},Xut=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))};class $b extends pT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=sG(e),this.services={},this.logger=bu,this.modules={external:[]},Xut(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Pt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=oG();this.options={...r,...this.options,...sG(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?bu.init(i(this.modules.logger),this.options):bu.init(null,this.options),this.modules.formatter?t=this.modules.formatter:typeof Intl<"u"&&(t=qut);const n=new rG(this.options);this.store=new tG(this.options.resources,this.options);const o=this.services;o.logger=bu,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Wut(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Gut(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Zut(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new t_(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=RC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=jv(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RC;const n=Pt(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?r(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e))),this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{!e&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=jv();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=RC),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Dme.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=jv();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{!e&&!t&&this.services.languageDetector&&(t=[]);const n=Pt(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const u=r.options.keySeparator||".";let c;return c=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${u}${e}`)):o.keyPrefix?`${o.keyPrefix}${u}${e}`:e,r.t(c,o)};return Pt(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(i,e)))}loadNamespaces(e,t){const n=jv();return this.options.ns?(Pt(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=jv();Pt(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new rG(oG());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new $b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RC;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new $b(r);return(void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new tG(this.store.data,r),i.services.resourceStore=i.store),i.translator=new t_(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vo=$b.createInstance();vo.createInstance=$b.createInstance;const Ome=vo.createInstance;vo.dir,vo.init,vo.loadResources,vo.reloadResources,vo.use,vo.changeLanguage,vo.getFixedT,vo.t,vo.exists,vo.setDefaultNamespace,vo.hasLoadedNamespace,vo.loadNamespaces,vo.loadLanguages;var Jut=function(e){return e};function Rme(e){void 0===e&&(e=Jut);var t=new kr;return[t.pipe(e),function(e){return t.next(e)}]}function Qut(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pb(e,t)}function tM(e){return(tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pb(e,t){return(Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ect(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function _S(e,t,n){return(_S=ect()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Pb(i,n.prototype),i}).apply(null,arguments)}function tct(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function nM(e){var t="function"==typeof Map?new Map:void 0;return nM=function(e){if(null===e||!tct(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _S(e,arguments,tM(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pb(n,e)},nM(e)}var MC=Object.freeze({left:0,top:0,bottom:0,right:0}),$C=Object.freeze({x:.5,y:.5,height:1,width:1}),nct=function(e){var t=e.top,n=e.bottom,r=e.left,i=e.right,o=MC.top,a=MC.bottom,s=MC.left,l=MC.right;return t===o&&n===a&&r===s&&i===l},rct=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=$C.x,a=$C.y,s=$C.width,l=$C.height;return t===o&&n===a&&r===s&&i===l},jN=function(e){function t(t,n){var r;return void 0===n&&(n="Failed to resolve asset ID from source"),(r=e.call(this,n)||this).unresolvable=!0,r.input=t,r}return Qut(t,e),t}(nM(Error));function ict(e){var t=e;return!(!t.unresolvable||!("input"in t))}function act(e){return function(){try{return e.apply(void 0,arguments)}catch(e){if(ict(e))return;throw e}}}var kS="https://cdn.sanity.io",Mme=/^https:\/\/cdn\.sanity\./,oct=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,sct=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,$me=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,Pme=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function lct(e){return rw(e)&&"string"==typeof e._ref}function uct(e){return rw(e)&&"string"==typeof e._id}function cct(e){return rw(e)&&"string"==typeof e.path}function dct(e){return rw(e)&&"string"==typeof e.url}function fct(e){var t=e;return rw(t)&&t.asset&&"object"==typeof t.asset}function rw(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e}function hct(e){if($me.test(e))return e;if(!Mme.test(e))throw new jN('Failed to resolve path from URL "'+e+'"');return new URL(e).pathname.replace(/^\/+/,"")}var pct="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function mct(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3],o=(r||"").split("x").map(Number),a=o[0],s=o[1];if(!(n&&r&&i&&a>0&&s>0))throw new Error("Malformed asset ID '"+e+"'. Expected an id like \""+pct+'".');return{type:"image",assetId:n,width:a,height:s,extension:i}}function gct(e){var t=mct(Fme(e)),n=t.width,r=t.height;return{width:n,height:r,aspectRatio:n/r}}function Fme(e){var t=fct(e)?e.asset:e,n="";if("string"==typeof t?n=vct(t):lct(t)?n=t._ref:uct(t)?n=t._id:cct(t)?n=Og(kS+"/"+t.path):dct(t)&&(n=Og(t.url)),!(n&&Pme.test(n)))throw new jN(e);return n}var Lme=act(Fme);function vct(e){if(Pme.test(e))return e;var t=Mme.test(e)?new URL(e).pathname:e;if(0===t.indexOf("/images")||0===t.indexOf("/files"))return Og(e);if($me.test(e))return Og(kS+"/"+e);if(bct(e))return Og(kS+"/files/a/b/"+e);if(yct(e))return Og(kS+"/images/a/b/"+e);throw new jN(e)}function Og(e){var t=hct(e).split("/"),n=t[0],r=t[3];return n.replace(/s$/,"")+"-"+r.replace(/\./g,"-")}function yct(e){return sct.test(e)}function bct(e){return oct.test(e)}function lG(e){var t=Lme(e);return!!t&&t.startsWith("file-")}function P1(e){var t=Lme(e);return!!t&&t.startsWith("image-")}var Nme={exports:{}};Nme.exports=function(){function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(this,arguments)}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=t(e))||n){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function o(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3];if(!n||!r||!o)throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+i+'".');var a=r.split("x"),s=+a[0],l=+a[1];if(!isFinite(s)||!isFinite(l))throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+i+'".');return{id:n,width:s,height:l,format:o}}var a=function(e){return!!e&&"string"==typeof e._ref},s=function(e){return!!e&&"string"==typeof e._id},l=function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url};function u(t){if(!t)return null;var n;if("string"==typeof t&&c(t))n={asset:{_ref:d(t)}};else if("string"==typeof t)n={asset:{_ref:t}};else if(a(t))n={asset:t};else if(s(t))n={asset:{_ref:t._id||""}};else if(l(t))n={asset:{_ref:d(t.asset.url)}};else{if("object"!=typeof t.asset)return null;n=e({},t)}var r=t;return r.crop&&(n.crop=r.crop),r.hotspot&&(n.hotspot=r.hotspot),f(n)}function c(e){return/^https?:\/\//.test(""+e)}function d(e){return("image-"+e.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function f(t){if(t.crop&&t.hotspot)return t;var n=e({},t);return n.crop||(n.crop={left:0,top:0,bottom:0,right:0}),n.hotspot||(n.hotspot={x:.5,y:.5,height:1,width:1}),n}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function h(t){var n=e({},t||{}),r=n.source;delete n.source;var i=u(r);if(!i)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(r)+")");var a=o(i.asset._ref||i.asset._id||""),s=Math.round(i.crop.left*a.width),l=Math.round(i.crop.top*a.height),c={left:s,top:l,width:Math.round(a.width-i.crop.right*a.width-s),height:Math.round(a.height-i.crop.bottom*a.height-l)},d=i.hotspot.height*a.height/2,f=i.hotspot.width*a.width/2,p=i.hotspot.x*a.width,h=i.hotspot.y*a.height,y={left:p-f,top:h-d,right:p+f,bottom:h+d};return n.rect||n.focalPoint||n.ignoreImageParams||n.crop||(n=e({},n,g({crop:c,hotspot:y},n))),m(e({},n,{asset:a}))}function m(e){var t=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),n=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format,r=t+"/images/"+e.projectId+"/"+e.dataset+"/"+n,i=[];if(e.rect){var o=e.rect,a=o.left,s=o.top,l=o.width,u=o.height;(0!==a||0!==s||u!==e.asset.height||l!==e.asset.width)&&i.push("rect="+a+","+s+","+l+","+u)}e.bg&&i.push("bg="+e.bg),e.focalPoint&&(i.push("fp-x="+e.focalPoint.x),i.push("fp-y="+e.focalPoint.y));var c=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return c&&i.push("flip="+c),p.forEach((function(t){var n=t[0],r=t[1];typeof e[n]<"u"?i.push(r+"="+encodeURIComponent(e[n])):typeof e[r]<"u"&&i.push(r+"="+encodeURIComponent(e[r]))})),0===i.length?r:r+"?"+i.join("&")}function g(e,t){var n,r=t.width,i=t.height;if(!r||!i)return{width:r,height:i,rect:e.crop};var o=e.crop,a=e.hotspot,s=r/i;if(o.width/o.height>s){var l=Math.round(o.height),u=Math.round(l*s),c=Math.max(0,Math.round(o.top)),d=Math.round((a.right-a.left)/2+a.left),f=Math.max(0,Math.round(d-u/2));f<o.left?f=o.left:f+u>o.left+o.width&&(f=o.left+o.width-u),n={left:f,top:c,width:u,height:l}}else{var p=o.width,h=Math.round(p/s),m=Math.max(0,Math.round(o.left)),g=Math.round((a.bottom-a.top)/2+a.top),y=Math.max(0,Math.round(g-h/2));y<o.top?y=o.top:y+h>o.top+o.height&&(y=o.top+o.height-h),n={left:m,top:y,width:p,height:h}}return{width:r,height:i,rect:n}}var y=["clip","crop","fill","fillmax","max","scale","min"],v=["top","bottom","left","right","center","focalpoint","entropy"],b=["format"];function x(e){return!(!e||!("config"in e))&&"function"==typeof e.config}function w(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}function C(e){for(var t,n=r(p);!(t=n()).done;){var i=t.value,o=i[0],a=i[1];if(e===o||e===a)return o}return e}function k(e){if(x(e)){var t=e.config(),n=t.apiHost,r=t.projectId,i=t.dataset;return new j(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:i})}var o=e;if(w(o)){var a=o.clientConfig,s=a.apiHost,l=a.projectId,u=a.dataset;return new j(null,{baseUrl:(s||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:l,dataset:u})}return new j(null,e)}var j=function(){function t(t,n){this.options=void 0,this.options=t?e({},t.options||{},n||{}):e({},n||{})}var n=t.prototype;return n.withOptions=function(n){var r=n.baseUrl||this.options.baseUrl,i={baseUrl:r};for(var o in n)n.hasOwnProperty(o)&&(i[C(o)]=n[o]);return new t(this,e({baseUrl:r},i))},n.image=function(e){return this.withOptions({source:e})},n.dataset=function(e){return this.withOptions({dataset:e})},n.projectId=function(e){return this.withOptions({projectId:e})},n.bg=function(e){return this.withOptions({bg:e})},n.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},n.width=function(e){return this.withOptions({width:e})},n.height=function(e){return this.withOptions({height:e})},n.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},n.maxWidth=function(e){return this.withOptions({maxWidth:e})},n.minWidth=function(e){return this.withOptions({minWidth:e})},n.maxHeight=function(e){return this.withOptions({maxHeight:e})},n.minHeight=function(e){return this.withOptions({minHeight:e})},n.size=function(e,t){return this.withOptions({width:e,height:t})},n.blur=function(e){return this.withOptions({blur:e})},n.sharpen=function(e){return this.withOptions({sharpen:e})},n.rect=function(e,t,n,r){return this.withOptions({rect:{left:e,top:t,width:n,height:r}})},n.format=function(e){return this.withOptions({format:e})},n.invert=function(e){return this.withOptions({invert:e})},n.orientation=function(e){return this.withOptions({orientation:e})},n.quality=function(e){return this.withOptions({quality:e})},n.forceDownload=function(e){return this.withOptions({download:e})},n.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},n.flipVertical=function(){return this.withOptions({flipVertical:!0})},n.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},n.fit=function(e){if(-1===y.indexOf(e))throw new Error('Invalid fit mode "'+e+'"');return this.withOptions({fit:e})},n.crop=function(e){if(-1===v.indexOf(e))throw new Error('Invalid crop mode "'+e+'"');return this.withOptions({crop:e})},n.saturation=function(e){return this.withOptions({saturation:e})},n.auto=function(e){if(-1===b.indexOf(e))throw new Error('Invalid auto mode "'+e+'"');return this.withOptions({auto:e})},n.pad=function(e){return this.withOptions({pad:e})},n.url=function(){return h(this.options)},n.toString=function(){return this.url()},t}();return k}();var xct=Nme.exports;const iw=Be(xct),wct=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),PI={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Bme={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:wct?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},IN={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var PC=1;PC<20;PC++)IN["f"+PC]=111+PC;function aa(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);const r=e.map((e=>Cct(e,t))),i=e=>r.some((t=>Sct(t,e)));return null==n?i:i(n)}function Cct(e,t){const n=t&&t.byKey,r={},i=(e=e.replace("++","+add")).split("+"),{length:o}=i;for(const e in PI)r[PI[e]]=!1;for(let e of i){const t=e.endsWith("?")&&e.length>1;t&&(e=e.slice(0,-1));const i=Vme(e),a=PI[i];if(e.length>1&&!a&&!Bme[e]&&!IN[i])throw new TypeError(`Unknown modifier: "${e}"`);(1===o||!a)&&(n?r.key=i:r.which=Ect(e)),a&&(r[a]=!t||null)}return r}function Sct(e,t){for(const n in e){const r=e[n];let i;if(null!=r&&(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n],(null!=i||!1!==r)&&i!==r))return!1}return!0}function Ect(e){return e=Vme(e),IN[e]||e.toUpperCase().charCodeAt(0)}function Vme(e){return e=e.toLowerCase(),e=Bme[e]||e}var zme={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var o in e)t.call(e,o)&&e[o]&&(r=i(r,o));return r}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(zme);var _ct=zme.exports;const kct=Be(_ct);function uG(e){return"function"==typeof e?e():e}const FC=new WeakMap;function Wr(e,t){const n=f.useRef(uG(t));f.useEffect((()=>{n.current=uG(t)}),[t]);const r=f.useMemo((()=>{if(!FC.has(e)){const t={snapshot:n.current};t.observable=e.pipe(fe((e=>({snapshot:e,error:void 0}))),pn((e=>we({snapshot:void 0,error:e}))),qn((({snapshot:e,error:n})=>{t.snapshot=e,t.error=n})),fe((e=>{})),Kk((()=>FC.delete(e))),ho()),t.subscription=t.observable.subscribe(),FC.set(e,t)}const t=FC.get(e);return t.subscription.closed&&(t.subscription=t.observable.subscribe()),{subscribe:e=>{const n=t.observable.subscribe(e);return t.subscription.unsubscribe(),()=>{n.unsubscribe()}},getSnapshot:()=>{if(t.error)throw t.error;return t.snapshot}}}),[e]);return f.useSyncExternalStore(r.subscribe,r.getSnapshot,typeof n.current>"u"?void 0:()=>n.current)}function mT(e){const[[t,n]]=f.useState((()=>Rme())),r=VL((t=>e(t)));return f.useEffect((()=>{const e=t.pipe((e=>r(e))).subscribe();return()=>e.unsubscribe()}),[t,r]),n}function Tct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}var Act=Tct,jct=Efe;function Ict(e,t,n,r){return jct(e,(function(e,i,o){t(r,e,n(e),o)})),r}var Dct=Ict,Oct=Act,Rct=Dct,Mct=Jf,$ct=Ei;function Pct(e,t){return function(n,r){var i=$ct(n)?Oct:Rct,o=t?t():{};return i(n,e,Mct(r),o)}}var DN=Pct,Fct=Qk,Lct=DN,Nct=Object.prototype,Bct=Nct.hasOwnProperty,Vct=Lct((function(e,t,n){Bct.call(e,n)?e[n].push(t):Fct(e,n,[t])})),zct=Vct;const ON=Be(zct);var Uct=kfe,cG=Ei;function Hct(e,t,n,r){return null==e?[]:(cG(t)||(t=null==t?[]:[t]),cG(n=r?void 0:n)||(n=null==n?[]:[n]),Uct(e,t,n))}var Wct=Hct;const F1=Be(Wct);var Gct=Fk,Yct=kN,qct=TN,Kct=Wu,Zct=A1,Xct=Lk,Jct=200;function Qct(e,t,n,r){var i=-1,o=Yct,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Kct(t,Zct(n))),r?(o=qct,a=!1):t.length>=Jct&&(o=Xct,a=!1,t=new Gct(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l}var Ume=Qct,edt=Xf,tdt=bs;function ndt(e){return tdt(e)&&edt(e)}var gT=ndt,rdt=Ume,idt=C1,adt=fm,dG=gT,odt=adt((function(e,t){return dG(e)?rdt(e,idt(t,1,dG,!0)):[]})),sdt=odt;const Rp=Be(sdt);var ldt=ll,udt=ldt.isFinite;function cdt(e){return"number"==typeof e&&udt(e)}var ddt=cdt;const Hme=Be(ddt),Mp=5,FI={},Wme=e=>(FI[e]||(FI[e]=Symbol(`__cachedStringFields_${e}`)),FI[e]),fdt=e=>e.type&&"reference"===e.type.name,hdt=["style","list"],RN=e=>"block"===e.name||e.type&&RN(e.type),pdt=e=>"array"===e.jsonType&&Array.isArray(e.of)&&e.of.some(RN);function vT(e,t,n,r=[],i){if(i<0)return n;const o=t(n,e,r);return"array"===e.jsonType&&Array.isArray(e.of)?mdt(e,t,o,r,i):"object"===e.jsonType&&Array.isArray(e.fields)&&!fdt(e)?gdt(e,t,o,r,i):o}function mdt(e,t,n,r,i){return e.of.reduce(((e,n)=>vT(n,t,e,r,i-1)),n)}function gdt(e,t,n,r,i){const o=RN(e);return e.fields.reduce(((e,n)=>{if(o&&hdt.includes(n.name))return e;const a=[n.name].concat("array"===n.type.jsonType?[[]]:[]);return vT(n.type,t,e,r.concat(a),i-1)}),n)}const Gme=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],fG={title:10,subtitle:5,description:1.5};function Yme(e,t){var n;const r=null==(n=e?.preview)?void 0:n.select;if(!r)return[];const i=[];for(const e of Object.keys(r)){if(!(e in fG))continue;const n=r[e].split(".");t>-1&&n.length-1>t||i.push({weight:fG[e],path:n})}return i}function vdt(e,t){const n=Wme(t);return e[n]||(e[n]=Mf([...Gme,...Yme(e,t),...bdt(e,t).map((e=>({weight:1,path:e}))),...xdt(e,t).map((e=>({weight:1,path:e,mapWith:"pt::text"})))],(e=>e.path.join(".")))),e[n]}function ydt(e,t){const n=Wme(t);return e[n]||(e[n]=Mf([...Gme,...Yme(e,t)],(e=>e.path.join(".")))),e[n]}function bdt(e,t){return vT(e,((e,t,n)=>"string"===t.jsonType?[...e,n]:e),[],[],t)}function xdt(e,t){return vT(e,((e,t,n)=>pdt(t)?[...e,n]:e),[],[],t)}function wdt(e,t){return ydt(e,qme(t))}function Cdt(e,t){return vdt(e,qme(t))}function qme(e){return!Hme(e)||e<1||e>Mp?Mp-1:e-1}var LI,hG,rM={exports:{}};function Kme(){if(hG)return LI;hG=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,o=365.25*r;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return LI=function(s,l){l=l||{};var u=typeof s;if("string"===u&&s.length>0)return function(a){if(a=String(a),!(a.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(s){var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}(s);if("number"===u&&isFinite(s))return l.long?function(i){var o=Math.abs(i);return o>=r?a(i,o,r,"day"):o>=n?a(i,o,n,"hour"):o>=t?a(i,o,t,"minute"):o>=e?a(i,o,e,"second"):i+" ms"}(s):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}function Sdt(e){function t(e){let r,i,o,a=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];r=o.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){const r=t(this.namespace+(typeof n>"u"?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Kme(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}var Edt=Sdt;!function(e,t){var n={};t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=n.DEBUG),e},t.useColors=function(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Edt(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(rM,rM.exports);var _dt=rM.exports;const fa=Be(_dt);var kdt=Object.defineProperty,Tdt=(e,t,n)=>t in e?kdt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pG=(e,t,n)=>Tdt(e,"symbol"!=typeof t?t+"":t,n);function Adt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jdt(e){const t=[];for(const n of e.split("."))"*"===n?t.push("[^.]+"):"**"===n?t.push(".*"):t.push(Adt(n));return new RegExp(`^${t.join(".")}$`)}let Zme=class{constructor(e){pG(this,"pattern"),pG(this,"patternRe"),this.pattern=e,this.patternRe=jdt(e)}matches(e){return this.patternRe.test(e)}toJSON(){return this.pattern}};var Idt=Object.defineProperty,Ddt=(e,t,n)=>t in e?Idt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iv=(e,t,n)=>Ddt(e,"symbol"!=typeof t?t+"":t,n);class df{constructor(e){Iv(this,"type","stream"),Iv(this,"generator"),Iv(this,"ticker"),Iv(this,"isDone"),Iv(this,"data"),this.generator=e,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const e=[];for await(const t of this)e.push(await t.get());return e}async*[Symbol.asyncIterator](){let e=0;for(;;){for(;e<this.data.length;e++)yield this.data[e];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let e;const t=()=>{this.ticker=new Promise((t=>{e=t}))},n=()=>{e(),t()};return t(),(async()=>{for await(const e of this.generator())this.data.push(e),n();this.isDone=!0,n()})(),this.ticker}}const Odt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function Rdt(e){return Odt.test(e)?new Date(e):null}function Mdt(e){const t=yh(e.getUTCFullYear(),4),n=yh(e.getUTCMonth()+1,2),r=yh(e.getUTCDate(),2),i=yh(e.getUTCHours(),2),o=yh(e.getUTCMinutes(),2),a=yh(e.getUTCSeconds(),2);let s="";const l=e.getMilliseconds();return 0!=l&&(s=`.${yh(l,3)}`),`${t}-${n}-${r}T${i}:${o}:${a}${s}Z`}function yh(e,t){let n=e.toString();for(;n.length<t;)n=`0${n}`;return n}var $dt=Object.defineProperty,Pdt=(e,t,n)=>t in e?$dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iM=(e,t,n)=>Pdt(e,"symbol"!=typeof t?t+"":t,n);class Td{constructor(e,t){iM(this,"data"),iM(this,"type"),this.data=e,this.type=t}isArray(){return"array"===this.type}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(e){for(const t of e)yield cr(t)}(this.data);throw new Error(`Cannot iterate over: ${this.type}`)}}const We=new Td(null,"null"),oa=new Td(!0,"boolean"),Gi=new Td(!1,"boolean");class k0{constructor(e){iM(this,"date"),this.date=e}static parseToValue(e){const t=Rdt(e);return t?new Td(new k0(t),"datetime"):We}equals(e){return this.date.getTime()==e.date.getTime()}add(e){const t=new Date(this.date.getTime());return t.setTime(t.getTime()+1e3*e),new k0(t)}difference(e){return(this.date.getTime()-e.date.getTime())/1e3}compareTo(e){return this.date.getTime()-e.date.getTime()}toString(){return Mdt(this.date)}toJSON(){return this.toString()}}function qs(e){return Number.isFinite(e)?new Td(e,"number"):We}function Ks(e){return new Td(e,"string")}function aM(e){return new Td(e,"datetime")}function Fdt(e){return new Td(e,"path")}function Ldt(e){return e&&"function"==typeof e.next}function cr(e){return Ldt(e)?new df((async function*(){for await(const t of e)yield cr(t)})):null==e?We:new Td(e,$f(e))}function $f(e){return null===e||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof Zme?"path":e instanceof k0?"datetime":typeof e}function TS(e,t){return"string"===e.type&&"string"===t.type||"boolean"===e.type&&"boolean"===t.type||"null"===e.type&&"null"===t.type||"number"===e.type&&"number"===t.type?e.data===t.data:"datetime"===e.type&&"datetime"===t.type&&e.data.equals(t.data)}const Ndt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Bdt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,Xme=/(\b\.+|\.+\b)/g;function Vdt(e,t){return 0!==e.length&&0!==t.length&&t.every((t=>t(e)))}function Jme(e){return e.replace(Xme,"").match(Ndt)||[]}function zdt(e){return Qme(e).map((e=>t=>t.some((t=>e.test(t)))))}function Qme(e){return(e.replace(Xme,"").match(Bdt)||[]).map((e=>new RegExp(`^${e.slice(0,1024).replace(/\*/g,".*")}$`,"i")))}async function n_(e,t){if("string"===e.type)return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)"string"===r.type?t(r.data):n=!1;return n}return!1}const mG={datetime:1,number:2,string:3,boolean:4};function Wh(e,t){const n=$f(e);if(n!==$f(t))return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function Udt(e,t){const n=$f(e),r=$f(t),i=mG[n]||100,o=mG[r]||100;if(i!==o)return i-o;let a=Wh(e,t);return null===a&&(a=0),a}const Hdt={"==":function(e,t){return TS(e,t)?oa:Gi},"!=":function(e,t){return TS(e,t)?Gi:oa},">":function(e,t){if("stream"===e.type||"stream"===t.type)return We;const n=Wh(e.data,t.data);return null===n?We:n>0?oa:Gi},">=":function(e,t){if("stream"===e.type||"stream"===t.type)return We;const n=Wh(e.data,t.data);return null===n?We:n>=0?oa:Gi},"<":function(e,t){if("stream"===e.type||"stream"===t.type)return We;const n=Wh(e.data,t.data);return null===n?We:n<0?oa:Gi},"<=":function(e,t){if("stream"===e.type||"stream"===t.type)return We;const n=Wh(e.data,t.data);return null===n?We:n<=0?oa:Gi},in:async function(e,t){if("path"===t.type)return"string"!==e.type?We:t.data.matches(e.data)?oa:Gi;if(t.isArray()){for await(const n of t)if(TS(e,n))return oa;return Gi}return We},match:async function(e,t){let n=[],r=[];return await n_(e,(e=>{n=n.concat(Jme(e))})),await n_(t,(e=>{r=r.concat(zdt(e))}))&&Vdt(n,r)?oa:Gi},"+":function(e,t){return"datetime"===e.type&&"number"===t.type?aM(e.data.add(t.data)):"number"===e.type&&"number"===t.type?qs(e.data+t.data):"string"===e.type&&"string"===t.type?Ks(e.data+t.data):"object"===e.type&&"object"===t.type?cr({...e.data,...t.data}):"array"===e.type&&"array"===t.type?cr(e.data.concat(t.data)):e.isArray()&&t.isArray()?new df((async function*(){for await(const t of e)yield t;for await(const e of t)yield e})):We},"-":function(e,t){return"datetime"===e.type&&"number"===t.type?aM(e.data.add(-t.data)):"datetime"===e.type&&"datetime"===t.type?qs(e.data.difference(t.data)):"number"===e.type&&"number"===t.type?qs(e.data-t.data):We},"*":LC(((e,t)=>e*t)),"/":LC(((e,t)=>e/t)),"%":LC(((e,t)=>e%t)),"**":LC(((e,t)=>Math.pow(e,t)))};function LC(e){return function(t,n){if("number"===t.type&&"number"===n.type){return qs(e(t.data,n.data))}return We}}var Wdt=Object.defineProperty,Gdt=(e,t,n)=>t in e?Wdt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eg=(e,t,n)=>Gdt(e,"symbol"!=typeof t?t+"":t,n);let ege=class e{constructor(e,t,n,r,i){eg(this,"params"),eg(this,"source"),eg(this,"value"),eg(this,"parent"),eg(this,"context"),eg(this,"isHidden",!1),this.params=e,this.source=t,this.value=n,this.context=r,this.parent=i}createNested(t){return this.isHidden?new e(this.params,this.source,t,this.context,this.parent):new e(this.params,this.source,t,this.context,this)}createHidden(e){const t=this.createNested(e);return t.isHidden=!0,t}};function MN(e,t,n=MN){return(0,Ydt[e.type])(e,t,n)}function gG(e,t){return"then"in e?e.then(t):t(e)}const Ydt={This:(e,t)=>t.value,Selector(){throw new Error("Selectors can not be evaluated")},Everything:(e,t)=>t.source,Parameter:({name:e},t)=>cr(t.params[e]),Context({key:e},t){if("before"===e||"after"===e)return t.context[e]||We;throw new Error(`unknown context key: ${e}`)},Parent({n:e},t){let n=t;for(let t=0;t<e;t++){if(!n.parent)return We;n=n.parent}return n.value},OpCall({op:e,left:t,right:n},r,i){const o=Hdt[e];if(!o)throw new Error(`Unknown operator: ${e}`);const a=i(t,r),s=i(n,r);return"then"in a||"then"in s?(async()=>o(await a,await s))():o(a,s)},async Select({alternatives:e,fallback:t},n,r){for(const t of e){const e=await r(t.condition,n);if("boolean"===e.type&&!0===e.data)return r(t.value,n)}return t?r(t,n):We},async InRange({base:e,left:t,right:n,isInclusive:r},i,o){const a=await o(e,i),s=await o(t,i),l=await o(n,i),u=Wh(await a.get(),await s.get());if(null===u)return We;const c=Wh(await a.get(),await l.get());return null===c?We:r?u>=0&&c<=0?oa:Gi:u>=0&&c<0?oa:Gi},async Filter({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new df((async function*(){for await(const e of i){const i=n.createNested(e),o=await r(t,i);"boolean"===o.type&&!0===o.data&&(yield e)}})):We},async Projection({base:e,expr:t},n,r){const i=await r(e,n);if("object"!==i.type)return We;return r(t,n.createNested(i))},FuncCall:({func:e,args:t},n,r)=>e(t,n,r),PipeFuncCall:async({func:e,base:t,args:n},r,i)=>e(await i(t,r),n,r,i),async AccessAttribute({base:e,name:t},n,r){let i=n.value;return e&&(i=await r(e,n)),"object"===i.type&&i.data.hasOwnProperty(t)?cr(i.data[t]):We},async AccessElement({base:e,index:t},n,r){const i=await r(e,n);if(!i.isArray())return We;const o=await i.get();return cr(o[t<0?t+o.length:t])},async Slice({base:e,left:t,right:n,isInclusive:r},i,o){const a=await o(e,i);if(!a.isArray())return We;const s=await a.get();let l=t,u=n;return l<0&&(l=s.length+l),u<0&&(u=s.length+u),r&&u++,l<0&&(l=0),u<0&&(u=0),cr(s.slice(l,u))},async Deref({base:e},t,n){const r=await n(e,t);if(!t.source.isArray()||"object"!==r.type)return We;const i=r.data._ref;if("string"!=typeof i)return We;if(t.context.dereference)return cr(await t.context.dereference({_ref:i}));for await(const e of t.source)if("object"===e.type&&i===e.data._id)return e;return We},Value:({value:e})=>cr(e),Group:({base:e},t,n)=>n(e,t),async Object({attributes:e},t,n){const r={};for(const i of e){const e=i.type;switch(i.type){case"ObjectAttributeValue":{const e=await n(i.value,t);r[i.name]=await e.get();break}case"ObjectConditionalSplat":{const e=await n(i.condition,t);if("boolean"!==e.type||!1===e.data)continue;const o=await n(i.value,t);"object"===o.type&&Object.assign(r,o.data);break}case"ObjectSplat":{const e=await n(i.value,t);"object"===e.type&&Object.assign(r,e.data);break}default:throw new Error(`Unknown node type: ${e}`)}}return cr(r)},Array:({elements:e},t,n)=>new df((async function*(){for(const r of e){const e=await n(r.value,t);if(r.isSplat){if(e.isArray())for await(const t of e)yield t}else yield e}})),Tuple(){throw new Error("tuples can not be evaluated")},async Or({left:e,right:t},n,r){const i=await r(e,n),o=await r(t,n);return"boolean"===i.type&&!0===i.data||"boolean"===o.type&&!0===o.data?oa:"boolean"!==i.type||"boolean"!==o.type?We:Gi},async And({left:e,right:t},n,r){const i=await r(e,n),o=await r(t,n);return"boolean"===i.type&&!1===i.data||"boolean"===o.type&&!1===o.data?Gi:"boolean"!==i.type||"boolean"!==o.type?We:oa},async Not({base:e},t,n){const r=await n(e,t);return"boolean"!==r.type?We:r.data?Gi:oa},Neg:({base:e},t,n)=>gG(n(e,t),(e=>"number"!==e.type?We:qs(-e.data))),Pos:({base:e},t,n)=>gG(n(e,t),(e=>"number"!==e.type?We:qs(e.data))),Asc:()=>We,Desc:()=>We,async ArrayCoerce({base:e},t,n){const r=await n(e,t);return r.isArray()?r:We},async Map({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new df((async function*(){for await(const e of i){const i=n.createHidden(e);yield await r(t,i)}})):We},async FlatMap({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new df((async function*(){for await(const e of i){const i=n.createHidden(e),o=await r(t,i);if(o.isArray())for await(const e of o)yield e;else yield o}})):We}};function qdt(e,t={}){const n=cr(t.root),r=cr(t.dataset),i={...t.params};return MN(e,new ege(i,r,n,{timestamp:t.timestamp||new Date,identity:void 0===t.identity?"me":t.identity,sanity:t.sanity,after:t.after?cr(t.after):null,before:t.before?cr(t.before):null,dereference:t.dereference},null))}function Cy(e){switch(e.type){case"Group":return Cy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Cy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Cy(e.left)&&Cy(e.right);default:return!1}default:return!1}}const Kdt=new ege({},We,We,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function NI(e){return Cy(e)?tge(e):null}function tge(e){const t=MN(e,Kdt,tge);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function Zdt(e){if("object"===e.type)return rge(e.data);if(e.isArray()){const t=await nge(e);if(t.length>0)return t.join("\n\n")}return null}async function nge(e,t=[]){for await(const n of e)if("object"===n.type){const e=rge(n.data);null!==e&&t.push(e)}else n.isArray()&&await nge(n,t);return t}function rge(e){if("string"!=typeof e._type)return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const e of t)e&&"object"==typeof e&&"string"==typeof e._type&&"span"===e._type&&"string"==typeof e.text&&(n+=e.text);return n}const vG=1.2;async function hg(e,t,n){if("OpCall"===e.type&&"match"===e.op)return Xdt(e.left,e.right,t,n);if("FuncCall"===e.type&&"boost"===e.name){const r=await hg(e.args[0],t,n),i=await n(e.args[1],t);return"number"===i.type&&r>0?r+i.data:0}switch(e.type){case"Or":return await hg(e.left,t,n)+await hg(e.right,t,n);case"And":{const r=await hg(e.left,t,n),i=await hg(e.right,t,n);return 0===r||0===i?0:r+i}default:{const r=await n(e,t);return"boolean"===r.type&&!0===r.data?1:0}}}async function Xdt(e,t,n,r){const i=await r(e,n),o=await r(t,n);let a=[],s=[];if(await n_(i,(e=>{a=a.concat(Jme(e))})),!await n_(o,(e=>{s=s.concat(Qme(e))}))||0===a.length||0===s.length)return 0;let l=0;for(const e of s){const t=a.reduce(((t,n)=>t+(e.test(n)?1:0)),0);l+=t*(vG+1)/(t+vG)}return l}function sM(e,t){switch($f(e)){case"array":for(const n of e)if(sM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(sM(n,t))return!0}return!1}function Jdt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const lr={anywhere:async function(){throw new Error("not implemented")}};lr.anywhere.arity=1,lr.coalesce=async function(e,t,n){for(const r of e){const e=await n(r,t);if("null"!==e.type)return e}return We},lr.count=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;let i=0;for await(const e of r)i++;return qs(i)},lr.count.arity=1,lr.dateTime=async function(e,t,n){const r=await n(e[0],t);return"datetime"===r.type?r:"string"!==r.type?We:k0.parseToValue(r.data)},lr.dateTime.arity=1,lr.defined=async function(e,t,n){return"null"===(await n(e[0],t)).type?Gi:oa},lr.defined.arity=1,lr.identity=async function(e,t){return Ks(t.context.identity)},lr.identity.arity=0,lr.length=async function(e,t,n){const r=await n(e[0],t);if("string"===r.type)return qs(Jdt(r.data));if(r.isArray()){let e=0;for await(const t of r)e++;return qs(e)}return We},lr.length.arity=1,lr.path=async function(e,t,n){const r=await n(e[0],t);return"string"!==r.type?We:Fdt(new Zme(r.data))},lr.path.arity=1,lr.string=async function(e,t,n){const r=await n(e[0],t);switch(r.type){case"number":case"string":case"boolean":case"datetime":return Ks(`${r.data}`);default:return We}},lr.string.arity=1,lr.references=async function(e,t,n){const r=new Set;for(const i of e){const e=await n(i,t);if("string"===e.type)r.add(e.data);else if(e.isArray())for await(const t of e)"string"===t.type&&r.add(t.data)}if(0===r.size)return Gi;return sM(await t.value.get(),r)?oa:Gi},lr.references.arity=e=>e>=1,lr.round=async function(e,t,n){const r=await n(e[0],t);if("number"!==r.type)return We;const i=r.data;let o=0;if(2===e.length){const r=await n(e[1],t);if("number"!==r.type||r.data<0||!Number.isInteger(r.data))return We;o=r.data}return qs(0===o?i<0?-Math.round(-i):Math.round(i):Number(i.toFixed(o)))},lr.round.arity=e=>e>=1&&e<=2,lr.now=async function(e,t){return Ks(t.context.timestamp.toISOString())},lr.now.arity=0,lr.boost=async function(){throw new Error("unexpected boost call")},lr.boost.arity=2;const ql={lower:async function(e,t,n){const r=await n(e[0],t);return"string"!==r.type?We:Ks(r.data.toLowerCase())}};ql.lower.arity=1,ql.upper=async function(e,t,n){const r=await n(e[0],t);return"string"!==r.type?We:Ks(r.data.toUpperCase())},ql.upper.arity=1,ql.split=async function(e,t,n){const r=await n(e[0],t);if("string"!==r.type)return We;const i=await n(e[1],t);return"string"!==i.type?We:0===r.data.length?cr([]):0===i.data.length?cr(Array.from(r.data)):cr(r.data.split(i.data))},ql.split.arity=2,lr.lower=ql.lower,lr.upper=ql.upper,ql.startsWith=async function(e,t,n){const r=await n(e[0],t);if("string"!==r.type)return We;const i=await n(e[1],t);return"string"!==i.type?We:r.data.startsWith(i.data)?oa:Gi},ql.startsWith.arity=2;const Ad={join:async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;const i=await n(e[1],t);if("string"!==i.type)return We;let o="",a=!1;for await(const e of r){switch(a&&(o+=i.data),e.type){case"number":case"string":case"boolean":case"datetime":o+=`${e.data}`;break;default:return We}a=!0}return cr(o)}};Ad.join.arity=2,Ad.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new df((async function*(){for await(const e of r)"null"!==e.type&&(yield e)})):We},Ad.compact.arity=1,Ad.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new df((async function*(){const e=new Set;for await(const t of r)switch(t.type){case"number":case"string":case"boolean":case"datetime":e.has(t.data)||(e.add(t.data),yield t);break;default:yield t}})):We},Ad.unique.arity=1,Ad.intersects=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;const i=await n(e[1],t);if(!i.isArray())return We;for await(const e of r)for await(const t of i)if(TS(e,t))return oa;return Gi},Ad.intersects.arity=2;const $N={text:async function(e,t,n){const r=await n(e[0],t),i=await Zdt(r);return null===i?We:Ks(i)}};$N.text.arity=1;const gm={projectId:async function(e,t){return t.context.sanity?Ks(t.context.sanity.projectId):We},dataset:async function(e,t){return t.context.sanity?Ks(t.context.sanity.dataset):We},versionOf:async function(e,t,n){if(!t.source.isArray())return We;const r=await n(e[0],t);if("string"!==r.type)return We;const i=r.data,o=[];for await(const e of t.source)if("object"===$f(e)){const t=await e.get();t&&"_id"in t&&2===t._id.split(".").length&&t._id.endsWith(`.${i}`)&&"_version"in t&&"object"==typeof t._version&&o.push(t._id)}return cr(o)}};gm.versionOf.arity=1,gm.documentsOf=async function(e,t,n){if(!t.source.isArray())return We;const r=await n(e[0],t);if("string"!==r.type)return We;const i=r.data,o=[];for await(const e of t.source)if("object"===$f(e)){const t=await e.get();t&&"_id"in t&&2===t._id.split(".").length&&t._id.startsWith(`${i}.`)&&"_version"in t&&"object"==typeof t._version&&o.push(t._id)}return cr(o)},gm.documentsOf.arity=1;const aw={order:async function(e,t,n,r){if(await!0,!e.isArray())return We;const i=[],o=[];let a=0;for(let e of t){let t="asc";"Desc"===e.type?(t="desc",e=e.base):"Asc"===e.type&&(e=e.base),i.push(e),o.push(t),a++}const s=[];let l=0;for await(const t of e){const e=n.createNested(t),o=[await t.get(),l];for(let t=0;t<a;t++){const n=await r(i[t],e);o.push(await n.get())}s.push(o),l++}return s.sort(((e,t)=>{for(let n=0;n<a;n++){let r=Udt(e[n+2],t[n+2]);if("desc"===o[n]&&(r=-r),0!==r)return r}return e[1]-t[1]})),cr(s.map((e=>e[0])))}};aw.order.arity=e=>e>=1,aw.score=async function(e,t,n,r){if(!e.isArray())return We;const i=[],o=[];for await(const a of e){if("object"!==a.type){i.push(await a.get());continue}const e=n.createNested(a);let s="number"==typeof a.data._score?a.data._score:0;for(const n of t)s+=await hg(n,e,r);const l=Object.assign({},a.data,{_score:s});o.push(l)}return o.sort(((e,t)=>t._score-e._score)),cr(o)},aw.score.arity=e=>e>=1;const th={operation:async function(e,t){const n=null!==t.context.before,r=null!==t.context.after;return n&&r?Ks("update"):r?Ks("create"):n?Ks("delete"):We},changedAny:()=>{throw new Error("not implemented")}};th.changedAny.arity=1,th.changedAny.mode="delta",th.changedOnly=()=>{throw new Error("not implemented")},th.changedOnly.arity=1,th.changedOnly.mode="delta";const ow={changedAny:()=>{throw new Error("not implemented")}};ow.changedAny.arity=3,ow.changedOnly=()=>{throw new Error("not implemented")},ow.changedOnly.arity=3;const jd={min:async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;let i;for await(const e of r)if("null"!==e.type){if("number"!==e.type)return We;(void 0===i||e.data<i)&&(i=e.data)}return cr(i)}};jd.min.arity=1,jd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;let i;for await(const e of r)if("null"!==e.type){if("number"!==e.type)return We;(void 0===i||e.data>i)&&(i=e.data)}return cr(i)},jd.max.arity=1,jd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;let i=0;for await(const e of r)if("null"!==e.type){if("number"!==e.type)return We;i+=e.data}return cr(i)},jd.sum.arity=1,jd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return We;let i=0,o=0;for await(const e of r)if("null"!==e.type){if("number"!==e.type)return We;i+=e.data,o++}return 0===o?We:cr(i/o)},jd.avg.arity=1;const PN={now:async function(e,t){return aM(new k0(t.context.timestamp))}};PN.now.arity=0;const Qdt={global:lr,string:ql,array:Ad,pt:$N,delta:th,diff:ow,sanity:gm,math:jd,dateTime:PN};var eft=Object.defineProperty,tft=(e,t,n)=>t in e?eft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dv=(e,t,n)=>tft(e,"symbol"!=typeof t?t+"":t,n);class nft{constructor(e,t,n){Dv(this,"string"),Dv(this,"marks"),Dv(this,"index"),Dv(this,"parseOptions"),Dv(this,"allowBoost",!1),this.string=e,this.marks=t,this.index=0,this.parseOptions=n}hasMark(e=0){return this.index+e<this.marks.length}getMark(e=0){return this.marks[this.index+e]}shift(){this.index+=1}process(e){const t=this.marks[this.index];this.shift();const n=e[t.name];if(!n)throw new Error(`Unknown handler: ${t.name}`);return n.call(e,this,t)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const e=this.marks[this.index-1],t=this.marks[this.index];return this.shift(),this.string.slice(e.position,t.position)}slice(e){const t=this.marks[this.index].position;return this.string.slice(t,t+e)}}const rft=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,BI=/^\d+/,Gh=/^[a-zA-Z_][a-zA-Z_0-9]*/;function ift(e){let t=0;t=gt(e,t);let n=nr(e,t,0);return"error"===n.type?n:(t=gt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function nr(e,t,n){let r,i=t;switch(e[t]){case"+":{let n=nr(e,gt(e,t+1),10);if("error"===n.type)return n;r=[{name:"pos",position:i}].concat(n.marks),t=n.position;break}case"-":{let n=nr(e,gt(e,t+1),8);if("error"===n.type)return n;r=[{name:"neg",position:i}].concat(n.marks),t=n.position;break}case"(":{let n=nr(e,gt(e,t+1),0);if("error"===n.type)return n;switch(e[t=gt(e,n.position)]){case",":for(r=[{name:"tuple",position:i}].concat(n.marks),t=gt(e,t+1);;){if(n=nr(e,t,0),"error"===n.type)return n;if(","!==e[t=gt(e,n.position)])break;t=gt(e,t+1)}if(")"!==e[t])return{type:"error",position:t};t++,r.push({name:"tuple_end",position:t});break;case")":t++,r=[{name:"group",position:i}].concat(n.marks);break;default:return{type:"error",position:t}}break}case"!":{let n=nr(e,gt(e,t+1),10);if("error"===n.type)return n;r=[{name:"not",position:i}].concat(n.marks),t=n.position;break}case"{":{let n=lM(e,t);if("error"===n.type)return n;r=n.marks,t=n.position;break}case"[":if(r=[{name:"array",position:t}],"]"!==e[t=gt(e,t+1)])for(;;){"..."===e.slice(t,t+3)&&(r.push({name:"array_splat",position:t}),t=gt(e,t+3));let n=nr(e,t,0);if("error"===n.type)return n;if(r=r.concat(n.marks),","!==e[t=gt(e,t=n.position)]||"]"===e[t=gt(e,t+1)])break}if("]"!==e[t])return{type:"error",position:t};t++,r.push({name:"array_end",position:t});break;case"'":case'"':{let n=aft(e,t);if("error"===n.type)return n;r=n.marks,t=n.position;break}case"^":for(t++,r=[];"."===e[t]&&"^"===e[t+1];)r.push({name:"dblparent",position:i}),t+=2;r.push({name:"parent",position:i});break;case"@":r=[{name:"this",position:i}],t++;break;case"*":r=[{name:"everything",position:i}],t++;break;case"$":{let n=uu(e,t+1,Gh);n&&(r=[{name:"param",position:i},{name:"ident",position:i+1},{name:"ident_end",position:t+=1+n}]);break}default:{let n=uu(e,t,BI);if(n){let o="integer";if("."===e[t+=n]){let n=uu(e,t+1,BI);n&&(o="float",t+=1+n)}if("e"===e[t]||"E"===e[t]){o="sci",("+"===e[++t]||"-"===e[t])&&t++;let n=uu(e,t,BI);if(!n)return{type:"error",position:t};t+=n}r=[{name:o,position:i},{name:o+"_end",position:t}];break}let o=uu(e,t,Gh);if(o){switch(e[t+=o]){case":":case"(":{let n=bG(e,i,t);if("error"===n.type)return n;r=n.marks,t=n.position;break}default:r=[{name:"this_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t}]}break}}}if(!r)return{type:"error",position:t};let o,a=12;e:for(;;){let s=gt(e,t);if(s===e.length){t=s;break}if(o=yG(e,s),"success"!==o.type)switch(e[s]){case"=":switch(e[s+1]){case">":{if(n>1||a<=1)break e;let o=nr(e,gt(e,s+2),1);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"pair",position:i}),t=o.position,a=1;break}case"=":{if(n>4||a<=4)break e;let o=nr(e,gt(e,s+2),5);if("error"===o.type)return o;r.unshift({name:"comp",position:i}),r.push({name:"op",position:s},{name:"op_end",position:s+2}),r=r.concat(o.marks),t=o.position,a=4;break}default:break e}break;case"+":{if(n>6||a<6)break e;let o=nr(e,gt(e,s+1),7);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"add",position:i}),t=o.position,a=6;break}case"-":{if(n>6||a<6)break e;let o=nr(e,gt(e,s+1),7);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"sub",position:i}),t=o.position,a=6;break}case"*":{if("*"===e[s+1]){if(n>8||a<=8)break e;let o=nr(e,gt(e,s+2),8);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"pow",position:i}),t=o.position,a=8;break}if(n>7||a<7)break e;let o=nr(e,gt(e,s+1),8);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"mul",position:i}),t=o.position,a=7;break}case"/":{if(n>7||a<7)break e;let o=nr(e,gt(e,s+1),8);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"div",position:i}),t=o.position,a=7;break}case"%":{if(n>7||a<7)break e;let o=nr(e,gt(e,s+1),8);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"mod",position:i}),t=o.position,a=7;break}case"<":case">":{if(n>4||a<=4)break e;let o=s+1;"="===e[o]&&o++;let l=nr(e,gt(e,o),5);if("error"===l.type)return l;r.unshift({name:"comp",position:i}),r.push({name:"op",position:s},{name:"op_end",position:o}),r=r.concat(l.marks),t=l.position,a=4;break}case"|":if("|"===e[s+1]){if(n>2||a<2)break e;let o=nr(e,gt(e,s+2),3);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"or",position:i}),t=o.position,a=2}else{if(n>11||a<11)break e;let o=gt(e,s+1),l=uu(e,o,Gh);if(!l)return{type:"error",position:o};if("("===e[t=o+l]||":"===e[t]){let n=bG(e,o,t);if("error"===n.type)return n;r=r.concat(n.marks),r.unshift({name:"pipecall",position:i}),t=n.position,a=11}}break;case"&":{if("&"!=e[s+1]||n>3||a<3)break e;let o=nr(e,gt(e,s+2),4);if("error"===o.type)return o;r=r.concat(o.marks),r.unshift({name:"and",position:i}),t=o.position,a=3;break}case"!":{if("="!==e[s+1]||n>4||a<=4)break e;let o=nr(e,gt(e,s+2),5);if("error"===o.type)return o;r.unshift({name:"comp",position:i}),r.push({name:"op",position:s},{name:"op_end",position:s+2}),r=r.concat(o.marks),t=o.position,a=4;break}case"d":if("desc"!==e.slice(s,s+4)||n>4||a<4)break e;r.unshift({name:"desc",position:i}),t=s+4,a=4;break;case"a":if("asc"!==e.slice(s,s+3)||n>4||a<4)break e;r.unshift({name:"asc",position:i}),t=s+3,a=4;break;default:switch(oft(e,s,Gh)){case"in":{if(n>4||a<=4)break e;let o=!1;"("===e[t=gt(e,s+2)]&&(o=!0,t=gt(e,t+1));let l=t,u=nr(e,t,5);if("error"===u.type)return u;if("."===e[t=gt(e,u.position)]&&"."===e[t+1]){let n="inc_range";"."===e[t+2]?(n="exc_range",t=gt(e,t+3)):t=gt(e,t+2);let o=nr(e,t,5);if("error"===o.type)return o;r.unshift({name:"in_range",position:i}),r=r.concat({name:n,position:l},u.marks,o.marks),t=o.position}else r.unshift({name:"comp",position:i}),r.push({name:"op",position:s},{name:"op_end",position:s+2}),r=r.concat(u.marks);if(o){if(")"!==e[t=gt(e,t)])return{type:"error",position:t};t++}a=4;break}case"match":{if(n>4||a<=4)break e;let o=nr(e,gt(e,s+5),5);if("error"===o.type)return o;r.unshift({name:"comp",position:i}),r.push({name:"op",position:s},{name:"op_end",position:s+5}),r=r.concat(o.marks),t=o.position,a=4;break}default:break e}}else{for(r.unshift({name:"traverse",position:i});"success"===o.type;)r=r.concat(o.marks),o=yG(e,gt(e,t=o.position));r.push({name:"traversal_end",position:t})}}return{type:"success",marks:r,position:t,failPosition:"error"===o?.type&&o.position}}function yG(e,t){let n=t;switch(e[t]){case".":{let r=t=gt(e,t+1),i=uu(e,t,Gh);return i?{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:r},{name:"ident_end",position:t+=i}],position:t}:{type:"error",position:t}}case"-":if(">"!==e[t+1])return{type:"error",position:t};let r=[{name:"deref",position:n}],i=gt(e,t+=2),o=uu(e,i,Gh);return o&&(t=i+o,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if("]"===e[t=gt(e,t+1)])return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let r=t,i=nr(e,t,0);if("error"===i.type)return i;if("."===e[t=gt(e,i.position)]&&"."===e[t+1]){let o="inc_range";"."===e[t+2]?(o="exc_range",t+=3):t+=2;let a=nr(e,t=gt(e,t),0);return"error"===a.type?a:"]"!==e[t=gt(e,a.position)]?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:o,position:r}].concat(i.marks,a.marks),position:t+1}}return"]"!==e[t]?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(i.marks),position:t+1}}case"|":if("{"===e[t=gt(e,t+1)]){let r=lM(e,t);return"error"===r.type||r.marks.unshift({name:"projection",position:n}),r}break;case"{":{let r=lM(e,t);return"error"===r.type||r.marks.unshift({name:"projection",position:n}),r}}return{type:"error",position:t}}function bG(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),":"===e[n]&&":"===e[n+1]){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n});let i=uu(e,n=gt(e,n+2),Gh);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),"("!==e[n=gt(e,n+i)])return{type:"error",position:n};n=gt(e,++n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=gt(e,n+1);let i=n;if(")"!==e[n])for(;;){let t=nr(e,n,0);if("error"===t.type)return t;if(r=r.concat(t.marks),i=t.position,","!==e[n=gt(e,t.position)]||")"===e[n=gt(e,n+1)])break}return")"!==e[n]?{type:"error",position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function lM(e,t){let n=[{name:"object",position:t}];for(t=gt(e,t+1);"}"!==e[t];){let r=t;if("..."===e.slice(t,t+3))if("}"!==e[t=gt(e,t+3)]&&","!==e[t]){let i=nr(e,t,0);if("error"===i.type)return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),t=i.position}else n.push({name:"object_splat_this",position:r});else{let i=nr(e,t,0);if("error"===i.type)return i;let o=gt(e,i.position);if("str"===i.marks[0].name&&":"===e[o]){let a=nr(e,gt(e,o+1),0);if("error"===a.type)return a;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,a.marks),t=a.position}else n=n.concat({name:"object_expr",position:t},i.marks),t=i.position}if(","!==e[t=gt(e,t)])break;t=gt(e,t+1)}return"}"!==e[t]?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function aft(e,t){let n=e[t];const r=[{name:"str",position:t+=1}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:r.push({name:"str_end",position:t}),t++;break e;case"\\":r.push({name:"str_pause",position:t}),"u"===e[t+1]?"{"===e[t+2]?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function gt(e,t){return t+uu(e,t,rft)}function uu(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function oft(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function zs(e,t){return n=>t(e(n))}function uM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function sft(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function AS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:zs(e,t.build)};case"a-b":return{type:"a-b",build:zs(e,t.build)};case"b-b":return{type:"a-a",build:zs(e,uM(t.build))};case"b-a":return{type:"a-a",build:zs(e,sft(t.build))};default:throw new Error(`unknown type: ${t.type}`)}}function VI(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:zs(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:zs(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function lft(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:zs(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:zs(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function uft(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:zs(uM(e),t.build)};case"a-b":return{type:"a-b",build:zs(uM(e),t.build)};case"b-a":return{type:"b-a",build:zs(e,t.build)};case"b-b":return{type:"b-b",build:zs(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}var cft=Object.defineProperty,dft=(e,t,n)=>t in e?cft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cM=(e,t,n)=>dft(e,"symbol"!=typeof t?t+"":t,n);const fft={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function hft(e){const t=parseInt(e,16);return String.fromCharCode(t)}class ao extends Error{constructor(){super(...arguments),cM(this,"name","GroqQueryError")}}const St={group:e=>({type:"Group",base:e.process(St)}),everything:()=>({type:"Everything"}),this:()=>({type:"This"}),parent:()=>({type:"Parent",n:1}),dblparent:e=>({type:"Parent",n:e.process(St).n+1}),traverse(e){const t=e.process(St),n=[];for(;"traversal_end"!==e.getMark().name;)n.push(e.process(ige));e.shift();let r=null;for(let e=n.length-1;e>=0;e--)r=n[e](r);if(("Everything"===t.type||"Array"===t.type||"PipeFuncCall"===t.type)&&(r=AS((e=>e),r)),null===r)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return"null"===t?{type:"Value",value:null}:"true"===t?{type:"Value",value:!0}:"false"===t?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg:e=>({type:"Neg",base:e.process(St)}),pos:e=>({type:"Pos",base:e.process(St)}),add:e=>({type:"OpCall",op:"+",left:e.process(St),right:e.process(St)}),sub:e=>({type:"OpCall",op:"-",left:e.process(St),right:e.process(St)}),mul:e=>({type:"OpCall",op:"*",left:e.process(St),right:e.process(St)}),div:e=>({type:"OpCall",op:"/",left:e.process(St),right:e.process(St)}),mod:e=>({type:"OpCall",op:"%",left:e.process(St),right:e.process(St)}),pow:e=>({type:"OpCall",op:"**",left:e.process(St),right:e.process(St)}),comp(e){const t=e.process(St);return{type:"OpCall",op:e.processString(),left:t,right:e.process(St)}},in_range(e){const t=e.process(St),n="inc_range"===e.getMark().name;e.shift();return{type:"InRange",base:t,left:e.process(St),right:e.process(St),isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const n=e.slice(1);e.shift(),t+=fft[n];break}case"unicode_hex":e.shift(),t+=hft(e.processStringEnd());break;default:throw new Error(`unexpected mark: ${n.name}`)}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;"object_end"!==e.getMark().name;)t.push(e.process(pft));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;"array_end"!==e.getMark().name;){let n=!1;"array_splat"===e.getMark().name&&(n=!0,e.shift());const r=e.process(St);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;"tuple_end"!==e.getMark().name;)t.push(e.process(St));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";"namespace"===e.getMark().name&&(e.shift(),t=e.processString());const n=e.processString();if("global"===t&&"select"===n){const t={type:"Select",alternatives:[]};for(;"func_args_end"!==e.getMark().name;)if("pair"===e.getMark().name){if(t.fallback)throw new ao("unexpected argument to select()");e.shift();const n=e.process(St),r=e.process(St);t.alternatives.push({type:"SelectAlternative",condition:n,value:r})}else{if(t.fallback)throw new ao("unexpected argument to select()");const n=e.process(St);t.fallback=n}return e.shift(),t}const r=[];for(;"func_args_end"!==e.getMark().name;)mft(t,n,r.length)?(e.process(dM),r.push({type:"Selector"})):r.push(e.process(St));if(e.shift(),"global"===t&&("before"===n||"after"===n)&&"delta"===e.parseOptions.mode)return{type:"Context",key:n};if("global"===t&&"boost"===n&&!e.allowBoost)throw new ao("unexpected boost");const i=Qdt[t];if(!i)throw new ao(`Undefined namespace: ${t}`);const o=i[n];if(!o)throw new ao(`Undefined function: ${n}`);if(void 0!==o.arity&&xG(n,o.arity,r.length),void 0!==o.mode&&o.mode!==e.parseOptions.mode)throw new ao(`Undefined function: ${n}`);return{type:"FuncCall",func:o,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(St);e.shift();let n="global";if("namespace"===e.getMark().name&&(e.shift(),n=e.processString()),"global"!==n)throw new ao(`Undefined namespace: ${n}`);const r=e.processString(),i=[],o=e.allowBoost;for("score"===r&&(e.allowBoost=!0);;){const t=e.getMark().name;if("func_args_end"===t)break;if("order"===r){if("asc"===t){e.shift(),i.push({type:"Asc",base:e.process(St)});continue}if("desc"===t){e.shift(),i.push({type:"Desc",base:e.process(St)});continue}}i.push(e.process(St))}e.shift(),e.allowBoost=o;const a=aw[r];if(!a)throw new ao(`Undefined pipe function: ${r}`);return a.arity&&xG(r,a.arity,i.length),{type:"PipeFuncCall",func:a,base:t,name:r,args:i}},pair(){throw new ao("unexpected =>")},and:e=>({type:"And",left:e.process(St),right:e.process(St)}),or:e=>({type:"Or",left:e.process(St),right:e.process(St)}),not:e=>({type:"Not",base:e.process(St)}),asc(){throw new ao("unexpected asc")},desc(){throw new ao("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},pft={object_expr(e){if("pair"===e.getMark().name){e.shift();return{type:"ObjectConditionalSplat",condition:e.process(St),value:e.process(St)}}const t=e.process(St);return{type:"ObjectAttributeValue",name:age(t),value:t}},object_pair(e){const t=e.process(St);if("Value"!==t.type)throw new Error("name must be string");const n=e.process(St);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat:e=>({type:"ObjectSplat",value:e.process(St)}),object_splat_this:()=>({type:"ObjectSplat",value:{type:"This"}})},ige={square_bracket(e){const t=e.process(St),n=NI(t);return n&&"number"===n.type?e=>lft((e=>({type:"AccessElement",base:e,index:n.data})),e):n&&"string"===n.type?e=>VI((e=>({type:"AccessAttribute",base:e,name:n.data})),e):e=>AS((e=>({type:"Filter",base:e,expr:t})),e)},slice(e){const t="inc_range"===e.getMark().name;e.shift();const n=e.process(St),r=e.process(St),i=NI(n),o=NI(r);if(!i||!o||"number"!==i.type||"number"!==o.type)throw new ao("slicing must use constant numbers");return e=>AS((e=>({type:"Slice",base:e,left:i.data,right:o.data,isInclusive:t})),e)},projection(e){const t=e.process(St);return e=>uft((e=>({type:"Projection",base:e,expr:t})),e)},attr_access(e){const t=e.processString();return e=>VI((e=>({type:"AccessAttribute",base:e,name:t})),e)},deref(e){let t=null;"deref_attr"===e.getMark().name&&(e.shift(),t=e.processString());return e=>VI((e=>(e=>t?{type:"AccessAttribute",base:e,name:t}:e)({type:"Deref",base:e})),e)},array_postfix:()=>e=>AS((e=>({type:"ArrayCoerce",base:e})),e)},dM={group:e=>(e.process(dM),null),everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(dM);"traversal_end"!==e.getMark().name;)e.process(ige);return e.shift(),null},this_attr:e=>(e.processString(),null),neg(){throw new Error("Invalid selector syntax")},pos(){throw new Error("Invalid selector syntax")},add(){throw new Error("Invalid selector syntax")},sub(){throw new Error("Invalid selector syntax")},mul(){throw new Error("Invalid selector syntax")},div(){throw new Error("Invalid selector syntax")},mod(){throw new Error("Invalid selector syntax")},pow(){throw new Error("Invalid selector syntax")},comp(){throw new Error("Invalid selector syntax")},in_range(){throw new Error("Invalid selector syntax")},str(){throw new Error("Invalid selector syntax")},integer(){throw new Error("Invalid selector syntax")},float(){throw new Error("Invalid selector syntax")},sci(){throw new Error("Invalid selector syntax")},object(){throw new Error("Invalid selector syntax")},array(){throw new Error("Invalid selector syntax")},tuple(){throw new Error("Invalid selector syntax")},func_call(e,t){const n=St.func_call(e,t);if("anywhere"===n.name&&1===n.args.length)return null;throw new Error("Invalid selector syntax")},pipecall(){throw new Error("Invalid selector syntax")},pair(){throw new Error("Invalid selector syntax")},and(){throw new Error("Invalid selector syntax")},or(){throw new Error("Invalid selector syntax")},not(){throw new Error("Invalid selector syntax")},asc(){throw new Error("Invalid selector syntax")},desc(){throw new Error("Invalid selector syntax")},param(){throw new Error("Invalid selector syntax")}};function age(e){if("AccessAttribute"===e.type&&!e.base)return e.name;if("Deref"===e.type||"Map"===e.type||"Projection"===e.type||"Slice"===e.type||"Filter"===e.type||"AccessElement"===e.type||"ArrayCoerce"===e.type||"Group"===e.type)return age(e.base);throw new ao(`Cannot determine property key for type: ${e.type}`)}function xG(e,t,n){if("number"==typeof t){if(n!==t)throw new ao(`Incorrect number of arguments to function ${e}(). Expected ${t}, got ${n}.`)}else if(t&&!t(n))throw new ao(`Incorrect number of arguments to function ${e}().`)}function mft(e,t,n){return"diff"==e&&2==n&&["changedAny","changedOnly"].includes(t)}class gft extends Error{constructor(e){super(`Syntax error in GROQ query at position ${e}`),cM(this,"position"),cM(this,"name","GroqSyntaxError"),this.position=e}}function oge(e,t={}){const n=ift(e);if("error"===n.type)throw new gft(n.position);return new nft(e,n.marks,t).process(St)}const vft=fa("typeEvaluator:scope:trace");vft.log=console.log.bind(console);const yft=fa("typeEvaluator:evaluate:trace");yft.log=console.log.bind(console);const bft=fa("typeEvaluator:evaluate:debug");bft.log=console.log.bind(console),fa("typeEvaluator:evaluate:warn");var xft=hT;function wft(e){return e&&e.length?xft(e):[]}var Cft=wft;const Fi=Be(Cft);var Sft=function(e,t){if(!Array.isArray(e))throw new TypeError("humanize-list expected an array");(t=t||{}).conjunction=t.conjunction||"and";var n=e.length;if(1===n)return e[0];if(t.skipConjunction)return e.join(", ");for(var r="",i=0;i<n;i++)i===n-1?(t.oxfordComma&&(r+=","),r+=" "+t.conjunction+" "):0!==i&&(r+=", "),r+=e[i];return r};const Dl=Be(Sft);var Eft=DN,_ft=Eft((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),kft=_ft;const FN=Be(kft);function Tft(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Aft=Tft;function jft(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var sge=jft,Ift=Yx,Dft=sge;function Oft(e,t){return t.length<2?e:Ift(e,Dft(t,0,-1))}var Rft=Oft,Mft=k1,$ft=Aft,Pft=Rft,Fft=cm;function Lft(e,t){return t=Mft(t,e),null==(e=Pft(e,t))||delete e[Fft($ft(t))]}var Nft=Lft,Bft=tN;function Vft(e){return Bft(e)?void 0:e}var zft=Vft,Uft=Tme,Hft=Afe,Wft=Ife;function Gft(e){return Wft(Hft(e,void 0,Uft),e+"")}var LN=Gft,Yft=Wu,qft=eN,Kft=Nft,Zft=k1,Xft=pm,Jft=zft,Qft=LN,eht=X6,tht=1,nht=2,rht=4,iht=Qft((function(e,t){var n={};if(null==e)return n;var r=!1;t=Yft(t,(function(t){return t=Zft(t,e),r||(r=t.length>1),t})),Xft(e,eht(e),n),r&&(n=qft(n,tht|nht|rht,Jft));for(var i=t.length;i--;)Kft(n,t[i]);return n})),aht=iht;const pa=Be(aht);var NN={exports:{}};const zI=[],wG=[],lge=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let o=0;for(;o<r&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(r-=o,i-=o,0===r)return i;let a,s,l,u,c=0,d=0;for(;c<r;)wG[c]=e.charCodeAt(o+c),zI[c]=++c;for(;d<i;)for(a=t.charCodeAt(o+d),l=d++,s=d,c=0;c<r;c++)u=a===wG[c]?l:l+1,l=zI[c],s=zI[c]=l>s?u>s?s+1:u:u>l?l+1:u;return s};NN.exports=lge,NN.exports.default=lge;var oht=NN.exports;const sht=Be(oht),lht={},uht=Object.freeze(Object.defineProperty({__proto__:null,default:lht},Symbol.toStringTag,{value:"Module"})),cht=_Te(uht);var BN="function"==typeof Map&&Map.prototype,UI=Object.getOwnPropertyDescriptor&&BN?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r_=BN&&UI&&"function"==typeof UI.get?UI.get:null,CG=BN&&Map.prototype.forEach,VN="function"==typeof Set&&Set.prototype,HI=Object.getOwnPropertyDescriptor&&VN?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i_=VN&&HI&&"function"==typeof HI.get?HI.get:null,SG=VN&&Set.prototype.forEach,dht="function"==typeof WeakMap&&WeakMap.prototype,Qy=dht?WeakMap.prototype.has:null,fht="function"==typeof WeakSet&&WeakSet.prototype,eb=fht?WeakSet.prototype.has:null,hht="function"==typeof WeakRef&&WeakRef.prototype,EG=hht?WeakRef.prototype.deref:null,pht=Boolean.prototype.valueOf,mht=Object.prototype.toString,ght=Function.prototype.toString,vht=String.prototype.match,zN=String.prototype.slice,ff=String.prototype.replace,yht=String.prototype.toUpperCase,_G=String.prototype.toLowerCase,uge=RegExp.prototype.test,kG=Array.prototype.concat,cu=Array.prototype.join,bht=Array.prototype.slice,TG=Math.floor,fM="function"==typeof BigInt?BigInt.prototype.valueOf:null,WI=Object.getOwnPropertySymbols,hM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,T0="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Za="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,cge=Object.prototype.propertyIsEnumerable,AG=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function jG(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||uge.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-TG(-e):TG(e);if(r!==e){var i=String(r),o=zN.call(t,i.length+1);return ff.call(i,n,"$&_")+"."+ff.call(ff.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ff.call(t,n,"$&_")}var pM=cht,IG=pM.custom,DG=fge(IG)?IG:null,xht=function e(t,n,r,i){var o=n||{};if(Jd(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jd(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Jd(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jd(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jd(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return pge(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return s?jG(t,l):l}if("bigint"==typeof t){var u=String(t)+"n";return s?jG(t,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&"object"==typeof t)return mM(t)?"[Array]":"[Object]";var d=Lht(o,r);if(typeof i>"u")i=[];else if(hge(i,t)>=0)return"[Circular]";function f(t,n,a){if(n&&(i=bht.call(i)).push(n),a){var s={depth:o.depth};return Jd(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,r+1,i)}return e(t,o,r+1,i)}if("function"==typeof t&&!OG(t)){var p=jht(t),h=NC(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+cu.call(h,", ")+" }":"")}if(fge(t)){var m=T0?ff.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):hM.call(t);return"object"!=typeof t||T0?m:Ov(m)}if($ht(t)){for(var g="<"+_G.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)g+=" "+y[v].name+"="+dge(wht(y[v].value),"double",o);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+_G.call(String(t.nodeName))+">"}if(mM(t)){if(0===t.length)return"[]";var b=NC(t,f);return d&&!Fht(b)?"["+gM(b,d)+"]":"[ "+cu.call(b,", ")+" ]"}if(Sht(t)){var x=NC(t,f);return"cause"in Error.prototype||!("cause"in t)||cge.call(t,"cause")?0===x.length?"["+String(t)+"]":"{ ["+String(t)+"] "+cu.call(x,", ")+" }":"{ ["+String(t)+"] "+cu.call(kG.call("[cause]: "+f(t.cause),x),", ")+" }"}if("object"==typeof t&&a){if(DG&&"function"==typeof t[DG]&&pM)return pM(t,{depth:c-r});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(Iht(t)){var w=[];return CG&&CG.call(t,(function(e,n){w.push(f(n,t,!0)+" => "+f(e,t))})),RG("Map",r_.call(t),w,d)}if(Rht(t)){var C=[];return SG&&SG.call(t,(function(e){C.push(f(e,t))})),RG("Set",i_.call(t),C,d)}if(Dht(t))return GI("WeakMap");if(Mht(t))return GI("WeakSet");if(Oht(t))return GI("WeakRef");if(_ht(t))return Ov(f(Number(t)));if(Tht(t))return Ov(f(fM.call(t)));if(kht(t))return Ov(pht.call(t));if(Eht(t))return Ov(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Xi<"u"&&t===Xi)return"{ [object globalThis] }";if(!Cht(t)&&!OG(t)){var k=NC(t,f),j=AG?AG(t)===Object.prototype:t instanceof Object||t.constructor===Object,S=t instanceof Object?"":"null prototype",E=!j&&Za&&Object(t)===t&&Za in t?zN.call(nh(t),8,-1):S?"Object":"",_=(j||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(E||S?"["+cu.call(kG.call([],E||[],S||[]),": ")+"] ":"");return 0===k.length?_+"{}":d?_+"{"+gM(k,d)+"}":_+"{ "+cu.call(k,", ")+" }"}return String(t)};function dge(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function wht(e){return ff.call(String(e),/"/g,"&quot;")}function mM(e){return!("[object Array]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function Cht(e){return!("[object Date]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function OG(e){return!("[object RegExp]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function Sht(e){return!("[object Error]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function Eht(e){return!("[object String]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function _ht(e){return!("[object Number]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function kht(e){return!("[object Boolean]"!==nh(e)||Za&&"object"==typeof e&&Za in e)}function fge(e){if(T0)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!hM)return!1;try{return hM.call(e),!0}catch{}return!1}function Tht(e){if(!e||"object"!=typeof e||!fM)return!1;try{return fM.call(e),!0}catch{}return!1}var Aht=Object.prototype.hasOwnProperty||function(e){return e in this};function Jd(e,t){return Aht.call(e,t)}function nh(e){return mht.call(e)}function jht(e){if(e.name)return e.name;var t=vht.call(ght.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function hge(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Iht(e){if(!r_||!e||"object"!=typeof e)return!1;try{r_.call(e);try{i_.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Dht(e){if(!Qy||!e||"object"!=typeof e)return!1;try{Qy.call(e,Qy);try{eb.call(e,eb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Oht(e){if(!EG||!e||"object"!=typeof e)return!1;try{return EG.call(e),!0}catch{}return!1}function Rht(e){if(!i_||!e||"object"!=typeof e)return!1;try{i_.call(e);try{r_.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Mht(e){if(!eb||!e||"object"!=typeof e)return!1;try{eb.call(e,eb);try{Qy.call(e,Qy)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function $ht(e){return!(!e||"object"!=typeof e)&&(typeof HTMLElement<"u"&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function pge(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return pge(zN.call(e,0,t.maxStringLength),t)+r}return dge(ff.call(ff.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Pht),"single",t)}function Pht(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+yht.call(t.toString(16))}function Ov(e){return"Object("+e+")"}function GI(e){return e+" { ? }"}function RG(e,t,n,r){return e+" ("+t+") {"+(r?gM(n,r):cu.call(n,", "))+"}"}function Fht(e){for(var t=0;t<e.length;t++)if(hge(e[t],"\n")>=0)return!1;return!0}function Lht(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=cu.call(Array(e.indent+1)," ")}return{base:n,prev:cu.call(Array(t+1),n)}}function gM(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+cu.call(e,","+n)+"\n"+t.prev}function NC(e,t){var n=mM(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Jd(e,i)?t(e[i],e):""}var o,a="function"==typeof WI?WI(e):[];if(T0){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)Jd(e,l)&&(n&&String(Number(l))===l&&l<e.length||T0&&o["$"+l]instanceof Symbol||(uge.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof WI)for(var u=0;u<a.length;u++)cge.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}const Rg=Be(xht),vM="__experimental_actions",mge=["create","update","delete","publish"],YI=mge,Nht=e=>vM in e?e[vM]:mge,Bht=(e,t)=>{if(!Array.isArray(t))throw new Error(`The value of <type>.${vM} should be an array with any of the actions ${YI.join(", ")}`);const n=Rp(t,YI);if(n.length>0)throw new Error(`Invalid action${n.length>1?"s":""} configured for schema type "${e}": ${n.join(", ")}. Valid actions are: ${YI.join(", ")}`);return t},Vht=e=>Bht(e.name,Nht(e)),MG=(e,t)=>Vht(e).includes(t),yt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function gge(e,t,n){if(n&&!Object.keys(yt).some((e=>yt[e]===n)))throw new Error(`Used the unknown helpId "${n}", please add it to the array in createValidationResult.js`);return{severity:e,message:t,helpId:n}}const Ue=(e,t)=>gge("error",e,t),si=(e,t)=>gge("warning",e,t);function zht(e){return pr(e.map((e=>vge(e)))).filter((e=>e.problems.length>0))}function vm(e,t=t=>Yn(t,e)){return function(n,r){const i=[...r,{kind:"type",type:n.type,name:n.name}],o=t(n)||[],a=Array.isArray(o)?o.map((t=>{const n={kind:"property",name:e};return vge(t,[...i,n])})):[[{path:i,problems:[Ue(`Member declaration (${e}) is not an array`)]}]];return[{path:i,problems:n._problems||[]},...pr(a)]}}const Uht=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],$G=vm("fields"),Hht=vm("fields"),Wht=vm("fields"),Ght=vm("of"),Yht=vm("to",(e=>"to"in e?Uht(e.to):[])),qht=vm("marks.annotations"),Kht=vm("of"),Zht=(e,t)=>[...qht(e,t),...Kht(e,t)];function Xht(e,t=[]){return[{path:[...t,{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function vge(e,t=[]){switch(e.type){case"object":case"document":return $G(e,t);case"array":return Ght(e,t);case"reference":return Yht(e,t);case"block":return Zht(e,t);case"image":return Hht(e,t);case"file":return Wht(e,t);default:return Xht(e,t)}}function yT(e,t=e=>e){const n=e.reduce(((e,n)=>{const r=t(n);return e[r]||(e[r]=[]),e[r].push(n),e}),{});return Object.keys(n).map((e=>n[e].length>1?n[e]:null)).filter(Boolean)}const Jht=e=>e,Qht={name:"type",type:null},ept=["any","time","date"];function tpt(e=[],t=[],n=Jht){const r=Object.create(null),i=Object.create(null),o=t.map((e=>e.name)),a=ept.concat(o),s=e.map((e=>e&&e.name)).filter(Boolean);function l(e){return"type"===e?Qht:r[e]||i[e]||null}t.forEach((e=>{r[e.name]=e})),e.forEach(((e,t)=>{i[e&&e.name||`__unnamed_${t}`]={}}));const u=Fi(pr(yT(s)));function c(e){return u.includes(e)}function d(){return s.concat(o)}function f(e){return"type"===e||a.includes(e)}const p=e=>(t,r)=>n(t,{visit:p(!1),isRoot:e,getType:l,getTypeNames:d,isReserved:f,isDuplicate:c,index:r});return t.forEach((e=>{Object.assign(r[e.name],p(e))})),e.forEach(((e,t)=>{Object.assign(i[e&&e.name||`__unnamed_${t}`],p(!0)(e,t))})),{get(e){const t=i[e]||r[e];if(t)return t;throw new Error(`No such type: ${e}`)},has:e=>e in i||e in r,getTypeNames:()=>Object.keys(i),getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const yge=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],bge=yge.map((e=>e.name));function npt(e,t){return tpt(e,yge,t)}function PG(e){return"string"===e||"number"===e||"boolean"===e}function rpt(e,t){return("string"==typeof t.name?t.name:t.type)===e}function tb(e){return`"${e}"`}function FG(e,t="s"){return 1===e.length?"":t}function LG(e){return Array.isArray(e)?`array with ${e.length} entries`:"object"==typeof e&&null!==e?`object with keys ${Dl(Object.keys(e).map(tb))}`:tb(e)}var ipt=(e,t)=>{var n,r,i;const o=Array.isArray(e.of);if(o){const n=e.of.reduce(((e,n,r)=>{if("string"==typeof n.name&&n.name!==n.type&&bge.includes(n.name))return e.concat(Ue(`Found array member declaration with the same type name as a built-in type ("${n.name}"). Array members can not be given the same name as a built-in type.`,yt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if("object"===n.type&&n.name&&t.getType(n.name))return e.concat(si(`Found array member declaration with the same name as the global schema type "${n.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,yt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if("array"===n.type)return e.concat(Ue('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',yt.ARRAY_OF_ARRAY));if(n)return e;const i=`Found ${null===n?"null":typeof n}, expected member declaration`;return e.concat(Ue(`Found invalid type member declaration in array at index ${r}: ${i}`,yt.ARRAY_OF_INVALID))}),[]);if(n.length>0)return{...e,of:[],_problems:n}}const a=pr([o?yT(e.of,(e=>`${e.name};${e.type}`)).map((e=>Ue(`Found ${e.length} members with same type, but not unique names "${e[0].type}" in array. This makes it impossible to tell their values apart and you should consider naming them`,yt.ARRAY_OF_NOT_UNIQUE))):Ue('The array type is missing or having an invalid value for the required "of" property',yt.ARRAY_OF_INVALID)]),s=o?e.of:[],l=s.some((e=>"object"===e.type&&typeof e.name>"u"));s.some((e=>"block"===e.type))&&l&&a.push(Ue("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",yt.ARRAY_OF_INVALID));const[u,c]=FN(s,(e=>{var n;return PG(e.type)||PG(null==(n=t.getType(e.type))?void 0:n.jsonType)})),d=u.length>0&&c.length>0;if(d){const e=u.map((e=>e.type)),t=c.map((e=>e.type));a.push(Ue(`The array type's 'of' property can't have both object types and primitive types (found primitive type ${FG(e)} ${Dl(e.map(tb))} and object type${FG(t)} ${Dl(t.map(tb))})`,yt.ARRAY_OF_INVALID))}const f=null==(n=e?.options)?void 0:n.list;return!d&&Array.isArray(f)&&(u.length>0?f.forEach((e=>{var n;const r=null!=(n=e?.value)?n:e;if(!u.some((e=>typeof r===t.getType(e.type).jsonType))){const e=Dl(u.map((e=>e.name||e.type)),{conjunction:"or"});a.push(Ue(`An invalid entry found in options.list: ${LG(r)}. Must be either a value of type ${e}, or an object with {title: string, value: ${e}}`,yt.ARRAY_PREDEFINED_CHOICES_INVALID))}})):f.forEach((e=>{const t=e._type||"object";c.some((e=>rpt(t,e)))||a.push(Ue(`An invalid entry found in options.list: ${LG(e)}. Must be an object with "_type" set to ${Dl(c.map((e=>e.name||e.type)).map((e=>"object"===e?"undefined":tb(e))),{conjunction:"or"})}`,yt.ARRAY_PREDEFINED_CHOICES_INVALID))}))),null!=(r=e?.options)&&r.list&&"tags"===(null==(i=e?.options)?void 0:i.layout)&&a.push(si("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:s.map(t.visit),_problems:a}};function xge(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error(`Could not resolve jsonType of ${e.name}. No parent type found`);return xge(r,t,n)}const us=e=>Array.isArray(e)?"array":typeof e,sw=e=>`"${e}"`,apt=["components","lists","marks","name","of","options","styles","title","type","validation"],opt=["decorators","annotations"],spt=["blockEditor","title","value","icon","component"],lpt=["blockEditor","title","value","icon","component"],upt=["title","value","icon","component"],NG=["file","image","object","reference"];function cpt(e,t){const n=[];let r=e.styles,i=e.lists,o=e.marks,a=e.of;const s=Object.keys(e).filter((e=>!apt.includes(e)&&!e.startsWith("_")));return s.length>0&&n.push(Ue(`Found unknown properties for block declaration: ${Dl(s.map(sw))}`)),o&&(o=dpt(e.marks,t,n)),r&&(r=hpt(r,t,n)),i&&(i=fpt(i,t,n)),a&&(a=gpt(a,t,n)),{...pa(e,s),marks:o,styles:r,name:e.name||e.type,of:a,_problems:n}}function dpt(e,t,n){let r=e.decorators,i=e.annotations;if(!ar(e))return n.push(Ue(`"marks" declaration should be an object, got ${us(e)}`)),n;const o=Object.keys(e).filter((e=>!opt.includes(e)&&!e.startsWith("_")));return o.length>0&&n.push(Ue(`Found unknown properties for block declaration: ${Dl(o.map(sw))}`)),r&&!Array.isArray(r)?n.push(Ue(`"marks.decorators" declaration should be an array, got ${us(r)}`)):r&&(r.filter((e=>!!e.blockEditor)).forEach((e=>{e.icon=e.blockEditor.icon,e.component=e.blockEditor.render})),r=ppt(r,t,n)),i&&!Array.isArray(i)?n.push(Ue(`"marks.annotations" declaration should be an array, got ${us(i)}`)):i&&(i=mpt(i,t,n)),{...e,decorators:r,annotations:i}}function fpt(e,t,n){return Array.isArray(e)?(e.forEach(((e,t)=>{if(!ar(e))return void n.push(Ue(`List must be an object, got ${us(e)}`));const r=e.value||`#${t}`,i=Object.keys(e).filter((e=>!upt.includes(e)&&!e.startsWith("_")));i.length>0&&n.push(Ue(`Found unknown properties for list ${r}: ${Dl(i.map(sw))}`)),e.value?"string"!=typeof e.value?n.push(Ue(`List type #${t} has an invalid "value" property, expected string, got ${us(e.value)}`)):e.title||n.push(si(`List type ${r} is missing recommended "title" property`)):n.push(Ue(`List #${t} is missing required "value" property`))})),e):(n.push(Ue(`"lists" declaration should be an array, got ${us(e)}`)),n)}function hpt(e,t,n){return Array.isArray(e)?(e.forEach(((e,t)=>{if(!ar(e))return void n.push(Ue(`Style must be an object, got ${us(e)}`));const r=e.value||`#${t}`,i=Object.keys(e).filter((e=>!spt.includes(e)&&!e.startsWith("_")));i.length>0&&n.push(Ue(`Found unknown properties for style ${r}: ${Dl(i.map(sw))}`)),e.value?"string"!=typeof e.value?n.push(Ue(`Style #${t} has an invalid "value" property, expected string, got ${us(e.value)}`)):e.title||n.push(si(`Style ${r} is missing recommended "title" property`)):n.push(Ue(`Style #${t} is missing required "value" property`)),typeof e.blockEditor<"u"&&(n.push(si('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',yt.DEPRECATED_BLOCKEDITOR_KEY)),e.component=e.component||e.blockEditor.render)})),e):(n.push(Ue(`"styles" declaration should be an array, got ${us(e)}`)),n)}function ppt(e,t,n){return e.forEach(((e,t)=>{if(!ar(e))return void n.push(Ue(`Annotation must be an object, got ${us(e)}`));const r=e.value||`#${t}`,i=Object.keys(e).filter((e=>!lpt.includes(e)&&!e.startsWith("_")));i.length>0&&n.push(Ue(`Found unknown properties for decorator ${r}: ${Dl(i.map(sw))}`)),e.value?"string"!=typeof e.value?n.push(Ue(`Decorator #${t} has an invalid "value" property, expected string, got ${us(e.value)}`)):e.title||n.push(si(`Decorator ${r} is missing recommended "title" property`)):n.push(Ue(`Decorator #${t} is missing required "value" property`)),typeof e.blockEditor<"u"&&(n.push(si(`Decorator "${r}" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.`,yt.DEPRECATED_BLOCKEDITOR_KEY)),e.icon=e.icon||e.blockEditor.icon,e.component=e.component||e.blockEditor.render)})),e}function mpt(e,t,n){return e.map((e=>{var r,i;if(!ar(e))return{...e,_problems:[Ue(`Annotation must be an object, got ${us(e)}`)]};const{_problems:o}=t.visit(e,t),a=e.type&&t.getType(e.type);return a&&!xge(a,"object",t)&&o.push(Ue(`Annotation cannot have type "${e.type}" - annotation types must inherit from object`)),typeof e.blockEditor<"u"&&(n.push(si('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',yt.DEPRECATED_BLOCKEDITOR_KEY)),e.icon=e.icon||e.blockEditor.icon,null!=(r=e.blockEditor)&&r.render&&!(null!=(i=e.components)&&i.annotation)&&(e.components=e.components||{},e.components.annotation=e.components.annotation||e.blockEditor.render)),{...e,_problems:o}}))}function gpt(e,t,n){if(Array.isArray(e))return e.map((e=>{const{_problems:n}=t.visit(e,t);if("object"===e.type&&e.name&&t.getType(e.name))return{...e,_problems:[si(`Found array member declaration with the same name as the global schema type "${e.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,yt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let r=e;for(;r&&!r.jsonType;)r=t.getType(r.type);const i=bge.filter((e=>!NG.includes(e)));return r&&"object"!==r.jsonType||i.some((t=>t===e.type))?{...e,_problems:[Ue(`Block member types must be a supported object-like type. The following built-in types are supported: '${NG.join("', '")}'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}`,yt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...e,_problems:n}}));n.push(Ue(`"of" declaration should be an array, got ${us(e)}`))}function vpt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&"object"!==n.jsonType?[Ue('Type has propery "fields", but is not an object/document type.')]:[]}const ypt=e=>`"${e}"`;function bpt(e,t){const n=t.getTypeNames();if(!e)return[Ue("Type is missing a type.",yt.TYPE_MISSING_TYPE)];if("string"!=typeof e)return[Ue('Type has an invalid "type"-property - should be a string.',yt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const t=n.map((t=>[sht(e,t),t])).filter((([e])=>e<3)).map((([e,t])=>t)),r=t.length>0?` Did you mean ${Dl(t.map(ypt),{conjunction:"or"})}?`:"";return[Ue(`Unknown type: ${e}.${r}`)]}return[]}function xpt(e){var t,n,r;const i=[];return null!=e&&e.inputComponent&&i.push(si('The "inputComponent" property is deprecated. Use "components.input" instead.')),null!=(t=e?.preview)&&t.component&&i.push(si('The "preview.component" property is deprecated. Use "components.preview" instead.')),null!=e&&e.diffComponent&&i.push(si('The "diffComponent" property is deprecated. Use "components.diff" instead.')),null!=(n=e?.options)&&n.editModal&&i.push(si('The "options.editModal" property is deprecated. Use "options.modal" instead.')),null!=(r=e?.options)&&r.isHighlighted&&i.push(si('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),i}var BG=(e,t)=>({...e,_problems:[...bpt(e.type,t),...vpt(e,t),...xpt(e)].filter(Boolean)});function wpt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const Cpt=/^[a-z0-9~][-_a-z0-9]+$/;function Spt(e){return e.length>=2&&e.toLowerCase()===e&&Cpt.test(e)||`The provided dataset "${e}" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`}var Ept=(e,t)=>{const n=Array.isArray(e.to)||ar(e.to),r=wpt(e),i=pr([n?yT(r,(e=>`${e.name};${e.type}`)).map((e=>Ue(`Found ${e.length} members with same type, but not unique names "${e[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,yt.CROSS_DATASET_REFERENCE_INVALID))):Ue('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',yt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&0===r.length&&i.push(Ue('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',yt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach(((e,t)=>{e.type||i.push(Ue(`The referenced type at index ${t} must be named. Specify the name of the type you want to create references to.`,yt.CROSS_DATASET_REFERENCE_INVALID)),ar(e.preview)||i.push(Ue(`Missing required preview config for the referenced type "${e.type||"<unknown type>"}"`,yt.CROSS_DATASET_REFERENCE_INVALID))})),"string"==typeof e.dataset){const t=Spt(e.dataset);!0!==t&&i.push(Ue(t,yt.CROSS_DATASET_REFERENCE_INVALID))}else i.push(Ue("A cross dataset reference must specify a `dataset`",yt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&"function"!=typeof e.studioUrl&&i.push(Ue('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',yt.CROSS_DATASET_REFERENCE_INVALID)),i.push(..._pt(e)),{...e,_problems:i}};function _pt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter((t=>t in e)).map((e=>Ue(`\`${e}\` is not allowed on a reference type definition - did you mean \`options.${e}\`?`,yt.REFERENCE_INVALID_OPTIONS_LOCATION)))),t?ar(t)?"function"==typeof t.filter&&typeof t.filterParams<"u"?n.concat(Ue("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",yt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):"function"==typeof t.filter||!t.filter&&!t.filterParams?n:"string"!=typeof t.filter?n.concat(Ue("If set, `filter` must be a string. Got "+typeof t.filter)):typeof t.filterParams<"u"&&!ar(t.filterParams)?n.concat(Ue("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter((e=>e.startsWith("__")||e.startsWith("$"))).map((e=>Ue(`Filter parameter cannot be prefixed with "$" or "__". Got ${e}".`)))):n:n.concat(Ue("The reference type expects `options` to be an object",yt.REFERENCE_INVALID_OPTIONS)):n}const kpt=/^Symbol\(react\..+\)$/;function BC(e){return"function"==typeof e||"symbol"==typeof e?.$$typeof&&kpt.test(String(e?.$$typeof))}function wge(e){const t="components"in e&&e.components;if(!t)return[];const n=[];return t.input&&!BC(t.input)&&n.push(si(`The \`components.input\` property is set but does not appear to be a valid React component (expected a function, but saw ${Rg(t.input)}). If you have imported a custom input component, please verify that you have imported the correct named/default export.`)),t.field&&!BC(t.field)&&n.push(si(`The \`components.field\` property is set but does not appear to be a valid React component (expected a function, but saw ${Rg(t.field)}). If you have imported a custom field component, please verify that you have imported the correct named/default export.`)),t.item&&!BC(t.item)&&n.push(si(`The \`components.item\` property is set but does not appear to be a valid React component (expected a function, but saw ${Rg(t.item)}). If you have imported a custom item component, please verify that you have imported the correct named/default export.`)),t.preview&&!BC(t.preview)&&n.push(si(`The \`components.preview\` property is set but does not appear to be a valid React component (expected a function, but saw ${Rg(t.preview)}). If you have imported a custom preview component, please verify that you have imported the correct named/default export.`)),n}const VG=/^[A-Za-z]+[0-9A-Za-z_]*$/,Tpt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function Apt(e){return"string"!=typeof e?[Ue(`Field names must be strings. Saw "${Rg(e)}"`,yt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Ue(`Invalid field name "${e}". Field names cannot start with underscores "_" as it's reserved for system fields.`,yt.OBJECT_FIELD_NAME_INVALID)]:VG.test(e)?Tpt.test(e)?[]:[si("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),yt.OBJECT_FIELD_NAME_INVALID]:[Ue(`Invalid field name: "${e}". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ${String(VG)}).`,yt.OBJECT_FIELD_NAME_INVALID)]}function UN(e,t){if(!ar(e))return[Ue(`Incorrect type for field definition - should be an object, saw ${Rg(e)}`,yt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?Apt(e.name):[Ue("Missing field name",yt.OBJECT_FIELD_NAME_INVALID)]),n.push(...wge(e)),n}function jpt(e){const t={};return e.forEach((e=>{t[e.name]||(t[e.name]=[]),t[e.name].push(e)})),Object.keys(t).map((e=>t[e].length>1?t[e]:null)).filter(Boolean)}function HN(e,t={allowEmpty:!1}){const n=[];if(!Array.isArray(e))return[Ue(`The "fields" property must be an array of fields. Instead saw "${typeof e}"`,yt.OBJECT_FIELDS_INVALID)];jpt(e.filter((e=>"string"==typeof e.name))).forEach((e=>{n.push(Ue(`Found ${e.length} fields with name "${e[0].name}" in object`,yt.OBJECT_FIELD_NOT_UNIQUE))})),0===e.length&&!t.allowEmpty&&n.push(Ue("Object should have at least one field",yt.OBJECT_FIELDS_INVALID));const r=e.filter((e=>"block"===e.type)).map((e=>`"${e.name}"`));if(r.length>0){const e=r.join(", ");n.push(Ue(`Invalid standalone block field(s) ${e}. Block content must be defined as an array of blocks`,yt.STANDALONE_BLOCK_TYPE))}return n}function Ipt(e){return ar(e)?typeof e.prepare<"u"&&"function"!=typeof e.prepare?[Ue(`The "preview.prepare" property must be a function, instead saw "${typeof e.prepare}"`)]:e.select?ar(e.select)?Object.keys(e.select).reduce(((t,n)=>"string"==typeof e.select[n]?t:t.concat(Ue(`The key "${n}" of "preview.select" must be a string, instead saw "${typeof e.select[n]}"`))),[]):[Ue(`The "preview.select" property must be an object, instead saw "${typeof e.prepare}"`)]:[]:[Ue(`The "preview" property must be an object, instead saw "${typeof e}"`)]}var Cge=(e,t)=>{let n=HN(e.fields),r=e.preview;if(r){const t=Ipt(e.preview);n=n.concat(t),r=t.some((e=>"error"===e.severity))?{}:r}return"document"!==e.type&&"object"!==e.type&&typeof e.initialValue<"u"&&n.push(Ue('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map(((e,n)=>{const{name:r,...i}=e,{_problems:o,...a}=t.visit(i,n);return{name:r,...a,_problems:UN(e).concat(o||[])}})),_problems:n}},Dpt=(e,t)=>{const n=Cge(e,t),{initialValue:r,initialValues:i}=n;return typeof r<"u"&&!ar(r)&&"function"!=typeof r&&n._problems.push(Ue('The "initialValue" property must be either a plain object or a function')),typeof i<"u"&&n._problems.push(Ue('Found property "initialValues" - did you mean "initialValue"?')),n},Opt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...HN(r,{allowEmpty:!0}));const i=Array.isArray(r)?r?.filter((e=>"asset"===e.name)):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Ue("Invalid type for file `metadata` field - must be an array of strings",yt.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(Ue("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map(((e,n)=>{const{name:r,...i}=e,{_problems:o,...a}=t.visit(i,n);return{name:r,...a,_problems:UN(e).concat(o||[])}})),_problems:n}};const zG=["dimensions","hasAlpha","isOpaque"];var Rpt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...HN(r,{allowEmpty:!0}));let i=e.options;const o=i?.metadata,a=Array.isArray(o)?o.filter((e=>zG.includes(e))):[],s=["asset","hotspot","crop"],l=Array.isArray(r)?r?.filter((e=>s.includes(e.name))):[];return typeof o<"u"&&!Array.isArray(o)?n.push(Ue("Invalid type for image `metadata` field - must be an array of strings",yt.ASSET_METADATA_FIELD_INVALID)):a.length>0?(n.push(si(`Image \`metadata\` field contains superfluous properties (they are always included): ${a.join(", ")}`)),i={...i,metadata:o.filter((e=>!zG.includes(e)))}):l.length>0&&n.push(Ue(`The names \`${s.join("`, `")}\` are invalid field names for type \`image\`.`)),{...e,options:i,fields:(Array.isArray(r)?r:[]).map(((e,n)=>{const{name:r,...i}=e,{_problems:o,...a}=t.visit(i,n);return{name:r,...a,_problems:UN(e).concat(o||[])}})),_problems:n}};function Mpt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var $pt=(e,t)=>{const n=Array.isArray(e.to)||ar(e.to),r=Mpt(e),i=pr([n?yT(r,(e=>`${e.name};${e.type}`)).map((e=>Ue(`Found ${e.length} members with same type, but not unique names "${e[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,yt.REFERENCE_TO_INVALID))):Ue('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',yt.REFERENCE_TO_INVALID)]);return n&&0===r.length&&i.push(Ue('The reference type should define at least one accepted type. Please check the "to" property.',yt.REFERENCE_TO_INVALID)),i.push(...Ppt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:i}};function Ppt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter((t=>t in e)).map((e=>Ue(`\`${e}\` is not allowed on a reference type definition - did you mean \`options.${e}\`?`,yt.REFERENCE_INVALID_OPTIONS_LOCATION)))),t?ar(t)?"function"==typeof t.filter&&typeof t.filterParams<"u"?n.concat(Ue("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",yt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):"function"==typeof t.filter||!t.filter&&!t.filterParams?n:"string"!=typeof t.filter?n.concat(Ue("If set, `filter` must be a string. Got "+typeof t.filter)):typeof t.filterParams<"u"&&!ar(t.filterParams)?n.concat(Ue("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter((e=>e.startsWith("__")||e.startsWith("$"))).map((e=>Ue(`Filter parameter cannot be prefixed with "$" or "__". Got ${e}".`)))):n:n.concat(Ue("The reference type expects `options` to be an object",yt.REFERENCE_INVALID_OPTIONS)):n}var Fpt=(e,t)=>{const n=!!e.name;if(!n&&1===Object.keys(e).length)return{...e,_problems:[Ue("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",yt.TYPE_INVALID)]};const r=[];return Lpt(e)?r.push(Ue("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",yt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Ue(`Invalid type name: "${e.name}" is a reserved name.`,yt.TYPE_NAME_RESERVED)):r.push(Ue("Missing type name",yt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Ue(`Invalid type name: A type with name "${e.name}" is already defined in the schema.`)),r.push(...wge(e)),"title"in e&&"string"!=typeof e.title&&r.push(si("Type title is not a string.",yt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function Lpt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}var Npt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(si('Heads up! The "slugifyFn" option has been renamed to "slugify".',yt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}};const Bpt={array:ipt,object:Cge,slug:Npt,file:Opt,image:Rpt,block:cpt,document:Dpt,reference:$pt,crossDatasetReference:Ept},Vpt=e=>t=>({name:`<unnamed_type_@_index_${e.index}>`,...t,_problems:[]});function UG(...e){return(t,n)=>e.reduce(((e,t)=>{const r=t(e,n);return{...r,_problems:e._problems.concat(r._problems)}}),{_problems:[],...t})}function zpt(e){return npt(e,((e,t)=>{const n=e&&e.type&&Bpt[e.type]||Vpt(t);return t.isRoot?UG(Fpt,BG,n)(e,t):UG(BG,n)(e,t)}))}function Upt(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}var Hpt=Upt;const bT=Be(Hpt);function Wpt(){}var WN=Wpt,Gpt=Q6,Ypt=WN;function a_(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a_.prototype=Gpt(Ypt.prototype),a_.prototype.constructor=a_;var GN=a_,HG=gfe,qpt=gfe&&new gfe,Kpt=qpt,WG=Kpt,Zpt=AN,Xpt=WG?function(e){return WG.get(e)}:Zpt,Sge=Xpt,Jpt={},Qpt=Jpt,GG=Qpt,emt=Object.prototype,tmt=emt.hasOwnProperty;function nmt(e){for(var t=e.name+"",n=GG[t],r=tmt.call(GG,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}var Ege=nmt,rmt=Q6,imt=WN,amt=4294967295;function o_(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=amt,this.__views__=[]}o_.prototype=rmt(imt.prototype),o_.prototype.constructor=o_;var YN=o_,omt=YN,smt=GN,lmt=K6;function umt(e){if(e instanceof omt)return e.clone();var t=new smt(e.__wrapped__,e.__chain__);return t.__actions__=lmt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var cmt=umt,dmt=YN,YG=GN,fmt=WN,hmt=Ei,pmt=bs,mmt=cmt,gmt=Object.prototype,vmt=gmt.hasOwnProperty;function s_(e){if(pmt(e)&&!hmt(e)&&!(e instanceof dmt)){if(e instanceof YG)return e;if(vmt.call(e,"__wrapped__"))return mmt(e)}return new YG(e)}s_.prototype=fmt.prototype,s_.prototype.constructor=s_;var ymt=s_,bmt=YN,xmt=Sge,wmt=Ege,Cmt=ymt;function Smt(e){var t=wmt(e),n=Cmt[t];if("function"!=typeof n||!(t in bmt.prototype))return!1;if(e===n)return!0;var r=xmt(n);return!!r&&e===r[0]}var Emt=Smt,qG=GN,_mt=LN,kmt=Sge,qI=Ege,Tmt=Ei,KG=Emt,Amt="Expected a function",jmt=8,Imt=32,Dmt=128,Omt=256;function Rmt(e){return _mt((function(t){var n=t.length,r=n,i=qG.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError(Amt);if(i&&!a&&"wrapper"==qI(o))var a=new qG([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=qI(o),l="wrapper"==s?kmt(o):void 0;a=l&&KG(l[0])&&l[1]==(Dmt|jmt|Imt|Omt)&&!l[4].length&&1==l[9]?a[qI(l[0])].apply(a,l[3]):1==o.length&&KG(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Tmt(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}var Mmt=Rmt,$mt=Mmt,Pmt=$mt(),Fmt=Pmt;const Lmt=Be(Fmt);var Nmt=dl;function Bmt(e){return Nmt(e).toLowerCase()}var Vmt=Bmt;const Xg=Be(Vmt);var zmt=sge;function Umt(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:zmt(e,t,n)}var _ge=Umt,Hmt=_N;function Wmt(e,t){for(var n=e.length;n--&&Hmt(t,e[n],0)>-1;);return n}var Gmt=Wmt,Ymt=_N;function qmt(e,t){for(var n=-1,r=e.length;++n<r&&Ymt(t,e[n],0)>-1;);return n}var Kmt=qmt;function Zmt(e){return e.split("")}var Xmt=Zmt,Jmt="\\ud800-\\udfff",Qmt="\\u0300-\\u036f",egt="\\ufe20-\\ufe2f",tgt="\\u20d0-\\u20ff",ngt=Qmt+egt+tgt,rgt="\\ufe0e\\ufe0f",igt="\\u200d",agt=RegExp("["+igt+Jmt+ngt+rgt+"]");function ogt(e){return agt.test(e)}var kge=ogt,Tge="\\ud800-\\udfff",sgt="\\u0300-\\u036f",lgt="\\ufe20-\\ufe2f",ugt="\\u20d0-\\u20ff",cgt=sgt+lgt+ugt,dgt="\\ufe0e\\ufe0f",fgt="["+Tge+"]",yM="["+cgt+"]",bM="\\ud83c[\\udffb-\\udfff]",hgt="(?:"+yM+"|"+bM+")",Age="[^"+Tge+"]",jge="(?:\\ud83c[\\udde6-\\uddff]){2}",Ige="[\\ud800-\\udbff][\\udc00-\\udfff]",pgt="\\u200d",Dge=hgt+"?",Oge="["+dgt+"]?",mgt="(?:"+pgt+"(?:"+[Age,jge,Ige].join("|")+")"+Oge+Dge+")*",ggt=Oge+Dge+mgt,vgt="(?:"+[Age+yM+"?",yM,jge,Ige,fgt].join("|")+")",ygt=RegExp(bM+"(?="+bM+")|"+vgt+ggt,"g");function bgt(e){return e.match(ygt)||[]}var xgt=bgt,wgt=Xmt,Cgt=kge,Sgt=xgt;function Egt(e){return Cgt(e)?Sgt(e):wgt(e)}var Rge=Egt,_gt=afe,kgt=Wae,Tgt=_ge,Agt=Gmt,jgt=Kmt,ZG=Rge,Igt=dl;function Dgt(e,t,n){if((e=Igt(e))&&(n||void 0===t))return kgt(e);if(!e||!(t=_gt(t)))return e;var r=ZG(e),i=ZG(t),o=jgt(r,i),a=Agt(r,i)+1;return Tgt(r,o,a).join("")}var Ogt=Dgt;const Rgt=Be(Ogt);var Mgt=C1,$gt=fm,Pgt=hT,Fgt=gT,Lgt=$gt((function(e){return Pgt(Mgt(e,1,Fgt,!0))})),Ngt=Lgt;const Mge=Be(Ngt);var Bgt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Vgt(e){return e.match(Bgt)||[]}var zgt=Vgt,Ugt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Hgt(e){return Ugt.test(e)}var Wgt=Hgt,$ge="\\ud800-\\udfff",Ggt="\\u0300-\\u036f",Ygt="\\ufe20-\\ufe2f",qgt="\\u20d0-\\u20ff",Kgt=Ggt+Ygt+qgt,Pge="\\u2700-\\u27bf",Fge="a-z\\xdf-\\xf6\\xf8-\\xff",Zgt="\\xac\\xb1\\xd7\\xf7",Xgt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jgt="\\u2000-\\u206f",Qgt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lge="A-Z\\xc0-\\xd6\\xd8-\\xde",e0t="\\ufe0e\\ufe0f",Nge=Zgt+Xgt+Jgt+Qgt,Bge="[']",XG="["+Nge+"]",t0t="["+Kgt+"]",Vge="\\d+",n0t="["+Pge+"]",zge="["+Fge+"]",Uge="[^"+$ge+Nge+Vge+Pge+Fge+Lge+"]",r0t="\\ud83c[\\udffb-\\udfff]",i0t="(?:"+t0t+"|"+r0t+")",a0t="[^"+$ge+"]",Hge="(?:\\ud83c[\\udde6-\\uddff]){2}",Wge="[\\ud800-\\udbff][\\udc00-\\udfff]",pg="["+Lge+"]",o0t="\\u200d",JG="(?:"+zge+"|"+Uge+")",s0t="(?:"+pg+"|"+Uge+")",QG="(?:"+Bge+"(?:d|ll|m|re|s|t|ve))?",eY="(?:"+Bge+"(?:D|LL|M|RE|S|T|VE))?",Gge=i0t+"?",Yge="["+e0t+"]?",l0t="(?:"+o0t+"(?:"+[a0t,Hge,Wge].join("|")+")"+Yge+Gge+")*",u0t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c0t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",d0t=Yge+Gge+l0t,f0t="(?:"+[n0t,Hge,Wge].join("|")+")"+d0t,h0t=RegExp([pg+"?"+zge+"+"+QG+"(?="+[XG,pg,"$"].join("|")+")",s0t+"+"+eY+"(?="+[XG,pg+JG,"$"].join("|")+")",pg+"?"+JG+"+"+QG,pg+"+"+eY,c0t,u0t,Vge,f0t].join("|"),"g");function p0t(e){return e.match(h0t)||[]}var m0t=p0t,g0t=zgt,v0t=Wgt,y0t=dl,b0t=m0t;function x0t(e,t,n){return e=y0t(e),void 0===(t=n?void 0:t)?v0t(e)?b0t(e):g0t(e):e.match(t)||[]}var qge=x0t;const Kge=Be(qge);function qN(e){const t=typeof window<"u"&&"crypto"in window?window.crypto:globalThis.crypto;if(!t||!t.getRandomValues)throw new Error("WebCrypto not available in this environment");return t.getRandomValues(e)}var Zge=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function w0t(e){for(const t in e)if("_type"!==t&&"_key"!==t&&Zge(e,t)&&!KN(e[t]))return!1;return!0}function C0t(e){for(let t=0;t<e.length;t++)if(!KN(e[t]))return!1;return!0}function KN(e){if(null==e)return!0;const t=typeof e;return Array.isArray(e)?C0t(e):"object"===t&&w0t(e)}function S0t(e){for(const t in e)if("_type"!==t&&"_key"!==t&&Zge(e,t)&&void 0!==e[t])return!1;return!0}const E0t=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function _0t(e=16){const t=new Uint8Array(e);return qN(t),t}function lw(e){const t=E0t();return _0t(e).reduce(((e,n)=>e+t[n]),"").slice(0,e)}const k0t=Object.prototype.toString;function T0t(e){switch(k0t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if("object"==typeof e&&e&&"number"==typeof e.length)try{if("function"==typeof e.callee)return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}function Bo(e){const t=T0t(e);if("object"!==t)return t;return"_type"in e&&e._type||t}var A0t=_ge,j0t=kge,I0t=Rge,D0t=dl;function O0t(e){return function(t){t=D0t(t);var n=j0t(t)?I0t(t):void 0,r=n?n[0]:t.charAt(0),i=n?A0t(n,1).join(""):t.slice(1);return r[e]()+i}}var R0t=O0t,M0t=R0t,$0t=M0t("toUpperCase"),ZN=$0t;const Xge=Be(ZN);var P0t=dl,F0t=ZN;function L0t(e){return F0t(P0t(e).toLowerCase())}var Jge=L0t;const ym=Be(Jge);function N0t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo((()=>e=>{t.forEach((t=>t(e)))}),t)}const xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function L1(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function XN(e){return"nodeType"in e}function Wo(e){var t,n;return e?L1(e)?e:XN(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function JN(e){const{Document:t}=Wo(e);return e instanceof t}function uw(e){return!L1(e)&&e instanceof Wo(e).HTMLElement}function Qge(e){return e instanceof Wo(e).SVGElement}function N1(e){return e?L1(e)?e.document:XN(e)?JN(e)?e:uw(e)||Qge(e)?e.ownerDocument:document:document:document}const Fu=xT?f.useLayoutEffect:f.useEffect;function QN(e){const t=f.useRef(e);return Fu((()=>{t.current=e})),f.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function B0t(){const e=f.useRef(null);return[f.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),f.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}function Fb(e,t){void 0===t&&(t=[e]);const n=f.useRef(e);return Fu((()=>{n.current!==e&&(n.current=e)}),t),n}function cw(e,t){const n=f.useRef();return f.useMemo((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function l_(e){const t=QN(e),n=f.useRef(null),r=f.useCallback((e=>{e!==n.current&&t?.(e,n.current),n.current=e}),[]);return[n,r]}function xM(e){const t=f.useRef();return f.useEffect((()=>{t.current=e}),[e]),t.current}let KI={};function dw(e,t){return f.useMemo((()=>{if(t)return t;const n=null==KI[e]?0:KI[e]+1;return KI[e]=n,e+"-"+n}),[e,t])}function e0e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}const Jg=e0e(1),Lb=e0e(-1);function V0t(e){return"clientX"in e&&"clientY"in e}function e8(e){if(!e)return!1;const{KeyboardEvent:t}=Wo(e.target);return t&&e instanceof t}function z0t(e){if(!e)return!1;const{TouchEvent:t}=Wo(e.target);return t&&e instanceof t}function wM(e){if(z0t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return V0t(e)?{x:e.clientX,y:e.clientY}:null}const Nb=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Nb.Translate.toString(e),Nb.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),tY="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function U0t(e){return e.matches(tY)?e:e.querySelector(tY)}const H0t={display:"none"};function W0t(e){let{id:t,value:n}=e;return Ke.createElement("div",{id:t,style:H0t},n)}function G0t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return Ke.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}function Y0t(){const[e,t]=f.useState("");return{announce:f.useCallback((e=>{null!=e&&t(e)}),[]),announcement:e}}const t0e=f.createContext(null);function q0t(e){const t=f.useContext(t0e);f.useEffect((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}function K0t(){const[e]=f.useState((()=>new Set)),t=f.useCallback((t=>(e.add(t),()=>e.delete(t))),[e]);return[f.useCallback((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}const Z0t={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},X0t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function J0t(e){let{announcements:t=X0t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Z0t}=e;const{announce:o,announcement:a}=Y0t(),s=dw("DndLiveRegion"),[l,u]=f.useState(!1);if(f.useEffect((()=>{u(!0)}),[]),q0t(f.useMemo((()=>({onDragStart(e){let{active:n}=e;o(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&o(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;o(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;o(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;o(t.onDragCancel({active:n,over:r}))}})),[o,t])),!l)return null;const c=Ke.createElement(Ke.Fragment,null,Ke.createElement(W0t,{id:r,value:i.draggable}),Ke.createElement(G0t,{id:s,announcement:a}));return n?Vh.createPortal(c,n):c}var Yi;function u_(){}function nY(e,t){return f.useMemo((()=>({sensor:e,options:t??{}})),[e,t])}function Q0t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Yi||(Yi={}));const Gl=Object.freeze({x:0,y:0});function n0e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function r0e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function e1t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function rY(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function i0e(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}function iY(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const t1t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=iY(t,t.left,t.top),o=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=n0e(iY(r),i);o.push({id:t,data:{droppableContainer:e,value:n}})}}return o.sort(r0e)},n1t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=rY(t),o=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=rY(r),a=i.reduce(((e,t,r)=>e+n0e(n[r],t)),0),s=Number((a/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:s}})}}return o.sort(r0e)};function r1t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){const n=t.width*t.height,r=e.width*e.height,i=a*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const i1t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const e of r){const{id:r}=e,o=n.get(r);if(o){const n=r1t(o,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(e1t)};function a1t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function a0e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gl}function o1t(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const s1t=o1t(1);function l1t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function u1t(e,t,n){const r=l1t(t);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(n),u=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const c1t={ignoreTransform:!1};function B1(e,t){void 0===t&&(t=c1t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Wo(e).getComputedStyle(e);t&&(n=u1t(n,t,r))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function aY(e){return B1(e,{ignoreTransform:!0})}function d1t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function f1t(e,t){return void 0===t&&(t=Wo(e).getComputedStyle(e)),"fixed"===t.position}function h1t(e,t){void 0===t&&(t=Wo(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}function wT(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t||!i)return n;if(JN(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!uw(i)||Qge(i)||n.includes(i))return n;const o=Wo(e).getComputedStyle(i);return i!==e&&h1t(i,o)&&n.push(i),f1t(i,o)?n:r(i.parentNode)}(e):n}function o0e(e){const[t]=wT(e,1);return t??null}function ZI(e){return xT&&e?L1(e)?e:XN(e)?JN(e)||e===N1(e).scrollingElement?window:uw(e)?e:null:null:null}function s0e(e){return L1(e)?e.scrollX:e.scrollLeft}function l0e(e){return L1(e)?e.scrollY:e.scrollTop}function CM(e){return{x:s0e(e),y:l0e(e)}}var la;function u0e(e){return!(!xT||!e)&&e===document.scrollingElement}function c0e(e){const t={x:0,y:0},n=u0e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(la||(la={}));const p1t={x:.2,y:.2};function m1t(e,t,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=p1t);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=c0e(e),p={x:0,y:0},h={x:0,y:0},m=t.height*i.y,g=t.width*i.x;return!u&&o<=t.top+m?(p.y=la.Backward,h.y=r*Math.abs((t.top+m-o)/m)):!c&&l>=t.bottom-m&&(p.y=la.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-g?(p.x=la.Forward,h.x=r*Math.abs((t.right-g-s)/g)):!d&&a<=t.left+g&&(p.x=la.Backward,h.x=r*Math.abs((t.left+g-a)/g)),{direction:p,speed:h}}function g1t(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function d0e(e){return e.reduce(((e,t)=>Jg(e,CM(t))),Gl)}function v1t(e){return e.reduce(((e,t)=>e+s0e(t)),0)}function y1t(e){return e.reduce(((e,t)=>e+l0e(t)),0)}function b1t(e,t){if(void 0===t&&(t=B1),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);o0e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const x1t=[["x",["left","right"],v1t],["y",["top","bottom"],y1t]];let t8=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=wT(t),r=d0e(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of x1t)for(const o of t)Object.defineProperty(this,o,{get:()=>{const t=i(n),a=r[e]-t;return this.rect[o]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class nb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function w1t(e){const{EventTarget:t}=Wo(e);return e instanceof t?e:N1(e)}function XI(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var $s,yn;function oY(e){e.preventDefault()}function C1t(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}($s||($s={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(yn||(yn={}));const f0e={start:[yn.Space,yn.Enter],cancel:[yn.Esc],end:[yn.Space,yn.Enter]},S1t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case yn.Right:return{...n,x:n.x+25};case yn.Left:return{...n,x:n.x-25};case yn.Down:return{...n,y:n.y+25};case yn.Up:return{...n,y:n.y-25}}};class n8{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new nb(N1(t)),this.windowListeners=new nb(Wo(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($s.Resize,this.handleCancel),this.windowListeners.add($s.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add($s.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&b1t(n),t(Gl)}handleKeyDown(e){if(e8(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=f0e,coordinateGetter:o=S1t,scrollBehavior:a="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:Gl;this.referenceCoordinates||(this.referenceCoordinates=u);const c=o(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=Lb(c,u),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:o,isRight:s,isLeft:l,isBottom:u,maxScroll:d,minScroll:f}=c0e(n),p=g1t(n),h={x:Math.min(i===yn.Right?p.right-p.width/2:p.right,Math.max(i===yn.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===yn.Down?p.bottom-p.height/2:p.bottom,Math.max(i===yn.Down?p.top:p.top+p.height/2,c.y))},m=i===yn.Right&&!s||i===yn.Left&&!l,g=i===yn.Down&&!u||i===yn.Up&&!o;if(m&&h.x!==c.x){const e=n.scrollLeft+t.x,o=i===yn.Right&&e<=d.x||i===yn.Left&&e>=f.x;if(o&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=o?n.scrollLeft-e:i===yn.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(g&&h.y!==c.y){const e=n.scrollTop+t.y,o=i===yn.Down&&e<=d.y||i===yn.Up&&e>=f.y;if(o&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=o?n.scrollTop-e:i===yn.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,Jg(Lb(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function sY(e){return!(!e||!("distance"in e))}function lY(e){return!(!e||!("delay"in e))}n8.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=f0e,onActivation:i}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=o.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];class r8{constructor(e,t,n){var r;void 0===n&&(n=w1t(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=N1(o),this.documentListeners=new nb(this.document),this.listeners=new nb(n),this.windowListeners=new nb(Wo(o)),this.initialCoordinates=null!=(r=wM(i))?r:Gl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add($s.Resize,this.handleCancel),this.windowListeners.add($s.DragStart,oY),this.windowListeners.add($s.VisibilityChange,this.handleCancel),this.windowListeners.add($s.ContextMenu,oY),this.documentListeners.add($s.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lY(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(sY(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add($s.Click,C1t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($s.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!r)return;const s=null!=(t=wM(e))?t:Gl,l=Lb(r,s);if(!n&&a){if(sY(a)){if(null!=a.tolerance&&XI(l,a.tolerance))return this.handleCancel();if(XI(l,a.distance))return this.handleStart()}return lY(a)&&XI(l,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===yn.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const E1t={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class i8 extends r8{constructor(e){const{event:t}=e,n=N1(t.target);super(e,E1t,n)}}i8.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(r?.({event:n}),!0)}}];const _1t={move:{name:"mousemove"},end:{name:"mouseup"}};var SM;!function(e){e[e.RightClick=2]="RightClick"}(SM||(SM={}));class k1t extends r8{constructor(e){super(e,_1t,N1(e.event.target))}}k1t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==SM.RightClick&&(r?.({event:n}),!0)}}];const JI={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class T1t extends r8{constructor(e){super(e,JI)}static setup(){return window.addEventListener(JI.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(JI.move.name,e)};function e(){}}}var rb,c_;function A1t(e){let{acceleration:t,activator:n=rb.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:s=c_.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:p}=e;const h=I1t({delta:d,disabled:!o}),[m,g]=B0t(),y=f.useRef({x:0,y:0}),v=f.useRef({x:0,y:0}),b=f.useMemo((()=>{switch(n){case rb.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case rb.DraggableRect:return i}}),[n,i,l]),x=f.useRef(null),w=f.useCallback((()=>{const e=x.current;if(!e)return;const t=y.current.x*v.current.x,n=y.current.y*v.current.y;e.scrollBy(t,n)}),[]),C=f.useMemo((()=>s===c_.TreeOrder?[...u].reverse():u),[s,u]);f.useEffect((()=>{if(o&&u.length&&b){for(const e of C){if(!1===r?.(e))continue;const n=u.indexOf(e),i=c[n];if(!i)continue;const{direction:o,speed:s}=m1t(e,i,b,t,p);for(const e of["x","y"])h[e][o[e]]||(s[e]=0,o[e]=0);if(s.x>0||s.y>0)return g(),x.current=e,m(w,a),y.current=s,void(v.current=o)}y.current={x:0,y:0},v.current={x:0,y:0},g()}else g()}),[t,w,r,g,o,a,JSON.stringify(b),JSON.stringify(h),m,u,C,c,JSON.stringify(p)])}T1t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(r?.({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(rb||(rb={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(c_||(c_={}));const j1t={x:{[la.Backward]:!1,[la.Forward]:!1},y:{[la.Backward]:!1,[la.Forward]:!1}};function I1t(e){let{delta:t,disabled:n}=e;const r=xM(t);return cw((e=>{if(n||!r||!e)return j1t;const i=Math.sign(t.x-r.x),o=Math.sign(t.y-r.y);return{x:{[la.Backward]:e.x[la.Backward]||-1===i,[la.Forward]:e.x[la.Forward]||1===i},y:{[la.Backward]:e.y[la.Backward]||-1===o,[la.Forward]:e.y[la.Forward]||1===o}}}),[n,t,r])}function D1t(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return cw((e=>{var n;return null==t?null:null!=(n=r??e)?n:null}),[r,t])}function O1t(e,t){return f.useMemo((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}var Bb,EM;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Bb||(Bb={})),(EM||(EM={})).Optimized="optimized";const uY=new Map;function R1t(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,a]=f.useState(null),{frequency:s,measure:l,strategy:u}=i,c=f.useRef(e),d=function(){switch(u){case Bb.Always:return!1;case Bb.BeforeDragging:return n;default:return!n}}(),p=Fb(d),h=f.useCallback((function(e){void 0===e&&(e=[]),!p.current&&a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[p]),m=f.useRef(null),g=cw((t=>{if(d&&!n)return uY;if(!t||t===uY||c.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new t8(l(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,o,n,d,l]);return f.useEffect((()=>{c.current=e}),[e]),f.useEffect((()=>{d||h()}),[n,d]),f.useEffect((()=>{o&&o.length>0&&a(null)}),[JSON.stringify(o)]),f.useEffect((()=>{d||"number"!=typeof s||null!==m.current||(m.current=setTimeout((()=>{h(),m.current=null}),s))}),[s,d,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=o}}function h0e(e,t){return cw((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function M1t(e,t){return h0e(e,t)}function $1t(e){let{callback:t,disabled:n}=e;const r=QN(t),i=f.useMemo((()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return f.useEffect((()=>()=>i?.disconnect()),[i]),i}function CT(e){let{callback:t,disabled:n}=e;const r=QN(t),i=f.useMemo((()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return f.useEffect((()=>()=>i?.disconnect()),[i]),i}function P1t(e){return new t8(B1(e),e)}function cY(e,t,n){void 0===t&&(t=P1t);const[r,i]=f.useState(null);function o(){i((r=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=r??n)?i:null;const o=t(e);return JSON.stringify(r)===JSON.stringify(o)?r:o}))}const a=$1t({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),s=CT({callback:o});return Fu((()=>{o(),e?(s?.observe(e),a?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),a?.disconnect())}),[e]),r}function F1t(e){return a0e(e,h0e(e))}const dY=[];function L1t(e){const t=f.useRef(e),n=cw((n=>e?n&&n!==dY&&e&&t.current&&e.parentNode===t.current.parentNode?n:wT(e):dY),[e]);return f.useEffect((()=>{t.current=e}),[e]),n}function N1t(e){const[t,n]=f.useState(null),r=f.useRef(e),i=f.useCallback((e=>{const t=ZI(e.target);t&&n((e=>e?(e.set(t,CM(t)),new Map(e)):null))}),[]);return f.useEffect((()=>{const t=r.current;if(e!==t){o(t);const a=e.map((e=>{const t=ZI(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,CM(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(t)};function o(e){e.forEach((e=>{const t=ZI(e);t?.removeEventListener("scroll",i)}))}}),[i,e]),f.useMemo((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>Jg(e,t)),Gl):d0e(e):Gl),[e,t])}function fY(e,t){void 0===t&&(t=[]);const n=f.useRef(null);return f.useEffect((()=>{n.current=null}),t),f.useEffect((()=>{const t=e!==Gl;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?Lb(e,n.current):Gl}function B1t(e){f.useEffect((()=>{if(!xT)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)e?.()}}),e.map((e=>{let{sensor:t}=e;return t})))}function V1t(e,t){return f.useMemo((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}function p0e(e){return f.useMemo((()=>e?d1t(e):null),[e])}const hY=[];function z1t(e,t){void 0===t&&(t=B1);const[n]=e,r=p0e(n?Wo(n):null),[i,o]=f.useState(hY);function a(){o((()=>e.length?e.map((e=>u0e(e)?r:new t8(t(e),e))):hY))}const s=CT({callback:a});return Fu((()=>{s?.disconnect(),a(),e.forEach((e=>s?.observe(e)))}),[e]),i}function U1t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return uw(t)?t:e}function H1t(e){let{measure:t}=e;const[n,r]=f.useState(null),i=CT({callback:f.useCallback((e=>{for(const{target:n}of e)if(uw(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),o=f.useCallback((e=>{const n=U1t(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)}),[t,i]),[a,s]=l_(o);return f.useMemo((()=>({nodeRef:a,rect:n,setRef:s})),[n,a,s])}const W1t=[{sensor:i8,options:{}},{sensor:n8,options:{}}],G1t={current:{}},jS={draggable:{measure:aY},droppable:{measure:aY,strategy:Bb.WhileDragging,frequency:EM.Optimized},dragOverlay:{measure:B1}};class ib extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Y1t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ib,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:u_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:jS,measureDroppableContainers:u_,windowRect:null,measuringScheduled:!1},q1t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:u_,draggableNodes:new Map,over:null,measureDroppableContainers:u_},ST=f.createContext(q1t),m0e=f.createContext(Y1t);function K1t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ib}}}function Z1t(e,t){switch(t.type){case Yi.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Yi.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Yi.DragEnd:case Yi.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yi.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new ib(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Yi.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new ib(e.droppable.containers);return a.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case Yi.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new ib(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function X1t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=f.useContext(ST),o=xM(r),a=xM(n?.id);return f.useEffect((()=>{if(!t&&!r&&o&&null!=a){if(!e8(o)||document.activeElement===o.target)return;const e=i.get(a);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=U0t(e);if(t){t.focus();break}}}))}}),[r,t,i,a,o]),null}function J1t(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}function Q1t(e){return f.useMemo((()=>({draggable:{...jS.draggable,...e?.draggable},droppable:{...jS.droppable,...e?.droppable},dragOverlay:{...jS.dragOverlay,...e?.dragOverlay}})),[e?.draggable,e?.droppable,e?.dragOverlay])}function evt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=f.useRef(!1),{x:a,y:s}="boolean"==typeof i?{x:i,y:i}:i;Fu((()=>{if(!a&&!s||!t)return void(o.current=!1);if(o.current||!r)return;const e=t?.node.current;if(!e||!1===e.isConnected)return;const i=a0e(n(e),r);if(a||(i.x=0),s||(i.y=0),o.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=o0e(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,a,s,r,n])}const g0e=f.createContext({...Gl,scaleX:1,scaleY:1});var Qd;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Qd||(Qd={}));const tvt=f.memo((function(e){var t,n,r,i;let{id:o,accessibility:a,autoScroll:s=!0,children:l,sensors:u=W1t,collisionDetection:c=i1t,measuring:d,modifiers:p,...h}=e;const m=f.useReducer(Z1t,void 0,K1t),[g,y]=m,[v,b]=K0t(),[x,w]=f.useState(Qd.Uninitialized),C=x===Qd.Initialized,{draggable:{active:k,nodes:j,translate:S},droppable:{containers:E}}=g,_=null!=k?j.get(k):null,A=f.useRef({initial:null,translated:null}),T=f.useMemo((()=>{var e;return null!=k?{id:k,data:null!=(e=_?.data)?e:G1t,rect:A}:null}),[k,_]),D=f.useRef(null),[M,I]=f.useState(null),[O,N]=f.useState(null),P=Fb(h,Object.values(h)),R=dw("DndDescribedBy",o),F=f.useMemo((()=>E.getEnabled()),[E]),L=Q1t(d),{droppableRects:$,measureDroppableContainers:B,measuringScheduled:V}=R1t(F,{dragging:C,dependencies:[S.x,S.y],config:L.droppable}),z=D1t(j,k),U=f.useMemo((()=>O?wM(O):null),[O]),H=function(){const e=!1===M?.autoScrollEnabled,t="object"==typeof s?!1===s.enabled:!1===s,n=C&&!e&&!t;return"object"==typeof s?{...s,enabled:n}:{enabled:n}}(),W=M1t(z,L.draggable.measure);evt({activeNode:null!=k?j.get(k):null,config:H.layoutShiftCompensation,initialRect:W,measure:L.draggable.measure});const q=cY(z,L.draggable.measure,W),G=cY(z?z.parentElement:null),Y=f.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),K=E.getNodeFor(null==(t=Y.current.over)?void 0:t.id),Z=H1t({measure:L.dragOverlay.measure}),X=null!=(n=Z.nodeRef.current)?n:z,J=C?null!=(r=Z.rect)?r:q:null,Q=!(!Z.nodeRef.current||!Z.rect),ee=F1t(Q?null:q),te=p0e(X?Wo(X):null),ne=L1t(C?K??z:null),re=z1t(ne),ie=J1t(p,{transform:{x:S.x-ee.x,y:S.y-ee.y,scaleX:1,scaleY:1},activatorEvent:O,active:T,activeNodeRect:q,containerNodeRect:G,draggingNodeRect:J,over:Y.current.over,overlayNodeRect:Z.rect,scrollableAncestors:ne,scrollableAncestorRects:re,windowRect:te}),oe=U?Jg(U,S):null,ae=N1t(ne),se=fY(ae),le=fY(ae,[q]),ue=Jg(ie,se),ce=J?s1t(J,ie):null,de=T&&ce?c({active:T,collisionRect:ce,droppableRects:$,droppableContainers:F,pointerCoordinates:oe}):null,fe=i0e(de,"id"),[pe,he]=f.useState(null),me=a1t(Q?ie:Jg(ie,le),null!=(i=pe?.rect)?i:null,q),ge=f.useRef(null),ye=f.useCallback(((e,t)=>{let{sensor:n,options:r}=t;if(null==D.current)return;const i=j.get(D.current);if(!i)return;const o=e.nativeEvent,a=new n({active:D.current,activeNode:i,event:o,options:r,context:Y,onStart(e){const t=D.current;if(null==t)return;const n=j.get(t);if(!n)return;const{onDragStart:r}=P.current,i={activatorEvent:o,active:{id:t,data:n.data,rect:A}};Vh.unstable_batchedUpdates((()=>{r?.(i),w(Qd.Initializing),y({type:Yi.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:i}),I(ge.current),N(o)}))},onMove(e){y({type:Yi.DragMove,coordinates:e})},onEnd:s(Yi.DragEnd),onCancel:s(Yi.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=Y.current;let a=null;if(t&&i){const{cancelDrop:s}=P.current;a={activatorEvent:o,active:t,collisions:n,delta:i,over:r},e===Yi.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=Yi.DragCancel)}D.current=null,Vh.unstable_batchedUpdates((()=>{y({type:e}),w(Qd.Uninitialized),he(null),I(null),N(null),ge.current=null;const t=e===Yi.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=P.current[t];e?.(a),v({type:t,event:a})}}))}}ge.current=a}),[j]),ve=O1t(u,f.useCallback(((e,t)=>(n,r)=>{const i=n.nativeEvent,o=j.get(r);if(null!==D.current||!o||i.dndKit||i.defaultPrevented)return;const a={active:o};!0===e(n,t.options,a)&&(i.dndKit={capturedBy:t.sensor},D.current=r,ye(n,t))}),[j,ye]));B1t(u),Fu((()=>{q&&x===Qd.Initializing&&w(Qd.Initialized)}),[q,x]),f.useEffect((()=>{const{onDragMove:e}=P.current,{active:t,activatorEvent:n,collisions:r,over:i}=Y.current;if(!t||!n)return;const o={active:t,activatorEvent:n,collisions:r,delta:{x:ue.x,y:ue.y},over:i};Vh.unstable_batchedUpdates((()=>{e?.(o),v({type:"onDragMove",event:o})}))}),[ue.x,ue.y]),f.useEffect((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=Y.current;if(!e||null==D.current||!t||!i)return;const{onDragOver:o}=P.current,a=r.get(fe),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};Vh.unstable_batchedUpdates((()=>{he(s),o?.(l),v({type:"onDragOver",event:l})}))}),[fe]),Fu((()=>{Y.current={activatorEvent:O,active:T,activeNode:z,collisionRect:ce,collisions:de,droppableRects:$,draggableNodes:j,draggingNode:X,draggingNodeRect:J,droppableContainers:E,over:pe,scrollableAncestors:ne,scrollAdjustedTranslate:ue},A.current={initial:J,translated:ce}}),[T,z,de,ce,j,X,J,$,E,pe,ne,ue]),A1t({...H,delta:S,draggingRect:ce,pointerCoordinates:oe,scrollableAncestors:ne,scrollableAncestorRects:re});const be=f.useMemo((()=>({active:T,activeNode:z,activeNodeRect:q,activatorEvent:O,collisions:de,containerNodeRect:G,dragOverlay:Z,draggableNodes:j,droppableContainers:E,droppableRects:$,over:pe,measureDroppableContainers:B,scrollableAncestors:ne,scrollableAncestorRects:re,measuringConfiguration:L,measuringScheduled:V,windowRect:te})),[T,z,q,O,de,G,Z,j,E,$,pe,B,ne,re,L,V,te]),xe=f.useMemo((()=>({activatorEvent:O,activators:ve,active:T,activeNodeRect:q,ariaDescribedById:{draggable:R},dispatch:y,draggableNodes:j,over:pe,measureDroppableContainers:B})),[O,ve,T,q,y,R,j,pe,B]);return Ke.createElement(t0e.Provider,{value:b},Ke.createElement(ST.Provider,{value:xe},Ke.createElement(m0e.Provider,{value:be},Ke.createElement(g0e.Provider,{value:me},l)),Ke.createElement(X1t,{disabled:!1===a?.restoreFocus})),Ke.createElement(J0t,{...a,hiddenTextDescribedById:R}))})),nvt=f.createContext(null),pY="button",rvt="Draggable";function ivt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=dw(rvt),{activators:a,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:p}=f.useContext(ST),{role:h=pY,roleDescription:m="draggable",tabIndex:g=0}=i??{},y=l?.id===t,v=f.useContext(y?g0e:nvt),[b,x]=l_(),[w,C]=l_(),k=V1t(a,t),j=Fb(n);Fu((()=>(d.set(t,{id:t,key:o,node:b,activatorNode:w,data:j}),()=>{const e=d.get(t);e&&e.key===o&&d.delete(t)})),[d,t]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:f.useMemo((()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":!(!y||h!==pY)||void 0,"aria-roledescription":m,"aria-describedby":c.draggable})),[r,h,g,y,m,c.draggable]),isDragging:y,listeners:r?void 0:k,node:b,over:p,setNodeRef:x,setActivatorNodeRef:C,transform:v}}function avt(){return f.useContext(m0e)}const ovt="Droppable",svt={timeout:25};function lvt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=dw(ovt),{active:a,dispatch:s,over:l,measureDroppableContainers:u}=f.useContext(ST),c=f.useRef({disabled:n}),d=f.useRef(!1),p=f.useRef(null),h=f.useRef(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...svt,...i},v=Fb(g??r),b=CT({callback:f.useCallback((()=>{d.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null}),y)):d.current=!0}),[y]),disabled:m||!a}),x=f.useCallback(((e,t)=>{b&&(t&&(b.unobserve(t),d.current=!1),e&&b.observe(e))}),[b]),[w,C]=l_(x),k=Fb(t);return f.useEffect((()=>{!b||!w.current||(b.disconnect(),d.current=!1,b.observe(w.current))}),[w,b]),f.useEffect((()=>(s({type:Yi.RegisterDroppable,element:{id:r,key:o,disabled:n,node:w,rect:p,data:k}}),()=>s({type:Yi.UnregisterDroppable,key:o,id:r}))),[r]),f.useEffect((()=>{n!==c.current.disabled&&(s({type:Yi.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)}),[r,o,n,s]),{active:a,rect:p,isOver:l?.id===r,node:w,over:l,setNodeRef:C}}const uvt=e=>{let{transform:t}=e;return{...t,y:0}},cvt=e=>{let{transform:t}=e;return{...t,x:0}};function v0e(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function dvt(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function VC(e){return null!==e&&e>=0}function fvt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function hvt(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}const zC={scaleX:1,scaleY:1},pvt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:o,index:a}=e;const s=null!=(t=n[i])?t:r;if(!s)return null;const l=mvt(n,a,i);if(a===i){const e=n[o];return e?{x:i<o?e.left+e.width-(s.left+s.width):e.left-s.left,y:0,...zC}:null}return a>i&&a<=o?{x:-s.width-l,y:0,...zC}:a<i&&a>=o?{x:s.width+l,y:0,...zC}:{x:0,y:0,...zC}};function mvt(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r&&(i||o)?n<t?i?r.left-(i.left+i.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(i.left+i.width):0}const y0e=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=v0e(t,r,n),a=t[i],s=o[i];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},UC={scaleX:1,scaleY:1},gvt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=e;const s=null!=(t=o[n])?t:r;if(!s)return null;if(i===n){const e=o[a];return e?{x:0,y:n<a?e.top+e.height-(s.top+s.height):e.top-s.top,...UC}:null}const l=vvt(o,i,n);return i>n&&i<=a?{x:0,y:-s.height-l,...UC}:i<n&&i>=a?{x:0,y:s.height+l,...UC}:{x:0,y:0,...UC}};function vvt(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const b0e="Sortable",x0e=Ke.createContext({activeIndex:-1,containerId:b0e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:y0e,disabled:{draggable:!1,droppable:!1}});function yvt(e){let{children:t,id:n,items:r,strategy:i=y0e,disabled:o=!1}=e;const{active:a,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:c}=avt(),d=dw(b0e,n),p=null!==s.rect,h=f.useMemo((()=>r.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[r]),m=null!=a,g=a?h.indexOf(a.id):-1,y=u?h.indexOf(u.id):-1,v=f.useRef(h),b=!fvt(h,v.current),x=-1!==y&&-1===g||b,w=hvt(o);Fu((()=>{b&&m&&c(h)}),[b,h,m,c]),f.useEffect((()=>{v.current=h}),[h]);const C=f.useMemo((()=>({activeIndex:g,containerId:d,disabled:w,disableTransforms:x,items:h,overIndex:y,useDragOverlay:p,sortedRects:dvt(h,l),strategy:i})),[g,d,w.draggable,w.droppable,x,h,y,l,p,i]);return Ke.createElement(x0e.Provider,{value:C},t)}const bvt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return v0e(n,r,i).indexOf(t)},xvt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:s,previousContainerId:l,transition:u}=e;return!(!u||!r||s!==o&&i===a)&&(!!n||a!==i&&t===l)},wvt={duration:200,easing:"ease"},w0e="transform",Cvt=Nb.Transition.toString({property:w0e,duration:0,easing:"linear"}),Svt={roleDescription:"sortable"};function Evt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,a]=f.useState(null),s=f.useRef(n);return Fu((()=>{if(!t&&n!==s.current&&r.current){const e=i.current;if(e){const t=B1(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}n!==s.current&&(s.current=n)}),[t,n,r,i]),f.useEffect((()=>{o&&a(null)}),[o]),o}function C0e(e){let{animateLayoutChanges:t=xvt,attributes:n,disabled:r,data:i,getNewIndex:o=bvt,id:a,strategy:s,resizeObserverConfig:l,transition:u=wvt}=e;const{items:c,containerId:d,activeIndex:p,disabled:h,disableTransforms:m,sortedRects:g,overIndex:y,useDragOverlay:v,strategy:b}=f.useContext(x0e),x=_vt(r,h),w=c.indexOf(a),C=f.useMemo((()=>({sortable:{containerId:d,index:w,items:c},...i})),[d,i,w,c]),k=f.useMemo((()=>c.slice(c.indexOf(a))),[c,a]),{rect:j,node:S,isOver:E,setNodeRef:_}=lvt({id:a,data:C,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...l}}),{active:A,activatorEvent:T,activeNodeRect:D,attributes:M,setNodeRef:I,listeners:O,isDragging:N,over:P,setActivatorNodeRef:R,transform:F}=ivt({id:a,data:C,attributes:{...Svt,...n},disabled:x.draggable}),L=N0t(_,I),$=!!A,B=$&&!m&&VC(p)&&VC(y),V=!v&&N,z=B?(V&&B?F:null)??(s??b)({rects:g,activeNodeRect:D,activeIndex:p,overIndex:y,index:w}):null,U=VC(p)&&VC(y)?o({id:a,items:c,activeIndex:p,overIndex:y}):w,H=A?.id,W=f.useRef({activeId:H,items:c,newIndex:U,containerId:d}),q=c!==W.current.items,G=t({active:A,containerId:d,isDragging:N,isSorting:$,id:a,index:w,items:c,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:u,wasDragging:null!=W.current.activeId}),Y=Evt({disabled:!G,index:w,node:S,rect:j});return f.useEffect((()=>{$&&W.current.newIndex!==U&&(W.current.newIndex=U),d!==W.current.containerId&&(W.current.containerId=d),c!==W.current.items&&(W.current.items=c)}),[$,U,d,c]),f.useEffect((()=>{if(H===W.current.activeId)return;if(H&&!W.current.activeId)return void(W.current.activeId=H);const e=setTimeout((()=>{W.current.activeId=H}),50);return()=>clearTimeout(e)}),[H]),{active:A,activeIndex:p,attributes:M,data:C,rect:j,index:w,newIndex:U,items:c,isOver:E,isSorting:$,isDragging:N,listeners:O,node:S,overIndex:y,over:P,setNodeRef:L,setActivatorNodeRef:R,setDroppableNodeRef:_,setDraggableNodeRef:I,transform:Y??z,transition:function(){if(Y||q&&W.current.newIndex===w)return Cvt;if((!V||e8(T))&&u&&($||G))return Nb.Transition.toString({...u,property:w0e})}()}}function _vt(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=e?.draggable)?n:t.draggable,droppable:null!=(r=e?.droppable)?r:t.droppable}}function d_(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const kvt=[yn.Down,yn.Right,yn.Up,yn.Left],Tvt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:s}}=t;if(kvt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];o.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const o=i.get(n.id);if(o)switch(e.code){case yn.Down:r.top<o.top&&t.push(n);break;case yn.Up:r.top>o.top&&t.push(n);break;case yn.Left:r.left>o.left&&t.push(n);break;case yn.Right:r.left<o.left&&t.push(n)}}));const l=n1t({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=i0e(l,"id");if(u===a?.id&&l.length>1&&(u=l[1].id),null!=u){const e=o.get(n.id),t=o.get(u),a=t?i.get(t.id):null,l=t?.node.current;if(l&&a&&e&&t){const n=wT(l).some(((e,t)=>s[t]!==e)),i=S0e(e,t),o=Avt(e,t),u=n||!i?{x:0,y:0}:{x:o?r.width-a.width:0,y:o?r.height-a.height:0},c={x:a.left,y:a.top};return u.x&&u.y?c:Lb(c,u)}}}};function S0e(e,t){return!(!d_(e)||!d_(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Avt(e,t){return!!(d_(e)&&d_(t)&&S0e(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}const mY=e=>"object"==typeof e&&null!=e&&1===e.nodeType,gY=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,QI=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return gY(n.overflowY,t)||gY(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},HC=(e,t,n,r,i,o,a,s)=>o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0,jvt=e=>e.parentElement??(e.getRootNode().host||null),vY=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:a,block:s,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!mY(e))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,p=[];let h=e;for(;mY(h)&&d(h);){if(h=jvt(h),h===f){p.push(h);break}null!=h&&h===document.body&&QI(h)&&!QI(document.documentElement)||null!=h&&QI(h,c)&&p.push(h)}const m=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(o=null==(i=window.visualViewport)?void 0:i.height)?o:innerHeight,{scrollX:y,scrollY:v}=window,{height:b,width:x,top:w,right:C,bottom:k,left:j}=e.getBoundingClientRect(),{top:S,right:E,bottom:_,left:A}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let T="start"===s||"nearest"===s?w-S:"end"===s?k+_:w+b/2-S+_,D="center"===l?j+x/2-A+E:"end"===l?C+E:j-A;const M=[];for(let e=0;e<p.length;e++){const t=p[e],{height:n,width:r,top:i,right:o,bottom:u,left:c}=t.getBoundingClientRect();if("if-needed"===a&&w>=0&&j>=0&&k<=g&&C<=m&&w>=i&&k<=u&&j>=c&&C<=o)return M;const d=getComputedStyle(t),h=parseInt(d.borderLeftWidth,10),S=parseInt(d.borderTopWidth,10),E=parseInt(d.borderRightWidth,10),_=parseInt(d.borderBottomWidth,10);let A=0,I=0;const O="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-E:0,N="offsetHeight"in t?t.offsetHeight-t.clientHeight-S-_:0,P="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,R="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(f===t)A="start"===s?T:"end"===s?T-g:"nearest"===s?HC(v,v+g,g,S,_,v+T,v+T+b,b):T-g/2,I="start"===l?D:"center"===l?D-m/2:"end"===l?D-m:HC(y,y+m,m,h,E,y+D,y+D+x,x),A=Math.max(0,A+v),I=Math.max(0,I+y);else{A="start"===s?T-i-S:"end"===s?T-u+_+N:"nearest"===s?HC(i,u,n,S,_+N,T,T+b,b):T-(i+n/2)+N/2,I="start"===l?D-c-h:"center"===l?D-(c+r/2)+O/2:"end"===l?D-o+E+O:HC(c,o,r,h,E+O,D,D+x,x);const{scrollLeft:e,scrollTop:a}=t;A=0===R?0:Math.max(0,Math.min(a+A/R,t.scrollHeight-n/R+N)),I=0===P?0:Math.max(0,Math.min(e+I/P,t.scrollWidth-r/P+O)),T+=a-A,D+=e-I}M.push({el:t,top:A,left:I})}return M},Ivt=e=>{return!1===e?{block:"end",inline:"nearest"}:(t=e)===Object(t)&&0!==Object.keys(t).length?e:{block:"start",inline:"nearest"};var t};function $p(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof(r=t)&&"function"==typeof r.behavior)return t.behavior(vY(e,t));var r;const i="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:r,top:o,left:a}of vY(e,Ivt(t))){const e=o-n.top+n.bottom,t=a-n.left+n.right;r.scroll({top:e,left:t,behavior:i})}}function qt(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function tt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function at(e){tt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ul(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Fr(e,t){tt(2,arguments);var n=at(e),r=qt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function fw(e,t){tt(2,arguments);var n=at(e),r=qt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function Dvt(e){tt(1,arguments);var t=at(e).getDay();return 0===t||6===t}function Ovt(e,t){tt(2,arguments);var n=at(e).getTime(),r=qt(t);return new Date(n+r)}var Rvt={};function Zu(){return Rvt}function Pf(e,t){var n,r,i,o,a,s,l,u;tt(1,arguments);var c=Zu(),d=qt(null!==(n=null!==(r=null!==(i=null!==(o=t?.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=at(e),p=f.getDay(),h=(p<d?7:0)+p-d;return f.setDate(f.getDate()-h),f.setHours(0,0,0,0),f}function A0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ff(e){tt(1,arguments);var t=at(e);return t.setHours(0,0,0,0),t}var Mvt=864e5;function $vt(e,t){tt(2,arguments);var n=Ff(e),r=Ff(t),i=n.getTime()-A0(n),o=r.getTime()-A0(r);return Math.round((i-o)/Mvt)}function Pvt(e,t){return tt(2,arguments),Fr(e,7*qt(t))}function Qg(e,t){tt(2,arguments);var n=at(e),r=at(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var ET=6e4,_T=36e5,Fvt=1e3;function Wa(e,t){tt(2,arguments);var n=Ff(e),r=Ff(t);return n.getTime()===r.getTime()}function Lvt(e){return tt(1,arguments),e instanceof Date||"object"===Ul(e)&&"[object Date]"===Object.prototype.toString.call(e)}function nd(e){if(tt(1,arguments),!Lvt(e)&&"number"!=typeof e)return!1;var t=at(e);return!isNaN(Number(t))}function Nvt(e,t){tt(2,arguments);var n=at(e),r=at(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function Bvt(e,t){tt(2,arguments);var n=at(e),r=at(t);return n.getFullYear()-r.getFullYear()}function yY(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function E0e(e,t){tt(2,arguments);var n=at(e),r=at(t),i=yY(n,r),o=Math.abs($vt(n,r));n.setDate(n.getDate()-i*o);var a=i*(o-+(yY(n,r)===-i));return 0===a?0:a}function a8(e,t){return tt(2,arguments),at(e).getTime()-at(t).getTime()}var bY={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Vvt="trunc";function kT(e){return e?bY[e]:bY[Vvt]}function zvt(e,t,n){tt(2,arguments);var r=a8(e,t)/_T;return kT(void 0)(r)}function Uvt(e,t,n){tt(2,arguments);var r=a8(e,t)/ET;return kT(void 0)(r)}function Vb(e){tt(1,arguments);var t=at(e);return t.setHours(23,59,59,999),t}function Hvt(e){tt(1,arguments);var t=at(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Wvt(e){tt(1,arguments);var t=at(e);return Vb(t).getTime()===Hvt(t).getTime()}function _0e(e,t){tt(2,arguments);var n,r=at(e),i=at(t),o=Qg(r,i),a=Math.abs(Nvt(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=Qg(r,i)===-o;Wvt(at(e))&&1===a&&1===Qg(e,i)&&(s=!1),n=o*(a-Number(s))}return 0===n?0:n}function k0e(e,t,n){tt(2,arguments);var r=a8(e,t)/1e3;return kT(void 0)(r)}function Gvt(e,t,n){tt(2,arguments);var r=E0e(e,t)/7;return kT(void 0)(r)}function Yvt(e,t){tt(2,arguments);var n=at(e),r=at(t),i=Qg(n,r),o=Math.abs(Bvt(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=Qg(n,r)===-i,s=i*(o-Number(a));return 0===s?0:s}function xY(e){tt(1,arguments);var t=at(e);return t.setSeconds(0,0),t}function TT(e,t){tt(1,arguments);var n=e||{},r=at(n.start),i=at(n.end),o=i.getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var a=Pf(r,t),s=Pf(i,t);a.setHours(15),s.setHours(15),o=s.getTime();for(var l=[],u=a;u.getTime()<=o;)u.setHours(0),l.push(at(u)),(u=Pvt(u,1)).setHours(15);return l}function AT(e){tt(1,arguments);var t=at(e);return t.setDate(1),t.setHours(0,0,0,0),t}function wY(e){tt(1,arguments);var t=at(e);return t.setSeconds(59,999),t}function T0e(e,t){return tt(2,arguments),Ovt(e,-qt(t))}var qvt=864e5;function Kvt(e){tt(1,arguments);var t=at(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/qvt)+1}function j0(e){tt(1,arguments);var t=at(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function A0e(e){tt(1,arguments);var t=at(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=j0(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=j0(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Zvt(e){tt(1,arguments);var t=A0e(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),j0(n)}var Xvt=6048e5;function j0e(e){tt(1,arguments);var t=at(e),n=j0(t).getTime()-Zvt(t).getTime();return Math.round(n/Xvt)+1}function Pp(e,t){var n,r,i,o,a,s,l,u;tt(1,arguments);var c=Zu(),d=qt(null!==(n=null!==(r=null!==(i=null!==(o=t?.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=at(e),p=f.getUTCDay(),h=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-h),f.setUTCHours(0,0,0,0),f}function o8(e,t){var n,r,i,o,a,s,l,u;tt(1,arguments);var c=at(e),d=c.getUTCFullYear(),f=Zu(),p=qt(null!==(n=null!==(r=null!==(i=null!==(o=t?.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(d+1,0,p),h.setUTCHours(0,0,0,0);var m=Pp(h,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var y=Pp(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Jvt(e,t){var n,r,i,o,a,s,l,u;tt(1,arguments);var c=Zu(),d=qt(null!==(n=null!==(r=null!==(i=null!==(o=t?.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),f=o8(e,t),p=new Date(0);return p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0),Pp(p,t)}var Qvt=6048e5;function I0e(e,t){tt(1,arguments);var n=at(e),r=Pp(n,t).getTime()-Jvt(n,t).getTime();return Math.round(r/Qvt)+1}function Hn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Fd={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Hn("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Hn(n+1,2)},d:function(e,t){return Hn(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Hn(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Hn(e.getUTCHours(),t.length)},m:function(e,t){return Hn(e.getUTCMinutes(),t.length)},s:function(e,t){return Hn(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Hn(Math.floor(r*Math.pow(10,n-3)),t.length)}},tg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eyt={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fd.y(e,t)},Y:function(e,t,n,r){var i=o8(e,r),o=i>0?i:1-i;return"YY"===t?Hn(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Hn(o,t.length)},R:function(e,t){return Hn(A0e(e),t.length)},u:function(e,t){return Hn(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Hn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Hn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Fd.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Hn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=I0e(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Hn(i,t.length)},I:function(e,t,n){var r=j0e(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Hn(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Fd.d(e,t)},D:function(e,t,n){var r=Kvt(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Hn(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Hn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Hn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Hn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?tg.noon:0===i?tg.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?tg.evening:i>=12?tg.afternoon:i>=4?tg.morning:tg.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fd.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Fd.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hn(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hn(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Fd.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Fd.s(e,t)},S:function(e,t){return Fd.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return SY(i);case"XXXX":case"XX":return Ih(i);default:return Ih(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return SY(i);case"xxxx":case"xx":return Ih(i);default:return Ih(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CY(i,":");default:return"GMT"+Ih(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CY(i,":");default:return"GMT"+Ih(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Hn(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Hn((r._originalDate||e).getTime(),t.length)}};function CY(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t;return n+String(i)+a+Hn(o,2)}function SY(e,t){return e%60==0?(e>0?"-":"+")+Hn(Math.abs(e)/60,2):Ih(e,t)}function Ih(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Hn(Math.floor(i/60),2)+n+Hn(i%60,2)}var EY=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},D0e=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tyt=function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return EY(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",EY(i,t)).replace("{{time}}",D0e(o,t))},_M={p:D0e,P:tyt},nyt=["D","DD"],ryt=["YY","YYYY"];function O0e(e){return-1!==nyt.indexOf(e)}function R0e(e){return-1!==ryt.indexOf(e)}function f_(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iyt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ayt=function(e,t,n){var r,i=iyt[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eD(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var oyt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},syt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lyt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uyt={date:eD({formats:oyt,defaultWidth:"full"}),time:eD({formats:syt,defaultWidth:"full"}),dateTime:eD({formats:lyt,defaultWidth:"full"})},cyt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dyt=function(e,t,n,r){return cyt[e]};function Rv(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var fyt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hyt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pyt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},myt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gyt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vyt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yyt=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},byt={ordinalNumber:yyt,era:Rv({values:fyt,defaultWidth:"wide"}),quarter:Rv({values:hyt,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Rv({values:pyt,defaultWidth:"wide"}),day:Rv({values:myt,defaultWidth:"wide"}),dayPeriod:Rv({values:gyt,defaultWidth:"wide",formattingValues:vyt,defaultFormattingWidth:"wide"})};function Mv(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?wyt(l,(function(e){return e.test(s)})):xyt(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(u):u,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}function xyt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function wyt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Cyt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}}var Syt=/^(\d+)(th|st|nd|rd)?/i,Eyt=/\d+/i,_yt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kyt={any:[/^b/i,/^(a|c)/i]},Tyt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ayt={any:[/1/i,/2/i,/3/i,/4/i]},jyt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iyt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dyt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oyt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ryt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Myt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$yt={ordinalNumber:Cyt({matchPattern:Syt,parsePattern:Eyt,valueCallback:function(e){return parseInt(e,10)}}),era:Mv({matchPatterns:_yt,defaultMatchWidth:"wide",parsePatterns:kyt,defaultParseWidth:"any"}),quarter:Mv({matchPatterns:Tyt,defaultMatchWidth:"wide",parsePatterns:Ayt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Mv({matchPatterns:jyt,defaultMatchWidth:"wide",parsePatterns:Iyt,defaultParseWidth:"any"}),day:Mv({matchPatterns:Dyt,defaultMatchWidth:"wide",parsePatterns:Oyt,defaultParseWidth:"any"}),dayPeriod:Mv({matchPatterns:Ryt,defaultMatchWidth:"any",parsePatterns:Myt,defaultParseWidth:"any"})},s8={code:"en-US",formatDistance:ayt,formatLong:uyt,formatRelative:dyt,localize:byt,match:$yt,options:{weekStartsOn:0,firstWeekContainsDate:1}},Pyt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fyt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lyt=/^'([^]*?)'?$/,Nyt=/''/g,Byt=/[a-zA-Z]/;function xu(e,t,n){var r,i,o,a,s,l,u,c,d,f,p;tt(2,arguments);var h=String(t),m=Zu(),g=null!==(r=m.locale)&&void 0!==r?r:s8,y=qt(null!==(i=null!==(o=null!==(a=void 0)&&void 0!==a?a:m.firstWeekContainsDate)&&void 0!==o?o:null===(s=m.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==i?i:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=qt(null!==(u=null!==(c=null!==(d=void 0)&&void 0!==d?d:m.weekStartsOn)&&void 0!==c?c:null===(f=m.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==u?u:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");var b=at(e);if(!nd(b))throw new RangeError("Invalid time value");var x=T0e(b,A0(b)),w={firstWeekContainsDate:y,weekStartsOn:v,locale:g,_originalDate:b};return h.match(Fyt).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,_M[t])(e,g.formatLong):e})).join("").match(Pyt).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Vyt(n);var i=eyt[r];if(i)return R0e(n)&&f_(n,t,String(e)),O0e(n)&&f_(n,t,String(e)),i(x,n,g.localize,w);if(r.match(Byt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}function Vyt(e){var t=e.match(Lyt);return t?t[1].replace(Nyt,"'"):e}function l8(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function zyt(e){return l8({},e)}var _Y=1440,Uyt=2520,tD=43200,Hyt=86400;function Wyt(e,t,n){var r,i;tt(2,arguments);var o=Zu(),a=null!==(r=null!==(i=n?.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:s8;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=Qg(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l,u,c=l8(zyt(n),{addSuffix:!!n?.addSuffix,comparison:s});s>0?(l=at(t),u=at(e)):(l=at(e),u=at(t));var d,f=k0e(u,l),p=(A0(u)-A0(l))/1e3,h=Math.round((f-p)/60);if(h<2)return null!=n&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,c):f<10?a.formatDistance("lessThanXSeconds",10,c):f<20?a.formatDistance("lessThanXSeconds",20,c):f<40?a.formatDistance("halfAMinute",0,c):f<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):0===h?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",h,c);if(h<45)return a.formatDistance("xMinutes",h,c);if(h<90)return a.formatDistance("aboutXHours",1,c);if(h<_Y){var m=Math.round(h/60);return a.formatDistance("aboutXHours",m,c)}if(h<Uyt)return a.formatDistance("xDays",1,c);if(h<tD){var g=Math.round(h/_Y);return a.formatDistance("xDays",g,c)}if(h<Hyt)return d=Math.round(h/tD),a.formatDistance("aboutXMonths",d,c);if((d=_0e(u,l))<12){var y=Math.round(h/tD);return a.formatDistance("xMonths",y,c)}var v=d%12,b=Math.floor(d/12);return v<3?a.formatDistance("aboutXYears",b,c):v<9?a.formatDistance("overXYears",b,c):a.formatDistance("almostXYears",b+1,c)}function Gyt(e){tt(1,arguments);var t=at(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function M0e(e){return tt(1,arguments),at(e).getMinutes()}function Yyt(e,t){var n,r,i,o,a;tt(1,arguments);var s=at(e),l=s.getFullYear(),u=Zu(),c=qt(null!==(n=null!==(r=null!==(i=void 0)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(o=u.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setFullYear(l+1,0,c),d.setHours(0,0,0,0);var f=Pf(d,t),p=new Date(0);p.setFullYear(l,0,c),p.setHours(0,0,0,0);var h=Pf(p,t);return s.getTime()>=f.getTime()?l+1:s.getTime()>=h.getTime()?l:l-1}function qyt(e,t){var n,r,i,o,a;tt(1,arguments);var s=Zu(),l=qt(null!==(n=null!==(r=null!==(i=void 0)&&void 0!==i?i:s.firstWeekContainsDate)&&void 0!==r?r:null===(o=s.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1),u=Yyt(e,t),c=new Date(0);return c.setFullYear(u,0,l),c.setHours(0,0,0,0),Pf(c,t)}var Kyt=6048e5;function jT(e,t){tt(1,arguments);var n=at(e),r=Pf(n,t).getTime()-qyt(n,t).getTime();return Math.round(r/Kyt)+1}function IT(e){tt(1,arguments);var t=at(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function kM(e,t){tt(2,arguments);var n=at(e),r=at(t);return n.getTime()>r.getTime()}function $0e(e,t){tt(2,arguments);var n=at(e),r=at(t);return n.getTime()<r.getTime()}function kY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zyt(e,t){if(e){if("string"==typeof e)return kY(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kY(e,t):void 0}}function TY(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zyt(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function h_(e){return(h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(P0e=function(){return!!e})()}function Xyt(e,t){if(t&&("object"==Ul(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function Dn(e){var t=P0e();return function(){var n,r=h_(e);if(t){var i=h_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xyt(this,n)}}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ipe(r.key),r)}}function gn(e,t,n){return t&&Jyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Qyt=10,F0e=function(){function e(){mn(this,e),Je(this,"priority",void 0),Je(this,"subPriority",0)}return gn(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),ebt=function(){In(t,F0e);var e=Dn(t);function t(n,r,i,o,a){var s;return mn(this,t),(s=e.call(this)).value=n,s.validateValue=r,s.setValue=i,s.priority=o,a&&(s.subPriority=a),s}return gn(t,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),t}(),tbt=function(){In(t,F0e);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",Qyt),Je(rt(n),"subPriority",-1),n}return gn(t,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),t}(),Ln=function(){function e(){mn(this,e),Je(this,"incompatibleTokens",void 0),Je(this,"priority",void 0),Je(this,"subPriority",void 0)}return gn(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new ebt(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),nbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",140),Je(rt(n),"incompatibleTokens",["R","u","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),t}(),vi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},mu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function yi(e,t){return e&&{value:t(e.value),rest:e.rest}}function ti(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function gu(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*_T+o*ET+a*Fvt),rest:t.slice(n[0].length)}}function L0e(e){return ti(vi.anyDigitsSigned,e)}function ui(e,t){switch(e){case 1:return ti(vi.singleDigit,t);case 2:return ti(vi.twoDigits,t);case 3:return ti(vi.threeDigits,t);case 4:return ti(vi.fourDigits,t);default:return ti(new RegExp("^\\d{1,"+e+"}"),t)}}function p_(e,t){switch(e){case 1:return ti(vi.singleDigitSigned,t);case 2:return ti(vi.twoDigitsSigned,t);case 3:return ti(vi.threeDigitsSigned,t);case 4:return ti(vi.fourDigitsSigned,t);default:return ti(new RegExp("^-?\\d{1,"+e+"}"),t)}}function u8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function N0e(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function B0e(e){return e%400==0||e%4==0&&e%100!=0}var rbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",130),Je(rt(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return yi(ui(4,e),r);case"yo":return yi(n.ordinalNumber(e,{unit:"year"}),r);default:return yi(ui(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=N0e(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),t}(),ibt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",130),Je(rt(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return yi(ui(4,e),r);case"Yo":return yi(n.ordinalNumber(e,{unit:"year"}),r);default:return yi(ui(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=o8(e,r);if(n.isTwoDigitYear){var o=N0e(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Pp(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Pp(e,r)}}]),t}(),abt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",130),Je(rt(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t){return p_("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),j0(r)}}]),t}(),obt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",130),Je(rt(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t){return p_("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),t}(),sbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",120),Je(rt(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ui(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),t}(),lbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",120),Je(rt(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ui(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),t}(),ubt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Je(rt(n),"priority",110),n}return gn(t,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return yi(ti(vi.month,e),r);case"MM":return yi(ui(2,e),r);case"Mo":return yi(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),t}(),cbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",110),Je(rt(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return yi(ti(vi.month,e),r);case"LL":return yi(ui(2,e),r);case"Lo":return yi(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),t}();function dbt(e,t,n){tt(2,arguments);var r=at(e),i=qt(t),o=I0e(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}var fbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",100),Je(rt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"w":return ti(vi.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return Pp(dbt(e,n,r),r)}}]),t}();function hbt(e,t){tt(2,arguments);var n=at(e),r=qt(t),i=j0e(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}var pbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",100),Je(rt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"I":return ti(vi.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return j0(hbt(e,n))}}]),t}(),mbt=[31,28,31,30,31,30,31,31,30,31,30,31],gbt=[31,29,31,30,31,30,31,31,30,31,30,31],vbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"subPriority",1),Je(rt(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"d":return ti(vi.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){var n=B0e(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=gbt[r]:t>=1&&t<=mbt[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),t}(),ybt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"subpriority",1),Je(rt(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return ti(vi.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return B0e(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),t}();function c8(e,t,n){var r,i,o,a,s,l,u,c;tt(2,arguments);var d=Zu(),f=qt(null!==(r=null!==(i=null!==(o=null!==(a=n?.weekStartsOn)&&void 0!==a?a:null==n||null===(s=n.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=at(e),h=qt(t),m=((h%7+7)%7<f?7:0)+h-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+m),p}var bbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=c8(e,n,r)).setUTCHours(0,0,0,0),e}}]),t}(),xbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return yi(ui(t.length,e),i);case"eo":return yi(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=c8(e,n,r)).setUTCHours(0,0,0,0),e}}]),t}(),wbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return yi(ui(t.length,e),i);case"co":return yi(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=c8(e,n,r)).setUTCHours(0,0,0,0),e}}]),t}();function Cbt(e,t){tt(2,arguments);var n=qt(t);n%7==0&&(n-=7);var r=at(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}var Sbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",90),Je(rt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ui(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return yi(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return yi(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return yi(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return yi(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return(e=Cbt(e,n)).setUTCHours(0,0,0,0),e}}]),t}(),Ebt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",80),Je(rt(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(u8(n),0,0,0),e}}]),t}(),_bt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",80),Je(rt(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(u8(n),0,0,0),e}}]),t}(),kbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",80),Je(rt(n),"incompatibleTokens",["a","b","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(u8(n),0,0,0),e}}]),t}(),Tbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",70),Je(rt(n),"incompatibleTokens",["H","K","k","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"h":return ti(vi.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),t}(),Abt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",70),Je(rt(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"H":return ti(vi.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),t}(),jbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",70),Je(rt(n),"incompatibleTokens",["h","H","k","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"K":return ti(vi.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),t}(),Ibt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",70),Je(rt(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"k":return ti(vi.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),t}(),Dbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",60),Je(rt(n),"incompatibleTokens",["t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"m":return ti(vi.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),t}(),Obt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",50),Je(rt(n),"incompatibleTokens",["t","T"]),n}return gn(t,[{key:"parse",value:function(e,t,n){switch(t){case"s":return ti(vi.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ui(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),t}(),Rbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",30),Je(rt(n),"incompatibleTokens",["t","T"]),n}return gn(t,[{key:"parse",value:function(e,t){return yi(ui(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),t}(),Mbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",10),Je(rt(n),"incompatibleTokens",["t","T","x"]),n}return gn(t,[{key:"parse",value:function(e,t){switch(t){case"X":return gu(mu.basicOptionalMinutes,e);case"XX":return gu(mu.basic,e);case"XXXX":return gu(mu.basicOptionalSeconds,e);case"XXXXX":return gu(mu.extendedOptionalSeconds,e);default:return gu(mu.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),t}(),$bt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",10),Je(rt(n),"incompatibleTokens",["t","T","X"]),n}return gn(t,[{key:"parse",value:function(e,t){switch(t){case"x":return gu(mu.basicOptionalMinutes,e);case"xx":return gu(mu.basic,e);case"xxxx":return gu(mu.basicOptionalSeconds,e);case"xxxxx":return gu(mu.extendedOptionalSeconds,e);default:return gu(mu.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),t}(),Pbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",40),Je(rt(n),"incompatibleTokens","*"),n}return gn(t,[{key:"parse",value:function(e){return L0e(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),t}(),Fbt=function(){In(t,Ln);var e=Dn(t);function t(){var n;mn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Je(rt(n=e.call.apply(e,[this].concat(i))),"priority",20),Je(rt(n),"incompatibleTokens","*"),n}return gn(t,[{key:"parse",value:function(e){return L0e(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),t}(),Lbt={G:new nbt,y:new rbt,Y:new ibt,R:new abt,u:new obt,Q:new sbt,q:new lbt,M:new ubt,L:new cbt,w:new fbt,I:new pbt,d:new vbt,D:new ybt,E:new bbt,e:new xbt,c:new wbt,i:new Sbt,a:new Ebt,b:new _bt,B:new kbt,h:new Tbt,H:new Abt,K:new jbt,k:new Ibt,m:new Dbt,s:new Obt,S:new Rbt,X:new Mbt,x:new $bt,t:new Pbt,T:new Fbt},Nbt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bbt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vbt=/^'([^]*?)'?$/,zbt=/''/g,Ubt=/\S/,Hbt=/[a-zA-Z]/;function d8(e,t,n,r){var i,o,a,s,l,u,c,d,f,p,h;tt(3,arguments);var m=String(e),g=String(t),y=Zu(),v=null!==(i=y.locale)&&void 0!==i?i:s8;if(!v.match)throw new RangeError("locale must contain match property");var b=qt(null!==(o=null!==(a=null!==(s=void 0)&&void 0!==s?s:y.firstWeekContainsDate)&&void 0!==a?a:null===(l=y.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=qt(null!==(c=null!==(d=null!==(f=void 0)&&void 0!==f?f:y.weekStartsOn)&&void 0!==d?d:null===(p=y.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==c?c:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===g)return""===m?at(n):new Date(NaN);var w,C={firstWeekContainsDate:b,weekStartsOn:x,locale:v},k=[new tbt],j=g.match(Bbt).map((function(e){var t=e[0];return t in _M?(0,_M[t])(e,v.formatLong):e})).join("").match(Nbt),S=[],E=TY(j);try{var _=function(){var t=w.value;!(null!=r&&r.useAdditionalWeekYearTokens)&&R0e(t)&&f_(t,g,e),(null==r||!r.useAdditionalDayOfYearTokens)&&O0e(t)&&f_(t,g,e);var n=t[0],i=Lbt[n];if(i){var o=i.incompatibleTokens;if(Array.isArray(o)){var a=S.find((function(e){return o.includes(e.token)||e.token===n}));if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&S.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));S.push({token:n,fullToken:t});var s=i.run(m,t,v.match,C);if(!s)return{v:new Date(NaN)};k.push(s.setter),m=s.rest}else{if(n.match(Hbt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=Wbt(t)),0!==m.indexOf(t))return{v:new Date(NaN)};m=m.slice(t.length)}};for(E.s();!(w=E.n()).done;){var A=_();if("object"===Ul(A))return A.v}}catch(e){E.e(e)}finally{E.f()}if(m.length>0&&Ubt.test(m))return new Date(NaN);var T=k.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return k.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),D=at(n);if(isNaN(D.getTime()))return new Date(NaN);var M,I=T0e(D,A0(D)),O={},N=TY(T);try{for(N.s();!(M=N.n()).done;){var P=M.value;if(!P.validate(I,C))return new Date(NaN);var R=P.set(I,O,C);Array.isArray(R)?(I=R[0],l8(O,R[1])):I=R}}catch(e){N.e(e)}finally{N.f()}return I}function Wbt(e){return e.match(Vbt)[1].replace(zbt,"'")}function Gbt(e,t,n){tt(2,arguments);var r=Pf(e,n),i=Pf(t,n);return r.getTime()===i.getTime()}function Ybt(e,t){return tt(2,arguments),Gbt(e,t,{weekStartsOn:1})}function DT(e,t){tt(2,arguments);var n=at(e),r=at(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qbt(e){return tt(1,arguments),Ybt(e,Date.now())}function Kbt(e){return tt(1,arguments),Wa(e,Date.now())}function Zbt(e,t){return tt(2,arguments),Fr(e,-qt(t))}function V0e(e,t){tt(1,arguments);var n=qt(2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r,i=ext(e);if(i.date){var o=txt(i.date,n);r=nxt(o.restDateString,o.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var a,s=r.getTime(),l=0;if(i.time&&(l=rxt(i.time),isNaN(l)))return new Date(NaN);if(!i.timezone){var u=new Date(s+l),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return a=ixt(i.timezone),isNaN(a)?new Date(NaN):new Date(s+l+a)}var WC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xbt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jbt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Qbt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ext(e){var t,n={},r=e.split(WC.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],WC.timeZoneDelimiter.test(n.date)&&(n.date=e.split(WC.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=WC.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function txt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function nxt(e,t){if(null===t)return new Date(NaN);var n=e.match(Xbt);if(!n)return new Date(NaN);var r=!!n[4],i=$v(n[1]),o=$v(n[2])-1,a=$v(n[3]),s=$v(n[4]),l=$v(n[5])-1;if(r)return uxt(t,s,l)?axt(t,s,l):new Date(NaN);var u=new Date(0);return sxt(t,o,a)&&lxt(t,i)?(u.setUTCFullYear(t,o,Math.max(i,a)),u):new Date(NaN)}function $v(e){return e?parseInt(e):1}function rxt(e){var t=e.match(Jbt);if(!t)return NaN;var n=nD(t[1]),r=nD(t[2]),i=nD(t[3]);return cxt(n,r,i)?n*_T+r*ET+1e3*i:NaN}function nD(e){return e&&parseFloat(e.replace(",","."))||0}function ixt(e){if("Z"===e)return 0;var t=e.match(Qbt);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return dxt(r,i)?n*(r*_T+i*ET):NaN}function axt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var oxt=[31,null,31,30,31,30,31,31,30,31,30,31];function z0e(e){return e%400==0||e%4==0&&e%100!=0}function sxt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(oxt[t]||(z0e(e)?29:28))}function lxt(e,t){return t>=1&&t<=(z0e(e)?366:365)}function uxt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function cxt(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function dxt(e,t){return t>=0&&t<=59}function f8(e,t){tt(2,arguments);var n=at(e),r=qt(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=Gyt(a);return n.setMonth(r,Math.min(o,s)),n}function fxt(e,t){if(tt(2,arguments),"object"!==Ul(t)||null===t)throw new RangeError("values parameter must be an object");var n=at(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=f8(n,t.month)),null!=t.date&&n.setDate(qt(t.date)),null!=t.hours&&n.setHours(qt(t.hours)),null!=t.minutes&&n.setMinutes(qt(t.minutes)),null!=t.seconds&&n.setSeconds(qt(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(qt(t.milliseconds)),n)}function U0e(e,t){tt(2,arguments);var n=at(e),r=qt(t);return n.setDate(r),n}function fp(e,t){tt(2,arguments);var n=at(e),r=qt(t);return n.setHours(r),n}function Wc(e,t){tt(2,arguments);var n=at(e),r=qt(t);return n.setMinutes(r),n}function H0e(e,t){tt(2,arguments);var n=at(e),r=qt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function AY(){return Ff(Date.now())}function hxt(e,t){return tt(2,arguments),fw(e,-qt(t))}function jY(e,t){if(tt(2,arguments),!t||"object"!==Ul(t))return new Date(NaN);var n=t.years?qt(t.years):0,r=t.months?qt(t.months):0,i=t.weeks?qt(t.weeks):0,o=t.days?qt(t.days):0,a=t.hours?qt(t.hours):0,s=t.minutes?qt(t.minutes):0,l=t.seconds?qt(t.seconds):0,u=Zbt(hxt(e,r+12*n),o+7*i),c=1e3*(l+60*(s+60*a));return new Date(u.getTime()-c)}var pxt=Math.ceil,mxt=Math.max;function gxt(e,t,n,r){for(var i=-1,o=mxt(pxt((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var vxt=gxt,yxt=Yae,IY=1/0,bxt=17976931348623157e292;function xxt(e){return e?(e=yxt(e))===IY||e===-IY?(e<0?-1:1)*bxt:e==e?e:0:0===e?e:0}var W0e=xxt,wxt=vxt,Cxt=zk,rD=W0e;function Sxt(e){return function(t,n,r){return r&&"number"!=typeof r&&Cxt(t,n,r)&&(n=r=void 0),t=rD(t),void 0===n?(n=t,t=0):n=rD(n),r=void 0===r?t<n?1:-1:rD(r),wxt(t,n,r,e)}}var Ext=Sxt,_xt=Ext,kxt=_xt(),Txt=kxt;const hw=Be(Txt);function DY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DY(Object(n),!0).forEach((function(t){Axt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Axt(e,t,n){return(t=jxt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jxt(e){var t=Ixt(e,"string");return"symbol"==typeof t?t:t+""}function Ixt(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zb(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every((e=>"string"==typeof e)))}function h8(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every((e=>"string"==typeof e._key)))&&"children"in e&&Array.isArray(e.children)&&e.children.every((e=>"object"==typeof e&&"_type"in e))}function G0e(e){return h8(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function Y0e(e){return"@list"===e._type}function q0e(e){return"@span"===e._type}function K0e(e){return"@text"===e._type}const RY=["strong","em","code","underline","strike-through"];function Dxt(e,t,n){if(!zb(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),i={};return r.forEach((e=>{i[e]=1;for(let r=t+1;r<n.length;r++){const t=n[r];if(!(t&&zb(t)&&Array.isArray(t.marks)&&-1!==t.marks.indexOf(e)))break;i[e]++}})),r.sort(((e,t)=>Oxt(i,e,t)))}function Oxt(e,t,n){const r=e[t],i=e[n];if(r!==i)return i-r;const o=RY.indexOf(t),a=RY.indexOf(n);return o!==a?o-a:t.localeCompare(n)}function Rxt(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const i=n.map(Dxt),o={_type:"@span",children:[],markType:"<unknown>"};let a=[o];for(let e=0;e<n.length;e++){const o=n[e];if(!o)continue;const s=i[e]||[];let l=1;if(a.length>1)for(;l<a.length;l++){const e=(null==(t=a[l])?void 0:t.markKey)||"",n=s.indexOf(e);if(-1===n)break;s.splice(n,1)}a=a.slice(0,l);let u=a[a.length-1];if(u){for(const e of s){const t=r.find((t=>t._key===e)),n=t?t._type:e,i={_type:"@span",_key:o._key,children:[],markDef:t,markType:n,markKey:e};u.children.push(i),a.push(i),u=i}if(zb(o)){const e=o.text.split("\n");for(let t=e.length;t-- >1;)e.splice(t,0,"\n");u.children=u.children.concat(e.map((e=>({_type:"@text",text:e}))))}else u.children=u.children.concat(o)}}return o.children}function Mxt(e,t){const n=[];let r;for(let i=0;i<e.length;i++){const o=e[i];if(o){if(!G0e(o)){n.push(o),r=void 0;continue}if(!r){r=GC(o,i,t),n.push(r);continue}if($xt(o,r)){r.children.push(o);continue}if((o.level||1)>r.level){const e=GC(o,i,t);if("html"===t){const t=r.children[r.children.length-1],n=OY(OY({},t),{},{children:[...t.children,e]});r.children[r.children.length-1]=n}else r.children.push(e);r=e;continue}if((o.level||1)<r.level){const e=n[n.length-1],a=e&&TM(e,o);if(a){r=a,r.children.push(o);continue}r=GC(o,i,t),n.push(r);continue}if(o.listItem!==r.listItem){const e=n[n.length-1],a=e&&TM(e,{level:o.level||1});if(a&&a.listItem===o.listItem){r=a,r.children.push(o);continue}r=GC(o,i,t),n.push(r);continue}console.warn("Unknown state encountered for block",o),n.push(o)}}return n}function $xt(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function GC(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function TM(e,t){const n=t.level||1,r=t.listItem||"normal",i="string"==typeof t.listItem;if(Y0e(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const o=e.children[e.children.length-1];return o&&!zb(o)?TM(o,t):void 0}function Z0e(e){let t="";return e.children.forEach((e=>{K0e(e)?t+=e.text:q0e(e)&&(t+=Z0e(e))})),t}const Pxt=/^\s/,Fxt=/\s$/;function X0e(e){const t=Array.isArray(e)?e:[e];let n="";return t.forEach(((e,r)=>{if(!h8(e))return;let i=!1;e.children.forEach((e=>{zb(e)?(n+=i&&n&&!Fxt.test(n)&&!Pxt.test(e.text)?" ":"",n+=e.text,i=!1):i=!0})),r!==t.length-1&&(n+="\n\n")})),n}const Lxt="html",Nxt=["block","list","listItem","marks","types"],Bxt=["listItem"],Vxt=["_key"];function MY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MY(Object(n),!0).forEach((function(t){zxt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zxt(e,t,n){return(t=Uxt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uxt(e){var t=Hxt(e,"string");return"symbol"==typeof t?t:t+""}function Hxt(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AM(e,t){if(null==e)return{};var n,r,i=Wxt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wxt(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Gxt={number:({children:e})=>u.jsx("ol",{children:e}),bullet:({children:e})=>u.jsx("ul",{children:e})},Yxt=({children:e})=>u.jsx("li",{children:e}),qxt=({children:e,value:t})=>u.jsx("a",{href:t?.href,children:e}),Kxt={textDecoration:"underline"},Zxt={em:({children:e})=>u.jsx("em",{children:e}),strong:({children:e})=>u.jsx("strong",{children:e}),code:({children:e})=>u.jsx("code",{children:e}),underline:({children:e})=>u.jsx("span",{style:Kxt,children:e}),"strike-through":({children:e})=>u.jsx("del",{children:e}),link:qxt},pw=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,J0e=e=>pw(`block type "${e}"`,"types"),Xxt=e=>pw(`mark type "${e}"`,"marks"),Jxt=e=>pw(`block style "${e}"`,"block"),Qxt=e=>pw(`list style "${e}"`,"list"),ewt=e=>pw(`list item style "${e}"`,"listItem");function twt(e){console.warn(e)}const $Y={display:"none"},nwt=({value:e,isInline:t})=>{const n=J0e(e._type);return t?u.jsx("span",{style:$Y,children:n}):u.jsx("div",{style:$Y,children:n})},rwt=({markType:e,children:t})=>u.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),iwt=({children:e})=>u.jsx("p",{children:e}),awt=({children:e})=>u.jsx("ul",{children:e}),owt=({children:e})=>u.jsx("li",{children:e}),swt=()=>u.jsx("br",{}),lwt={normal:({children:e})=>u.jsx("p",{children:e}),blockquote:({children:e})=>u.jsx("blockquote",{children:e}),h1:({children:e})=>u.jsx("h1",{children:e}),h2:({children:e})=>u.jsx("h2",{children:e}),h3:({children:e})=>u.jsx("h3",{children:e}),h4:({children:e})=>u.jsx("h4",{children:e}),h5:({children:e})=>u.jsx("h5",{children:e}),h6:({children:e})=>u.jsx("h6",{children:e})},PY={types:{},block:lwt,marks:Zxt,list:Gxt,listItem:Yxt,hardBreak:swt,unknownType:nwt,unknownMark:rwt,unknownList:awt,unknownListItem:owt,unknownBlockStyle:iwt};function uwt(e,t){const n=AM(t,Nxt);return du(du({},e),{},{block:Pv(e,t,"block"),list:Pv(e,t,"list"),listItem:Pv(e,t,"listItem"),marks:Pv(e,t,"marks"),types:Pv(e,t,"types")},n)}function Pv(e,t,n){const r=t[n],i=e[n];return"function"==typeof r||r&&"function"==typeof i?r:r?du(du({},i),r):i}function Q0e({value:e,components:t,listNestingMode:n,onMissingComponent:r=twt}){const i=r||dwt,o=Mxt(Array.isArray(e)?e:[e],n||Lxt),a=f.useMemo((()=>t?uwt(PY,t):PY),[t]),s=f.useMemo((()=>cwt(a,i)),[a,i]),l=o.map(((e,t)=>s({node:e,index:t,isInline:!1,renderNode:s})));return u.jsx(u.Fragment,{children:l})}const cwt=(e,t)=>{function n(r){const{node:i,index:o,isInline:a}=r,s=i._key||`node-${o}`;return Y0e(i)?function(r,i,o){const a=r.children.map(((e,t)=>n({node:e._key?e:du(du({},e),{},{_key:`li-${i}-${t}`}),index:t,isInline:!1,renderNode:n}))),s=e.list,l=("function"==typeof s?s:s[r.listItem])||e.unknownList;if(l===e.unknownList){const e=r.listItem||"bullet";t(Qxt(e),{nodeType:"listStyle",type:e})}return u.jsx(l,{value:r,index:i,isInline:!1,renderNode:n,children:a},o)}(i,o,s):G0e(i)?function(r,i,o){const a=FY({node:r,index:i,isInline:!1,renderNode:n}),s=e.listItem,l=("function"==typeof s?s:s[r.listItem])||e.unknownListItem;if(l===e.unknownListItem){const e=r.listItem||"bullet";t(ewt(e),{type:e,nodeType:"listItemStyle"})}let c=a.children;if(r.style&&"normal"!==r.style){c=n({node:AM(r,Bxt),index:i,isInline:!1,renderNode:n})}return u.jsx(l,{value:r,index:i,isInline:!1,renderNode:n,children:c},o)}(i,o,s):q0e(i)?function(r,i,o){const{markDef:a,markType:s,markKey:l}=r,c=e.marks[s]||e.unknownMark,d=r.children.map(((e,t)=>n({node:e,index:t,isInline:!0,renderNode:n})));return c===e.unknownMark&&t(Xxt(s),{nodeType:"mark",type:s}),u.jsx(c,{text:Z0e(r),value:a,markType:s,markKey:l,renderNode:n,children:d},o)}(i,0,s):function(t){return t._type in e.types}(i)?function(t,r,i,o){const a={value:t,isInline:o,index:r,renderNode:n},s=e.types[t._type];return s?u.jsx(s,du({},a),i):null}(i,o,s,a):h8(i)?function(r,i,o,a){const s=FY({node:r,index:i,isInline:a,renderNode:n}),l=AM(s,Vxt),c=l.node.style||"normal",d=("function"==typeof e.block?e.block:e.block[c])||e.unknownBlockStyle;return d===e.unknownBlockStyle&&t(Jxt(c),{nodeType:"blockStyle",type:c}),u.jsx(d,du(du({},l),{},{value:l.node,renderNode:n}),o)}(i,o,s,a):K0e(i)?function(t,n){if("\n"===t.text){const t=e.hardBreak;return t?u.jsx(t,{},n):"\n"}return t.text}(i,s):function(r,i,o,a){const s={value:r,isInline:a,index:i,renderNode:n};t(J0e(r._type),{nodeType:"block",type:r._type});const l=e.unknownType;return u.jsx(l,du({},s),o)}(i,o,s,a)}return n};function FY(e){const{node:t,index:n,isInline:r,renderNode:i}=e,o=Rxt(t).map(((e,t)=>i({node:e,isInline:!0,index:t,renderNode:i})));return{_key:t._key||`block-${n}`,children:o,index:n,isInline:r,node:t}}function dwt(){}function LY(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ua(e){var t,n;return!1!==LY(e)&&(void 0===(t=e.constructor)||!(!1===LY(n=t.prototype)||!1===n.hasOwnProperty("isPrototypeOf")))}var e1e=Symbol.for("immer-nothing"),NY=Symbol.for("immer-draftable"),ps=Symbol.for("immer-state");function _l(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var I0=Object.getPrototypeOf;function Fp(e){return!!e&&!!e[ps]}function Lp(e){return!!e&&(t1e(e)||Array.isArray(e)||!!e[NY]||!!e.constructor?.[NY]||RT(e)||MT(e))}var fwt=Object.prototype.constructor.toString();function t1e(e){if(!e||"object"!=typeof e)return!1;const t=I0(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===fwt}function m_(e,t){0===OT(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function OT(e){const t=e[ps];return t?t.type_:Array.isArray(e)?1:RT(e)?2:MT(e)?3:0}function jM(e,t){return 2===OT(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n1e(e,t,n){const r=OT(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function hwt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function RT(e){return e instanceof Map}function MT(e){return e instanceof Set}function Dh(e){return e.copy_||e.base_}function IM(e,t){if(RT(e))return new Map(e);if(MT(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=t1e(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[ps];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(I0(e),t)}{const t=I0(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function p8(e,t=!1){return $T(e)||Fp(e)||!Lp(e)||(OT(e)>1&&(e.set=e.add=e.clear=e.delete=pwt),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>p8(t,!0)))),e}function pwt(){_l(2)}function $T(e){return Object.isFrozen(e)}var Ub,mwt={};function Np(e){const t=mwt[e];return t||_l(0,e),t}function r1e(){return Ub}function gwt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BY(e,t){t&&(Np("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DM(e){OM(e),e.drafts_.forEach(vwt),e.drafts_=null}function OM(e){e===Ub&&(Ub=e.parent_)}function VY(e){return Ub=gwt(Ub,e)}function vwt(e){const t=e[ps];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function zY(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ps].modified_&&(DM(t),_l(4)),Lp(e)&&(e=g_(t,e),t.parent_||v_(t,e)),t.patches_&&Np("Patches").generateReplacementPatches_(n[ps].base_,e,t.patches_,t.inversePatches_)):e=g_(t,n,[]),DM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e1e?e:void 0}function g_(e,t,n){if($T(t))return t;const r=t[ps];if(!r)return m_(t,((i,o)=>UY(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return v_(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),m_(i,((i,a)=>UY(e,r,t,i,a,n,o))),v_(e,t,!1),n&&e.patches_&&Np("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function UY(e,t,n,r,i,o,a){if(Fp(i)){const a=g_(e,i,o&&t&&3!==t.type_&&!jM(t.assigned_,r)?o.concat(r):void 0);if(n1e(n,r,a),!Fp(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Lp(i)&&!$T(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;g_(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof r&&Object.prototype.propertyIsEnumerable.call(n,r)&&v_(e,i)}}function v_(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&p8(t,n)}function ywt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:r1e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=m8;n&&(i=[r],o=Hb);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var m8={get(e,t){if(t===ps)return e;const n=Dh(e);if(!jM(n,t))return bwt(e,n,t);const r=n[t];return e.finalized_||!Lp(r)?r:r===iD(e.base_,t)?(aD(e),e.copy_[t]=MM(r,e)):r},has:(e,t)=>t in Dh(e),ownKeys:e=>Reflect.ownKeys(Dh(e)),set(e,t,n){const r=i1e(Dh(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=iD(Dh(e),t),i=r?.[ps];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hwt(n,r)&&(void 0!==n||jM(e.base_,t)))return!0;aD(e),RM(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==iD(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,aD(e),RM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Dh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){_l(11)},getPrototypeOf:e=>I0(e.base_),setPrototypeOf(){_l(12)}},Hb={};function iD(e,t){const n=e[ps];return(n?Dh(n):e)[t]}function bwt(e,t,n){const r=i1e(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function i1e(e,t){if(!(t in e))return;let n=I0(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=I0(n)}}function RM(e){e.modified_||(e.modified_=!0,e.parent_&&RM(e.parent_))}function aD(e){e.copy_||(e.copy_=IM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}m_(m8,((e,t)=>{Hb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Hb.deleteProperty=function(e,t){return Hb.set.call(this,e,t,void 0)},Hb.set=function(e,t,n){return m8.set.call(this,e[0],t,n,e[0])};var xwt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!=typeof t&&_l(6),void 0!==n&&"function"!=typeof n&&_l(7),Lp(e)){const i=VY(this),o=MM(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?DM(i):OM(i)}return BY(i,n),zY(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===e1e&&(r=void 0),this.autoFreeze_&&p8(r,!0),n){const t=[],i=[];Np("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}_l(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Lp(e)||_l(8),Fp(e)&&(e=wwt(e));const t=VY(this),n=MM(e,void 0);return n[ps].isManual_=!0,OM(t),n}finishDraft(e,t){const n=e&&e[ps];(!n||!n.isManual_)&&_l(9);const{scope_:r}=n;return BY(r,t),zY(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Np("Patches").applyPatches_;return Fp(e)?r(e,t):this.produce(e,(e=>r(e,t)))}};function MM(e,t){const n=RT(e)?Np("MapSet").proxyMap_(e,t):MT(e)?Np("MapSet").proxySet_(e,t):ywt(e,t);return(t?t.scope_:r1e()).drafts_.push(n),n}function wwt(e){return Fp(e)||_l(10,e),a1e(e)}function a1e(e){if(!Lp(e)||$T(e))return e;const t=e[ps];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=IM(e,t.scope_.immer_.useStrictShallowCopy_)}else n=IM(e,!0);return m_(n,((e,t)=>{n1e(n,e,a1e(t))})),t&&(t.finalized_=!1),n}var ms=new xwt,g8=ms.produce;ms.produceWithPatches.bind(ms),ms.setAutoFreeze.bind(ms),ms.setUseStrictShallowCopy.bind(ms),ms.applyPatches.bind(ms);var HY=ms.createDraft.bind(ms),WY=ms.finishDraft.bind(ms),Cwt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=se.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},Swt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=Ft.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},Ewt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=ge.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},y_=new WeakMap,b_=new WeakMap,ab=new WeakMap,o1e=new WeakMap,GY=new WeakMap,YY=new WeakMap,qY=new WeakMap,se={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=se.levels(e,t);return r=n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return se.equals(r,i)&&o>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return se.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return se.equals(r,i)&&o<a},equals:(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===se.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===se.compare(e,t),isBefore:(e,t)=>-1===se.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===se.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===se.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===se.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===se.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&se.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!se.isAncestor(t,e)&&!se.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:o}=t;(se.equals(o,r)||se.endsBefore(o,r)||se.isAncestor(o,r))&&(r[o.length-1]+=1);break;case"remove_node":var{path:a}=t;if(se.equals(a,r)||se.isAncestor(a,r))return null;se.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;se.equals(s,r)||se.endsBefore(s,r)?r[s.length-1]-=1:se.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(se.equals(u,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else se.endsBefore(u,r)?r[u.length-1]+=1:se.isAncestor(u,r)&&e[u.length]>=c&&(r[u.length-1]+=1,r[u.length]-=c);break;case"move_node":var{path:d,newPath:f}=t;if(se.equals(d,f))return r;if(se.isAncestor(d,r)||se.equals(d,r)){var p=f.slice();return se.endsBefore(d,f)&&d.length<f.length&&(p[d.length-1]-=1),p.concat(r.slice(d.length))}se.isSibling(d,f)&&(se.isAncestor(f,r)||se.equals(f,r))?se.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:se.endsBefore(f,r)||se.equals(f,r)||se.isAncestor(f,r)?(se.endsBefore(d,r)&&(r[d.length-1]-=1),r[f.length-1]+=1):se.endsBefore(d,r)&&(se.equals(f,r)&&(r[f.length-1]+=1),r[d.length-1]-=1)}return r}};function Wb(e){return(Wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _wt(e,t){if("object"!==Wb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kwt(e){var t=_wt(e,"string");return"symbol"===Wb(t)?t:String(t)}function yo(e,t,n){return(t=kwt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KY(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Twt=(e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:i}=n,o=Re.parent(e,r),a=r[r.length-1];if(a>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(a,0,i),t)for(var[s,l]of ge.points(t))t[l]=Ft.transform(s,n);break;case"insert_text":var{path:u,offset:c,text:d}=n;if(0===d.length)break;var f=Re.leaf(e,u),p=f.text.slice(0,c),h=f.text.slice(c);if(f.text=p+d+h,t)for(var[m,g]of ge.points(t))t[g]=Ft.transform(m,n);break;case"merge_node":var{path:y}=n,v=Re.get(e,y),b=se.previous(y),x=Re.get(e,b),w=Re.parent(e,y),C=y[y.length-1];if(Fe.isText(v)&&Fe.isText(x))x.text+=v.text;else{if(Fe.isText(v)||Fe.isText(x))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(ua.stringify(v)," ").concat(ua.stringify(x)));x.children.push(...v.children)}if(w.children.splice(C,1),t)for(var[k,j]of ge.points(t))t[j]=Ft.transform(k,n);break;case"move_node":var{path:S,newPath:E}=n;if(se.isAncestor(S,E))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(E,"] because the destination is inside itself."));var _=Re.get(e,S),A=Re.parent(e,S),T=S[S.length-1];A.children.splice(T,1);var D=se.transform(S,n),M=Re.get(e,se.parent(D)),I=D[D.length-1];if(M.children.splice(I,0,_),t)for(var[O,N]of ge.points(t))t[N]=Ft.transform(O,n);break;case"remove_node":var{path:P}=n,R=P[P.length-1];if(Re.parent(e,P).children.splice(R,1),t)for(var[F,L]of ge.points(t)){var $=Ft.transform(F,n);if(null!=t&&null!=$)t[L]=$;else{var B=void 0,V=void 0;for(var[z,U]of Re.texts(e)){if(-1!==se.compare(U,P)){V=[z,U];break}B=[z,U]}var H=!1;B&&V&&(H=se.equals(V[1],P)?!se.hasPrevious(V[1]):se.common(B[1],P).length<se.common(V[1],P).length),B&&!H?(F.path=B[1],F.offset=B[0].text.length):V?(F.path=V[1],F.offset=0):t=null}}break;case"remove_text":var{path:W,offset:q,text:G}=n;if(0===G.length)break;var Y=Re.leaf(e,W),K=Y.text.slice(0,q),Z=Y.text.slice(q+G.length);if(Y.text=K+Z,t)for(var[X,J]of ge.points(t))t[J]=Ft.transform(X,n);break;case"set_node":var{path:Q,properties:ee,newProperties:te}=n;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var ne=Re.get(e,Q);for(var re in te){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ie=te[re];null==ie?delete ne[re]:ne[re]=ie}for(var oe in ee)te.hasOwnProperty(oe)||delete ne[oe];break;case"set_selection":var{newProperties:ae}=n;if(null==ae)t=ae;else{if(null==t){if(!ge.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(ua.stringify(ae)," when there is no current selection."));t=Fv({},ae)}for(var le in ae){var ue=ae[le];if(null==ue){if("anchor"===le||"focus"===le)throw new Error('Cannot remove the "'.concat(le,'" selection property'));delete t[le]}else t[le]=ue}}break;case"split_node":var{path:ce,position:de,properties:fe}=n;if(0===ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ce,"] because the root node cannot be split."));var pe,he=Re.get(e,ce),me=Re.parent(e,ce),ye=ce[ce.length-1];if(Fe.isText(he)){var ve=he.text.slice(0,de),be=he.text.slice(de);he.text=ve,pe=Fv(Fv({},fe),{},{text:be})}else{var xe=he.children.slice(0,de),we=he.children.slice(de);he.children=xe,pe=Fv(Fv({},fe),{},{children:we})}if(me.children.splice(ye+1,0,pe),t)for(var[Ce,ke]of ge.points(t))t[ke]=Ft.transform(Ce,n)}return t},Awt={transform(e,t){e.children=HY(e.children);var n=e.selection&&HY(e.selection);try{n=Twt(e,n,t)}finally{e.children=WY(e.children),e.selection=n?Fp(n)?WY(n):n:null}}},jwt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},Iwt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},s1e=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if(Ua(r)&&Ua(i)){if(!s1e(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==i[o])return!1}else if(r!==i)return!1}for(var a in t)if(void 0===e[a]&&void 0!==t[a])return!1;return!0};function Dwt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function rd(e,t){if(null==e)return{};var n,r,i=Dwt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Owt=["anchor","focus"];function ZY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rwt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZY(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return ge.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=ge.edges(e);return t},equals:(e,t)=>Ft.equals(e.anchor,t.anchor)&&Ft.equals(e.focus,t.focus),includes(e,t){if(ge.isRange(t)){if(ge.includes(e,t.anchor)||ge.includes(e,t.focus))return!0;var[n,r]=ge.edges(e),[i,o]=ge.edges(t);return Ft.isBefore(n,i)&&Ft.isAfter(r,o)}var[a,s]=ge.edges(e),l=!1,u=!1;return Ft.isPoint(t)?(l=Ft.compare(t,a)>=0,u=Ft.compare(t,s)<=0):(l=se.compare(t,a.path)>=0,u=se.compare(t,s.path)<=0),l&&u},intersection(e,t){var n=rd(e,Owt),[r,i]=ge.edges(e),[o,a]=ge.edges(t),s=Ft.isBefore(r,o)?o:r,l=Ft.isBefore(i,a)?i:a;return Ft.isBefore(l,s)?null:Rwt({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return Ft.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Ft.equals(t,n)},isExpanded:e=>!ge.isCollapsed(e),isForward:e=>!ge.isBackward(e),isRange:e=>Ua(e)&&Ft.isPoint(e.anchor)&&Ft.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ge.edges(e);return t},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g8(e,(e=>{if(null===e)return null;var r,i,{affinity:o="inward"}=n;if("inward"===o){var a=ge.isCollapsed(e);ge.isForward(e)?(r="forward",i=a?r:"backward"):(r="backward",i=a?r:"forward")}else"outward"===o?ge.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=o,i=o);var s=Ft.transform(e.anchor,t,{affinity:r}),l=Ft.transform(e.focus,t,{affinity:i});if(!s||!l)return null;e.anchor=s,e.focus=l}))}},XY=e=>Ua(e)&&Re.isNodeList(e.children)&&!V.isEditor(e),Ge={isAncestor:e=>Ua(e)&&Re.isNodeList(e.children),isElement:XY,isElementList:e=>Array.isArray(e)&&e.every((e=>Ge.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return XY(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},Mwt=["children"],$wt=["text"],JY=new WeakMap,Re={ancestor(e,t){var n=Re.get(e,t);if(Fe.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(ua.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var r of se.ancestors(t,n)){var i=[Re.ancestor(e,r),r];yield i}}()},child(e,t){if(Fe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(ua.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(ua.stringify(e)));return n},children(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,i=Re.ancestor(e,t),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var s=Re.child(i,a),l=t.concat(a);yield[s,l],a=r?a-1:a+1}}()},common(e,t,n){var r=se.common(t,n);return[Re.get(e,r),r]},descendant(e,t){var n=Re.get(e,t);if(V.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(ua.stringify(n)));return n},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of Re.nodes(e,t))0!==r.length&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of Re.nodes(e,t))Ge.isElement(n)&&(yield[n,r])}()},extractProps:e=>Ge.isAncestor(e)?rd(e,Mwt):rd(e,$wt),first(e,t){for(var n=t.slice(),r=Re.get(e,n);r&&!Fe.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Fe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(ua.stringify(e)));return g8({children:e.children},(e=>{var[n,r]=ge.edges(t),i=Re.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!ge.includes(t,n)}});for(var[,o]of i){if(!ge.includes(t,o)){var a=Re.parent(e,o),s=o[o.length-1];a.children.splice(s,1)}if(se.equals(o,r.path)){var l=Re.leaf(e,o);l.text=l.text.slice(0,r.offset)}if(se.equals(o,n.path)){var u=Re.leaf(e,o);u.text=u.text.slice(n.offset)}}V.isEditor(e)&&(e.selection=null)})).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Fe.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(ua.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Fe.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:e=>Fe.isText(e)||Ge.isElement(e)||V.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=JY.get(e);if(void 0!==t)return t;var n=e.every((e=>Re.isNode(e)));return JY.set(e,n),n},last(e,t){for(var n=t.slice(),r=Re.get(e,n);r&&!Fe.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=Re.get(e,t);if(!Fe.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(ua.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var r of se.levels(t,n)){var i=Re.get(e,r);yield[i,r]}}()},matches:(e,t)=>Ge.isElement(e)&&Ge.isElementProps(t)&&Ge.matches(e,t)||Fe.isText(e)&&Fe.isTextProps(t)&&Fe.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:i=[],to:o}=t,a=new Set,s=[],l=e;!o||!(r?se.isBefore(s,o):se.isAfter(s,o));)if(a.has(l)||(yield[l,s]),a.has(l)||Fe.isText(l)||0===l.children.length||null!=n&&!1!==n([l,s])){if(0===s.length)break;if(!r){var u=se.next(s);if(Re.has(e,u)){s=u,l=Re.get(e,s);continue}}if(r&&0!==s[s.length-1])s=se.previous(s),l=Re.get(e,s);else s=se.parent(s),l=Re.get(e,s),a.add(l)}else{a.add(l);var c=r?l.children.length-1:0;se.isAncestor(s,i)&&(c=i[s.length]),s=s.concat(c),l=Re.get(e,s)}}()},parent(e,t){var n=se.parent(t),r=Re.get(e,n);if(Fe.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:e=>Fe.isText(e)?e.text:e.children.map(Re.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of Re.nodes(e,t))Fe.isText(n)&&(yield[n,r])}()}};function QY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QY(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mg={isNodeOperation:e=>Mg.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!Ua(e))return!1;switch(e.type){case"insert_node":case"remove_node":return se.isPath(e.path)&&Re.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&se.isPath(e.path);case"merge_node":return"number"==typeof e.position&&se.isPath(e.path)&&Ua(e.properties);case"move_node":return se.isPath(e.path)&&se.isPath(e.newPath);case"set_node":return se.isPath(e.path)&&Ua(e.properties)&&Ua(e.newProperties);case"set_selection":return null===e.properties&&ge.isRange(e.newProperties)||null===e.newProperties&&ge.isRange(e.properties)||Ua(e.properties)&&Ua(e.newProperties);case"split_node":return se.isPath(e.path)&&"number"==typeof e.position&&Ua(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>Mg.isOperation(e))),isSelectionOperation:e=>Mg.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Mg.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Yr(Yr({},e),{},{type:"remove_node"});case"insert_text":return Yr(Yr({},e),{},{type:"remove_text"});case"merge_node":return Yr(Yr({},e),{},{type:"split_node",path:se.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(se.equals(t,n))return e;if(se.isSibling(n,t))return Yr(Yr({},e),{},{path:t,newPath:n});var r=se.transform(n,e),i=se.transform(se.next(n),e);return Yr(Yr({},e),{},{path:r,newPath:i});case"remove_node":return Yr(Yr({},e),{},{type:"insert_node"});case"remove_text":return Yr(Yr({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:a}=e;return Yr(Yr({},e),{},{properties:a,newProperties:o});case"set_selection":var{properties:s,newProperties:l}=e;return Yr(Yr({},e),{},null==s?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:s}:{properties:l,newProperties:s});case"split_node":return Yr(Yr({},e),{},{type:"merge_node",path:se.next(e.path)})}}},eq=new WeakMap,Pwt=e=>{var t=eq.get(e);if(void 0!==t)return t;if(!Ua(e))return!1;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||Ua(e.marks))&&(null===e.selection||ge.isRange(e.selection))&&Re.isNodeList(e.children)&&Mg.isOperationList(e.operations);return eq.set(e,n),n},V={above:(e,t)=>e.above(t),addMark(e,t,n){e.addMark(t,n)},after:(e,t,n)=>e.after(t,n),before:(e,t,n)=>e.before(t,n),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,n)=>e.isEdge(t,n),isEditor:e=>Pwt(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,n)=>e.isEnd(t,n),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,n)=>e.isStart(t,n),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,n)=>e.leaf(t,n),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,n)=>e.node(t,n),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,n)=>e.parent(t,n),path:(e,t,n)=>e.path(t,n),pathRef:(e,t,n)=>e.pathRef(t,n),pathRefs:e=>e.pathRefs(),point:(e,t,n)=>e.point(t,n),pointRef:(e,t,n)=>e.pointRef(t,n),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,n)=>e.range(t,n),rangeRef:(e,t,n)=>e.rangeRef(t,n),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,n)=>e.string(t,n),unhangRange:(e,t,n)=>e.unhangRange(t,n),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)}},Fwt={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(se.isPath)};function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={compare(e,t){var n=se.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:(e,t)=>1===Ft.compare(e,t),isBefore:(e,t)=>-1===Ft.compare(e,t),equals:(e,t)=>e.offset===t.offset&&se.equals(e.path,t.path),isPoint:e=>Ua(e)&&"number"==typeof e.offset&&se.isPath(e.path),transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g8(e,(e=>{if(null===e)return null;var{affinity:r="forward"}=n,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=se.transform(i,t,n);break;case"insert_text":se.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===r)&&(e.offset+=t.text.length);break;case"merge_node":se.equals(t.path,i)&&(e.offset+=t.position),e.path=se.transform(i,t,n);break;case"remove_text":se.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(se.equals(t.path,i)||se.isAncestor(t.path,i))return null;e.path=se.transform(i,t,n);break;case"split_node":if(se.equals(t.path,i)){if(t.position===o&&null==r)return null;(t.position<o||t.position===o&&"forward"===r)&&(e.offset-=t.position,e.path=se.transform(i,t,nq(nq({},n),{},{affinity:"forward"})))}else e.path=se.transform(i,t,n)}}))}},rq=void 0,ua={setScrubber(e){rq=e},stringify:e=>JSON.stringify(e,rq)},Lwt=["text"],Nwt=["anchor","focus"];function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t,Fe={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;function i(e){return rd(e,Lwt)}return s1e(r?i(e):e,r?i(t):t)},isText:e=>Ua(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>Fe.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[fc({},e)];for(var r of t){var i=rd(r,Nwt),[o,a]=ge.edges(r),s=[],l=0,u=o.offset,c=a.offset;for(var d of n){var{length:f}=d.text,p=l;if(l+=f,u<=p&&l<=c)Object.assign(d,i),s.push(d);else if(u!==c&&(u===l||c===p)||u>l||c<p||c===p&&0!==p)s.push(d);else{var h=d,m=void 0,g=void 0;if(c<l){var y=c-p;g=fc(fc({},h),{},{text:h.text.slice(y)}),h=fc(fc({},h),{},{text:h.text.slice(0,y)})}if(u>p){var v=u-p;m=fc(fc({},h),{},{text:h.text.slice(0,v)}),h=fc(fc({},h),{},{text:h.text.slice(v)})}Object.assign(h,i),m&&s.push(m),s.push(h),g&&s.push(g)}}n=s}return n}},v8=e=>e.selection?e.selection:e.children.length>0?V.end(e,[]):[0],V1=(e,t)=>{var[n]=V.node(e,t);return e=>e===n},y8=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?Wwt(e):e,i=$t.None,o=$t.None,a=0,s=null;for(var l of r){var u=l.codePointAt(0);if(!u)break;var c=rCt(l,u);if([i,o]=n?[o,c]:[c,i],$g(i,$t.ZWJ)&&$g(o,$t.ExtPict)&&!aq(n?e.substring(0,a):e.substring(0,e.length-a))||$g(i,$t.RI)&&$g(o,$t.RI)&&!(s=null!==s?!s:!!n||lCt(e.substring(0,e.length-a)))||i!==$t.None&&o!==$t.None&&aCt(i,o))break;a+=l.length}return a||1},Bwt=/\s/,Vwt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,zwt=/['\u2018\u2019]/,Uwt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=y8(e,t),[o,a]=b8(e,i,t);if(Hwt(o,a,t))r=!0,n+=i;else{if(r)break;n+=i}e=a}return n},b8=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},Hwt=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Bwt.test(t))return!1;if(zwt.test(t)){var i=y8(n,r),[o,a]=b8(n,i,r);if(e(o,a,r))return!0}return!Vwt.test(t)},Wwt=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(Ywt(r.charCodeAt(0))){var i=e.charAt(t-n-1);if(Gwt(i.charCodeAt(0))){yield i+r,n++;continue}}yield r}},Gwt=e=>e>=55296&&e<=56319,Ywt=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}($t||($t={}));var qwt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Kwt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Zwt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Xwt=/^[\u1100-\u115F\uA960-\uA97C]$/,Jwt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Qwt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,eCt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,tCt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,nCt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,rCt=(e,t)=>{var n=$t.Any;return-1!==e.search(qwt)&&(n|=$t.Extend),8205===t&&(n|=$t.ZWJ),t>=127462&&t<=127487&&(n|=$t.RI),-1!==e.search(Kwt)&&(n|=$t.Prepend),-1!==e.search(Zwt)&&(n|=$t.SpacingMark),-1!==e.search(Xwt)&&(n|=$t.L),-1!==e.search(Jwt)&&(n|=$t.V),-1!==e.search(Qwt)&&(n|=$t.T),-1!==e.search(eCt)&&(n|=$t.LV),-1!==e.search(tCt)&&(n|=$t.LVT),-1!==e.search(nCt)&&(n|=$t.ExtPict),n};function $g(e,t){return!!(e&t)}var iCt=[[$t.L,$t.L|$t.V|$t.LV|$t.LVT],[$t.LV|$t.V,$t.V|$t.T],[$t.LVT|$t.T,$t.T],[$t.Any,$t.Extend|$t.ZWJ],[$t.Any,$t.SpacingMark],[$t.Prepend,$t.Any],[$t.ZWJ,$t.ExtPict],[$t.RI,$t.RI]];function aCt(e,t){return-1===iCt.findIndex((n=>$g(e,n[0])&&$g(t,n[1])))}var oCt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,aq=e=>-1!==e.search(oCt),sCt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,lCt=e=>{var t=e.match(sCt);return null!==t&&t[0].length/2%2==1},uCt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V.withoutNormalizing(e,(()=>{var{voids:r=!1}=n,{at:i=v8(e)}=n;if(se.isPath(i)&&(i=V.range(e,i)),ge.isRange(i))if(ge.isCollapsed(i))i=i.anchor;else{var o=ge.end(i);if(!r&&V.void(e,{at:o}))return;var a=ge.start(i),s=V.pointRef(e,a),l=V.pointRef(e,o);ce.delete(e,{at:i,voids:r});var u=s.unref(),c=l.unref();i=u||c,ce.setSelection(e,{anchor:i,focus:i})}if(!(!r&&V.void(e,{at:i})||V.elementReadOnly(e,{at:i}))){var{path:d,offset:f}=i;t.length>0&&e.apply({type:"insert_text",path:d,offset:f,text:t})}}))}};function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=YC(YC(YC(YC({},Awt),jwt),Iwt),uCt),cCt=(e,t)=>{for(var n of V.pathRefs(e))Cwt.transform(n,t);for(var r of V.pointRefs(e))Swt.transform(r,t);for(var i of V.rangeRefs(e))Ewt.transform(i,t);var o,a,s=y_.get(e)||[],l=b_.get(e)||new Set,u=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),o.push(e))}};if(se.operationCanTransformPath(t))for(var c of(o=[],a=new Set,s)){u(se.transform(c,t))}else o=s,a=l;var d=e.getDirtyPaths(t);for(var f of d)u(f);y_.set(e,o),b_.set(e,a),ce.transform(e,t),e.operations.push(t),V.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),ab.get(e)||(ab.set(e,!0),Promise.resolve().then((()=>{ab.set(e,!1),e.onChange({operation:t}),e.operations=[]})))},dCt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":var{path:n}=t;return se.levels(n);case"insert_node":var{node:r,path:i}=t;return[...se.levels(i),...Fe.isText(r)?[]:Array.from(Re.nodes(r),(e=>{var[,t]=e;return i.concat(t)}))];case"merge_node":var{path:o}=t;return[...se.ancestors(o),se.previous(o)];case"move_node":var{path:a,newPath:s}=t;if(se.equals(a,s))return[];var l=[],u=[];for(var c of se.ancestors(a)){var d=se.transform(c,t);l.push(d)}for(var f of se.ancestors(s)){var p=se.transform(f,t);u.push(p)}var h=u[u.length-1],m=s[s.length-1],g=h.concat(m);return[...l,...u,g];case"remove_node":var{path:y}=t;return[...se.ancestors(y)];case"split_node":var{path:v}=t;return[...se.levels(v),se.next(v)];default:return[]}},fCt=e=>{var{selection:t}=e;return t?Re.fragment(e,t):[]},hCt=(e,t)=>{var[n,r]=t;if(!Fe.isText(n)){if(Ge.isElement(n)&&0===n.children.length){return void ce.insertNodes(e,{text:""},{at:r.concat(0),voids:!0})}for(var i=!V.isEditor(n)&&(Ge.isElement(n)&&(e.isInline(n)||0===n.children.length||Fe.isText(n.children[0])||e.isInline(n.children[0]))),o=0,a=0;a<n.children.length;a++,o++){var s=Re.get(e,r);if(!Fe.isText(s)){var l=s.children[o],u=s.children[o-1],c=a===n.children.length-1;if((Fe.isText(l)||Ge.isElement(l)&&e.isInline(l))!==i)ce.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(Ge.isElement(l)){if(e.isInline(l))if(null!=u&&Fe.isText(u)){if(c){ce.insertNodes(e,{text:""},{at:r.concat(o+1),voids:!0}),o++}}else{ce.insertNodes(e,{text:""},{at:r.concat(o),voids:!0}),o++}}else null!=u&&Fe.isText(u)&&(Fe.equals(l,u,{loose:!0})?(ce.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):""===u.text?(ce.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):""===l.text&&(ce.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}}},pCt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,i=42*r;if(n>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},mCt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:o}=t;if(i){var a=V.path(e,i),s="lowest"===r;for(var[l,u]of V.levels(e,{at:a,voids:n,match:o,reverse:s}))if(!Fe.isText(l))if(ge.isRange(i)){if(se.isAncestor(u,i.anchor.path)&&se.isAncestor(u,i.focus.path))return[l,u]}else if(!se.equals(a,u))return[l,u]}};function sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gCt=(e,t,n)=>{var{selection:r}=e;if(r){var i=(t,n)=>{if(!Fe.isText(t))return!1;var[r,i]=V.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},o=ge.isExpanded(r),a=!1;if(!o){var[s,l]=V.node(e,r);if(s&&i(s,l)){var[u]=V.parent(e,l);a=u&&e.markableVoid(u)}}if(o||a)ce.setNodes(e,{[t]:n},{match:i,split:!0,voids:!0});else{var c=lq(lq({},V.marks(e)||{}),{},{[t]:n});e.marks=c,ab.get(e)||e.onChange()}}};function uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vCt=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:V.point(e,t,{edge:"end"}),focus:V.end(e,[])},{distance:o=1}=r,a=0;for(var s of V.positions(e,cq(cq({},r),{},{at:i}))){if(a>o)break;0!==a&&(n=s),a++}return n};function dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yCt=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:V.start(e,[]),focus:V.point(e,t,{edge:"start"})},{distance:o=1}=r,a=0;for(var s of V.positions(e,fq(fq({},r),{},{at:i,reverse:!0}))){if(a>o)break;0!==a&&(n=s),a++}return n},bCt=(e,t)=>{var{selection:n}=e;n&&ge.isCollapsed(n)&&ce.delete(e,{unit:t,reverse:!0})},xCt=(e,t)=>{var{selection:n}=e;n&&ge.isCollapsed(n)&&ce.delete(e,{unit:t})},wCt=function(e){var{direction:t="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e;n&&ge.isExpanded(n)&&ce.delete(e,{reverse:"backward"===t})},CCt=(e,t)=>[V.start(e,t),V.end(e,t)];function hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SCt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.above(e,pq(pq({},t),{},{match:t=>Ge.isElement(t)&&V.isElementReadOnly(e,t)}))},ECt=(e,t)=>V.point(e,t,{edge:"end"}),_Ct=(e,t)=>{var n=V.path(e,t,{edge:"start"});return V.node(e,n)},kCt=(e,t)=>{var n=V.range(e,t);return Re.fragment(e,n)};function mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TCt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.above(e,gq(gq({},t),{},{match:t=>Ge.isElement(t)&&V.isVoid(e,t)}))},ACt=(e,t)=>t.children.some((t=>Ge.isElement(t)&&V.isBlock(e,t))),jCt=(e,t)=>t.children.some((t=>Fe.isText(t)||V.isInline(e,t))),ICt=(e,t)=>Re.has(e,t),DCt=(e,t)=>t.children.every((e=>Fe.isText(e))),OCt=e=>{ce.splitNodes(e,{always:!0})},RCt=(e,t,n)=>{ce.insertNodes(e,t,n)},MCt=e=>{ce.splitNodes(e,{always:!0})};function vq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PCt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r,marks:i}=e;if(r){if(i){var o=$Ct({text:t},i);ce.insertNodes(e,o,{at:n.at,voids:n.voids})}else ce.insertText(e,t,n);e.marks=null}},FCt=(e,t)=>!e.isInline(t),LCt=(e,t,n)=>V.isStart(e,t,n)||V.isEnd(e,t,n),NCt=(e,t)=>{var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&Fe.isText(r)&&""===r.text&&!e.isVoid(t)},BCt=(e,t,n)=>{var r=V.end(e,n);return Ft.equals(t,r)},VCt=e=>{var t=o1e.get(e);return void 0===t||t},zCt=(e,t,n)=>{if(0!==t.offset)return!1;var r=V.start(e,n);return Ft.equals(t,r)},UCt=(e,t)=>{var n=V.path(e,t,{edge:"end"});return V.node(e,n)},HCt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=V.path(e,t,n);return[Re.leaf(e,r),r]};function WCt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),n){var a=[],s=V.path(e,n);for(var[l,u]of Re.levels(e,s))if(o(l,u)&&(a.push([l,u]),!i&&Ge.isElement(l)&&V.isVoid(e,l)))break;r&&a.reverse(),yield*a}}()}var GCt=["text"],YCt=["text"],qCt=function(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(ge.isExpanded(n)){var[r]=V.nodes(e,{match:Fe.isText});if(r){var[i]=r;return rd(i,GCt)}return{}}var{anchor:o}=n,{path:a}=o,[s]=V.leaf(e,a);if(0===o.offset){var l=V.previous(e,{at:a,match:Fe.isText});if(!V.above(e,{match:t=>Ge.isElement(t)&&V.isVoid(e,t)&&e.markableVoid(t)})){var u=V.above(e,{match:t=>Ge.isElement(t)&&V.isBlock(e,t)});if(l&&u){var[c,d]=l,[,f]=u;se.isAncestor(f,d)&&(s=c)}}}return rd(s,YCt)},KCt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=V.after(e,o,{voids:r});if(a){var[,s]=V.last(e,[]),l=[a.path,s];if(se.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(se.isPath(o)){var[u]=V.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=V.nodes(e,{at:l,match:i,mode:n,voids:r});return c}}},ZCt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=V.path(e,t,n);return[Re.get(e,r),r]};function XCt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:i=!1,reverse:o=!1,voids:a=!1,ignoreNonSelectable:s=!1}=t,{match:l}=t;if(l||(l=()=>!0),n){var u,c;if(Fwt.isSpan(n))u=n[0],c=n[1];else{var d=V.path(e,n,{edge:"start"}),f=V.path(e,n,{edge:"end"});u=o?f:d,c=o?d:f}var p,h=Re.nodes(e,{reverse:o,from:u,to:c,pass:t=>{var[n]=t;return!!Ge.isElement(n)&&!!(!a&&(V.isVoid(e,n)||V.isElementReadOnly(e,n))||s&&!V.isSelectable(e,n))}}),m=[];for(var[g,y]of h)if(!s||!Ge.isElement(g)||V.isSelectable(e,g)){var v=p&&0===se.compare(y,p[1]);if("highest"!==r||!v){if(!l(g,y)){if(i&&!v&&Fe.isText(g))return;continue}if("lowest"===r&&v){p=[g,y];continue}var b="lowest"===r?p:[g,y];b&&(i?m.push(b):yield b),p=[g,y]}}"lowest"===r&&p&&(i?m.push(p):yield p),i&&(yield*m)}}()}var JCt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1,operation:r}=t,i=e=>y_.get(e)||[],o=e=>{var t=i(e).pop(),n=t.join(",");return(e=>b_.get(e)||new Set)(e).delete(n),t};if(V.isNormalizing(e)){if(n){var a=Array.from(Re.nodes(e),(e=>{var[,t]=e;return t})),s=new Set(a.map((e=>e.join(","))));y_.set(e,a),b_.set(e,s)}0!==i(e).length&&V.withoutNormalizing(e,(()=>{for(var t of i(e))if(Re.has(e,t)){var n=V.node(e,t),[a,s]=n;Ge.isElement(a)&&0===a.children.length&&e.normalizeNode(n,{operation:r})}for(var l=i(e),u=l.length,c=0;0!==l.length;){if(!e.shouldNormalize({dirtyPaths:l,iteration:c,initialDirtyPathsLength:u,operation:r}))return;var d=o(e);if(Re.has(e,d)){var f=V.node(e,d);e.normalizeNode(f,{operation:r})}c++,l=i(e)}}))}},QCt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=V.path(e,t,n),i=se.parent(r);return V.node(e,i)},e2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return V.pathRefs(e).delete(i),i.current=null,t}};return V.pathRefs(e).add(i),i},t2t=e=>{var t=GY.get(e);return t||(t=new Set,GY.set(e,t)),t},n2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(se.isPath(t))if("start"===i){var[,o]=Re.first(e,t);t=o}else if("end"===i){var[,a]=Re.last(e,t);t=a}return ge.isRange(t)&&(t="start"===i?ge.start(t):"end"===i?ge.end(t):se.common(t.anchor.path,t.focus.path)),Ft.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},r2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return V.pointRefs(e).delete(i),i.current=null,t}};return V.pointRefs(e).add(i),i},i2t=e=>{var t=YY.get(e);return t||(t=new Set,YY.set(e,t)),t},a2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(se.isPath(t)){var i;if("end"===r){var[,o]=Re.last(e,t);i=o}else{var[,a]=Re.first(e,t);i=a}var s=Re.get(e,i);if(!Fe.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(ge.isRange(t)){var[l,u]=ge.edges(t);return"start"===r?l:u}return t};function o2t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:o=!1,ignoreNonSelectable:a=!1}=t;if(n){var s,l,u,c=V.range(e,n),[d,f]=ge.edges(c),p=i?f:d,h=!1,m="",g=0,y=0,v=0;for(var[b,x]of V.nodes(e,{at:n,reverse:i,voids:o,ignoreNonSelectable:a})){if(Ge.isElement(b)){if(!o&&(e.isVoid(b)||e.isElementReadOnly(b))){yield V.start(e,x);continue}if(e.isInline(b))continue;if(V.hasInlines(e,b)){var w=se.isAncestor(x,f.path)?f:V.end(e,x),C=se.isAncestor(x,d.path)?d:V.start(e,x);m=V.string(e,{anchor:C,focus:w},{voids:o}),h=!0}}if(Fe.isText(b)){var k=se.equals(x,p.path);for(k?(y=i?p.offset:b.text.length-p.offset,v=p.offset):(y=b.text.length,v=i?y:0),(k||h||"offset"===r)&&(yield{path:x,offset:v},h=!1);;){if(0===g){if(""===m)break;s=m,u=i,g="character"===(l=r)?y8(s,u):"word"===l?Uwt(s,u):"line"===l||"block"===l?s.length:1,m=b8(m,g,i)[1]}if(v=i?v-g:v+g,(y-=g)<0){g=-y;break}g=0,yield{path:x,offset:v}}}}}}()}var s2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=V.before(e,o,{voids:r});if(a){var[,s]=V.first(e,[]),l=[a.path,s];if(se.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(se.isPath(o)){var[u]=V.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=V.nodes(e,{reverse:!0,at:l,match:i,mode:n,voids:r});return c}}},l2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return V.rangeRefs(e).delete(i),i.current=null,t}};return V.rangeRefs(e).add(i),i},u2t=e=>{var t=qY.get(e);return t||(t=new Set,qY.set(e,t)),t},c2t=(e,t,n)=>ge.isRange(t)&&!n?t:{anchor:V.start(e,t),focus:V.end(e,n||t)};function yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d2t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f2t=(e,t)=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!Fe.isText(t))return!1;var[r,i]=V.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},i=ge.isExpanded(n),o=!1;if(!i){var[a,s]=V.node(e,n);if(a&&r(a,s)){var[l]=V.parent(e,s);o=l&&e.markableVoid(l)}}if(i||o)ce.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=d2t({},V.marks(e)||{});delete u[t],e.marks=u,ab.get(e)||e.onChange()}}},h2t=(e,t)=>{o1e.set(e,t)},p2t=(e,t)=>V.point(e,t,{edge:"start"}),m2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=V.range(e,t),[o,a]=ge.edges(i),s="";for(var[l,u]of V.nodes(e,{at:i,match:Fe.isText,voids:r})){var c=l.text;se.equals(u,a.path)&&(c=c.slice(0,a.offset)),se.equals(u,o.path)&&(c=c.slice(o.offset)),s+=c}return s},g2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,o]=ge.edges(t);if(0!==i.offset||0!==o.offset||ge.isCollapsed(t)||se.hasPrevious(o.path))return t;var a=V.above(e,{at:o,match:t=>Ge.isElement(t)&&V.isBlock(e,t),voids:r}),s=a?a[1]:[],l={anchor:V.start(e,i),focus:o},u=!0;for(var[c,d]of V.nodes(e,{at:l,match:Fe.isText,reverse:!0,voids:r}))if(u)u=!1;else if(""!==c.text||se.isBefore(d,s)){o={path:d,offset:c.text.length};break}return{anchor:i,focus:o}},v2t=(e,t)=>{var n=V.isNormalizing(e);V.setNormalizing(e,!1);try{t()}finally{V.setNormalizing(e,n)}V.normalize(e)},y2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var n,r,{reverse:i=!1,unit:o="character",distance:a=1,voids:s=!1}=t,{at:l=e.selection,hanging:u=!1}=t;if(l){var c=!1;if(ge.isRange(l)&&ge.isCollapsed(l)&&(c=!0,l=l.anchor),Ft.isPoint(l)){var d=V.void(e,{at:l,mode:"highest"});if(!s&&d){var[,f]=d;l=f}else{var p={unit:o,distance:a};l={anchor:l,focus:i?V.before(e,l,p)||V.start(e,[]):V.after(e,l,p)||V.end(e,[])},u=!0}}if(se.isPath(l))return void ce.removeNodes(e,{at:l,voids:s});if(!ge.isCollapsed(l)){if(!u){var[,h]=ge.edges(l),m=V.end(e,[]);Ft.equals(h,m)||(l=V.unhangRange(e,l,{voids:s}))}var[g,y]=ge.edges(l),v=V.above(e,{match:t=>Ge.isElement(t)&&V.isBlock(e,t),at:g,voids:s}),b=V.above(e,{match:t=>Ge.isElement(t)&&V.isBlock(e,t),at:y,voids:s}),x=v&&b&&!se.equals(v[1],b[1]),w=se.equals(g.path,y.path),C=s?null:null!==(n=V.void(e,{at:g,mode:"highest"}))&&void 0!==n?n:V.elementReadOnly(e,{at:g,mode:"highest"}),k=s?null:null!==(r=V.void(e,{at:y,mode:"highest"}))&&void 0!==r?r:V.elementReadOnly(e,{at:y,mode:"highest"});if(C){var j=V.before(e,g);j&&v&&se.isAncestor(v[1],j.path)&&(g=j)}if(k){var S=V.after(e,y);S&&b&&se.isAncestor(b[1],S.path)&&(y=S)}var E,_=[];for(var A of V.nodes(e,{at:l,voids:s})){var[T,D]=A;E&&0===se.compare(D,E)||(!s&&Ge.isElement(T)&&(V.isVoid(e,T)||V.isElementReadOnly(e,T))||!se.isCommon(D,g.path)&&!se.isCommon(D,y.path))&&(_.push(A),E=D)}var M=Array.from(_,(t=>{var[,n]=t;return V.pathRef(e,n)})),I=V.pointRef(e,g),O=V.pointRef(e,y),N="";if(!w&&!C){var P=I.current,[R]=V.leaf(e,P),{path:F}=P,{offset:L}=g,$=R.text.slice(L);$.length>0&&(e.apply({type:"remove_text",path:F,offset:L,text:$}),N=$)}if(M.reverse().map((e=>e.unref())).filter((e=>null!==e)).forEach((t=>ce.removeNodes(e,{at:t,voids:s}))),!k){var B=O.current,[z]=V.leaf(e,B),{path:U}=B,H=w?g.offset:0,W=z.text.slice(H,y.offset);W.length>0&&(e.apply({type:"remove_text",path:U,offset:H,text:W}),N=W)}!w&&x&&O.current&&I.current&&ce.mergeNodes(e,{at:O.current,hanging:!0,voids:s}),c&&i&&"character"===o&&N.length>1&&N.match(/[\u0E00-\u0E7F]+/)&&ce.insertText(e,N.slice(0,N.length-a));var q=I.unref(),G=O.unref(),Y=i?q||G:G||q;null==t.at&&Y&&ce.select(e,Y)}}}))},b2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:i=!1}=n,{at:o=v8(e)}=n;if(t.length){if(ge.isRange(o))if(r||(o=V.unhangRange(e,o,{voids:i})),ge.isCollapsed(o))o=o.anchor;else{var[,a]=ge.edges(o);if(!i&&V.void(e,{at:a}))return;var s=V.pointRef(e,a);ce.delete(e,{at:o}),o=s.unref()}else se.isPath(o)&&(o=V.start(e,o));if(i||!V.void(e,{at:o})){var l=V.above(e,{at:o,match:t=>Ge.isElement(t)&&V.isInline(e,t),mode:"highest",voids:i});if(l){var[,u]=l;if(V.isEnd(e,o,u))o=V.after(e,u);else if(V.isStart(e,o,u)){o=V.before(e,u)}}var c=V.above(e,{match:t=>Ge.isElement(t)&&V.isBlock(e,t),at:o,voids:i}),[,d]=c,f=V.isStart(e,o,d),p=V.isEnd(e,o,d),h=f&&p,m=!f||f&&p,g=!p,[,y]=Re.first({children:t},[]),[,v]=Re.last({children:t},[]),b=[],x=t=>{var[n,r]=t;return!(0===r.length)&&(!!h||!(m&&se.isAncestor(r,y)&&Ge.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)||g&&se.isAncestor(r,v)&&Ge.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))};for(var w of Re.nodes({children:t},{pass:x}))x(w)&&b.push(w);var C=[],k=[],j=[],S=!0,E=!1;for(var[_]of b)Ge.isElement(_)&&!e.isInline(_)?(S=!1,E=!0,k.push(_)):S?C.push(_):j.push(_);var[A]=V.nodes(e,{at:o,match:t=>Fe.isText(t)||V.isInline(e,t),mode:"highest",voids:i}),[,T]=A,D=V.isStart(e,o,T),M=V.isEnd(e,o,T),I=V.pathRef(e,p&&!j.length?se.next(d):d),O=V.pathRef(e,M?se.next(T):T);ce.splitNodes(e,{at:o,match:t=>E?Ge.isElement(t)&&V.isBlock(e,t):Fe.isText(t)||V.isInline(e,t),mode:E?"lowest":"highest",always:E&&(!f||C.length>0)&&(!p||j.length>0),voids:i});var N,P=V.pathRef(e,!D||D&&M?se.next(T):T);if(ce.insertNodes(e,C,{at:P.current,match:t=>Fe.isText(t)||V.isInline(e,t),mode:"highest",voids:i}),h&&!C.length&&k.length&&!j.length&&ce.delete(e,{at:d,voids:i}),ce.insertNodes(e,k,{at:I.current,match:t=>Ge.isElement(t)&&V.isBlock(e,t),mode:"lowest",voids:i}),ce.insertNodes(e,j,{at:O.current,match:t=>Fe.isText(t)||V.isInline(e,t),mode:"highest",voids:i}),!n.at)if(j.length>0&&O.current?N=se.previous(O.current):k.length>0&&I.current?N=se.previous(I.current):P.current&&(N=se.previous(P.current)),N){var R=V.end(e,N);ce.select(e,R)}P.unref(),I.unref(),O.unref()}}}))},x2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r)if("anchor"===n)ce.select(e,r.anchor);else if("focus"===n)ce.select(e,r.focus);else if("start"===n){var[i]=ge.edges(r);ce.select(e,i)}else if("end"===n){var[,o]=ge.edges(r);ce.select(e,o)}},w2t=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},C2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:o=!1}=t,{edge:a=null}=t;if(n){"start"===a&&(a=ge.isBackward(n)?"focus":"anchor"),"end"===a&&(a=ge.isBackward(n)?"anchor":"focus");var{anchor:s,focus:l}=n,u={distance:r,unit:i,ignoreNonSelectable:!0},c={};if(null==a||"anchor"===a){var d=o?V.before(e,s,u):V.after(e,s,u);d&&(c.anchor=d)}if(null==a||"focus"===a){var f=o?V.before(e,l,u):V.after(e,l,u);f&&(c.focus=f)}ce.setSelection(e,c)}},S2t=(e,t)=>{var{selection:n}=e;if(t=V.range(e,t),n)ce.setSelection(e,t);else{if(!ge.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(ua.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}};function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=ge.isBackward(r)?"focus":"anchor"),"end"===i&&(i=ge.isBackward(r)?"anchor":"focus");var{anchor:o,focus:a}=r,s="anchor"===i?o:a;ce.setSelection(e,{["anchor"===i?"anchor":"focus"]:xq(xq({},s),t)})}},_2t=(e,t)=>{var{selection:n}=e,r={},i={};if(n){for(var o in t)("anchor"===o&&null!=t.anchor&&!Ft.equals(t.anchor,n.anchor)||"focus"===o&&null!=t.focus&&!Ft.equals(t.focus,n.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==n[o])&&(r[o]=n[o],i[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},k2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a,match:s,select:l}=n;if(Re.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(a||(a=v8(e),l=!0),null==l&&(l=!1),ge.isRange(a))if(r||(a=V.unhangRange(e,a,{voids:i})),ge.isCollapsed(a))a=a.anchor;else{var[,c]=ge.edges(a),d=V.pointRef(e,c);ce.delete(e,{at:a}),a=d.unref()}if(Ft.isPoint(a)){null==s&&(s=Fe.isText(u)?e=>Fe.isText(e):e.isInline(u)?t=>Fe.isText(t)||V.isInline(e,t):t=>Ge.isElement(t)&&V.isBlock(e,t));var[f]=V.nodes(e,{at:a.path,match:s,mode:o,voids:i});if(!f)return;var[,p]=f,h=V.pathRef(e,p),m=V.isEnd(e,a,p);ce.splitNodes(e,{at:a,match:s,mode:o,voids:i});var g=h.unref();a=m?se.next(g):g}var y=se.parent(a),v=a[a.length-1];if(i||!V.void(e,{at:y})){for(var b of t){var x=y.concat(v);v++,e.apply({type:"insert_node",path:x,node:b}),a=se.next(a)}if(a=se.previous(a),l){var w=V.end(e,a);w&&ce.select(e,w)}}}}))},T2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=se.isPath(n)?V1(e,n):t=>Ge.isElement(t)&&V.isBlock(e,t)),n){var a=V.nodes(e,{at:n,match:o,mode:r,voids:i}),s=Array.from(a,(t=>{var[,n]=t;return V.pathRef(e,n)}));for(var l of s){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var c=V.node(e,se.parent(u)),[d,f]=c,p=u[u.length-1],{length:h}=d.children;if(1===h){var m=se.next(f);ce.moveNodes(e,{at:u,to:m,voids:i}),ce.removeNodes(e,{at:f,voids:i})}else if(0===p)ce.moveNodes(e,{at:u,to:f,voids:i});else if(p===h-1){var g=se.next(f);ce.moveNodes(e,{at:u,to:g,voids:i})}else{var y=se.next(u),v=se.next(f);ce.splitNodes(e,{at:y,voids:i}),ce.moveNodes(e,{at:u,to:v,voids:i})}}}}))},A2t=["text"],j2t=["children"],l1e=(e,t)=>{if(Ge.isElement(t)){var n=t;return!!V.isVoid(e,t)||1===n.children.length&&l1e(e,n.children[0])}return!V.isEditor(t)},I2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var{match:n,at:r=e.selection}=t,{hanging:i=!1,voids:o=!1,mode:a="lowest"}=t;if(r){if(null==n)if(se.isPath(r)){var[s]=V.parent(e,r);n=e=>s.children.includes(e)}else n=t=>Ge.isElement(t)&&V.isBlock(e,t);if(!i&&ge.isRange(r)&&(r=V.unhangRange(e,r,{voids:o})),ge.isRange(r))if(ge.isCollapsed(r))r=r.anchor;else{var[,l]=ge.edges(r),u=V.pointRef(e,l);ce.delete(e,{at:r}),r=u.unref(),null==t.at&&ce.select(e,r)}var[c]=V.nodes(e,{at:r,match:n,voids:o,mode:a}),d=V.previous(e,{at:r,match:n,voids:o,mode:a});if(c&&d){var[f,p]=c,[h,m]=d;if(0!==p.length&&0!==m.length){var g,y,v=se.next(m),b=se.common(p,m),x=se.isSibling(p,m),w=Array.from(V.levels(e,{at:p}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),C=V.above(e,{at:p,mode:"highest",match:t=>w.includes(t)&&l1e(e,t)}),k=C&&V.pathRef(e,C[1]);if(Fe.isText(f)&&Fe.isText(h)){var j=rd(f,A2t);y=h.text.length,g=j}else{if(!Ge.isElement(f)||!Ge.isElement(h))throw new Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(ua.stringify(f)," ").concat(ua.stringify(h)));j=rd(f,j2t);y=h.children.length,g=j}x||ce.moveNodes(e,{at:p,to:v,voids:o}),k&&ce.removeNodes(e,{at:k.current,voids:o}),Ge.isElement(h)&&V.isEmpty(e,h)||Fe.isText(h)&&""===h.text&&0!==m[m.length-1]?ce.removeNodes(e,{at:m,voids:o}):e.apply({type:"merge_node",path:v,position:y,properties:g}),k&&k.unref()}}}}))},D2t=(e,t)=>{V.withoutNormalizing(e,(()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:o=!1}=t,{match:a}=t;if(r){null==a&&(a=se.isPath(r)?V1(e,r):t=>Ge.isElement(t)&&V.isBlock(e,t));var s=V.pathRef(e,n),l=V.nodes(e,{at:r,match:a,mode:i,voids:o}),u=Array.from(l,(t=>{var[,n]=t;return V.pathRef(e,n)}));for(var c of u){var d=c.unref(),f=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:f}),s.current&&se.isSibling(f,d)&&se.isAfter(f,d)&&(s.current=se.next(s.current))}s.unref()}}))},O2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=se.isPath(o)?V1(e,o):t=>Ge.isElement(t)&&V.isBlock(e,t)),!n&&ge.isRange(o)&&(o=V.unhangRange(e,o,{voids:r}));var s=V.nodes(e,{at:o,match:a,mode:i,voids:r}),l=Array.from(s,(t=>{var[,n]=t;return V.pathRef(e,n)}));for(var u of l){var c=u.unref();if(c){var[d]=V.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}}))},R2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V.withoutNormalizing(e,(()=>{var{match:r,at:i=e.selection,compare:o,merge:a}=n,{hanging:s=!1,mode:l="lowest",split:u=!1,voids:c=!1}=n;if(i){if(null==r&&(r=se.isPath(i)?V1(e,i):t=>Ge.isElement(t)&&V.isBlock(e,t)),!s&&ge.isRange(i)&&(i=V.unhangRange(e,i,{voids:c})),u&&ge.isRange(i)){if(ge.isCollapsed(i)&&V.leaf(e,i.anchor)[0].text.length>0)return;var d=V.rangeRef(e,i,{affinity:"inward"}),[f,p]=ge.edges(i),h="lowest"===l?"lowest":"highest",m=V.isEnd(e,p,p.path);ce.splitNodes(e,{at:p,match:r,mode:h,voids:c,always:!m});var g=V.isStart(e,f,f.path);ce.splitNodes(e,{at:f,match:r,mode:h,voids:c,always:!g}),i=d.unref(),null==n.at&&ce.select(e,i)}for(var[y,v]of(o||(o=(e,t)=>e!==t),V.nodes(e,{at:i,match:r,mode:l,voids:c}))){var b={},x={};if(0!==v.length){var w=!1;for(var C in t)"children"===C||"text"===C||o(t[C],y[C])&&(w=!0,y.hasOwnProperty(C)&&(b[C]=y[C]),a?null!=t[C]&&(x[C]=a(y[C],t[C])):null!=t[C]&&(x[C]=t[C]));w&&e.apply({type:"set_node",path:v,properties:b,newProperties:x})}}}}))},M2t=(e,t)=>{if(ge.isCollapsed(t))return t.anchor;var[,n]=ge.edges(t),r=V.pointRef(e,n);return ce.delete(e,{at:t}),r.unref()},$2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection,height:a=0,always:s=!1}=t;if(null==i&&(i=t=>Ge.isElement(t)&&V.isBlock(e,t)),ge.isRange(o)&&(o=M2t(e,o)),se.isPath(o)){var l=o,u=V.point(e,l),[c]=V.parent(e,l);i=e=>e===c,a=u.path.length-l.length+1,o=u,s=!0}if(o){var d,f=V.pointRef(e,o,{affinity:"backward"});try{var[p]=V.nodes(e,{at:o,match:i,mode:n,voids:r});if(!p)return;var h=V.void(e,{at:o,mode:"highest"});if(!r&&h){var[m,g]=h;if(Ge.isElement(m)&&e.isInline(m)){var y=V.after(e,g);if(!y){var v=se.next(g);ce.insertNodes(e,{text:""},{at:v,voids:r}),y=V.point(e,v)}o=y,s=!0}a=o.path.length-g.length+1,s=!0}d=V.pointRef(e,o);var b=o.path.length-a,[,x]=p,w=o.path.slice(0,b),C=0===a?o.offset:o.path[b]+0;for(var[k,j]of V.levels(e,{at:w,reverse:!0,voids:r})){var S=!1;if(j.length<x.length||0===j.length||!r&&Ge.isElement(k)&&V.isVoid(e,k))break;var E=f.current,_=V.isEnd(e,E,j);if(s||!f||!V.isEdge(e,E,j)){S=!0;var A=Re.extractProps(k);e.apply({type:"split_node",path:j,position:C,properties:A})}C=j[j.length-1]+(S||_?1:0)}if(null==t.at){var T=d.current||V.end(e,[]);ce.select(e,T)}}finally{var D;f.unref(),null===(D=d)||void 0===D||D.unref()}}}))},P2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;ce.setNodes(e,r,n)},F2t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=se.isPath(o)?V1(e,o):t=>Ge.isElement(t)&&V.isBlock(e,t)),se.isPath(o)&&(o=V.range(e,o));var s=ge.isRange(o)?V.rangeRef(e,o):null,l=V.nodes(e,{at:o,match:a,mode:n,voids:i}),u=Array.from(l,(t=>{var[,n]=t;return V.pathRef(e,n)})).reverse(),c=function(){var t=d.unref(),[n]=V.node(e,t),o=V.range(e,t);r&&s&&(o=ge.intersection(s.current,o)),ce.liftNodes(e,{at:o,match:e=>Ge.isAncestor(n)&&n.children.includes(e),voids:i})};for(var d of u)c();s&&s.unref()}}))};function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L2t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{match:a,at:s=e.selection}=n;if(s){if(null==a&&(a=se.isPath(s)?V1(e,s):e.isInline(t)?t=>Ge.isElement(t)&&V.isInline(e,t)||Fe.isText(t):t=>Ge.isElement(t)&&V.isBlock(e,t)),i&&ge.isRange(s)){var[l,u]=ge.edges(s),c=V.rangeRef(e,s,{affinity:"inward"});ce.splitNodes(e,{at:u,match:a,voids:o}),ce.splitNodes(e,{at:l,match:a,voids:o}),s=c.unref(),null==n.at&&ce.select(e,s)}var d=Array.from(V.nodes(e,{at:s,match:e.isInline(t)?t=>Ge.isElement(t)&&V.isBlock(e,t):e=>V.isEditor(e),mode:"lowest",voids:o})),f=function(){var n=ge.isRange(s)?ge.intersection(s,V.range(e,p)):s;if(!n)return 0;var i=Array.from(V.nodes(e,{at:n,match:a,mode:r,voids:o}));if(i.length>0){var[l]=i,u=i[i.length-1],[,c]=l,[,d]=u;if(0===c.length&&0===d.length)return 0;var f=se.equals(c,d)?se.parent(c):se.common(c,d),h=V.range(e,c,d),m=V.node(e,f),[g]=m,y=f.length+1,v=se.next(d.slice(0,y)),b=Cq(Cq({},t),{},{children:[]});ce.insertNodes(e,b,{at:v,voids:o}),ce.moveNodes(e,{at:h,match:e=>Ge.isAncestor(g)&&g.children.includes(e),to:v.concat(0),voids:o})}};for(var[,p]of d)f()}}))},N2t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cCt(e,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gCt(e,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bCt(e,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xCt(e,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wCt(e,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fCt(e,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return OCt(e,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return MCt(e,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b2t(e,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RCt(e,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PCt(e,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hCt(e,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f2t(e,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dCt(e,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pCt(e,...n)},above:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mCt(e,...n)},after:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vCt(e,...n)},before:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yCt(e,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x2t(e,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y2t(e,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w2t(e,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return CCt(e,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SCt(e,...n)},end:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ECt(e,...n)},first:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _Ct(e,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kCt(e,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qCt(e,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ACt(e,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jCt(e,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ICt(e,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return DCt(e,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k2t(e,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FCt(e,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LCt(e,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return NCt(e,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BCt(e,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VCt(e,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zCt(e,...n)},last:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return UCt(e,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HCt(e,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return WCt(e,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T2t(e,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I2t(e,...n)},move:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C2t(e,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return D2t(e,...n)},next:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return KCt(e,...n)},node:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ZCt(e,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return XCt(e,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return JCt(e,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return QCt(e,...n)},path:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n2t(e,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e2t(e,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return t2t(e,...n)},point:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a2t(e,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return r2t(e,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i2t(e,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o2t(e,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s2t(e,...n)},range:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c2t(e,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l2t(e,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u2t(e,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O2t(e,...n)},select:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S2t(e,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R2t(e,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h2t(e,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E2t(e,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _2t(e,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $2t(e,...n)},start:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p2t(e,...n)},string:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m2t(e,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g2t(e,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P2t(e,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F2t(e,...n)},void:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return TCt(e,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v2t(e,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L2t(e,...n)}};return e},B2t=U2t,u1e="---",c1e="A-Za-z--------",V2t=new RegExp("^[^"+c1e+"]*["+u1e+"]"),z2t=new RegExp("^[^"+u1e+"]*["+c1e+"]");function U2t(e){return e=String(e||""),V2t.test(e)?"rtl":z2t.test(e)?"ltr":"neutral"}const d1e=Be(B2t);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});for(var H2t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),oD={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},f1e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:H2t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},x8={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},qC=1;qC<20;qC++)x8["f"+qC]=111+qC;function PT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return h1e(e,t)})),i=function(e){return r.some((function(t){return p1e(t,e)}))};return null==n?i:i(n)}function W2t(e,t){return PT(e,t)}function G2t(e,t){return PT(e,{byKey:!0},t)}function h1e(e,t){var n=t&&t.byKey,r={},i=(e=e.replace("++","+add")).split("+"),o=i.length;for(var a in oD)r[oD[a]]=!1;var s=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value,p=f.endsWith("?")&&f.length>1;p&&(f=f.slice(0,-1));var h=w8(f),m=oD[h];if(f.length>1&&!m&&!f1e[f]&&!x8[h])throw new TypeError('Unknown modifier: "'+f+'"');(1===o||!m)&&(n?r.key=h:r.which=m1e(f)),m&&(r[m]=!p||null)}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return r}function p1e(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r))return!1}return!0}function m1e(e){return e=w8(e),x8[e]||e.toUpperCase().charCodeAt(0)}function w8(e){return e=e.toLowerCase(),e=f1e[e]||e}Id.default=PT;var sD=Id.isHotkey=PT;function Y2t(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function D0(e,t){if(null==e)return{};var n,r,i=Y2t(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gb(e){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q2t(e,t){if("object"!==Gb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function K2t(e){var t=q2t(e,"string");return"symbol"===Gb(t)?t:String(t)}function Zs(e,t,n){return(t=K2t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Id.isCodeHotkey=W2t,Id.isKeyHotkey=G2t,Id.parseHotkey=h1e,Id.compareHotkey=p1e,Id.toKeyCode=m1e,Id.toKeyName=w8;var C8=f.createContext(null),Xu=()=>{var e=f.useContext(C8);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},g1e=parseInt(Ke.version.split(".")[0],10),Z2t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Sq=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),No=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Pg=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Sy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),X2t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),v1e=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),J2t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Q2t=No&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),eSt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),tSt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),nSt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ld=(!J2t||!Q2t)&&!X2t&&typeof globalThis<"u"&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,S8=new WeakMap,E8=new WeakMap,y1e=new WeakMap,DS=new WeakMap,$M=new WeakMap,Yb=new WeakMap,hp=new WeakMap,x_=new WeakMap,FT=new WeakMap,PM=new WeakMap,hf=new WeakMap,Yh=new WeakMap,ob=new WeakMap,FM=new WeakMap,_8=new WeakMap,Ol=new WeakMap,Pc=new WeakMap,Ro=new WeakMap,ef=new WeakMap,tf=new WeakMap,b1e=new WeakMap,O0=Symbol("placeholder"),x1e=Symbol("mark-placeholder"),rSt=globalThis.Text,k8=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,iSt=e=>Lf(e)&&8===e.nodeType,Bs=e=>Lf(e)&&1===e.nodeType,Lf=e=>{var t=k8(e);return!!t&&e instanceof t.Node},LM=e=>{var t=e&&e.anchorNode&&k8(e.anchorNode);return!!t&&e instanceof t.Selection},w1e=e=>Lf(e)&&3===e.nodeType,aSt=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,oSt=e=>{var[t,n]=e;if(Bs(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=C1e(t,i,r?"backward":"forward"),r=i<n;Bs(t)&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=lSt(t,o,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]},sSt=e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},C1e=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],o=t,a=!1,s=!1;(iSt(i)||Bs(i)&&0===i.childNodes.length||Bs(i)&&"false"===i.getAttribute("contenteditable"))&&(!a||!s);)o>=r.length?(a=!0,o=t-1,n="backward"):o<0?(s=!0,o=t+1,n="forward"):(i=r[o],t=o,o+="forward"===n?1:-1);return[i,t]},lSt=(e,t,n)=>{var[r]=C1e(e,t,n);return r},S1e=e=>{var t="";if(w1e(e)&&e.nodeValue)return e.nodeValue;if(Bs(e)){for(var n of Array.from(e.childNodes))t+=S1e(n);var r=getComputedStyle(e).getPropertyValue("display");("block"===r||"list"===r||"BR"===e.tagName)&&(t+="\n")}return t},uSt=/data-slate-fragment="(.+?)"/m,cSt=e=>{var t=e.getData("text/html"),[,n]=t.match(uSt)||[];return n},T8=(e,t,n)=>{var{target:r}=t;if(Bs(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=Se.getWindow(e);if(i.contains(r))return Se.hasDOMNode(e,r,{editable:!0});var o=n.find((e=>{var{addedNodes:t,removedNodes:n}=e;for(var i of t)if(i===r||i.contains(r))return!0;for(var o of n)if(o===r||o.contains(r))return!0}));return!(!o||o===t)&&T8(e,o,n)},dSt=0;class fSt{constructor(){Zs(this,"id",void 0),this.id="".concat(dSt++)}}var Se={androidPendingDiffs:e=>Ro.get(e),androidScheduleFlush:e=>{var t;null===(t=_8.get(e))||void 0===t||t()},blur:e=>{var t=Se.toDOMNode(e,e),n=Se.findDocumentOrShadowRoot(e);hf.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=Se.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&ce.deselect(e)},findDocumentOrShadowRoot:e=>{var t=Se.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(null==n||null==r)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o=Se.toSlateNode(e,t.target),a=Se.findPath(e,o);if(Ge.isElement(o)&&V.isVoid(e,o)){var s=i.getBoundingClientRect(),l=e.isInline(o)?n-s.left<s.left+s.width-n:r-s.top<s.top+s.height-r,u=V.point(e,a,{edge:l?"start":"end"}),c=l?V.before(e,u):V.after(e,u);if(c)return V.range(e,c)}var d,{document:f}=Se.getWindow(e);if(f.caretRangeFromPoint)d=f.caretRangeFromPoint(n,r);else{var p=f.caretPositionFromPoint(n,r);p&&((d=f.createRange()).setStart(p.offsetNode,p.offset),d.setEnd(p.offsetNode,p.offset))}if(!d)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return Se.toSlateRange(e,d,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var n=x_.get(t);return n||(n=new fSt,x_.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var i=E8.get(r);if(null==i){if(V.isEditor(r))return n;break}var o=S8.get(r);if(null==o)break;n.unshift(o),r=i}throw new Error("Unable to find the path for Slate node: ".concat(ua.stringify(t)))},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!hf.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0)return void setTimeout((()=>{Se.focus(e,{retries:t.retries-1})}),10);var n=Se.toDOMNode(e,e),r=Se.findDocumentOrShadowRoot(e);if(r.activeElement!==n){if(e.selection&&r instanceof Document){var i=r.getSelection(),o=Se.toDOMRange(e,e.selection);i?.removeAllRanges(),i?.addRange(o)}e.selection||(ce.select(e,V.start(e,[])),e.onChange()),n.focus({preventScroll:!0}),hf.set(e,!0)}}},getWindow:e=>{var t=y1e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,o=Se.toDOMNode(e,e);try{n=Bs(t)?t:t.parentElement}catch(e){if(e instanceof Error&&!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&!(n.closest("[data-slate-editor]")!==o||i&&!n.isContentEditable&&("boolean"!=typeof n.isContentEditable||n.closest('[contenteditable="false"]')!==o)&&!n.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>Lf(t)&&Se.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return V.hasPath(e,n.path)&&V.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>Se.hasEditableTarget(e,t)||Se.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Lf(t)&&Se.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Yh.get(e),isFocused:e=>!!hf.get(e),isReadOnly:e=>!!PM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(PM.get(e))return!1;var n=Se.hasTarget(e,t)&&Se.toSlateNode(e,t);return Ge.isElement(n)&&V.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=FT.get(e),r=V.isEditor(t)?DS.get(e):n?.get(Se.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(ua.stringify(t)));return r},toDOMPoint:(e,t)=>{var n,[r]=V.node(e,t.path),i=Se.toDOMNode(e,r);V.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o=Array.from(i.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),a=0,s=0;s<o.length;s++){var l=o[s],u=l.childNodes[0];if(null!=u&&null!=u.textContent){var{length:c}=u.textContent,d=l.getAttribute("data-slate-length"),f=a+(null==d?c:parseInt(d,10)),p=o[s+1];if(t.offset===f&&null!=p&&p.hasAttribute("data-slate-mark-placeholder")){var h,m=p.childNodes[0];n=[m instanceof rSt?m:p,null!==(h=p.textContent)&&void 0!==h&&h.startsWith("\ufeff")?1:0];break}if(t.offset<=f){n=[u,Math.min(c,Math.max(0,t.offset-a))];break}a=f}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(ua.stringify(t)));return n},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,i=ge.isBackward(t),o=Se.toDOMPoint(e,n),a=ge.isCollapsed(t)?o:Se.toDOMPoint(e,r),s=Se.getWindow(e).document.createRange(),[l,u]=i?a:o,[c,d]=i?o:a,f=!!(Bs(l)?l:l.parentElement).getAttribute("data-slate-zero-width"),p=!!(Bs(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return s.setStart(l,f?1:u),s.setEnd(c,p?1:d),s},toSlateNode:(e,t)=>{var n=Bs(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Yb.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:i}=n,[o,a]=r?t:oSt(t),s=o.parentNode,l=null,u=0;if(s){var c,d,f=Se.toDOMNode(e,e),p=s.closest('[data-slate-void="true"]'),h=p&&f.contains(p)?p:null,m=s.closest("[data-slate-leaf]"),g=null;if(m){if(l=m.closest('[data-slate-node="text"]')){var y=Se.getWindow(e).document.createRange();y.setStart(l,0),y.setEnd(o,a);var v=y.cloneContents();[...Array.prototype.slice.call(v.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(v.querySelectorAll("[contenteditable=false]"))].forEach((e=>{No&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),u=v.textContent.length,g=l}}else if(h){for(var b=h.querySelectorAll("[data-slate-leaf]"),x=0;x<b.length;x++){var w=b[x];if(Se.hasDOMNode(e,w)){m=w;break}}m?(l=m.closest('[data-slate-node="text"]'),u=(g=m).textContent.length,g.querySelectorAll("[data-slate-zero-width]").forEach((e=>{u-=e.textContent.length}))):u=1}g&&u===g.textContent.length&&No&&"z"===g.getAttribute("data-slate-zero-width")&&null!==(c=g.textContent)&&void 0!==c&&c.startsWith("\ufeff")&&(s.hasAttribute("data-slate-zero-width")||Pg&&null!==(d=g.textContent)&&void 0!==d&&d.endsWith("\n\n"))&&u--}if(No&&!l&&!r){var C=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(C&&Se.hasDOMNode(e,C,{editable:!0})){var k=Se.toSlateNode(e,C),{path:j,offset:S}=V.start(e,Se.findPath(e,k));return C.querySelector("[data-slate-leaf]")||(S=a),{path:j,offset:S}}}if(!l){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var E=Se.toSlateNode(e,l);return{path:Se.findPath(e,E),offset:u}},toSlateRange:(e,t,n)=>{var r,i,o,a,s,l,u,{exactMatch:c,suppressThrow:d}=n;if(LM(t)?t.anchorNode:t.startContainer)if(LM(t)){if(Pg&&t.rangeCount>1){a=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(a instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let e=function(t){return t.childElementCount>0?e(t.children[0]):t};var h=f.startContainer,m=p.startContainer,g=e(h.children[f.startOffset]),y=e(m.children[p.startOffset]);s=0,i=y.childNodes.length>0?y.childNodes[0]:y,a=g.childNodes.length>0?g.childNodes[0]:g,o=y instanceof HTMLElement?y.innerHTML.length:0}else f.startContainer===a?(i=p.endContainer,o=p.endOffset,s=f.startOffset):(i=f.startContainer,o=f.endOffset,s=p.startOffset)}else i=t.anchorNode,o=t.anchorOffset,a=t.focusNode,s=t.focusOffset;l=v1e&&sSt(i)||Pg?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else i=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,l=t.collapsed;if(null==i||null==a||null==o||null==s)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));(Pg&&null!==(r=a.textContent)&&void 0!==r&&r.endsWith("\n\n")&&s===a.textContent.length&&s--,"getAttribute"in a&&"false"===a.getAttribute("contenteditable")&&"true"!==a.getAttribute("data-slate-void"))&&(a=i,s=(null===(u=i.textContent)||void 0===u?void 0:u.length)||0);var v=Se.toSlatePoint(e,[i,o],{exactMatch:c,suppressThrow:d});if(!v)return null;var b=l?v:Se.toSlatePoint(e,[a,s],{exactMatch:c,suppressThrow:d});if(!b)return null;var x={anchor:v,focus:b};return ge.isExpanded(x)&&ge.isForward(x)&&Bs(a)&&V.void(e,{at:x.focus,mode:"highest"})&&(x=V.unhangRange(e,x,{voids:!0})),x}};function hSt(e,t){var{path:n,diff:r}=t;if(!V.hasPath(e,n))return!1;var i=Re.get(e,n);if(!Fe.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var o=se.next(n);if(!V.hasPath(e,o))return!1;var a=Re.get(e,o);return Fe.isText(a)&&a.text.startsWith(r.text)}function E1e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end)),e)}function pSt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function mSt(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}function _1e(e,t){var{start:n,end:r,text:i}=t,o=e.slice(n,r),a=pSt(o,i),s=mSt(o,i,Math.min(o.length-a,i.length-a)),l={start:n+a,end:r-s,text:i.slice(a,i.length-s)};return l.start===l.end&&0===l.text.length?null:l}function gSt(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),o=E1e(e,t,n),a=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),s=o.slice(r,a);return _1e(e,{start:r,end:Math.max(t.end,n.end-t.text.length+(t.end-t.start)),text:s})}function vSt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function NM(e,t){var{path:n,offset:r}=t;if(!V.hasPath(e,n))return null;var i=Re.get(e,n);if(!Fe.isText(i))return null;var o=V.above(e,{match:t=>Ge.isElement(t)&&V.isBlock(e,t),at:n});if(!o)return null;for(;r>i.text.length;){var a=V.next(e,{at:n,match:Fe.isText});if(!a||!se.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function Eq(e,t){var n=NM(e,t.anchor);if(!n)return null;if(ge.isCollapsed(t))return{anchor:n,focus:n};var r=NM(e,t.focus);return r?{anchor:n,focus:r}:null}function BM(e,t,n){var r=Ro.get(e),i=r?.find((e=>{var{path:n}=e;return se.equals(n,t.path)}));if(!i||t.offset<=i.diff.start)return Ft.transform(t,n,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var a={path:t.path,offset:o.start},s=Ft.transform(a,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-o.start}:null}var l={path:t.path,offset:t.offset-o.text.length+o.end-o.start},u=Ft.transform(l,n,{affinity:"backward"});return u?"split_node"===n.type&&se.equals(n.path,t.path)&&l.offset<n.position&&o.start<n.position?u:{path:u.path,offset:u.offset+o.text.length-o.end+o.start}:null}function _q(e,t,n){var r=BM(e,t.anchor,n);if(!r)return null;if(ge.isCollapsed(t))return{anchor:r,focus:r};var i=BM(e,t.focus,n);return i?{anchor:r,focus:i}:null}function ySt(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":return!se.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!se.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!se.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:se.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:se.transform(n,t,{affinity:"forward"})};case"merge_node":return se.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:se.transform(n,t)}:{diff:r,id:i,path:se.transform(n,t)}}var o=se.transform(n,t);return o?{diff:r,path:o,id:i}:null}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bSt=25,xSt=200,wSt=function(){},CSt=e=>"DataTransfer"===e?.constructor.name;function SSt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,o=null,a=null,s=null,l=0,u=!1,c=()=>{var e=tf.get(t);if(tf.delete(t),e){var{selection:n}=t,r=Eq(t,e);r&&(!n||!ge.equals(r,n))&&ce.select(t,r)}},d=()=>{if(a&&(clearTimeout(a),a=null),s&&(clearTimeout(s),s=null),g()||m()){i||(i=!0,setTimeout((()=>i=!1))),m()&&(i="action");var e=t.selection&&V.rangeRef(t,t.selection,{affinity:"forward"});Pc.set(t,t.marks),wSt("flush",ef.get(t),Ro.get(t));for(var o,l=g();o=null===(d=Ro.get(t))||void 0===d?void 0:d[0];){var d,f,p=Ol.get(t);void 0!==p&&(Ol.delete(t),t.marks=p),p&&!1===u&&(u=null);var h=vSt(o);(!t.selection||!ge.equals(t.selection,h))&&ce.select(t,h),o.diff.text?V.insertText(t,o.diff.text):V.deleteFragment(t),Ro.set(t,null===(f=Ro.get(t))||void 0===f?void 0:f.filter((e=>{var{id:t}=e;return t!==o.id}))),hSt(t,o)||(l=!1,ef.delete(t),Pc.delete(t),i="action",tf.delete(t),n.cancel(),r.cancel(),e?.unref())}var y=e?.unref();if(y&&!tf.get(t)&&(!t.selection||!ge.equals(y,t.selection))&&ce.select(t,y),m())(()=>{var e=ef.get(t);if(ef.delete(t),e){if(e.at){var n=Ft.isPoint(e.at)?NM(t,e.at):Eq(t,e.at);if(!n)return;var r=V.range(t,n);(!t.selection||!ge.equals(t.selection,r))&&ce.select(t,n)}e.run()}})();else{l&&n(),n.flush(),r.flush(),c();var v=Pc.get(t);Pc.delete(t),void 0!==v&&(t.marks=v,t.onChange())}}else c()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=$M.get(t);if(n){if(g()||e)return void(n.style.display="none");n.style.removeProperty("display")}},p=(e,n)=>{var r,i=null!==(r=Ro.get(t))&&void 0!==r?r:[];Ro.set(t,i);var o=Re.leaf(t,e),a=i.findIndex((t=>se.equals(t.path,e)));if(a<0)return _1e(o.text,n)&&i.push({path:e,diff:n,id:l++}),void f();var s=gSt(o.text,i[a].diff,n);if(!s)return i.splice(a,1),void f();i[a]=KC(KC({},i[a]),{},{diff:s})},h=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=!1,tf.delete(t),n.cancel(),r.cancel(),m()&&d(),ef.set(t,{at:i,run:e}),s=setTimeout(d)},m=()=>!!ef.get(t),g=()=>{var e;return!(null===(e=Ro.get(t))||void 0===e||!e.length)},y=e=>{tf.set(t,e),a&&(clearTimeout(a),a=null);var{selection:n}=t;if(e){var r=!n||!se.equals(n.anchor.path,e.anchor.path),i=!n||!se.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&u||i)&&(u=!1),(r||g())&&(a=setTimeout(d,xSt))}},v=()=>{m()||(s=setTimeout(d))};return{flush:d,scheduleFlush:v,hasPendingDiffs:g,hasPendingAction:m,hasPendingChanges:()=>m()||g(),isFlushing:()=>i,handleUserSelect:y,handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout((()=>{Yh.set(t,!1),d()}),bSt)},handleCompositionStart:e=>{Yh.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{var n;a&&(clearTimeout(a),a=null);var{inputType:r}=e,i=null,o=e.dataTransfer||e.data||void 0;!1!==u&&"insertText"!==r&&"insertCompositionText"!==r&&(u=!1);var[s]=e.getTargetRanges();s&&(i=Se.toSlateRange(t,s,{exactMatch:!1,suppressThrow:!0}));var l=Se.getWindow(t).getSelection();if(!i&&l&&(s=l,i=Se.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0})),i=null!==(n=i)&&void 0!==n?n:t.selection){var c=!0;if(r.startsWith("delete")){if(ge.isExpanded(i)){var[d,f]=ge.edges(i);if(Re.leaf(t,d.path).text.length===d.offset&&0===f.offset){var m=V.next(t,{at:d.path,match:Fe.isText});m&&se.equals(m[1],f.path)&&(i={anchor:f,focus:f})}}var g=r.endsWith("Backward")?"backward":"forward",[b,x]=ge.edges(i),[w,C]=V.leaf(t,b.path),k={text:"",start:b.offset,end:x.offset},j=Ro.get(t),S=j?.find((e=>se.equals(e.path,C))),E=S?[S.diff,k]:[k];if(0===E1e(w.text,...E).length&&(c=!1),ge.isExpanded(i)){if(c&&se.equals(i.anchor.path,i.focus.path)){var _={path:i.anchor.path,offset:b.offset},A=V.range(t,_,_);return y(A),p(i.anchor.path,{text:"",end:x.offset,start:b.offset})}return h((()=>V.deleteFragment(t,{direction:g})),{at:i})}}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return h((()=>V.deleteFragment(t)),{at:i});case"deleteContent":case"deleteContentForward":var{anchor:T}=i;if(c&&ge.isCollapsed(i)){var D=Re.leaf(t,T.path);if(T.offset<D.text.length)return p(T.path,{text:"",start:T.offset,end:T.offset+1})}return h((()=>V.deleteForward(t)),{at:i});case"deleteContentBackward":var M,{anchor:I}=i,O=LM(s)?s.isCollapsed:!(null===(M=s)||void 0===M||!M.collapsed);return c&&O&&ge.isCollapsed(i)&&I.offset>0?p(I.path,{text:"",start:I.offset-1,end:I.offset}):h((()=>V.deleteBackward(t)),{at:i});case"deleteEntireSoftLine":return h((()=>{V.deleteBackward(t,{unit:"line"}),V.deleteForward(t,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return h((()=>V.deleteBackward(t,{unit:"block"})),{at:i});case"deleteSoftLineBackward":return h((()=>V.deleteBackward(t,{unit:"line"})),{at:i});case"deleteHardLineForward":return h((()=>V.deleteForward(t,{unit:"block"})),{at:i});case"deleteSoftLineForward":return h((()=>V.deleteForward(t,{unit:"line"})),{at:i});case"deleteWordBackward":return h((()=>V.deleteBackward(t,{unit:"word"})),{at:i});case"deleteWordForward":return h((()=>V.deleteForward(t,{unit:"word"})),{at:i});case"insertLineBreak":return h((()=>V.insertSoftBreak(t)),{at:i});case"insertParagraph":return h((()=>V.insertBreak(t)),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(CSt(o))return h((()=>Se.insertData(t,o)),{at:i});var N=o??"";if(Ol.get(t)&&(N=N.replace("\ufeff","")),"insertText"===r&&/.*\n.*\n$/.test(N)&&(N=N.slice(0,-1)),N.includes("\n"))return h((()=>{var e=N.split("\n");e.forEach(((n,r)=>{n&&V.insertText(t,n),r!==e.length-1&&V.insertSoftBreak(t)}))}),{at:i});if(se.equals(i.anchor.path,i.focus.path)){var[P,R]=ge.edges(i),F={start:P.offset,end:R.offset,text:N};if(N&&u&&"insertCompositionText"===r){var L=u.start+u.text.search(/\S|$/);F.start+F.text.search(/\S|$/)===L+1&&F.end===u.start+u.text.length?(F.start-=1,u=null,v()):u=!1}else u="insertText"===r&&(null===u?F:!(!u||!ge.isCollapsed(i)||u.end+u.text.length!==P.offset)&&KC(KC({},u),{},{text:u.text+N}));if(c)return void p(P.path,F)}return h((()=>V.insertText(t,N)),{at:i})}}},handleKeyDown:e=>{g()||(f(!0),setTimeout(f))},handleDomMutations:e=>{var n;g()||m()||!e.some((n=>T8(t,n,e)))||(null===(n=b1e.get(t))||void 0===n||n())},handleInput:()=>{(m()||!g())&&d()}}}function ESt(){var e=f.useRef(!1);return f.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),e.current}var qb=IS?f.useLayoutEffect:f.useEffect;function _St(e,t,n){var[r]=f.useState((()=>new MutationObserver(t)));qb((()=>{r.takeRecords()})),f.useEffect((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()}),[r,e,n])}var kSt=["node"];function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TSt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ASt={subtree:!0,childList:!0,characterData:!0},jSt=No?e=>{var{node:t}=e,n=D0(e,kSt);if(!No)return null;var r=Xu(),i=ESt(),[o]=f.useState((()=>SSt(TSt({editor:r},n))));return _St(t,o.handleDomMutations,ASt),_8.set(r,o.scheduleFlush),i&&o.flush(),o}:()=>null,ISt=["anchor","focus"],DSt=["anchor","focus"],OSt=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((n=>t.hasOwnProperty(n)&&e[n]===t[n])),k1e=(e,t)=>{var n=D0(e,ISt),r=D0(t,DSt);return e[O0]===t[O0]&&OSt(n,r)},RSt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!ge.equals(r,i)||!k1e(r,i))return!1}return!0},MSt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!k1e(r,i))return!1}return!0};function Aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PSt=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,o=Xu(),a=Se.findPath(o,i),s=se.parent(a),l=!!n[x1e];return o.isVoid(r)?Ke.createElement(lD,{length:Re.string(r).length}):""!==n.text||r.children[r.children.length-1]!==i||o.isInline(r)||""!==V.string(o,s)?""===n.text?Ke.createElement(lD,{isMarkPlaceholder:l}):t&&"\n"===n.text.slice(-1)?Ke.createElement(jq,{isTrailing:!0,text:n.text}):Ke.createElement(jq,{text:n.text}):Ke.createElement(lD,{isLineBreak:!0,isMarkPlaceholder:l})},jq=e=>{var{text:t,isTrailing:n=!1}=e,r=f.useRef(null),i=()=>"".concat(t??"").concat(n?"\n":""),[o]=f.useState(i);return qb((()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)})),Ke.createElement(FSt,{ref:r},o)},FSt=f.memo(f.forwardRef(((e,t)=>Ke.createElement("span",{"data-slate-string":!0,ref:t},e.children)))),lD=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),Ke.createElement("span",$St({},i),No&&n?null:"\ufeff",n?Ke.createElement("br",null):null)};function Iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LSt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Dq(e){e.current&&(clearTimeout(e.current),e.current=null)}var NSt=e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:o,renderLeaf:a=e=>Ke.createElement(VSt,T1e({},e))}=e,s=Xu(),l=f.useRef(null),u=f.useRef(null),[c,d]=f.useState(!1),p=f.useRef(null),h=f.useCallback((e=>{if(LSt(l,null==e),null==e){var n;$M.delete(s),null===(n=t.onPlaceholderResize)||void 0===n||n.call(t,null)}else{if($M.set(s,e),!l.current){var r=window.ResizeObserver||Wde;l.current=new r((()=>{var n;null===(n=t.onPlaceholderResize)||void 0===n||n.call(t,e)}))}l.current.observe(e),u.current=e}}),[u,t,s]),m=Ke.createElement(PSt,{isLast:n,leaf:t,parent:i,text:r}),g=!!t[O0];if(f.useEffect((()=>(g?p.current||(p.current=setTimeout((()=>{d(!0),p.current=null}),300)):(Dq(p),d(!1)),()=>Dq(p))),[g,d]),g&&c){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Sy?"inherit":void 0},contentEditable:!1,ref:h}};m=Ke.createElement(Ke.Fragment,null,o(y),m)}return a({attributes:{"data-slate-leaf":!0},children:m,leaf:t,text:r})},BSt=Ke.memo(NSt,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Fe.equals(t.leaf,e.leaf)&&t.leaf[O0]===e.leaf[O0])),VSt=e=>{var{attributes:t,children:n}=e;return Ke.createElement("span",T1e({},t),n)},zSt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:o,text:a}=e,s=Xu(),l=f.useRef(null),u=Fe.decorations(a,t),c=Se.findKey(s,a),d=[],p=0;p<u.length;p++){var h=u[p];d.push(Ke.createElement(BSt,{isLast:n&&p===u.length-1,key:"".concat(c.id,"-").concat(p),renderPlaceholder:i,leaf:h,text:a,parent:r,renderLeaf:o}))}var m=f.useCallback((e=>{var t=FT.get(s);e?(t?.set(c,e),hp.set(a,e),Yb.set(e,a)):(t?.delete(c),hp.delete(a),l.current&&Yb.delete(l.current)),l.current=e}),[l,s,c,a]);return Ke.createElement("span",{"data-slate-node":"text",ref:m},d)},A1e=Ke.memo(zSt,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&MSt(t.decorations,e.decorations)));function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var USt=e=>{var{decorations:t,element:n,renderElement:r=e=>Ke.createElement(WSt,VM({},e)),renderPlaceholder:i,renderLeaf:o,selection:a}=e,s=Xu(),l=YSt(),u=s.isInline(n),c=Se.findKey(s,n),d=f.useCallback((e=>{var t=FT.get(s);e?(t?.set(c,e),hp.set(n,e),Yb.set(e,n)):(t?.delete(c),hp.delete(n))}),[s,c,n]),p=O1e({decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:a}),h={"data-slate-node":"element",ref:d};if(u&&(h["data-slate-inline"]=!0),!u&&V.hasInlines(s,n)){var m=Re.string(n),g=d1e(m);"rtl"===g&&(h.dir=g)}if(V.isVoid(s,n)){h["data-slate-void"]=!0,!l&&u&&(h.contentEditable=!1);var y=u?"span":"div",[[v]]=Re.texts(n);p=Ke.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Ke.createElement(A1e,{renderPlaceholder:i,decorations:[],isLast:!1,parent:n,text:v})),S8.set(v,0),E8.set(v,n)}return r({attributes:h,children:p,element:n})},HSt=Ke.memo(USt,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&RSt(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ge.equals(e.selection,t.selection)))),WSt=e=>{var{attributes:t,children:n,element:r}=e,i=Xu().isInline(r)?"span":"div";return Ke.createElement(i,VM(VM({},t),{},{style:{position:"relative"}}),n)},j1e=f.createContext((()=>[])),GSt=()=>f.useContext(j1e),I1e=f.createContext(!1),D1e=()=>f.useContext(I1e),O1e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:a}=e,s=GSt(),l=Xu(),u=Se.findPath(l,n),c=[],d=Ge.isElement(n)&&!l.isInline(n)&&V.hasInlines(l,n),f=0;f<n.children.length;f++){var p=u.concat(f),h=n.children[f],m=Se.findKey(l,h),g=V.range(l,p),y=a&&ge.intersection(g,a),v=s([h,p]);for(var b of t){var x=ge.intersection(b,g);x&&v.push(x)}Ge.isElement(h)?c.push(Ke.createElement(I1e.Provider,{key:"provider-".concat(m.id),value:!!y},Ke.createElement(HSt,{decorations:v,element:h,key:m.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:y}))):c.push(Ke.createElement(A1e,{decorations:v,key:m.id,isLast:d&&f===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:h})),S8.set(h,f),E8.set(h,n)}return c},R1e=f.createContext(!1),YSt=()=>f.useContext(R1e),M1e=f.createContext(null),LT=()=>{var e=f.useContext(M1e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function qSt(){var e=Xu(),t=f.useRef(!1),n=f.useRef(0),r=f.useCallback((()=>{if(!t.current){t.current=!0;var r=Se.getWindow(e);r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((()=>{t.current=!1}))}}),[e]);return f.useEffect((()=>()=>cancelAnimationFrame(n.current)),[]),{receivedUserInput:t,onUserInput:r}}var KSt=3,ZSt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},XSt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},JSt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},qr=e=>{var t=ZSt[e],n=XSt[e],r=JSt[e],i=t&&sD(t),o=n&&sD(n),a=r&&sD(r);return e=>!!(i&&i(e)||Sq&&o&&o(e)||!Sq&&a&&a(e))},Qr={isBold:qr("bold"),isCompose:qr("compose"),isMoveBackward:qr("moveBackward"),isMoveForward:qr("moveForward"),isDeleteBackward:qr("deleteBackward"),isDeleteForward:qr("deleteForward"),isDeleteLineBackward:qr("deleteLineBackward"),isDeleteLineForward:qr("deleteLineForward"),isDeleteWordBackward:qr("deleteWordBackward"),isDeleteWordForward:qr("deleteWordForward"),isExtendBackward:qr("extendBackward"),isExtendForward:qr("extendForward"),isExtendLineBackward:qr("extendLineBackward"),isExtendLineForward:qr("extendLineForward"),isItalic:qr("italic"),isMoveLineBackward:qr("moveLineBackward"),isMoveLineForward:qr("moveLineForward"),isMoveWordBackward:qr("moveWordBackward"),isMoveWordForward:qr("moveWordForward"),isRedo:qr("redo"),isSoftBreak:qr("insertSoftBreak"),isSplitBlock:qr("splitBlock"),isTransposeCharacter:qr("transposeCharacter"),isUndo:qr("undo")},QSt=(e,t)=>{var n=[],r=()=>{n=[]};return{registerMutations:r=>{if(t.current){var i=r.filter((t=>T8(e,t,r)));n.push(...i)}},restoreDOM:function(){n.length>0&&(n.reverse().forEach((e=>{"characterData"!==e.type&&(e.removedNodes.forEach((t=>{e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((t=>{e.target.removeChild(t)})))})),r())},clear:r}},eEt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class $1e extends f.Component{constructor(){super(...arguments),Zs(this,"context",null),Zs(this,"manager",null),Zs(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,eEt)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=QSt(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();null!=i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i));return null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}Zs($1e,"contextType",C8);var tEt=No?$1e:e=>{var{children:t}=e;return Ke.createElement(Ke.Fragment,null,t)},nEt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],rEt=["text"];function Rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iEt=e=>Ke.createElement(Ke.Fragment,null,O1e(e)),aEt=e=>{var t=f.useCallback((e=>Ke.createElement(oEt,nu({},e))),[]),{autoFocus:n,decorate:r=sEt,onDOMBeforeInput:i,placeholder:o,readOnly:a=!1,renderElement:s,renderLeaf:l,renderPlaceholder:u=t,scrollSelectionIntoView:c=lEt,style:d={},as:p="div",disableDefaultStyles:h=!1}=e,m=D0(e,nEt),g=LT(),[y,v]=f.useState(!1),b=f.useRef(null),x=f.useRef([]),[w,C]=f.useState(),{onUserInput:k,receivedUserInput:j}=qSt(),[,S]=f.useReducer((e=>e+1),0);b1e.set(g,S),PM.set(g,a);var E=f.useMemo((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);f.useEffect((()=>{b.current&&n&&b.current.focus()}),[n]);var _=f.useRef(),A=f.useMemo((()=>I1((()=>{var e=_.current;if((No||!Se.isComposing(g))&&(!E.isUpdatingSelection||null!=e&&e.isFlushing())&&!E.isDraggingInternally){var t=Se.findDocumentOrShadowRoot(g),{activeElement:n}=t,r=Se.toDOMNode(g,g),i=t.getSelection();if(n===r?(E.latestElement=n,hf.set(g,!0)):hf.delete(g),!i)return ce.deselect(g);var{anchorNode:o,focusNode:s}=i,l=Se.hasEditableTarget(g,o)||Se.isTargetInsideNonReadonlyVoid(g,o),u=Se.hasEditableTarget(g,s)||Se.isTargetInsideNonReadonlyVoid(g,s);if(l&&u){var c=Se.toSlateRange(g,i,{exactMatch:!1,suppressThrow:!0});c&&(Se.isComposing(g)||null!=e&&e.hasPendingChanges()||null!=e&&e.isFlushing()?e?.handleUserSelect(c):ce.select(g,c))}a&&(!l||!u)&&ce.deselect(g)}}),100)),[g,a,E]),T=f.useMemo((()=>nm(A,0)),[A]);_.current=jSt({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:T}),qb((()=>{var e,t,n;b.current&&(n=k8(b.current))?(y1e.set(g,n),DS.set(g,b.current),hp.set(g,b.current),Yb.set(b.current,g)):hp.delete(g);var{selection:r}=g,i=Se.findDocumentOrShadowRoot(g).getSelection();if(i&&Se.isFocused(g)&&(null===(e=_.current)||void 0===e||!e.hasPendingAction())){var o=e=>{var t="None"!==i.type;if(r||t){var n,o=i.focusNode;if(Pg&&i.rangeCount>1){var a=i.getRangeAt(0),s=i.getRangeAt(i.rangeCount-1);n=a.startContainer===o?s.endContainer:a.startContainer}else n=i.anchorNode;var l=DS.get(g),u=!1;if(l.contains(n)&&l.contains(o)&&(u=!0),t&&u&&r&&!e){var d,f=Se.toSlateRange(g,i,{exactMatch:!0,suppressThrow:!0});if(f&&ge.equals(f,r))if(!E.hasMarkPlaceholder||null!==(d=n)&&void 0!==d&&null!==(d=d.parentElement)&&void 0!==d&&d.hasAttribute("data-slate-mark-placeholder"))return}if(r&&!Se.hasRange(g,r))return void(g.selection=Se.toSlateRange(g,i,{exactMatch:!1,suppressThrow:!0}));E.isUpdatingSelection=!0;var p=r&&Se.toDOMRange(g,r);return p?(Se.isComposing(g)&&!No?i.collapseToEnd():ge.isBackward(r)?i.setBaseAndExtent(p.endContainer,p.endOffset,p.startContainer,p.startOffset):i.setBaseAndExtent(p.startContainer,p.startOffset,p.endContainer,p.endOffset),c(g,p)):i.removeAllRanges(),p}};i.rangeCount<=1&&o();var a="action"===(null===(t=_.current)||void 0===t?void 0:t.isFlushing());if(!No||!a)return void setTimeout((()=>{E.isUpdatingSelection=!1}));var s=null,l=requestAnimationFrame((()=>{if(a){var e=e=>{try{Se.toDOMNode(g,g).focus(),o(e)}catch{}};e(),s=setTimeout((()=>{e(!0),E.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(l),s&&clearTimeout(s)}}}));var D=f.useCallback((e=>{if(k(),!a&&Se.hasEditableTarget(g,e.target)&&!uEt(e,i)){var t;if(_.current)return _.current.handleDOMBeforeInput(e);T.flush(),A.flush();var{selection:n}=g,{inputType:r}=e,o=e.dataTransfer||e.data||void 0,s="insertCompositionText"===r||"deleteCompositionText"===r;if(s&&Se.isComposing(g))return;var l=!1;if("insertText"===r&&n&&ge.isCollapsed(n)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==n.anchor.offset){var u,c;l=!0,g.marks&&(l=!1);var{anchor:d}=n,[f,p]=Se.toDOMPoint(g,d),h=null===(u=f.parentElement)||void 0===u?void 0:u.closest("a"),m=Se.getWindow(g);if(l&&h&&Se.hasDOMNode(g,h)){var y,b=m?.document.createTreeWalker(h,NodeFilter.SHOW_TEXT).lastChild();b===f&&(null===(y=b.textContent)||void 0===y?void 0:y.length)===p&&(l=!1)}if(l&&f.parentElement&&"pre"===(null==m||null===(c=m.getComputedStyle(f.parentElement))||void 0===c?void 0:c.whiteSpace)){var w=V.above(g,{at:d.path,match:e=>Ge.isElement(e)&&V.isBlock(g,e)});w&&Re.string(w[0]).includes("\t")&&(l=!1)}}if(!r.startsWith("delete")||r.startsWith("deleteBy")){var[C]=e.getTargetRanges();if(C){var j=Se.toSlateRange(g,C,{exactMatch:!1,suppressThrow:!1});if(!n||!ge.equals(n,j)){l=!1;var S=!s&&g.selection&&V.rangeRef(g,g.selection);ce.select(g,j),S&&ob.set(g,S)}}}if(s)return;if(l||e.preventDefault(),n&&ge.isExpanded(n)&&r.startsWith("delete")){var E=r.endsWith("Backward")?"backward":"forward";return void V.deleteFragment(g,{direction:E})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":V.deleteFragment(g);break;case"deleteContent":case"deleteContentForward":V.deleteForward(g);break;case"deleteContentBackward":V.deleteBackward(g);break;case"deleteEntireSoftLine":V.deleteBackward(g,{unit:"line"}),V.deleteForward(g,{unit:"line"});break;case"deleteHardLineBackward":V.deleteBackward(g,{unit:"block"});break;case"deleteSoftLineBackward":V.deleteBackward(g,{unit:"line"});break;case"deleteHardLineForward":V.deleteForward(g,{unit:"block"});break;case"deleteSoftLineForward":V.deleteForward(g,{unit:"line"});break;case"deleteWordBackward":V.deleteBackward(g,{unit:"word"});break;case"deleteWordForward":V.deleteForward(g,{unit:"word"});break;case"insertLineBreak":V.insertSoftBreak(g);break;case"insertParagraph":V.insertBreak(g);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===r&&Se.isComposing(g)&&(v(!1),Yh.set(g,!1)),"DataTransfer"===o?.constructor.name?Se.insertData(g,o):"string"==typeof o&&(l?x.current.push((()=>V.insertText(g,o))):V.insertText(g,o))}var D=null===(t=ob.get(g))||void 0===t?void 0:t.unref();ob.delete(g),D&&(!g.selection||!ge.equals(g.selection,D))&&ce.select(g,D)}}),[g,A,k,i,a,T]),M=f.useCallback((e=>{null==e?(A.cancel(),T.cancel(),DS.delete(g),hp.delete(g),b.current&&Ld&&b.current.removeEventListener("beforeinput",D)):Ld&&e.addEventListener("beforeinput",D),b.current=e}),[A,T,g,D]);qb((()=>{var e=Se.getWindow(g);return e.document.addEventListener("selectionchange",T),()=>{e.document.removeEventListener("selectionchange",T)}}),[T]);var I=r([g,[]]),O=o&&1===g.children.length&&1===Array.from(Re.texts(g)).length&&""===Re.string(g)&&!y,N=f.useCallback((e=>{var t;e&&O?C(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height):C(void 0)}),[O]);if(O){var P=V.start(g,[]);I.push({[O0]:!0,placeholder:o,onPlaceholderResize:N,anchor:P,focus:P})}var{marks:R}=g;if(E.hasMarkPlaceholder=!1,g.selection&&ge.isCollapsed(g.selection)&&R){var{anchor:F}=g.selection,L=Re.leaf(g,F.path),$=D0(L,rEt);if(!Fe.equals(L,R,{loose:!0})){E.hasMarkPlaceholder=!0;var B=Object.fromEntries(Object.keys($).map((e=>[e,null])));I.push(nu(nu(nu({[x1e]:!0},B),R),{},{anchor:F,focus:F}))}}return f.useEffect((()=>{setTimeout((()=>{var{selection:e}=g;if(e){var{anchor:t}=e,n=Re.leaf(g,t.path);if(R&&!Fe.equals(n,R,{loose:!0}))return void Ol.set(g,R)}Ol.delete(g)}))})),Ke.createElement(R1e.Provider,{value:a},Ke.createElement(j1e.Provider,{value:r},Ke.createElement(tEt,{node:b,receivedUserInput:j},Ke.createElement(p,nu(nu({role:a?void 0:"textbox","aria-multiline":!a||void 0},m),{},{spellCheck:!(!Ld&&IS)&&m.spellCheck,autoCorrect:Ld||!IS?m.autoCorrect:"false",autoCapitalize:Ld||!IS?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:M,style:nu(nu({},h?{}:nu({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},w?{minHeight:w}:{})),d),onBeforeInput:f.useCallback((e=>{if(!Ld&&!a&&!ro(e,m.onBeforeInput)&&Se.hasSelectableTarget(g,e.target)&&(e.preventDefault(),!Se.isComposing(g))){var t=e.data;V.insertText(g,t)}}),[m.onBeforeInput,g,a]),onInput:f.useCallback((e=>{if(!ro(e,m.onInput)){if(_.current)return void _.current.handleInput();for(var t of x.current)t();x.current=[]}}),[m.onInput]),onBlur:f.useCallback((e=>{if(!a&&!E.isUpdatingSelection&&Se.hasSelectableTarget(g,e.target)&&!ro(e,m.onBlur)){var t=Se.findDocumentOrShadowRoot(g);if(E.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(!(n===Se.toDOMNode(g,g)||Bs(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&Lf(n)&&Se.hasDOMNode(g,n)){var r=Se.toSlateNode(g,n);if(Ge.isElement(r)&&!g.isVoid(r))return}if(Sy){var i=t.getSelection();i?.removeAllRanges()}hf.delete(g)}}}}),[a,E.isUpdatingSelection,E.latestElement,g,m.onBlur]),onClick:f.useCallback((e=>{if(Se.hasTarget(g,e.target)&&!ro(e,m.onClick)&&Lf(e.target)){var t=Se.toSlateNode(g,e.target),n=Se.findPath(g,t);if(!V.hasPath(g,n)||Re.get(g,n)!==t)return;if(e.detail===KSt&&n.length>=1){var r=n;if(!Ge.isElement(t)||!V.isBlock(g,t)){var i,o=V.above(g,{match:e=>Ge.isElement(e)&&V.isBlock(g,e),at:n});r=null!==(i=o?.[1])&&void 0!==i?i:n.slice(0,1)}var s=V.range(g,r);return void ce.select(g,s)}if(a)return;var l=V.start(g,n),u=V.end(g,n),c=V.void(g,{at:l}),d=V.void(g,{at:u});if(c&&d&&se.equals(c[1],d[1])){var f=V.range(g,l);ce.select(g,f)}}}),[g,m.onClick,a]),onCompositionEnd:f.useCallback((e=>{if(Se.hasSelectableTarget(g,e.target)){var t;if(Se.isComposing(g)&&(v(!1),Yh.set(g,!1)),null===(t=_.current)||void 0===t||t.handleCompositionEnd(e),ro(e,m.onCompositionEnd)||No)return;if(!Sy&&!eSt&&!Z2t&&!nSt&&!tSt&&e.data){var n=Ol.get(g);Ol.delete(g),void 0!==n&&(Pc.set(g,g.marks),g.marks=n),V.insertText(g,e.data);var r=Pc.get(g);Pc.delete(g),void 0!==r&&(g.marks=r)}}}),[m.onCompositionEnd,g]),onCompositionUpdate:f.useCallback((e=>{Se.hasSelectableTarget(g,e.target)&&!ro(e,m.onCompositionUpdate)&&(Se.isComposing(g)||(v(!0),Yh.set(g,!0)))}),[m.onCompositionUpdate,g]),onCompositionStart:f.useCallback((e=>{if(Se.hasSelectableTarget(g,e.target)){var t;if(null===(t=_.current)||void 0===t||t.handleCompositionStart(e),ro(e,m.onCompositionStart)||No)return;v(!0);var{selection:n}=g;if(n){if(ge.isExpanded(n))return void V.deleteFragment(g);var r=V.above(g,{match:e=>Ge.isElement(e)&&V.isInline(g,e),mode:"highest"});if(r){var[,i]=r;if(V.isEnd(g,n.anchor,i)){var o=V.after(g,i);ce.setSelection(g,{anchor:o,focus:o})}}}}}),[m.onCompositionStart,g]),onCopy:f.useCallback((e=>{Se.hasSelectableTarget(g,e.target)&&!ro(e,m.onCopy)&&!Mq(e)&&(e.preventDefault(),Se.setFragmentData(g,e.clipboardData,"copy"))}),[m.onCopy,g]),onCut:f.useCallback((e=>{if(!a&&Se.hasSelectableTarget(g,e.target)&&!ro(e,m.onCut)&&!Mq(e)){e.preventDefault(),Se.setFragmentData(g,e.clipboardData,"cut");var{selection:t}=g;if(t)if(ge.isExpanded(t))V.deleteFragment(g);else{var n=Re.parent(g,t.anchor.path);V.isVoid(g,n)&&ce.delete(g)}}}),[a,g,m.onCut]),onDragOver:f.useCallback((e=>{if(Se.hasTarget(g,e.target)&&!ro(e,m.onDragOver)){var t=Se.toSlateNode(g,e.target);Ge.isElement(t)&&V.isVoid(g,t)&&e.preventDefault()}}),[m.onDragOver,g]),onDragStart:f.useCallback((e=>{if(!a&&Se.hasTarget(g,e.target)&&!ro(e,m.onDragStart)){var t=Se.toSlateNode(g,e.target),n=Se.findPath(g,t);if(Ge.isElement(t)&&V.isVoid(g,t)||V.void(g,{at:n,voids:!0})){var r=V.range(g,n);ce.select(g,r)}E.isDraggingInternally=!0,Se.setFragmentData(g,e.dataTransfer,"drag")}}),[a,g,m.onDragStart,E]),onDrop:f.useCallback((e=>{if(!a&&Se.hasTarget(g,e.target)&&!ro(e,m.onDrop)){e.preventDefault();var t=g.selection,n=Se.findEventRange(g,e),r=e.dataTransfer;ce.select(g,n),E.isDraggingInternally&&t&&!ge.equals(t,n)&&!V.void(g,{at:n,voids:!0})&&ce.delete(g,{at:t}),Se.insertData(g,r),Se.isFocused(g)||Se.focus(g)}E.isDraggingInternally=!1}),[a,g,m.onDrop,E]),onDragEnd:f.useCallback((e=>{!a&&E.isDraggingInternally&&m.onDragEnd&&Se.hasTarget(g,e.target)&&m.onDragEnd(e),E.isDraggingInternally=!1}),[a,E,m,g]),onFocus:f.useCallback((e=>{if(!a&&!E.isUpdatingSelection&&Se.hasEditableTarget(g,e.target)&&!ro(e,m.onFocus)){var t=Se.toDOMNode(g,g),n=Se.findDocumentOrShadowRoot(g);if(E.latestElement=n.activeElement,Pg&&e.target!==t)return void t.focus();hf.set(g,!0)}}),[a,E,g,m.onFocus]),onKeyDown:f.useCallback((e=>{if(!a&&Se.hasEditableTarget(g,e.target)){var t;null===(t=_.current)||void 0===t||t.handleKeyDown(e);var{nativeEvent:n}=e;if(Se.isComposing(g)&&!1===n.isComposing&&(Yh.set(g,!1),v(!1)),ro(e,m.onKeyDown)||Se.isComposing(g))return;var{selection:r}=g,i=g.children[null!==r?r.focus.path[0]:0],o="rtl"===d1e(Re.string(i));if(Qr.isRedo(n)){e.preventDefault();var s=g;return void("function"==typeof s.redo&&s.redo())}if(Qr.isUndo(n)){e.preventDefault();var l=g;return void("function"==typeof l.undo&&l.undo())}if(Qr.isMoveLineBackward(n))return e.preventDefault(),void ce.move(g,{unit:"line",reverse:!0});if(Qr.isMoveLineForward(n))return e.preventDefault(),void ce.move(g,{unit:"line"});if(Qr.isExtendLineBackward(n))return e.preventDefault(),void ce.move(g,{unit:"line",edge:"focus",reverse:!0});if(Qr.isExtendLineForward(n))return e.preventDefault(),void ce.move(g,{unit:"line",edge:"focus"});if(Qr.isMoveBackward(n))return e.preventDefault(),void(r&&ge.isCollapsed(r)?ce.move(g,{reverse:!o}):ce.collapse(g,{edge:"start"}));if(Qr.isMoveForward(n))return e.preventDefault(),void(r&&ge.isCollapsed(r)?ce.move(g,{reverse:o}):ce.collapse(g,{edge:"end"}));if(Qr.isMoveWordBackward(n))return e.preventDefault(),r&&ge.isExpanded(r)&&ce.collapse(g,{edge:"focus"}),void ce.move(g,{unit:"word",reverse:!o});if(Qr.isMoveWordForward(n))return e.preventDefault(),r&&ge.isExpanded(r)&&ce.collapse(g,{edge:"focus"}),void ce.move(g,{unit:"word",reverse:o});if(Ld){if((v1e||Sy)&&r&&(Qr.isDeleteBackward(n)||Qr.isDeleteForward(n))&&ge.isCollapsed(r)){var u=Re.parent(g,r.anchor.path);if(Ge.isElement(u)&&V.isVoid(g,u)&&(V.isInline(g,u)||V.isBlock(g,u)))return e.preventDefault(),void V.deleteBackward(g,{unit:"block"})}}else{if(Qr.isBold(n)||Qr.isItalic(n)||Qr.isTransposeCharacter(n))return void e.preventDefault();if(Qr.isSoftBreak(n))return e.preventDefault(),void V.insertSoftBreak(g);if(Qr.isSplitBlock(n))return e.preventDefault(),void V.insertBreak(g);if(Qr.isDeleteBackward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"backward"}):V.deleteBackward(g));if(Qr.isDeleteForward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"forward"}):V.deleteForward(g));if(Qr.isDeleteLineBackward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"backward"}):V.deleteBackward(g,{unit:"line"}));if(Qr.isDeleteLineForward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"forward"}):V.deleteForward(g,{unit:"line"}));if(Qr.isDeleteWordBackward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"backward"}):V.deleteBackward(g,{unit:"word"}));if(Qr.isDeleteWordForward(n))return e.preventDefault(),void(r&&ge.isExpanded(r)?V.deleteFragment(g,{direction:"forward"}):V.deleteForward(g,{unit:"word"}))}}}),[a,g,m.onKeyDown]),onPaste:f.useCallback((e=>{!a&&Se.hasEditableTarget(g,e.target)&&!ro(e,m.onPaste)&&(!Ld||aSt(e.nativeEvent)||Sy)&&(e.preventDefault(),Se.insertData(g,e.clipboardData))}),[a,g,m.onPaste])}),Ke.createElement(iEt,{decorations:I,node:g,renderElement:s,renderPlaceholder:u,renderLeaf:l,selection:g.selection})))))},oEt=e=>{var{attributes:t,children:n}=e;return Ke.createElement("span",nu({},t),n,No&&Ke.createElement("br",null))},sEt=()=>[],lEt=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ge.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),$p(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},ro=(e,t)=>!!t&&(t(e)??(e.isDefaultPrevented()||e.isPropagationStopped())),Mq=e=>Lf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),uEt=(e,t)=>!!t&&(t(e)??e.defaultPrevented),cEt=f.createContext(!1),dEt=f.createContext({});function fEt(e){var t=f.useRef([]).current,n=f.useRef({editor:e}).current,r=f.useCallback((e=>{n.editor=e,t.forEach((t=>t(e)))}),[t,n]);return{selectorContext:f.useMemo((()=>({getSlate:()=>n.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,n]),onChange:r}}var hEt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],pEt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:i,onValueChange:o,initialValue:a}=e,s=D0(e,hEt),[l,u]=Ke.useState((()=>{if(!Re.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(ua.stringify(a)));if(!V.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(ua.stringify(t)));return t.children=a,Object.assign(t,s),{v:0,editor:t}})),{selectorContext:c,onChange:d}=fEt(t),p=f.useCallback((e=>{var n;if("set_selection"===(r&&r(t.children),null==e||null===(n=e.operation)||void 0===n?void 0:n.type))i?.(t.selection);else o?.(t.children);u((e=>({v:e.v+1,editor:t}))),d(t)}),[t,d,r,i,o]);f.useEffect((()=>(FM.set(t,p),()=>{FM.set(t,(()=>{}))})),[t,p]);var[h,m]=f.useState(Se.isFocused(t));return f.useEffect((()=>{m(Se.isFocused(t))}),[t]),qb((()=>{var e=()=>m(Se.isFocused(t));return g1e>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),Ke.createElement(dEt.Provider,{value:c},Ke.createElement(M1e.Provider,{value:l},Ke.createElement(C8.Provider,{value:l.editor},Ke.createElement(cEt.Provider,{value:h},n))))},$q=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Pq=(e,t,n)=>{var r=Se.toDOMRange(e,t).getBoundingClientRect(),i=Se.toDOMRange(e,n).getBoundingClientRect();return $q(r,i)&&$q(i,r)},mEt=(e,t)=>{var n=V.range(e,ge.end(t)),r=Array.from(V.positions(e,{at:t})),i=0,o=r.length,a=Math.floor(o/2);if(Pq(e,V.range(e,r[i]),n))return V.range(e,r[i],n);if(r.length<2)return V.range(e,r[r.length-1],n);for(;a!==r.length&&a!==i;)Pq(e,V.range(e,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return V.range(e,r[o],n)};function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fq(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gEt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",n=e,{apply:r,onChange:i,deleteBackward:o,addMark:a,removeMark:s}=n;return FT.set(n,new WeakMap),n.addMark=(e,t)=>{var r,i;null===(r=_8.get(n))||void 0===r||r(),!Ol.get(n)&&null!==(i=Ro.get(n))&&void 0!==i&&i.length&&Ol.set(n,null),Pc.delete(n),a(e,t)},n.removeMark=e=>{var t;!Ol.get(n)&&null!==(t=Ro.get(n))&&void 0!==t&&t.length&&Ol.set(n,null),Pc.delete(n),s(e)},n.deleteBackward=e=>{if("line"!==e)return o(e);if(n.selection&&ge.isCollapsed(n.selection)){var t=V.above(n,{match:e=>Ge.isElement(e)&&V.isBlock(n,e),at:n.selection});if(t){var[,r]=t,i=V.range(n,r,n.selection.anchor),a=mEt(n,i);ge.isCollapsed(a)||ce.delete(n,{at:a})}}},n.apply=t=>{var i=[],o=[],a=Ro.get(n);if(null!=a&&a.length){var s=a.map((e=>ySt(e,t))).filter(Boolean);Ro.set(n,s)}var l=tf.get(n);l&&tf.set(n,_q(n,l,t));var u=ef.get(n);if(null!=u&&u.at){var c=Ft.isPoint(u?.at)?BM(n,u.at,t):_q(n,u.at,t);ef.set(n,c?Lq(Lq({},u),{},{at:c}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...ng(n,t.path));break;case"set_selection":var d;null===(d=ob.get(n))||void 0===d||d.unref(),ob.delete(n);break;case"insert_node":case"remove_node":i.push(...ng(n,se.parent(t.path)));break;case"merge_node":var f=se.previous(t.path);i.push(...ng(n,f));break;case"move_node":var p,h=se.common(se.parent(t.path),se.parent(t.newPath));i.push(...ng(n,h)),se.isBefore(t.path,t.newPath)?(i.push(...ng(n,se.parent(t.path))),p=t.newPath):(i.push(...ng(n,se.parent(t.newPath))),p=t.path);var m=Re.get(e,se.parent(p)),g=Se.findKey(n,m),y=V.pathRef(n,se.parent(p));o.push([y,g])}for(var[v,b]of(r(t),i)){var[x]=V.node(n,v);x_.set(x,b)}for(var[w,C]of o)if(w.current){var[k]=V.node(n,w.current);x_.set(k,C)}},n.setFragmentData=e=>{var{selection:r}=n;if(r){var[i,o]=ge.edges(r),a=V.void(n,{at:i.path}),s=V.void(n,{at:o.path});if(!ge.isCollapsed(r)||a){var l=Se.toDOMRange(n,r),u=l.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)})),s){var[d]=s,f=l.cloneRange(),p=Se.toDOMNode(n,d);f.setEndAfter(p),u=f.cloneContents()}if(a&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),w1e(c)){var h=c.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(c),u.appendChild(h),c=h}var m=n.getFragment(),g=JSON.stringify(m),y=window.btoa(encodeURIComponent(g));c.setAttribute("data-slate-fragment",y),e.setData("application/".concat(t),y);var v=u.ownerDocument.createElement("div");return v.appendChild(u),v.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(v),e.setData("text/html",v.innerHTML),e.setData("text/plain",S1e(v)),u.ownerDocument.body.removeChild(v),e}}},n.insertData=e=>{n.insertFragmentData(e)||n.insertTextData(e)},n.insertFragmentData=e=>{var r=e.getData("application/".concat(t))||cSt(e);if(r){var i=decodeURIComponent(window.atob(r)),o=JSON.parse(i);return n.insertFragment(o),!0}return!1},n.insertTextData=e=>{var t=e.getData("text/plain");if(t){var r=t.split(/\r\n|\r|\n/),i=!1;for(var o of r)i&&ce.splitNodes(n,{always:!0}),n.insertText(o),i=!0;return!0}return!1},n.onChange=e=>{(g1e<18?kTe.unstable_batchedUpdates:e=>e())((()=>{var t=FM.get(n);t&&t(e),i(e)}))},n},ng=(e,t)=>{var n=[];for(var[r,i]of V.levels(e,{at:t})){var o=Se.findKey(e,r);n.push([i,o])}return n},zM={exports:{}};function vEt(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var o;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a,s=Number(new Date),l=s-(o||s);i.diff=l,i.prev=o,i.curr=s,o=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;u++;var o=n.formatters[r];if("function"==typeof o){var a=t[u];e=o.call(i,a),t.splice(u,1),u--}return e})),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=i,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+(typeof t>"u"?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];var t,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=Kme(),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}var yEt=vEt;!function(e,t){var n={};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===(typeof console>"u"?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=n.DEBUG),e},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=yEt(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(zM,zM.exports);var bEt=zM.exports;const Ey=Be(bEt);var xEt=q6,wEt=k1,CEt=Bk,Nq=sl,SEt=cm;function EEt(e,t,n,r){if(!Nq(e))return e;for(var i=-1,o=(t=wEt(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=SEt(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Nq(c)?c:CEt(t[i+1])?[]:{})}xEt(s,l,u),s=s[l]}return e}var _Et=EEt,kEt=Yx,TEt=_Et,AEt=k1;function jEt(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=kEt(e,a);n(s,a)&&TEt(o,AEt(a,e),s)}return o}var P1e=jEt,IEt=P1e,DEt=Cfe;function OEt(e,t){return IEt(e,t,(function(t,n){return DEt(e,n)}))}var REt=OEt,MEt=REt,$Et=LN,PEt=$Et((function(e,t){return null==e?{}:MEt(e,t)})),FEt=PEt;const Bt=Be(FEt);var LEt=function(e){return null==e?[]:Array.isArray(e)?e:[e]};const z1=Be(LEt);function NEt(e){return void 0===e}var BEt=NEt;const F1e=Be(BEt);var VEt="Expected a function";function zEt(e){if("function"!=typeof e)throw new TypeError(VEt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var L1e=zEt;const UEt=Be(L1e);var HEt=Wu,WEt=Jf,GEt=P1e,YEt=X6;function qEt(e,t){if(null==e)return{};var n=HEt(YEt(e),(function(e){return[e]}));return t=WEt(t),GEt(e,n,(function(e,n){return t(e,n[0])}))}var KEt=qEt,ZEt=Jf,XEt=L1e,JEt=KEt;function QEt(e,t){return JEt(e,XEt(ZEt(t)))}var e_t=QEt;const N1e=Be(e_t);var t_t=Ei;function n_t(){if(!arguments.length)return[];var e=arguments[0];return t_t(e)?e:[e]}var r_t=n_t;const mw=Be(r_t);var i_t=Wu,a_t=Jf,o_t=_fe,s_t=Ei;function l_t(e,t){return(s_t(e)?i_t:o_t)(e,a_t(t))}var u_t=l_t,c_t=C1,d_t=u_t;function f_t(e,t){return c_t(d_t(e,t),1)}var h_t=f_t;const p_t=Be(h_t);function m_t(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}var g_t=m_t;function v_t(e){return function(t){return e?.[t]}}var B1e=v_t,y_t=B1e,b_t={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},x_t=y_t(b_t),w_t=x_t,C_t=w_t,S_t=dl,E_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,__t="\\u0300-\\u036f",k_t="\\ufe20-\\ufe2f",T_t="\\u20d0-\\u20ff",A_t=__t+k_t+T_t,j_t="["+A_t+"]",I_t=RegExp(j_t,"g");function D_t(e){return(e=S_t(e))&&e.replace(E_t,C_t).replace(I_t,"")}var V1e=D_t;const R0=Be(V1e);var O_t=g_t,R_t=V1e,M_t=qge,$_t="[']",P_t=RegExp($_t,"g");function F_t(e){return function(t){return O_t(M_t(R_t(t).replace(P_t,"")),e,"")}}var A8=F_t,L_t=A8,N_t=ZN,B_t=L_t((function(e,t,n){return e+(n?" ":"")+N_t(t)})),V_t=B_t;const Tn=Be(V_t);var z_t=Wu,U_t=K6,H_t=Ei,W_t=tm,G_t=rfe,Y_t=cm,q_t=dl;function K_t(e){return H_t(e)?z_t(e,Y_t):W_t(e)?[e]:U_t(G_t(q_t(e)))}var Z_t=K_t;const X_t=Be(Z_t),bo=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],Bq=[...bo],uD={name:"any",type:null,jsonType:"any"},J_t={get:()=>uD,extend:(e,t)=>function e(t){return{get:()=>t,extend:n=>{if(n.of)throw new Error('Cannot override `of` property of subtypes of "array"');const r=Object.assign({},t,Bt(n,Bq),{type:t});return e(r)}}}(Object.assign(Bt(uD,Bq),e,{type:uD,of:e.of.map((e=>({name:e.name,type:t(pa(e,"name"))})))}))};function _r(e,t,n,r={}){return Object.defineProperty(e,t,{configurable:!0,enumerable:!1!==r.enumerable,get(){const i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}const Vq=[...bo],cD={name:"array",type:null,jsonType:"array",of:[]},Q_t={get:()=>cD,extend(e,t){const n=Object.assign(Bt(cD,Vq),e,{type:cD});return _r(n,"of",(()=>e.of.map((e=>t(e))))),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw new Error('Cannot override `of` property of subtypes of "array"');const r=Object.assign({},t,Bt(n,Vq),{type:t});return e(r)}}}(n)}};function e5t(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.\nPlease move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "${e.name}".\n`)}function t5t(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn(`Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "${e.name}".\n`)}function n5t(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function UM(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(0===e.length)return"[empty]";const r=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map(((e,r)=>UM(e,t,n+1))).concat(r>0?`+${r}`:[]).join(", ");return 0===n?i:`[${i}]`}if("object"==typeof e&&null!==e){const r=Object.keys(e).filter((n=>!t.ignoreKeys.includes(n)&&typeof e[n]<"u"));if(n5t(Bt(e,r)))return"{empty}";const i=r.slice(0,t.maxBreadth).map((r=>`${r}: ${UM(e[r],t,n+1)}`)).join(", ");return 0===n?i:`{${i}}`}const r=String(e);return""===r?'""':r}function r5t(e,t={}){return UM(e,{maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]},0)}const i5t={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function a5t(e){return t=>({title:r5t(Bt(t,e),i5t)})}function o5t(e){return"array"===e.type&&e.of&&e.of.some((e=>"block"===e.type))||!1}const z1e=["title","name","label","heading","header","caption"],s5t=["description",...z1e];function U1e(e,t){return z1(e.to||[]).some((e=>e.type===t))}function zq(e){return U1e(e,"sanity.imageAsset")}function l5t(e){const t=e.fields||[],n=t.find(zq);if(n)return n.name;const r=t.find((e=>(e.fields||[]).some(zq)));return r?`${r.name}.asset`:void 0}function Uq(e){return U1e(e,"sanity.fileAsset")}function u5t(e){const t=e.fields||[],n=t.find(Uq);if(n)return n.name;const r=t.find((e=>(e.fields||[]).some(Uq)));return r?`${r.name}.asset`:void 0}function c5t(e){const t={fields:[],...e},n=t.fields.filter((e=>"string"===e.type)).map((e=>e.name)),r=t.fields.filter(o5t).map((e=>e.name));let i=z1e.find((e=>n.includes(e)||r.includes(e))),o=s5t.find((e=>e!==i&&(n.includes(e)||r.includes(e))));i||(i=n[0]||r[0],o=n[1]||r[1]);const a=t.fields.find((e=>"image"===e.type)),s=l5t(t);if(!i){const e=u5t(t);e&&(i=`${e}.originalFilename`),s&&(i=`${s}.originalFilename`)}if(!i&&!s){const e=t.fields.map((e=>e.name));return{select:e.reduce(((e,t)=>(e[t]=t,e)),{}),prepare:a5t(e)}}return{select:N1e({title:i,description:o,media:a?a.name:s},F1e)}}function d5t(e){return e.reduce(((e,t)=>(e[t]=t,e)),{})}function f5t(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Bt(e,["prepare","component"]),select:d5t(t)}:{...Bt(e,["prepare","component"]),select:t}}function gw(e){return function(){return e5t(e),t5t(e),f5t(e.preview||(e.options||{}).preview)||c5t(e)}}const h5t={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},p5t={type:"text",name:"text",title:"Text"},m5t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},Hq={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},g5t=[Hq.bullet,Hq.numbered],bc={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},v5t=[bc.normal,bc.h1,bc.h2,bc.h3,bc.h4,bc.h5,bc.h6,bc.blockquote],y5t={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},b5t={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},x5t={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},w5t={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},C5t={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},Lv={strong:y5t,em:b5t,code:x5t,underline:w5t,strikeThrough:C5t},S5t=[Lv.strong,Lv.em,Lv.code,Lv.underline,Lv.strikeThrough],Wq=["type","name","title","jsonType","description","options","fieldsets","icon"],dD={name:"block",title:"Block",type:null,jsonType:"object"},E5t={},_5t={get:()=>dD,extend(e,t){const n={...e.options||E5t},{marks:r,styles:i,lists:o,of:a,...s}=e,l=[j5t(r,a),T5t(i),A5t(o),{name:"markDefs",title:"Mark definitions",type:"array",of:r?.annotations||H1e},{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),u=Object.assign(Bt(dD,Wq),s,{type:dD,options:n});return _r(u,"fields",(()=>l.map((e=>{const{name:n,...r}=e;return{name:n,type:t(r)}})))),_r(u,"preview",gw(e)),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const r=Object.assign({},t,Bt(n,Wq),{type:t});return e(r)}}}(u)}};function k5t(e){return e.some((e=>"normal"===e.value))?e:[bc.normal,...e]}function T5t(e){return{name:"style",title:"Style",type:"string",options:{list:k5t(e||v5t)}}}function A5t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||g5t}}}const H1e=[h5t];function j5t(e,t=[]){return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[p5t,m5t],annotations:e&&e.annotations?e.annotations:H1e,decorators:e&&e.decorators?e.decorators:S5t},...t.filter((e=>"span"!==e.type))]}}const Gq=["type","name","title","jsonType","description","options","fieldsets","icon"],fD={name:"span",title:"Span",type:null,jsonType:"object"},I5t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},D5t={name:"text",title:"Text",type:"string"},O5t={},R5t={get:()=>fD,extend(e,t){const n={...e.options||O5t},{annotations:r=[],marks:i=[]}=e,o=[I5t,D5t],a=Object.assign(Bt(fD,Gq),e,{type:fD,options:n});return _r(a,"fields",(()=>o.map((e=>{const{name:n,...r}=e;return{name:n,type:t(r)}})))),_r(a,"annotations",(()=>r.map(t))),_r(a,"marks",(()=>i.map(t))),_r(a,"preview",gw(e)),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const r=Object.assign({},t,Bt(n,Gq),{type:t});return e(r)}}}(a)}};var rh={prepare:e=>({title:String(e)})};const Yq=[...bo],hD={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},M5t={get:()=>hD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,Yq),{type:t});return e(r)}}}(Object.assign(Bt(hD,Yq),e,{type:hD,preview:rh}))},$5t={name:"_ref",title:"Referenced document ID",type:"string"},P5t={name:"_weak",title:"Weak reference marker",type:"boolean"},F5t={name:"_dataset",title:"Target dataset",type:"string"},L5t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},N5t=[$5t,P5t,F5t,L5t],qq=[...bo],pD={name:"crossDatasetReference",type:null,jsonType:"object"};function B5t(e,t){const n=e.length;if(1===n)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function V5t(e){return e.to&&0!==e.to.length?`Cross dataset reference to ${B5t(z1(e.to).map((e=>e.title||ym(e.type))),"or").toLowerCase()}`:"Cross dataset Reference"}const z5t={get:()=>pD,extend(e,t){if(!e.to)throw new Error(`Missing "to" field in cross dataset reference definition. Check the type ${e.name}`);const n=Object.assign(Bt(pD,qq),e,{type:pD});return _r(n,"fields",(()=>N5t.map((e=>{const{name:n,...r}=e;return{name:n,type:t(r)}})))),_r(n,"to",(()=>z1(e.to).map((e=>({...e,__experimental_search:wdt(e)}))))),_r(n,"title",(()=>e.title||V5t(n))),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw new Error('Cannot override `of` of subtypes of "reference"');const r=Object.assign({},t,Bt(n,qq),{type:t});return e(r)}}}(n)}},Kq=[...bo],mD={name:"date",title:"Datetime",type:null,jsonType:"string"},U5t={get:()=>mD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,Kq),{type:t});return e(r)}}}(Object.assign(Bt(mD,Kq),e,{type:mD,preview:rh}))},Zq=[...bo],gD={name:"datetime",title:"Datetime",type:null,jsonType:"string"},H5t={get:()=>gD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,Zq),{type:t});return e(r)}}}(Object.assign(Bt(gD,Zq),e,{type:gD,preview:rh}))},W5t=["title","name","label","heading","header","caption","description"],G5t=["string","boolean","number"],Xq=e=>G5t.includes(e.type);function Y5t(e){let t=W5t.filter((t=>e.fields.some((e=>Xq(e)&&e.name===t))));return 0===t.length&&(t=e.fields.filter(Xq).map((e=>e.name))),t.map((e=>({name:e,i18n:{title:{key:`default-orderings.${e}`,ns:"studio"}},title:ym(Tn(e)),by:[{field:e,direction:"asc"}]})))}function Jq(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map((e=>{if("defaults"===e)return e;if(!ar(e))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in e?e.weight:1,path:X_t(e.path),mapWith:"string"==typeof e.mapWith?e.mapWith:void 0}}))}const Qq=[...bo,"orderings","__experimental_search","blockEditor","icon"],W1e={get:()=>({name:"object",title:"Object",type:null,jsonType:"object"}),extend(e,t){const n={fields:[],...e},r={...n.options||{}},i=Object.assign(Bt(this.get(),Qq),n,{type:this.get(),title:n.title||(n.name?Tn(n.name):"Object"),options:r,orderings:n.orderings||Y5t(n),fields:n.fields.map((e=>{const{name:n,fieldset:r,group:i,...o}=e;return _r({name:n,group:i,fieldset:r},"type",(()=>t({...o,title:e.title||Tn(n)})))}))});return _r(i,"fieldsets",(()=>NT(n,i.fields))),_r(i,"groups",(()=>q5t(n,i.fields))),_r(i,"preview",gw(n)),_r(i,"__experimental_search",(()=>{const e=n.__experimental_search?Jq(n.__experimental_search):null;return e?e.map((e=>"defaults"===e?Jq(n):e)):Cdt(i)}),{enumerable:!1}),function e(t){return{get:()=>t,extend:r=>{if(r.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const i=Object.assign({},t,Bt(r,Qq),{title:r.title||n.title||(n.name?Tn(n.name):"Object"),type:t});return _r(i,"__experimental_search",(()=>t.__experimental_search)),e(i)}}}(i)}};function NT(e,t){const n={};for(const t of e.fieldsets||[]){if(n[t.name])throw new Error(`Duplicate fieldset name "${t.name}" found for type '${e.title?e.title:Tn(e.name)}'`);n[t.name]={title:Tn(t.name),...t,fields:[]}}const r=new Set;for(const i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}const t=n[i.fieldset];if(!t)throw new Error(`Fieldset '${i.fieldset}' is not defined in schema for type '${e.name}'`);t.fields.push(i),r.add(t)}return Array.from(r)}function q5t(e,t){const n={};let r=0;for(const t of e.groups||[]){if(n[t.name])throw new Error(`Duplicate group name "${t.name}" found for type '${e.title?e.title:Tn(e.name)}'`);if(n[t.name]={title:Tn(t.name),...t,fields:[]},t.default&&++r>1)throw new Error(`More than one field group defined as default for type '${e.title?e.title:Tn(e.name)}' - only 1 is supported`)}return t.forEach((t=>{const r=mw(t.group||[]);0!==r.length&&r.forEach((r=>{const i=n[r];if(!i)throw new Error(`Field group '${r}' is not defined in schema for type '${e.title?e.name:Tn(e.name)}'`);i.fields.push(t)}))})),p_t(n).filter((e=>e.fields.length>0))}const K5t={name:"document",title:"Document",type:null,jsonType:"object"},Z5t={get:()=>K5t,extend:W1e.extend},eK=[...bo],vD={name:"email",title:"Email",type:null,jsonType:"string"},X5t={get:()=>vD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,eK),{type:t});return e(r)}}}(Object.assign(Bt(vD,eK),e,{type:vD,preview:rh}))},J5t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},tK=[...bo],ZC={name:"file",title:"File",type:null,jsonType:"object"},Q5t={accept:""},ekt={get:()=>ZC,extend(e,t){const n={...e.options||Q5t},r=[J5t,...e.fields||[]],i={...e,fields:r},o=Object.assign(Bt(ZC,tK),i,{type:ZC,title:i.title||(i.name?Tn(i.name):ZC.title),options:n,fields:i.fields.map((n=>{const{name:r,fieldset:i,...o}=n;return _r({name:r,fieldset:i,isCustomized:!!e.fields},"type",(()=>t({...o,title:n.title||Tn(r)})))}))});return _r(o,"fieldsets",(()=>NT(i,o.fields))),_r(o,"preview",gw(Object.assign({},i,{fields:r}))),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const r=Object.assign({},t,Bt(n,tK),{type:t});return e(r)}}}(o)}},tkt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},nkt={name:"hotspot",type:"sanity.imageHotspot"},rkt={name:"crop",type:"sanity.imageCrop"},nK=[...bo],yD={name:"image",title:"Image",type:null,jsonType:"object"},ikt={},akt={get:()=>yD,extend(e,t){const n={...e.options||ikt};let r=[nkt,rkt];n.hotspot||(r=r.map((e=>({...e,hidden:!0}))));const i=[tkt,...r,...e.fields||[]],o={...e,fields:i},a=Object.assign(Bt(this.get(),nK),o,{type:yD,title:o.title||(o.name?Tn(o.name):yD.title),options:n,fields:o.fields.map((n=>{const{name:r,fieldset:i,...o}=n;return _r({name:r,fieldset:i,isCustomized:!!e.fields},"type",(()=>t({...o,title:n.title||Tn(r)})))}))});return _r(a,"fieldsets",(()=>NT(o,a.fields))),_r(a,"preview",gw(Object.assign({},o,{fields:i}))),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const r=Object.assign({},t,Bt(n,nK),{type:t});return e(r)}}}(a)}},rK=[...bo],bD={name:"number",title:"Number",type:null,jsonType:"number"},okt={get:()=>bD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,rK),{type:t});return e(r)}}}(Object.assign(Bt(bD,rK),e,{type:bD,preview:rh}))},skt={name:"_ref",title:"Referenced document ID",type:"string"},lkt={name:"_weak",title:"Weak reference",type:"boolean"},ukt=[skt,lkt],iK=[...bo],xD={name:"reference",title:"Reference",type:null,jsonType:"object"};function ckt(e,t){const n=e.length;if(1===n)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function dkt(e){return e.to&&0!==e.to.length?`Reference to ${ckt(z1(e.to).map((e=>e.title)),"or").toLowerCase()}`:"Reference"}const fkt={get:()=>xD,extend(e,t){if(!e.to)throw new Error(`Missing "to" field in reference definition. Check the type ${e.name}`);const n=Object.assign(Bt(xD,iK),e,{type:xD});return _r(n,"fields",(()=>ukt.map((e=>{const{name:n,...r}=e;return{name:n,type:t(r)}})))),_r(n,"fieldsets",(()=>NT(e,n.fields))),_r(n,"to",(()=>z1(e.to).map((e=>t(e))))),_r(n,"title",(()=>e.title||dkt(n))),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw new Error('Cannot override `of` of subtypes of "reference"');const r=Object.assign({},t,Bt(n,iK),{type:t});return e(r)}}}(n)}},aK=[...bo],wD={name:"string",title:"String",type:null,jsonType:"string"},hkt={get:()=>wD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,aK),{type:t});return e(r)}}}(Object.assign(Bt(wD,aK),e,{type:wD,preview:rh}))},oK=[...bo,"rows"],CD={name:"text",title:"Text",type:null,jsonType:"string"},pkt={get:()=>CD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,oK),{type:t});return e(r)}}}(Object.assign(Bt(CD,oK),e,{type:CD,preview:rh}))},sK=[...bo],SD={name:"url",title:"Url",type:null,jsonType:"string"},mkt={get:()=>SD,extend:e=>function e(t){return{get:()=>t,extend:n=>{const r=Object.assign({},t,Bt(n,sK),{type:t});return e(r)}}}(Object.assign(Bt(SD,sK),e,{type:SD,preview:rh}))};var gkt=Object.freeze({__proto__:null,any:J_t,array:Q_t,block:_5t,boolean:M5t,crossDatasetReference:z5t,date:U5t,datetime:H5t,document:Z5t,email:X5t,file:ekt,image:akt,number:okt,object:W1e,reference:fkt,span:R5t,string:hkt,text:pkt,url:mkt}),vkt=Object.defineProperty,ykt=(e,t,n)=>t in e?vkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lK=(e,t,n)=>ykt(e,"symbol"!=typeof t?t+"":t,n);function bkt(e){const t=Object.assign(Object.create(null),gkt),n=e.types.reduce(((e,t)=>{if(e[t.name])throw new Error(`Duplicate type name added to schema: ${t.name}`);return e[t.name]=t,e}),{});return e.types.forEach(o),t;function r(e){if(!t[e]){if(!n[e])throw new Error(`Unknown type: ${e}`);o(n[e])}}function i(e){return r(e.type),t[e.type].extend(e,i).get()}function o(e){r(e.type),!t[e.name]&&(t[e.name]=t[e.type].extend(e,i))}}let xkt=class e{constructor(e){lK(this,"_original"),lK(this,"_registry"),this._original=e,this._registry=bkt(e)}static compile(t){return new e(t)}get name(){return this._original.name}get(e){return this._registry[e]&&this._registry[e].get()}has(e){return e in this._registry}getTypeNames(){return Object.keys(this._registry)}};const j8=xkt;var wkt=vd,Ckt=Ei,Skt=bs,Ekt="[object String]";function _kt(e){return"string"==typeof e||!Ckt(e)&&Skt(e)&&wkt(e)==Ekt}var kkt=_kt;const BT=Be(kkt);var Tkt=W0e;function Akt(e){var t=Tkt(e),n=t%1;return t==t?n?t-n:t:0}var jkt=Akt,Ikt=Ame,Dkt=Jf,Okt=jkt,Rkt=Math.max;function Mkt(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Okt(n);return i<0&&(i=Rkt(r+i,0)),Ikt(e,Dkt(t),i)}var Y1e=Mkt;const I8=Be(Y1e);var $kt=eN,Pkt=4;function Fkt(e){return $kt(e,Pkt)}var Lkt=Fkt;const q1e=Be(Lkt);function D8(e){return e.type?D8(e.type):"block"===e.name}const Nkt=Object.prototype.toString;function K1e(e){switch(Nkt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}function OS(e){return!!e&&("object"==typeof e||"function"==typeof e)}function w_(e){return OS(e)&&"string"==typeof e._type&&Array.isArray(e.children)&&e.children.every((e=>OS(e)))&&(!("markDefs"in e)||Array.isArray(e.markDefs)&&e.markDefs.every((e=>OS(e))))&&(!("style"in e)||"string"==typeof e.style)}function ED(e){return OS(e)&&"span"===e._type&&"string"==typeof e.text&&(!("marks"in e)||Array.isArray(e.marks)&&e.marks.every((e=>"string"==typeof e)))}function id(e){return!!e&&("object"==typeof e||"function"==typeof e)}function uK(e){return!!id(e)&&"object"===e.jsonType}function Bkt(e){return!!id(e)&&"array"===e.jsonType}function Vkt(e){return"object"==typeof e&&null!==e&&"title"in e&&"value"in e}function zkt(e){return!!id(e)&&(Array.isArray(e.annotations)&&Array.isArray(e.decorators))}function Ukt(e){if(!id(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(GM),n=e.fields.find(HM),r=e.fields.find(WM);return GM(t)&&HM(n)&&WM(r)}function HM(e){return!(!id(e)||"style"!==e.name)&&(id(e.type)&&"string"===e.type.jsonType)}function WM(e){return!(!id(e)||"listItem"!==e.name)&&(id(e.type)&&"string"===e.type.jsonType)}function GM(e){return!(!id(e)||"children"!==e.name||!Bkt(e.type))&&e.type.of.some(zkt)}var Z1e={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},X1e={0:8203,1:8204,2:8205,3:65279};new Array(4).fill(String.fromCodePoint(X1e[0])).join(""),Object.fromEntries(Object.entries(X1e).map((e=>e.reverse()))),Object.fromEntries(Object.entries(Z1e).map((e=>e.reverse())));var Hkt=`${Object.values(Z1e).map((e=>`\\u{${e.toString(16)}}`)).join("")}`,cK=new RegExp(`[${Hkt}]{4,}`,"gu");function Wkt(e){var t;return{cleaned:e.replace(cK,""),encoded:(null==(t=e.match(cK))?void 0:t[0])||""}}function Gkt(e){return e&&JSON.parse(Wkt(JSON.stringify(e)).cleaned)}const Ykt=["pre","textarea","code"],vw="normal",Po=Object.freeze({_type:"block",markDefs:[],style:vw}),pf=Object.freeze({_type:"span",marks:[]}),C_={p:Po,blockquote:{...Po,style:"blockquote"}},J1e={span:{object:"text"}},S_={ol:{object:null},ul:{object:null}},E_={h1:{...Po,style:"h1"},h2:{...Po,style:"h2"},h3:{...Po,style:"h3"},h4:{...Po,style:"h4"},h5:{...Po,style:"h5"},h6:{...Po,style:"h6"}},qkt={br:{...Po,style:vw}},Q1e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},eve={li:{...Po,style:vw,level:1,listItem:"bullet"}},Kkt={...C_,...J1e,...S_,...eve,...E_,...qkt};function Zkt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(D8);if(!Ukt(r))throw new Error("'block' type is not defined in this schema (required).");const i=null==(n=null==(t=r.fields.find(GM))?void 0:t.type)?void 0:n.of;if(!i)throw new Error("No `of` declaration found for blocks `children` field");const o=i.find((e=>"span"===e.name));if(!o)throw new Error("No `span` type found in `block` schema type `children` definition");const a=i.filter((e=>"span"!==e.name&&uK(e))),s=e.of.filter((e=>e.name!==r.name&&uK(e)));return{styles:Xkt(r),decorators:Qkt(o),annotations:Jkt(o),lists:eTt(r),types:{block:e,span:o,inlineObjects:a,blockObjects:s}}}function Xkt(e){const t=e.fields.find(HM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=tve(t.type.options);if(0===n.length)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function Jkt(e){return e.annotations.map((e=>({title:e.title,type:e,value:e.name,icon:e.icon})))}function Qkt(e){return e.decorators}function eTt(e){const t=e.fields.find(WM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=tve(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function tve(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map((e=>Vkt(e)?e:{title:e,value:e})):[]}Fi(Object.values(Kkt).filter((e=>"style"in e)).map((e=>e.style))),Fi(Object.values(Q1e));const Nf={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var tTt=(e,t,n)=>{var r;const i=n?.unstable_whitespaceOnPasteMode||"preserve";let o=t.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',t,null,Nf.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(o){const e="b"===en(o);switch(e||(o=t.body),i){case"normalize":YM(o);break;case"remove":STt(o)}const n=t.evaluate("//*",t,null,Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let r=n.snapshotLength-1;r>=0;r--){const i=n.snapshotItem(r);i?.setAttribute("data-is-google-docs","true"),(i?.parentElement===o||!e&&i.parentElement===t.body)&&(i?.setAttribute("data-is-root-node","true"),en(i)),"li"===en(i)&&i.firstChild&&"img"===en(i?.firstChild)&&i.removeChild(i.firstChild)}return e&&(null==(r=t.body.firstElementChild)||r.replaceWith(...Array.from(o.childNodes))),t}return t};const nTt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var rTt=(e,t)=>{var n,r,i;const o=t.evaluate("/html/body/text()",t,null,Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=o.snapshotLength-1;e>=0;e--){const i=o.snapshotItem(e),a=i.textContent||"";if(a.replace(/[^\S\n]+$/g,"")){const e=t.createElement("span");e.appendChild(t.createTextNode(a)),null==(n=i.parentNode)||n.replaceChild(e,i)}else null==(r=i.parentNode)||r.removeChild(i)}const a=t.evaluate(nTt.join("|"),t,null,Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=a.snapshotLength-1;e>=0;e--){const t=a.snapshotItem(e);t&&(null==(i=t.parentNode)||i.removeChild(t))}return t},iTt=(e,t)=>{if(e.match(/<!-- notionvc:.*?-->/g)){const e=t.evaluate("//*",t,null,Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let t=e.snapshotLength-1;t>=0;t--){const n=e.snapshotItem(t);n?.setAttribute("data-is-notion","true")}return t}return t},aTt=(e,t)=>(function e(t){var n,r;if(t.nodeType!==Nf.BOOLEAN_TYPE||Ykt.includes((null==(n=t.parentElement)?void 0:n.tagName.toLowerCase())||""))for(let n=0;n<t.childNodes.length;n++)e(t.childNodes[n]);else t.textContent=(null==(r=t.textContent)?void 0:r.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||""}(t.body),t);const oTt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,sTt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],lTt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],uTt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function cTt(e){return oTt.test(e)}var dTt=(e,t)=>{var n;if(!cTt(e))return t;const r=t.evaluate(sTt.join("|"),t,(e=>"o"===e?"urn:schemas-microsoft-com:office:office":null),Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=r.snapshotLength-1;e>=0;e--){const t=r.snapshotItem(e);null!=t&&t.parentNode&&t.parentNode.removeChild(t)}const i=t.evaluate(lTt.join("|"),t,null,Nf.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=i.snapshotLength-1;e>=0;e--){const t=i.snapshotItem(e),r=uTt[t.className],o=new Text(t.textContent||"");if(!r)continue;const a=document.createElement(r[0]);let s=a,l=a;r.slice(1).forEach((e=>{l=document.createElement(e),s.appendChild(l),s=l})),l.appendChild(o),null==(n=t?.parentNode)||n.replaceChild(a,t)}return t},fTt=[aTt,iTt,dTt,tTt,rTt];function hTt(e){const t=Zkt(e);return{enabledBlockStyles:t.styles.map((e=>e.value||e.title)),enabledSpanDecorators:t.decorators.map((e=>e.value||e.title)),enabledBlockAnnotations:t.annotations.map((e=>e.value||e.title||"")),enabledListTypes:t.lists.map((e=>e.value||e.title||""))}}function en(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function pTt(e,t,n){const r=Gkt(e),i=t(mTt(r));return fTt.forEach((e=>{e(r,i,n)})),i}function mTt(e){return e.trim()}function gTt(){if("undefined"===K1e(DOMParser))throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>(new DOMParser).parseFromString(e,"text/html")}function vTt(e){let t=0;const n=[],r=e=>{const i=[];e.forEach((e=>{0===t&&n.push(e),w_(e)&&(t>0&&(i.push(e),n.push(e)),t++,r(e.children)),"__block"===e._type&&(i.push(e),n.push(e.block))})),i.forEach((t=>{e.splice(e.indexOf(t),1)})),t--};return r(e),n}function yTt(e,t){const n=e.children[t+1];return n&&"span"===n._type?n:null}function bTt(e,t){const n=e.children[t-1];return n&&"span"===n._type?n:null}function dK(e){return[""," "].includes(e)}function xTt(e){return e.forEach((e=>{w_(e)&&e.children.forEach(((t,n)=>{if(!e0(t))return;const r=yTt(e,n),i=bTt(e,n);0===n&&(t.text=t.text.replace(/^[^\S\n]+/g,"")),n===e.children.length-1&&(t.text=t.text.replace(/[^\S\n]+$/g,"")),/\s/.test(t.text.slice(Math.max(0,t.text.length-1)))&&r&&e0(r)&&/\s/.test(r.text.slice(0,1))&&(t.text=t.text.replace(/[^\S\n]+$/g,"")),/\s/.test(t.text.slice(0,1))&&i&&e0(i)&&/\s/.test(i.text.slice(Math.max(0,i.text.length-1)))&&(t.text=t.text.replace(/^[^\S\n]+/g,"")),t.text||e.children.splice(n,1),i&&bt(i.marks,t.marks)&&dK(t.text)?(i.text+=" ",e.children.splice(n,1)):r&&bt(r.marks,t.marks)&&dK(t.text)&&(r.text=` ${r.text}`,e.children.splice(n,1))}))})),e}function wTt(e){return e.reduce(((e,t,n,r)=>{if("block"===t._type)return e.push(t),e;if("__block"===t._type)return e.push(t.block),e;const i=e[e.length-1];if(n>0&&!w_(r[n-1])&&w_(i))return i.children.push(t),e;const o={...Po,children:[t]};return e.push(o),e}),[])}function CTt(e){return"[object NodeList]"==Object.prototype.toString.call(e)}function e0(e){return"span"===e._type}function fK(e){return"block"===e._type}function hK(e){return"__decorator"===e._type}function pK(e){return"__annotation"===e._type}function li(e){return 1===e.nodeType}function YM(e){let t=0,n=null;const r=[];for(let i=e.firstChild;i;i=i.nextSibling){if(!li(i)){YM(i),t=0;continue}const e=i;ETt(e)?(n&&e.parentElement===n?(t++,t>1&&r.push(e)):t=1,n=e.parentElement):(YM(i),t=0)}r.forEach((e=>{var t;return null==(t=e.parentElement)?void 0:t.removeChild(e)}))}function STt(e){const t=[];(function e(n){var r,i;if(li(n)){const o=n;if("br"===en(o)&&("p"===en(o.nextElementSibling)||"p"===en(o.previousElementSibling)))return void t.push(o);if(("p"===en(o)||"br"===en(o))&&""===(null==(i=null==(r=o?.firstChild)?void 0:r.textContent)?void 0:i.trim()))return void t.push(o);for(let t=o.firstChild;t;t=t.nextSibling)e(t)}})(e),t.forEach((e=>{var t;return null==(t=e.parentElement)?void 0:t.removeChild(e)}))}function ETt(e){var t;return["p","br"].includes(en(e)||"")&&!(null!=(t=e.textContent)&&t.trim())}const nve=Object.keys(S_);function _Tt(e){const t=li(e)&&e.getAttribute("style");return/font-style\s*:\s*italic/.test(t||"")}function kTt(e){const t=li(e)&&e.getAttribute("style");return/font-weight\s*:\s*700/.test(t||"")}function TTt(e){if(!li(e)||"a"===en(e.parentNode))return!1;const t=li(e)&&e.getAttribute("style");return/text-decoration\s*:\s*underline/.test(t||"")}function ATt(e){const t=li(e)&&e.getAttribute("style");return/text-decoration\s*:\s*(?:.*line-through.*;)/.test(t||"")}function Nv(e){return li(e)&&!!e.getAttribute("data-is-google-docs")}function jTt(e){return li(e)&&!!e.getAttribute("data-is-root-node")}function ITt(e){const t=en(e.parentNode);if(!t||nve.includes(t))return"ul"===en(e.parentNode)?"bullet":"number"}function DTt(e){let t=0;if("li"===en(e)){let n=e.parentNode;for(;n;){const e=en(n);e&&nve.includes(e)&&t++,n=n.parentNode}}else t=1;return t}const OTt={...C_,...E_};function RTt(e,t){const n=en(e.firstChild),r=n&&OTt[n];return r&&t.includes(r.style)?r.style:vw}function MTt(e,t){return[{deserialize(e){if(li(e)&&"span"===en(e)&&Nv(e)){const t={...pf,marks:[],text:e.textContent};return kTt(e)&&t.marks.push("strong"),TTt(e)&&t.marks.push("underline"),ATt(e)&&t.marks.push("strike-through"),_Tt(e)&&t.marks.push("em"),t}}},{deserialize(e,n){var r;if("li"===en(e)&&Nv(e))return{...Po,listItem:ITt(e),level:DTt(e),style:RTt(e,t.enabledBlockStyles),children:n((null==(r=e.firstChild)?void 0:r.childNodes)||[])}}},{deserialize(e){var t;return"br"===en(e)&&Nv(e)&&li(e)&&e.classList.contains("apple-interchange-newline")||"br"===en(e)&&Nv(e)&&li(e)&&""===(null==(t=e?.parentNode)?void 0:t.textContent)||"br"===en(e)&&Nv(e)&&li(e)&&jTt(e)?{...pf,text:""}:void 0}}]}function $Tt(e=16){const t=new Uint8Array(e);return qN(t),t}const rve=[];for(let e=0;e<256;++e)rve[e]=(e+256).toString(16).slice(1);function qM(e){return $Tt(e).reduce(((e,t)=>e+rve[t]),"").slice(0,e)}function PTt(e,t){return"ul"===e&&t.includes("bullet")?"bullet":"ol"===e&&t.includes("number")?"number":void 0}function FTt(e,t){return[{deserialize(e){if("pre"===en(e))return;const t=(3===e.nodeType&&" "===(e.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")&&e.nextSibling&&3!==e.nextSibling.nodeType&&e.previousSibling&&3!==e.previousSibling.nodeType||" "!==e.textContent)&&"body"!==en(e.parentNode);return"#text"===e.nodeName&&t?{...pf,marks:[],text:(e.textContent||"").replace(/\s\s+/g," ")}:void 0}},{deserialize(e){if("pre"!==en(e))return;const n=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...pf,marks:n?["code"]:[],text:e.textContent||""}]}}},{deserialize(e,t){if("blockquote"!==en(e))return;const n={...C_,...E_};delete n.blockquote;const r=[];return e.childNodes.forEach(((t,i)=>{if(1===t.nodeType&&Object.keys(n).includes(t.localName.toLowerCase())){if(!e.ownerDocument)return;const n=e.ownerDocument.createElement("span");n.appendChild(e.ownerDocument.createTextNode("\r")),t.childNodes.forEach((e=>{n.appendChild(e.cloneNode(!0))})),i!==e.childNodes.length&&n.appendChild(e.ownerDocument.createTextNode("\r")),r.push(n)}else r.push(t)})),{_type:"block",style:"blockquote",markDefs:[],children:t(r)}}},{deserialize(e,n){const r={...C_,...E_},i=en(e);let o=i?r[i]:void 0;if(o)return e.parentNode&&"li"===en(e.parentNode)?n(e.childNodes):(t.enabledBlockStyles.includes(o.style)||(o=Po),{...o,children:n(e.childNodes)})}},{deserialize(e,t){const n=en(e);if(n&&n in J1e)return t(e.childNodes)}},{deserialize(e,t){if("div"===en(e))return t(e.childNodes)}},{deserialize(e,t){const n=en(e);if(n&&n in S_)return t(e.childNodes)}},{deserialize(e){if("br"===en(e))return{...pf,text:"\n"}}},{deserialize(e,n,r){const i=en(e),o=i?eve[i]:void 0,a=en(e.parentNode)||"";if(!o||!e.parentNode||!S_[a])return;const s=PTt(a,t.enabledListTypes);return s?(o.listItem=s,{...o,children:n(e.childNodes)}):r({_type:"block",children:n(e.childNodes)})}},{deserialize(e,n){const r=Q1e[en(e)||""];if(r&&t.enabledSpanDecorators.includes(r))return{_type:"__decorator",name:r,children:n(e.childNodes)}}},{deserialize(e,n){if("a"!=en(e))return;const r=t.enabledBlockAnnotations.includes("link"),i=li(e)&&e.getAttribute("href");if(!i)return n(e.childNodes);let o;return r?(o={_key:qM(12),_type:"link",href:i},{_type:"__annotation",markDef:o,children:n(e.childNodes)}):e.appendChild(e.ownerDocument.createTextNode(` (${i})`))&&n(e.childNodes)}}]}function LTt(e){const t=li(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function NTt(e){const t=li(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")||/font-weight:600/.test(t||"")}function BTt(e){const t=li(e)&&e.getAttribute("style");return/text-decoration:underline/.test(t||"")}function VTt(e){return li(e)&&!!e.getAttribute("data-is-notion")}function zTt(e){return[{deserialize(e){if(li(e)&&"span"===en(e)&&VTt(e)){const t={...pf,marks:[],text:e.textContent};return NTt(e)&&t.marks.push("strong"),BTt(e)&&t.marks.push("underline"),LTt(e)&&t.marks.push("em"),t}}}]}function UTt(e){const t=li(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function HTt(e){const t=li(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function WTt(e){return!(!li(e)||!e.className)&&("MsoListParagraphCxSpFirst"===e.className||"MsoListParagraphCxSpMiddle"===e.className||"MsoListParagraphCxSpLast"===e.className)}function GTt(){return[{deserialize(e,t){if("p"===en(e)&&WTt(e))return{...Po,listItem:UTt(e),level:HTt(e),style:vw,children:t(e.childNodes)}}}]}function YTt(e,t){return[...GTt(),...zTt(),...MTt(e,t),...FTt(e,t)]}var qTt=Object.defineProperty,KTt=(e,t,n)=>t in e?qTt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hc=(e,t,n)=>KTt(e,"symbol"!=typeof t?t+"":t,n);class ZTt{constructor(e,t={}){hc(this,"blockContentType"),hc(this,"rules"),hc(this,"parseHtml"),hc(this,"_markDefs",[]),hc(this,"deserialize",(e=>{this._markDefs=[];const{parseHtml:t}=this,n=t(e),r=Array.from(n.childNodes),i=xTt(vTt(wTt(this.deserializeElements(r))));this._markDefs.length>0&&i.filter((e=>"block"===e._type)).forEach((e=>{e.markDefs=e.markDefs||[],e.markDefs=e.markDefs.concat(this._markDefs.filter((t=>pr(e.children.map((e=>e.marks||[]))).includes(t._key))))}));const o=this.blockContentType.of.find(D8);return o?i.map((e=>("block"===e._type&&(e._type=o.name),e))):i})),hc(this,"deserializeElements",((e=[])=>{let t=[];return e.forEach((e=>{t=t.concat(this.deserializeElement(e))})),t})),hc(this,"deserializeElement",(e=>{var t,n;const r=e=>CTt(e)?this.deserializeElements(Array.from(e)):Array.isArray(e)?this.deserializeElements(e):e?this.deserializeElement(e):void 0,i=e=>({_type:"__block",block:e});let o;for(let a=0;a<this.rules.length;a++){const s=this.rules[a];if(!s.deserialize)continue;const l=s.deserialize(e,r,i),u=K1e(l);if("array"!==u&&"object"!==u&&"null"!==u&&"undefined"!==u)throw new Error(`A rule returned an invalid deserialized representation: "${o}".`);if(void 0!==l){if(null===l)throw new Error("Deserializer rule returned `null`");if(o=Array.isArray(l)?l:hK(l)?this.deserializeDecorator(l):pK(l)?this.deserializeAnnotation(l):l,l&&!Array.isArray(l)&&fK(l)&&"listItem"in l){let r=null==(t=e.parentNode)?void 0:t.parentNode;for(;r&&"li"===en(r);)r=null==(n=r.parentNode)?void 0:n.parentNode,l.level=l.level?l.level+1:1}l&&!Array.isArray(l)&&fK(l)&&"blockquote"===l.style&&l.children.forEach(((e,t)=>{e0(e)&&"\r"===e.text&&(e.text="\n\n",(0===t||t===l.children.length-1)&&l.children.splice(t,1))}));break}}return o||r(e.childNodes)||[]})),hc(this,"deserializeDecorator",(e=>{const{name:t}=e,n=e=>{if(hK(e))return this.deserializeDecorator(e);if(e0(e))e.marks=e.marks||[],e.text.trim()&&e.marks.unshift(t);else if("children"in e&&Array.isArray(e.children)){const t=e;t.children=t.children.map(n)}return e};return e.children.reduce(((e,t)=>{const r=n(t);return Array.isArray(r)?e.concat(r):(e.push(r),e)}),[])})),hc(this,"deserializeAnnotation",(e=>{const{markDef:t}=e;this._markDefs.push(t);const n=e=>{if(pK(e))return this.deserializeAnnotation(e);if(e0(e))e.marks=e.marks||[],e.text.trim()&&e.marks.unshift(t._key);else if("children"in e&&Array.isArray(e.children)){const t=e;t.children=t.children.map(n)}return e};return e.children.reduce(((e,t)=>{const r=n(t);return Array.isArray(r)?e.concat(r):(e.push(r),e)}),[])}));const{rules:n=[],unstable_whitespaceOnPasteMode:r="preserve"}=t;if(!e)throw new Error("Parameter 'blockContentType' is required");const i=YTt(e,hTt(e));this.rules=[...n,...i];const o=t.parseHtml||gTt();this.blockContentType=e,this.parseHtml=e=>pTt(e,o,{unstable_whitespaceOnPasteMode:r}).body}}function Kb(e,t={}){if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:qM(12)};const n={_key:qM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:`${n._key}0`,text:"",marks:[]}],n;const i=[],o=!(!t.allowedDecorators||!Array.isArray(t.allowedDecorators))&&t.allowedDecorators;return n.children=n.children.reduce(((e,t)=>{const i=e[e.length-1];return i&&ED(t)&&ED(i)&&bt(i.marks,t.marks)?(r&&r===t&&""===t.text&&n.children.length>1||(i.text+=t.text),e):(e.push(t),e)}),[]).map(((e,t)=>{if(!e)throw new Error("missing child");return e._key=`${n._key}${t}`,ED(e)&&(e.marks?o&&(e.marks=e.marks.filter((e=>{var t;const r=o.includes(e),i=null==(t=n.markDefs)?void 0:t.some((t=>t._key===e));return r||i}))):e.marks=[],i.push(...e.marks)),e})),n.markDefs=(n.markDefs||[]).filter((e=>i.includes(e._key))),n}function mK(e,t,n={}){return new ZTt(t,n).deserialize(e).map((e=>Kb(e)))}const KM="sanity-pte:";function fi(e){const t=`${KM}${e}`;return Ey&&Ey.enabled(t)?Ey(t):Ey(KM)}function gK(e,t,n){const r=[e.path[0]];if(!t)return null;const i=t[r[0]];if(!i)return null;const o=[{_key:i._key}];if(i._type!==n.block.name)return o;let a;const s=e.path.slice(0,2),l=Array.isArray(i.children)&&i.children[s[1]];return l&&(a=["children",{_key:l._key}]),a?[...o,...a]:o}function vK(e,t){if(!t)return[];const[n,r]=Array.from(V.nodes(t,{at:[],match:t=>Vn(e.path[0])&&t._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ge.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const i=[e.path[2]],o=n.children.findIndex((e=>bt([{_key:e._key}],i)));if(o>=0&&n.children[o]){const e=n.children[o];return Ge.isElement(e)&&t.isVoid(e)?r.concat(o).concat(0):r.concat(o)}return r}function mf(e,t,n){if(!t)return null;let r=null,i=null;const o=t.anchor&&gK(t.anchor,e,n);o&&t.anchor&&(r={path:o,offset:t.anchor.offset});const a=t.focus&&gK(t.focus,e,n);a&&t.focus&&(i={path:a,offset:t.focus.offset});const s=!(!ge.isRange(t)||!ge.isBackward(t));return r&&i?{anchor:r,focus:i,backward:s}:null}function $h(e,t){if(!e||!t)return null;const n={path:vK(e.anchor,t),offset:e.anchor.offset},r={path:vK(e.focus,t),offset:e.focus.offset};return 0===r.path.length||0===n.path.length?null:n&&r?{anchor:n,focus:r}:null}function XTt(e,t){const n=Ft.transform(e.anchor,t),r=Ft.transform(e.focus,t);return null===n||null===r?null:Ft.equals(n,e.anchor)&&Ft.equals(r,e.focus)?e:{anchor:n,focus:r}}function yK(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const i="object"==typeof e.path[0]&&"_key"in e.path[0]&&e.path[0]._key,o="object"==typeof e.path[2]&&"_key"in e.path[2]&&e.path[2]._key,a=t.find((e=>e._key===i));if(!a)return null;if(n.push({_key:a._key}),a&&"children"===e.path[1]){if(!a.children||Array.isArray(a.children)&&0===a.children.length)return null;const t=Array.isArray(a.children)&&a.children.find((e=>e._key===o));if(!t)return null;n.push("children"),n.push({_key:t._key}),r=t.text&&t.text.length>=e.offset?e.offset:t.text&&t.text.length||0}return{path:n,offset:r}}function JTt(e,t){if(!e||!t||0===t.length)return null;let n=null,r=null;const{anchor:i,focus:o}=e;return i&&t.find((e=>bt({_key:e._key},i.path[0])))&&(n=yK(i,t)),o&&t.find((e=>bt({_key:e._key},o.path[0])))&&(r=yK(o,t)),n&&r?{anchor:n,focus:r,backward:e.backward}:null}Ey(KM);const QTt=[],eAt=[],ive="void-child";function t0(e,t){const n=t[e._key];return n&&bt(e,n)?n:(t[e._key]=e,e)}function Au(e,{schemaTypes:t},n={}){return e&&Array.isArray(e)?e.map((e=>{const{_type:r,_key:i,...o}=e,a=[{_key:ive,_type:"span",text:"",marks:[]}];if(e&&e._type===t.block.name){const s=e;let l=!1;const u=typeof s.style>"u",c=typeof s.markDefs>"u",d=typeof s.children>"u",f=(s.children||[]).map((e=>{const{_type:t,_key:r,...i}=e;return"span"!==t?(l=!0,t0({_type:t,_key:r,children:a,value:i,__inline:!0},n)):e}));return u||c||d||l||!Ge.isElement(e)?(u&&(o.style=t.styles[0].value),t0({_type:r,_key:i,...o,children:f},n)):e}return t0({_type:r,_key:i,children:a,value:o},n)})):[]}function $r(e,t,n={}){return e.map((e=>{const{_key:r,_type:i}=e;if(!r||!i)throw new Error("Not a valid block");if(i===t&&"children"in e&&Array.isArray(e.children)&&r){let t=!1;const o=e.children.map((e=>{const{_type:r}=e;if("value"in e&&"span"!==r){t=!0;const{value:r,_key:i,_type:o,__inline:a,children:s,...l}=e;return t0({...l,...r,_key:i,_type:o},n)}return e}));return t?t0({...e,children:o,_key:r,_type:i},n):e}const o="value"in e&&e.value;return t0({_key:r,_type:i,..."object"==typeof o?o:{}},n)}))}function M0(e,t){var n;return void 0===e||e&&Array.isArray(e)&&0===e.length||e&&Array.isArray(e)&&1===e.length&&Ge.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&1===e[0].children.length&&Fe.isText(e[0].children[0])&&"span"===e[0].children[0]._type&&!(null!=(n=e[0].children[0].marks)&&n.join(""))&&""===e[0].children[0].text}const __=new WeakMap,RS=new WeakMap,XC=new WeakMap,Bv=new WeakMap,Vv=new WeakMap,zv=new WeakMap,ZM=new WeakMap,Ms=new WeakMap,k_=new WeakMap,JC=e=>u.jsx("div",{children:u.jsx("pre",{children:JSON.stringify(e.value,null,2)})}),tAt=$.div`
  user-select: none;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;$.span`
  background: #999;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;const nAt=$.div`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: ${e=>iAt(e.listLevel)};
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '${e=>oAt(e.listLevel,e.listStyle)}';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: ${e=>sAt(e.listLevel)};
    counter-reset: ${e=>lAt(e.listLevel)};
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: ${e=>uAt(e.listLevel)};
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`,rAt=$.div``;function iAt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const aAt=["","",""];function oAt(e,t){return"bullet"===t?aAt[(e-1)%3]:"*"}function sAt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function lAt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function uAt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const tu=fi("components:DraggableBlock"),bK=({children:e,element:t,readOnly:n,blockRef:r})=>{const i=Xu(),o=f.useRef(),[a,s]=f.useState(!1),l=f.useMemo((()=>V.isVoid(i,t)),[i,t]),c=f.useMemo((()=>V.isInline(i,t)),[i,t]),[d,p]=f.useState(null);f.useEffect((()=>p(r?r.current:Se.toDOMNode(i,t))),[i,t,r]);const h=f.useCallback((e=>{const n=Bv.get(i);if(!n||!d)return;e.preventDefault(),e.dataTransfer.dropEffect="move",Vv.set(i,t);const r=d.getBoundingClientRect(),o=r.top,a=r.height,l=e.pageY,u=Math.abs(o-l);let c="bottom";t===i.children[0]?c="top":u<a/2?(c="top",zv.set(i,c)):(c="bottom",zv.set(i,c)),n!==t?s(!0):e.dataTransfer.dropEffect="none"}),[d,i,t]),m=f.useCallback((()=>{s(!1)}),[]),g=f.useCallback((e=>{const n=Vv.get(i);if(n){XC.set(i,!1),e.preventDefault(),e.stopPropagation(),Vv.delete(i),o.current&&(tu("Removing drag ghost"),document.body.removeChild(o.current));const r=zv.get(i);zv.delete(i);let a=Se.findPath(i,n);const s=Se.findPath(i,t),l=se.isBefore(s,a);if("bottom"===r&&!l){if(a[0]>=i.children.length-1)return void tu("target is already at the bottom, not moving");const e=a;a=se.next(a),tu(`Adjusting targetPath from ${JSON.stringify(e)} to ${JSON.stringify(a)}`)}if("top"===r&&l&&a[0]!==i.children.length-1){const e=a;a=se.previous(a),tu(`Adjusting targetPath from ${JSON.stringify(e)} to ${JSON.stringify(a)}`)}return se.equals(a,s)?(e.preventDefault(),void tu("targetPath and myPath is the same, not moving")):(tu(`Moving element ${t._key} from path ${JSON.stringify(s)} to ${JSON.stringify(a)} (${r})`),ce.moveNodes(i,{at:s,to:a}),void i.onChange())}tu("No target element, not doing anything")}),[i,t]),y=f.useCallback((e=>{Bv.get(i)&&(tu("On drop (prevented)",t),e.preventDefault(),e.stopPropagation(),s(!1))}),[i,t]),v=f.useCallback((e=>{if(!l)return void Bv.delete(i);XC.set(i,!0),Bv.set(i,t),e.stopPropagation();const n=e.target;n instanceof HTMLElement&&(n.style.opacity="1")}),[i,t,l]),b=f.useCallback((e=>{if(!l||c)return tu("Not dragging block"),Bv.delete(i),void XC.set(i,!1);if(tu("Drag start"),XC.set(i,!0),e.dataTransfer&&(e.dataTransfer.setData("application/portable-text","something"),e.dataTransfer.effectAllowed="move"),d&&d instanceof HTMLElement){let t=d.cloneNode(!0);const n=t.querySelector("[data-pt-drag-ghost-element]");if(n&&(t=n),t.setAttribute("data-dragged",""),document.body){o.current=t,t.style.position="absolute",t.style.left="-99999px",t.style.boxSizing="border-box",document.body.appendChild(t);const n=d.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,e.dataTransfer.setDragImage(t,r,i)}}v(e)}),[d,i,v,c,l]),x=a&&i.children[0]===Vv.get(i),w=a&&i.children[i.children.length-1]===Vv.get(i),C=zv.get(i),k=x||a&&!x&&!w&&"top"===C,j=w||a&&!x&&!w&&"bottom"===C,S=f.useMemo((()=>u.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}})),[]);return n?u.jsx(u.Fragment,{children:e}):u.jsxs("div",{draggable:l,onDragStart:b,onDrag:v,onDragOver:h,onDragLeave:m,onDragEnd:g,onDrop:y,children:[k&&S,e,j&&S]})};fi("components:Element");const cAt=[],dAt={display:"inline-block"},fAt=({attributes:e,children:t,element:n,schemaTypes:r,readOnly:i,renderBlock:o,renderChild:a,renderListItem:s,renderStyle:l,spellCheck:c})=>{const d=Xu(),p=D1e(),h=f.useRef(null),m=f.useRef(null),g=p&&d.selection&&ge.isCollapsed(d.selection)||!1,y=f.useMemo((()=>$r([n],r.block.name,Ms.get(d))[0]),[d,n,r.block.name]);let v,b=t;const x=f.useMemo((()=>[{_key:n._key}]),[n]);if("string"!=typeof n._type)throw new Error("Expected element to have a _type property");if("string"!=typeof n._key)throw new Error("Expected element to have a _key property");if(d.isInline(n)){const o=Se.findPath(d,n),[s]=V.node(d,o,{depth:1}),l=r.inlineObjects.find((e=>e.name===n._type));if(!l)throw new Error("Could not find type for inline block element");if(Ge.isElement(s)){const r=[{_key:s._key},"children",{_key:n._key}];return u.jsxs("span",{...e,children:[t,u.jsxs("span",{draggable:!i,className:"pt-inline-object","data-testid":"pt-inline-object",ref:m,style:dAt,contentEditable:!1,children:[a&&a({annotations:cAt,children:u.jsx(JC,{value:y}),editorElementRef:m,focused:g,path:r,schemaType:l,selected:p,type:l,value:y}),!a&&u.jsx(JC,{value:y})]},n._key)]})}throw new Error("Block not found!")}if(n._type===r.block.name){v="pt-block pt-text-block";const a="listItem"in n,f="style"in n&&n.style||"normal";v=`pt-block pt-text-block pt-text-block-style-${f}`;const m=r.styles.find((e=>e.value===f));let w;if(l&&m&&(b=l({block:n,children:t,focused:g,selected:p,value:f,path:x,schemaType:m,editorElementRef:h})),a&&("number"==typeof n.level&&(w=n.level),v+=` pt-list-item pt-list-item-${n.listItem} pt-list-item-level-${w||1}`),d.isListBlock(y)&&a&&n.listItem){const e=r.lists.find((e=>e.value===n.listItem));b=s&&e?s({block:y,children:b,focused:g,selected:p,value:n.listItem,path:x,schemaType:e,level:y.level||1,editorElementRef:h}):u.jsx(nAt,{listStyle:y.listItem||r.lists[0].value,listLevel:y.level||1,children:u.jsx(rAt,{children:b})})}const C=Object.defineProperty({children:b,editorElementRef:h,focused:g,level:w,listItem:a?n.listItem:void 0,path:x,selected:p,style:f,schemaType:r.block,value:y},"type",{enumerable:!1,get:()=>(console.warn("Property 'type' is deprecated, use 'schemaType' instead."),r.block)}),k=o?o(C):t;return u.jsx("div",{...e,className:v,spellCheck:c,children:u.jsx(bK,{element:n,readOnly:i,blockRef:h,children:u.jsx("div",{ref:h,children:k})})},n._key)}const w=r.blockObjects.find((e=>e.name===n._type));if(!w)throw new Error(`Could not find schema type for block element of _type ${n._type}`);v="pt-block pt-object-block";const C=$r([n],r.block.name,Ms.get(d))[0];let k;if(o){k=o(Object.defineProperty({children:u.jsx(JC,{value:y}),editorElementRef:h,focused:g,path:x,schemaType:w,selected:p,value:C},"type",{enumerable:!1,get:()=>(console.warn("Property 'type' is deprecated, use 'schemaType' instead."),w)}))}return u.jsxs("div",{...e,className:v,children:[t,u.jsxs(bK,{element:n,readOnly:i,blockRef:h,children:[k&&u.jsx("div",{ref:h,contentEditable:!1,children:k}),!k&&u.jsx(tAt,{selected:p,children:u.jsx(JC,{value:y})})]})]},n._key)},ave=f.createContext(null),zi=()=>{const e=f.useContext(ave);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e};function hAt(e){const t=f.useCallback((()=>alert(JSON.stringify(e.annotation))),[e.annotation]);return u.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}function xK(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const i=null==(t=e.of)?void 0:t.find(ove);if(!i)throw new Error("Block type is not defined in this schema (required)");const o=null==(n=i.fields)?void 0:n.find((e=>"children"===e.name));if(!o)throw new Error("Children field for block type found in schema (required)");const a=o.type.of;if(!a)throw new Error("Valid types for block children not found in schema (required)");const s=a.find((e=>"span"===e.name));if(!s)throw new Error("Span type not found in schema (required)");const l=a.filter((e=>"span"!==e.name))||[],u=(null==(r=e.of)?void 0:r.filter((e=>e.name!==i.name)))||[];return{styles:pAt(i),decorators:mAt(s),lists:gAt(i),block:i,span:s,portableText:e,inlineObjects:l,blockObjects:u,annotations:s.annotations}}function pAt(e){var t,n,r;const i=null==(t=e.fields)?void 0:t.find((e=>"style"===e.name));if(!i)throw new Error("A field with name 'style' is not defined in the block type (required).");const o=(null==(n=i.type.options)?void 0:n.list)&&(null==(r=i.type.options.list)?void 0:r.filter((e=>e.value)));if(!o||0===o.length)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return o}function mAt(e){return e.decorators}function gAt(e){var t,n;const r=null==(t=e.fields)?void 0:t.find((e=>"listItem"===e.name));if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const i=(null==(n=r.type.options)?void 0:n.list)&&r.type.options.list.filter((e=>e.value));if(!i)throw new Error("The list field need at least to be an empty array");return i}function ove(e){return e.type?ove(e.type):"block"===e.name?e:null}function wK(e){return j8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function vAt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function XM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function yw(e){const[t,n]=e;return[t,n]}function CK(e,t){let n=e,r=t;const i=n.length,o=r.length;if(0===i||0===o)return 0;i>o?n=n.substring(i-o):i<o&&(r=r.substring(0,i));const a=Math.min(i,o);if(n===r)return a;let s=0,l=1;for(let e=0;-1!==e;){const t=n.substring(a-l);if(e=r.indexOf(t),-1===e)return s;l+=e,(0===e||n.substring(a-l)===r.substring(0,l))&&(s=l,l++)}return s}function O8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(o,i)===t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function VT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(e.length-i,e.length-o)===t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function sve(e){let t=e.map((e=>yw(e))),n=!1;const r=[];let i=0,o=null,a=0,s=0,l=0,u=0,c=0;for(;a<t.length;)t[a][0]===Lt?(r[i++]=a,s=u,l=c,u=0,c=0,o=t[a][1]):(t[a][0]===Tr?u+=t[a][1].length:c+=t[a][1].length,o&&o.length<=Math.max(s,l)&&o.length<=Math.max(u,c)&&(t.splice(r[i-1],0,[ir,o]),t[r[i-1]+1][0]=Tr,i--,i--,a=i>0?r[i-1]:-1,s=0,l=0,u=0,c=0,o=null,n=!0)),a++;for(n&&(t=zT(t)),t=lve(t),a=1;a<t.length;){if(t[a-1][0]===ir&&t[a][0]===Tr){const e=t[a-1][1],n=t[a][1],r=CK(e,n),i=CK(n,e);r>=i?(r>=e.length/2||r>=n.length/2)&&(t.splice(a,0,[Lt,n.substring(0,r)]),t[a-1][1]=e.substring(0,e.length-r),t[a+1][1]=n.substring(r),a++):(i>=e.length/2||i>=n.length/2)&&(t.splice(a,0,[Lt,e.substring(0,i)]),t[a-1][0]=Tr,t[a-1][1]=n.substring(0,n.length-i),t[a+1][0]=ir,t[a+1][1]=e.substring(i),a++),a++}a++}return t}const SK=/[^a-zA-Z0-9]/,EK=/\s/,_K=/[\r\n]/,yAt=/\n\r?\n$/,bAt=/^\r?\n\r?\n/;function lve(e){const t=e.map((e=>yw(e)));function n(e,t){if(!e||!t)return 6;const n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(SK),o=r.match(SK),a=i&&n.match(EK),s=o&&r.match(EK),l=a&&n.match(_K),u=s&&r.match(_K),c=l&&e.match(yAt),d=u&&t.match(bAt);return c||d?5:l||u?4:i&&!a&&s?3:a||s?2:i||o?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Lt&&t[r+1][0]===Lt){let e=t[r-1][1],i=t[r][1],o=t[r+1][1];const a=VT(e,i);if(a){const t=i.substring(i.length-a);e=e.substring(0,e.length-a),i=t+i.substring(0,i.length-a),o=t+o}let s=e,l=i,u=o,c=n(e,i)+n(i,o);for(;i.charAt(0)===o.charAt(0);){e+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);const t=n(e,i)+n(i,o);t>=c&&(c=t,s=e,l=i,u=o)}t[r-1][1]!==s&&(s?t[r-1][1]=s:(t.splice(r-1,1),r--),t[r][1]=l,u?t[r+1][1]=u:(t.splice(r+1,1),r--))}r++}return t}function zT(e){let t=e.map((e=>yw(e)));t.push([Lt,""]);let n,r=0,i=0,o=0,a="",s="";for(;r<t.length;)switch(t[r][0]){case Tr:o++,s+=t[r][1],r++;break;case ir:i++,a+=t[r][1],r++;break;case Lt:i+o>1?(0!==i&&0!==o&&(n=O8(s,a),0!==n&&(r-i-o>0&&t[r-i-o-1][0]===Lt?t[r-i-o-1][1]+=s.substring(0,n):(t.splice(0,0,[Lt,s.substring(0,n)]),r++),s=s.substring(n),a=a.substring(n)),n=VT(s,a),0!==n&&(t[r][1]=s.substring(s.length-n)+t[r][1],s=s.substring(0,s.length-n),a=a.substring(0,a.length-n))),r-=i+o,t.splice(r,i+o),a.length&&(t.splice(r,0,[ir,a]),r++),s.length&&(t.splice(r,0,[Tr,s]),r++),r++):0!==r&&t[r-1][0]===Lt?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,o=0,i=0,a="",s="";break;default:throw new Error("Unknown diff operation")}""===t[t.length-1][1]&&t.pop();let l=!1;for(r=1;r<t.length-1;)t[r-1][0]===Lt&&t[r+1][0]===Lt&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),l=!0):t[r][1].substring(0,t[r+1][1].length)===t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),l=!0)),r++;return l&&(t=zT(t)),t}function xAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+(t?1:0)),0)}function uve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.map((e=>yw(e))),r=!1;const i=[];let o=0,a=null,s=0,l=!1,u=!1,c=!1,d=!1;for(;s<n.length;)n[s][0]===Lt?(n[s][1].length<t&&(c||d)?(i[o++]=s,l=c,u=d,a=n[s][1]):(o=0,a=null),c=!1,d=!1):(n[s][0]===ir?d=!0:c=!0,a&&(l&&u&&c&&d||a.length<t/2&&3===xAt(l,u,c,d))&&(n.splice(i[o-1],0,[ir,a]),n[i[o-1]+1][0]=Tr,o--,a=null,l&&u?(c=!0,d=!0,o=0):(o--,s=o>0?i[o-1]:-1,c=!1,d=!1),r=!0)),s++;return r&&(n=zT(n)),n}function wAt(e,t,n){const r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),u=new Array(s);for(let e=0;e<s;e++)l[e]=-1,u[e]=-1;l[a+1]=0,u[a+1]=0;const c=r-i,d=c%2!=0;let f=0,p=0,h=0,m=0;for(let g=0;g<o&&!(Date.now()>n);g++){for(let o=-g+f;o<=g-p;o+=2){const h=a+o;let m;m=o===-g||o!==g&&l[h-1]<l[h+1]?l[h+1]:l[h-1]+1;let y=m-o;for(;m<r&&y<i&&e.charAt(m)===t.charAt(y);)m++,y++;if(l[h]=m,m>r)p+=2;else if(y>i)f+=2;else if(d){const i=a+c-o;if(i>=0&&i<s&&-1!==u[i]){if(m>=r-u[i])return kK(e,t,m,y,n)}}}for(let o=-g+h;o<=g-m;o+=2){const f=a+o;let p;p=o===-g||o!==g&&u[f-1]<u[f+1]?u[f+1]:u[f-1]+1;let y=p-o;for(;p<r&&y<i&&e.charAt(r-p-1)===t.charAt(i-y-1);)p++,y++;if(u[f]=p,p>r)m+=2;else if(y>i)h+=2;else if(!d){const i=a+c-o;if(i>=0&&i<s&&-1!==l[i]){const o=l[i];if(p=r-p,o>=p)return kK(e,t,o,a+o-i,n)}}}}return[[ir,e],[Tr,t]]}function kK(e,t,n,r,i){const o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=Bp(o,a,{checkLines:!1,deadline:i}),c=Bp(s,l,{checkLines:!1,deadline:i});return u.concat(c)}function CAt(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)<=0)return null;const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;const i=TK(n,r,Math.ceil(n.length/4)),o=TK(n,r,Math.ceil(n.length/2));let a,s,l,u,c;if(i&&o)a=i[4].length>o[4].length?i:o;else{if(!i&&!o)return null;o?i||(a=o):a=i}if(!a)throw new Error("Unable to find a half match.");e.length>t.length?(s=a[0],l=a[1],u=a[2],c=a[3]):(u=a[0],c=a[1],s=a[2],l=a[3]);return[s,l,u,c,a[4]]}function TK(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i,o,a,s,l=-1,u="";for(;-1!==(l=t.indexOf(r,l+1));){const r=O8(e.slice(n),t.slice(l)),c=VT(e.slice(0,n),t.slice(0,l));u.length<c+r&&(u=t.slice(l-c,l)+t.slice(l,l+r),i=e.slice(0,n-c),o=e.slice(n+r),a=t.slice(0,l-c),s=t.slice(l+r))}return 2*u.length>=e.length?[i||"",o||"",a||"",s||"",u||""]:null}function SAt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let e=0;e<r.length;e++)i[e]=t[r.charCodeAt(e)];e[n][1]=i.join("")}}function EAt(e,t){const n=[],r={};function i(e){let t="",i=0,a=-1,s=n.length;for(;a<e.length-1;){a=e.indexOf("\n",i),-1===a&&(a=e.length-1);let l=e.slice(i,a+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(s===o&&(l=e.slice(i),a=e.length),t+=String.fromCharCode(s),r[l]=s,n[s++]=l),i=a+1}return t}n[0]="";let o=4e4;const a=i(e);o=65535;return{chars1:a,chars2:i(t),lineArray:n}}function _At(e,t,n){let r=e,i=t;const o=EAt(r,i);r=o.chars1,i=o.chars2;const a=o.lineArray;let s=Bp(r,i,{checkLines:!1,deadline:n.deadline});SAt(s,a),s=sve(s),s.push([Lt,""]);let l=0,u=0,c=0,d="",f="";for(;l<s.length;){switch(s[l][0]){case Tr:c++,f+=s[l][1];break;case ir:u++,d+=s[l][1];break;case Lt:if(u>=1&&c>=1){s.splice(l-u-c,u+c),l=l-u-c;const e=Bp(d,f,{checkLines:!1,deadline:n.deadline});for(let t=e.length-1;t>=0;t--)s.splice(l,0,e[t]);l+=e.length}c=0,u=0,d="",f="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function kAt(e,t,n){let r;if(!e)return[[Tr,t]];if(!t)return[[ir,e]];const i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=i.indexOf(o);if(-1!==a)return r=[[Tr,i.substring(0,a)],[Lt,o],[Tr,i.substring(a+o.length)]],e.length>t.length&&(r[0][0]=ir,r[2][0]=ir),r;if(1===o.length)return[[ir,e],[Tr,t]];const s=CAt(e,t);if(s){const e=s[0],t=s[1],r=s[2],i=s[3],o=s[4],a=Bp(e,r,n),l=Bp(t,i,n);return a.concat([[Lt,o]],l)}return n.checkLines&&e.length>100&&t.length>100?_At(e,t,n):wAt(e,t,n.deadline)}const ir=-1,Tr=1,Lt=0;function R8(e,t,n){if(null===e||null===t)throw new Error("Null input. (diff)");const r=Bp(e,t,AAt(n||{}));return IAt(r),r}function Bp(e,t,n){let r=e,i=t;if(r===i)return r?[[Lt,r]]:[];let o=O8(r,i);const a=r.substring(0,o);r=r.substring(o),i=i.substring(o),o=VT(r,i);const s=r.substring(r.length-o);r=r.substring(0,r.length-o),i=i.substring(0,i.length-o);let l=kAt(r,i,n);return a&&l.unshift([Lt,a]),s&&l.push([Lt,s]),l=zT(l),l}function TAt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+1e3*t}function AAt(e){return{checkLines:!0,deadline:TAt(e.timeout||1),...e}}function QC(e,t,n){return 1===n?e+t:t+e}function e2(e,t){return 1===t?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function jAt(e,t,n,r){return 1===r?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function AK(e,t,n){const r=1===n?-1:1;let i=null,o=null,a=t+n;for(;a>=0&&a<e.length&&(null===i||null===o);a+=n){const[s,l]=e[a];if(0!==l.length){if(s===Tr){null===i&&(i=a);continue}if(s===ir){null===o&&(o=a);continue}if(s===Lt){if(null===i&&null===o){const[i,o]=e2(e[t][1],n);return e[t][1]=i,void(e[a][1]=QC(e[a][1],o,r))}break}}}if(null!==i&&null!==o&&jAt(e,i,o,n)){const[a,s]=e2(e[i][1],r),[l]=e2(e[o][1],r);return e[i][1]=a,e[o][1]=l,void(e[t][1]=QC(e[t][1],s,n))}const[s,l]=e2(e[t][1],n);e[t][1]=s,null===i?(e.splice(a,0,[Tr,l]),null!==o&&o>=a&&o++):e[i][1]=QC(e[i][1],l,r),null===o?e.splice(a,0,[ir,l]):e[o][1]=QC(e[o][1],l,r)}function IAt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(0===r.length)continue;const i=r[0];vAt(r[r.length-1])&&n===Lt&&AK(e,t,1),XM(i)&&n===Lt&&AK(e,t,-1)}for(let t=0;t<e.length;t++)0===e[t][1].length&&e.splice(t,1)}const DAt={threshold:.5,distance:1e3};function OAt(e){return{...DAt,...e}}const RAt=32;function MAt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>RAt)throw new Error("Pattern too long for this browser.");const i=OAt(r),o=$At(t);function a(e,r){const o=e/t.length,a=Math.abs(n-r);return i.distance?o+a/i.distance:a?1:o}let s=i.threshold,l=e.indexOf(t,n);-1!==l&&(s=Math.min(a(0,l),s),l=e.lastIndexOf(t,n+t.length),-1!==l&&(s=Math.min(a(0,l),s)));const u=1<<t.length-1;l=-1;let c,d,f=t.length+e.length,p=[];for(let r=0;r<t.length;r++){for(c=0,d=f;c<d;)a(r,n+d)<=s?c=d:f=d,d=Math.floor((f-c)/2+c);f=d;let i=Math.max(1,n-d+1);const h=Math.min(n+d,e.length)+t.length,m=new Array(h+2);m[h+1]=(1<<r)-1;for(let t=h;t>=i;t--){const c=o[e.charAt(t-1)];if(m[t]=0===r?(m[t+1]<<1|1)&c:(m[t+1]<<1|1)&c|(p[t+1]|p[t])<<1|1|p[t+1],m[t]&u){const e=a(r,t-1);if(e<=s){if(s=e,l=t-1,!(l>n))break;i=Math.max(1,2*n-l)}}}if(a(r+1,n)>s)break;p=m}return l}function $At(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function _D(e,t,n){if(null===e||null===t||null===n)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));return e===t?0:e.length?e.substring(r,r+t.length)===t?r:MAt(e,t,r):-1}function T_(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function M8(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Tr&&(t[n]=e[n][1]);return t.join("")}function cve(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==ir&&(t[n]=e[n][1]);return t.join("")}function gf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=dve(r)}return t}function PAt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=0;function o(e){for(;r<e;){const e=t.codePointAt(i);if(typeof e>"u")return i;r+=dve(e),i+=e>65535?2:1}if(!n.allowExceedingIndices&&r!==e)throw new Error("Failed to determine byte offset");return i}const a=[];for(const t of e)a.push({diffs:t.diffs.map((e=>yw(e))),start1:o(t.start1),start2:o(t.start2),utf8Start1:t.utf8Start1,utf8Start2:t.utf8Start2,length1:t.length1,length2:t.length2,utf8Length1:t.utf8Length1,utf8Length2:t.utf8Length2});return a}function dve(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const nf=32,$8=4,FAt={margin:4};function kD(){return{...FAt,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function LAt(e,t,n){if("string"==typeof e&&"string"==typeof t){let r=R8(e,t,{checkLines:!0});return r.length>2&&(r=sve(r),r=uve(r)),TD(e,r,kD(n))}if(e&&Array.isArray(e)&&typeof t>"u")return TD(M8(e),e,kD(n));if("string"==typeof e&&t&&Array.isArray(t))return TD(e,t,kD(n));throw new Error("Unknown call format to make()")}function TD(e,t,n){if(0===t.length)return[];const r=[];let i=T_(0,0),o=0,a=0,s=0,l=0,u=0,c=e,d=e;for(let e=0;e<t.length;e++){const f=t[e],[p,h]=f,m=h.length,g=gf(h);switch(!o&&p!==Lt&&(i.start1=a,i.start2=s,i.utf8Start1=l,i.utf8Start2=u),p){case Tr:i.diffs[o++]=f,i.length2+=m,i.utf8Length2+=g,d=d.substring(0,s)+h+d.substring(s);break;case ir:i.length1+=m,i.utf8Length1+=g,i.diffs[o++]=f,d=d.substring(0,s)+d.substring(s+m);break;case Lt:m<=2*n.margin&&o&&t.length!==e+1?(i.diffs[o++]=f,i.length1+=m,i.length2+=m,i.utf8Length1+=g,i.utf8Length2+=g):m>=2*n.margin&&o&&(jK(i,c,n),r.push(i),i=T_(-1,-1),o=0,c=d,a=s,l=u);break;default:throw new Error("Unknown diff type")}p!==Tr&&(a+=m,l+=g),p!==ir&&(s+=m,u+=g)}return o&&(jK(i,c,n),r.push(i)),r}function jK(e,t,n){if(0===t.length)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<nf-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let o=e.start2-i;o>=1&&XM(t[o])&&o--;const a=t.substring(o,e.start2);a&&e.diffs.unshift([Lt,a]);const s=a.length,l=gf(a);let u=e.start2+e.length1+i;u<t.length&&XM(t[u])&&u++;const c=t.substring(e.start2+e.length1,u);c&&e.diffs.push([Lt,c]);const d=c.length,f=gf(c);e.start1-=s,e.start2-=s,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=s+d,e.length2+=s+d,e.utf8Length1+=l+f,e.utf8Length2+=l+f}function NAt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case Tr:n+=a.length;break;case ir:r+=a.length;break;case Lt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function IK(e,t){let n,r=0,i=0,o=0,a=0;for(n=0;n<e.length&&(e[n][0]!==Tr&&(r+=e[n][1].length),e[n][0]!==ir&&(i+=e[n][1].length),!(r>t));n++)o=r,a=i;return e.length!==n&&e[n][0]===ir?a:a+(t-o)}function BAt(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$8;let n="";for(let e=1;e<=t;e++)n+=String.fromCharCode(e);for(const n of e)n.start1+=t,n.start2+=t,n.utf8Start1+=t,n.utf8Start2+=t;let r=e[0],i=r.diffs;if(0===i.length||i[0][0]!==Lt)i.unshift([Lt,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){const e=i[0][1].length,o=t-e;i[0][1]=n.substring(e)+i[0][1],r.start1-=o,r.start2-=o,r.utf8Start1-=o,r.utf8Start2-=o,r.length1+=o,r.length2+=o,r.utf8Length1+=o,r.utf8Length2+=o}if(r=e[e.length-1],i=r.diffs,0===i.length||i[i.length-1][0]!==Lt)i.push([Lt,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){const e=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,e),r.length1+=e,r.length2+=e,r.utf8Length1+=e,r.utf8Length2+=e}return n}function VAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$8;const n=nf;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let o=i.start1,a=i.start2,s="";for(;0!==i.diffs.length;){const l=T_(o-s.length,a-s.length);let u=!0;if(""!==s){const e=gf(s);l.length1=s.length,l.utf8Length1=e,l.length2=s.length,l.utf8Length2=e,l.diffs.push([Lt,s])}for(;0!==i.diffs.length&&l.length1<n-t;){const e=i.diffs[0][0];let r=i.diffs[0][1],s=gf(r);if(e===Tr){l.length2+=r.length,l.utf8Length2+=s,a+=r.length;const e=i.diffs.shift();e&&l.diffs.push(e),u=!1}else e===ir&&1===l.diffs.length&&l.diffs[0][0]===Lt&&r.length>2*n?(l.length1+=r.length,l.utf8Length1+=s,o+=r.length,u=!1,l.diffs.push([e,r]),i.diffs.shift()):(r=r.substring(0,n-l.length1-t),s=gf(r),l.length1+=r.length,l.utf8Length1+=s,o+=r.length,e===Lt?(l.length2+=r.length,l.utf8Length2+=s,a+=r.length):u=!1,l.diffs.push([e,r]),r===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(r.length))}s=cve(l.diffs),s=s.substring(s.length-t);const c=M8(i.diffs).substring(0,t),d=gf(c);""!==c&&(l.length1+=c.length,l.length2+=c.length,l.utf8Length1+=d,l.utf8Length2+=d,0!==l.diffs.length&&l.diffs[l.diffs.length-1][0]===Lt?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([Lt,c])),u||e.splice(++r,0,l)}}}function fve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e)throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(0===e.length)return[r,[]];const i=PAt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),o=n.margin||$8,a=n.deleteThreshold||.4,s=BAt(i,o);r=s+r+s,VAt(i,o);let l=0;const u=[];for(let e=0;e<i.length;e++){const t=i[e].start2+l,n=M8(i[e].diffs);let o,s=-1;if(n.length>nf?(o=_D(r,n.substring(0,nf),t),-1!==o&&(s=_D(r,n.substring(n.length-nf),t+n.length-nf),(-1===s||o>=s)&&(o=-1))):o=_D(r,n,t),-1===o)u[e]=!1,l-=i[e].length2-i[e].length1;else{let c;if(u[e]=!0,l=o-t,c=-1===s?r.substring(o,o+n.length):r.substring(o,s+nf),n===c)r=r.substring(0,o)+cve(i[e].diffs)+r.substring(o+n.length);else{let t=R8(n,c,{checkLines:!1});if(n.length>nf&&NAt(t)/n.length>a)u[e]=!1;else{t=lve(t);let n=0,a=0;for(let s=0;s<i[e].diffs.length;s++){const l=i[e].diffs[s];l[0]!==Lt&&(a=IK(t,n)),l[0]===Tr?r=r.substring(0,o+a)+l[1]+r.substring(o+a):l[0]===ir&&(r=r.substring(0,o+a)+r.substring(o+IK(t,n+l[1].length))),l[0]!==ir&&(n+=l[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,u]}function zAt(e){return e.map(UAt).join("")}function UAt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:i,diffs:o}=e;let a,s;a=0===t?"".concat(r,",0"):1===t?"".concat(r+1):"".concat(r+1,",").concat(t),s=0===n?"".concat(i,",0"):1===n?"".concat(i+1):"".concat(i+1,",").concat(n);const l=["@@ -".concat(a," +").concat(s," @@\n")];let u;for(let e=0;e<o.length;e++){switch(o[e][0]){case Tr:u="+";break;case ir:u="-";break;case Lt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[e+1]="".concat(u+encodeURI(o[e][1]),"\n")}return l.join("").replace(/%20/g," ")}const HAt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function P8(e){if(!e)return[];const t=[],n=e.split("\n");let r=0;for(;r<n.length;){const e=n[r].match(HAt);if(!e)throw new Error("Invalid patch string: ".concat(n[r]));const i=T_(t2(e[1]),t2(e[3]));for(t.push(i),""===e[2]?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):"0"===e[2]?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=t2(e[2]),i.length1=i.utf8Length1),""===e[4]?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):"0"===e[4]?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=t2(e[4]),i.length2=i.utf8Length2),r++;r<n.length;){const e=n[r],t=e.charAt(0);if("@"===t)break;if(""===t){r++;continue}let o;try{o=decodeURI(e.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(e))}const a=gf(o)-o.length;if("-"===t)i.diffs.push([ir,o]),i.length1-=a;else if("+"===t)i.diffs.push([Tr,o]),i.length2-=a;else{if(" "!==t)throw new Error('Invalid patch mode "'.concat(t,'" in: ').concat(o));i.diffs.push([Lt,o]),i.length1-=a,i.length2-=a}r++}}return t}function t2(e){return parseInt(e,10)}function F8(e,t=[]){return{type:"setIfMissing",path:t,value:e}}function DK(e,t,n=[]){return{type:"diffMatchPatch",path:n,value:zAt(LAt(e,t))}}function _c(e,t,n=[]){return{type:"insert",path:n,position:t,items:e}}function Mo(e,t=[]){return{type:"set",path:t,value:e}}function za(e=[]){return{type:"unset",path:e}}const Oh=fi("operationToPatches");function WAt(e){const t=e.block.name;return{insertNodePatch:function(e,n,r){const i=r[n.path[0]],o=e.isTextBlock(i);if(1===n.path.length){const e=0===n.path[0]?"before":"after",o=r[n.path[0]-1],a=0===n.path[0]?i?._key:o?._key;return a?[_c([$r([n.node],t)[0]],e,[{_key:a}])]:[F8(r,[]),_c([$r([n.node],t)[0]],"before",[n.path[0]])]}if(o&&2===n.path.length&&e.children[n.path[0]]){const e=0!==i.children.length&&i.children[n.path[1]-1]?"after":"before",r={...n.node};!r._type&&Fe.isText(r)&&(r._type="span",r.marks=[]);return[_c([$r([{_key:"bogus",_type:t,children:[r]}],t)[0].children[0]],e,[{_key:i._key},"children",i.children.length<=1||!i.children[n.path[1]-1]?0:{_key:i.children[n.path[1]-1]._key}])]}return Oh("Something was inserted into a void block. Not producing editor patches."),[]},insertTextPatch:function(e,t,n){Oh.enabled&&Oh("Operation",JSON.stringify(t,null,2));const r=e.isTextBlock(e.children[t.path[0]])&&e.children[t.path[0]];if(!r)throw new Error("Could not find block");const i=e.isTextBlock(r)&&e.isTextSpan(r.children[t.path[1]])&&r.children[t.path[1]];if(!i)throw new Error("Could not find child");const o=[{_key:r._key},"children",{_key:i._key},"text"],a=n[t.path[0]],s=e.isTextBlock(a)&&a.children[t.path[1]],l=DK(e.isTextSpan(s)?s.text:"",i.text,o);return l.value.length?[l]:[]},mergeNodePatch:function(e,n,r){const i=[],o=r[n.path[0]],a=e.children[n.path[0]];if(1===n.path.length){if(null==o||!o._key)throw new Error("Target key not found!");{const r=$r([e.children[n.path[0]-1]],t)[0];i.push(Mo(r,[{_key:r._key}])),i.push(za([{_key:o._key}]))}}else if(2===n.path.length&&e.isTextBlock(a)){const t=e.isTextBlock(o)&&o.children[n.path[1]]||void 0,r=a.children[n.path[1]-1];e.isTextSpan(r)&&(i.push(Mo(r.text,[{_key:o._key},"children",{_key:r._key},"text"])),t&&i.push(za([{_key:o._key},"children",{_key:t._key}])))}else Oh("Void nodes can't be merged, not creating any patches");return i},moveNodePatch:function(e,n,r){const i=[],o=r[n.path[0]],a=r[n.newPath[0]];if(1===n.path.length){const e=n.path[0]>n.newPath[0]?"before":"after";i.push(za([{_key:o._key}])),i.push(_c([$r([o],t)[0]],e,[{_key:a._key}]))}else if(2===n.path.length&&e.isTextBlock(o)&&e.isTextBlock(a)){const e=o.children[n.path[1]],r=a.children[n.newPath[1]],s=n.newPath[1]===a.children.length?"after":"before",l=$r([o],t)[0].children[n.path[1]];i.push(za([{_key:o._key},"children",{_key:e._key}])),i.push(_c([l],s,[{_key:a._key},"children",{_key:r._key}]))}return i},removeNodePatch:function(e,t,n){const r=n[t.path[0]];if(1===t.path.length){if(r&&r._key)return[za([{_key:r._key}])];throw new Error("Block not found")}if(e.isTextBlock(r)&&2===t.path.length){const n=e.isTextBlock(r)&&r.children&&r.children[t.path[1]];return n?[za([{_key:r._key},"children",{_key:n._key}])]:(Oh("Span not found in editor trying to remove node"),[])}return Oh("Not creating patch inside object block"),[]},removeTextPatch:function(e,t,n){const r=e&&e.children[t.path[0]];if(!r)throw new Error("Could not find block");const i=e.isTextBlock(r)&&r.children[t.path[1]]||void 0,o=e.isTextSpan(i)?i:void 0;if(i&&!o)throw new Error("Expected span");if(!o)throw new Error("Could not find child");const a=[{_key:r._key},"children",{_key:o._key},"text"],s=n[t.path[0]],l=e.isTextBlock(s)&&s.children[t.path[1]],u=DK(e.isTextSpan(l)&&l.text||"",o.text,a);return u.value?[u]:[]},setNodePatch:function(e,n){if(1===n.path.length){const r=e.children[n.path[0]];if("string"!=typeof r._key)throw new Error("Expected block to have a _key");return[Mo($r([N1e({...e.children[n.path[0]],...n.newProperties},F1e)],t)[0],[{_key:r._key}])]}if(2===n.path.length){const t=e.children[n.path[0]];if(e.isTextBlock(t)){const e=t.children[n.path[1]];if(e){const r=t._key,i=e._key,o=[],a=Object.keys(n.newProperties);return a.forEach((s=>{if(1===a.length&&"_key"===s){const i=Yn(n.newProperties,s);o.push(Mo(i,[{_key:r},"children",t.children.indexOf(e),s]))}else{const e=Yn(n.newProperties,s);o.push(Mo(e,[{_key:r},"children",{_key:i},s]))}})),o}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}throw new Error(`Unexpected path encountered: ${JSON.stringify(n.path)}`)},splitNodePatch:function(e,n,r){const i=[],o=e.children[n.path[0]];if(!e.isTextBlock(o))throw new Error(`Block with path ${JSON.stringify(n.path[0])} is not a text block and can't be split`);if(1===n.path.length){const a=r[n.path[0]];if(e.isTextBlock(a)){const r=$r([e.children[n.path[0]+1]],t)[0];r&&(i.push(_c([r],"after",[{_key:o._key}])),a.children.slice(n.position).forEach((e=>{const t=[{_key:a._key},"children",{_key:e._key}];i.push(za(t))})))}return i}if(2===n.path.length){const r=o.children[n.path[1]];if(e.isTextSpan(r)){const e=$r([{...o,children:o.children.slice(n.path[1]+1,n.path[1]+2)}],t)[0].children;i.push(_c(e,"after",[{_key:o._key},"children",{_key:r._key}])),i.push(Mo(r.text,[{_key:o._key},"children",{_key:r._key},"text"]))}return i}return i}}}Oh.enabled=!1;const Uv=fi("API:editable");function GAt(e,t,n){return function(r){return e.setEditable({focus:()=>{Se.focus(r)},blur:()=>{Se.blur(r)},toggleMark:e=>{r.pteToggleMark(e)},toggleList:e=>{r.pteToggleListItem(e)},toggleBlockStyle:e=>{r.pteToggleBlockStyle(e)},isMarkActive:e=>{try{return r.pteIsMarkActive(e)}catch(e){return console.warn(e),!1}},marks:()=>({...V.marks(r)||{}}.marks||[]),undo:()=>r.undo(),redo:()=>r.redo(),select:e=>{const t=$h(e,r);t?ce.select(r,t):ce.deselect(r),r.onChange()},focusBlock:()=>{if(r.selection){const e=Re.descendant(r,r.selection.focus.path.slice(0,1));if(e)return $r([e],t.block.name,Ms.get(r))[0]}},focusChild:()=>{if(r.selection){const e=Re.descendant(r,r.selection.focus.path.slice(0,1));if(e&&r.isTextBlock(e))return $r([e],t.block.name,Ms.get(r))[0].children[r.selection.focus.path[1]]}},insertChild:(i,o)=>{var a;if(!r.selection)throw new Error("The editor has no selection");const[s]=Array.from(V.nodes(r,{at:r.selection.focus.path.slice(0,1),match:e=>e._type===t.block.name}))[0]||[void 0];if(!s)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some((e=>e.name===i.name)))throw new Error("This type cannot be inserted as a child to a text block");const l=Au([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...o||{}}]}],e)[0].children[0],u=r.selection.focus.path.slice(0,2),c=l._type===t.span.name,d=Re.get(r,u);return c&&d._type!==t.span.name&&(Uv("Inserting span child next to inline object child, moving selection + 1"),r.move({distance:1,unit:"character"})),ce.insertNodes(r,l,{select:!0,at:r.selection}),r.onChange(),(null==(a=mf($r(r.children,t.block.name,Ms.get(r)),r.selection,t))?void 0:a.focus.path)||[]},insertBlock:(i,o)=>{var a;if(!r.selection)throw new Error("The editor has no selection");const s=Au([{_key:n(),_type:i.name,...o||{}}],e)[0],[l]=Array.from(V.nodes(r,{at:r.selection.focus.path.slice(0,1),match:e=>e._type===t.block.name}))[0]||[void 0];return l&&M0([l],t)&&ce.removeNodes(r,{at:r.selection}),V.insertNode(r,s),r.onChange(),(null==(a=mf($r(r.children,t.block.name,Ms.get(r)),r.selection,t))?void 0:a.focus.path)||[]},hasBlockStyle:e=>{try{return r.pteHasBlockStyle(e)}catch{return!1}},hasListStyle:e=>{try{return r.pteHasListStyle(e)}catch{return!1}},isVoid:e=>![t.block.name,t.span.name].includes(e._type),findByPath:e=>{const n=$h({focus:{path:e,offset:0},anchor:{path:e,offset:0}},r);if(n){const[i,o]=V.node(r,n.focus.path.slice(0,1));if(i&&o&&"string"==typeof i._key){if(1===e.length&&1===n.focus.path.length)return[$r([i],t.block.name)[0],[{_key:i._key}]];const o=$r([i],t.block.name,Ms.get(r))[0];if(r.isTextBlock(o)){const e=o.children[n.focus.path[1]];if(e)return[e,[{_key:i._key},"children",{_key:e._key}]]}}}return[void 0,void 0]},findDOMNode:e=>{let t;try{const[n]=Array.from(V.nodes(r,{at:[],match:t=>t._key===e._key})||[])[0]||[void 0];t=Se.toDOMNode(r,n)}catch{}return t},activeAnnotations:()=>{var e;if(!r.selection||r.selection.focus.path.length<2)return[];try{const t=[],n=V.nodes(r,{at:r.selection,match:e=>Fe.isText(e)&&void 0!==e.marks&&Array.isArray(e.marks)&&e.marks.length>0});for(const[i,o]of n){const[n]=V.node(r,o,{depth:1});r.isTextBlock(n)&&(null==(e=n.markDefs)||e.forEach((e=>{Fe.isText(i)&&i.marks&&Array.isArray(i.marks)&&i.marks.includes(e._key)&&t.push(e)})))}return t}catch{return[]}},isAnnotationActive:e=>{if(!r.selection||r.selection.focus.path.length<2)return!1;try{const t=[...V.nodes(r,{at:r.selection,match:e=>Fe.isText(e)})];if(t.some((([e])=>{var t;return!ha(e)||!e.marks||0===(null==(t=e.marks)?void 0:t.length)})))return!1;const n=t.reduce(((e,[,t])=>{const[n]=V.node(r,t,{depth:1});return r.isTextBlock(n)&&n.markDefs?[...e,...n.markDefs]:e}),[]);return t.every((([t])=>{var r;if(!ha(t))return!1;const i=null==(r=t.marks)?void 0:r.map((e=>{var t;return null==(t=n.find((t=>t?._key===e)))?void 0:t._type}));return i?.includes(e)}))}catch{return!1}},addAnnotation:(e,i)=>{const{selection:o}=r;let a;if(o){const[s]=V.node(r,o.focus,{depth:1});if(!r.isTextBlock(s))return;ge.isCollapsed(o)&&(r.pteExpandToWord(),r.onChange());const[l]=V.node(r,o.focus,{depth:2});r.selection&&(V.withoutNormalizing(r,(()=>{const u=n();ce.setNodes(r,{markDefs:[...s.markDefs||[],{_type:e.name,_key:u,...i}]},{at:o.focus}),r.onChange(),ce.setNodes(r,{},{match:Fe.isText,split:!0}),r.onChange(),r.selection&&Fe.isText(l)&&ce.setNodes(r,{marks:[...l.marks||[],u]},{at:r.selection,match:e=>e._type===t.span.name}),r.onChange(),r.selection&&ce.insertNodes(r,[{_type:"span",text:"",marks:[],_key:n()}],{at:ge.end(r.selection)});const c=mf($r(r.children,t.block.name,Ms.get(r)),r.selection,t);c&&(a={spanPath:c.focus.path,markDefPath:[{_key:s._key},"markDefs",{_key:u}]})})),V.normalize(r),r.onChange())}return a},delete:(e,n)=>{if(e){const i=$h(e,r);if(!(i&&i.anchor.path.length>0&&i.focus.path.length>0))throw new Error("Invalid range");if(i){if(null==n||!n.mode||"selected"===n?.mode)return Uv("Deleting content in selection"),ce.delete(r,{at:i,hanging:!0,voids:!0}),void r.onChange();"blocks"===n?.mode&&(Uv("Deleting blocks touched by selection"),ce.removeNodes(r,{at:i,voids:!0,match:e=>r.isTextBlock(e)||!r.isTextBlock(e)&&Ge.isElement(e)})),"children"===n?.mode&&(Uv("Deleting children touched by selection"),ce.removeNodes(r,{at:i,voids:!0,match:e=>e._type===t.span.name||!r.isTextBlock(e)&&Ge.isElement(e)})),0===r.children.length&&(r.children=[r.pteCreateEmptyBlock()]),r.onChange()}}},removeAnnotation:e=>{let{selection:t}=r;if(Uv("Removing annotation",e),t){if(ge.isCollapsed(t)){const[e,n]=V.node(r,t,{depth:2});Fe.isText(e)&&e.marks&&"string"==typeof e.text&&(ce.select(r,n),t=r.selection)}V.withoutNormalizing(r,(()=>{if(t&&ge.isExpanded(t)){if(t=r.selection,!t)return;[...V.nodes(r,{at:t,match:t=>r.isTextBlock(t)&&Array.isArray(t.markDefs)&&t.markDefs.some((t=>t._type===e.name))})].forEach((([t])=>{r.isTextBlock(t)&&Array.isArray(t.markDefs)&&t.markDefs.filter((t=>t._type===e.name)).forEach((e=>{V.removeMark(r,e._key)}))}))}})),V.normalize(r),r.onChange()}},getSelection:()=>{let e=null;if(r.selection){const n=k_.get(r.selection);if(n)return n;e=mf($r(r.children,t.block.name,Ms.get(r)),r.selection,t),k_.set(r.selection,e)}return e},getValue:()=>$r(r.children,t.block.name,Ms.get(r)),isCollapsedSelection:()=>!!r.selection&&ge.isCollapsed(r.selection),isExpandedSelection:()=>!!r.selection&&ge.isExpanded(r.selection),insertBreak:()=>{r.insertBreak(),r.onChange()},getFragment:()=>$r(r.getFragment(),t.block.name),isSelectionsOverlapping:(e,t)=>{const n=$h(e,r),i=$h(t,r);return ge.isRange(n)&&ge.isRange(i)&&ge.includes(n,i)}}),r}}function YAt(e){return function(t){const{insertBreak:n}=t;return t.insertBreak=()=>{if(t.selection){const n=t.selection.focus.path.slice(0,1),r=Re.descendant(t,n);if(t.isTextBlock(r)){const[,i]=ge.edges(t.selection),o=V.isStart(t,i,i.path),a=r&&M0([r],e);if(o&&!a){V.insertNode(t,t.pteCreateEmptyBlock());const[e]=se.next(n);return ce.select(t,{anchor:{path:[e,0],offset:0},focus:{path:[e,0],offset:0}}),void t.onChange()}}}n()},t}}function qAt(e){return function(t){const{apply:n}=t;return t.apply=r=>{const i=e;i>0&&t.children.length>=i&&("insert_node"===r.type||"split_node"===r.type)&&1===r.path.length||n(r)},t}}const A_=new WeakMap;function Vp(e,t){const n=JM(e);A_.set(e,!0),t(),A_.set(e,n)}function JM(e){return A_.get(e)}function KAt(e,t){return function(n){A_.set(n,!1);const{apply:r,normalizeNode:i}=n;return n.apply=e=>{if("split_node"===e.type){const r=!JM(n)||!("_key"in e.properties);e.properties={...e.properties,...r?{_key:t()}:{}}}if("insert_node"===e.type){const r=!JM(n)||!("_key"in e.node);V.isEditor(e.node)||(e.node={...e.node,...r?{_key:t()}:{}})}r(e)},n.normalizeNode=r=>{const[o,a]=r;if(Ge.isElement(o)&&o._type===e.block.name){o._key||ce.setNodes(n,{_key:t()},{at:a});for(const[e,r]of Re.children(n,a))if(!e._key)return void ce.setNodes(n,{_key:t()},{at:r})}i(r)},n}}const OK="before",RK="after";function ZAt(e,t,n,...r){if(t!==OK&&t!==RK)throw new Error(`Invalid position "${t}", must be either ${OK} or ${RK}`);const i=MK(...r);if(0===e.length)return i;const o=e.length,a=Math.abs((o+n)%o)%o,s="after"===t?a+1:a,l=e.slice();return l.splice(s,0,...MK(i)),l}function MK(...e){return e.reduce(((e,t)=>e.concat(t)),[])}const $K=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function XAt(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function JAt(e,t){if("number"==typeof t)return t;const n=I8(e,t);return-1!==n&&n}function QAt(e,t){const n=e.slice();if(0===t.path.length){if("setIfMissing"===t.type){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return void 0===e?t.value:e}if("set"===t.type){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}if("unset"===t.type)return;if("move"===t.type){if(!t.value||!$K(t.value,"from")||!$K(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return XAt(n,t.value.from,t.value.to)}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,o=JAt(e,r);if(!1===o)return n;if(0===i.length){if("insert"===t.type){const{position:n,items:r}=t;return ZAt(e,n,o,r)}if("unset"===t.type){if("number"!=typeof o)throw new Error(`Expected array index to be a number, instead got "${o}"`);return n.splice(o,1),n}}return n[o]=L8(n[o],{...t,path:i}),n}function ejt(e,t){const n=q1e(e);if(0===t.path.length){if("set"===t.type){if(!R5(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}if("unset"===t.type)return;if("setIfMissing"===t.type)return void 0===e?t.value:e;throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if("string"!=typeof r)throw new Error(`Expected field name to be a string, instad got: ${r}`);return 0===i.length&&"unset"===t.type?pa(n,r):(n[r]=L8(n[r],{...t,path:i}),n)}const hve={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},inc:(e,t)=>e+t,dec:(e,t)=>e-t},tjt=Object.keys(hve);function njt(e,t){if(!tjt.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map((e=>JSON.stringify(e))).join(".")} that targeted the value "${JSON.stringify(e)}"`);return hve[t.type](e,t.value)}const pve={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},diffMatchPatch(e,t){const[n]=fve(P8(t),e,{allowExceedingIndices:!0});return n}},rjt=Object.keys(pve);function ijt(e,t){if(!rjt.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);const n=pve[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function ajt(e,t){return t.reduce(L8,e)}function ojt(e,t){return Array.isArray(e)?QAt(e,t):BT(e)?ijt(e,t):R5(e)?ejt(e,t):njt(e,t)}function L8(e,t){return ojt(e,t)}const Lr=fi("applyPatches"),N8=Lr.enabled&&!0;function sjt(e){let t;return function(n,r){let i=!1;N8&&(Lr("\n\nNEW PATCH ============================================================="),Lr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":i=ujt(n,r,e);break;case"unset":i=djt(n,r,t);break;case"set":i=cjt(n,r);break;case"diffMatchPatch":i=ljt(n,r);break;default:Lr("Unhandled patch",r.type)}}catch(e){console.error(e)}return t=r,i}}function ljt(e,t){const{block:n,child:r,childPath:i}=UT(e,t.path);if(!n)return Lr("Block not found"),!1;if(!r||!i)return Lr("Child not found"),!1;if(!n||!e.isTextBlock(n)||4!==t.path.length||"children"!==t.path[1]||"text"!==t.path[3]||!Fe.isText(r))return!1;const o=P8(t.value),[a]=fve(o,r.text,{allowExceedingIndices:!0}),s=uve(R8(r.text,a),5);Fo(e,"before");let l=0;for(const[t,n]of s)t===Tr?(e.apply({type:"insert_text",path:i,offset:l,text:n}),l+=n.length):t===ir?e.apply({type:"remove_text",path:i,offset:l,text:n}):t===Lt&&(l+=n.length);return Fo(e,"after"),!0}function ujt(e,t,n){const{block:r,child:i,blockPath:o,childPath:a}=UT(e,t.path);if(!r||!o)return Lr("Block not found"),!1;if(t.path.length>1&&"children"!==t.path[1])return Lr("Ignoring patch targeting void value"),!1;if(1===t.path.length){const{items:r,position:i}=t,a=Au(r,{schemaTypes:n},ZM.get(e)),s=o[0],l="after"===i?s+1:s;return Lr(`Inserting blocks at path [${l}]`),Fo(e,"before"),ce.insertNodes(e,a,{at:[l]}),Fo(e,"after"),!0}const{items:s,position:l}=t;if(!i||!a)return Lr("Child not found"),!1;const u=r&&Au([{...r,children:s}],{schemaTypes:n},ZM.get(e)),c=a[1],d="after"===l?c+1:c,f=[a[0],d];return Lr(`Inserting children at path ${f}`),Fo(e,"before"),u&&Ge.isElement(u[0])&&ce.insertNodes(e,u[0].children,{at:f}),Fo(e,"after"),!0}function cjt(e,t){let n=t.value;"string"==typeof t.path[3]&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:i,child:o,childPath:a}=UT(e,t.path);if(!r)return Lr("Block not found"),!1;const s=e.isTextBlock(r);if(s&&t.path.length>1&&"children"!==t.path[1])return Lr("Ignoring setting void value"),!1;if(Fo(e,"before"),s&&o&&a){if(Fe.isText(n)&&Fe.isText(o)){const t=o.text;n.text!==t&&(Lr("Setting text property"),e.apply({type:"remove_text",path:a,offset:0,text:t}),e.apply({type:"insert_text",path:a,offset:0,text:n.text}),e.onChange())}else Lr("Setting non-text property"),e.apply({type:"set_node",path:a,properties:{},newProperties:n});return!0}if(Ge.isElement(r)&&1===t.path.length&&i){Lr("Setting block property");const{children:t,...o}=n,{children:a,...s}=r||{children:void 0};e.apply({type:"set_node",path:i,properties:{...s},newProperties:o}),Lr("Setting children"),r.children.forEach(((t,n)=>{e.apply({type:"remove_node",path:i.concat(r.children.length-1-n),node:t})})),Array.isArray(t)&&t.forEach(((t,n)=>{e.apply({type:"insert_node",path:i.concat(n),node:t})}))}else if(r&&"value"in r){const n=ajt([r.value],[t])[0];return ce.setNodes(e,{...r,value:n},{at:i}),!0}return Fo(e,"after"),!0}function djt(e,t,n){if(0===t.path.length){Lr("Removing everything"),Fo(e,"before");const t=e.selection;return ce.deselect(e),e.children.forEach(((t,n)=>{ce.removeNodes(e,{at:[n]})})),ce.insertNodes(e,e.pteCreateEmptyBlock()),t&&ce.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),Fo(e,"after"),!0}const{block:r,blockPath:i,child:o,childPath:a}=UT(e,t.path);if(1===t.path.length){if(!r||!i)return Lr("Block not found"),!1;const t=i[0];return Lr(`Removing block at path [${t}]`),Fo(e,"before"),ce.removeNodes(e,{at:[t]}),Fo(e,"after"),!0}return!(!e.isTextBlock(r)||"children"!==t.path[1]||3!==t.path.length)&&(o&&a?(Lr(`Unsetting child at path ${JSON.stringify(a)}`),Fo(e,"before"),N8&&Lr(`Removing child at path ${JSON.stringify(a)}`),ce.removeNodes(e,{at:a}),Fo(e,"after"),!0):(Lr("Child not found"),!1))}function mve(e){return"object"==typeof e&&"_key"in e}function Fo(e,t){N8&&(Lr(`Children ${t}:`,JSON.stringify(e.children,null,2)),Lr(`Selection ${t}: `,JSON.stringify(e.selection,null,2)))}function fjt(e,t){let n=-1;const r=e.children.find(((e,r)=>{const i=mve(t[0])?e._key===t[0]._key:r===t[0];return i&&(n=r),i}));return r?{block:r,path:[n]}:{}}function UT(e,t){const{block:n,path:r}=fjt(e,t);if(!Ge.isElement(n)||"children"!==t[1])return{block:n,blockPath:r,child:void 0,childPath:void 0};let i=-1;const o=n.children.find(((e,n)=>{const r=mve(t[2])?e._key===t[2]._key:n===t[2];return r&&(i=n),r}));return o?{block:n,child:o,blockPath:r,childPath:r?.concat(i)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function gve(e,t){const n=vve(e)||!1;__.set(e,!0),t(),__.set(e,n)}function vve(e){return __.get(e)}function hjt(e){return RS.get(e)}const j_=new WeakMap;function QM(e,t){const n=yve(e);j_.set(e,!1),t(),j_.set(e,n)}function yve(e){return j_.get(e)}const va=fi("plugin:withUndoRedo"),PK=va.enabled&&!1,n0=new WeakMap,AD=new WeakMap,pjt=1e3,bve=e=>{const t=n0.get(e);return void 0===t||t},mjt=e=>(AD.get(e)||AD.set(e,[]),AD.get(e)||[]);function gjt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return e=>{let i=$r(e.children,r.name);const o=mjt(e);n&&e.subscriptions.push((()=>{va("Subscribing to patches");const t=n.subscribe((({patches:t,snapshot:n})=>{let r=!1;t.forEach((t=>{if(!r&&"local"!==t.origin&&o){if("unset"===t.type&&0===t.path.length)return va("Someone else cleared the content, resetting undo/redo history"),e.history={undos:[],redos:[]},o.splice(0,o.length),n0.set(e,!0),void(r=!0);o.push({patch:t,time:new Date,snapshot:n,previousSnapshot:i})}})),i=n}));return()=>{va("Unsubscribing to patches"),t.unsubscribe()}})),e.history={undos:[],redos:[]};const{apply:a}=e;return e.apply=n=>{if(t)return void a(n);const{operations:r,history:i}=e,{undos:o}=i,s=o[o.length-1],l=s&&s.operations&&s.operations[s.operations.length-1],u=yjt(n,l);let c=!0;if(bve(e)){if(s?0===r.length&&(c=vjt(n,l)||u):c=!1,s&&c)s.operations.push(n);else{const t={operations:[...null===e.selection?[]:[xjt(e)],n],timestamp:new Date};o.push(t),va("Created new undo step",s)}for(;o.length>pjt;)o.shift();bjt(n)&&(i.redos=[])}a(n)},e.undo=()=>{if(t)return;const{undos:n}=e.history;if(n.length>0){const t=n[n.length-1];if(va("Undoing",t),t.operations.length>0){const n=o.filter((e=>e.time>=t.timestamp));let r=t.operations;n.forEach((t=>{r=pr(r.map((n=>FK(e,t.patch,n,t.snapshot,t.previousSnapshot))))}));try{V.withoutNormalizing(e,(()=>{Vp(e,(()=>{Zb(e,(()=>{r.map(Mg.inverse).reverse().forEach((t=>{e.apply(t)}))}))}))})),e.normalize(),e.onChange()}catch(t){return va("Could not perform undo step",t),o.splice(0,o.length),ce.deselect(e),e.history={undos:[],redos:[]},n0.set(e,!0),void e.onChange()}e.history.redos.push(t),e.history.undos.pop()}}},e.redo=()=>{if(t)return;const{redos:n}=e.history;if(n.length>0){const t=n[n.length-1];if(va("Redoing",t),t.operations.length>0){const n=o.filter((e=>e.time>=t.timestamp));let r=t.operations;n.forEach((t=>{r=pr(r.map((n=>FK(e,t.patch,n,t.snapshot,t.previousSnapshot))))}));try{V.withoutNormalizing(e,(()=>{Vp(e,(()=>{Zb(e,(()=>{r.forEach((t=>{e.apply(t)}))}))}))})),e.normalize(),e.onChange()}catch(t){return va("Could not perform redo step",t),o.splice(0,o.length),ce.deselect(e),e.history={undos:[],redos:[]},n0.set(e,!0),void e.onChange()}e.history.undos.push(t),e.history.redos.pop()}}},e}}function FK(e,t,n,r,i){PK&&(va(`Adjusting '${n.type}' operation paths for '${t.type}' patch`),va(`Operation ${JSON.stringify(n)}`),va(`Patch ${JSON.stringify(t)}`));const o={...n};if("insert"===t.type&&1===t.path.length){const e=(r||[]).findIndex((e=>bt({_key:e._key},t.path[0])));return va(`Adjusting block path (+${t.items.length}) for '${o.type}' operation and patch '${t.type}'`),[LK(o,t.items.length,e)]}if("unset"===t.type&&1===t.path.length){const n=(i||[]).findIndex((e=>bt({_key:e._key},t.path[0])));return"path"in o&&Array.isArray(o.path)&&o.path[0]===n?(va("Skipping transformation that targeted removed block"),[]):(PK&&(va(`Selection ${JSON.stringify(e.selection)}`),va(`Adjusting block path (-1) for '${o.type}' operation and patch '${t.type}'`)),[LK(o,-1,n)])}if("unset"===t.type&&0===t.path.length)return va(`Adjusting selection for unset everything patch and ${n.type} operation`),[];if("diffMatchPatch"===t.type){const n=wjt(e,o);return n&&bt({_key:n._key},t.path[0])?(P8(t.value).forEach((e=>{var t,n,r,i;let a=0,s=e.utf8Start1;const{diffs:l}=e;if(l.forEach(((e,t)=>{const[n,r]=e;n===Tr?(a+=r.length,s+=r.length):n===ir?(a-=r.length,s-=r.length):n===Lt&&(l.slice(t).every((([e])=>e===Lt))||(s+=r.length))})),"insert_text"===o.type&&s<o.offset&&(o.offset+=a),"remove_text"===o.type&&s<=o.offset-o.text.length&&(o.offset+=a),"set_selection"===o.type){const e=null!=(t=o.properties)&&t.focus?{...o.properties.focus}:void 0,l=null!=(n=o?.properties)&&n.anchor?{...o.properties.anchor}:void 0,u=null!=(r=o?.newProperties)&&r.focus?{...o.newProperties.focus}:void 0,c=null!=(i=o?.newProperties)&&i.anchor?{...o.newProperties.anchor}:void 0;(e&&l||u&&c)&&([e,l,u,c].forEach((e=>{e&&s<e.offset&&(e.offset+=a)})),e&&l&&(o.properties={focus:e,anchor:l}),u&&c&&(o.newProperties={focus:u,anchor:c}))}})),[o]):[o]}return[o]}function LK(e,t,n){var r,i,o,a;const s={...e};if(n>=0&&"set_selection"!==s.type&&Array.isArray(s.path)&&s.path[0]>=n+t&&s.path[0]+t>-1){const e=[s.path[0]+t,...s.path.slice(1)];s.path=e}if("set_selection"===s.type){const e=null!=(r=s.properties)&&r.focus?{...s.properties.focus}:void 0,l=null!=(i=s?.properties)&&i.anchor?{...s.properties.anchor}:void 0,u=null!=(o=s?.newProperties)&&o.focus?{...s.newProperties.focus}:void 0,c=null!=(a=s?.newProperties)&&a.anchor?{...s.newProperties.anchor}:void 0;(e&&l||u&&c)&&([e,l,u,c].forEach((e=>{e&&e.path[0]>=n+t&&e.path[0]+t>-1&&(e.path=[e.path[0]+t,...e.path.slice(1)])})),e&&l&&(s.properties={focus:e,anchor:l}),u&&c&&(s.newProperties={focus:u,anchor:c}))}return s}const vjt=(e,t)=>!!("set_selection"===e.type||t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&se.equals(e.path,t.path)&&" "!==e.text||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&se.equals(e.path,t.path)),yjt=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),bjt=e=>"set_selection"!==e.type;function Zb(e,t){const n=bve(e);n0.set(e,!1),t(),n0.set(e,n)}function xjt(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function wjt(e,t){let n;return"set_selection"===t.type&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const n2=fi("plugin:withPatches");function Cjt({change$:e,patches$:t,patchFunctions:n,readOnly:r,schemaTypes:i}){let o;const a=sjt(i);return function(s){__.set(s,!1),j_.set(s,!0),o=[...s.children];const{apply:l}=s;let u=[];const c=({patches:e})=>{const t=e.filter((e=>"local"!==e.origin));0!==t.length&&(u=u.concat(t),(()=>{if(0===u.length)return;const e=u;u=[];let t=!1;gve(s,(()=>{V.withoutNormalizing(s,(()=>{QM(s,(()=>{Zb(s,(()=>{Vp(s,(()=>{e.forEach((e=>{n2.enabled&&n2(`Handling remote patch ${JSON.stringify(e)}`),t=a(s,e)}))}))}))}))})),t&&(s.normalize(),s.onChange())}))})())};return t&&s.subscriptions.push((()=>{n2("Subscribing to patches$");const e=t.subscribe(c);return()=>{n2("Unsubscribing to patches$"),e.unsubscribe()}})),s.apply=t=>{if(r)return l(t),s;let a=[];o=s.children;const u=M0(o,i);l(t);const c=M0(s.children,i);if(!yve(s))return s;switch(u&&!c&&"set_selection"!==t.type&&a.push(_c(o,"before",[0])),t.type){case"insert_text":a=[...a,...n.insertTextPatch(s,t,o)];break;case"remove_text":a=[...a,...n.removeTextPatch(s,t,o)];break;case"remove_node":a=[...a,...n.removeNodePatch(s,t,o)];break;case"split_node":a=[...a,...n.splitNodePatch(s,t,o)];break;case"insert_node":a=[...a,...n.insertNodePatch(s,t,o)];break;case"set_node":a=[...a,...n.setNodePatch(s,t,o)];break;case"merge_node":a=[...a,...n.mergeNodePatch(s,t,o)];break;case"move_node":a=[...a,...n.moveNodePatch(s,t,o)]}return!u&&c&&["merge_node","set_node","remove_text","remove_node"].includes(t.type)&&(a=[...a,za([])],e.next({type:"unset",previousValue:$r(o,i.block.name,Ms.get(s))})),u&&a.length>0&&(a=[F8([],[]),...a]),a.length>0&&a.forEach((t=>{e.next({type:"patch",patch:{...t,origin:"local"}})})),s},s}}const Sjt=fi("plugin:withPlaceholderBlock");function Ejt(){return function(e){const{apply:t}=e;return e.apply=n=>{if("remove_node"===n.type){const t=n.node;if(0===n.path[0]&&V.isVoid(e,t)){const t=se.next(n.path);e.children[t[0]]||(Sjt("Adding placeholder block"),V.insertNode(e,e.pteCreateEmptyBlock()))}}t(n)},e}}const r2=fi("plugin:withPortableTextBlockStyle");function _jt(e){const t=e.styles[0].value;return function(e){const{normalizeNode:n}=e;return e.normalizeNode=r=>{n(r);const[,i]=r;for(const n of e.operations)if("split_node"===n.type&&1===n.path.length&&e.isTextBlock(n.properties)&&n.properties.style!==t&&n.path[0]===i[0]&&!se.equals(i,n.path)){const[r]=V.node(e,[n.path[0]+1,0]);if(Fe.isText(r)&&""===r.text){r2(`Normalizing split node to ${t} style`,n),ce.setNodes(e,{style:t},{at:[n.path[0]+1],voids:!1});break}}},e.pteHasBlockStyle=t=>!!e.selection&&[...V.nodes(e,{at:e.selection,match:n=>e.isTextBlock(n)&&n.style===t})].length>0,e.pteToggleBlockStyle=n=>{e.selection&&([...V.nodes(e,{at:e.selection,match:t=>e.isTextBlock(t)})].forEach((([r,i])=>{e.isTextBlock(r)&&r.style===n?(r2(`Unsetting block style '${n}'`),ce.setNodes(e,{...r,style:t},{at:i})):(n?r2(`Setting style '${n}'`):r2("Setting default style",t),ce.setNodes(e,{...r,style:n||t},{at:i}))})),e.onChange())},e}}const bh=fi("plugin:withPortableTextLists"),jD=10;function kjt(e){return function(t){return t.pteToggleListItem=e=>{t.pteHasListStyle(e)?(bh(`Remove list item '${e}'`),t.pteUnsetListItem(e)):(bh(`Add list item '${e}'`),t.pteSetListItem(e))},t.pteUnsetListItem=n=>{t.selection&&[...V.nodes(t,{at:t.selection,match:t=>Ge.isElement(t)&&t._type===e.block.name})].forEach((([e,r])=>{if(t.isListBlock(e)){const{listItem:i,level:o,...a}=e,s={...a,listItem:void 0,level:void 0};bh(`Unsetting list '${n}'`),ce.setNodes(t,s,{at:r})}}))},t.pteSetListItem=n=>{t.selection&&[...V.nodes(t,{at:t.selection,match:e=>t.isTextBlock(e)})].forEach((([r,i])=>{bh(`Setting list '${n}'`),ce.setNodes(t,{...r,level:1,listItem:n||e.lists[0]&&e.lists[0].value},{at:i})}))},t.pteEndList=()=>{if(!t.selection)return!1;const e=[...V.nodes(t,{at:t.selection,match:e=>Ge.isElement(e)&&t.isListBlock(e)&&1===e.children.length&&Fe.isText(e.children[0])&&""===e.children[0].text})];return 0!==e.length&&(e.forEach((([e,n])=>{Ge.isElement(e)&&(bh("Unset list"),ce.setNodes(t,{...e,level:void 0,listItem:void 0},{at:n}))})),!0)},t.pteIncrementBlockLevels=e=>{if(!t.selection)return!1;const n=[...V.nodes(t,{at:t.selection,match:e=>!!t.isListBlock(e)})];return 0!==n.length&&(n.forEach((([n,r])=>{if(t.isListBlock(n)){let i=n.level||1;e?(i--,bh("Decrementing list level",Math.min(10,Math.max(1,i)))):(i++,bh("Incrementing list level",Math.min(10,Math.max(1,i)))),ce.setNodes(t,{level:Math.min(10,Math.max(1,i))},{at:r})}})),!0)},t.pteHasListStyle=e=>{if(!t.selection)return!1;const n=[...V.nodes(t,{at:t.selection,match:e=>t.isTextBlock(e)})];return n.length>0&&n.every((([n])=>t.isListBlock(n)&&n.listItem===e))},t}}const pc=fi("plugin:withPortableTextMarkModel");function Tjt(e,t){return function(n){const{apply:r,normalizeNode:i}=n,o=e.decorators.map((e=>e.value)),a=()=>{n.selection&&(ce.select(n,{...n.selection}),n.selection={...n.selection});const r=mf(n.children,n.selection,e);t.next({type:"selection",selection:r})};return n.normalizeNode=t=>{i(t),n.operations.some((e=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(e.type)))&&function(e){const{selection:t}=e;if(t)for(const[n,r]of Array.from(V.nodes(e,{at:V.range(e,[t.anchor.path[0]],[t.focus.path[0]])})).reverse()){const[t]=r.length>1?V.node(e,se.parent(r)):[void 0],i=[r[0],r[1]+1];if(e.isTextBlock(t)){const r=t.children[i[1]];Fe.isText(n)&&Fe.isText(r)&&bt(r.marks,n.marks)&&(pc("Merging spans"),ce.mergeNodes(e,{at:i,voids:!0}),e.onChange())}}}(n);const[r,o]=t,a=Fe.isText(r)&&r._type===e.span.name,s=n.isTextBlock(r);if(a||s){if(a&&!Array.isArray(r.marks)&&(pc("Adding .marks to span node"),ce.setNodes(n,{marks:[]},{at:o}),n.onChange()),a&&(r.marks||[]).length>0){const t=r.marks||eAt,i=t.filter((t=>!e.decorators.map((e=>e.value)).includes(t)));if(i.length>0){const[e]=V.node(n,se.parent(o)),r=n.isTextBlock(e)&&i.filter((t=>{var n;return!(null!=(n=e.markDefs)&&n.find((e=>e._key===t)))}))||[];r.length>0&&(pc("Removing orphaned .marks from span node"),ce.setNodes(n,{marks:t.filter((e=>!r.includes(e)))},{at:o}),n.onChange())}}for(const t of n.operations){if("merge_node"===t.type&&1===t.path.length&&"markDefs"in t.properties&&t.properties._type===e.block.name&&Array.isArray(t.properties.markDefs)&&t.properties.markDefs.length>0&&t.path[0]-1>=0){const[e,r]=V.node(n,[t.path[0]-1]);if(pc("Copying markDefs over to merged block",t),n.isTextBlock(e)){const i=Array.isArray(e.markDefs)&&e.markDefs||[],o=Fi([...i,...t.properties.markDefs]);bt(o,e.markDefs)||(ce.setNodes(n,{markDefs:o},{at:r,voids:!1}),n.onChange())}}if("split_node"===t.type&&1===t.path.length&&Ge.isElementProps(t.properties)&&t.properties._type===e.block.name&&"markDefs"in t.properties&&Array.isArray(t.properties.markDefs)&&t.properties.markDefs.length>0&&t.path[0]+1<n.children.length){const[e,r]=V.node(n,[t.path[0]+1]);if(pc("Copying markDefs over to split block",t),n.isTextBlock(e)){const i=Array.isArray(e.markDefs)&&e.markDefs||[];ce.setNodes(n,{markDefs:Fi([...i,...t.properties.markDefs])},{at:r,voids:!1}),n.onChange()}}if("split_node"===t.type&&2===t.path.length&&t.properties._type===e.span.name&&"marks"in t.properties&&Array.isArray(t.properties.marks)&&t.properties.marks.length>0&&t.path[0]+1<n.children.length){const[e,r]=V.node(n,[t.path[0]+1,0]);Fe.isText(e)&&""===e.text&&Array.isArray(e.marks)&&e.marks.length>0&&(ce.setNodes(n,{marks:[]},{at:r,voids:!1}),n.onChange())}if("split_node"===t.type&&1===t.path.length&&t.properties._type===e.block.name&&"markDefs"in t.properties&&Array.isArray(t.properties.markDefs)&&t.properties.markDefs.length>0){const[e,r]=V.node(n,[t.path[0]]);n.isTextBlock(e)&&1===e.children.length&&e.markDefs&&e.markDefs.length>0&&Fe.isText(e.children[0])&&""===e.children[0].text&&(!e.children[0].marks||0===e.children[0].marks.length)&&(ce.setNodes(n,{markDefs:[]},{at:r}),n.onChange())}}a&&Array.isArray(r.marks)&&(!r.marks||r.marks.length>0&&""===r.text)&&(ce.setNodes(n,{marks:[]},{at:o,voids:!1}),n.onChange())}if(n.isTextBlock(r)&&!n.operations.some((e=>"merge_node"===e.type&&"markDefs"in e.properties&&1===e.path.length))){const e=(r.markDefs||[]).filter((e=>r.children.find((t=>Fe.isText(t)&&Array.isArray(t.marks)&&t.marks.includes(e._key)))));r.markDefs&&!bt(e,r.markDefs)&&(pc("Removing markDef not in use"),ce.setNodes(n,{markDefs:e},{at:o}),n.onChange())}},n.apply=t=>{var i,a;if("insert_text"===t.type){const{selection:s}=n;if(s&&ge.isCollapsed(s)&&null!=(a=null==(i=V.marks(n))?void 0:i.marks)&&a.some((e=>!o.includes(e)))){const[i]=Array.from(V.nodes(n,{mode:"lowest",at:s.focus,match:t=>t._type===e.span.name,voids:!1}))[0]||[void 0];if(Fe.isText(i)&&i.text.length===s.focus.offset&&Array.isArray(i.marks)&&i.marks.length>0){r(t),ce.splitNodes(n,{match:Fe.isText,at:{...s.focus,offset:s.focus.offset}});const e=({...V.marks(n)||{}}.marks||[]).filter((e=>o.includes(e)));return ce.setNodes(n,{marks:e},{at:se.next(s.focus.path)}),void pc("Inserting text at end of annotation")}}}r(t)},n.addMark=e=>{if(n.selection){if(!ge.isExpanded(n.selection)){const t={...V.marks(n)||{}}.marks||[],r={...V.marks(n)||{},marks:[...t,e]};return n.marks=r,a(),n}{ce.setNodes(n,{},{match:Fe.isText,split:!0});const t=[...V.nodes(n,{at:n.selection,match:Fe.isText})];if(t.every((t=>{var n;return null==(n=t[0].marks)?void 0:n.includes(e)})))return n.removeMark(e),n;V.withoutNormalizing(n,(()=>{t.forEach((([t,r])=>{const i=[...(Array.isArray(t.marks)?t.marks:[]).filter((t=>t!==e)),e];ce.setNodes(n,{marks:i},{at:r,match:Fe.isText,split:!0,hanging:!0})}))})),V.normalize(n)}n.onChange(),a()}return n},n.removeMark=e=>{const{selection:t}=n;if(t){if(!ge.isExpanded(t)){const t={...V.marks(n)||{}}.marks||[],r={...V.marks(n)||{},marks:t.filter((t=>t!==e))};return n.marks={marks:r.marks,_type:"span"},a(),n}V.withoutNormalizing(n,(()=>{ce.setNodes(n,{},{match:Fe.isText,split:!0}),n.selection&&[...V.nodes(n,{at:n.selection,match:Fe.isText})].forEach((([t,r])=>{const i=n.children[r[0]];Ge.isElement(i)&&i.children.includes(t)&&ce.setNodes(n,{marks:(Array.isArray(t.marks)?t.marks:[]).filter((t=>t!==e)),_type:"span"},{at:r})}))})),V.normalize(n),n.onChange(),a()}return n},n.pteIsMarkActive=e=>{if(!n.selection)return!1;const t=Array.from(V.nodes(n,{match:Fe.isText,at:n.selection}));return ge.isExpanded(n.selection)?t.every((t=>{var n;const[r]=t;return null==(n=r.marks)?void 0:n.includes(e)})):({...V.marks(n)||{}}.marks||[]).includes(e)},n.pteToggleMark=e=>{n.pteIsMarkActive(e)?(pc(`Remove mark '${e}'`),V.removeMark(n,e)):(pc(`Add mark '${e}'`),V.addMark(n,e,!0))},n}}const xve=fi("plugin:withPortableTextSelections"),Ajt=xve.enabled&&!1;function jjt(e,t){let n=null;return function(r){const{onChange:i}=r;return r.onChange=()=>{const o=r.operations.length>0;i(),o&&(()=>{if(n!==r.selection){let n=null;if(r.selection){const e=k_.get(r.selection);e?n=e:(n=mf(r.children,r.selection,t),k_.set(r.selection,n))}Ajt&&xve(`Emitting selection ${JSON.stringify(n||null)} (${JSON.stringify(r.selection)})`),n?e.next({type:"selection",selection:n}):e.next({type:"selection",selection:null})}n=r.selection})()},r}}const NK=fi("plugin:withSchemaTypes");function Ijt({schemaTypes:e,keyGenerator:t}){return function(n){n.isTextBlock=t=>Mi(t)&&t._type===e.block.name,n.isTextSpan=t=>ha(t)&&t._type==e.span.name,n.isListBlock=t=>BTe(t)&&t._type===e.block.name,n.isVoid=t=>e.block.name!==t._type&&(e.blockObjects.map((e=>e.name)).includes(t._type)||e.inlineObjects.map((e=>e.name)).includes(t._type)),n.isInline=t=>e.inlineObjects.map((e=>e.name)).includes(t._type)&&"__inline"in t&&!0===t.__inline;const{normalizeNode:r}=n;return n.normalizeNode=i=>{const[o,a]=i;if(void 0===o._type&&2===a.length){NK("Setting span type on text node without a type");const r=o,i=r._key||t();ce.setNodes(n,{...r,_type:e.span.name,_key:i},{at:a})}if(void 0===o._key&&(1===a.length||2===a.length)){NK("Setting missing key on child node without a key");const e=t();ce.setNodes(n,{_key:e},{at:a})}r(i)},n}}const ID=fi("plugin:withUtils");function Djt({schemaTypes:e,keyGenerator:t,portableTextEditor:n}){return function(r){return r.pteExpandToWord=()=>{const{selection:e}=r;if(e&&!ge.isExpanded(e)){const[t]=V.node(r,e.focus,{depth:2});if(!t||!Fe.isText(t)||0===t.text.length)return void ID("pteExpandToWord: Can't expand to word here");const{focus:n}=e,i=n.offset,o=t.text.slice(0,i),a=t.text.slice(i,-1),s=e=>e.match(/\s/g),l=o.split("").reverse().findIndex((e=>s(e))),u=l>-1?o.length-l:0,c=a.split("").findIndex((e=>s(e))),d=o.length+(c>-1?c:a.length+1);if(u!==d&&!isNaN(u)&&!isNaN(d))return ID("pteExpandToWord: Expanding to focused word"),void ce.setSelection(r,{anchor:{...e.anchor,offset:u},focus:{...e.focus,offset:d}});ID("pteExpandToWord: Can't expand to word here")}},r.pteCreateEmptyBlock=()=>Au([{_type:e.block.name,_key:t(),style:e.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0],r}}const DD=fi("plugin:withHotKeys"),Ojt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function Rjt(e,t,n){const r=["enter","tab","shift","delete","end"],i=n||Ojt;return function(n){return n.pteWithHotKeys=o=>{var a,s,l,u;Object.keys(i).forEach((e=>{if("marks"===e)for(const t in i[e]){if(r.includes(t))throw new Error(`The hotkey ${t} is reserved!`);if(aa(t,o.nativeEvent)){o.preventDefault();const r=i[e];if(r){const e=r[t];DD(`HotKey ${t} to toggle ${e}`),n.pteToggleMark(e)}}}if("custom"===e)for(const n in i[e]){if(r.includes(n))throw new Error(`The hotkey ${n} is reserved!`);if(aa(n,o.nativeEvent)){const r=i[e];if(r){(0,r[n])(o,t)}}}}));const c=aa("enter",o.nativeEvent),d=aa("tab",o.nativeEvent),f=aa("shift+enter",o.nativeEvent),p=aa("shift+tab",o.nativeEvent),h=aa("backspace",o.nativeEvent),m=aa("delete",o.nativeEvent),g=aa("down",o.nativeEvent),y=aa("up",o.nativeEvent);if(g&&n.selection){const e=Re.descendant(n,n.selection.focus.path.slice(0,1));if(e&&V.isVoid(n,e)){const e=se.next(n.selection.focus.path.slice(0,1));if(!Re.has(n,e))return ce.insertNodes(n,n.pteCreateEmptyBlock(),{at:e}),void n.onChange()}}if(y&&n.selection){const e=0===n.selection.focus.path[0],t=Re.descendant(n,n.selection.focus.path.slice(0,1));if(e&&t&&V.isVoid(n,t))return ce.insertNodes(n,n.pteCreateEmptyBlock(),{at:[0]}),ce.select(n,{path:[0,0],offset:0}),void n.onChange()}if(h&&n.selection&&0===n.selection.focus.path[0]&&ge.isCollapsed(n.selection)){const e=Re.descendant(n,n.selection.focus.path.slice(0,1)),t=se.next(n.selection.focus.path.slice(0,1)),r=Re.has(n,t),i=Mi(e),l=i&&1===e.children.length&&""===(null==(s=null==(a=e.children)?void 0:a[0])?void 0:s.text);if(r&&i&&l)return o.preventDefault(),o.stopPropagation(),ce.removeNodes(n,{match:t=>t===e}),void n.onChange()}if(h&&n.selection&&n.selection.focus.path[0]>0&&ge.isCollapsed(n.selection)){const e=se.previous(n.selection.focus.path.slice(0,1)),t=Re.descendant(n,e),r=Re.descendant(n,n.selection.focus.path.slice(0,1));if(t&&r&&V.isVoid(n,t)&&0===n.selection.focus.offset){DD("Preventing deleting void block above"),o.preventDefault(),o.stopPropagation();const t=Mi(r),i=t&&1===r.children.length&&""===(null==(u=null==(l=r.children)?void 0:l[0])?void 0:u.text);return!t||i?(ce.removeNodes(n,{match:e=>e===r}),ce.select(n,e),void n.onChange()):t&&!i?(ce.select(n,e),void n.onChange()):void 0}}if(m&&n.selection&&0===n.selection.focus.offset&&ge.isCollapsed(n.selection)&&n.children[n.selection.focus.path[0]+1]){const e=Re.descendant(n,se.next(n.selection.focus.path.slice(0,1))),t=n.selection.focus.path.slice(0,1),r=Re.descendant(n,t);if(e&&r&&!V.isVoid(n,r)&&V.isVoid(n,e))return DD("Preventing deleting void block below"),o.preventDefault(),o.stopPropagation(),ce.removeNodes(n,{match:e=>e===r}),ce.select(n,t),void n.onChange()}if((d||p)&&n.selection){const[e]=V.node(n,n.selection.focus,{depth:2}),[t]=ha(e)?V.node(n,n.selection.focus,{depth:1}):[],r=e&&Mi(t)&&ha(e)&&(e.marks||[]).filter((e=>(t.markDefs||[]).map((e=>e._key)).includes(e))).length>0,[i]=ge.edges(n.selection),a=V.isStart(n,i,i.path);e&&ha(e)&&(!r||a)&&n.pteIncrementBlockLevels(p)&&o.preventDefault()}if(c&&!f&&n.selection){const t=n.selection.focus.path.slice(0,1),r=Re.descendant(n,t);if(n.isListBlock(r))return void(n.pteEndList()&&o.preventDefault());if(n.isTextBlock(r)&&r.style&&r.style!==e.styles[0].value){const[,e]=ge.edges(n.selection);if(V.isEnd(n,e,e.path))return V.insertNode(n,n.pteCreateEmptyBlock()),o.preventDefault(),void n.onChange()}if(r&&V.isVoid(n,r))return V.insertNode(n,n.pteCreateEmptyBlock()),o.preventDefault(),void n.onChange();o.preventDefault(),n.insertBreak(),n.onChange()}return f?(o.preventDefault(),void n.insertText("\n")):aa("mod+z",o.nativeEvent)?(o.preventDefault(),void n.undo()):void((aa("mod+y",o.nativeEvent)||aa("mod+shift+z",o.nativeEvent))&&(o.preventDefault(),n.redo()))},n}}function I_(e,t,n){let r=null,i=!0;const o=[t.span.name,...t.inlineObjects.map((e=>e.name))],a=[t.block.name,...t.blockObjects.map((e=>e.name))];return void 0===e?{valid:!0,resolution:null,value:e}:Array.isArray(e)&&0!==e.length?(e.some(((e,s)=>{if(!ar(e))return r={patches:[za([s])],description:`Block must be an object, got ${String(e)}`,action:"Unset invalid item",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:s}}},!0;if(!e._key||"string"!=typeof e._key)return r={patches:[Mo({...e,_key:n()},[s])],description:`Block at index ${s} is missing required _key.`,action:"Set the block with a random _key value",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:s}}},!0;if(!e._type||!a.includes(e._type)){if("block"===e._type){const n=t.block.name;return r={patches:[Mo({...e,_type:n},[{_key:e._key}])],description:`Block with _key '${e._key}' has invalid type name '${e._type}'. According to the schema, the block type name is '${n}'`,action:`Use type '${n}'`,item:e,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:e._key,expectedTypeName:n}}},!0}return!e._type&&Mi({...e,_type:t.block.name})?(r={patches:[Mo({...e,_type:t.block.name},[{_key:e._key}])],description:`Block with _key '${e._key}' is missing a type name. According to the schema, the block type name is '${t.block.name}'`,action:`Use type '${t.block.name}'`,item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:e._key,expectedTypeName:t.block.name}}},!0):e._type?(r={patches:[za([{_key:e._key}])],description:`Block with _key '${e._key}' has invalid _type '${e._type}'`,action:"Remove the block",item:e,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:e._key,typeName:e._type}}},!0):(r={patches:[za([{_key:e._key}])],description:`Block with _key '${e._key}' is missing an _type property`,action:"Remove the block",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:e._key}}},!0)}if(e._type===t.block.name){const a=e;if(a.children&&!Array.isArray(a.children))return r={patches:[Mo({children:[]},[{_key:a._key}])],description:`Text block with _key '${a._key}' has a invalid required property 'children'.`,action:"Reset the children property",item:a,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:a._key}}},!0;if(void 0===a.children||Array.isArray(a.children)&&0===a.children.length){const i={_type:t.span.name,_key:n(),text:"",marks:[]};return r={autoResolve:!0,patches:[F8([],[{_key:e._key},"children"]),_c([i],"after",[{_key:e._key},"children",0])],description:`Children for text block with _key '${e._key}' is empty.`,action:"Insert an empty text",item:e,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:e._key}}},!0}if(e.markDefs&&!Array.isArray(e.markDefs))return r={patches:[Mo({...a,markDefs:QTt},[{_key:a._key}])],description:"Block has invalid required property 'markDefs'.",action:"Add empty markDefs array",item:a,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action",values:{key:a._key}}},!0;const s=Fi(pr(a.children.filter((e=>e._type===t.span.name)).map((e=>e.marks||[]))));if(Array.isArray(e.markDefs)&&e.markDefs.length>0){const t=Fi(e.markDefs.map((e=>e._key)).filter((e=>!s.includes(e))));if(t.length>0)return r={autoResolve:!0,patches:t.map((t=>za([{_key:e._key},"markDefs",{_key:t}]))),description:`Block contains orphaned data (unused mark definitions): ${t.join(", ")}.`,action:"Remove unused mark definition item",item:e,i18n:{description:"inputs.portable-text.invalid-value.orphaned-mark-defs.description",action:"inputs.portable-text.invalid-value.orphaned-mark-defs.action",values:{key:e._key,unusedMarkDefs:t.map((e=>e.toString()))}}},!0}const l=s.filter((e=>!t.decorators.map((e=>e.value)).includes(e))).filter((e=>void 0===a.markDefs||!a.markDefs.find((t=>t._key===e))));if(l.length>0){const n=a.children.filter((e=>e._type===t.span.name&&Array.isArray(e.marks)&&e.marks.some((e=>l.includes(e)))));if(n){const t=l.join(", ");return r={autoResolve:!0,patches:n.map((t=>Mo((t.marks||[]).filter((e=>!l.includes(e))),[{_key:e._key},"children",{_key:t._key},"marks"]))),description:`Block with _key '${e._key}' contains marks (${t}) not supported by the current content model.`,action:"Remove invalid marks",item:e,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:e._key,orphanedMarks:l.map((e=>e.toString()))}}},!0}}a.children.some(((i,a)=>{if(!ar(i))return r={patches:[za([{_key:e._key},"children",a])],description:`Child at index '${a}' in block with key '${e._key}' is not an object.`,action:"Remove the item",item:e,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:e._key,index:a}}},!0;if(!i._key||"string"!=typeof i._key){const t={...i,_key:n()};return r={autoResolve:!0,patches:[Mo(t,[{_key:e._key},"children",a])],description:`Child at index ${a} is missing required _key in block with _key ${e._key}.`,action:"Set a new random _key on the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:e._key,index:a}}},!0}return i._type?o.includes(i._type)?i._type===t.span.name&&"string"!=typeof i.text&&(r={patches:[Mo({...i,text:""},[{_key:e._key},"children",{_key:i._key}])],description:`Child with _key '${i._key}' in block with key '${e._key}' has missing or invalid text property!`,action:"Write an empty text property to the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:e._key,childKey:i._key}}},!0):(r={patches:[za([{_key:e._key},"children",{_key:i._key}])],description:`Child with _key '${i._key}' in block with key '${e._key}' has invalid '_type' property (${i._type}).`,action:"Remove the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:e._key,childKey:i._key,childType:i._type}}},!0):(r={patches:[za([{_key:e._key},"children",{_key:i._key}])],description:`Child with _key '${i._key}' in block with key '${e._key}' is missing '_type' property.`,action:"Remove the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:e._key,childKey:i._key}}},!0)}))&&(i=!1)}return!1}))&&(i=!1),{valid:i,resolution:r,value:e}):{valid:!1,resolution:{patches:[za([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:e}}const xc=fi("plugin:withInsertData");function Mjt(e,t,n){return function(r){const i=t.block.name,o=t.span.name,a=t.block.options.unstable_whitespaceOnPasteMode;return r.setFragmentData=(e,n)=>{const{selection:a}=r;if(!a)return;const[s,l]=ge.edges(a),u=V.void(r,{at:s.path}),c=V.void(r,{at:l.path});if(ge.isCollapsed(a)&&!u)return;const d=Se.toDOMRange(r,a);let f=d.cloneContents();if(c){const[e]=c,t=d.cloneRange(),n=Se.toDOMNode(r,e);t.setEndAfter(n),f=t.cloneContents()}Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{const t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Array.from(f.querySelectorAll("*")).forEach((e=>{e.removeAttribute("contentEditable"),e.removeAttribute("data-slate-inline"),e.removeAttribute("data-slate-leaf"),e.removeAttribute("data-slate-node"),e.removeAttribute("data-slate-spacer"),e.removeAttribute("data-slate-string"),e.removeAttribute("data-slate-zero-width"),e.removeAttribute("draggable");for(const t in e.attributes)e.hasAttribute(t)&&e.removeAttribute(t)}));const p=f.ownerDocument.createElement("div");p.appendChild(f),p.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(p);const h=p.innerHTML;f.ownerDocument.body.removeChild(p);const m=$r(r.getFragment(),i),g=JSON.stringify(m),y=(e=>e.map((e=>{var n;return r.isTextBlock(e)?e.children.map((e=>{var n;return e._type===o?e.text:`[${(null==(n=t.inlineObjects.find((t=>t.name===e._type)))?void 0:n.title)||"Object"}]`})).join(""):`[${(null==(n=t.blockObjects.find((t=>t.name===e._type)))?void 0:n.title)||"Object"}]`})).join("\n\n"))(m);e.clearData(),e.setData("text/plain",y),e.setData("text/html",h),e.setData("application/json",g),e.setData("application/x-portable-text",g),xc("text",y),e.setData("application/x-portable-text-event-origin",n||"external"),xc("Set fragment data",g,h)},r.insertPortableTextData=i=>{var a,s;if(!r.selection)return!1;const l=i.getData("application/x-portable-text"),u=i.getData("application/x-portable-text-event-origin");if(xc(`Inserting portable text from ${u} event`,l),l){const i=JSON.parse(l);if(Array.isArray(i)&&i.length>0){const l=Fjt(r,Au(i,{schemaTypes:t}),n,o),u=I_(i,t,n);if(!(u.valid||null!=(a=u.resolution)&&a.autoResolve)){const t=`${null==(s=u.resolution)?void 0:s.description}`;return e.next({type:"error",level:"warning",name:"pasteError",description:t,data:u}),xc("Invalid insert result",u),!1}return BK(r,l,t),!0}}return!1},r.insertTextOrHTMLData=o=>{var s;if(!r.selection)return xc("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const l=o.getData("text/html"),u=o.getData("text/plain");if(l||u){let c,d,f;if(xc("Inserting data",o),l){if(c=mK(l,t.portableText,{unstable_whitespaceOnPasteMode:a}).map((e=>Kb(e,{blockTypeName:i}))),d=Au(c,{schemaTypes:t}),f="HTML",0===c.length)return!1}else{c=mK(`<html><body>${Pjt(u).split(/\n{2,}/).map((e=>e?`<p>${e.replace(/(?:\r\n|\r|\n)/g,"<br/>")}</p>`:"<p></p>")).join("")}</body></html>`,t.portableText).map((e=>Kb(e,{blockTypeName:i}))),d=Au(c,{schemaTypes:t}),f="text"}const p=I_(c,t,n);if(!p.valid){const t=`Could not validate the resulting portable text to insert.\n${null==(s=p.resolution)?void 0:s.description}\nTry to insert as plain text (shift-paste) instead.`;return e.next({type:"error",level:"warning",name:"pasteError",description:t,data:p}),xc("Invalid insert result",p),!1}return xc(`Inserting ${f} fragment at ${JSON.stringify(r.selection)}`),BK(r,d,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},r.insertData=e=>{r.insertPortableTextData(e)||r.insertTextOrHTMLData(e)},r.insertFragmentData=e=>{const t=e.getData("application/x-portable-text");if(t){const e=JSON.parse(t);return r.insertFragment(e),!0}return!1},r}}const $jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Pjt(e){return String(e).replace(/[&<>"'`=/]/g,(e=>$jt[e]))}function Fjt(e,t,n,r){return t.map((t=>{const i={...t};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map((t=>{const o=t._key,a=n();return i.children=i.children.map((t=>t._type===r&&e.isTextSpan(t)?{...t,marks:t.marks&&t.marks.includes(o)?[...t.marks].filter((e=>e!==o)).concat(a):t.marks}:t)),{...t,_key:a}})));const o={...i,_key:n()};return e.isTextBlock(o)&&(o.children=o.children.map((e=>({...e,_key:n()})))),o}))}function BK(e,t,n){e.withoutNormalizing((()=>{if(!e.selection)return;const[r,i]=V.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:n}=r;xc("Mixing markDefs of focusBlock and fragments[0] block",n,t[0].markDefs),bt(n,t[0].markDefs)||ce.setNodes(e,{markDefs:Fi([...t[0].markDefs||[],...n||[]])},{at:i,mode:"lowest",voids:!1})}M0(e.children,n)?(ce.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ce.removeNodes(e,{at:[0]})):e.insertFragment(t)})),e.onChange()}const VK=new WeakMap,zK=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:i,patches$:o,readOnly:a,maxBlocks:s}=t,{schemaTypes:l,change$:u}=i;n.subscriptions=[],n.destroy?n.destroy():VK.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const c=WAt(l),d=KAt(l,r),f=Ijt({schemaTypes:l,keyGenerator:r}),p=GAt(i,l,r),h=Cjt({change$:u,keyGenerator:r,patches$:o,patchFunctions:c,readOnly:a,schemaTypes:l}),m=qAt(s||-1),g=kjt(l),y=gjt({readOnly:a,patches$:o,blockSchemaType:l.block}),v=Tjt(l,u),b=_jt(l),x=Ejt(),w=YAt(l),C=Djt({keyGenerator:r,schemaTypes:l,portableTextEditor:i}),k=jjt(u,l);return n.destroy=()=>{const e=VK.get(n);if(!e)throw new Error("Could not find pristine versions of editor functions");n.apply=e.apply,n.history={undos:[],redos:[]},n.normalizeNode=e.normalizeNode,n.onChange=e.onChange},a?{editor:f(d(v(b(C(x(g(k(p(w(n)))))))))),subscribe:()=>jme}:{editor:f(d(v(b(g(x(C(m(y(h(k(p(w(n))))))))))))),subscribe:()=>{const t=[];return e.subscriptions.forEach((e=>{t.push(e())})),()=>{t.forEach((e=>{e()}))}}}},OD=fi("component:PortableTextEditor:SlateContainer");function Ljt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:i,keyGenerator:o}=e,[[a,s]]=f.useState((()=>{OD("Creating new Slate editor instance");const{editor:e,subscribe:a}=zK(gEt(N2t()),{keyGenerator:o,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r});return Ms.set(e,{}),ZM.set(e,{}),[e,a]}));f.useEffect((()=>{const e=s();return()=>{e()}}),[s]),f.useEffect((()=>{OD("Re-initializing plugin chain"),zK(a,{keyGenerator:o,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r})}),[o,n,i,r,t,a]);const l=f.useMemo((()=>[a.pteCreateEmptyBlock()]),[a]);return f.useEffect((()=>()=>{OD("Destroying Slate editor"),a.destroy()}),[a]),u.jsx(pEt,{editor:a,initialValue:l,children:e.children})}const D_=()=>lw(12),wve=f.createContext(D_),Njt=()=>{const e=f.useContext(wve);if(void 0===e)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Cve=f.createContext(null),bm=()=>{const e=f.useContext(Cve);if(void 0===e)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},Bjt=f.createContext(void 0),Sve=f.createContext(!1),Vjt=()=>{const e=f.useContext(Sve);if(void 0===e)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},Ti=fi("hook:useSyncValue"),UK=new WeakMap;function zjt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:i,schemaTypes:o}=t,a=f.useRef(),s=LT(),l=f.useRef(),u=f.useCallback((()=>{const e=UK.get(t);a.current!==e?l.current&&e&&(Ti("Updating the value debounced"),l.current(e)):Ti("Value is the same object as previous, not need to sync")}),[t]),c=f.useMemo((()=>nm(u,1e3,{trailing:!0,leading:!1})),[u]);return f.useMemo((()=>{const e=e=>{UK.set(t,e);const l=hjt(s),u=vve(s);if(!n){if(l)return Ti("Has local changes, not syncing value right now"),void c();if(u)return Ti("Has remote changes, not syncing value right now"),void c()}let d=!1,f=!0;const p=!!s.selection;if((!e||0===e.length)&&(Ti("Value is empty"),V.withoutNormalizing(s,(()=>{Zb(s,(()=>{QM(s,(()=>{p&&ce.deselect(s);const e=s.children.length;s.children.forEach(((t,n)=>{ce.removeNodes(s,{at:[e-1-n]})})),ce.insertNodes(s,s.pteCreateEmptyBlock(),{at:[0]}),p&&ce.select(s,[0,0])}))}))})),d=!0),e&&e.length>0){const t=Au(e,{schemaTypes:o});V.withoutNormalizing(s,(()=>{gve(s,(()=>{Zb(s,(()=>{QM(s,(()=>{const l=s.children.length;if(t.length<l){for(let e=l-1;e>t.length-1;e--)ce.removeNodes(s,{at:[e]});d=!0}t.forEach(((t,l)=>{var u,c,p,h,m;const g=s.children[l];if(g&&!bt(t,g)&&f){const m=[e[l]],y=I_(m,o,r);!y.valid&&null!=(u=y.resolution)&&u.autoResolve&&(null==(c=y.resolution)?void 0:c.patches.length)>0&&!n&&a.current&&a.current!==e&&(console.warn(`${y.resolution.action} for block with _key '${m[0]._key}'. ${null==(p=y.resolution)?void 0:p.description}`),y.resolution.patches.forEach((e=>{i.next({type:"patch",patch:e})}))),y.valid||null!=(h=y.resolution)&&h.autoResolve?(g._key===t._key?(Ti.enabled&&Ti("Updating block",g,t),Hjt(s,t,g,l)):(Ti.enabled&&Ti("Replacing block",g,t),Ujt(s,t,l)),d=!0):(i.next({type:"invalidValue",resolution:y.resolution,value:e}),f=!1)}if(!g&&f){const n=I_([e[l]],o,r);Ti.enabled&&Ti("Validating and inserting new block in the end of the value",t),n.valid||null!=(m=n.resolution)&&m.autoResolve?Vp(s,(()=>{ce.insertNodes(s,t,{at:[l]})})):(Ti("Invalid",n),i.next({type:"invalidValue",resolution:n.resolution,value:e}),f=!1)}}))}))}))}))}))}if(f){if(d){Ti("Server value changed, syncing editor");try{s.onChange()}catch(t){return console.error(t),void i.next({type:"invalidValue",resolution:null,value:e})}p&&!s.selection&&(ce.select(s,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),s.onChange()),i.next({type:"value",value:e})}else Ti("Server value and editor value is equal, no need to sync.");a.current=e}else Ti("Invalid value, returning")};return l.current=e,e}),[i,r,t,n,o,s,c])}function Ujt(e,t,n){const r=e.selection,i=r&&r.focus.path[0]===n;i&&ce.deselect(e),ce.removeNodes(e,{at:[n]}),Vp(e,(()=>{ce.insertNodes(e,t,{at:[n]})})),e.onChange(),i&&ce.select(e,r)}function Hjt(e,t,n,r){if(ce.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const i=n.children.length;t.children.length<i&&Array.from(Array(i-t.children.length)).forEach(((t,n)=>{const o=i-1-n;o>0&&(Ti("Removing child"),ce.removeNodes(e,{at:[r,o]}))})),t.children.forEach(((t,i)=>{const o=n.children[i],a=!bt(t,o),s=!bt(t.text,o?.text),l=[r,i];if(a)if(t._key===o?._key){Ti("Updating changed child",t,o),ce.setNodes(e,t,{at:l});const n=Fe.isText(t)&&"span"===t._type&&Fe.isText(o)&&"span"===o._type;n&&s?(ce.delete(e,{at:{focus:{path:l,offset:0},anchor:{path:l,offset:o.text.length}}}),ce.insertText(e,t.text,{at:l}),e.onChange()):n||(Ti("Updating changed inline object child",t),ce.setNodes(e,{_key:ive},{at:[...l,0],voids:!0}))}else o?(Ti("Replacing child",t),ce.removeNodes(e,{at:[r,i]}),Vp(e,(()=>{ce.insertNodes(e,t,{at:[r,i]})})),e.onChange()):o||(Ti("Inserting new child",t),Vp(e,(()=>{ce.insertNodes(e,t,{at:[r,i]}),e.onChange()})))}))}}const wc=fi("component:PortableTextEditor:Synchronizer"),HK=wc.enabled&&!1,Wjt=1e3;function Gjt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:i,readOnly:o,value:a}=e,[s,l]=f.useState(null),c=f.useRef([]),d=zjt({keyGenerator:i,onChange:r,portableTextEditor:n,readOnly:o}),p=LT();f.useEffect((()=>{RS.set(p,!1)}),[p]);const h=f.useCallback((()=>{if(c.current.length>0){wc("Flushing pending patches"),HK&&wc(`Patches:\n${JSON.stringify(c.current,null,2)}`);const e=Ie.getValue(n);t.next({type:"mutation",patches:c.current,snapshot:e}),c.current=[]}RS.set(p,!1)}),[p,n,t]),m=f.useMemo((()=>I1((()=>{V.isNormalizing(p)?h():m()}),Wjt,{leading:!1,trailing:!0})),[h,p]);f.useEffect((()=>()=>{h()}),[h]),f.useEffect((()=>{wc("Subscribing to editor changes$");const e=t.subscribe((e=>{switch(e.type){case"patch":RS.set(p,!0),c.current.push(e.patch),m(),r(e);break;case"selection":f.startTransition((()=>{HK&&wc("Setting selection"),l(e.selection)})),r(e);break;default:r(e)}}));return()=>{wc("Unsubscribing to changes$"),e.unsubscribe()}}),[t,r,m,p]);const g=f.useCallback((()=>{wc("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(a)}),[t,d,a]),y=f.useCallback((()=>{wc("Editor is offline"),t.next({type:"connection",value:"offline"})}),[t]);f.useEffect((()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",y)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",y))})));const v=f.useRef(!0);return f.useEffect((()=>{wc("Value from props changed, syncing new value"),d(a),v.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),v.current=!1)}),[t,d,a]),u.jsx(wve.Provider,{value:i,children:u.jsx(ave.Provider,{value:n,children:u.jsx(Bjt.Provider,{value:a,children:u.jsx(Sve.Provider,{value:o,children:u.jsx(Cve.Provider,{value:s,children:e.children})})})})})}var Yjt=Object.defineProperty,qjt=(e,t,n)=>t in e?Yjt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t,n)=>qjt(e,"symbol"!=typeof t?t+"":t,n);const mc=fi("component:PortableTextEditor");class Ie extends f.Component{constructor(e){if(super(e),un(this,"change$",new kr),un(this,"schemaTypes"),un(this,"editable"),un(this,"setEditable",(e=>{this.editable={...this.editable,...e}})),!e.schemaType)throw new Error('PortableTextEditor: missing "type" property');e.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=xK(e.schemaType.hasOwnProperty("jsonType")?e.schemaType:wK(e.schemaType))}componentDidUpdate(e){this.props.schemaType!==e.schemaType&&(this.schemaTypes=xK(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:wK(this.props.schemaType))),this.props.editorRef!==e.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this)}render(){const{onChange:e,value:t,children:n,patches$:r,incomingPatches$:i}=this.props,{change$:o}=this,a=i||r,s=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,l=!!this.props.readOnly,c=this.props.keyGenerator||D_;return u.jsx(Ljt,{keyGenerator:c,maxBlocks:s,patches$:a,portableTextEditor:this,readOnly:l,children:u.jsx(Gjt,{change$:o,keyGenerator:c,onChange:e,portableTextEditor:this,readOnly:l,value:t,children:n})})}}un(Ie,"activeAnnotations",(e=>e&&e.editable?e.editable.activeAnnotations():[])),un(Ie,"isAnnotationActive",((e,t)=>!(!e||!e.editable)&&e.editable.isAnnotationActive(t))),un(Ie,"addAnnotation",((e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.addAnnotation(t,n)})),un(Ie,"blur",(e=>{var t;mc("Host blurred"),null==(t=e.editable)||t.blur()})),un(Ie,"delete",((e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.delete(t,n)})),un(Ie,"findDOMNode",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.findDOMNode(t)})),un(Ie,"findByPath",((e,t)=>{var n;return(null==(n=e.editable)?void 0:n.findByPath(t))||[]})),un(Ie,"focus",(e=>{var t;mc("Host requesting focus"),null==(t=e.editable)||t.focus()})),un(Ie,"focusBlock",(e=>{var t;return null==(t=e.editable)?void 0:t.focusBlock()})),un(Ie,"focusChild",(e=>{var t;return null==(t=e.editable)?void 0:t.focusChild()})),un(Ie,"getSelection",(e=>e.editable?e.editable.getSelection():null)),un(Ie,"getValue",(e=>{var t;return null==(t=e.editable)?void 0:t.getValue()})),un(Ie,"hasBlockStyle",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.hasBlockStyle(t)})),un(Ie,"hasListStyle",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.hasListStyle(t)})),un(Ie,"isCollapsedSelection",(e=>{var t;return null==(t=e.editable)?void 0:t.isCollapsedSelection()})),un(Ie,"isExpandedSelection",(e=>{var t;return null==(t=e.editable)?void 0:t.isExpandedSelection()})),un(Ie,"isMarkActive",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.isMarkActive(t)})),un(Ie,"insertChild",((e,t,n)=>{var r;return mc("Host inserting child"),null==(r=e.editable)?void 0:r.insertChild(t,n)})),un(Ie,"insertBlock",((e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.insertBlock(t,n)})),un(Ie,"insertBreak",(e=>{var t;return null==(t=e.editable)?void 0:t.insertBreak()})),un(Ie,"isVoid",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.isVoid(t)})),un(Ie,"isObjectPath",((e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&"children"===t[1];return t.length>1&&"children"!==t[1]||n})),un(Ie,"marks",(e=>{var t;return null==(t=e.editable)?void 0:t.marks()})),un(Ie,"select",((e,t)=>{var n;mc("Host setting selection",t),null==(n=e.editable)||n.select(t)})),un(Ie,"removeAnnotation",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.removeAnnotation(t)})),un(Ie,"toggleBlockStyle",((e,t)=>{var n;return mc("Host is toggling block style"),null==(n=e.editable)?void 0:n.toggleBlockStyle(t)})),un(Ie,"toggleList",((e,t)=>{var n;return null==(n=e.editable)?void 0:n.toggleList(t)})),un(Ie,"toggleMark",((e,t)=>{var n;mc("Host toggling mark",t),null==(n=e.editable)||n.toggleMark(t)})),un(Ie,"getFragment",(e=>{var t;return mc("Host getting fragment"),null==(t=e.editable)?void 0:t.getFragment()})),un(Ie,"undo",(e=>{var t;mc("Host undoing"),null==(t=e.editable)||t.undo()})),un(Ie,"redo",(e=>{var t;mc("Host redoing"),null==(t=e.editable)||t.redo()})),un(Ie,"isSelectionsOverlapping",((e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.isSelectionsOverlapping(t,n)}));const Kjt=fi("components:Leaf"),WK=[],Zjt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:i,renderChild:o,renderDecorator:a,renderAnnotation:s}=e,l=f.useRef(null),c=zi(),d=D1e(),[p,h]=f.useState(!1),[m,g]=f.useState(!1),y=n.props.parent,v=f.useMemo((()=>y?[{_key:y?._key},"children",{_key:r._key}]:[]),[y,r._key]),b=f.useMemo((()=>i.decorators.map((e=>e.value))),[i.decorators]),x=f.useMemo((()=>Fi((r.marks||WK).filter((e=>b.includes(e))))),[b,r.marks]),w=Array.isArray(r.marks)?r.marks:WK,C=f.useMemo((()=>w.map((e=>{var t;return!b.includes(e)&&(null==(t=y?.markDefs)?void 0:t.find((t=>t._key===e)))})).filter(Boolean)),[w,y,b]),k=C.length>0&&d;f.useEffect((()=>{if(!k)return void h(!1);const e=Ie.getSelection(c);e&&bt(e.focus.path,v)&&Ie.isCollapsedSelection(c)&&f.startTransition((()=>{h(!0)}))}),[k,v,c]);const j=f.useCallback((()=>{if(!k)return;Kjt("Setting selection and focus from range");const e=window.getSelection();if(e)if(e&&e.rangeCount>0){const t=e.getRangeAt(0);l.current&&t.intersectsNode(l.current)?g(!0):g(!1)}else g(!1);else g(!1)}),[k]);f.useEffect((()=>{if(!k)return;const e=c.change$.subscribe((e=>{if("blur"===e.type)return h(!1),void g(!1);if("focus"===e.type){const e=Ie.getSelection(c);return e&&bt(e.focus.path,v)&&Ie.isCollapsedSelection(c)&&h(!0),void j()}"selection"===e.type&&(e.selection&&bt(e.selection.focus.path,v)&&Ie.isCollapsedSelection(c)?h(!0):h(!1),j())}));return()=>{e.unsubscribe()}}),[v,c,j,k]),f.useEffect((()=>j()),[j]);const S=f.useMemo((()=>{let e=n;if(Fe.isText(r)&&r._type===i.span.name&&(x.forEach((t=>{const n=i.decorators.find((e=>e.value===t));if(n&&a){const r=Object.defineProperty({children:e,editorElementRef:l,focused:p,path:v,selected:m,schemaType:n,value:t},"type",{enumerable:!1,get:()=>(console.warn("Property 'type' is deprecated, use 'schemaType' instead."),n)});e=a(r)}})),y&&C.length>0&&C.forEach((t=>{const n=i.annotations.find((e=>e.name===t._type));if(n)if(s){const r=Object.defineProperty({block:y,children:e,editorElementRef:l,focused:p,path:v,selected:m,schemaType:n,value:t},"type",{enumerable:!1,get:()=>(console.warn("Property 'type' is deprecated, use 'schemaType' instead."),n)});e=u.jsx("span",{ref:l,children:s(r)})}else e=u.jsx(hAt,{annotation:t,children:u.jsx("span",{ref:l,children:e})})})),y&&o)){const t=y.children.find((e=>e._key===r._key));if(t){const n=Object.defineProperty({annotations:C,children:u.jsx(u.Fragment,{children:e}),editorElementRef:l,focused:p,path:v,schemaType:i.span,selected:m,value:t},"type",{enumerable:!1,get:()=>(console.warn("Property 'type' is deprecated, use 'schemaType' instead."),i.span)});e=o(n)}}return e}),[C,y,n,p,r,x,v,s,o,a,i.annotations,i.decorators,i.span,m]);return f.useMemo((()=>u.jsx("span",{...t,ref:l,children:S},r._key)),[r,t,S])},gc=fi("component:Editable"),Xjt={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},i2=[],Eve=f.forwardRef((function(e,t){const{hotkeys:n,onBlur:r,onFocus:i,onBeforeInput:o,onPaste:a,onCopy:s,onClick:l,rangeDecorations:c,renderAnnotation:d,renderBlock:p,renderChild:h,renderDecorator:m,renderListItem:g,renderPlaceholder:y,renderStyle:v,selection:b,scrollSelectionIntoView:x,spellCheck:w,...C}=e,k=zi(),j=Vjt(),S=Njt(),E=f.useRef(null),[_,A]=f.useState(null),[T,D]=f.useState(!1),[M,I]=f.useState(i2);f.useImperativeHandle(t,(()=>E.current));const O=f.useRef(c),{change$:N,schemaTypes:P}=k,R=LT(),F=P.block.name,L=f.useMemo((()=>Mjt(N,P,S)),[N,S,P]),$=f.useMemo((()=>Rjt(P,k,n)),[n,k,P]);f.useMemo((()=>j?(gc("Editable is in read only mode"),L(R)):(gc("Editable is in edit mode"),L($(R)))),[j,R,$,L]);const B=f.useCallback((e=>u.jsx(fAt,{...e,readOnly:j,renderBlock:p,renderChild:h,renderListItem:g,renderStyle:v,schemaTypes:P,spellCheck:w})),[P,w,j,p,h,g,v]),z=f.useCallback((e=>{if("span"===e.leaf._type){let t=u.jsx(Zjt,{...e,schemaTypes:P,renderAnnotation:d,renderChild:h,renderDecorator:m,readOnly:j});if(y&&e.leaf.placeholder&&""===e.text.text)return u.jsxs(u.Fragment,{children:[u.jsx("span",{style:Xjt,contentEditable:!1,children:y()}),t]});const n=e.leaf.rangeDecoration;return n&&(t=n.component({children:t})),t}return e.children}),[j,d,h,m,y,P]),U=f.useCallback((()=>{if(b){gc(`Selection from props ${JSON.stringify(b)}`);const e=JTt(b,$r(R.children,F));if(null!==e){gc(`Normalized selection from props ${JSON.stringify(e)}`);const t=$h(e,R);t&&(ce.select(R,t),R.operations.some((e=>"set_selection"===e.type))||N.next({type:"selection",selection:e}),R.onChange())}}}),[b,R,F,N]),H=f.useCallback((e=>{if(c&&c.length>0){const t=[];if(c.forEach((n=>{const r=$h(n.selection,R);if(!ge.isRange(r))return void(n.onMoved&&n.onMoved({newSelection:null,rangeDecoration:n,origin:"local"}));let i;if(e&&(i=XTt(r,e),i&&i!==r||null===i&&r)){const e=mf(Ie.getValue(k),i,P);n.onMoved&&n.onMoved({newSelection:e,rangeDecoration:n,origin:"local"})}null!==i&&t.push({...i||r,rangeDecoration:n})})),t.length>0)return void I(t)}I(i2)}),[k,c,P,R]);f.useEffect((()=>{const e=N.subscribe((e=>{switch(e.type){case"ready":U();break;case"invalidValue":D(!0);break;case"value":D(!1)}}));return()=>{e.unsubscribe()}}),[N,U]),f.useEffect((()=>{b&&!T&&U()}),[T,b,U]);const W=f.useMemo((()=>R.apply),[R]),[q,G]=f.useState(!1);f.useEffect((()=>{q||(G(!0),H())}),[H,q]),f.useEffect((()=>{bt(c,O.current)||H(),O.current=c}),[c,H]),f.useEffect((()=>(R.apply=e=>{W(e),"set_selection"!==e.type&&H(e)},()=>{R.apply=W})),[W,R,H]);const Y=f.useCallback((e=>{s&&void 0!==s(e)&&e.preventDefault()}),[s]),K=f.useCallback((e=>{if(e.preventDefault(),R.selection){if(!a)return gc("Pasting normally"),void R.insertData(e.clipboardData);new Promise((t=>{const n=Ie.getValue(k),r=mf(n,R.selection,P),i=r?.focus.path||[];t(a({event:e,value:n,path:i,schemaTypes:P}))})).then((t=>(gc("Custom paste function from client resolved",t),N.next({type:"loading",isLoading:!0}),t&&t.insert?t&&t.insert?(R.insertFragment(Au(t.insert,{schemaTypes:P})),void N.next({type:"loading",isLoading:!1})):void console.warn("Your onPaste function returned something unexpected:",t):(gc("No result from custom paste handler, pasting normally"),void R.insertData(e.clipboardData))))).catch((e=>(N.next({type:"loading",isLoading:!1}),console.error(e),e)))}}),[N,a,k,P,R]),Z=f.useCallback((e=>{if(i&&i(e),!e.isDefaultPrevented()){const t=Ie.getSelection(k);null===t&&(ce.select(R,V.start(R,[])),R.onChange()),N.next({type:"focus",event:e});t===Ie.getSelection(k)&&N.next({type:"selection",selection:t})}}),[i,k,N,R]),X=f.useCallback((e=>{if(l&&l(e),R.selection&&e.target===e.currentTarget){const[e,t]=Re.last(R,[]),n=R.selection.focus.path.slice(0,1),r=t.slice(0,1);if(se.equals(n,r)){const n=Re.descendant(R,t.slice(0,1));e&&V.isVoid(R,n)&&(ce.insertNodes(R,R.pteCreateEmptyBlock()),R.onChange())}}}),[l,R]),J=f.useCallback((e=>{r&&r(e),e.isPropagationStopped()||N.next({type:"blur",event:e})}),[N,r]),Q=f.useCallback((e=>{o&&o(e)}),[o]),ee=f.useCallback((()=>{if(!R.selection)return;const e=Se.findDocumentOrShadowRoot(R),{activeElement:t}=e;if(E.current!==t)return;const n=Se.getWindow(R).getSelection();if(!n||0===n.rangeCount)return;const r=n.getRangeAt(0);try{const e=Se.toDOMRange(R,R.selection);(e.startOffset!==r.startOffset||e.endOffset!==r.endOffset)&&(gc("DOM range out of sync, validating selection"),n?.removeAllRanges(),n.addRange(e))}catch{gc("Could not resolve selection, selecting top document"),ce.deselect(R),R.children.length>0&&ce.select(R,[0,0]),R.onChange()}}),[E,R]);f.useEffect((()=>{if(_){const e=new MutationObserver(ee);return e.observe(_,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{e.disconnect()}}}),[ee,_]);const te=f.useCallback((t=>{e.onKeyDown&&e.onKeyDown(t),t.isDefaultPrevented()||R.pteWithHotKeys(t)}),[e,R]),ne=f.useMemo((()=>{if(void 0!==x)return null===x?jme:(e,t)=>{x(k,t)}}),[k,x]),re=f.useCallback((([,e])=>{if(M0(R.children,P))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];if(0===e.length)return i2;const t=M.filter((t=>ge.isCollapsed(t)?2===e.length&&(se.equals(t.focus.path,e)&&se.equals(t.anchor.path,e)):ge.intersection(t,{anchor:{path:e,offset:0},focus:{path:e,offset:0}})||ge.includes(t,e)));return t.length>0?t:i2}),[R,P,M]);return f.useEffect((()=>{E.current=Se.toDOMNode(R,R),A(E.current)}),[R,E]),k?T?null:u.jsx(aEt,{...C,autoFocus:!1,className:C.className||"pt-editable",decorate:re,onBlur:J,onCopy:Y,onClick:X,onDOMBeforeInput:Q,onFocus:Z,onKeyDown:te,onPaste:K,readOnly:j,renderPlaceholder:void 0,renderElement:B,renderLeaf:z,scrollSelectionIntoView:ne}):null}));var xr="0123456789abcdefghjkmnpqrstvwxyz",st=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function RD(e){const t=new Array(26).fill("");if(16!==e.length)throw new Error("Invalid length");return t[0]=xr[(224&e[0])>>5],t[1]=xr[31&e[0]],t[2]=xr[(248&e[1])>>3],t[3]=xr[(7&e[1])<<2|(192&e[2])>>6],t[4]=xr[(62&e[2])>>1],t[5]=xr[(1&e[2])<<4|(240&e[3])>>4],t[6]=xr[(15&e[3])<<1|(128&e[4])>>7],t[7]=xr[(124&e[4])>>2],t[8]=xr[(3&e[4])<<3|(224&e[5])>>5],t[9]=xr[31&e[5]],t[10]=xr[(248&e[6])>>3],t[11]=xr[(7&e[6])<<2|(192&e[7])>>6],t[12]=xr[(62&e[7])>>1],t[13]=xr[(1&e[7])<<4|(240&e[8])>>4],t[14]=xr[(15&e[8])<<1|(128&e[9])>>7],t[15]=xr[(124&e[9])>>2],t[16]=xr[(3&e[9])<<3|(224&e[10])>>5],t[17]=xr[31&e[10]],t[18]=xr[(248&e[11])>>3],t[19]=xr[(7&e[11])<<2|(192&e[12])>>6],t[20]=xr[(62&e[12])>>1],t[21]=xr[(1&e[12])<<4|(240&e[13])>>4],t[22]=xr[(15&e[13])<<1|(128&e[14])>>7],t[23]=xr[(124&e[14])>>2],t[24]=xr[(3&e[14])<<3|(224&e[15])>>5],t[25]=xr[31&e[15]],t.join("")}function GK(e){if(26!==e.length)throw new Error("Invalid length");const t=(new TextEncoder).encode(e);if(255===st[t[0]]||255===st[t[1]]||255===st[t[2]]||255===st[t[3]]||255===st[t[4]]||255===st[t[5]]||255===st[t[6]]||255===st[t[7]]||255===st[t[8]]||255===st[t[9]]||255===st[t[10]]||255===st[t[11]]||255===st[t[12]]||255===st[t[13]]||255===st[t[14]]||255===st[t[15]]||255===st[t[16]]||255===st[t[17]]||255===st[t[18]]||255===st[t[19]]||255===st[t[20]]||255===st[t[21]]||255===st[t[22]]||255===st[t[23]]||255===st[t[24]]||255===st[t[25]])throw new Error("Invalid base32 character");const n=new Uint8Array(16);return n[0]=st[t[0]]<<5|st[t[1]],n[1]=st[t[2]]<<3|st[t[3]]>>2,n[2]=(3&st[t[3]])<<6|st[t[4]]<<1|st[t[5]]>>4,n[3]=(15&st[t[5]])<<4|st[t[6]]>>1,n[4]=(1&st[t[6]])<<7|st[t[7]]<<2|st[t[8]]>>3,n[5]=(7&st[t[8]])<<5|st[t[9]],n[6]=st[t[10]]<<3|st[t[11]]>>2,n[7]=(3&st[t[11]])<<6|st[t[12]]<<1|st[t[13]]>>4,n[8]=(15&st[t[13]])<<4|st[t[14]]>>1,n[9]=(1&st[t[14]])<<7|st[t[15]]<<2|st[t[16]]>>3,n[10]=(7&st[t[16]])<<5|st[t[17]],n[11]=st[t[18]]<<3|st[t[19]]>>2,n[12]=(3&st[t[19]])<<6|st[t[20]]<<1|st[t[21]]>>4,n[13]=(15&st[t[21]])<<4|st[t[22]]>>1,n[14]=(1&st[t[22]])<<7|st[t[23]]<<2|st[t[24]]>>3,n[15]=(7&st[t[24]])<<5|st[t[25]],n}function Jjt(e){let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var Ph=Math.pow,YK="0123456789abcdef",O_=class{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");const i=new Uint8Array(16);return i[0]=e/Ph(2,40),i[1]=e/Ph(2,32),i[2]=e/Ph(2,24),i[3]=e/Ph(2,16),i[4]=e/Ph(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new O_(i)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=YK.charAt(this.bytes[t]>>>4),e+=YK.charAt(15&this.bytes[t]),(3===t||5===t||7===t||9===t)&&(e+="-");return e}clone(){return new O_(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(let t=0;t<16;t++){const n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}},Qjt=class{constructor(){this.timestamp=0,this.counter=0,this.random=new eIt}generate(){const e=this.generateOrAbort();return void 0!==e?e:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return O_.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Ph(2,30)),this.counter&Ph(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}},_ve=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};typeof crypto<"u"&&crypto.getRandomValues&&(_ve=e=>crypto.getRandomValues(e));var qK,eIt=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(_ve(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},tIt=()=>(qK||(qK=new Qjt)).generate();function nIt(e){if(e.length>63)return!1;let t,n,r;for(n=0,r=e.length;n<r;n+=1)if(t=e.charCodeAt(n),!(t>96&&t<123))return!1;return!0}var _y=class{constructor(e,t=""){if(this.prefix=e,this.suffix=t,!nIt(e))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=e,t)this.suffix=t;else{const e=tIt();this.suffix=RD(e.bytes)}if(26!==this.suffix.length)throw new Error(`Invalid length. Suffix should have 26 characters, got ${t.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");GK(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){const t=this;if(t.prefix!==e)throw new Error(`Cannot convert TypeID of type ${t.prefix} to type ${e}`);return t}toUUIDBytes(){return GK(this.suffix)}toUUID(){return new O_(this.toUUIDBytes()).toString()}toString(){return""===this.prefix?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e){const t=e.split("_");if(1===t.length)return new _y("",t[0]);if(2===t.length){if(""===t[0])throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${e}`);return new _y(t[0],t[1])}throw new Error(`Invalid TypeID string: ${e}`)}static fromUUIDBytes(e,t){const n=RD(t);return new _y(e,n)}static fromUUID(e,t){const n=RD(Jjt(t));return new _y(e,n)}};function kve(e="",t=""){return new _y(e,t)}const KK={capture:!0};function MS(e,t,n){return e.addEventListener(t,n,KK),()=>e.removeEventListener(t,n,KK)}function rIt(e){if("onpagehide"in window)return MS(window,"pagehide",e);const t=MS(window,"unload",e),n=MS(window,"unload",e);return()=>{t(),n()}}function iIt(e){return MS(document,"visibilitychange",(()=>{"hidden"===document.visibilityState&&e()}))}function aIt(){const e={updateUserProperties(){},trace:function(t){return{start(){},log(e){},complete(){},newContext:t=>e,error(e){},await:e=>e}},log:function(e,t){}};return e}const oIt=aIt();function sIt(){return kve("session").toString()}function lIt(){return kve("trace").toString()}function uIt(e,t){return t<1?[e,""]:[e.substring(0,t),e.substring(t)]}const ZK=1024;function cIt(e){const t=e.indexOf("\n"),n=-1===t?ZK:Math.min(t,ZK),[r,i]=uIt(e,n);return r+(i?" (+".concat(i.length,")"):"")}function dIt(e){const t=new kr;function n(n,r,i,o,a){t.next({sessionId:e,type:n,traceId:r,name:i.name,version:i.version,data:o,context:a,createdAt:(new Date).toISOString()})}function r(o,a,s){return{start(){n("trace.start",o,a,void 0,s)},newContext:e=>({trace:t=>r("".concat(o,".").concat(e),t,s),updateUserProperties(){},log:i}),log(e){n("trace.log",o,a,e,s)},complete(){n("trace.complete",o,a,void 0,s)},error(n){!function(n,r,i,o){t.next({sessionId:e,type:"trace.error",traceId:n,name:r.name,version:r.version,data:{message:cIt(i.message)},context:o,createdAt:(new Date).toISOString()})}(o,a,n,s)},await(e,t){return this.start(),e.then((e=>(this.log(t||e),this.complete(),e)),(e=>{throw this.error(e),e})),e}}}function i(n,r){!function(n,r,i){t.next({sessionId:e,type:n,version:r.version,name:r.name,data:i,createdAt:(new Date).toISOString()})}("log",n,r)}return{events$:t.asObservable(),logger:{updateUserProperties(n){!function(n){t.next({sessionId:e,type:"userProperties",properties:n,createdAt:(new Date).toISOString()})}(n)},trace:(e,t)=>r(lIt(),e,t),log:i}}}const fIt=e=>new It((t=>{const n=setTimeout((()=>{t.next(),t.complete()}),e);return"function"==typeof n.unref&&n.unref(),()=>clearTimeout(n)}));function hIt(e,t){var n;const r=dIt(e);const i=[];function o(){const e=i.slice();return i.length=0,e}function a(){const e=o();return 0===e.length?Zn:Ni([we(e),t.resolveConsent().catch((e=>({status:"undetermined"})))]).pipe(kt((e=>{let[n,r]=e;return 0===n.length||"granted"!==r.status?Zn:Qn(t.sendEvents(n)).pipe(pn((e=>(i.unshift(...n),Zn))))})))}const s=null!=(n=t.flushInterval)?n:3e4;function l(){return gi(a(),{defaultValue:void 0}).then((()=>{}))}const u=r.events$.pipe(qn((e=>i.push(e))),fe((()=>{})),I6((()=>fIt(s)),{leading:!1,trailing:!0}),sp((()=>a()))).subscribe();function c(){return l().then((()=>{}),(()=>{})).finally((()=>{u.unsubscribe()}))}return{end:c,endWithBeacon:function(){if(!t.sendBeacon)return c(),!0;const e=o();return u.unsubscribe(),!(e.length>0)||t.sendBeacon(e)},flush:l,logger:r.logger}}function _i(e){return{type:"log",name:e.name,version:e.version,description:e.description,schema:void 0}}var pIt=Fk,mIt=kN,gIt=TN,vIt=Wu,yIt=A1,XK=Lk,bIt=Math.min;function xIt(e,t,n){for(var r=n?gIt:mIt,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=vIt(c,yIt(t))),l=bIt(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new pIt(a&&c):void 0}c=e[0];var d=-1,f=s[0];e:for(;++d<i&&u.length<l;){var p=c[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?XK(f,h):r(u,h,n))){for(a=o;--a;){var m=s[a];if(!(m?XK(m,h):r(e[a],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}var wIt=xIt,CIt=gT;function SIt(e){return CIt(e)?e:[]}var EIt=SIt,_It=Wu,kIt=wIt,TIt=fm,AIt=EIt,jIt=TIt((function(e){var t=_It(e,AIt);return t.length&&t[0]===e[0]?kIt(t):[]})),IIt=jIt;const R_=Be(IIt);var DIt=hfe,OIt=qx,RIt=Dk,MIt=Ei,$It=Xf,PIt=Nk,FIt=Vk,LIt=m6,NIt="[object Map]",BIt="[object Set]",VIt=Object.prototype,zIt=VIt.hasOwnProperty;function UIt(e){if(null==e)return!0;if($It(e)&&(MIt(e)||"string"==typeof e||"function"==typeof e.splice||PIt(e)||LIt(e)||RIt(e)))return!e.length;var t=OIt(e);if(t==NIt||t==BIt)return!e.size;if(FIt(e))return!DIt(e).length;for(var n in e)if(zIt.call(e,n))return!1;return!0}var HIt=UIt;const WIt=Be(HIt);var MD,GIt=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=ZIt(t),this._batchScheduleFn=XIt(t),this._cacheKeyFn=JIt(t),this._cacheMap=QIt(t),this._batch=null,this.name=eDt(t)}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=qIt(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var i=n.get(r);if(i){var o=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){o.push((function(){e(i)}))}))}}t.keys.push(e);var a=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,a),a},t.loadMany=function(e){if(!Tve(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);if(void 0===n.get(i))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(i,r)}return this},e}(),YIt="object"==typeof process&&"function"==typeof process.nextTick?function(e){MD||(MD=Promise.resolve()),MD.then((function(){process.nextTick(e)}))}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function qIt(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){KIt(e,n)})),n}function KIt(e,t){if(t.hasDispatched=!0,0!==t.keys.length){var n;try{n=e._batchLoadFn(t.keys)}catch(n){return $D(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return $D(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!Tve(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));e$(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){$D(e,t,n)}))}else e$(t)}function $D(e,t,n){e$(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function e$(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function ZIt(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}function XIt(e){var t=e&&e.batchScheduleFn;if(void 0===t)return YIt;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}function JIt(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}function QIt(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}function eDt(e){return e&&e.name?e.name:null}function Tve(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var tDt=GIt;const Ave=Be(tDt);function nDt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function t$(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function bw(e){const[t,n]=e;return[t,n]}function JK(e,t){let n=e,r=t;const i=n.length,o=r.length;if(0===i||0===o)return 0;i>o?n=n.substring(i-o):i<o&&(r=r.substring(0,i));const a=Math.min(i,o);if(n===r)return a;let s=0,l=1;for(let e=0;-1!==e;){const t=n.substring(a-l);if(e=r.indexOf(t),-1===e)return s;l+=e,(0===e||n.substring(a-l)===r.substring(0,l))&&(s=l,l++)}return s}function B8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(o,i)===t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function HT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(e.length-i,e.length-o)===t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function V8(e){let t=e.map((e=>bw(e))),n=!1;const r=[];let i=0,o=null,a=0,s=0,l=0,u=0,c=0;for(;a<t.length;)t[a][0]===Nt?(r[i++]=a,s=u,l=c,u=0,c=0,o=t[a][1]):(t[a][0]===hr?u+=t[a][1].length:c+=t[a][1].length,o&&o.length<=Math.max(s,l)&&o.length<=Math.max(u,c)&&(t.splice(r[i-1],0,[Kn,o]),t[r[i-1]+1][0]=hr,i--,i--,a=i>0?r[i-1]:-1,s=0,l=0,u=0,c=0,o=null,n=!0)),a++;for(n&&(t=WT(t)),t=jve(t),a=1;a<t.length;){if(t[a-1][0]===Kn&&t[a][0]===hr){const e=t[a-1][1],n=t[a][1],r=JK(e,n),i=JK(n,e);r>=i?(r>=e.length/2||r>=n.length/2)&&(t.splice(a,0,[Nt,n.substring(0,r)]),t[a-1][1]=e.substring(0,e.length-r),t[a+1][1]=n.substring(r),a++):(i>=e.length/2||i>=n.length/2)&&(t.splice(a,0,[Nt,e.substring(0,i)]),t[a-1][0]=hr,t[a-1][1]=n.substring(0,n.length-i),t[a+1][0]=Kn,t[a+1][1]=e.substring(i),a++),a++}a++}return t}const QK=/[^a-zA-Z0-9]/,eZ=/\s/,tZ=/[\r\n]/,rDt=/\n\r?\n$/,iDt=/^\r?\n\r?\n/;function jve(e){const t=e.map((e=>bw(e)));function n(e,t){if(!e||!t)return 6;const n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(QK),o=r.match(QK),a=i&&n.match(eZ),s=o&&r.match(eZ),l=a&&n.match(tZ),u=s&&r.match(tZ),c=l&&e.match(rDt),d=u&&t.match(iDt);return c||d?5:l||u?4:i&&!a&&s?3:a||s?2:i||o?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Nt&&t[r+1][0]===Nt){let e=t[r-1][1],i=t[r][1],o=t[r+1][1];const a=HT(e,i);if(a){const t=i.substring(i.length-a);e=e.substring(0,e.length-a),i=t+i.substring(0,i.length-a),o=t+o}let s=e,l=i,u=o,c=n(e,i)+n(i,o);for(;i.charAt(0)===o.charAt(0);){e+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);const t=n(e,i)+n(i,o);t>=c&&(c=t,s=e,l=i,u=o)}t[r-1][1]!==s&&(s?t[r-1][1]=s:(t.splice(r-1,1),r--),t[r][1]=l,u?t[r+1][1]=u:(t.splice(r+1,1),r--))}r++}return t}function WT(e){let t=e.map((e=>bw(e)));t.push([Nt,""]);let n,r=0,i=0,o=0,a="",s="";for(;r<t.length;)switch(t[r][0]){case hr:o++,s+=t[r][1],r++;break;case Kn:i++,a+=t[r][1],r++;break;case Nt:i+o>1?(0!==i&&0!==o&&(n=B8(s,a),0!==n&&(r-i-o>0&&t[r-i-o-1][0]===Nt?t[r-i-o-1][1]+=s.substring(0,n):(t.splice(0,0,[Nt,s.substring(0,n)]),r++),s=s.substring(n),a=a.substring(n)),n=HT(s,a),0!==n&&(t[r][1]=s.substring(s.length-n)+t[r][1],s=s.substring(0,s.length-n),a=a.substring(0,a.length-n))),r-=i+o,t.splice(r,i+o),a.length&&(t.splice(r,0,[Kn,a]),r++),s.length&&(t.splice(r,0,[hr,s]),r++),r++):0!==r&&t[r-1][0]===Nt?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,o=0,i=0,a="",s="";break;default:throw new Error("Unknown diff operation")}""===t[t.length-1][1]&&t.pop();let l=!1;for(r=1;r<t.length-1;)t[r-1][0]===Nt&&t[r+1][0]===Nt&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),l=!0):t[r][1].substring(0,t[r+1][1].length)===t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),l=!0)),r++;return l&&(t=WT(t)),t}function aDt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+(t?1:0)),0)}function GT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.map((e=>bw(e))),r=!1;const i=[];let o=0,a=null,s=0,l=!1,u=!1,c=!1,d=!1;for(;s<n.length;)n[s][0]===Nt?(n[s][1].length<t&&(c||d)?(i[o++]=s,l=c,u=d,a=n[s][1]):(o=0,a=null),c=!1,d=!1):(n[s][0]===Kn?d=!0:c=!0,a&&(l&&u&&c&&d||a.length<t/2&&3===aDt(l,u,c,d))&&(n.splice(i[o-1],0,[Kn,a]),n[i[o-1]+1][0]=hr,o--,a=null,l&&u?(c=!0,d=!0,o=0):(o--,s=o>0?i[o-1]:-1,c=!1,d=!1),r=!0)),s++;return r&&(n=WT(n)),n}function oDt(e,t,n){const r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),u=new Array(s);for(let e=0;e<s;e++)l[e]=-1,u[e]=-1;l[a+1]=0,u[a+1]=0;const c=r-i,d=c%2!=0;let f=0,p=0,h=0,m=0;for(let g=0;g<o&&!(Date.now()>n);g++){for(let o=-g+f;o<=g-p;o+=2){const h=a+o;let m;m=o===-g||o!==g&&l[h-1]<l[h+1]?l[h+1]:l[h-1]+1;let y=m-o;for(;m<r&&y<i&&e.charAt(m)===t.charAt(y);)m++,y++;if(l[h]=m,m>r)p+=2;else if(y>i)f+=2;else if(d){const i=a+c-o;if(i>=0&&i<s&&-1!==u[i]){if(m>=r-u[i])return nZ(e,t,m,y,n)}}}for(let o=-g+h;o<=g-m;o+=2){const f=a+o;let p;p=o===-g||o!==g&&u[f-1]<u[f+1]?u[f+1]:u[f-1]+1;let y=p-o;for(;p<r&&y<i&&e.charAt(r-p-1)===t.charAt(i-y-1);)p++,y++;if(u[f]=p,p>r)m+=2;else if(y>i)h+=2;else if(!d){const i=a+c-o;if(i>=0&&i<s&&-1!==l[i]){const o=l[i];if(p=r-p,o>=p)return nZ(e,t,o,a+o-i,n)}}}}return[[Kn,e],[hr,t]]}function nZ(e,t,n,r,i){const o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=zp(o,a,{checkLines:!1,deadline:i}),c=zp(s,l,{checkLines:!1,deadline:i});return u.concat(c)}function sDt(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)<=0)return null;const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;const i=rZ(n,r,Math.ceil(n.length/4)),o=rZ(n,r,Math.ceil(n.length/2));let a,s,l,u,c;if(i&&o)a=i[4].length>o[4].length?i:o;else{if(!i&&!o)return null;o?i||(a=o):a=i}if(!a)throw new Error("Unable to find a half match.");e.length>t.length?(s=a[0],l=a[1],u=a[2],c=a[3]):(u=a[0],c=a[1],s=a[2],l=a[3]);return[s,l,u,c,a[4]]}function rZ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i,o,a,s,l=-1,u="";for(;-1!==(l=t.indexOf(r,l+1));){const r=B8(e.slice(n),t.slice(l)),c=HT(e.slice(0,n),t.slice(0,l));u.length<c+r&&(u=t.slice(l-c,l)+t.slice(l,l+r),i=e.slice(0,n-c),o=e.slice(n+r),a=t.slice(0,l-c),s=t.slice(l+r))}return 2*u.length>=e.length?[i||"",o||"",a||"",s||"",u||""]:null}function lDt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let e=0;e<r.length;e++)i[e]=t[r.charCodeAt(e)];e[n][1]=i.join("")}}function uDt(e,t){const n=[],r={};function i(e){let t="",i=0,a=-1,s=n.length;for(;a<e.length-1;){a=e.indexOf("\n",i),-1===a&&(a=e.length-1);let l=e.slice(i,a+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(s===o&&(l=e.slice(i),a=e.length),t+=String.fromCharCode(s),r[l]=s,n[s++]=l),i=a+1}return t}n[0]="";let o=4e4;const a=i(e);o=65535;return{chars1:a,chars2:i(t),lineArray:n}}function cDt(e,t,n){let r=e,i=t;const o=uDt(r,i);r=o.chars1,i=o.chars2;const a=o.lineArray;let s=zp(r,i,{checkLines:!1,deadline:n.deadline});lDt(s,a),s=V8(s),s.push([Nt,""]);let l=0,u=0,c=0,d="",f="";for(;l<s.length;){switch(s[l][0]){case hr:c++,f+=s[l][1];break;case Kn:u++,d+=s[l][1];break;case Nt:if(u>=1&&c>=1){s.splice(l-u-c,u+c),l=l-u-c;const e=zp(d,f,{checkLines:!1,deadline:n.deadline});for(let t=e.length-1;t>=0;t--)s.splice(l,0,e[t]);l+=e.length}c=0,u=0,d="",f="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function dDt(e,t,n){let r;if(!e)return[[hr,t]];if(!t)return[[Kn,e]];const i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=i.indexOf(o);if(-1!==a)return r=[[hr,i.substring(0,a)],[Nt,o],[hr,i.substring(a+o.length)]],e.length>t.length&&(r[0][0]=Kn,r[2][0]=Kn),r;if(1===o.length)return[[Kn,e],[hr,t]];const s=sDt(e,t);if(s){const e=s[0],t=s[1],r=s[2],i=s[3],o=s[4],a=zp(e,r,n),l=zp(t,i,n);return a.concat([[Nt,o]],l)}return n.checkLines&&e.length>100&&t.length>100?cDt(e,t,n):oDt(e,t,n.deadline)}const Kn=-1,hr=1,Nt=0;function U1(e,t,n){if(null===e||null===t)throw new Error("Null input. (diff)");const r=zp(e,t,hDt(n||{}));return mDt(r),r}function zp(e,t,n){let r=e,i=t;if(r===i)return r?[[Nt,r]]:[];let o=B8(r,i);const a=r.substring(0,o);r=r.substring(o),i=i.substring(o),o=HT(r,i);const s=r.substring(r.length-o);r=r.substring(0,r.length-o),i=i.substring(0,i.length-o);let l=dDt(r,i,n);return a&&l.unshift([Nt,a]),s&&l.push([Nt,s]),l=WT(l),l}function fDt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+1e3*t}function hDt(e){return{checkLines:!0,deadline:fDt(e.timeout||1),...e}}function a2(e,t,n){return 1===n?e+t:t+e}function o2(e,t){return 1===t?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function pDt(e,t,n,r){return 1===r?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function iZ(e,t,n){const r=1===n?-1:1;let i=null,o=null,a=t+n;for(;a>=0&&a<e.length&&(null===i||null===o);a+=n){const[s,l]=e[a];if(0!==l.length){if(s===hr){null===i&&(i=a);continue}if(s===Kn){null===o&&(o=a);continue}if(s===Nt){if(null===i&&null===o){const[i,o]=o2(e[t][1],n);return e[t][1]=i,void(e[a][1]=a2(e[a][1],o,r))}break}}}if(null!==i&&null!==o&&pDt(e,i,o,n)){const[a,s]=o2(e[i][1],r),[l]=o2(e[o][1],r);return e[i][1]=a,e[o][1]=l,void(e[t][1]=a2(e[t][1],s,n))}const[s,l]=o2(e[t][1],n);e[t][1]=s,null===i?(e.splice(a,0,[hr,l]),null!==o&&o>=a&&o++):e[i][1]=a2(e[i][1],l,r),null===o?e.splice(a,0,[Kn,l]):e[o][1]=a2(e[o][1],l,r)}function mDt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(0===r.length)continue;const i=r[0];nDt(r[r.length-1])&&n===Nt&&iZ(e,t,1),t$(i)&&n===Nt&&iZ(e,t,-1)}for(let t=0;t<e.length;t++)0===e[t][1].length&&e.splice(t,1)}const gDt={threshold:.5,distance:1e3};function vDt(e){return{...gDt,...e}}const yDt=32;function bDt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>yDt)throw new Error("Pattern too long for this browser.");const i=vDt(r),o=xDt(t);function a(e,r){const o=e/t.length,a=Math.abs(n-r);return i.distance?o+a/i.distance:a?1:o}let s=i.threshold,l=e.indexOf(t,n);-1!==l&&(s=Math.min(a(0,l),s),l=e.lastIndexOf(t,n+t.length),-1!==l&&(s=Math.min(a(0,l),s)));const u=1<<t.length-1;l=-1;let c,d,f=t.length+e.length,p=[];for(let r=0;r<t.length;r++){for(c=0,d=f;c<d;)a(r,n+d)<=s?c=d:f=d,d=Math.floor((f-c)/2+c);f=d;let i=Math.max(1,n-d+1);const h=Math.min(n+d,e.length)+t.length,m=new Array(h+2);m[h+1]=(1<<r)-1;for(let t=h;t>=i;t--){const c=o[e.charAt(t-1)];if(m[t]=0===r?(m[t+1]<<1|1)&c:(m[t+1]<<1|1)&c|(p[t+1]|p[t])<<1|1|p[t+1],m[t]&u){const e=a(r,t-1);if(e<=s){if(s=e,l=t-1,!(l>n))break;i=Math.max(1,2*n-l)}}}if(a(r+1,n)>s)break;p=m}return l}function xDt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function PD(e,t,n){if(null===e||null===t||null===n)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));return e===t?0:e.length?e.substring(r,r+t.length)===t?r:bDt(e,t,r):-1}function M_(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function z8(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==hr&&(t[n]=e[n][1]);return t.join("")}function Ive(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Kn&&(t[n]=e[n][1]);return t.join("")}function vf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=Dve(r)}return t}function wDt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=0;function o(e){for(;r<e;){const e=t.codePointAt(i);if(typeof e>"u")return i;r+=Dve(e),i+=e>65535?2:1}if(!n.allowExceedingIndices&&r!==e)throw new Error("Failed to determine byte offset");return i}const a=[];for(const t of e)a.push({diffs:t.diffs.map((e=>bw(e))),start1:o(t.start1),start2:o(t.start2),utf8Start1:t.utf8Start1,utf8Start2:t.utf8Start2,length1:t.length1,length2:t.length2,utf8Length1:t.utf8Length1,utf8Length2:t.utf8Length2});return a}function Dve(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const rf=32,U8=4,CDt={margin:4};function FD(){return{...CDt,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function H8(e,t,n){if("string"==typeof e&&"string"==typeof t){let r=U1(e,t,{checkLines:!0});return r.length>2&&(r=V8(r),r=GT(r)),LD(e,r,FD(n))}if(e&&Array.isArray(e)&&typeof t>"u")return LD(z8(e),e,FD(n));if("string"==typeof e&&t&&Array.isArray(t))return LD(e,t,FD(n));throw new Error("Unknown call format to make()")}function LD(e,t,n){if(0===t.length)return[];const r=[];let i=M_(0,0),o=0,a=0,s=0,l=0,u=0,c=e,d=e;for(let e=0;e<t.length;e++){const f=t[e],[p,h]=f,m=h.length,g=vf(h);switch(!o&&p!==Nt&&(i.start1=a,i.start2=s,i.utf8Start1=l,i.utf8Start2=u),p){case hr:i.diffs[o++]=f,i.length2+=m,i.utf8Length2+=g,d=d.substring(0,s)+h+d.substring(s);break;case Kn:i.length1+=m,i.utf8Length1+=g,i.diffs[o++]=f,d=d.substring(0,s)+d.substring(s+m);break;case Nt:m<=2*n.margin&&o&&t.length!==e+1?(i.diffs[o++]=f,i.length1+=m,i.length2+=m,i.utf8Length1+=g,i.utf8Length2+=g):m>=2*n.margin&&o&&(aZ(i,c,n),r.push(i),i=M_(-1,-1),o=0,c=d,a=s,l=u);break;default:throw new Error("Unknown diff type")}p!==hr&&(a+=m,l+=g),p!==Kn&&(s+=m,u+=g)}return o&&(aZ(i,c,n),r.push(i)),r}function aZ(e,t,n){if(0===t.length)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<rf-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let o=e.start2-i;o>=1&&t$(t[o])&&o--;const a=t.substring(o,e.start2);a&&e.diffs.unshift([Nt,a]);const s=a.length,l=vf(a);let u=e.start2+e.length1+i;u<t.length&&t$(t[u])&&u++;const c=t.substring(e.start2+e.length1,u);c&&e.diffs.push([Nt,c]);const d=c.length,f=vf(c);e.start1-=s,e.start2-=s,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=s+d,e.length2+=s+d,e.utf8Length1+=l+f,e.utf8Length2+=l+f}function SDt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case hr:n+=a.length;break;case Kn:r+=a.length;break;case Nt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function oZ(e,t){let n,r=0,i=0,o=0,a=0;for(n=0;n<e.length&&(e[n][0]!==hr&&(r+=e[n][1].length),e[n][0]!==Kn&&(i+=e[n][1].length),!(r>t));n++)o=r,a=i;return e.length!==n&&e[n][0]===Kn?a:a+(t-o)}function EDt(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U8;let n="";for(let e=1;e<=t;e++)n+=String.fromCharCode(e);for(const n of e)n.start1+=t,n.start2+=t,n.utf8Start1+=t,n.utf8Start2+=t;let r=e[0],i=r.diffs;if(0===i.length||i[0][0]!==Nt)i.unshift([Nt,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){const e=i[0][1].length,o=t-e;i[0][1]=n.substring(e)+i[0][1],r.start1-=o,r.start2-=o,r.utf8Start1-=o,r.utf8Start2-=o,r.length1+=o,r.length2+=o,r.utf8Length1+=o,r.utf8Length2+=o}if(r=e[e.length-1],i=r.diffs,0===i.length||i[i.length-1][0]!==Nt)i.push([Nt,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){const e=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,e),r.length1+=e,r.length2+=e,r.utf8Length1+=e,r.utf8Length2+=e}return n}function _Dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U8;const n=rf;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let o=i.start1,a=i.start2,s="";for(;0!==i.diffs.length;){const l=M_(o-s.length,a-s.length);let u=!0;if(""!==s){const e=vf(s);l.length1=s.length,l.utf8Length1=e,l.length2=s.length,l.utf8Length2=e,l.diffs.push([Nt,s])}for(;0!==i.diffs.length&&l.length1<n-t;){const e=i.diffs[0][0];let r=i.diffs[0][1],s=vf(r);if(e===hr){l.length2+=r.length,l.utf8Length2+=s,a+=r.length;const e=i.diffs.shift();e&&l.diffs.push(e),u=!1}else e===Kn&&1===l.diffs.length&&l.diffs[0][0]===Nt&&r.length>2*n?(l.length1+=r.length,l.utf8Length1+=s,o+=r.length,u=!1,l.diffs.push([e,r]),i.diffs.shift()):(r=r.substring(0,n-l.length1-t),s=vf(r),l.length1+=r.length,l.utf8Length1+=s,o+=r.length,e===Nt?(l.length2+=r.length,l.utf8Length2+=s,a+=r.length):u=!1,l.diffs.push([e,r]),r===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(r.length))}s=Ive(l.diffs),s=s.substring(s.length-t);const c=z8(i.diffs).substring(0,t),d=vf(c);""!==c&&(l.length1+=c.length,l.length2+=c.length,l.utf8Length1+=d,l.utf8Length2+=d,0!==l.diffs.length&&l.diffs[l.diffs.length-1][0]===Nt?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([Nt,c])),u||e.splice(++r,0,l)}}}function W8(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e)throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(0===e.length)return[r,[]];const i=wDt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),o=n.margin||U8,a=n.deleteThreshold||.4,s=EDt(i,o);r=s+r+s,_Dt(i,o);let l=0;const u=[];for(let e=0;e<i.length;e++){const t=i[e].start2+l,n=z8(i[e].diffs);let o,s=-1;if(n.length>rf?(o=PD(r,n.substring(0,rf),t),-1!==o&&(s=PD(r,n.substring(n.length-rf),t+n.length-rf),(-1===s||o>=s)&&(o=-1))):o=PD(r,n,t),-1===o)u[e]=!1,l-=i[e].length2-i[e].length1;else{let c;if(u[e]=!0,l=o-t,c=-1===s?r.substring(o,o+n.length):r.substring(o,s+rf),n===c)r=r.substring(0,o)+Ive(i[e].diffs)+r.substring(o+n.length);else{let t=U1(n,c,{checkLines:!1});if(n.length>rf&&SDt(t)/n.length>a)u[e]=!1;else{t=jve(t);let n=0,a=0;for(let s=0;s<i[e].diffs.length;s++){const l=i[e].diffs[s];l[0]!==Nt&&(a=oZ(t,n)),l[0]===hr?r=r.substring(0,o+a)+l[1]+r.substring(o+a):l[0]===Kn&&(r=r.substring(0,o+a)+r.substring(o+oZ(t,n+l[1].length))),l[0]!==Kn&&(n+=l[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,u]}function Ove(e){return e.map(kDt).join("")}function kDt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:i,diffs:o}=e;let a,s;a=0===t?"".concat(r,",0"):1===t?"".concat(r+1):"".concat(r+1,",").concat(t),s=0===n?"".concat(i,",0"):1===n?"".concat(i+1):"".concat(i+1,",").concat(n);const l=["@@ -".concat(a," +").concat(s," @@\n")];let u;for(let e=0;e<o.length;e++){switch(o[e][0]){case hr:u="+";break;case Kn:u="-";break;case Nt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[e+1]="".concat(u+encodeURI(o[e][1]),"\n")}return l.join("").replace(/%20/g," ")}const TDt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function Rve(e){if(!e)return[];const t=[],n=e.split("\n");let r=0;for(;r<n.length;){const e=n[r].match(TDt);if(!e)throw new Error("Invalid patch string: ".concat(n[r]));const i=M_(s2(e[1]),s2(e[3]));for(t.push(i),""===e[2]?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):"0"===e[2]?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=s2(e[2]),i.length1=i.utf8Length1),""===e[4]?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):"0"===e[4]?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=s2(e[4]),i.length2=i.utf8Length2),r++;r<n.length;){const e=n[r],t=e.charAt(0);if("@"===t)break;if(""===t){r++;continue}let o;try{o=decodeURI(e.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(e))}const a=vf(o)-o.length;if("-"===t)i.diffs.push([Kn,o]),i.length1-=a;else if("+"===t)i.diffs.push([hr,o]),i.length2-=a;else{if(" "!==t)throw new Error('Invalid patch mode "'.concat(t,'" in: ').concat(o));i.diffs.push([Nt,o]),i.length1-=a,i.length2-=a}r++}}return t}function s2(e){return parseInt(e,10)}var n$={exports:{}},Mve={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(Mve);var ii=Mve.exports,r$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.exports=t.default}(r$,r$.exports);var ADt=r$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)({},e)};var r=n(ADt);e.exports=t.default}(n$,n$.exports);var jDt=n$.exports;const $ve=Be(jDt);var i$={exports:{}},a$={exports:{}},o$={exports:{}},Pve={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Pve);var Fve=Pve.exports,s$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default}(s$,s$.exports);var xo=s$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(1,arguments),e instanceof Date||"object"===(0,r.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)};var r=n(Fve),i=n(xo);e.exports=t.default}(o$,o$.exports);var IDt=o$.exports,l$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.default)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var r=n(Fve),i=n(xo);e.exports=t.default}(l$,l$.exports);var Ju=l$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,o.default)(1,arguments),!(0,r.default)(e)&&"number"!=typeof e)return!1;var t=(0,i.default)(e);return!isNaN(Number(t))};var r=n(IDt),i=n(Ju),o=n(xo);e.exports=t.default}(a$,a$.exports);var DDt=a$.exports,u$={exports:{}},c$={exports:{}},d$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default}(d$,d$.exports);var xm=d$.exports;const ODt=Be(xm);!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,i.default)(e).getTime(),a=(0,r.default)(t);return new Date(n+a)};var r=n(xm),i=n(Ju),o=n(xo);e.exports=t.default}(c$,c$.exports);var RDt=c$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var n=(0,o.default)(t);return(0,r.default)(e,-n)};var r=n(RDt),i=n(xo),o=n(xm);e.exports=t.default}(u$,u$.exports);var MDt=u$.exports,f$={exports:{}},h$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),s=n-a;return Math.floor(s/o)+1};var r=n(Ju),i=n(xo),o=864e5;e.exports=t.default}(h$,h$.exports);var $Dt=h$.exports,p$={exports:{}},m$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getUTCDay(),o=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t};var r=n(Ju),i=n(xo);e.exports=t.default}(m$,m$.exports);var G8=m$.exports,g$={exports:{}},v$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,o.default)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var u=(0,o.default)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1};var r=n(Ju),i=n(xo),o=n(G8);e.exports=t.default}(v$,v$.exports);var Lve=v$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,i.default)(n)};var r=n(Lve),i=n(G8),o=n(xo);e.exports=t.default}(g$,g$.exports);var PDt=g$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),n=(0,i.default)(t).getTime()-(0,o.default)(t).getTime();return Math.round(n/s)+1};var r=n(Ju),i=n(G8),o=n(PDt),a=n(xo),s=6048e5;e.exports=t.default}(p$,p$.exports);var FDt=p$.exports,y$={exports:{}},b$={exports:{}},wm={};Object.defineProperty(wm,"__esModule",{value:!0}),wm.getDefaultOptions=LDt,wm.setDefaultOptions=NDt;var Nve={};function LDt(){return Nve}function NDt(e){Nve=e}!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,s,l,u,c,d,f,p;(0,i.default)(1,arguments);var h=(0,a.getDefaultOptions)(),m=(0,o.default)(null!==(n=null!==(s=null!==(l=null!==(u=t?.weekStartsOn)&&void 0!==u?u:null==t||null===(c=t.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:h.weekStartsOn)&&void 0!==s?s:null===(f=h.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.default)(e),y=g.getUTCDay(),v=(y<m?7:0)+y-m;return g.setUTCDate(g.getUTCDate()-v),g.setUTCHours(0,0,0,0),g};var r=n(Ju),i=n(xo),o=n(xm),a=wm;e.exports=t.default}(b$,b$.exports);var Y8=b$.exports,x$={exports:{}},w$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,l,u,c,d,f,p,h;(0,i.default)(1,arguments);var m=(0,r.default)(e),g=m.getUTCFullYear(),y=(0,s.getDefaultOptions)(),v=(0,a.default)(null!==(n=null!==(l=null!==(u=null!==(c=t?.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==u?u:y.firstWeekContainsDate)&&void 0!==l?l:null===(p=y.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,v),b.setUTCHours(0,0,0,0);var x=(0,o.default)(b,t),w=new Date(0);w.setUTCFullYear(g,0,v),w.setUTCHours(0,0,0,0);var C=(0,o.default)(w,t);return m.getTime()>=x.getTime()?g+1:m.getTime()>=C.getTime()?g:g-1};var r=n(Ju),i=n(xo),o=n(Y8),a=n(xm),s=wm;e.exports=t.default}(w$,w$.exports);var Bve=w$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,l,u,c,d,f,p,h;(0,i.default)(1,arguments);var m=(0,s.getDefaultOptions)(),g=(0,a.default)(null!==(n=null!==(l=null!==(u=null!==(c=t?.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==u?u:m.firstWeekContainsDate)&&void 0!==l?l:null===(p=m.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1),y=(0,r.default)(e,t),v=new Date(0);return v.setUTCFullYear(y,0,g),v.setUTCHours(0,0,0,0),(0,o.default)(v,t)};var r=n(Bve),i=n(xo),o=n(Y8),a=n(xm),s=wm;e.exports=t.default}(x$,x$.exports);var BDt=x$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var n=(0,r.default)(e),l=(0,i.default)(n,t).getTime()-(0,o.default)(n,t).getTime();return Math.round(l/s)+1};var r=n(Ju),i=n(Y8),o=n(BDt),a=n(xo),s=6048e5;e.exports=t.default}(y$,y$.exports);var VDt=y$.exports,C$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r},e.exports=t.default}(C$,C$.exports);var Vve=C$.exports,S$={exports:{}};!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Vve),i={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return(0,r.default)("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,r.default)(n+1,2)},d:function(e,t){return(0,r.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,r.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,r.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,r.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,r.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return(0,r.default)(o,t.length)}};t.default=i,e.exports=t.default}(S$,S$.exports);var zDt=S$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n($Dt),i=n(FDt),o=n(Lve),a=n(VDt),s=n(Bve),l=n(Vve),u=n(zDt),c="midnight",d="noon",f="morning",p="afternoon",h="evening",m="night";function g(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t;return n+String(i)+a+(0,l.default)(o,2)}function y(e,t){return e%60==0?(e>0?"-":"+")+(0,l.default)(Math.abs(e)/60,2):v(e,t)}function v(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+(0,l.default)(Math.floor(i/60),2)+n+(0,l.default)(i%60,2)}var b={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var i=(0,s.default)(e,r),o=i>0?i:1-i;if("YY"===t){var a=o%100;return(0,l.default)(a,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,l.default)(o,t.length)},R:function(e,t){var n=(0,o.default)(e);return(0,l.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,l.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,l.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,l.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,l.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,a.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,l.default)(i,t.length)},I:function(e,t,n){var r=(0,i.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,l.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var i=(0,r.default)(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):(0,l.default)(i,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,l.default)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,l.default)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,l.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?d:0===i?c:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?h:i>=12?p:i>=4?f:m,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,l.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return y(i);case"XXXX":case"XX":return v(i);default:return v(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return y(i);case"xxxx":case"xx":return v(i);default:return v(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(i,":");default:return"GMT"+v(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(i,":");default:return"GMT"+v(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return(0,l.default)(o,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,l.default)(i,t.length)}};t.default=b,e.exports=t.default}(f$,f$.exports);var UDt=f$.exports,E$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},i={p:r,P:function(e,t){var i,o=e.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return n(e,t);switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(a,t)).replace("{{time}}",r(s,t))}};t.default=i,e.exports=t.default}(E$,E$.exports);var HDt=E$.exports,_$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default}(_$,_$.exports);var zve=_$.exports;const sZ=Be(zve);var xw={};Object.defineProperty(xw,"__esModule",{value:!0}),xw.isProtectedDayOfYearToken=YDt,xw.isProtectedWeekYearToken=qDt,xw.throwProtectedError=KDt;var WDt=["D","DD"],GDt=["YY","YYYY"];function YDt(e){return-1!==WDt.indexOf(e)}function qDt(e){return-1!==GDt.indexOf(e)}function KDt(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var k$={exports:{}},T$={exports:{}},A$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(e,t,r){var i,o=n[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};t.default=r,e.exports=t.default}(A$,A$.exports);var ZDt=A$.exports,j$={exports:{}},I$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}},e.exports=t.default}(I$,I$.exports);var XDt=I$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(XDt),i={date:(0,r.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=i,e.exports=t.default}(j$,j$.exports);var JDt=j$.exports,D$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(e,t,r,i){return n[e]};t.default=r,e.exports=t.default}(D$,D$.exports);var QDt=D$.exports,O$={exports:{}},R$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default}(R$,R$.exports);var e3t=R$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(e3t),i={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,r.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=i,e.exports=t.default}(O$,O$.exports);var t3t=O$.exports,M$={exports:{}},$$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(u):u,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}},e.exports=t.default}($$,$$.exports);var n3t=$$.exports,P$={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}},e.exports=t.default}(P$,P$.exports);var r3t=P$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(n3t),i={ordinalNumber:(0,n(r3t).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};t.default=i,e.exports=t.default}(M$,M$.exports);var i3t=M$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(ZDt),i=n(JDt),o=n(QDt),a=n(t3t),s=n(i3t),l={code:"en-US",formatDistance:r.default,formatLong:i.default,formatRelative:o.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=l,e.exports=t.default}(T$,T$.exports);var a3t=T$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a3t).default;t.default=r,e.exports=t.default}(k$,k$.exports);var o3t=k$.exports;!function(e,t){var n=ii.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var b,x,w,C,k,j,S,E,_,A,T,D,M,I,O,N,P,R;(0,d.default)(2,arguments);var F=String(t),L=(0,f.getDefaultOptions)(),$=null!==(b=null!==(x=n?.locale)&&void 0!==x?x:L.locale)&&void 0!==b?b:p.default,B=(0,c.default)(null!==(w=null!==(C=null!==(k=null!==(j=n?.firstWeekContainsDate)&&void 0!==j?j:null==n||null===(S=n.locale)||void 0===S||null===(E=S.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==k?k:L.firstWeekContainsDate)&&void 0!==C?C:null===(_=L.locale)||void 0===_||null===(A=_.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==w?w:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=(0,c.default)(null!==(T=null!==(D=null!==(M=null!==(I=n?.weekStartsOn)&&void 0!==I?I:null==n||null===(O=n.locale)||void 0===O||null===(N=O.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==M?M:L.weekStartsOn)&&void 0!==D?D:null===(P=L.locale)||void 0===P||null===(R=P.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==T?T:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!$.localize)throw new RangeError("locale must contain localize property");if(!$.formatLong)throw new RangeError("locale must contain formatLong property");var z=(0,o.default)(e);if(!(0,r.default)(z))throw new RangeError("Invalid time value");var U=(0,l.default)(z),H=(0,i.default)(z,U),W={firstWeekContainsDate:B,weekStartsOn:V,locale:$,_originalDate:z};return F.match(m).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.default[t])(e,$.formatLong):e})).join("").match(h).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(g);return t?t[1].replace(y,"'"):e}(r);var o=a.default[i];if(o)return!(null!=n&&n.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(r)&&(0,u.throwProtectedError)(r,t,String(e)),!(null!=n&&n.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(r)&&(0,u.throwProtectedError)(r,t,String(e)),o(H,r,$.localize,W);if(i.match(v))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")};var r=n(DDt),i=n(MDt),o=n(Ju),a=n(UDt),s=n(HDt),l=n(zve),u=xw,c=n(xm),d=n(xo),f=wm,p=n(o3t),h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,y=/''/g,v=/[a-zA-Z]/;e.exports=t.default}(i$,i$.exports);var s3t=i$.exports;const l3t=Be(s3t);var Uve={exports:{}},Hve={},$0=f;function u3t(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var c3t="function"==typeof Object.is?Object.is:u3t,d3t=$0.useState,f3t=$0.useEffect,h3t=$0.useLayoutEffect,p3t=$0.useDebugValue;function m3t(e,t){var n=t(),r=d3t({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return h3t((function(){i.value=n,i.getSnapshot=t,ND(i)&&o({inst:i})}),[e,n,t]),f3t((function(){return ND(i)&&o({inst:i}),e((function(){ND(i)&&o({inst:i})}))}),[e]),p3t(n),n}function ND(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!c3t(e,n)}catch{return!0}}function g3t(e,t){return t()}var v3t=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g3t:m3t;Hve.useSyncExternalStore=void 0!==$0.useSyncExternalStore?$0.useSyncExternalStore:v3t,Uve.exports=Hve;var l2,y3t=Uve.exports,b3t=new Uint8Array(16);function x3t(){if(!l2&&!(l2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l2(b3t)}const w3t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function C3t(e){return"string"==typeof e&&w3t.test(e)}for(var ma=[],BD=0;BD<256;++BD)ma.push((BD+256).toString(16).substr(1));function S3t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ma[e[t+0]]+ma[e[t+1]]+ma[e[t+2]]+ma[e[t+3]]+"-"+ma[e[t+4]]+ma[e[t+5]]+"-"+ma[e[t+6]]+ma[e[t+7]]+"-"+ma[e[t+8]]+ma[e[t+9]]+"-"+ma[e[t+10]]+ma[e[t+11]]+ma[e[t+12]]+ma[e[t+13]]+ma[e[t+14]]+ma[e[t+15]]).toLowerCase();if(!C3t(n))throw TypeError("Stringified UUID is invalid");return n}function Ca(e,t,n){var r=(e=e||{}).random||(e.rng||x3t)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return S3t(r)}var E3t=tm;function _3t(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!E3t(a):n(a,s)))var s=a,l=o}return l}var Wve=_3t;function k3t(e,t){return e>t}var T3t=k3t,A3t=Wve,j3t=T3t,I3t=dm;function D3t(e){return e&&e.length?A3t(e,I3t,j3t):void 0}var O3t=D3t;const R3t=Be(O3t);function M3t(e,t){return e<t}var $3t=M3t,P3t=Wve,F3t=$3t,L3t=dm;function N3t(e){return e&&e.length?P3t(e,L3t,F3t):void 0}var B3t=N3t;const V3t=Be(B3t),hn=fa("mutator-document");var z3t=Object.defineProperty,U3t=(e,t,n)=>t in e?z3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lZ=(e,t,n)=>U3t(e,"symbol"!=typeof t?t+"":t,n);class su{constructor(e,t){lZ(this,"_value"),lZ(this,"path"),this._value=e,this.path=t||[]}containerType(){return Array.isArray(this._value)?"array":null!==this._value&&"object"==typeof this._value?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return!!Array.isArray(this._value)&&(e>=this.length()?null:new su(this._value[e],this.path.concat(e)))}hasAttribute(e){return!!Hv(this._value)&&this._value.hasOwnProperty(e)}attributeKeys(){return Hv(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!Hv(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new su(this._value[e],this.path.concat(e)):null}set(e){return e===this._value?this:new su(e,this.path)}setIndex(e,t){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(t,this._value[e]))return this;const n=this._value.slice();return n[e]=t,new su(n,this.path)}setIndexAccessor(e,t){return this.setIndex(e,t.get())}unsetIndices(e){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const t=this._value.length,n=[];for(let r=0;r<t;r++)-1===e.indexOf(r)&&n.push(this._value[r]);return new su(n,this.path)}insertItemsAt(e,t){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let n;return n=0===this._value.length&&0===e?t:this._value.slice(0,e).concat(t).concat(this._value.slice(e)),new su(n,this.path)}setAttribute(e,t){if(!Hv(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(t,this._value[e]))return this;const n=Object.assign({},this._value,{[e]:t});return new su(n,this.path)}setAttributeAccessor(e,t){return this.setAttribute(e,t.get())}unsetAttribute(e){if(!Hv(this._value))throw new Error("Unable to unset attribute of non-object container");const t=Object.assign({},this._value);return delete t[e],new su(t,this.path)}}function Hv(e){return null!==e&&"object"==typeof e}function $S(e){return null!==e&&"object"==typeof e}const H3t=/^[a-z_$]+/;function Gve(e){let t="";return e.forEach(((e,n)=>{t+=W3t(e,0===n)})),t}function W3t(e,t){if("number"==typeof e)return`[${e}]`;if($S(e)){const t=e;return Object.keys(e).map((e=>G3t(t[e])?`[${e}=="${t[e]}"]`:"")).join("")}return"string"==typeof e&&H3t.test(e)?t?e:`.${e}`:`['${e}']`}function G3t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}function Y3t(e){const[t,n]=Yve(e);if(!t)throw new Error("Head cannot be null");return K3t(t,n)}function Yve(e){if("path"!==e.type)return[e,null];const t=e.nodes;return 0===t.length?[null,null]:1===t.length?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function q3t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function K3t(e,t){return"union"!==e.type?[[e,t]]:e.nodes.map((e=>{if("path"===e.type){const[n,r]=Yve(e);return[n,q3t(r,t)]}return[e,t]}))}var Z3t=Object.defineProperty,X3t=(e,t,n)=>t in e?Z3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u2=(e,t,n)=>X3t(e,"symbol"!=typeof t?t+"":t,n);const J3t=/[0-9]/,VD=/^[a-zA-Z0-9_]$/,Q3t=/^[a-zA-Z_]$/,qve={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},eOt=Object.keys(qve);class tOt{constructor(e){u2(this,"source"),u2(this,"i"),u2(this,"length"),u2(this,"tokenizers"),this.source=e,this.length=e.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map((e=>e.bind(this)))}tokenize(){const e=[];for(;!this.EOF();){this.chompWhitespace();let t=null;if(!this.tokenizers.some((e=>(t=e(),!!t)))||!t)throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`);e.push(t)}return e}takeWhile(e){const t=this.i;let n="";for(;!this.EOF();){const t=e(this.source[this.i]);if(null===t)break;n+=t,this.i++}return this.i===t?null:n}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(e){if(this.i+e.length>this.length)throw new Error(`Expected ${e} at end of jsonpath`);if(e!==this.source.slice(this.i,this.i+e.length))throw new Error(`Expected "${e}", but source contained "${this.source.slice()}`);this.i+=e.length}tryConsume(e){if(this.i+e.length>this.length)return null;if(e===this.source.slice(this.i,this.i+e.length)){if(e[0].match(VD)&&this.length>this.i+e.length){const t=this.source[this.i+e.length];if(t&&t.match(VD))return null}return this.i+=e.length,e}return null}chompWhitespace(){this.takeWhile((e=>" "===e?"":null))}tokenizeQuoted(){const e=this.peek();if("'"===e||'"'===e){this.consume(e);let t=!1;const n=this.takeWhile((n=>t?(t=!1,n):"\\"===n?(t=!0,""):n!=e?n:null));return this.consume(e),{type:"quoted",value:n,quote:'"'===e?"double":"single"}}return null}tokenizeIdentifier(){let e=!0;const t=this.takeWhile((t=>e?(e=!1,t.match(Q3t)?t:null):t.match(VD)?t:null));return null!==t?{type:"identifier",name:t}:null}tokenizeNumber(){const e=this.i;let t=!1,n=!1,r=!1;"-"===this.peek()&&(r=!0,this.consume("-"));const i=this.takeWhile((e=>"."===e&&!t&&n?(t=!0,e):(n=!0,e.match(J3t)?e:null)));return null!==i?{type:"number",value:r?-i:+i,raw:r?`-${i}`:i}:(this.i=e,null)}tokenizeSymbol(){for(const e of eOt){const t=qve[e].find((e=>this.tryConsume(e)));if(t)return{type:e,symbol:t}}return null}}function nOt(e){return new tOt(e).tokenize()}var rOt=Object.defineProperty,iOt=(e,t,n)=>t in e?rOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zD=(e,t,n)=>iOt(e,"symbol"!=typeof t?t+"":t,n);class aOt{constructor(e){zD(this,"tokens"),zD(this,"length"),zD(this,"i"),this.tokens=nOt(e),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const e=this.peek();return this.i+=1,e}probe(e){const t=this.peek();if(!t)return null;const n=t;return Object.keys(e).every((r=>r in t&&e[r]===n[r]))?t:null}match(e){return this.probe(e)?this.consume():null}parseAttribute(){const e=this.match({type:"identifier"});if(e&&"identifier"===e.type)return{type:"attribute",name:e.name};const t=this.match({type:"quoted",quote:"single"});return t&&"quoted"===t.type?{type:"attribute",name:t.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const e=this.match({type:"number"});return e&&"number"===e.type?{type:"number",value:e.value}:null}parseNumberValue(){const e=this.parseNumber();return e?e.value:null}parseSliceSelector(){const e=this.i,t=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return null===t?(this.i=e,null):{type:"index",value:t};const n={type:"range",start:t,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(n.step=this.parseNumberValue()),null===n.start&&null===n.end?(this.i=e,null):n}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const e=this.match({type:"quoted",quote:"double"});if(e&&"quoted"===e.type)return{type:"string",value:e.value||""};const t=this.match({type:"boolean"});return t&&"boolean"===t.type?{type:"boolean",value:"true"===t.symbol}:this.parseNumber()}parseFilterExpression(){const e=this.i,t=this.parseAttribute()||this.parseAlias();if(!t)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:t};const n=this.match({type:"comparator"});if(!n||"comparator"!==n.type)return this.i=e,null;const r=t,i=this.parseLiteralValue();if(!i)throw new Error(`Operator ${n.symbol} needs a literal value at the right hand side`);return{type:"constraint",operator:n.symbol,lhs:r,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const e=[];let t=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;t&&(e.push(t),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(t=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!t)throw new Error("Expected expression following ','")}return{type:"union",nodes:e}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const e=this.parsePath();if(!e)throw new Error("Expected path following '..' operator");return{type:"recursive",term:e}}parsePath(){const e=[],t=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!t)return null;for(e.push(t);!this.EOF();){if(this.match({type:"operator",symbol:"."})){const t=this.parseAttribute();if(!t)throw new Error("Expected attribute name following '.");e.push(t);continue}if(!this.probe({type:"paren",symbol:"["})){const t=this.parseRecursive();t&&e.push(t);break}{const t=this.parseUnion();if(!t)throw new Error("Expected union following '['");e.push(t)}}return 1===e.length?e[0]:{type:"path",nodes:e}}}function Kve(e){const t=new aOt(e).parse();if(!t)throw new Error(`Failed to parse JSON path "${e}"`);return t}function Zve(e){return mg(e,!1)}function mg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return"self"===e.target?"@":"$";case"number":return`${e.value}`;case"range":{const n=[];return t||n.push("["),e.start&&n.push(`${e.start}`),n.push(":"),e.end&&n.push(`${e.end}`),e.step&&n.push(`:${e.step}`),t||n.push("]"),n.join("")}case"index":return t?`${e.value}`:`[${e.value}]`;case"constraint":{const n=e.rhs?` ${mg(e.rhs,!1)}`:"",r=`${mg(e.lhs,!1)} ${e.operator}${n}`;return t?r:`[${r}]`}case"string":return JSON.stringify(e.value);case"path":{const t=[],n=e.nodes.slice();for(;n.length>0;){const e=n.shift();e&&t.push(Zve(e));const r=n[0];r&&"["!==mg(r,!1)[0]&&t.push(".")}return t.join("")}case"union":return`[${e.nodes.map((e=>mg(e,!0))).join(",")}]`;default:throw new Error(`Unknown node type ${e.type}`);case"recursive":return`..${mg(e.term,!1)}`}}var oOt=Object.defineProperty,sOt=(e,t,n)=>t in e?oOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lOt=(e,t,n)=>sOt(e,t+"",n);class as{constructor(e){if(lOt(this,"expr"),!e)throw new Error("Attempted to create Expression from null-value");if(this.expr="expr"in e?e.expr:e,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return"path"===this.expr.type}isUnion(){return"union"===this.expr.type}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return"constraint"===this.expr.type}isRecursive(){return"recursive"===this.expr.type}isExistenceConstraint(){return"constraint"===this.expr.type&&"?"===this.expr.operator}isIndex(){return"index"===this.expr.type}isRange(){return"range"===this.expr.type}expandRange(e){let t="start"in this.expr&&this.expr.start||0;t=UD(t,e);let n="end"in this.expr&&this.expr.end||(()=>{if(!e)throw new Error("expandRange() required a probe that was not passed");return e.length()})();n=UD(n,e);return{start:t,end:n,step:"step"in this.expr&&this.expr.step||1}}isAttributeReference(){return"attribute"===this.expr.type}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return"alias"===this.expr.type&&"self"===this.expr.target}constraintTargetIsSelf(){return"constraint"===this.expr.type&&"alias"===this.expr.lhs.type&&"self"===this.expr.lhs.target}constraintTargetIsAttribute(){return"constraint"===this.expr.type&&"attribute"===this.expr.lhs.type}testConstraint(e){const t=this.expr;if("constraint"===t.type&&"alias"===t.lhs.type&&"self"===t.lhs.target){if("primitive"!==e.containerType())return!1;if("constraint"===t.type&&"?"===t.operator)return!0;const n=e.get(),r=t.rhs&&"value"in t.rhs?t.rhs.value:void 0;return uZ(n,t.operator,r)}if("constraint"!==t.type)return!1;const n=t.lhs;if(!n)throw new Error("No LHS of expression");if("attribute"!==n.type)throw new Error(`Constraint target ${n.type} not supported`);if("object"!==e.containerType())return!1;const r=e.getAttribute(n.name);if(null==r||"primitive"!==r.containerType())return!1;if(this.isExistenceConstraint())return!0;const i=t.rhs&&"value"in t.rhs?t.rhs.value:void 0;return uZ(r.get(),t.operator,i)}pathNodes(){return"path"===this.expr.type?this.expr.nodes:[this.expr]}prepend(e){return e?new as({type:"path",nodes:e.pathNodes().concat(this.pathNodes())}):this}concat(e){return e?e.prepend(this):this}descend(){return Y3t(this.expr).map((e=>{const[t,n]=e;return{head:t?new as(t):null,tail:n?new as(n):null}}))}unwrapRecursive(){if("recursive"!==this.expr.type)throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`);return new as(this.expr.term)}toIndicies(e){if("index"!==this.expr.type&&"range"!==this.expr.type)throw new Error("Node cannot be converted to indexes");if("index"===this.expr.type)return[UD(this.expr.value,e)];const t=[],n=this.expandRange(e);let{start:r,end:i}=n;n.step<0&&([r,i]=[i,r]);for(let e=r;e<i;e++)t.push(e);return t}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if("attribute"===this.expr.type)return[this.expr.name];throw new Error(`Can't convert ${this.expr.type} to field references`)}toString(){return Zve(this.expr)}static fromPath(e){const t=Kve(e);if(!t)throw new Error(`Failed to parse path "${e}"`);return new as(t)}static attributeReference(e){return new as({type:"attribute",name:e})}static indexReference(e){return new as({type:"index",value:e})}}function uZ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error(`Unsupported binary operator ${t}`)}}function UD(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}var uOt=Object.defineProperty,cOt=(e,t,n)=>t in e?uOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cZ=(e,t,n)=>cOt(e,"symbol"!=typeof t?t+"":t,n);class Fg{constructor(e,t){cZ(this,"head"),cZ(this,"tail"),this.head=e,this.tail=t}iterate(e){let t=[this];if(this.head&&this.head.isConstraint()){let n=!0;for(;n;)t=pr(t.map((t=>t.iterateConstraints(e)))),n=t.some((e=>e.head&&e.head.isConstraint()))}return t}isRecursive(){return!(!this.head||!this.head.isRecursive())}hasArrived(){return null===this.head&&null===this.tail}extractRecursives(){if(this.head&&this.head.isRecursive()){const e=this.head.unwrapRecursive();return new Fg(null,e.concat(this.tail)).descend()}return[]}iterateConstraints(e){const t=this.head;if(null===t||!t.isConstraint())return[this];const n=[];if("primitive"===e.containerType()&&t.constraintTargetIsSelf())return t.testConstraint(e)&&n.push(...this.descend()),n;if("array"===e.containerType()){const r=e.length();for(let i=0;i<r;i++){const r=e.getIndex(i);r&&t.testConstraint(r)&&n.push(new Fg(new as({type:"index",value:i}),this.tail))}return n}return"object"===e.containerType()?t.constraintTargetIsSelf()?[]:t.testConstraint(e)?this.descend():n:n}descend(){return this.tail?this.tail.descend().map((e=>new Fg(e.head,e.tail))):[new Fg(null,null)]}toString(){const e=["<"];return this.head&&e.push(this.head.toString()),e.push("|"),this.tail&&e.push(this.tail.toString()),e.push(">"),e.join("")}}var dOt=Object.defineProperty,fOt=(e,t,n)=>t in e?dOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HD=(e,t,n)=>fOt(e,"symbol"!=typeof t?t+"":t,n);class qh{constructor(e,t){HD(this,"active"),HD(this,"recursives"),HD(this,"payload"),this.active=e||[],t?(this.recursives=t.recursives,this.payload=t.payload):this.recursives=[],this.extractRecursives()}setPayload(e){return this.payload=e,this}extractRecursives(){this.active=this.active.filter((e=>!e.isRecursive()||(this.recursives.push(...e.extractRecursives()),!1)))}activeRecursives(e){return this.recursives.filter((t=>{const n=t.head;return!!n&&(!!(n.isConstraint()||"array"===e.containerType()&&n.isIndexReference())||"object"===e.containerType()&&(n.isAttributeReference()&&e.hasAttribute(n.name())))}))}match(e){return this.iterate(e).extractMatches(e)}iterate(e){const t=[];return this.active.concat(this.activeRecursives(e)).forEach((n=>{t.push(...n.iterate(e))})),new qh(t,this)}isDestination(){return this.active.some((e=>e.hasArrived()))}hasRecursives(){return this.recursives.length>0}extractMatches(e){const t=[],n=[];if(this.active.forEach((r=>{if(r.hasArrived())return void n.push(new as({type:"alias",target:"self"}));const i=r.head;if(i&&("array"!==e.containerType()||i.isIndexReference())&&("object"!==e.containerType()||i.isAttributeReference()))if(r.tail){const e=new qh(r.descend(),this);i.toFieldReferences().forEach((()=>{t.push({target:i,matcher:e})}))}else n.push(i)})),this.hasRecursives()){const n=new qh([],this);if("array"===e.containerType()){const r=e.length();for(let e=0;e<r;e++)t.push({target:as.indexReference(e),matcher:n})}else"object"===e.containerType()&&e.attributeKeys().forEach((e=>{t.push({target:as.attributeReference(e),matcher:n})}))}return n.length>0?{leads:t,delivery:{targets:n,payload:this.payload}}:{leads:t}}static fromPath(e){const t=Kve(e);if(!t)throw new Error(`Failed to parse path from "${e}"`);const n=new Fg(null,new as(t));return new qh(n.descend())}}var hOt=Object.defineProperty,pOt=(e,t,n)=>t in e?hOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dZ=(e,t,n)=>pOt(e,"symbol"!=typeof t?t+"":t,n);class $_{constructor(e,t){dZ(this,"_value"),dZ(this,"path"),this._value=e,this.path=t||[]}containerType(){return Array.isArray(this._value)?"array":null!==this._value&&"object"==typeof this._value?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return!!Array.isArray(this._value)&&(e>=this.length()?null:new $_(this._value[e],this.path.concat(e)))}hasAttribute(e){return!!$S(this._value)&&this._value.hasOwnProperty(e)}attributeKeys(){return $S(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!$S(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new $_(this._value[e],this.path.concat(e)):null}get(){return this._value}}function mOt(e,t){const n=[];return Xve(qh.fromPath(e).setPayload((function(e){n.push(...e)})),new $_(t)),n}function Xve(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach((e=>{fZ(e.target,t).forEach((t=>{Xve(e.matcher,t)}))})),r&&r.targets.forEach((e=>{"function"==typeof r.payload&&r.payload(fZ(e,t))}))}function fZ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach((e=>{n.push(t.getIndex(e))}));else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else{if(!e.isSelfReference())throw new Error(`Unable to derive accessor for target ${e.toString()}`);n.push(t)}return bT(n)}function gOt(e,t){return mOt(e,t).map((e=>({path:e.path,value:e.get()})))}var vOt=Object.defineProperty,yOt=(e,t,n)=>t in e?vOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WD=(e,t,n)=>yOt(e,"symbol"!=typeof t?t+"":t,n);function hZ(e,t){if("string"!=typeof t)return t;const[n]=W8(e,t,{allowExceedingIndices:!0});return n}class bOt{constructor(e,t,n){WD(this,"path"),WD(this,"dmpPatch"),WD(this,"id"),this.id=e,this.path=t,this.dmpPatch=Rve(n)}apply(e,t){let n=t;if("primitive"===n.containerType())return n;for(const r of e)if(r.isIndexReference())for(const e of r.toIndicies(t)){const t=n.getIndex(e);if(!t)continue;const r=t.get(),i=hZ(this.dmpPatch,r);n=n.setIndex(e,i)}else{if(!r.isAttributeReference()||!n.hasAttribute(r.name()))throw new Error(`Unable to apply diffMatchPatch to target ${r.toString()}`);{const e=n.getAttribute(r.name());if(!e)continue;const t=e.get(),i=hZ(this.dmpPatch,t);n=n.setAttribute(r.name(),i)}}return n}}var xOt=Object.defineProperty,wOt=(e,t,n)=>t in e?xOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GD=(e,t,n)=>wOt(e,"symbol"!=typeof t?t+"":t,n);function pZ(e,t){return"number"==typeof e&&Number.isFinite(e)?e+t:e}class mZ{constructor(e,t,n){GD(this,"path"),GD(this,"value"),GD(this,"id"),this.path=t,this.value=n,this.id=e}apply(e,t){let n=t;if("primitive"===n.containerType())return n;for(const r of e)if(r.isIndexReference())for(const e of r.toIndicies(t)){const t=n.getIndex(e);if(!t)continue;const r=t.get();n=n.setIndex(e,pZ(r,this.value))}else{if(!r.isAttributeReference())throw new Error(`Unable to apply to target ${r.toString()}`);{const e=n.getAttribute(r.name());if(!e)continue;const t=e.get();n=n.setAttribute(r.name(),pZ(t,this.value))}}return n}}function YT(e,t){const n=[];return e.forEach((e=>{e.isIndexReference()&&n.push(...e.toIndicies(t))})),n.sort()}var COt=Object.defineProperty,SOt=(e,t,n)=>t in e?COt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c2=(e,t,n)=>SOt(e,"symbol"!=typeof t?t+"":t,n);class EOt{constructor(e,t,n,r){c2(this,"location"),c2(this,"path"),c2(this,"items"),c2(this,"id"),this.id=e,this.location=t,this.path=n,this.items=r}apply(e,t){let n=t;if("array"!==t.containerType())throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const r=_Ot(e,t);n=n.insertItemsAt(r,this.items);break}case"after":{const r=kOt(e,t);n=n.insertItemsAt(r+1,this.items);break}case"replace":{const r=YT(e,t);n=n.unsetIndices(r),n=n.insertItemsAt(r[0],this.items);break}default:throw new Error(`Unsupported location atm: ${this.location}`)}return n}}function _Ot(e,t){let n=V3t(YT(e,t))||0;return e.forEach((e=>{if(e.isRange()){const{start:t}=e.expandRange();t<n&&(n=t)}})),n}function kOt(e,t){let n=R3t(YT(e,t))||0;return e.forEach((e=>{if(e.isRange()){const{end:t}=e.expandRange();t>n&&(n=t)}})),n}var TOt=Object.defineProperty,AOt=(e,t,n)=>t in e?TOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YD=(e,t,n)=>AOt(e,"symbol"!=typeof t?t+"":t,n);class Jve{constructor(e,t,n){YD(this,"id"),YD(this,"path"),YD(this,"value"),this.id=e,this.path=t,this.value=n}apply(e,t){let n=t;return e.forEach((e=>{if(!e.isIndexReference()){if(!e.isAttributeReference())throw new Error(`Unable to apply to target ${e.toString()}`);"primitive"===n.containerType()?n=n.set({[e.name()]:this.value}):n.hasAttribute(e.name())||(n=t.setAttribute(e.name(),this.value))}})),n}}var jOt=Object.defineProperty,IOt=(e,t,n)=>t in e?jOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qD=(e,t,n)=>IOt(e,"symbol"!=typeof t?t+"":t,n);class Qve{constructor(e,t,n){qD(this,"id"),qD(this,"path"),qD(this,"value"),this.id=e,this.path=t,this.value=n}apply(e,t){let n=t;return e.forEach((e=>{if(e.isSelfReference())n=n.set(this.value);else if(e.isIndexReference())e.toIndicies(t).forEach((e=>{n=n.setIndex(e,this.value)}));else{if(!e.isAttributeReference())throw new Error(`Unable to apply to target ${e.toString()}`);n="primitive"===n.containerType()?n.set({[e.name()]:this.value}):n.setAttribute(e.name(),this.value)}})),n}}var DOt=Object.defineProperty,OOt=(e,t,n)=>t in e?DOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KD=(e,t,n)=>OOt(e,"symbol"!=typeof t?t+"":t,n);class ROt{constructor(e,t){KD(this,"id"),KD(this,"path"),KD(this,"value"),this.id=e,this.path=t}apply(e,t){let n=t;switch(t.containerType()){case"array":n=n.unsetIndices(YT(e,t));break;case"object":e.forEach((e=>{n=n.unsetAttribute(e.name())}));break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return n}}function eye(e){const t=[];if(Array.isArray(e))return e.reduce(((e,t)=>e.concat(eye(t))),t);const{set:n,setIfMissing:r,unset:i,diffMatchPatch:o,inc:a,dec:s,insert:l}=e;if(r&&Object.keys(r).forEach((n=>{t.push(new Jve(e.id,n,r[n]))})),n&&Object.keys(n).forEach((r=>{t.push(new Qve(e.id,r,n[r]))})),i&&i.forEach((n=>{t.push(new ROt(e.id,n))})),o&&Object.keys(o).forEach((n=>{t.push(new bOt(e.id,n,o[n]))})),a&&Object.keys(a).forEach((n=>{t.push(new mZ(e.id,n,a[n]))})),s&&Object.keys(s).forEach((n=>{t.push(new mZ(e.id,n,-s[n]))})),l){let n,r;const i=l;if("before"in i)n="before",r=i.before;else if("after"in i)n="after",r=i.after;else{if(!("replace"in i))throw new Error("Invalid insert patch");n="replace",r=i.replace}t.push(new EOt(e.id,n,r,i.items))}return t}var MOt=Object.defineProperty,$Ot=(e,t,n)=>t in e?MOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,POt=(e,t,n)=>$Ot(e,t+"",n);let FOt=class{constructor(e){POt(this,"patches"),this.patches=eye(e)}apply(e){const t=new su(e);return this.applyViaAccessor(t).get()}applyViaAccessor(e){let t=e;const n=e.getAttribute("_id");if(!n)throw new Error("Cannot apply patch to document with no _id");const r=n.get();for(const e of this.patches){if(e.id!==r)continue;t=F$(qh.fromPath(e.path).setPayload(e),t)}return t}};function F$(e,t){const n=e.payload instanceof Qve||e.payload instanceof Jve;let r=t;const{leads:i,delivery:o}=e.match(t);return i.forEach((e=>{if(e.target.isIndexReference())e.target.toIndicies().forEach((t=>{const n=r.getIndex(t);if(!n)throw new Error("Index out of bounds");r=r.setIndexAccessor(t,F$(e.matcher,n))}));else{if(!e.target.isAttributeReference())throw new Error(`Unable to handle target ${e.target.toString()}`);{n&&"primitive"===r.containerType()&&(r=r.set({}));let t=r.getAttribute(e.target.name());if(!t&&n&&(r=r.setAttribute(e.target.name(),{}),t=r.getAttribute(e.target.name())),!t)return;const i=F$(e.matcher,t);t!==i&&(r=r.setAttributeAccessor(e.target.name(),i))}}})),o&&LOt(o.payload)&&(r=o.payload.apply(o.targets,r)),r}function LOt(e){return!(!e||"object"!=typeof e||null===e||!("apply"in e)||"function"!=typeof e.apply)}const NOt=Ca;var BOt=Object.defineProperty,VOt=(e,t,n)=>t in e?BOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZD=(e,t,n)=>VOt(e,"symbol"!=typeof t?t+"":t,n);class ju{constructor(e){ZD(this,"params"),ZD(this,"compiled"),ZD(this,"_appliesToMissingDocument"),this.params=e}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if("string"==typeof this.params.timestamp)return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=NOt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const e=this.mutations[0];return this._appliesToMissingDocument=!e||!!(e.create||e.createIfNotExists||e.createOrReplace),this._appliesToMissingDocument}compile(){const e=[];this.mutations.forEach((t=>{if(t.create){const n=t.create||{};e.push((e=>e||Object.assign(n,{_createdAt:n._createdAt||this.params.timestamp})))}else if(t.createIfNotExists){const n=t.createIfNotExists||{};e.push((e=>null===e?Object.assign(n,{_createdAt:n._createdAt||this.params.timestamp}):e))}else if(t.createOrReplace){const n=t.createOrReplace||{};e.push((()=>Object.assign(n,{_createdAt:n._createdAt||this.params.timestamp})))}else if(t.delete)e.push((()=>null));else{if(!t.patch)throw new Error(`Unsupported mutation ${JSON.stringify(t,null,2)}`);{if("query"in t.patch)return;const n=new FOt(t.patch);e.push((e=>n.apply(e)))}}})),"string"==typeof this.params.timestamp&&e.push((e=>e?Object.assign(e,{_updatedAt:this.params.timestamp}):null));const t=this.previousRev,n=this.resultRev||this.transactionId;this.compiled=r=>{if(t&&r&&t!==r._rev)throw new Error(`Previous revision for this mutation was ${t}, but the document revision is ${r._rev}`);let i=r;for(const t of e)i=t(i);return i&&n&&(i===r&&(i=Object.assign({},r)),i._rev=n),i}}apply(e){hn("Applying mutation %O to document %O",this.mutations,e),this.compiled||this.compile();const t=this.compiled(e);return hn("  => %O",t),t}static applyAll(e,t){return t.reduce(((e,t)=>t.apply(e)),e)}static squash(e,t){const n=t.reduce(((e,t)=>e.concat(...t.mutations)),[]);return new ju({mutations:n})}}var zOt=Object.defineProperty,UOt=(e,t,n)=>t in e?zOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wl=(e,t,n)=>UOt(e,"symbol"!=typeof t?t+"":t,n);let HOt=class{constructor(e){wl(this,"incoming",[]),wl(this,"submitted",[]),wl(this,"pending",[]),wl(this,"HEAD"),wl(this,"EDGE"),wl(this,"onRebase"),wl(this,"onMutation"),wl(this,"onConsistencyChanged"),wl(this,"onRemoteMutation"),wl(this,"inconsistentAt",null),wl(this,"lastStagedAt",null),this.reset(e),this.HEAD=e,this.EDGE=e}reset(e){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=e,this.EDGE=e,this.considerIncoming(),this.updateConsistencyFlag()}arrive(e){this.incoming.push(e),this.considerIncoming(),this.updateConsistencyFlag()}stage(e,t){if(!e.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,hn("Staging mutation %s (pushed to pending)",e.transactionId),this.pending.push(e),this.EDGE=e.apply(this.EDGE),this.onMutation&&!t&&this.onMutation({mutation:e,document:this.EDGE,remote:!1});const n=e.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(n),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(n),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let e,t=!1;const n=[];if(this.HEAD&&this.HEAD._updatedAt){const e=new Date(this.HEAD._updatedAt);this.incoming.find((t=>t.timestamp&&t.timestamp<e))&&(this.incoming=this.incoming.filter((t=>t.timestamp&&t.timestamp<e)))}let r=0;do{if(this.HEAD){const t=this.HEAD;e=t._rev?this.incoming.find((e=>e.previousRev===t._rev)):void 0}else e=this.incoming.find((e=>e.appliesToMissingDocument()));if(e){const i=this.applyIncoming(e);if(t=t||i,t&&n.push(e),r++>10)throw new Error(`Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(e)}`)}}while(e);this.incoming.length>0&&hn.enabled&&hn("Unable to apply mutations %s",this.incoming.map((e=>e.transactionId)).join(", ")),t&&this.rebase(n)}updateConsistencyFlag(){const e=this.isConsistent(),t=0===this.pending.length&&0===this.submitted.length&&0===this.incoming.length;t?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),e!=t&&this.onConsistencyChanged&&(hn(t?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(t))}applyIncoming(e){if(!e)return!1;if(!e.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(hn("Applying mutation %s -> %s to rev %s",e.previousRev,e.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=e.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(e),this.incoming=this.incoming.filter((t=>t.transactionId!==e.transactionId)),this.hasUnresolvedMutations()){const t=this.consumeUnresolved(e.transactionId);return hn.enabled&&(hn(`Incoming mutation ${e.transactionId} appeared while there were pending or submitted local mutations`),hn(`Submitted txnIds: ${this.submitted.map((e=>e.transactionId)).join(", ")}`),hn(`Pending txnIds: ${this.pending.map((e=>e.transactionId)).join(", ")}`),hn("needRebase === %s",t)),t}return hn("Remote mutation %s arrived w/o any pending or submitted local mutations",e.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:e,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(e){if(0===this.submitted.length&&0===this.pending.length)return!1;if(0!==this.submitted.length){if(this.submitted[0].transactionId===e)return hn("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",e),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===e)return hn("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",e),this.pending.shift(),!1;return hn("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter((t=>t.transactionId!==e)),this.pending=this.pending.filter((t=>t.transactionId!==e)),hn("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(e){if(0===this.pending.length)return;const t=this.pending[0];if(t.transactionId===e)return this.pending.shift(),void this.submitted.push(t);let n;const r=[];this.pending.forEach((t=>{t.transactionId!==e?r.push(t):n=t})),n&&this.submitted.push(n),this.pending=r,this.rebase([])}pendingFailed(e){this.pending=this.pending.filter((t=>t.transactionId!==e)),this.rebase([])}rebase(e){const t=this.EDGE;this.EDGE=ju.applyAll(this.HEAD,this.submitted.concat(this.pending)),null!==t&&null!==this.EDGE&&(t._rev=this.EDGE._rev),!bt(this.EDGE,t)&&this.onRebase&&this.onRebase(this.EDGE,e,this.pending)}};var WOt=Object.defineProperty,GOt=(e,t,n)=>t in e?WOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rg=(e,t,n)=>GOt(e,"symbol"!=typeof t?t+"":t,n);class d2{constructor(e){rg(this,"BASIS"),rg(this,"PRESTAGE"),rg(this,"setOperations"),rg(this,"documentPresent"),rg(this,"out",[]),rg(this,"staged"),e?hn("Reset mutation buffer to rev %s",e._rev):hn("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=e,this.PRESTAGE=e}add(e){e.mutations.forEach((e=>this.addOperation(e)))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(e){this.stashStagedOperations();let t=null;return this.out.length>0&&(hn("Purged mutation buffer"),t=new ju({mutations:this.out,resultRev:e,transactionId:e})),this.out=[],this.documentPresent=!1,t}addOperation(e){var t;if(e.patch&&e.patch.set&&"id"in e.patch&&e.patch.id===(null==(t=this.PRESTAGE)?void 0:t._id)&&2===Object.keys(e.patch).length){const t=e.patch.set,n={};for(const e of Object.keys(t))t.hasOwnProperty(e)&&(this.optimiseSetOperation(e,t[e])||(n[e]=t[e]));Object.keys(n).length>0&&(hn("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:n}}),this.stashStagedOperations())}else e.createIfNotExists&&this.PRESTAGE&&e.createIfNotExists._id===this.PRESTAGE._id?this.documentPresent||(this.staged.push(e),this.documentPresent=!0,this.stashStagedOperations()):(hn("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(e),this.stashStagedOperations())}optimiseSetOperation(e,t){if("object"==typeof t)return!1;const n=gOt(e,this.PRESTAGE);if(1!==n.length)return!1;const r=n[0];if("object"==typeof r.value||!this.PRESTAGE)return!1;let i=null;if(r.value===t)i=null;else if("string"==typeof r.value&&"string"==typeof t)try{const n=Ove(H8(r.value,t));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[e]:n}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[e]:t}}};const o=Gve(r.path);return i?this.setOperations[o]=i:delete this.setOperations[o],!0}stashStagedOperations(){const e=[];Object.keys(this.setOperations).forEach((t=>{const n=this.setOperations[t];n&&e.push(n)})),e.push(...this.staged),e.length>0&&(this.PRESTAGE=new ju({mutations:e}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...e)}rebase(e){return this.stashStagedOperations(),null===e?(this.out=[],this.BASIS=e,this.PRESTAGE=e,this.documentPresent=!1):(this.BASIS=e,this.out?this.PRESTAGE=new ju({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var YOt=Object.defineProperty,qOt=(e,t,n)=>t in e?YOt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ba=(e,t,n)=>qOt(e,"symbol"!=typeof t?t+"":t,n);const KOt=6e4;class ZOt{constructor(e,{resolve:t,reject:n}){Ba(this,"mutations"),Ba(this,"tries"),Ba(this,"resolve"),Ba(this,"reject"),this.mutations=e,this.tries=0,this.resolve=t,this.reject=n}apply(e){return ju.applyAll(e,this.mutations)}squash(e){const t=ju.squash(e,this.mutations);return t.assignRandomTransactionId(),t}}const gZ=(e,t)=>e.concat(t.mutations);class XOt{constructor(e){Ba(this,"mutations"),Ba(this,"document"),Ba(this,"LOCAL"),Ba(this,"commits"),Ba(this,"buffer"),Ba(this,"onMutation"),Ba(this,"onRemoteMutation"),Ba(this,"onRebase"),Ba(this,"onDelete"),Ba(this,"onConsistencyChanged"),Ba(this,"commitHandler"),Ba(this,"committerRunning",!1),this.buffer=new d2(e),this.document=new HOt(e),this.document.onMutation=e=>this.handleDocMutation(e),this.document.onRemoteMutation=e=>this.onRemoteMutation&&this.onRemoteMutation(e),this.document.onRebase=(e,t,n)=>this.handleDocRebase(e,t,n),this.document.onConsistencyChanged=e=>this.handleDocConsistencyChanged(e),this.LOCAL=e,this.mutations=[],this.commits=[]}reset(e){e?hn("Document state reset to revision %s",e._rev):hn("Document state reset to being deleted"),this.document.reset(e),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(e){this.onConsistencyChanged&&this.onConsistencyChanged(!1),hn("Staged local mutation"),this.buffer.add(e);const t=this.LOCAL;this.LOCAL=e.apply(this.LOCAL),this.onMutation&&t!==this.LOCAL&&(hn("onMutation fired"),this.onMutation({mutation:e,document:this.LOCAL,remote:!1}),null===this.LOCAL&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(e){if(hn("Remote mutation arrived %s -> %s",e.previousRev,e.resultRev),e.previousRev===e.resultRev)throw new Error(`Mutation ${e.transactionId} has previousRev === resultRev (${e.previousRev})`);return this.document.arrive(e)}commit(){return new Promise(((e,t)=>{if(!this.buffer.hasChanges())return void e();hn("Committing local changes");const n=this.buffer.purge();this.commits.push(new ZOt(n?[n]:[],{resolve:e,reject:t})),this.buffer=new d2(this.LOCAL),this.performCommits()}))}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const e=this.commits.shift();if(!e)return void(this.committerRunning=!1);this.committerRunning=!0;const t=e.squash(this.LOCAL),n=this.document.stage(t,!0),r={success:()=>{hn("Commit succeeded"),n.success(),e.resolve(),this._cycleCommitter()},failure:()=>{hn("Commit failed"),e.tries+=1,null!==this.LOCAL&&this.commits.unshift(e),n.failure(),e.tries<200&&setTimeout((()=>this._cycleCommitter()),Math.min(1e3*e.tries,KOt))},cancel:e=>{this.commits.forEach((t=>t.reject(e))),this.commits=[],this.reset(this.document.HEAD),this.buffer=new d2(this.LOCAL),this.committerRunning=!1}};hn("Posting commit"),this.commitHandler&&this.commitHandler({mutation:t,success:r.success,failure:r.failure,cancel:r.cancel})}handleDocRebase(e,t,n){this.rebase(t,n)}handleDocumentDeleted(){hn("Document deleted"),null!==this.LOCAL&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(e){if(0===this.commits.length&&!this.buffer.hasChanges())return hn("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new d2(this.LOCAL),void(this.onMutation&&this.onMutation(e));hn("Document mutated from remote with local changes"),null===this.document.EDGE&&this.handleDocumentDeleted(),this.rebase([e.mutation],[])}rebase(e,t){hn("Rebasing document"),null===this.document.EDGE&&this.handleDocumentDeleted();const n=this.LOCAL;this.LOCAL=this.commits.reduce(((e,t)=>t.apply(e)),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),null!==n&&null!==this.LOCAL&&(n._rev=this.LOCAL._rev),!bt(this.LOCAL,n)&&this.onRebase&&this.onRebase(this.LOCAL,e.reduce(gZ,[]),t.reduce(gZ,[]))}handleDocConsistencyChanged(e){if(!this.onConsistencyChanged)return;const t=this.commits.length>0||this.buffer.hasChanges();e&&!t&&this.onConsistencyChanged(!0),e||this.onConsistencyChanged(!1)}}let JOt=e=>crypto.getRandomValues(new Uint8Array(e)),QOt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let a="";for(;;){let t=n(i),s=i;for(;s--;)if(a+=e[t[s]&r]||"",a.length===o)return a}}},eRt=(e,t=21)=>QOt(e,t,JOt),tRt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"");var nRt=Math.floor,rRt=Math.random;function iRt(e,t){return e+nRt(rRt()*(t-e+1))}var aRt=iRt,oRt=aRt;function sRt(e){var t=e.length;return t?e[oRt(0,t-1)]:void 0}var tye=sRt,lRt=Wu;function uRt(e,t){return lRt(t,(function(t){return e[t]}))}var nye=uRt,cRt=nye,dRt=Ed;function fRt(e){return null==e?[]:cRt(e,dRt(e))}var rye=fRt;const hRt=Be(rye);var pRt=tye,mRt=rye;function gRt(e){return pRt(mRt(e))}var vRt=gRt,yRt=tye,bRt=vRt,xRt=Ei;function wRt(e){return(xRt(e)?yRt:bRt)(e)}var CRt=wRt;const SRt=Be(CRt);function wo(){const e=f.useContext(eF);if(!e)throw new Error("Router: missing context value");return e}function ERt(e){return 0===e.button}function _Rt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q8(e){const{onClick:t,href:n,target:r,replace:i=!1}=e,{navigateUrl:o}=wo();return{onClick:f.useCallback((e=>{e.isDefaultPrevented()||n&&(t&&t(e),!_Rt(e)&&ERt(e)&&(r||(e.preventDefault(),o({path:n,replace:i}))))}),[n,o,t,i,r])}}function ww(e){const{intent:t,onClick:n,params:r,replace:i,target:o}=e,{resolveIntentLink:a}=wo(),s=f.useMemo((()=>a(t,r)),[t,r,a]),{onClick:l}=q8({href:s,onClick:n,replace:i,target:o});return{onClick:l,href:s}}const ml=f.forwardRef((function(e,t){const{intent:n,params:r,target:i,...o}=e,{onClick:a,href:s}=ww({intent:n,params:r,target:i,onClick:e.onClick});return u.jsx("a",{...o,href:s,onClick:a,ref:t,target:i})}));f.forwardRef((function(e,t){const{onClick:n,href:r,target:i,replace:o,...a}=e,{onClick:s}=q8({onClick:n,href:r,target:i,replace:o});return u.jsx("a",{...a,onClick:s,href:r,target:i,ref:t})}));const kRt=/^[a-zA-Z0-9_-]+$/;function TRt(e){if(!e)return null;if(e.startsWith(":")){const t=e.slice(1);if(!kRt.test(t)){const t=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error(`Warning: Param segments "${e}" includes invalid characters.${t}`))}return{type:"param",name:t}}return{type:"dir",name:e}}function ARt(e){const[t]=e.split("?");return{raw:e,segments:t.split("/").map(TRt).filter(Boolean)}}function iye(e){return Array.isArray(e)?e:e?[e]:[]}function vZ(e){return ar(e)}function XD(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function JD(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function aye(e,t){if(!t)return JD(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...i}=n||{},o=e.route.segments.filter((e=>"param"===e.type)).map((e=>e.name)),a=vZ(i)?Object.keys(i):[],s=R_(a,o),l=Rp(o,s),u=Rp(a,s);if(l.length>0)return XD(e,l,[]);const c=r.map((([e,t])=>[[e],t])),d=Bt(i,s);if(0===u.length)return JD(e,d,c);const f=iye(("function"==typeof e.children?e.children(vZ(i)?i:{}):e.children)||[]);if(u.length>0&&0===f.length)return XD(e,[],u);const p=Bt(i,u),h=f.map((e=>aye(e,p))).find((e=>"ok"===e.type));return h?JD(e,d,c,h):XD(e,[],u)}function oye(e,t){const n=[...String(e)];let r="";for(let e=0;e<n.length;e++){const i=n[e];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}const L$=fa("state-router");function jRt(e,t){L$("Resolving path from state %o",t);const n=aye(e,t);if("error"===n.type){const e=n.unmappableStateKeys;if(e.length>0)throw new Error(`Unable to find matching route for state. Could not map the following state key${1==e.length?"":"s"} to a valid url: ${e.map(yZ).join(", ")}`);const t=n.missingKeys;throw new Error(`Unable to find matching route for state. State object is missing the following key${1==t.length?"":"s"} defined in route: ${t.map(yZ).join(", ")}`)}const{path:r,searchParams:i}=sye(n),o=i.length>0?DRt(i):"";return`/${r.join("/")}${o?`?${o}`:""}`}function IRt(e){return`[${e}]`}function DRt(e){return e.flatMap((([e,t])=>void 0===t?[]:[MRt(ORt(e)),RRt(t)].join("="))).join("&")}function ORt(e){const[t,...n]=e;return n.length>0?[t,...n.map(IRt)].join(""):t}function RRt(e){return oye(e,"/")}function MRt(e){return oye(e,"[]")}function sye(e){const t=e.matchedState,n=e.node.route.segments.map((n=>{if("dir"===n.type)return n.name;const r=e.node.transform&&e.node.transform[n.name];return r?r.toPath(t[n.name]):t[n.name]})),r=e.child?sye(e.child):void 0,i=null!=r&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:$Rt(e.node,i),path:[...n||[],...r?.path||[]]}}function $Rt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map((([e,t])=>[[n,...e],t])):t}function yZ(e){return`"${e}"`}function PRt(e){return e.map((([e,t])=>[FRt(e),t]))}const QD=1,bZ=0;function FRt(e){const t=[];let n=0,r=bZ;for(;n<e.length;){const i=e.indexOf("[",n);if(-1===i){t.push(e.slice(n,e.length));break}if(r===QD)throw new Error("Nested brackets not supported");r=QD,i>n&&(t.push(e.slice(n,i)),n=i);const o=e.indexOf("]",i);if(-1===o){if(r===QD)throw new Error("Unclosed bracket");break}r=bZ,t.push(e.slice(n+1,o)),n=o+1}return t}function lye(e,t,n){const r=t.split("/").filter(Boolean),i=e.route.segments.length;if(r.length<i)return null;const o={};if(!e.route.segments.every(((t,n)=>{if("dir"===t.type)return t.name===r[n];const i=e.transform&&e.transform[t.name];return o[t.name]=i?i.toState(r[n]):r[n],!0})))return null;const a=r.slice(i);let s=null;const l="function"==typeof e.children?iye(e.children(o)):e.children,u=NRt(e.scope,n);if(l.some((e=>{if(e){const t=e.scope?u.filter((([t])=>e.scope===t[0])):u;return s=lye(e,a.join("/"),t),s}})),a.length>0&&!s)return null;const c=u.flatMap((([e,t])=>1===e.length?[[e[0],t]]:[])),d={...o,...s||{},...c.length>0?{_searchParams:c}:{}};return e.scope?{[e.scope]:d}:d}function LRt(e,t){L$("resolving state from path %s",t);const[n,r]=t.split("?"),i=lye(e,n,PRt(Array.from(new URLSearchParams(r).entries())));return L$("resolved: %o",i||null),i||null}function NRt(e,t){return e?t.map((([t,n])=>[t[0]===e?t.slice(1):t,n])):t}function BRt(e){return URt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function VRt(e){return WRt(e.replace(/-/g,"+").replace(/_/g,"/"))}function zRt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function URt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,zRt))}function HRt(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function WRt(e){return decodeURIComponent(Array.from(atob(e),HRt).join(""))}function uye(e=""){const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(VRt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function cye(e){return e?BRt(JSON.stringify(e)):""}function GRt(e){return e.split(";").reduce(((e,t)=>{const[n,r]=t.split("=");return e[decodeURIComponent(n)]=decodeURIComponent(r),e}),{})}function YRt(e){return Object.entries(e).filter((([,e])=>null!=e)).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join(";")}const qi={create:(e,t,n)=>SZ(wZ(e,t,n)),intents:e=>{const t=KRt(e).join("/");return qi.create(`${t}/:intent`,[qi.create(":params",{transform:{params:{toState:GRt,toPath:YRt}}},[qi.create(":payload",{transform:{payload:{toState:uye,toPath:cye}}})])])},scope:(e,t,n,r)=>SZ({...wZ(t,n,r),scope:e})};function xZ(e){return Array.isArray(e)||"function"==typeof e?e:e?[e]:[]}function qRt(e){return e&&"_isRoute"in e}function wZ(e,t,n){return"object"==typeof e?e:Array.isArray(t)||"function"==typeof t||qRt(t)?{path:e,children:xZ(t)}:n?{path:e,...t,children:xZ(n)}:{path:e,...t}}function KRt(...e){return e.reduce(((e,t)=>e.concat(t.split("/"))),[]).filter(Boolean)}const ZRt={};function CZ(e){return e.split("/").every((e=>!e))}function SZ(e){const{path:t,scope:n,transform:r,children:i,__unsafe_disableScopedSearchParams:o}=e;if(!t)throw new TypeError("Missing path");return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:o,route:ARt(t),children:i||[],transform:r,encode(e){return jRt(this,e)},decode(e){return LRt(this,e)},isRoot:CZ,isNotFound(e){return null===this.decode(e)},getBasePath(){return this.encode(ZRt)},getRedirectBase(e){if(CZ(e)){const t=this.getBasePath();if(e!==t)return t}return null}}}function XRt(e){const{onNavigate:t,router:n,state:r}=e,i=f.useCallback(((e,t)=>{const[r,i]=Array.isArray(t)?t:[t];return n.encode({intent:e,params:r,payload:i})}),[n]),o=f.useCallback((e=>n.encode(e)),[n]),a=f.useCallback(((e,n={})=>{t({path:o(e),replace:n.replace})}),[t,o]),s=f.useCallback(((e,n,r={})=>{t({path:i(e,n),replace:r.replace})}),[t,i]),l=f.useMemo((()=>({navigate:a,navigateIntent:s,navigateUrl:t,resolveIntentLink:i,resolvePathFromState:o,state:r})),[a,s,t,i,o,r]);return u.jsx(eF.Provider,{value:l,children:e.children})}function JRt(e,t,n){return n&&{...e,[t]:n}}function QRt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,i=wo(),{resolvePathFromState:o,navigate:a}=i,s=f.useRef(i.state);s.current=i.state;const l=f.useCallback((e=>{const{_searchParams:t,...i}=e,o=JRt(s.current,n,i);return r?o._searchParams=t:o[n]._searchParams=t,o}),[n,r]),c=f.useCallback((e=>o(l(e))),[o,l]),d=f.useCallback(((e,t)=>a(l(e),t)),[a,l]),p=f.useMemo((()=>{const e=i.state,t={...e[n]||{}};return r&&(t._searchParams=e._searchParams),{...i,navigate:d,resolvePathFromState:c,state:t}}),[n,i,d,c,r]);return u.jsx(eF.Provider,{value:p,children:t})}const EZ={};function K8(e){const{onClick:t,replace:n,state:r,target:i,toIndex:o=!1}=e;if(r&&o)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!o&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:a}=wo(),s=f.useMemo((()=>a(o?EZ:r||EZ)),[a,r,o]),{onClick:l}=q8({href:s,onClick:t,replace:n,target:i});return{onClick:l,href:s}}const qT=f.forwardRef((function(e,t){const{onClick:n,replace:r,state:i,target:o,toIndex:a=!1,...s}=e,{onClick:l,href:c}=K8({onClick:n,replace:r,state:i,target:o,toIndex:a});return u.jsx("a",{...s,href:c,onClick:l,ref:t})}));function Cw(e=Sfe){const{state:t}=wo();return f.useMemo((()=>e(t)),[e,t])}function sb(e,t,n){return Math.min(Math.max(e,n),t)}class eMt extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var ky=eMt;function dye(e){if("string"!=typeof e)throw new ky(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=lMt.test(e)?rMt(e):e;const n=iMt.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(Xb(e,2),16))),parseInt(Xb(e[3]||"f",2),16)/255]}const r=aMt.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const i=oMt.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const o=sMt.exec(t);if(o){const[t,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(sb(0,100,n)!==n)throw new ky(e);if(sb(0,100,r)!==r)throw new ky(e);return[...uMt(t,n,r),Number.isNaN(i)?1:i]}throw new ky(e)}function tMt(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}const _Z=e=>parseInt(e.replace(/_/g,""),36),nMt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=_Z(t.substring(0,3)),r=_Z(t.substring(3)).toString(16);let i="";for(let e=0;e<6-r.length;e++)i+="0";return e[n]=`${i}${r}`,e}),{});function rMt(e){const t=e.toLowerCase().trim(),n=nMt[tMt(t)];if(!n)throw new ky(e);return`#${n}`}const Xb=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),iMt=new RegExp(`^#${Xb("([a-f0-9])",3)}([a-f0-9])?$`,"i"),aMt=new RegExp(`^#${Xb("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),oMt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Xb(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),sMt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,lMt=/^[a-z]+$/i,kZ=e=>Math.round(255*e),uMt=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(kZ);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),a=o*(1-Math.abs(i%2-1));let s=0,l=0,u=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,u=a):i>=3&&i<4?(l=a,u=o):i>=4&&i<5?(s=a,u=o):i>=5&&i<6&&(s=o,u=a);const c=r-o/2;return[s+c,l+c,u+c].map(kZ)};function cMt(e){const[t,n,r,i]=dye(e).map(((e,t)=>3===t?e:e/255)),o=Math.max(t,n,r),a=Math.min(t,n,r),s=(o+a)/2;if(o===a)return[0,0,s,i];const l=o-a;return[60*(t===o?(n-r)/l+(n<r?6:0):n===o?(r-t)/l+2:(t-n)/l+4),s>.5?l/(2-o-a):l/(o+a),s,i]}function dMt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${sb(0,100,100*t).toFixed()}%, ${sb(0,100,100*n).toFixed()}%, ${parseFloat(sb(0,1,r).toFixed(3))})`}function fye(e,t){const[n,r,i,o]=cMt(e);return dMt(n,r,i-t,o)}function N$(e){if("transparent"===e)return 0;function t(e){const t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}const[n,r,i]=dye(e);return.2126*t(n)+.7152*t(r)+.0722*t(i)}function fMt(e,t){const n=N$(e),r=N$(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const hMt={decorative:1.5,readable:3,aa:4.5,aaa:7};function TZ(e,t="aa",n="#fff"){return fMt(e,n)<hMt[t]}function pMt(e,t){return fye(e,-t)}function mMt(e){return N$(e)>.179}function gMt(e){return mMt(e)?"#000":"#fff"}var H1={},hye=f;function Vt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Do=Object.prototype.hasOwnProperty,vMt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AZ={},jZ={};function pye(e){return!!Do.call(jZ,e)||!Do.call(AZ,e)&&(vMt.test(e)?jZ[e]=!0:(AZ[e]=!0,!1))}function Co(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ea={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Ea[e]=new Co(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Ea[t]=new Co(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Ea[e]=new Co(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Ea[e]=new Co(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Ea[e]=new Co(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Ea[e]=new Co(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){Ea[e]=new Co(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){Ea[e]=new Co(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){Ea[e]=new Co(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Z8=/[\-:]([a-z])/g;function X8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z8,X8);Ea[t]=new Co(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z8,X8);Ea[t]=new Co(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z8,X8);Ea[t]=new Co(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){Ea[e]=new Co(e,1,!1,e.toLowerCase(),null,!1,!1)})),Ea.xlinkHref=new Co("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){Ea[e]=new Co(e,1,!1,e.toLowerCase(),null,!0,!0)}));var PS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yMt=["Webkit","ms","Moz","O"];Object.keys(PS).forEach((function(e){yMt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),PS[t]=PS[e]}))}));var bMt=/["'&<>]/;function oo(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=bMt.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var xMt=/([A-Z])/g,wMt=/^ms-/,B$=Array.isArray;function vc(e,t){return{insertionMode:e,selectedValue:t}}function CMt(e,t,n){switch(t){case"select":return vc(1,null!=n.value?n.value:n.defaultValue);case"svg":return vc(2,null);case"math":return vc(3,null);case"foreignObject":return vc(1,null);case"table":return vc(4,null);case"thead":case"tbody":case"tfoot":return vc(5,null);case"colgroup":return vc(7,null);case"tr":return vc(6,null)}return 4<=e.insertionMode||0===e.insertionMode?vc(1,null):e}var IZ=new Map;function mye(e,t,n){if("object"!=typeof n)throw Error(Vt(62));for(var r in t=!0,n)if(Do.call(n,r)){var i=n[r];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===r.indexOf("--")){var o=oo(r);i=oo((""+i).trim())}else{o=r;var a=IZ.get(o);void 0!==a||(a=oo(o.replace(xMt,"-$1").toLowerCase().replace(wMt,"-ms-")),IZ.set(o,a)),o=a,i="number"==typeof i?0===i||Do.call(PS,r)?""+i:i+"px":oo((""+i).trim())}t?(t=!1,e.push(' style="',o,":",i)):e.push(";",o,":",i)}}t||e.push('"')}function qo(e,t,n,r){switch(n){case"style":return void mye(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=Ea.hasOwnProperty(n)?Ea[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',oo(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',oo(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',oo(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',oo(r),'"')}}else if(pye(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',oo(r),'"')}}function FS(e,t,n){if(null!=t){if(null!=n)throw Error(Vt(60));if("object"!=typeof t||!("__html"in t))throw Error(Vt(61));null!=(t=t.__html)&&e.push(""+t)}}function SMt(e){var t="";return hye.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function e3(e,t,n,r){e.push(ru(n));var i,o=n=null;for(i in t)if(Do.call(t,i)){var a=t[i];if(null!=a)switch(i){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:qo(e,r,i,a)}}return e.push(">"),FS(e,o,n),"string"==typeof n?(e.push(oo(n)),null):n}var EMt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,DZ=new Map;function ru(e){var t=DZ.get(e);if(void 0===t){if(!EMt.test(e))throw Error(Vt(65,e));t="<"+e,DZ.set(e,t)}return t}function _Mt(e,t,n,r,i){switch(t){case"select":e.push(ru("select"));var o=null,a=null;for(c in n)if(Do.call(n,c)){var s=n[c];if(null!=s)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:qo(e,r,c,s)}}return e.push(">"),FS(e,a,o),o;case"option":a=i.selectedValue,e.push(ru("option"));var l=s=null,u=null,c=null;for(o in n)if(Do.call(n,o)){var d=n[o];if(null!=d)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:qo(e,r,o,d)}}if(null!=a)if(n=null!==l?""+l:SMt(s),B$(a)){for(r=0;r<a.length;r++)if(""+a[r]===n){e.push(' selected=""');break}}else""+a===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),FS(e,c,s),s;case"textarea":for(s in e.push(ru("textarea")),c=a=o=null,n)if(Do.call(n,s)&&null!=(l=n[s]))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Vt(91));default:qo(e,r,s,l)}if(null===o&&null!==a&&(o=a),e.push(">"),null!=c){if(null!=o)throw Error(Vt(92));if(B$(c)&&1<c.length)throw Error(Vt(93));o=""+c}return"string"==typeof o&&"\n"===o[0]&&e.push("\n"),null!==o&&e.push(oo(""+o)),null;case"input":for(a in e.push(ru("input")),l=c=s=o=null,n)if(Do.call(n,a)&&null!=(u=n[a]))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Vt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:qo(e,r,a,u)}return null!==c?qo(e,r,"checked",c):null!==l&&qo(e,r,"checked",l),null!==o?qo(e,r,"value",o):null!==s&&qo(e,r,"value",s),e.push("/>"),null;case"menuitem":for(var f in e.push(ru("menuitem")),n)if(Do.call(n,f)&&null!=(o=n[f]))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Vt(400));default:qo(e,r,f,o)}return e.push(">"),null;case"title":for(d in e.push(ru("title")),o=null,n)if(Do.call(n,d)&&null!=(a=n[d]))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(Vt(434));default:qo(e,r,d,a)}return e.push(">"),o;case"listing":case"pre":for(l in e.push(ru(t)),a=o=null,n)if(Do.call(n,l)&&null!=(s=n[l]))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:qo(e,r,l,s)}if(e.push(">"),null!=a){if(null!=o)throw Error(Vt(60));if("object"!=typeof a||!("__html"in a))throw Error(Vt(61));null!=(n=a.__html)&&("string"==typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"==typeof o&&"\n"===o[0]&&e.push("\n"),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var p in e.push(ru(t)),n)if(Do.call(n,p)&&null!=(o=n[p]))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Vt(399,t));default:qo(e,r,p,o)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return e3(e,n,t,r);case"html":return 0===i.insertionMode&&e.push("<!DOCTYPE html>"),e3(e,n,t,r);default:if(-1===t.indexOf("-")&&"string"!=typeof n.is)return e3(e,n,t,r);for(u in e.push(ru(t)),a=o=null,n)if(Do.call(n,u)&&null!=(s=n[u]))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":mye(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:pye(u)&&"function"!=typeof s&&"symbol"!=typeof s&&e.push(" ",u,'="',oo(s),'"')}return e.push(">"),FS(e,a,o),o}}function OZ(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(Vt(395));return e.push(n),e.push('"></template>')}function kMt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Vt(397))}}function TMt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Vt(397))}}var AMt=/[<\u2028\u2029]/g;function t3(e){return JSON.stringify(e).replace(AMt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function jMt(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function RZ(e,t,n,r){return n.generateStaticMarkup?(e.push(oo(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(oo(t)),e=!0),e)}var lb=Object.assign,IMt=Symbol.for("react.element"),gye=Symbol.for("react.portal"),vye=Symbol.for("react.fragment"),yye=Symbol.for("react.strict_mode"),bye=Symbol.for("react.profiler"),xye=Symbol.for("react.provider"),wye=Symbol.for("react.context"),Cye=Symbol.for("react.forward_ref"),Sye=Symbol.for("react.suspense"),Eye=Symbol.for("react.suspense_list"),_ye=Symbol.for("react.memo"),J8=Symbol.for("react.lazy"),DMt=Symbol.for("react.scope"),OMt=Symbol.for("react.debug_trace_mode"),RMt=Symbol.for("react.legacy_hidden"),MMt=Symbol.for("react.default_value"),MZ=Symbol.iterator;function V$(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case vye:return"Fragment";case gye:return"Portal";case bye:return"Profiler";case yye:return"StrictMode";case Sye:return"Suspense";case Eye:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case wye:return(e.displayName||"Context")+".Consumer";case xye:return(e._context.displayName||"Context")+".Provider";case Cye:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _ye:return null!==(t=e.displayName||null)?t:V$(e.type)||"Memo";case J8:t=e._payload,e=e._init;try{return V$(e(t))}catch{}}return null}var kye={};function $Z(e,t){if(!(e=e.contextTypes))return kye;var n,r={};for(n in e)r[n]=t[n];return r}var Kh=null;function KT(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(Vt(401))}else{if(null===n)throw Error(Vt(401));KT(e,n)}t.context._currentValue2=t.value}}function Tye(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&Tye(e)}function Aye(e){var t=e.parent;null!==t&&Aye(t),e.context._currentValue2=e.value}function jye(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(Vt(402));e.depth===t.depth?KT(e,t):jye(e,t)}function Iye(e,t){var n=t.parent;if(null===n)throw Error(Vt(402));e.depth===n.depth?KT(e,n):Iye(e,n),t.context._currentValue2=t.value}function P_(e){var t=Kh;t!==e&&(null===t?Aye(e):null===e?Tye(t):t.depth===e.depth?KT(t,e):t.depth>e.depth?jye(t,e):Iye(t,e),Kh=e)}var PZ={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function FZ(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=PZ,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"==typeof a&&null!==a?a._currentValue2:r,"function"==typeof(a=t.getDerivedStateFromProps)&&(i=null==(a=a(n,i))?i:lb({},i,a),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&PZ.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"==typeof s?s.call(e,o,n,r):s)&&(i?(i=!1,o=lb({},o,s)):lb(o,s))}e.state=o}else o.queue=null}var $Mt={id:1,overflow:""};function z$(e,t,n){var r=e.id;e=e.overflow;var i=32-LS(r)-1;r&=~(1<<i),n+=1;var o=32-LS(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-LS(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var LS=Math.clz32?Math.clz32:LMt,PMt=Math.log,FMt=Math.LN2;function LMt(e){return 0===(e>>>=0)?32:31-(PMt(e)/FMt|0)|0}function NMt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var BMt="function"==typeof Object.is?Object.is:NMt,ad=null,Q8=null,NS=null,Sr=null,Ty=!1,F_=!1,Jb=0,yf=null,ZT=0;function Fh(){if(null===ad)throw Error(Vt(321));return ad}function LZ(){if(0<ZT)throw Error(Vt(312));return{memoizedState:null,queue:null,next:null}}function e7(){return null===Sr?null===NS?(Ty=!1,NS=Sr=LZ()):(Ty=!0,Sr=NS):null===Sr.next?(Ty=!1,Sr=Sr.next=LZ()):(Ty=!0,Sr=Sr.next),Sr}function t7(){Q8=ad=null,F_=!1,NS=null,ZT=0,Sr=yf=null}function Dye(e,t){return"function"==typeof t?t(e):t}function NZ(e,t,n){if(ad=Fh(),Sr=e7(),Ty){var r=Sr.queue;if(t=r.dispatch,null!==yf&&void 0!==(n=yf.get(r))){yf.delete(r),r=Sr.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Sr.memoizedState=r,[r,t]}return[Sr.memoizedState,t]}return e=e===Dye?"function"==typeof t?t():t:void 0!==n?n(t):t,Sr.memoizedState=e,e=(e=Sr.queue={last:null,dispatch:null}).dispatch=VMt.bind(null,ad,e),[Sr.memoizedState,e]}function BZ(e,t){if(ad=Fh(),t=void 0===t?null:t,null!==(Sr=e7())){var n=Sr.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!BMt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Sr.memoizedState=[e,t],e}function VMt(e,t,n){if(25<=ZT)throw Error(Vt(301));if(e===ad)if(F_=!0,e={action:n,next:null},null===yf&&(yf=new Map),void 0===(n=yf.get(t)))yf.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function zMt(){throw Error(Vt(394))}function f2(){}var VZ={readContext:function(e){return e._currentValue2},useContext:function(e){return Fh(),e._currentValue2},useMemo:BZ,useReducer:NZ,useRef:function(e){ad=Fh();var t=(Sr=e7()).memoizedState;return null===t?(e={current:e},Sr.memoizedState=e):t},useState:function(e){return NZ(Dye,e)},useInsertionEffect:f2,useLayoutEffect:function(){},useCallback:function(e,t){return BZ((function(){return e}),t)},useImperativeHandle:f2,useEffect:f2,useDebugValue:f2,useDeferredValue:function(e){return Fh(),e},useTransition:function(){return Fh(),[!1,zMt]},useId:function(){var e=Q8.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-LS(e)-1)).toString(32)+t;var n=BS;if(null===n)throw Error(Vt(404));return t=Jb++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Fh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(Vt(407));return n()}},BS=null,n3=hye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function UMt(e){return console.error(e),null}function Ay(){}function HMt(e,t,n,r,i,o,a,s,l){var u=[],c=new Set;return(n=L_(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?UMt:i,onAllReady:Ay,onShellReady:void 0===a?Ay:a,onShellError:Ay,onFatalError:Ay},0,null,n,!1,!1)).parentFlushed=!0,e=n7(t,e,null,n,c,kye,null,$Mt),u.push(e),t}function n7(e,t,n,r,i,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Mye(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function L_(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function Qb(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function N_(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function zZ(e,t,n,r,i){for(ad={},Q8=t,Jb=0,e=n(r,i);F_;)F_=!1,Jb=0,ZT+=1,Sr=null,e=n(r,i);return t7(),e}function UZ(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(null!=o){var a=t.legacyContext;if("function"!=typeof n.getChildContext)r=a;else{for(var s in n=n.getChildContext())if(!(s in o))throw Error(Vt(108,V$(r)||"Unknown",s));r=lb({},a,n)}t.legacyContext=r,ts(e,t,i),t.legacyContext=a}else ts(e,t,i)}function HZ(e,t){if(e&&e.defaultProps){for(var n in t=lb({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function U$(e,t,n,r,i){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){i=$Z(n,t.legacyContext);var o=n.contextType;FZ(o=new n(r,"object"==typeof o&&null!==o?o._currentValue2:i),n,r,i),UZ(e,t,o,n)}else{i=zZ(e,t,n,r,o=$Z(n,t.legacyContext));var a=0!==Jb;if("object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof)FZ(i,n,r,o),UZ(e,t,i,n);else if(a){r=t.treeContext,t.treeContext=z$(r,1,0);try{ts(e,t,i)}finally{t.treeContext=r}}else ts(e,t,i)}else{if("string"!=typeof n){switch(n){case RMt:case OMt:case yye:case bye:case vye:case Eye:return void ts(e,t,r.children);case DMt:throw Error(Vt(343));case Sye:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},l=L_(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=L_(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(H$(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),u.status=1,B_(s,u),0===s.pendingTasks)break e}catch(t){u.status=4,s.forceClientRender=!0,s.errorDigest=Qb(e,t)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=n7(e,o,n,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case Cye:if(r=zZ(e,t,n.render,r,i),0!==Jb){n=t.treeContext,t.treeContext=z$(n,1,0);try{ts(e,t,r)}finally{t.treeContext=n}}else ts(e,t,r);return;case _ye:return void U$(e,t,n=n.type,r=HZ(n,r),i);case xye:if(i=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,Kh=r={parent:a=Kh,depth:null===a?0:a.depth+1,context:n,parentValue:o,value:r},t.context=r,ts(e,t,i),null===(e=Kh))throw Error(Vt(403));return r=e.parentValue,e.context._currentValue2=r===MMt?e.context._defaultValue:r,e=Kh=e.parent,void(t.context=e);case wye:return void ts(e,t,r=(r=r.children)(n._currentValue2));case J8:return void U$(e,t,n=(i=n._init)(n._payload),r=HZ(n,r),void 0)}throw Error(Vt(130,null==n?n:typeof n,""))}switch(o=_Mt((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=CMt(a,n,r),H$(e,t,o),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}}function ts(e,t,n){if(t.node=n,"object"==typeof n&&null!==n){switch(n.$$typeof){case IMt:return void U$(e,t,n.type,n.props,n.ref);case gye:throw Error(Vt(257));case J8:var r=n._init;return void ts(e,t,n=r(n._payload))}if(B$(n))return void WZ(e,t,n);if(null===n||"object"!=typeof n?r=null:r="function"==typeof(r=MZ&&n[MZ]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);WZ(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Vt(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"==typeof n?(r=t.blockedSegment).lastPushedText=RZ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"==typeof n&&((r=t.blockedSegment).lastPushedText=RZ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function WZ(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=z$(o,r,i);try{H$(e,t,n[i])}finally{t.treeContext=o}}}function H$(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return ts(e,t,n)}catch(l){if(t7(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,P_(o),l;n=l;var a=t.blockedSegment,s=L_(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=n7(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,P_(o)}}function WMt(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Rye(this,t,e)}function Oye(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(Vt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return Oye(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function B_(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&B_(e,n)}else e.completedSegments.push(t)}function Rye(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(Vt(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ay,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&B_(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(WMt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(B_(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Mye(e){if(2!==e.status){var t=Kh,n=n3.current;n3.current=VZ;var r=BS;BS=e.responseState;try{var i,o=e.pingedTasks;for(i=0;i<o.length;i++){var a=o[i],s=e,l=a.blockedSegment;if(0===l.status){P_(a.context);try{ts(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),a.abortSet.delete(a),l.status=1,Rye(s,a.blockedBoundary,l)}catch(e){if(t7(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=a.ping;e.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=e,f=Qb(s,d);if(null===c?N_(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,i),null!==e.destination&&r7(e,e.destination)}catch(t){Qb(e,t),N_(e,t)}finally{BS=r,n3.current=n,n===VZ&&P_(t)}}}function h2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var a=0;a<n.length;a++){for(i=n[a];o<i.index;o++)t.push(r[o]);i=XT(e,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(Vt(390))}}function XT(e,t,n){var r=n.boundary;if(null===r)return h2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=oo(r),t.push(r),t.push('"')),t.push("></template>")),h2(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,OZ(t,e.responseState,r),h2(e,t,n),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),OZ(t,e.responseState,r.id),h2(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(Vt(391));return XT(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function GZ(e,t,n){return kMt(t,e.responseState,n.formatContext,n.id),XT(e,t,n),TMt(t,n.formatContext)}function YZ(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)$ye(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(Vt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function $ye(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(Vt(392));return GZ(e,t,r)}return GZ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function r7(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){XT(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i,o=e.clientRenderedBoundaries;for(i=0;i<o.length;i++){var a=o[i];r=t;var s=e.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===l)throw Error(Vt(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var f=t3(u||"");r.push(f)}if(c||d){r.push(",");var p=t3(c||"");r.push(p)}if(d){r.push(",");var h=t3(d);r.push(h)}if(!r.push(")<\/script>"))return e.destination=null,i++,void o.splice(0,i)}o.splice(0,i);var m=e.completedBoundaries;for(i=0;i<m.length;i++)if(!YZ(e,t,m[i]))return e.destination=null,i++,void m.splice(0,i);m.splice(0,i);var g=e.partialBoundaries;for(i=0;i<g.length;i++){var y=g[i];e:{o=e,a=t;var v=y.completedSegments;for(s=0;s<v.length;s++)if(!$ye(o,a,y,v[s])){s++,v.splice(0,s);var b=!1;break e}v.splice(0,s),b=!0}if(!b)return e.destination=null,i++,void g.splice(0,i)}g.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)if(!YZ(e,t,x[i]))return e.destination=null,i++,void x.splice(0,i);x.splice(0,i)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function GMt(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Oye(n,e,t)})),n.clear(),null!==e.destination&&r7(e,e.destination)}catch(t){Qb(e,t),N_(e,t)}}function YMt(){}function Pye(e,t,n,r){var i=!1,o=null,a="",s={push:function(e){return null!==e&&(a+=e),!0},destroy:function(e){i=!0,o=e}},l=!1;if(Mye(e=HMt(e,jMt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,YMt,void 0,(function(){l=!0}))),GMt(e,r),1===e.status)e.status=2,s.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=s;try{r7(e,s)}catch(t){Qb(e,t),N_(e,t)}}if(i)throw o;if(!l)throw Error(Vt(426));return a}H1.renderToNodeStream=function(){throw Error(Vt(207))},H1.renderToStaticMarkup=function(e,t){return Pye(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},H1.renderToStaticNodeStream=function(){throw Error(Vt(208))},H1.renderToString=function(e,t){return Pye(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},H1.version="18.3.1";var i7={},Fye=f;function Xt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ns=null,rs=0;function ut(e,t){if(0!==t.length)if(512<t.length)0<rs&&(e.enqueue(new Uint8Array(ns.buffer,0,rs)),ns=new Uint8Array(512),rs=0),e.enqueue(t);else{var n=ns.length-rs;n<t.length&&(0===n?e.enqueue(ns):(ns.set(t.subarray(0,n),rs),e.enqueue(ns),t=t.subarray(n)),ns=new Uint8Array(512),rs=0),ns.set(t,rs),rs+=t.length}}function Pr(e,t){return ut(e,t),!0}function qZ(e){ns&&0<rs&&(e.enqueue(new Uint8Array(ns.buffer,0,rs)),ns=null,rs=0)}var Lye=new TextEncoder;function tn(e){return Lye.encode(e)}function Xe(e){return Lye.encode(e)}function Nye(e,t){"function"==typeof e.error?e.error(t):e.close()}var Oo=Object.prototype.hasOwnProperty,qMt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KZ={},ZZ={};function Bye(e){return!!Oo.call(ZZ,e)||!Oo.call(KZ,e)&&(qMt.test(e)?ZZ[e]=!0:(KZ[e]=!0,!1))}function So(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _a={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_a[e]=new So(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_a[t]=new So(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_a[e]=new So(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_a[e]=new So(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_a[e]=new So(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_a[e]=new So(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_a[e]=new So(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_a[e]=new So(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_a[e]=new So(e,5,!1,e.toLowerCase(),null,!1,!1)}));var a7=/[\-:]([a-z])/g;function o7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(a7,o7);_a[t]=new So(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(a7,o7);_a[t]=new So(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(a7,o7);_a[t]=new So(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_a[e]=new So(e,1,!1,e.toLowerCase(),null,!1,!1)})),_a.xlinkHref=new So("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_a[e]=new So(e,1,!1,e.toLowerCase(),null,!0,!0)}));var VS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KMt=["Webkit","ms","Moz","O"];Object.keys(VS).forEach((function(e){KMt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),VS[t]=VS[e]}))}));var ZMt=/["'&<>]/;function wa(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=ZMt.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var XMt=/([A-Z])/g,JMt=/^ms-/,W$=Array.isArray,QMt=Xe("<script>"),e$t=Xe("<\/script>"),t$t=Xe('<script src="'),n$t=Xe('<script type="module" src="'),XZ=Xe('" async=""><\/script>'),r$t=/(<\/|<)(s)(cript)/gi;function i$t(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function a$t(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?QMt:Xe('<script nonce="'+wa(t)+'">');var o=[];if(void 0!==n&&o.push(t,tn((""+n).replace(r$t,i$t)),e$t),void 0!==r)for(n=0;n<r.length;n++)o.push(t$t,tn(wa(r[n])),XZ);if(void 0!==i)for(r=0;r<i.length;r++)o.push(n$t,tn(wa(i[r])),XZ);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:Xe(e+"P:"),segmentPrefix:Xe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function iu(e,t){return{insertionMode:e,selectedValue:t}}function o$t(e){return iu("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}function s$t(e,t,n){switch(t){case"select":return iu(1,null!=n.value?n.value:n.defaultValue);case"svg":return iu(2,null);case"math":return iu(3,null);case"foreignObject":return iu(1,null);case"table":return iu(4,null);case"thead":case"tbody":case"tfoot":return iu(5,null);case"colgroup":return iu(7,null);case"tr":return iu(6,null)}return 4<=e.insertionMode||0===e.insertionMode?iu(1,null):e}var s7=Xe("\x3c!-- --\x3e");function JZ(e,t,n,r){return""===t?r:(r&&e.push(s7),e.push(tn(wa(t))),!0)}var QZ=new Map,l$t=Xe(' style="'),eX=Xe(":"),u$t=Xe(";");function Vye(e,t,n){if("object"!=typeof n)throw Error(Xt(62));for(var r in t=!0,n)if(Oo.call(n,r)){var i=n[r];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===r.indexOf("--")){var o=tn(wa(r));i=tn(wa((""+i).trim()))}else{o=r;var a=QZ.get(o);void 0!==a||(a=Xe(wa(o.replace(XMt,"-$1").toLowerCase().replace(JMt,"-ms-"))),QZ.set(o,a)),o=a,i="number"==typeof i?0===i||Oo.call(VS,r)?tn(""+i):tn(i+"px"):tn(wa((""+i).trim()))}t?(t=!1,e.push(l$t,o,eX,i)):e.push(u$t,o,eX,i)}}t||e.push(Lh)}var qd=Xe(" "),gg=Xe('="'),Lh=Xe('"'),tX=Xe('=""');function Ko(e,t,n,r){switch(n){case"style":return void Vye(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=_a.hasOwnProperty(n)?_a[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=tn(t.attributeName),t.type){case 3:r&&e.push(qd,n,tX);break;case 4:!0===r?e.push(qd,n,tX):!1!==r&&e.push(qd,n,gg,tn(wa(r)),Lh);break;case 5:isNaN(r)||e.push(qd,n,gg,tn(wa(r)),Lh);break;case 6:!isNaN(r)&&1<=r&&e.push(qd,n,gg,tn(wa(r)),Lh);break;default:t.sanitizeURL&&(r=""+r),e.push(qd,n,gg,tn(wa(r)),Lh)}}else if(Bye(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(qd,tn(n),gg,tn(wa(r)),Lh)}}var Kd=Xe(">"),nX=Xe("/>");function zS(e,t,n){if(null!=t){if(null!=n)throw Error(Xt(60));if("object"!=typeof t||!("__html"in t))throw Error(Xt(61));null!=(t=t.__html)&&e.push(tn(""+t))}}function c$t(e){var t="";return Fye.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}var r3=Xe(' selected=""');function i3(e,t,n,r){e.push(au(n));var i,o=n=null;for(i in t)if(Oo.call(t,i)){var a=t[i];if(null!=a)switch(i){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Ko(e,r,i,a)}}return e.push(Kd),zS(e,o,n),"string"==typeof n?(e.push(tn(wa(n))),null):n}var a3=Xe("\n"),d$t=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,rX=new Map;function au(e){var t=rX.get(e);if(void 0===t){if(!d$t.test(e))throw Error(Xt(65,e));t=Xe("<"+e),rX.set(e,t)}return t}var f$t=Xe("<!DOCTYPE html>");function h$t(e,t,n,r,i){switch(t){case"select":e.push(au("select"));var o=null,a=null;for(c in n)if(Oo.call(n,c)){var s=n[c];if(null!=s)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Ko(e,r,c,s)}}return e.push(Kd),zS(e,a,o),o;case"option":a=i.selectedValue,e.push(au("option"));var l=s=null,u=null,c=null;for(o in n)if(Oo.call(n,o)){var d=n[o];if(null!=d)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Ko(e,r,o,d)}}if(null!=a)if(n=null!==l?""+l:c$t(s),W$(a)){for(r=0;r<a.length;r++)if(""+a[r]===n){e.push(r3);break}}else""+a===n&&e.push(r3);else u&&e.push(r3);return e.push(Kd),zS(e,c,s),s;case"textarea":for(s in e.push(au("textarea")),c=a=o=null,n)if(Oo.call(n,s)&&null!=(l=n[s]))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Xt(91));default:Ko(e,r,s,l)}if(null===o&&null!==a&&(o=a),e.push(Kd),null!=c){if(null!=o)throw Error(Xt(92));if(W$(c)&&1<c.length)throw Error(Xt(93));o=""+c}return"string"==typeof o&&"\n"===o[0]&&e.push(a3),null!==o&&e.push(tn(wa(""+o))),null;case"input":for(a in e.push(au("input")),l=c=s=o=null,n)if(Oo.call(n,a)&&null!=(u=n[a]))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Xt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Ko(e,r,a,u)}return null!==c?Ko(e,r,"checked",c):null!==l&&Ko(e,r,"checked",l),null!==o?Ko(e,r,"value",o):null!==s&&Ko(e,r,"value",s),e.push(nX),null;case"menuitem":for(var f in e.push(au("menuitem")),n)if(Oo.call(n,f)&&null!=(o=n[f]))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Xt(400));default:Ko(e,r,f,o)}return e.push(Kd),null;case"title":for(d in e.push(au("title")),o=null,n)if(Oo.call(n,d)&&null!=(a=n[d]))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(Xt(434));default:Ko(e,r,d,a)}return e.push(Kd),o;case"listing":case"pre":for(l in e.push(au(t)),a=o=null,n)if(Oo.call(n,l)&&null!=(s=n[l]))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Ko(e,r,l,s)}if(e.push(Kd),null!=a){if(null!=o)throw Error(Xt(60));if("object"!=typeof a||!("__html"in a))throw Error(Xt(61));null!=(n=a.__html)&&("string"==typeof n&&0<n.length&&"\n"===n[0]?e.push(a3,tn(n)):e.push(tn(""+n)))}return"string"==typeof o&&"\n"===o[0]&&e.push(a3),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var p in e.push(au(t)),n)if(Oo.call(n,p)&&null!=(o=n[p]))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Xt(399,t));default:Ko(e,r,p,o)}return e.push(nX),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return i3(e,n,t,r);case"html":return 0===i.insertionMode&&e.push(f$t),i3(e,n,t,r);default:if(-1===t.indexOf("-")&&"string"!=typeof n.is)return i3(e,n,t,r);for(u in e.push(au(t)),a=o=null,n)if(Oo.call(n,u)&&null!=(s=n[u]))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Vye(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Bye(u)&&"function"!=typeof s&&"symbol"!=typeof s&&e.push(qd,tn(u),gg,tn(wa(s)),Lh)}return e.push(Kd),zS(e,a,o),o}}var p$t=Xe("</"),m$t=Xe(">"),g$t=Xe('<template id="'),v$t=Xe('"></template>'),y$t=Xe("\x3c!--$--\x3e"),b$t=Xe('\x3c!--$?--\x3e<template id="'),x$t=Xe('"></template>'),w$t=Xe("\x3c!--$!--\x3e"),C$t=Xe("\x3c!--/$--\x3e"),S$t=Xe("<template"),E$t=Xe('"'),_$t=Xe(' data-dgst="');Xe(' data-msg="'),Xe(' data-stck="');var k$t=Xe("></template>");function iX(e,t,n){if(ut(e,b$t),null===n)throw Error(Xt(395));return ut(e,n),Pr(e,x$t)}var T$t=Xe('<div hidden id="'),A$t=Xe('">'),j$t=Xe("</div>"),I$t=Xe('<svg aria-hidden="true" style="display:none" id="'),D$t=Xe('">'),O$t=Xe("</svg>"),R$t=Xe('<math aria-hidden="true" style="display:none" id="'),M$t=Xe('">'),$$t=Xe("</math>"),P$t=Xe('<table hidden id="'),F$t=Xe('">'),L$t=Xe("</table>"),N$t=Xe('<table hidden><tbody id="'),B$t=Xe('">'),V$t=Xe("</tbody></table>"),z$t=Xe('<table hidden><tr id="'),U$t=Xe('">'),H$t=Xe("</tr></table>"),W$t=Xe('<table hidden><colgroup id="'),G$t=Xe('">'),Y$t=Xe("</colgroup></table>");function q$t(e,t,n,r){switch(n.insertionMode){case 0:case 1:return ut(e,T$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,A$t);case 2:return ut(e,I$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,D$t);case 3:return ut(e,R$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,M$t);case 4:return ut(e,P$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,F$t);case 5:return ut(e,N$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,B$t);case 6:return ut(e,z$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,U$t);case 7:return ut(e,W$t),ut(e,t.segmentPrefix),ut(e,tn(r.toString(16))),Pr(e,G$t);default:throw Error(Xt(397))}}function K$t(e,t){switch(t.insertionMode){case 0:case 1:return Pr(e,j$t);case 2:return Pr(e,O$t);case 3:return Pr(e,$$t);case 4:return Pr(e,L$t);case 5:return Pr(e,V$t);case 6:return Pr(e,H$t);case 7:return Pr(e,Y$t);default:throw Error(Xt(397))}}var Z$t=Xe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),X$t=Xe('$RS("'),J$t=Xe('","'),Q$t=Xe('")<\/script>'),ePt=Xe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),tPt=Xe('$RC("'),nPt=Xe('","'),rPt=Xe('")<\/script>'),iPt=Xe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),aPt=Xe('$RX("'),oPt=Xe('"'),sPt=Xe(")<\/script>"),o3=Xe(","),lPt=/[<\u2028\u2029]/g;function s3(e){return JSON.stringify(e).replace(lPt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var ub=Object.assign,uPt=Symbol.for("react.element"),zye=Symbol.for("react.portal"),Uye=Symbol.for("react.fragment"),Hye=Symbol.for("react.strict_mode"),Wye=Symbol.for("react.profiler"),Gye=Symbol.for("react.provider"),Yye=Symbol.for("react.context"),qye=Symbol.for("react.forward_ref"),Kye=Symbol.for("react.suspense"),Zye=Symbol.for("react.suspense_list"),Xye=Symbol.for("react.memo"),l7=Symbol.for("react.lazy"),cPt=Symbol.for("react.scope"),dPt=Symbol.for("react.debug_trace_mode"),fPt=Symbol.for("react.legacy_hidden"),hPt=Symbol.for("react.default_value"),aX=Symbol.iterator;function G$(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Uye:return"Fragment";case zye:return"Portal";case Wye:return"Profiler";case Hye:return"StrictMode";case Kye:return"Suspense";case Zye:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Yye:return(e.displayName||"Context")+".Consumer";case Gye:return(e._context.displayName||"Context")+".Provider";case qye:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Xye:return null!==(t=e.displayName||null)?t:G$(e.type)||"Memo";case l7:t=e._payload,e=e._init;try{return G$(e(t))}catch{}}return null}var Jye={};function oX(e,t){if(!(e=e.contextTypes))return Jye;var n,r={};for(n in e)r[n]=t[n];return r}var Zh=null;function JT(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(Xt(401))}else{if(null===n)throw Error(Xt(401));JT(e,n)}t.context._currentValue=t.value}}function Qye(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Qye(e)}function ebe(e){var t=e.parent;null!==t&&ebe(t),e.context._currentValue=e.value}function tbe(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(Xt(402));e.depth===t.depth?JT(e,t):tbe(e,t)}function nbe(e,t){var n=t.parent;if(null===n)throw Error(Xt(402));e.depth===n.depth?JT(e,n):nbe(e,n),t.context._currentValue=t.value}function V_(e){var t=Zh;t!==e&&(null===t?ebe(e):null===e?Qye(t):t.depth===e.depth?JT(t,e):t.depth>e.depth?tbe(t,e):nbe(t,e),Zh=e)}var sX={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function lX(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=sX,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"==typeof a&&null!==a?a._currentValue:r,"function"==typeof(a=t.getDerivedStateFromProps)&&(i=null==(a=a(n,i))?i:ub({},i,a),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&sX.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"==typeof s?s.call(e,o,n,r):s)&&(i?(i=!1,o=ub({},o,s)):ub(o,s))}e.state=o}else o.queue=null}var pPt={id:1,overflow:""};function Y$(e,t,n){var r=e.id;e=e.overflow;var i=32-US(r)-1;r&=~(1<<i),n+=1;var o=32-US(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-US(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var US=Math.clz32?Math.clz32:vPt,mPt=Math.log,gPt=Math.LN2;function vPt(e){return 0===(e>>>=0)?32:31-(mPt(e)/gPt|0)|0}function yPt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var bPt="function"==typeof Object.is?Object.is:yPt,od=null,u7=null,HS=null,Er=null,jy=!1,z_=!1,ex=0,bf=null,QT=0;function Nh(){if(null===od)throw Error(Xt(321));return od}function uX(){if(0<QT)throw Error(Xt(312));return{memoizedState:null,queue:null,next:null}}function c7(){return null===Er?null===HS?(jy=!1,HS=Er=uX()):(jy=!0,Er=HS):null===Er.next?(jy=!1,Er=Er.next=uX()):(jy=!0,Er=Er.next),Er}function d7(){u7=od=null,z_=!1,HS=null,QT=0,Er=bf=null}function rbe(e,t){return"function"==typeof t?t(e):t}function cX(e,t,n){if(od=Nh(),Er=c7(),jy){var r=Er.queue;if(t=r.dispatch,null!==bf&&void 0!==(n=bf.get(r))){bf.delete(r),r=Er.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Er.memoizedState=r,[r,t]}return[Er.memoizedState,t]}return e=e===rbe?"function"==typeof t?t():t:void 0!==n?n(t):t,Er.memoizedState=e,e=(e=Er.queue={last:null,dispatch:null}).dispatch=xPt.bind(null,od,e),[Er.memoizedState,e]}function dX(e,t){if(od=Nh(),t=void 0===t?null:t,null!==(Er=c7())){var n=Er.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!bPt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Er.memoizedState=[e,t],e}function xPt(e,t,n){if(25<=QT)throw Error(Xt(301));if(e===od)if(z_=!0,e={action:n,next:null},null===bf&&(bf=new Map),void 0===(n=bf.get(t)))bf.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function wPt(){throw Error(Xt(394))}function p2(){}var W1,lbe,fX={readContext:function(e){return e._currentValue},useContext:function(e){return Nh(),e._currentValue},useMemo:dX,useReducer:cX,useRef:function(e){od=Nh();var t=(Er=c7()).memoizedState;return null===t?(e={current:e},Er.memoizedState=e):t},useState:function(e){return cX(rbe,e)},useInsertionEffect:p2,useLayoutEffect:function(){},useCallback:function(e,t){return dX((function(){return e}),t)},useImperativeHandle:p2,useEffect:p2,useDebugValue:p2,useDeferredValue:function(e){return Nh(),e},useTransition:function(){return Nh(),[!1,wPt]},useId:function(){var e=u7.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-US(e)-1)).toString(32)+t;var n=WS;if(null===n)throw Error(Xt(404));return t=ex++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Nh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(Xt(407));return n()}},WS=null,l3=Fye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function CPt(e){return console.error(e),null}function Iy(){}function SPt(e,t,n,r,i,o,a,s,l){var u=[],c=new Set;return(n=U_(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?CPt:i,onAllReady:void 0===o?Iy:o,onShellReady:void 0===a?Iy:a,onShellError:void 0===s?Iy:s,onFatalError:void 0===l?Iy:l},0,null,n,!1,!1)).parentFlushed=!0,e=f7(t,e,null,n,c,Jye,null,pPt),u.push(e),t}function f7(e,t,n,r,i,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&obe(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function U_(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function tx(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function H_(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,Nye(e.destination,t)):(e.status=1,e.fatalError=t)}function hX(e,t,n,r,i){for(od={},u7=t,ex=0,e=n(r,i);z_;)z_=!1,ex=0,QT+=1,Er=null,e=n(r,i);return d7(),e}function pX(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(null!=o){var a=t.legacyContext;if("function"!=typeof n.getChildContext)r=a;else{for(var s in n=n.getChildContext())if(!(s in o))throw Error(Xt(108,G$(r)||"Unknown",s));r=ub({},a,n)}t.legacyContext=r,is(e,t,i),t.legacyContext=a}else is(e,t,i)}function mX(e,t){if(e&&e.defaultProps){for(var n in t=ub({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function q$(e,t,n,r,i){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){i=oX(n,t.legacyContext);var o=n.contextType;lX(o=new n(r,"object"==typeof o&&null!==o?o._currentValue:i),n,r,i),pX(e,t,o,n)}else{i=hX(e,t,n,r,o=oX(n,t.legacyContext));var a=0!==ex;if("object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof)lX(i,n,r,o),pX(e,t,i,n);else if(a){r=t.treeContext,t.treeContext=Y$(r,1,0);try{is(e,t,i)}finally{t.treeContext=r}}else is(e,t,i)}else{if("string"!=typeof n){switch(n){case fPt:case dPt:case Hye:case Wye:case Uye:case Zye:return void is(e,t,r.children);case cPt:throw Error(Xt(343));case Kye:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},l=U_(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=U_(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(K$(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(s7),u.status=1,W_(s,u),0===s.pendingTasks)break e}catch(t){u.status=4,s.forceClientRender=!0,s.errorDigest=tx(e,t)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=f7(e,o,n,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case qye:if(r=hX(e,t,n.render,r,i),0!==ex){n=t.treeContext,t.treeContext=Y$(n,1,0);try{is(e,t,r)}finally{t.treeContext=n}}else is(e,t,r);return;case Xye:return void q$(e,t,n=n.type,r=mX(n,r),i);case Gye:if(i=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,Zh=r={parent:a=Zh,depth:null===a?0:a.depth+1,context:n,parentValue:o,value:r},t.context=r,is(e,t,i),null===(e=Zh))throw Error(Xt(403));return r=e.parentValue,e.context._currentValue=r===hPt?e.context._defaultValue:r,e=Zh=e.parent,void(t.context=e);case Yye:return void is(e,t,r=(r=r.children)(n._currentValue));case l7:return void q$(e,t,n=(i=n._init)(n._payload),r=mX(n,r),void 0)}throw Error(Xt(130,null==n?n:typeof n,""))}switch(o=h$t((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=s$t(a,n,r),K$(e,t,o),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(p$t,tn(n),m$t)}i.lastPushedText=!1}}function is(e,t,n){if(t.node=n,"object"==typeof n&&null!==n){switch(n.$$typeof){case uPt:return void q$(e,t,n.type,n.props,n.ref);case zye:throw Error(Xt(257));case l7:var r=n._init;return void is(e,t,n=r(n._payload))}if(W$(n))return void gX(e,t,n);if(null===n||"object"!=typeof n?r=null:r="function"==typeof(r=aX&&n[aX]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);gX(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Xt(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"==typeof n?(r=t.blockedSegment).lastPushedText=JZ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"==typeof n&&((r=t.blockedSegment).lastPushedText=JZ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function gX(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=Y$(o,r,i);try{K$(e,t,n[i])}finally{t.treeContext=o}}}function K$(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return is(e,t,n)}catch(l){if(d7(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,V_(o),l;n=l;var a=t.blockedSegment,s=U_(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=f7(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,V_(o)}}function EPt(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,abe(this,t,e)}function ibe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(Xt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return ibe(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function W_(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&W_(e,n)}else e.completedSegments.push(t)}function abe(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(Xt(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Iy,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&W_(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(EPt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(W_(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function obe(e){if(2!==e.status){var t=Zh,n=l3.current;l3.current=fX;var r=WS;WS=e.responseState;try{var i,o=e.pingedTasks;for(i=0;i<o.length;i++){var a=o[i],s=e,l=a.blockedSegment;if(0===l.status){V_(a.context);try{is(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(s7),a.abortSet.delete(a),l.status=1,abe(s,a.blockedBoundary,l)}catch(e){if(d7(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=a.ping;e.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=e,f=tx(s,d);if(null===c?H_(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,i),null!==e.destination&&h7(e,e.destination)}catch(t){tx(e,t),H_(e,t)}finally{WS=r,l3.current=n,n===fX&&V_(t)}}}function m2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,ut(t,g$t),ut(t,e.placeholderPrefix),ut(t,e=tn(r.toString(16))),Pr(t,v$t);case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var a=0;a<n.length;a++){for(i=n[a];o<i.index;o++)ut(t,r[o]);i=eA(e,t,i)}for(;o<r.length-1;o++)ut(t,r[o]);return o<r.length&&(i=Pr(t,r[o])),i;default:throw Error(Xt(390))}}function eA(e,t,n){var r=n.boundary;if(null===r)return m2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Pr(t,w$t),ut(t,S$t),r&&(ut(t,_$t),ut(t,tn(wa(r))),ut(t,E$t)),Pr(t,k$t),m2(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;i=Xe(i.boundaryPrefix+o.toString(16)),r=r.id=i,iX(t,e.responseState,r),m2(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),iX(t,e.responseState,r.id),m2(e,t,n);else{if(Pr(t,y$t),1!==(n=r.completedSegments).length)throw Error(Xt(391));eA(e,t,n[0])}return Pr(t,C$t)}function vX(e,t,n){return q$t(t,e.responseState,n.formatContext,n.id),eA(e,t,n),K$t(t,n.formatContext)}function yX(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)sbe(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,ut(t,e.startInlineScript),e.sentCompleteBoundaryFunction?ut(t,tPt):(e.sentCompleteBoundaryFunction=!0,ut(t,ePt)),null===r)throw Error(Xt(395));return n=tn(n.toString(16)),ut(t,r),ut(t,nPt),ut(t,e.segmentPrefix),ut(t,n),Pr(t,rPt)}function sbe(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(Xt(392));return vX(e,t,r)}return vX(e,t,r),ut(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?ut(t,X$t):(e.sentCompleteSegmentFunction=!0,ut(t,Z$t)),ut(t,e.segmentPrefix),ut(t,i=tn(i.toString(16))),ut(t,J$t),ut(t,e.placeholderPrefix),ut(t,i),Pr(t,Q$t)}function h7(e,t){ns=new Uint8Array(512),rs=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){eA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)ut(t,r[n]);n<r.length&&Pr(t,r[n])}var i,o=e.clientRenderedBoundaries;for(i=0;i<o.length;i++){var a=o[i];r=t;var s=e.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(ut(r,s.startInlineScript),s.sentClientRenderFunction?ut(r,aPt):(s.sentClientRenderFunction=!0,ut(r,iPt)),null===l)throw Error(Xt(395));ut(r,l),ut(r,oPt),(u||c||d)&&(ut(r,o3),ut(r,tn(s3(u||"")))),(c||d)&&(ut(r,o3),ut(r,tn(s3(c||"")))),d&&(ut(r,o3),ut(r,tn(s3(d)))),Pr(r,sPt)}o.splice(0,i);var f=e.completedBoundaries;for(i=0;i<f.length;i++)yX(e,t,f[i]);f.splice(0,i),qZ(t),ns=new Uint8Array(512),rs=0;var p=e.partialBoundaries;for(i=0;i<p.length;i++){var h=p[i];e:{o=e,a=t;var m=h.completedSegments;for(s=0;s<m.length;s++)if(!sbe(o,a,h,m[s])){s++,m.splice(0,s);var g=!1;break e}m.splice(0,s),g=!0}if(!g)return e.destination=null,i++,void p.splice(0,i)}p.splice(0,i);var y=e.completedBoundaries;for(i=0;i<y.length;i++)yX(e,t,y[i]);y.splice(0,i)}finally{qZ(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function bX(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return ibe(n,e,t)})),n.clear(),null!==e.destination&&h7(e,e.destination)}catch(t){tx(e,t),H_(e,t)}}i7.renderToReadableStream=function(e,t){return new Promise((function(n,r){var i,o,a=new Promise((function(e,t){o=e,i=t})),s=SPt(e,a$t(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),o$t(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,Nye(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{h7(s,e)}catch(e){tx(s,e),H_(s,e)}}},cancel:function(){bX(s)}},{highWaterMark:0});e.allReady=a,n(e)}),(function(e){a.catch((function(){})),r(e)}),i);if(t&&t.signal){var l=t.signal,u=function(){bX(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}obe(s)}))},i7.version="18.3.1",lbe=i7,(W1=H1).version;var _Pt=W1.renderToString;W1.renderToStaticMarkup,W1.renderToNodeStream,W1.renderToStaticNodeStream,lbe.renderToReadableStream;var kPt=Qk,TPt=DN,APt=TPt((function(e,t,n){kPt(e,n,t)})),jPt=APt;const p7=Be(jPt);var IPt=m7;function m7(e){!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=e.languages.bash[i[a]];e.languages.shell=e.languages.bash}(e)}m7.displayName="bash",m7.aliases=["shell"];const DPt=Be(IPt);var OPt=g7;function g7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}g7.displayName="json",g7.aliases=["webmanifest"];const RPt=Be(OPt);var MPt=v7;function v7(e){!function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return i})),RegExp(e,t)}i=o(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(a).join(""):""},s=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=!1;if("string"!=typeof i&&("tag"===i.type&&i.content[0]&&"tag"===i.content[0].type?"</"===i.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===a(i.content[0].content[1])&&n.pop():"/>"===i.content[i.content.length-1].content||n.push({tagName:a(i.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===i.type&&"{"===i.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===i.type&&"}"===i.content?n[n.length-1].openedBraces--:o=!0),(o||"string"==typeof i)&&n.length>0&&0===n[n.length-1].openedBraces){var l=a(i);r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(l+=a(t[r+1]),t.splice(r+1,1)),r>0&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(l=a(t[r-1])+l,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",l,null,l)}i.content&&"string"!=typeof i.content&&s(i.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||s(e.tokens)}))}(e)}v7.displayName="jsx",v7.aliases=[];const $Pt=Be(MPt);var PPt=y7;function y7(e){!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(e)}y7.displayName="typescript",y7.aliases=["ts"];const FPt=Be(PPt),ur=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,pp="8.40.0",Pn=globalThis;function tA(e,t,n){const r=Pn,i=r.__SENTRY__=r.__SENTRY__||{},o=i[pp]=i[pp]||{};return o[e]||(o[e]=t())}const Cm=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,LPt="Sentry Logger ",Z$=["debug","info","warn","error","log","assert","trace"],G_={};function Sw(e){if(!("console"in Pn))return e();const t=Pn.console,n={},r=Object.keys(G_);r.forEach((e=>{const r=G_[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}function NPt(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Cm?Z$.forEach((n=>{t[n]=(...t)=>{e&&Sw((()=>{Pn.console[n](`${LPt}[${n}]:`,...t)}))}})):Z$.forEach((e=>{t[e]=()=>{}})),t}const Rt=tA("logger",NPt),ube=50,Up="?",xX=/\(error: (.*)\)/,wX=/captureMessage|captureException/;function cbe(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const a=xX.test(n)?n.replace(xX,"$1"):n;if(!a.match(/\S*Error: /)){for(const e of t){const t=e(a);if(t){i.push(t);break}}if(i.length>=ube+r)break}}return VPt(i.slice(r))}}function BPt(e){return Array.isArray(e)?cbe(...e):e}function VPt(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(g2(t).function||"")&&t.pop(),t.reverse(),wX.test(g2(t).function||"")&&(t.pop(),wX.test(g2(t).function||"")&&t.pop()),t.slice(0,ube).map((e=>({...e,filename:e.filename||g2(t).filename,function:e.function||Up})))}function g2(e){return e[e.length-1]||{}}const u3="<anonymous>";function Bf(e){try{return e&&"function"==typeof e&&e.name||u3}catch{return u3}}function CX(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch{return}}}const GS={},SX={};function Sm(e,t){GS[e]=GS[e]||[],GS[e].push(t)}function Em(e,t){if(!SX[e]){SX[e]=!0;try{t()}catch(t){Cm&&Rt.error(`Error while instrumenting ${e}`,t)}}}function Ml(e,t){const n=e&&GS[e];if(n)for(const r of n)try{r(t)}catch(t){Cm&&Rt.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Bf(r)}\nError:`,t)}}let v2=null;function zPt(e){const t="error";Sm(t,e),Em(t,UPt)}function UPt(){v2=Pn.onerror,Pn.onerror=function(e,t,n,r,i){return Ml("error",{column:r,error:i,line:n,msg:e,url:t}),!(!v2||v2.__SENTRY_LOADER__)&&v2.apply(this,arguments)},Pn.onerror.__SENTRY_INSTRUMENTED__=!0}let y2=null;function HPt(e){const t="unhandledrejection";Sm(t,e),Em(t,WPt)}function WPt(){y2=Pn.onunhandledrejection,Pn.onunhandledrejection=function(e){return Ml("unhandledrejection",e),!(y2&&!y2.__SENTRY_LOADER__)||y2.apply(this,arguments)},Pn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function nA(){return b7(Pn),Pn}function b7(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||pp,t[pp]=t[pp]||{}}const dbe=Object.prototype.toString;function x7(e){switch(dbe.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Hp(e,Error)}}function G1(e,t){return dbe.call(e)===`[object ${t}]`}function fbe(e){return G1(e,"ErrorEvent")}function EX(e){return G1(e,"DOMError")}function GPt(e){return G1(e,"DOMException")}function Gc(e){return G1(e,"String")}function w7(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function C7(e){return null===e||w7(e)||"object"!=typeof e&&"function"!=typeof e}function P0(e){return G1(e,"Object")}function rA(e){return typeof Event<"u"&&Hp(e,Event)}function YPt(e){return typeof Element<"u"&&Hp(e,Element)}function qPt(e){return G1(e,"RegExp")}function iA(e){return!(!e||!e.then||"function"!=typeof e.then)}function KPt(e){return P0(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Hp(e,t){try{return e instanceof t}catch{return!1}}function hbe(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const S7=Pn,ZPt=80;function pbe(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,a=0;const s=" > ",l=s.length;let u;const c=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||ZPt;for(;n&&o++<r&&(u=XPt(n,c),!("html"===u||o>1&&a+i.length*l+u.length>=d));)i.push(u),a+=u.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function XPt(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(S7.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&Gc(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const o=["aria-label","type","name","title","alt"];for(const e of o){const t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join("")}function JPt(){try{return S7.document.location.href}catch{return""}}function QPt(e){if(!S7.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function r0(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function _X(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{hbe(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function e4t(e,t,n=!1){return!!Gc(e)&&(qPt(t)?t.test(e):!!Gc(t)&&(n?e===t:e.includes(t)))}function aA(e,t=[],n=!1){return t.some((t=>e4t(e,t,n)))}function os(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);"function"==typeof i&&mbe(i,r);try{e[t]=i}catch{Cm&&Rt.log(`Failed to replace method "${t}" in object`,e)}}function Wp(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Cm&&Rt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function mbe(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Wp(e,"__sentry_original__",t)}catch{}}function E7(e){return e.__sentry_original__}function t4t(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function gbe(e){if(x7(e))return{message:e.message,name:e.name,stack:e.stack,...TX(e)};if(rA(e)){const t={type:e.type,target:kX(e.target),currentTarget:kX(e.currentTarget),...TX(e)};return typeof CustomEvent<"u"&&Hp(e,CustomEvent)&&(t.detail=e.detail),t}return e}function kX(e){try{return YPt(e)?pbe(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function TX(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function n4t(e,t=40){const n=Object.keys(gbe(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return r0(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:r0(r,t)}return""}function Us(e){return X$(e,new Map)}function X$(e,t){if(r4t(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.getOwnPropertyNames(e))typeof e[n]<"u"&&(r[n]=X$(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(X$(e,t))})),r}return e}function r4t(e){if(!P0(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch{return!0}}const vbe=1e3;function Ew(){return Date.now()/vbe}function i4t(){const{performance:e}=Pn;if(!e||!e.now)return Ew;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/vbe}const Yc=i4t();function Xs(){const e=Pn,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function ybe(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function af(e){const{message:t,event_id:n}=e;if(t)return t;const r=ybe(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function J$(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function nx(e,t){const n=ybe(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function AX(e){if(e&&e.__sentry_captured__)return!0;try{Wp(e,"__sentry_captured__",!0)}catch{}return!1}var kc;function Gp(e){return new Fs((t=>{t(e)}))}function Y_(e){return new Fs(((t,n)=>{n(e)}))}(()=>{const{performance:e}=Pn;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;(o||s<t)&&(i<=s&&e.timeOrigin)})(),function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(kc||(kc={}));class Fs{constructor(e){Fs.prototype.__init.call(this),Fs.prototype.__init2.call(this),Fs.prototype.__init3.call(this),Fs.prototype.__init4.call(this),this._state=kc.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Fs(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Fs(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(kc.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(kc.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===kc.PENDING){if(iA(t))return void t.then(this._resolve,this._reject);this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===kc.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===kc.RESOLVED&&e[1](this._value),this._state===kc.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function a4t(e){const t=Yc(),n={sid:Xs(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>s4t(n)};return e&&F0(n,e),n}function F0(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Yc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Xs()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function o4t(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),F0(e,n)}function s4t(e){return Us({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function jX(){return{traceId:Xs(),spanId:Xs().substring(16)}}function oA(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=oA(r[e],t[e],n-1));return r}const Q$="_sentrySpan";function IX(e,t){t?Wp(e,Q$,t):delete e[Q$]}function DX(e){return e[Q$]}const l4t=100;class _7{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=jX()}clone(){const e=new _7;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,IX(e,DX(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&F0(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,r]=t instanceof sd?[t.getScopeData(),t.getRequestSession()]:P0(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:a,contexts:s,level:l,fingerprint:u=[],propagationContext:c}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),l&&(this._level=l),u.length&&(this._fingerprint=u),c&&(this._propagationContext=c),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,IX(this,void 0),this._attachments=[],this._propagationContext=jX(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Ew(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:DX(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=oA(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Xs();if(!this._client)return Rt.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:Xs();if(!this._client)return Rt.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Xs();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Rt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const sd=_7;function u4t(){return tA("defaultCurrentScope",(()=>new sd))}function c4t(){return tA("defaultIsolationScope",(()=>new sd))}class d4t{constructor(e,t){let n,r;n=e||new sd,r=t||new sd,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return iA(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function L0(){const e=b7(nA());return e.stack=e.stack||new d4t(u4t(),c4t())}function f4t(e){return L0().withScope(e)}function h4t(e,t){const n=L0();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function OX(e){return L0().withScope((()=>e(L0().getIsolationScope())))}function p4t(){return{withIsolationScope:OX,withScope:f4t,withSetScope:h4t,withSetIsolationScope:(e,t)=>OX(t),getCurrentScope:()=>L0().getScope(),getIsolationScope:()=>L0().getIsolationScope()}}function k7(e){const t=b7(e);return t.acs?t.acs:p4t()}function Lu(){return k7(nA()).getCurrentScope()}function Y1(){return k7(nA()).getIsolationScope()}function m4t(){return tA("globalScope",(()=>new sd))}function bbe(...e){const t=k7(nA());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function Li(){return Lu().getClient()}const g4t="_sentryMetrics";function v4t(e){const t=e[g4t];if(!t)return;const n={};for(const[,[e,r]]of t)(n[e]||(n[e]=[])).push(Us(r));return n}const y4t="sentry.source",b4t="sentry.sample_rate",x4t="sentry.op",w4t="sentry.origin",C4t=0,S4t=1,E4t="sentry-",_4t=/^sentry-/;function k4t(e){const t=T4t(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(_4t)){e[t.slice(E4t.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function T4t(e){if(e&&(Gc(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=RX(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):RX(e)}function RX(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}const A4t=1;function j4t(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=q_(e);return Us({parent_span_id:r,span_id:t,trace_id:n})}function MX(e){return"number"==typeof e?$X(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?$X(e.getTime()):Yc()}function $X(e){return e>9999999999?e/1e3:e}function q_(e){if(D4t(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(I4t(e)){const{attributes:r,startTime:i,name:o,endTime:a,parentSpanId:s,status:l}=e;return Us({span_id:t,trace_id:n,data:r,description:o,parent_span_id:s,start_timestamp:MX(i),timestamp:MX(a)||void 0,status:R4t(l),op:r[x4t],origin:r[w4t],_metrics_summary:v4t(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function I4t(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}function D4t(e){return"function"==typeof e.getSpanJSON}function O4t(e){const{traceFlags:t}=e.spanContext();return t===A4t}function R4t(e){if(e&&e.code!==C4t)return e.code===S4t?"ok":e.message||"unknown_error"}const M4t="_sentryRootSpan";function xbe(e){return e[M4t]||e}function $4t(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Li(),n=t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const T7="production",P4t="_frozenDsc";function wbe(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Us({environment:n.environment||T7,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function F4t(e){const t=Li();if(!t)return{};const n=wbe(q_(e).trace_id||"",t),r=xbe(e),i=r[P4t];if(i)return i;const o=r.spanContext().traceState,a=o&&o.get("sentry.dsc"),s=a&&k4t(a);if(s)return s;const l=q_(r),u=l.data||{},c=u[b4t];null!=c&&(n.sample_rate=`${c}`);const d=u[y4t],f=l.description;return"url"!==d&&f&&(n.transaction=f),$4t()&&(n.sampled=String(O4t(r))),t.emit("createDsc",n,r),n}function L4t(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;ur&&Rt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}const N4t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function B4t(e){return"http"===e||"https"===e}function sA(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${a}`}function V4t(e){const t=N4t.exec(e);if(!t)return void Sw((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",o="",a="",s=""]=t.slice(1);let l="",u=s;const c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return Cbe({host:o,pass:i,path:l,projectId:u,port:a,protocol:n,publicKey:r})}function Cbe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function z4t(e){if(!Cm)return!0;const{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Rt.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?B4t(r)?!t||!isNaN(parseInt(t,10))||(Rt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(Rt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Rt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}function U4t(e){const t="string"==typeof e?V4t(e):Cbe(e);if(t&&z4t(t))return t}function H4t(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}function of(e,t=100,n=1/0){try{return eP("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Sbe(e,t=3,n=102400){const r=of(e,t);return q4t(r)>n?Sbe(e,t-1,n):r}function eP(e,t,n=1/0,r=1/0,i=H4t()){const[o,a]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const s=W4t(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return s.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return eP("",u.toJSON(),l-1,r,i)}catch{}const c=Array.isArray(t)?[]:{};let d=0;const f=gbe(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(d>=r){c[e]="[MaxProperties ~]";break}const t=f[e];c[e]=eP(e,t,l-1,r,i),d++}return a(t),c}function W4t(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(hbe(t))return"[VueViewModel]";if(KPt(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${Bf(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=G4t(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}function G4t(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Y4t(e){return~-encodeURI(e).split(/%..|./).length}function q4t(e){return Y4t(JSON.stringify(e))}function _w(e,t=[]){return[e,t]}function K4t(e,t){const[n,r]=e;return[n,[...r,t]]}function PX(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function tP(e){return Pn.__SENTRY__&&Pn.__SENTRY__.encodePolyfill?Pn.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function Z4t(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[tP(r),e]:r.push("string"==typeof e?tP(e):e)}for(const e of n){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify(of(n))}i(e)}}return"string"==typeof r?r:X4t(r)}function X4t(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}function J4t(e){const t="string"==typeof e.data?tP(e.data):e.data;return[Us({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Q4t={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function FX(e){return Q4t[e]}function Ebe(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function eFt(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:sA(r)},...i&&{trace:Us({...i})}}}function tFt(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function nFt(e,t,n,r){const i=Ebe(n);return _w({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:sA(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}function rFt(e,t,n,r){const i=Ebe(n),o=e.type&&"replay_event"!==e.type?e.type:"event";tFt(e,n&&n.sdk);const a=eFt(e,i,r,t);return delete e.sdkProcessingMetadata,_w(a,[[{type:o},e]])}function nP(e,t,n,r=0){return new Fs(((i,o)=>{const a=e[r];if(null===t||"function"!=typeof a)i(t);else{const s=a({...t},n);ur&&a.id&&null===s&&Rt.log(`Event processor "${a.id}" dropped event`),iA(s)?s.then((t=>nP(e,t,n,r+1).then(i))).then(null,o):nP(e,s,n,r+1).then(i).then(null,o)}}))}const LX=new WeakMap;function iFt(e){const t=Pn._sentryDebugIds;if(!t)return{};let n;const r=LX.get(e);return r?n=r:(n=new Map,LX.set(e,n)),Object.keys(t).reduce(((r,i)=>{let o;const a=n.get(i);a?o=a:(o=e(i),n.set(i,o));for(let e=o.length-1;e>=0;e--){const n=o[e],a=n&&n.filename;if(n&&a){r[a]=t[i];break}}return r}),{})}function aFt(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;oFt(e,t),r&&uFt(e,r),cFt(e,n),sFt(e,i),lFt(e,o)}function NX(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:u,eventProcessors:c,attachments:d,propagationContext:f,transactionName:p,span:h}=t;b2(e,"extra",n),b2(e,"tags",r),b2(e,"user",i),b2(e,"contexts",o),e.sdkProcessingMetadata=oA(e.sdkProcessingMetadata,s,2),a&&(e.level=a),p&&(e.transactionName=p),h&&(e.span=h),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function b2(e,t,n){e[t]=oA(e[t],n,1)}function oFt(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=t,l=Us(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=Us(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const c=Us(i);c&&Object.keys(c).length&&(e.user={...c,...e.user});const d=Us(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),s&&"transaction"!==e.type&&(e.transaction=s)}function sFt(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function lFt(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function uFt(e,t){e.contexts={trace:j4t(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:F4t(t),...e.sdkProcessingMetadata};const n=q_(xbe(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}function cFt(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function dFt(e,t,n,r,i,o){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Xs(),timestamp:t.timestamp||Ew()},u=n.integrations||e.integrations.map((e=>e.name));fFt(l,e),mFt(l,u),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&hFt(l,e.stackParser);const c=vFt(r,n.captureContext);n.mechanism&&nx(l,n.mechanism);const d=i?i.getEventProcessors():[],f=m4t().getScopeData();if(o){NX(f,o.getScopeData())}if(c){NX(f,c.getScopeData())}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),aFt(l,f);return nP([...d,...f.eventProcessors],l,n).then((e=>(e&&pFt(e),"number"==typeof a&&a>0?gFt(e,a,s):e)))}function fFt(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:T7),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=r0(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=r0(a.value,o));const s=e.request;s&&s.url&&(s.url=r0(s.url,o))}function hFt(e,t){const n=iFt(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=n[e.filename])}))}))}catch{}}function pFt(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch{}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}function mFt(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function gFt(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:of(e.data,t,n)}})))},...e.user&&{user:of(e.user,t,n)},...e.contexts&&{contexts:of(e.contexts,t,n)},...e.extra&&{extra:of(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=of(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:of(e.data,t,n)}})))),r}function vFt(e,t){if(!t)return e;const n=e?e.clone():new sd;return n.update(t),n}function yFt(e){if(e)return bFt(e)||wFt(e)?{captureContext:e}:e}function bFt(e){return e instanceof sd||"function"==typeof e}const xFt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function wFt(e){return Object.keys(e).some((e=>xFt.includes(e)))}function _be(e,t){return Lu().captureException(e,yFt(t))}function kbe(e,t){return Lu().captureEvent(e,t)}function CFt(e,t){Y1().setContext(e,t)}function SFt(){return!!Li()}function BX(e){const t=Li(),n=Y1(),r=Lu(),{release:i,environment:o=T7}=t&&t.getOptions()||{},{userAgent:a}=Pn.navigator||{},s=a4t({release:i,environment:o,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),l=n.getSession();return l&&"ok"===l.status&&F0(l,{status:"exited"}),Tbe(),n.setSession(s),r.setSession(s),s}function Tbe(){const e=Y1(),t=Lu(),n=t.getSession()||e.getSession();n&&o4t(n),Abe(),e.setSession(),t.setSession()}function Abe(){const e=Y1(),t=Lu(),n=Li(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function VX(e=!1){e?Tbe():Abe()}const EFt="7";function _Ft(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function kFt(e){return`${_Ft(e)}${e.projectId}/envelope/`}function TFt(e,t){return t4t({sentry_key:e.publicKey,sentry_version:EFt,...t&&{sentry_client:`${t.name}/${t.version}`}})}function AFt(e,t,n){return t||`${kFt(e)}?${TFt(e,n)}`}const zX=[];function jFt(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}function IFt(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;const i=jFt(r),o=i.findIndex((e=>"Debug"===e.name));if(o>-1){const[e]=i.splice(o,1);i.push(e)}return i}function DFt(e,t){const n={};return t.forEach((t=>{t&&jbe(e,t,n)})),n}function UX(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function jbe(e,t,n){if(n[t.name])ur&&Rt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===zX.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),zX.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}ur&&Rt.log(`Integration installed: ${t.name}`)}}function OFt(e,t,n){return _w(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:Ew(),discarded_events:e}]])}class vu extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const HX="Not capturing exception because it's already been captured.";class RFt{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=U4t(e.dsn):ur&&Rt.warn("No DSN provided, client will not send events."),this._dsn){const t=AFt(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=Xs();if(AX(e))return ur&&Rt.log(HX),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:Xs(),...n},o=w7(e)?e:String(e),a=C7(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=Xs();if(t&&t.originalException&&AX(t.originalException))return ur&&Rt.log(HX),r;const i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){"string"!=typeof e.release?ur&&Rt.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),F0(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Gp(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];jbe(this,e,this._integrations),t||UX(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=rFt(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=K4t(n,J4t(e));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=nFt(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,i=`${e}:${t}`;ur&&Rt.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(ur&&Rt.error("Error while sending envelope:",e),e))):(ur&&Rt.error("Transport disabled"),Gp({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=DFt(this,e),UX(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(F0(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Fs((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=Y1()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),dFt(i,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:r,parentSpanId:i,dsc:o}=t;e.contexts={trace:Us({trace_id:n,span_id:r,parent_span_id:i}),...e.contexts};const a=o||wbe(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(ur){const t=e;"log"===t.logLevel?Rt.log(t.message):Rt.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=Dbe(e),a=Ibe(e),s=e.type||"error",l=`before send for type \`${s}\``,u=typeof i>"u"?void 0:L4t(i);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",e),Y_(new vu(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===s?"replay":s,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new vu("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;return MFt($Ft(this,r,n,t),l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new vu(`${l} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{throw e instanceof vu?e:(this.captureException(e,{data:{__sentry__:!0},originalException:e}),new vu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`))}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){ur&&Rt.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(ur&&Rt.log("No outcomes to send"));if(!this._dsn)return void(ur&&Rt.log("No dsn provided, will not send outcomes"));ur&&Rt.log("Sending outcomes:",e);const t=OFt(e,this._options.tunnel&&sA(this._dsn));this.sendEnvelope(t)}}function MFt(e,t){const n=`${t} must return \`null\` or a valid event.`;if(iA(e))return e.then((e=>{if(!P0(e)&&null!==e)throw new vu(n);return e}),(e=>{throw new vu(`${t} rejected with ${e}`)}));if(!P0(e)&&null!==e)throw new vu(n);return e}function $Ft(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t;if(Ibe(n)&&i)return i(n,r);if(Dbe(n)){if(n.spans&&a){const t=[];for(const r of n.spans){const n=a(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(o){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}function Ibe(e){return void 0===e.type}function Dbe(e){return"transaction"===e.type}function PFt(e,t){!0===t.debug&&(ur?Rt.enable():Sw((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),Lu().update(t.initialScope);const n=new e(t);return FFt(n),n.init(),n}function FFt(e){Lu().setClient(e)}function LFt(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Y_(new vu("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new Fs(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Gp(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}const NFt=6e4;function BFt(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?NFt:r-t}function VFt(e,t){return e[t]||e.all||0}function zFt(e,t,n=Date.now()){return VFt(e,t)>n}function UFt(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n,,,o]=e.split(":",5),a=parseInt(t,10),s=1e3*(isNaN(a)?60:a);if(n)for(const e of n.split(";"))"metric_bucket"===e?(!o||o.split(";").includes("custom"))&&(i[e]=r+s):i[e]=r+s;else i.all=r+s}else a?i.all=r+BFt(a,r):429===t&&(i.all=r+6e4);return i}const HFt=64;function WFt(e,t,n=LFt(e.bufferSize||HFt)){let r={};return{send:function(i){const o=[];if(PX(i,((t,n)=>{const i=FX(n);if(zFt(r,i)){const r=WX(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return Gp({});const a=_w(i[0],o),s=t=>{PX(a,((n,r)=>{const i=WX(n,r);e.recordDroppedEvent(t,FX(r),i)}))};return n.add((()=>t({body:Z4t(a)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&ur&&Rt.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=UFt(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof vu)return ur&&Rt.error("Skipped sending event because buffer is full."),s("queue_overflow"),Gp({});throw e}))},flush:e=>n.drain(e)}}function WX(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Obe(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:pp}))),version:pp}),e._metadata=i}const GFt=100;function Yp(e,t){const n=Li(),r=Y1();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=GFt}=n.getOptions();if(o<=0)return;const a={timestamp:Ew(),...e},s=i?Sw((()=>i(a,t))):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,o))}let GX;const YFt="FunctionToString",YX=new WeakMap,qFt=()=>({name:YFt,setupOnce(){GX=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=E7(this),n=YX.has(Li())&&void 0!==t?t:this;return GX.apply(n,e)}}catch{}},setup(e){YX.set(e,!0)}}),Rbe=qFt,KFt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],ZFt="InboundFilters",XFt=(e={})=>({name:ZFt,processEvent(t,n,r){const i=r.getOptions();return QFt(t,JFt(e,i))?null:t}}),Mbe=XFt;function JFt(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:KFt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function QFt(e,t){return t.ignoreInternal&&aLt(e)?(ur&&Rt.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${af(e)}`),!0):eLt(e,t.ignoreErrors)?(ur&&Rt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${af(e)}`),!0):sLt(e)?(ur&&Rt.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${af(e)}`),!0):tLt(e,t.ignoreTransactions)?(ur&&Rt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${af(e)}`),!0):nLt(e,t.denyUrls)?(ur&&Rt.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${af(e)}.\nUrl: ${K_(e)}`),!0):!rLt(e,t.allowUrls)&&(ur&&Rt.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${af(e)}.\nUrl: ${K_(e)}`),!0)}function eLt(e,t){return!(e.type||!t||!t.length)&&iLt(e).some((e=>aA(e,t)))}function tLt(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&aA(n,t)}function nLt(e,t){if(!t||!t.length)return!1;const n=K_(e);return!!n&&aA(n,t)}function rLt(e,t){if(!t||!t.length)return!0;const n=K_(e);return!n||aA(n,t)}function iLt(e){const t=[];let n;e.message&&t.push(e.message);try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function aLt(e){try{return"SentryError"===e.exception.values[0].type}catch{}return!1}function oLt(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function K_(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?oLt(t):null}catch{return ur&&Rt.error(`Cannot extract url for event ${af(e)}`),null}}function sLt(e){return!(e.type||!e.exception||!e.exception.values||0===e.exception.values.length)&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)))}function lLt(e,t,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&Hp(a.originalException,Error)))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=uLt(rP(e,t,i,a.originalException,r,o.exception.values,s,0),n))}function rP(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;let l=[...o];if(Hp(r[i],Error)){qX(a,s);const o=e(t,r[i]),u=l.length;KX(o,i,u,s),l=rP(e,t,n,r[i],i,[o,...l],o,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(Hp(r,Error)){qX(a,s);const u=e(t,r),c=l.length;KX(u,`errors[${o}]`,c,s),l=rP(e,t,n,r,i,[u,...l],u,c)}})),l}function qX(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function KX(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function uLt(e,t){return e.map((e=>(e.value&&(e.value=r0(e.value,t)),e)))}function c3(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function cLt(e){const t="console";Sm(t,e),Em(t,dLt)}function dLt(){"console"in Pn&&Z$.forEach((function(e){e in Pn.console&&os(Pn.console,e,(function(t){return G_[e]=t,function(...t){Ml("console",{args:t,level:e});const n=G_[e];n&&n.apply(Pn.console,t)}}))}))}const fLt=["fatal","error","warning","log","info","debug"];function hLt(e){return"warn"===e?"warning":fLt.includes(e)?e:"log"}const pLt="Dedupe",mLt=()=>{let e;return{name:pLt,processEvent(t){if(t.type)return t;try{if(gLt(t,e))return ur&&Rt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},$be=mLt;function gLt(e,t){return!!t&&!(!vLt(e,t)&&!yLt(e,t))}function vLt(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Fbe(e,t)||!Pbe(e,t))}function yLt(e,t){const n=ZX(t),r=ZX(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&Fbe(e,t)&&Pbe(e,t))}function Pbe(e,t){let n=CX(e),r=CX(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Fbe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function ZX(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Lbe(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}const iP=Pn;function Nbe(){if(!("fetch"in iP))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function aP(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function bLt(){if("string"==typeof EdgeRuntime)return!0;if(!Nbe())return!1;if(aP(iP.fetch))return!0;let e=!1;const t=iP.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=aP(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Cm&&Rt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function xLt(e,t){const n="fetch";Sm(n,e),Em(n,(()=>wLt(void 0,t)))}function wLt(e,t=!1){t&&!bLt()||os(Pn,"fetch",(function(e){return function(...t){const{method:n,url:r}=CLt(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:1e3*Yc()};Ml("fetch",{...i});const o=(new Error).stack;return e.apply(Pn,t).then((async e=>(Ml("fetch",{...i,endTimestamp:1e3*Yc(),response:e}),e)),(e=>{throw Ml("fetch",{...i,endTimestamp:1e3*Yc(),error:e}),x7(e)&&void 0===e.stack&&(e.stack=o,Wp(e,"framesToPop",1)),e}))}}))}function oP(e,t){return!!e&&"object"==typeof e&&!!e[t]}function XX(e){return"string"==typeof e?e:e?oP(e,"url")?e.url:e.toString?e.toString():"":""}function CLt(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:XX(t),method:oP(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:XX(t),method:oP(t,"method")?String(t.method).toUpperCase():"GET"}}function SLt(){return"npm"}const x2=Pn;function ELt(){const e=x2.chrome,t=e&&e.app&&e.app.runtime,n="history"in x2&&!!x2.history.pushState&&!!x2.history.replaceState;return!t&&n}const dr=Pn;let sP=0;function Bbe(){return sP>0}function _Lt(){sP++,setTimeout((()=>{sP--}))}function N0(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(E7(e))return e}catch{return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>N0(e,t)));return e.apply(this,r)}catch(e){throw _Lt(),bbe((r=>{r.addEventProcessor((e=>(t.mechanism&&(J$(e,void 0),nx(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),_be(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch{}mbe(r,e),Wp(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const kw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function A7(e,t){const n=j7(e,t),r={type:ILt(t),value:DLt(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function kLt(e,t,n,r){const i=Li(),o=i&&i.getOptions().normalizeDepth,a=PLt(t),s={__serialized__:Sbe(t,o)};if(a)return{exception:{values:[A7(e,a)]},extra:s};const l={exception:{values:[{type:rA(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:MLt(t,{isUnhandledRejection:r})}]},extra:s};if(n){const t=j7(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function d3(e,t){return{exception:{values:[A7(e,t)]}}}function j7(e,t){const n=t.stacktrace||t.stack||"",r=ALt(t),i=jLt(t);try{return e(n,r,i)}catch{}return[]}const TLt=/Minified React error #\d+;/i;function ALt(e){return e&&TLt.test(e.message)?1:0}function jLt(e){return"number"==typeof e.framesToPop?e.framesToPop:0}function Vbe(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"&&e instanceof WebAssembly.Exception}function ILt(e){const t=e&&e.name;return!t&&Vbe(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function DLt(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:Vbe(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}function OLt(e,t,n,r){const i=I7(e,t,n&&n.syntheticException||void 0,r);return nx(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Gp(i)}function RLt(e,t,n="info",r,i){const o=lP(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Gp(o)}function I7(e,t,n,r,i){let o;if(fbe(t)&&t.error)return d3(e,t.error);if(EX(t)||GPt(t)){const i=t;if("stack"in t)o=d3(e,t);else{const t=i.name||(EX(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=lP(e,a,n,r),J$(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return x7(t)?d3(e,t):P0(t)||rA(t)?(o=kLt(e,t,n,i),nx(o,{synthetic:!0}),o):(o=lP(e,t,n,r),J$(o,`${t}`),nx(o,{synthetic:!0}),o)}function lP(e,t,n,r){const i={};if(r&&n){const r=j7(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(w7(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function MLt(e,{isUnhandledRejection:t}){const n=n4t(e),r=t?"promise rejection":"exception";return fbe(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:rA(e)?`Event \`${$Lt(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function $Lt(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function PLt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function FLt(e,{metadata:t,tunnel:n,dsn:r}){return _w({event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:sA(r)}},[LLt(e)])}function LLt(e){return[{type:"user_report"},e]}class zbe extends RFt{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};Obe(t,"browser",["browser"],dr.SENTRY_SDK_SOURCE||SLt()),super(t),t.sendClientReports&&dr.document&&dr.document.addEventListener("visibilitychange",(()=>{"hidden"===dr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return OLt(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return RLt(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(kw&&Rt.warn("SDK not enabled, will not capture user feedback."));const t=FLt(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}const NLt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ga=Pn,BLt=1e3;let JX,uP,cP,w2;function VLt(e){Sm("dom",e),Em("dom",zLt)}function zLt(){if(!Ga.document)return;const e=Ml.bind(null,"dom"),t=QX(e,!0);Ga.document.addEventListener("click",t,!1),Ga.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Ga[t]&&Ga[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(os(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){const r=QX(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch{}return t.call(this,n,r,i)}})),os(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}})))}))}function ULt(e){if(e.type!==uP)return!1;try{if(!e.target||e.target._sentryId!==cP)return!1}catch{}return!0}function HLt(e,t){return"keypress"===e&&(!t||!t.tagName||!("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable))}function QX(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=WLt(n);if(HLt(n.type,r))return;Wp(n,"_sentryCaptured",!0),r&&!r._sentryId&&Wp(r,"_sentryId",Xs());const i="keypress"===n.type?"input":n.type;ULt(n)||(e({event:n,name:i,global:t}),uP=n.type,cP=r?r._sentryId:void 0),clearTimeout(JX),JX=Ga.setTimeout((()=>{cP=void 0,uP=void 0}),BLt)}}function WLt(e){try{return e.target}catch{return null}}function Ube(e){const t="history";Sm(t,e),Em(t,GLt)}function GLt(){if(!ELt())return;const e=Ga.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=w2,t=String(n);w2=t,Ml("history",{from:e,to:t})}return e.apply(this,t)}}Ga.onpopstate=function(...t){const n=Ga.location.href,r=w2;if(w2=n,Ml("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch{}},os(Ga.history,"pushState",t),os(Ga.history,"replaceState",t)}const YS={};function YLt(e){const t=YS[e];if(t)return t;let n=Ga[e];if(aP(n))return YS[e]=n.bind(Ga);const r=Ga.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){NLt&&Rt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n&&(YS[e]=n.bind(Ga))}function eJ(e){YS[e]=void 0}const Dy="__sentry_xhr_v3__";function qLt(e){Sm("xhr",e),Em("xhr",KLt)}function KLt(){if(!Ga.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=1e3*Yc(),i=Gc(n[0])?n[0].toUpperCase():void 0,o=ZLt(n[1]);if(!i||!o)return e.apply(t,n);t[Dy]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[Dy];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}Ml("xhr",{endTimestamp:1e3*Yc(),startTimestamp:r,xhr:t})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[Dy];return o&&Gc(r)&&Gc(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[Dy];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return Ml("xhr",{startTimestamp:1e3*Yc(),xhr:t}),e.apply(t,n)}})}function ZLt(e){if(Gc(e))return e;try{return e.toString()}catch{}}function Hbe(e,t=YLt("fetch")){let n=0,r=0;return WFt(e,(function(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return eJ("fetch"),Y_("No fetch implementation available");try{return t(e.url,a).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return eJ("fetch"),n-=o,r--,Y_(e)}}))}const XLt=30,JLt=50;function dP(e,t,n,r){const i={filename:e,function:"<anonymous>"===t?Up:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const QLt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,e6t=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t6t=/\((\S*)(?::(\d+))(?::(\d+))\)/,n6t=e=>{const t=QLt.exec(e);if(t){const[,e,n,r]=t;return dP(e,Up,+n,+r)}const n=e6t.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=t6t.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=Gbe(n[1]||Up,n[2]);return dP(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},r6t=[30,n6t],i6t=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,a6t=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,o6t=e=>{const t=i6t.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=a6t.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Up;return[n,e]=Gbe(n,e),dP(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},s6t=[50,o6t],l6t=[r6t,s6t],Wbe=cbe(...l6t),Gbe=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Up,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},C2=1024,u6t="Breadcrumbs",c6t=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:u6t,setup(e){t.console&&cLt(h6t(e)),t.dom&&VLt(f6t(e,t.dom)),t.xhr&&qLt(p6t(e)),t.fetch&&xLt(m6t(e)),t.history&&Ube(g6t(e)),t.sentry&&e.on("beforeSendEvent",d6t(e))}}},Ybe=c6t;function d6t(e){return function(t){Li()===e&&Yp({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:af(t)},{event:t})}}function f6t(e,t){return function(n){if(Li()!==e)return;let r,i,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>C2&&(kw&&Rt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=C2),"string"==typeof o&&(o=[o]);try{const e=n.event,t=v6t(e)?e.target:e;r=pbe(t,{keyAttrs:o,maxStringLength:a}),i=QPt(t)}catch{r="<unknown>"}if(0===r.length)return;const s={category:`ui.${n.name}`,message:r};i&&(s.data={"ui.component_name":i}),Yp(s,{event:n.event,name:n.name,global:n.global})}}function h6t(e){return function(t){if(Li()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:hLt(t.level),message:_X(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${_X(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Yp(n,{input:t.args,level:t.level})}}function p6t(e){return function(t){if(Li()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[Dy];if(!n||!r||!i)return;const{method:o,url:a,status_code:s,body:l}=i,u={method:o,url:a,status_code:s},c={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};Yp({category:"xhr",data:u,type:"http",level:Lbe(s)},c)}}function m6t(e){return function(t){if(Li()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Yp({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};Yp({category:"fetch",data:i,type:"http",level:Lbe(i.status_code)},o)}}}function g6t(e){return function(t){if(Li()!==e)return;let n=t.from,r=t.to;const i=c3(dr.location.href);let o=n?c3(n):void 0;const a=c3(r);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Yp({category:"navigation",data:{from:n,to:r}})}}function v6t(e){return!!e&&!!e.target}const y6t=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],b6t="BrowserApiErrors",x6t=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:b6t,setupOnce(){t.setTimeout&&os(dr,"setTimeout",tJ),t.setInterval&&os(dr,"setInterval",tJ),t.requestAnimationFrame&&os(dr,"requestAnimationFrame",w6t),t.XMLHttpRequest&&"XMLHttpRequest"in dr&&os(XMLHttpRequest.prototype,"send",C6t);const e=t.eventTarget;e&&(Array.isArray(e)?e:y6t).forEach(S6t)}}},qbe=x6t;function tJ(e){return function(...t){const n=t[0];return t[0]=N0(n,{mechanism:{data:{function:Bf(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function w6t(e){return function(t){return e.apply(this,[N0(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Bf(e)},handled:!1,type:"instrument"}})])}}function C6t(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&os(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Bf(t)},handled:!1,type:"instrument"}},r=E7(t);return r&&(n.mechanism.data.handler=Bf(r)),N0(t,n)}))})),e.apply(this,t)}}function S6t(e){const t=dr,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(os(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=N0(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Bf(r),target:e},handled:!1,type:"instrument"}}))}catch{}return t.apply(this,[n,N0(r,{mechanism:{data:{function:"addEventListener",handler:Bf(r),target:e},handled:!1,type:"instrument"}}),i])}})),os(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch{}return e.call(this,t,i,r)}})))}const E6t="GlobalHandlers",_6t=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:E6t,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(k6t(e),nJ("onerror")),t.onunhandledrejection&&(T6t(e),nJ("onunhandledrejection"))}}},Kbe=_6t;function k6t(e){zPt((t=>{const{stackParser:n,attachStacktrace:r}=Zbe();if(Li()!==e||Bbe())return;const{msg:i,url:o,line:a,column:s,error:l}=t,u=I6t(I7(n,l||i,void 0,r,!1),o,a,s);u.level="error",kbe(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}function T6t(e){HPt((t=>{const{stackParser:n,attachStacktrace:r}=Zbe();if(Li()!==e||Bbe())return;const i=A6t(t),o=C7(i)?j6t(i):I7(n,i,void 0,r,!0);o.level="error",kbe(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}function A6t(e){if(C7(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function j6t(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function I6t(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,c=isNaN(parseInt(n,10))?void 0:n,d=Gc(t)&&t.length>0?t:JPt();return 0===l.length&&l.push({colno:u,filename:d,function:Up,in_app:!0,lineno:c}),e}function nJ(e){kw&&Rt.log(`Global Handler attached: ${e}`)}function Zbe(){const e=Li();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Xbe=()=>({name:"HttpContext",preprocessEvent(e){if(!dr.navigator&&!dr.location&&!dr.document)return;const t=e.request&&e.request.url||dr.location&&dr.location.href,{referrer:n}=dr.document||{},{userAgent:r}=dr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),D6t="cause",O6t=5,R6t="LinkedErrors",M6t=(e={})=>{const t=e.limit||5,n=e.key||D6t;return{name:R6t,preprocessEvent(e,r,i){const o=i.getOptions();lLt(A7,o.stackParser,o.maxValueLength,n,t,e,r)}}},Jbe=M6t;function $6t(e){return[Mbe(),Rbe(),qbe(),Ybe(),Kbe(),Jbe(),$be(),Xbe()]}function P6t(e={}){const t={defaultIntegrations:$6t(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:dr.SENTRY_RELEASE&&dr.SENTRY_RELEASE.id?dr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}function F6t(){const e=typeof dr.window<"u"&&dr;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=dr.location&&dr.location.href||"",i=!!n&&dr===dr.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),o=typeof e.nw<"u";return!!n&&!i&&!o}function L6t(e={}){const t=P6t(e);if(!t.skipBrowserExtensionCheck&&F6t())return void Sw((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));kw&&(Nbe()||Rt.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:BPt(t.stackParser||Wbe),integrations:IFt(t),transport:t.transport||Hbe},r=PFt(zbe,n);return t.autoSessionTracking&&N6t(),r}function N6t(){typeof dr.document>"u"?kw&&Rt.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(BX({ignoreDuration:!0}),VX(),Ube((({from:e,to:t})=>{void 0!==e&&e!==t&&(BX({ignoreDuration:!0}),VX())})))}function B6t(e){const t={...e};return Obe(t,"react"),CFt("react",{version:f.version}),L6t(t)}var wu;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(wu||(wu={}));var Z_=function(e){return e},rJ="beforeunload",V6t="popstate";function z6t(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,o=e.hash,a=r.state||{};return[a.idx,Z_({pathname:t,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(V6t,(function(){if(o)d.call(o),o=null;else{var e=wu.Pop,t=i(),n=t[0],r=t[1];if(d.length){if(null!=n){var a=l-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else g(e)}}));var a=wu.Pop,s=i(),l=s[0],u=s[1],c=X_(),d=X_();function f(e){return"string"==typeof e?e:Qbe(e)}function p(e,t){return void 0===t&&(t=null),Z_(Qc({pathname:u.pathname,hash:"",search:""},"string"==typeof e?hP(e):e,{state:t,key:fP()}))}function h(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function m(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){a=e;var t=i();l=t[0],u=t[1],c.call({action:a,location:u})}function y(e){r.go(e)}null==l&&(l=0,r.replaceState(Qc({},r.state,{idx:l}),""));var v={get action(){return a},get location(){return u},createHref:f,push:function e(t,i){var o=wu.Push,a=p(t,i);if(m(o,a,(function(){e(t,i)}))){var s=h(a,l+1),u=s[0],c=s[1];try{r.pushState(u,"",c)}catch{n.location.assign(c)}g(o)}},replace:function e(t,n){var i=wu.Replace,o=p(t,n);if(m(i,o,(function(){e(t,n)}))){var a=h(o,l),s=a[0],u=a[1];r.replaceState(s,"",u),g(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(rJ,aJ),function(){t(),d.length||n.removeEventListener(rJ,aJ)}}};return v}function U6t(e){void 0===e&&(e={});var t=e,n=t.initialEntries,r=void 0===n?["/"]:n,i=t.initialIndex,o=r.map((function(e){return Z_(Qc({pathname:"/",search:"",hash:"",state:null,key:fP()},"string"==typeof e?hP(e):e))})),a=iJ(i??o.length-1,0,o.length-1),s=wu.Pop,l=o[a],u=X_(),c=X_();function d(e,t){return void 0===t&&(t=null),Z_(Qc({pathname:l.pathname,search:"",hash:""},"string"==typeof e?hP(e):e,{state:t,key:fP()}))}function f(e,t,n){return!c.length||(c.call({action:e,location:t,retry:n}),!1)}function p(e,t){s=e,l=t,u.call({action:s,location:l})}function h(e){var t=iJ(a+e,0,o.length-1),n=wu.Pop,r=o[t];f(n,r,(function(){h(e)}))&&(a=t,p(n,r))}var m={get index(){return a},get action(){return s},get location(){return l},createHref:function(e){return"string"==typeof e?e:Qbe(e)},push:function e(t,n){var r=wu.Push,i=d(t,n);f(r,i,(function(){e(t,n)}))&&(a+=1,o.splice(a,o.length,i),p(r,i))},replace:function e(t,n){var r=wu.Replace,i=d(t,n);f(r,i,(function(){e(t,n)}))&&(o[a]=i,p(r,i))},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return u.push(e)},block:function(e){return c.push(e)}};return m}function iJ(e,t,n){return Math.min(Math.max(e,t),n)}function aJ(e){e.preventDefault(),e.returnValue=""}function X_(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function fP(){return Math.random().toString(36).substr(2,8)}function Qbe(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function hP(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var exe={exports:{}},txe={},Tw=f;function H6t(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var W6t="function"==typeof Object.is?Object.is:H6t,G6t=Tw.useSyncExternalStore,Y6t=Tw.useRef,q6t=Tw.useEffect,K6t=Tw.useMemo,Z6t=Tw.useDebugValue;txe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Y6t(null);if(null===o.current){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=K6t((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&a.hasValue){var t=a.value;if(i(t,e))return s=t}return s=e}if(t=s,W6t(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var s=G6t(e,o[0],o[1]);return q6t((function(){a.hasValue=!0,a.value=s}),[s]),Z6t(s),s},exe.exports=txe;var D7=exe.exports,X6t=dl,nxe=/[\\^$.*+?()[\]{}|]/g,J6t=RegExp(nxe.source);function Q6t(e){return(e=X6t(e))&&J6t.test(e)?e.replace(nxe,"\\$&"):e}var eNt=Q6t;const O7=Be(eNt);var J_=function(){return J_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J_.apply(this,arguments)},tNt=eRt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),nNt="";function oJ(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:iNt(t,"v1"),id:n})}function rNt(e){try{return[null,JSON.parse(e)]}catch(e){return e instanceof Error?[e]:[new Error("".concat(e))]}}function iNt(e,t){return J_(J_({},e),{apiVersion:t})}var aNt=function(e,t){void 0===t&&(t={});var n=t.token$,r=t.getNextRequestId,i=void 0===r?tNt:r,o=k6(e.pipe(ht((function(e){return Ka(e,"message")}))),(function(e){return e.data===nNt})),a=o[0],s=o[1],l=s.pipe(kt((function(e){var t=rNt(e.data),n=t[0],r=t[1];return n?(console.warn("Unable to parse message: %s",n.message),Zn):r&&r.jsonrpc?we(r):(console.warn("Received empty or non-jsonrpc message: %s",r),Zn)})),ho()),u=n?Ni([n,e]).pipe(mr((function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return n===i&&r===o})),ht((function(e){var t=e[0],n=e[1];return t?c(n,"authorization",{authorization:"Bearer ".concat(t)}).pipe(xa(1),qk(n)):we(n)})),Bi({refCount:!0,bufferSize:1})):e;function c(e,t,n){void 0===n&&(n={});var r=i();return kn(l.pipe(jt((function(e){return e.id===r})),fe((function(e){return e.result}))),Pi((function(){return e.send(oJ(t,n,r)),Zn})))}return{heartbeats:kn(u,a,s).pipe(fe((function(){return new Date}))),listen:function(e,t){return function(e,t){return u.pipe(xa(1),kt((function(n){return c(n,"".concat(e,"_subscribe"),t).pipe(xa(1),kt((function(t){return l.pipe(jt((function(n){return n.method==="".concat(e,"_subscription")&&n.params.subscription===t})),fe((function(e){return e.params.result})),Kk((function(){n.readyState!==n.CLOSED&&n.readyState!==n.CLOSING&&n.send(oJ("".concat(e,"_unsubscribe"),{subscriptionId:t},i()))})))})))})))}(e,t)},request:function(e,t){return function(e,t){return u.pipe(xa(1),kt((function(n){return c(n,e,t).pipe(xa(1))})))}(e,t)}}},oNt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sJ=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.type=n,o.code=r,o.reason=i,o}return oNt(t,e),t}(Error);function sNt(e){return function(t){return new It((function(n){var r=e(t),i=!1;return r.onopen=function(){n.next(r)},r.onclose=function(e){i?n.complete():n.error(new sJ("WebSocket connection error","CONNECTION_CLOSED",e.code,e.reason))},r.onerror=function(){n.error(new sJ("WebSocket connection error","CONNECTION_ERROR"))},function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}}))}}var lJ,lNt=function(e,t){return function(n){return SJe(n,ri(e).pipe(kt((function(){return t}))))}};!function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"}(lJ||(lJ={}));var uNt=function(e){return e};function cNt(e,t){void 0===t&&(t={});var n=t.timeout,r=t.token$,i=sNt((function(e,t){return new window.WebSocket(e,t)}));return aNt(i(e).pipe(n?lNt(n,Rf((function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))}))):uNt,Bi({refCount:!0}),j6(Ka(window,"beforeunload"))),{token$:r})}const dNt=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("path",{d:"M32 0L0 32H32V0Z",fill:et.magenta[400].hex}),u.jsx("path",{d:"M32 32H0L32 64V32Z",fill:et.green[300].hex}),u.jsx("path",{d:"M64 32H32V64L64 32Z",fill:et.purple[300].hex}),u.jsx("path",{d:"M112 0L80 32H112V0Z",fill:et.green[300].hex}),u.jsx("path",{d:"M112 0H80V32L112 0Z",fill:et.purple[300].hex}),u.jsx("path",{d:"M112 32H80L112 64V32Z",fill:et.yellow[200].hex}),u.jsx("path",{d:"M144 64L112 32V64H144Z",fill:et.blue[300].hex}),u.jsx("path",{d:"M80 32V64H112L80 32Z",fill:et.orange[400].hex}),u.jsx("path",{d:"M112 0V32H144L112 0Z",fill:et.magenta[400].hex}),u.jsx("path",{d:"M192 0L160 32H192V0Z",fill:et.yellow[200].hex}),u.jsx("path",{d:"M192 32H160L192 64V32Z",fill:et.orange[400].hex}),u.jsx("path",{d:"M224 32H192V64L224 32Z",fill:et.green[300].hex}),u.jsx("path",{d:"M192 0V32H224L192 0Z",fill:et.blue[300].hex}),u.jsx("path",{d:"M272 0L240 32H272V0Z",fill:et.purple[300].hex}),u.jsx("path",{d:"M304 32L272 64H304V32Z",fill:et.magenta[400].hex}),u.jsx("path",{d:"M272 32H240L272 64V32Z",fill:et.blue[300].hex}),u.jsx("path",{d:"M304 32H272V64L304 32Z",fill:et.yellow[200].hex}),u.jsx("path",{d:"M272 0V32H304L272 0Z",fill:et.green[300].hex})]})}));dNt.displayName="ForwardRef(GroqLogo)";const fNt=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:et.green[950].hex}),u.jsx("rect",{y:"32",width:"64",height:"64",fill:et.green[800].hex}),u.jsx("path",{d:"M64 32L32 64H64V32Z",fill:et.magenta[400].hex}),u.jsx("path",{d:"M64 64H32L64 96V64Z",fill:et.green[300].hex}),u.jsx("path",{d:"M96 64H64V96L96 64Z",fill:et.purple[300].hex})]})}));fNt.displayName="ForwardRef(GroqMonogram)";const hNt={light:[et.red[200].hex,et.red[300].hex,et.red[500].hex],dark:[et.gray[500].hex,et.gray[300].hex,Lc.hex]},rxe=f.forwardRef((function(e,t){const{dark:n,...r}=e,i=hNt[n?"dark":"light"];return u.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),u.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),u.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),u.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),u.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),u.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),u.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),u.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),u.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),u.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),u.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),u.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),u.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),u.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),u.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),u.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}));rxe.displayName="ForwardRef(SanityLogo)";const pNt={bg1:et.red[500].hex,bg2:et.red[200].hex,fg:Lc.hex},ixe=f.forwardRef((function(e,t){const{color:n=pNt,...r}=e;return u.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:n.bg1}),u.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:n.fg}),u.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:n.bg2}),u.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:n.bg2})]})}));ixe.displayName="ForwardRef(SanityMonogram)";var pP={exports:{}};const mNt="2.0.0",axe=256,gNt=Number.MAX_SAFE_INTEGER||9007199254740991,vNt=16,yNt=250,bNt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var lA={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:gNt,RELEASE_TYPES:bNt,SEMVER_SPEC_VERSION:mNt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},f3={};const xNt="object"==typeof process&&f3&&f3.NODE_DEBUG&&/\bsemver\b/i.test(f3.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var uA=xNt;!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=lA,o=uA,a=(t=e.exports={}).re=[],s=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],p=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=c++;o(e,i,t),u[e]=i,l[i]=t,a[i]=new RegExp(t,n?"g":void 0),s[i]=new RegExp(r,n?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(pP,pP.exports);var Aw=pP.exports;const wNt=Object.freeze({loose:!0}),CNt=Object.freeze({}),SNt=e=>e?"object"!=typeof e?wNt:e:CNt;var R7=SNt;const uJ=/^[0-9]+$/,oxe=(e,t)=>{const n=uJ.test(e),r=uJ.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},ENt=(e,t)=>oxe(t,e);var sxe={compareIdentifiers:oxe,rcompareIdentifiers:ENt};const S2=uA,{MAX_LENGTH:cJ,MAX_SAFE_INTEGER:E2}=lA,{safeRe:dJ,t:fJ}=Aw,_Nt=R7,{compareIdentifiers:ig}=sxe;let kNt=class e{constructor(t,n){if(n=_Nt(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>cJ)throw new TypeError(`version is longer than ${cJ} characters`);S2("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?dJ[fJ.LOOSE]:dJ[fJ.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>E2||this.major<0)throw new TypeError("Invalid major version");if(this.minor>E2||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>E2||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<E2)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(S2("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),ig(this.major,t.major)||ig(this.minor,t.minor)||ig(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const e=this.prerelease[n],r=t.prerelease[n];if(S2("prerelease compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return ig(e,r)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{const e=this.build[n],r=t.build[n];if(S2("build compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return ig(e,r)}while(++n)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===ig(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Eo=kNt;const hJ=Eo,TNt=(e,t,n=!1)=>{if(e instanceof hJ)return e;try{return new hJ(e,t)}catch(e){if(!n)return null;throw e}};var q1=TNt;const ANt=q1,jNt=(e,t)=>{const n=ANt(e,t);return n?n.version:null};var INt=jNt;const DNt=q1,ONt=(e,t)=>{const n=DNt(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var RNt=ONt;const pJ=Eo,MNt=(e,t,n,r,i)=>{"string"==typeof n&&(i=r,r=n,n=void 0);try{return new pJ(e instanceof pJ?e.version:e,n).inc(t,r,i).version}catch{return null}};var $Nt=MNt;const mJ=q1,PNt=(e,t)=>{const n=mJ(e,null,!0),r=mJ(t,null,!0),i=n.compare(r);if(0===i)return null;const o=i>0,a=o?n:r,s=o?r:n,l=!!a.prerelease.length;if(s.prerelease.length&&!l)return s.patch||s.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};var FNt=PNt;const LNt=Eo,NNt=(e,t)=>new LNt(e,t).major;var BNt=NNt;const VNt=Eo,zNt=(e,t)=>new VNt(e,t).minor;var UNt=zNt;const HNt=Eo,WNt=(e,t)=>new HNt(e,t).patch;var GNt=WNt;const YNt=q1,qNt=(e,t)=>{const n=YNt(e,t);return n&&n.prerelease.length?n.prerelease:null};var KNt=qNt;const gJ=Eo,ZNt=(e,t,n)=>new gJ(e,n).compare(new gJ(t,n));var Kl=ZNt;const XNt=Kl,JNt=(e,t,n)=>XNt(t,e,n);var QNt=JNt;const e8t=Kl,t8t=(e,t)=>e8t(e,t,!0);var n8t=t8t;const vJ=Eo,r8t=(e,t,n)=>{const r=new vJ(e,n),i=new vJ(t,n);return r.compare(i)||r.compareBuild(i)};var M7=r8t;const i8t=M7,a8t=(e,t)=>e.sort(((e,n)=>i8t(e,n,t)));var o8t=a8t;const s8t=M7,l8t=(e,t)=>e.sort(((e,n)=>s8t(n,e,t)));var u8t=l8t;const c8t=Kl,d8t=(e,t,n)=>c8t(e,t,n)>0;var cA=d8t;const f8t=Kl,h8t=(e,t,n)=>f8t(e,t,n)<0;var $7=h8t;const p8t=Kl,m8t=(e,t,n)=>0===p8t(e,t,n);var lxe=m8t;const g8t=Kl,v8t=(e,t,n)=>0!==g8t(e,t,n);var uxe=v8t;const y8t=Kl,b8t=(e,t,n)=>y8t(e,t,n)>=0;var P7=b8t;const x8t=Kl,w8t=(e,t,n)=>x8t(e,t,n)<=0;var F7=w8t;const C8t=lxe,S8t=uxe,E8t=cA,_8t=P7,k8t=$7,T8t=F7,A8t=(e,t,n,r)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return C8t(e,n,r);case"!=":return S8t(e,n,r);case">":return E8t(e,n,r);case">=":return _8t(e,n,r);case"<":return k8t(e,n,r);case"<=":return T8t(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var cxe=A8t;const j8t=Eo,I8t=q1,{safeRe:_2,t:k2}=Aw,D8t=(e,t)=>{if(e instanceof j8t)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?_2[k2.COERCERTLFULL]:_2[k2.COERCERTL];let i;for(;(i=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||i.index+i[0].length!==n.index+n[0].length)&&(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?_2[k2.COERCEFULL]:_2[k2.COERCE]);if(null===n)return null;const r=n[2],i=n[3]||"0",o=n[4]||"0",a=t.includePrerelease&&n[5]?`-${n[5]}`:"",s=t.includePrerelease&&n[6]?`+${n[6]}`:"";return I8t(`${r}.${i}.${o}${a}${s}`,t)};var O8t=D8t;class R8t{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}var h3,yJ,p3,bJ,M8t=R8t;function Zl(){if(yJ)return h3;yJ=1;const e=/\s+/g;class t{constructor(n,o){if(o=r(o),n instanceof t)return n.loose===!!o.loose&&n.includePrerelease===!!o.includePrerelease?n:new t(n.raw,o);if(n instanceof i)return this.raw=n.value,this.set=[[n]],this.formatted=void 0,this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=n.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!h(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&p))+":"+e,r=n.get(t);if(r)return r;const a=this.options.loose,m=a?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];e=e.replace(m,_(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(s[l.COMPARATORTRIM],u),o("comparator trim",e),e=e.replace(s[l.TILDETRIM],c),o("tilde trim",e),e=e.replace(s[l.CARETTRIM],d),o("caret trim",e);let g=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>E(e,this.options)));a&&(g=g.filter((e=>(o("loose invalid filter",e,this.options),!!e.match(s[l.COMPARATORLOOSE]))))),o("range list",g);const v=new Map,b=g.map((e=>new i(e,this.options)));for(const e of b){if(h(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const x=[...v.values()];return n.set(t,x),x}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>g(t,n)&&e.set.some((e=>g(e,n)&&t.every((t=>e.every((e=>t.intersects(e,n)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new a(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}h3=t;const n=new M8t,r=R7,i=dA(),o=uA,a=Eo,{safeRe:s,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:d}=Aw,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:p}=lA,h=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},y=(e,t)=>(o("comp",e,t),e=w(e,t),o("caret",e),e=b(e,t),o("tildes",e),e=k(e,t),o("xrange",e),e=S(e,t),o("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{const n=t.loose?s[l.TILDELOOSE]:s[l.TILDE];return e.replace(n,((t,n,r,i,a)=>{let s;return o("tilde",e,t,n,r,i,a),v(n)?s="":v(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:a?(o("replaceTilde pr",a),s=`>=${n}.${r}.${i}-${a} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,o("tilde return",s),s}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{o("caret",e,t);const n=t.loose?s[l.CARETLOOSE]:s[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,a,s)=>{let l;return o("caret",e,t,n,i,a,s),v(n)?l="":v(i)?l=`>=${n}.0.0${r} <${+n+1}.0.0-0`:v(a)?l="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(o("replaceCaret pr",s),l="0"===n?"0"===i?`>=${n}.${i}.${a}-${s} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a}-${s} <${+n+1}.0.0-0`):(o("no pr"),l="0"===n?"0"===i?`>=${n}.${i}.${a}${r} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a} <${+n+1}.0.0-0`),o("caret return",l),l}))},k=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map((e=>j(e,t))).join(" ")),j=(e,t)=>{e=e.trim();const n=t.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return e.replace(n,((n,r,i,a,s,l)=>{o("xRange",e,n,r,i,a,s,l);const u=v(i),c=u||v(a),d=c||v(s),f=d;return"="===r&&f&&(r=""),l=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(c&&(a=0),s=0,">"===r?(r=">=",c?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===r&&(r="<",c?i=+i+1:a=+a+1),"<"===r&&(l="-0"),n=`${r+i}.${a}.${s}${l}`):c?n=`>=${i}.0.0${l} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${l} <${i}.${+a+1}.0-0`),o("xRange return",n),n}))},S=(e,t)=>(o("replaceStars",e,t),e.trim().replace(s[l.STAR],"")),E=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(s[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),_=e=>(t,n,r,i,o,a,s,l,u,c,d,f)=>`${n=v(r)?"":v(i)?`>=${r}.0.0${e?"-0":""}`:v(o)?`>=${r}.${i}.0${e?"-0":""}`:a?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=v(u)?"":v(c)?`<${+u+1}.0.0-0`:v(d)?`<${u}.${+c+1}.0-0`:f?`<=${u}.${c}.${d}-${f}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`}`.trim(),A=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(o(e[n].semver),e[n].semver!==i.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0};return h3}function dA(){if(bJ)return p3;bJ=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(r,i){if(i=n(i),r instanceof t){if(r.loose===!!i.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),a("comparator",r,i),this.options=i,this.loose=!!i.loose,this.parse(r),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(t){const n=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],o=t.match(n);if(!o)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new s(o[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(a("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new s(t,this.options)}catch{return!1}return o(t,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(e.value,r).test(this.value):""===e.operator?""===e.value||new l(this.value,r).test(e.semver):!((r=n(r)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||o(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||o(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}p3=t;const n=R7,{safeRe:r,t:i}=Aw,o=cxe,a=uA,s=Eo,l=Zl();return p3}const $8t=Zl(),P8t=(e,t,n)=>{try{t=new $8t(t,n)}catch{return!1}return t.test(e)};var fA=P8t;const F8t=Zl(),L8t=(e,t)=>new F8t(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var N8t=L8t;const B8t=Eo,V8t=Zl(),z8t=(e,t,n)=>{let r=null,i=null,o=null;try{o=new V8t(t,n)}catch{return null}return e.forEach((e=>{o.test(e)&&(!r||-1===i.compare(e))&&(r=e,i=new B8t(r,n))})),r};var U8t=z8t;const H8t=Eo,W8t=Zl(),G8t=(e,t,n)=>{let r=null,i=null,o=null;try{o=new W8t(t,n)}catch{return null}return e.forEach((e=>{o.test(e)&&(!r||1===i.compare(e))&&(r=e,i=new H8t(r,n))})),r};var Y8t=G8t;const m3=Eo,q8t=Zl(),xJ=cA,K8t=(e,t)=>{e=new q8t(e,t);let n=new m3("0.0.0");if(e.test(n)||(n=new m3("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let i=null;r.forEach((e=>{const t=new m3(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!i||xJ(t,i))&&(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),i&&(!n||xJ(n,i))&&(n=i)}return n&&e.test(n)?n:null};var Z8t=K8t;const X8t=Zl(),J8t=(e,t)=>{try{return new X8t(e,t).range||"*"}catch{return null}};var Q8t=J8t;const e7t=Eo,dxe=dA(),{ANY:t7t}=dxe,n7t=Zl(),r7t=fA,wJ=cA,CJ=$7,i7t=F7,a7t=P7,o7t=(e,t,n,r)=>{let i,o,a,s,l;switch(e=new e7t(e,r),t=new n7t(t,r),n){case">":i=wJ,o=i7t,a=CJ,s=">",l=">=";break;case"<":i=CJ,o=a7t,a=wJ,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(r7t(e,t,r))return!1;for(let n=0;n<t.set.length;++n){const u=t.set[n];let c=null,d=null;if(u.forEach((e=>{e.semver===t7t&&(e=new dxe(">=0.0.0")),c=c||e,d=d||e,i(e.semver,c.semver,r)?c=e:a(e.semver,d.semver,r)&&(d=e)})),c.operator===s||c.operator===l||(!d.operator||d.operator===s)&&o(e,d.semver))return!1;if(d.operator===l&&a(e,d.semver))return!1}return!0};var L7=o7t;const s7t=L7,l7t=(e,t,n)=>s7t(e,t,">",n);var u7t=l7t;const c7t=L7,d7t=(e,t,n)=>c7t(e,t,"<",n);var f7t=d7t;const SJ=Zl(),h7t=(e,t,n)=>(e=new SJ(e,n),t=new SJ(t,n),e.intersects(t,n));var p7t=h7t;const m7t=fA,g7t=Kl;var v7t=(e,t,n)=>{const r=[];let i=null,o=null;const a=e.sort(((e,t)=>g7t(e,t,n)));for(const e of a)m7t(e,t,n)?(o=e,i||(i=e)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);const s=[];for(const[e,t]of r)e===t?s.push(e):t||e!==a[0]?t?e===a[0]?s.push(`<=${t}`):s.push(`${e} - ${t}`):s.push(`>=${e}`):s.push("*");const l=s.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return l.length<u.length?l:t};const EJ=Zl(),N7=dA(),{ANY:g3}=N7,Wv=fA,B7=Kl,y7t=(e,t,n={})=>{if(e===t)return!0;e=new EJ(e,n),t=new EJ(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=x7t(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0},b7t=[new N7(">=0.0.0-0")],_J=[new N7(">=0.0.0")],x7t=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===g3){if(1===t.length&&t[0].semver===g3)return!0;e=n.includePrerelease?b7t:_J}if(1===t.length&&t[0].semver===g3){if(n.includePrerelease)return!0;t=_J}const r=new Set;let i,o,a;for(const t of e)">"===t.operator||">="===t.operator?i=kJ(i,t,n):"<"===t.operator||"<="===t.operator?o=TJ(o,t,n):r.add(t.semver);if(r.size>1)return null;if(i&&o){if(a=B7(i.semver,o.semver,n),a>0)return null;if(0===a&&(">="!==i.operator||"<="!==o.operator))return null}for(const e of r){if(i&&!Wv(e,String(i),n)||o&&!Wv(e,String(o),n))return null;for(const r of t)if(!Wv(e,String(r),n))return!1;return!0}let s,l,u,c,d=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver,f=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;d&&1===d.prerelease.length&&"<"===o.operator&&0===d.prerelease[0]&&(d=!1);for(const e of t){if(c=c||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,i)if(f&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===f.major&&e.semver.minor===f.minor&&e.semver.patch===f.patch&&(f=!1),">"===e.operator||">="===e.operator){if(s=kJ(i,e,n),s===e&&s!==i)return!1}else if(">="===i.operator&&!Wv(i.semver,String(e),n))return!1;if(o)if(d&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===d.major&&e.semver.minor===d.minor&&e.semver.patch===d.patch&&(d=!1),"<"===e.operator||"<="===e.operator){if(l=TJ(o,e,n),l===e&&l!==o)return!1}else if("<="===o.operator&&!Wv(o.semver,String(e),n))return!1;if(!e.operator&&(o||i)&&0!==a)return!1}return!(i&&u&&!o&&0!==a||o&&c&&!i&&0!==a||f||d)},kJ=(e,t,n)=>{if(!e)return t;const r=B7(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},TJ=(e,t,n)=>{if(!e)return t;const r=B7(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};var w7t=y7t;const v3=Aw,AJ=lA,C7t=Eo,jJ=sxe,S7t=q1,E7t=INt,_7t=RNt,k7t=$Nt,T7t=FNt,A7t=BNt,j7t=UNt,I7t=GNt,D7t=KNt,O7t=Kl,R7t=QNt,M7t=n8t,$7t=M7,P7t=o8t,F7t=u8t,L7t=cA,N7t=$7,B7t=lxe,V7t=uxe,z7t=P7,U7t=F7,H7t=cxe,W7t=O8t,G7t=dA(),Y7t=Zl(),q7t=fA,K7t=N8t,Z7t=U8t,X7t=Y8t,J7t=Z8t,Q7t=Q8t,e9t=L7,t9t=u7t,n9t=f7t,r9t=p7t,i9t=v7t,a9t=w7t;var o9t={parse:S7t,valid:E7t,clean:_7t,inc:k7t,diff:T7t,major:A7t,minor:j7t,patch:I7t,prerelease:D7t,compare:O7t,rcompare:R7t,compareLoose:M7t,compareBuild:$7t,sort:P7t,rsort:F7t,gt:L7t,lt:N7t,eq:B7t,neq:V7t,gte:z7t,lte:U7t,cmp:H7t,coerce:W7t,Comparator:G7t,Range:Y7t,satisfies:q7t,toComparators:K7t,maxSatisfying:Z7t,minSatisfying:X7t,minVersion:J7t,validRange:Q7t,outside:e9t,gtr:t9t,ltr:n9t,intersects:r9t,simplifyRange:i9t,subset:a9t,SemVer:C7t,re:v3.re,src:v3.src,tokens:v3.t,SEMVER_SPEC_VERSION:AJ.SEMVER_SPEC_VERSION,RELEASE_TYPES:AJ.RELEASE_TYPES,compareIdentifiers:jJ.compareIdentifiers,rcompareIdentifiers:jJ.rcompareIdentifiers};const s9t=Be(o9t);var l9t=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),u9t=(()=>{try{return!(!l9t||!import.meta.webpackHot)}catch{return!1}})();function fxe(e){if(u9t)return typeof import.meta.webpackHot>"u"?d9t(e):c9t(e)}function c9t(e){f.useEffect((()=>{if(import.meta.webpackHot){const t=t=>"idle"===t?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var e;return null==(e=import.meta.webpackHot)?void 0:e.removeStatusHandler(t)}}}),[e])}function d9t(e){f.useEffect((()=>{}),[e])}function f9t(e){f.useEffect((()=>iIt(e.flush)),[e.flush]),f.useEffect((()=>rIt(e.endWithBeacon)),[e.endWithBeacon])}const hxe=f.createContext(oIt);function h9t(e){let{children:t,store:n}=e;return f9t(n),u.jsx(hxe.Provider,{value:n.logger,children:t})}function Ss(){return f.useContext(hxe)}var p9t=fm,m9t=zk;function g9t(e){return p9t((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&m9t(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}var pxe=g9t,v9t=pm,y9t=pxe,b9t=eT,x9t=y9t((function(e,t,n,r){v9t(t,b9t(t),e,r)})),w9t=x9t,C9t=vd,S9t=bs,E9t=tN,_9t="[object DOMException]",k9t="[object Error]";function T9t(e){if(!S9t(e))return!1;var t=C9t(e);return t==k9t||t==_9t||"string"==typeof e.message&&"string"==typeof e.name&&!E9t(e)}var mxe=T9t,A9t=Tfe,j9t=fm,I9t=mxe,D9t=j9t((function(e,t){try{return A9t(e,void 0,t)}catch(e){return I9t(e)?e:new Error(e)}})),O9t=D9t,R9t=Gx,gxe=Object.prototype,M9t=gxe.hasOwnProperty;function $9t(e,t,n,r){return void 0===e||R9t(e,gxe[n])&&!M9t.call(r,n)?t:e}var P9t=$9t,F9t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function L9t(e){return"\\"+F9t[e]}var N9t=L9t,B9t=/<%=([\s\S]+?)%>/g,vxe=B9t,V9t=B1e,z9t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},U9t=V9t(z9t),H9t=U9t,W9t=H9t,G9t=dl,yxe=/[&<>"']/g,Y9t=RegExp(yxe.source);function q9t(e){return(e=G9t(e))&&Y9t.test(e)?e.replace(yxe,W9t):e}var K9t=q9t,Z9t=/<%-([\s\S]+?)%>/g,X9t=Z9t,J9t=/<%([\s\S]+?)%>/g,Q9t=J9t,eBt=K9t,tBt=X9t,nBt=Q9t,rBt=vxe,iBt={escape:tBt,evaluate:nBt,interpolate:rBt,variable:"",imports:{_:{escape:eBt}}},aBt=iBt,IJ=w9t,oBt=O9t,sBt=nye,DJ=P9t,lBt=N9t,uBt=mxe,cBt=zk,dBt=Ed,fBt=vxe,OJ=aBt,hBt=dl,pBt="Invalid `variable` option passed into `_.template`",mBt=/\b__p \+= '';/g,gBt=/\b(__p \+=) '' \+/g,vBt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yBt=/[()=,{}\[\]\/\s]/,bBt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T2=/($^)/,xBt=/['\n\r\u2028\u2029\\]/g,wBt=Object.prototype,RJ=wBt.hasOwnProperty;function CBt(e,t,n){var r=OJ.imports._.templateSettings||OJ;n&&cBt(e,t,n)&&(t=void 0),e=hBt(e),t=IJ({},t,r,DJ);var i,o,a=IJ({},t.imports,r.imports,DJ),s=dBt(a),l=sBt(a,s),u=0,c=t.interpolate||T2,d="__p += '",f=RegExp((t.escape||T2).source+"|"+c.source+"|"+(c===fBt?bBt:T2).source+"|"+(t.evaluate||T2).source+"|$","g"),p=RJ.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(u,l).replace(xBt,lBt),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var h=RJ.call(t,"variable")&&t.variable;if(h){if(yBt.test(h))throw new Error(pBt)}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(mBt,""):d).replace(gBt,"$1").replace(vBt,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=oBt((function(){return Function(s,p+"return "+d).apply(void 0,l)}));if(m.source=d,uBt(m))throw m;return m}var SBt=CBt;const B0=Be(SBt);var EBt=pm,_Bt=pxe,kBt=Ed,TBt=_Bt((function(e,t,n,r){EBt(t,kBt(t),e,r)})),ABt=TBt;const jBt=Be(ABt);var IBt=1/0,DBt="[object Symbol]",OBt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,RBt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hA="\\ud800-\\udfff",bxe="\\u0300-\\u036f\\ufe20-\\ufe23",xxe="\\u20d0-\\u20f0",wxe="\\u2700-\\u27bf",Cxe="a-z\\xdf-\\xf6\\xf8-\\xff",MBt="\\xac\\xb1\\xd7\\xf7",$Bt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",PBt="\\u2000-\\u206f",FBt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sxe="A-Z\\xc0-\\xd6\\xd8-\\xde",Exe="\\ufe0e\\ufe0f",_xe=MBt+$Bt+PBt+FBt,V7="[']",LBt="["+hA+"]",MJ="["+_xe+"]",Q_="["+bxe+xxe+"]",kxe="\\d+",NBt="["+wxe+"]",Txe="["+Cxe+"]",Axe="[^"+hA+_xe+kxe+wxe+Cxe+Sxe+"]",mP="\\ud83c[\\udffb-\\udfff]",BBt="(?:"+Q_+"|"+mP+")",jxe="[^"+hA+"]",z7="(?:\\ud83c[\\udde6-\\uddff]){2}",U7="[\\ud800-\\udbff][\\udc00-\\udfff]",vg="["+Sxe+"]",Ixe="\\u200d",$J="(?:"+Txe+"|"+Axe+")",VBt="(?:"+vg+"|"+Axe+")",PJ="(?:"+V7+"(?:d|ll|m|re|s|t|ve))?",FJ="(?:"+V7+"(?:D|LL|M|RE|S|T|VE))?",Dxe=BBt+"?",Oxe="["+Exe+"]?",zBt="(?:"+Ixe+"(?:"+[jxe,z7,U7].join("|")+")"+Oxe+Dxe+")*",Rxe=Oxe+Dxe+zBt,UBt="(?:"+[NBt,z7,U7].join("|")+")"+Rxe,HBt="(?:"+[jxe+Q_+"?",Q_,z7,U7,LBt].join("|")+")",WBt=RegExp(V7,"g"),GBt=RegExp(Q_,"g"),YBt=RegExp(mP+"(?="+mP+")|"+HBt+Rxe,"g"),qBt=RegExp([vg+"?"+Txe+"+"+PJ+"(?="+[MJ,vg,"$"].join("|")+")",VBt+"+"+FJ+"(?="+[MJ,vg+$J,"$"].join("|")+")",vg+"?"+$J+"+"+PJ,vg+"+"+FJ,kxe,UBt].join("|"),"g"),KBt=RegExp("["+Ixe+hA+bxe+xxe+Exe+"]"),ZBt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,XBt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},JBt="object"==typeof Xi&&Xi&&Xi.Object===Object&&Xi,QBt="object"==typeof self&&self&&self.Object===Object&&self,eVt=JBt||QBt||Function("return this")();function tVt(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;)n=t(n,e[i],i,e);return n}function nVt(e){return e.split("")}function rVt(e){return e.match(OBt)||[]}function iVt(e){return function(t){return e?.[t]}}var aVt=iVt(XBt);function Mxe(e){return KBt.test(e)}function oVt(e){return ZBt.test(e)}function sVt(e){return Mxe(e)?lVt(e):nVt(e)}function lVt(e){return e.match(YBt)||[]}function uVt(e){return e.match(qBt)||[]}var cVt=Object.prototype,dVt=cVt.toString,LJ=eVt.Symbol,NJ=LJ?LJ.prototype:void 0,BJ=NJ?NJ.toString:void 0;function fVt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function hVt(e){if("string"==typeof e)return e;if(yVt(e))return BJ?BJ.call(e):"";var t=e+"";return"0"==t&&1/e==-IBt?"-0":t}function pVt(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:fVt(e,t,n)}function mVt(e){return function(t){var n=Mxe(t=H7(t))?sVt(t):void 0,r=n?n[0]:t.charAt(0),i=n?pVt(n,1).join(""):t.slice(1);return r[e]()+i}}function gVt(e){return function(t){return tVt(CVt(bVt(t).replace(WBt,"")),e,"")}}function vVt(e){return!!e&&"object"==typeof e}function yVt(e){return"symbol"==typeof e||vVt(e)&&dVt.call(e)==DBt}function H7(e){return null==e?"":hVt(e)}function bVt(e){return(e=H7(e))&&e.replace(RBt,aVt).replace(GBt,"")}var xVt=gVt((function(e,t,n){return e+(n?" ":"")+wVt(t)})),wVt=mVt("toUpperCase");function CVt(e,t,n){return e=H7(e),void 0===t?oVt(e)?uVt(e):rVt(e):e.match(t)||[]}var SVt=xVt;const VJ=Be(SVt);function zJ(e){var t,n,r,i;const o=$xe(e)&&1===(null!=(t=e.to)?t:[]).length?e.to[0].icon:void 0;return null!=(i=null!=(r=e.icon)?r:null==(n=e.type)?void 0:n.icon)?i:o}function $xe(e){return EVt(e)&&("reference"===e.name||$xe(e.type))}function EVt(e){return!!e&&("object"==typeof e||"function"==typeof e)}function _Vt(e,t){return{query:"change query"===t.type?t.query:e.query,groups:"select group"===t.type?e.groups.map((e=>({...e,selected:t.name===e.name}))):e.groups,views:"toggle view"===t.type?e.views.map((e=>({...e,selected:t.name===e.name}))):e.views}}const Pxe="all-items",kVt={gridTemplateColumns:"repeat(auto-fill, minmax(118px, 1fr))"};function TVt(e){var t;const n=void 0===e.showIcons||e.showIcons,r=void 0===e.filter||"auto"===e.filter?e.schemaTypes.length>5:e.filter,[i,o]=f.useReducer(_Vt,{query:"",groups:e.groups?[{name:Pxe,title:e.labels["insert-menu.filter.all-items"],selected:!0},...e.groups.map((e=>({...e,selected:!1})))]:[],views:(null!=(t=e.views)?t:[{name:"list"}]).map(((e,t)=>({...e,selected:0===t})))}),a=OVt(e.schemaTypes,i.query,i.groups),s=i.views.find((e=>e.selected)),l=r||i.views.length>1,c=i.groups&&i.groups.length>0;return u.jsx(At,{padding:0,children:u.jsxs(U,{direction:"column",height:"fill",children:[u.jsxs(N,{...l||c?{style:{borderBottom:"1px solid var(--card-border-color)"},paddingBottom:1}:{},children:[l?u.jsxs(U,{flex:"none",align:"center",paddingTop:1,paddingX:1,gap:1,children:[r?u.jsx(N,{flex:1,children:u.jsx(Vr,{autoFocus:!0,border:!1,fontSize:1,icon:ea,onChange:e=>{o({type:"change query",query:e.target.value})},placeholder:e.labels["insert-menu.search.placeholder"],value:i.query})}):null,i.views.length>1?u.jsx(N,{flex:"none",children:u.jsx(IVt,{views:i.views,onToggle:e=>{o({type:"toggle view",name:e})},labels:e.labels})}):null]}):null,c?u.jsx(N,{paddingTop:1,paddingX:1,children:u.jsx(b1,{space:1,children:i.groups.map((e=>{var t;return u.jsx(n6,{id:`${e.name}-tab`,"aria-controls":`${e.name}-panel`,label:null!=(t=e.title)?t:VJ(e.name),selected:e.selected,onClick:()=>{o({type:"select group",name:e.name})}},e.name)}))})}):null]}),u.jsx(N,{padding:1,children:0===a.length?u.jsx(N,{padding:2,children:u.jsx(L,{muted:!0,size:1,children:e.labels["insert-menu.search.no-results"]})}):s?"grid"===s.name?u.jsx(Rn,{autoRows:"auto",flex:1,gap:1,style:kVt,children:a.map((t=>{var r;return u.jsx(DVt,{icon:n?zJ(t):void 0,onClick:()=>{e.onSelect(t)},previewImageUrl:null==(r=s.previewImageUrl)?void 0:r.call(s,t.name),schemaType:t},t.name)}))}):u.jsx(ne,{flex:1,space:1,children:a.map((t=>{var r;return u.jsx(lm,{icon:n?zJ(t):void 0,onClick:()=>{e.onSelect(t)},text:null!=(r=t.title)?r:VJ(t.name)},t.name)}))}):null})]})})}const AVt={grid:WF,list:Qh},jVt={grid:"insert-menu.toggle-grid-view.tooltip",list:"insert-menu.toggle-list-view.tooltip"};function IVt(e){var t;const n=e.views.findIndex((e=>e.selected)),r=null!=(t=e.views[n+1])?t:e.views[0];return u.jsx(DE,{content:u.jsx(L,{size:1,children:e.labels[jVt[r.name]]}),placeholder:"top",portal:!0,children:u.jsx(wt,{mode:"bleed",icon:AVt[r.name],onClick:()=>{e.onToggle(r.name)}})})}function DVt(e){var t;const[n,r]=f.useState(!1);return u.jsx(lm,{padding:0,radius:2,onClick:e.onClick,style:{overflow:"hidden"},children:u.jsxs(U,{direction:"column",gap:1,padding:1,children:[u.jsxs(N,{flex:"none",style:{backgroundColor:"var(--card-muted-bg-color)",paddingBottom:"66.6%",position:"relative"},children:[ta.isValidElementType(e.icon)?u.jsx(U,{align:"center",justify:"center",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:u.jsx(L,{size:1,children:f.createElement(e.icon)})}):null,!e.previewImageUrl||n?null:u.jsx("img",{src:e.previewImageUrl,style:{objectFit:"contain",width:"100%",height:"100%",position:"absolute",inset:0},onError:()=>{r(!0)}}),u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0 0 0 0.5px var(--card-fg-color)",opacity:.1}})]}),u.jsx(N,{flex:1,padding:2,children:u.jsx(L,{size:1,weight:"medium",children:null!=(t=e.schemaType.title)?t:e.schemaType.name})})]})})}function OVt(e,t,n){return e.filter((e=>MVt(e,n)&&RVt(e,t)))}function RVt(e,t){var n;const r=t.trim().toLowerCase();return e.title?null==(n=e.title)?void 0:n.toLowerCase().includes(r):e.name.includes(r)}function MVt(e,t){var n;const r=t.find((e=>e.selected));return!r||(r.name===Pxe||(null==(n=r.of)?void 0:n.includes(e.name)))}const $Vt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class Fxe{constructor(e,t,n){this.model=e,this.root=t,this.patch=n,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let e=this.read(),t=$Vt[e];if(!t)throw new Error(`Unknown opcode: ${e}`);this[`process${t}`].apply(this)}let e=this.outputStack.pop();return this.finalizeOutput(e)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(e,t){return e.keys||(e.keys=this.model.objectGetKeys(e.value).sort()),e.keys[t]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyArray(e.value)),e.writeValue}outputObject(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyObject(e.value)),e.writeValue}outputString(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyString(e.value)),e.writeValue}finalizeOutput(e){return e.writeValue?this.model.finalize(e.writeValue):e.value}processValue(){let e=this.model.wrap(this.read());this.outputStack.push({value:e})}processCopy(){let e=this.inputEntry();this.outputStack.push({value:e.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let e=this.outputStack.pop(),t=this.finalizeOutput(e),n=this.outputArray();this.model.arrayAppendValue(n,t)}processReturnIntoObject(){let e=this.read(),t=this.outputStack.pop(),n=this.finalizeOutput(t);n=this.model.markChanged(n);let r=this.outputObject();this.model.objectSetField(r,e,n)}processReturnIntoObjectSameKey(){let e=this.inputEntry(),t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputObject();this.model.objectSetField(r,e.key,n)}processPushField(){let e=this.read(),t=this.inputEntry(),n=this.inputKey(t,e),r=this.model.objectGetField(t.value,n);this.inputStack.push({value:r,key:n})}processPushElement(){let e=this.read(),t=this.inputEntry(),n=this.model.arrayGetElement(t.value,e);this.inputStack.push({value:n})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let e=this.read(),t=this.inputEntry(),n=this.inputKey(t,e),r=this.outputObject();this.model.objectDeleteField(r,n)}processArrayAppendValue(){let e=this.model.wrap(this.read()),t=this.outputArray();this.model.arrayAppendValue(t,e)}processArrayAppendSlice(){let e=this.read(),t=this.read(),n=this.outputArray(),r=this.inputEntry().value;this.model.arrayAppendSlice(n,r,e,t)}processStringAppendString(){let e=this.model.wrap(this.read()),t=this.outputString();this.model.stringAppendValue(t,e)}processStringAppendSlice(){let e=this.read(),t=this.read(),n=this.outputString(),r=this.inputEntry().value;this.model.stringAppendSlice(n,r,e,t)}}function jw(e){return e>>16?4:e>>11?3:e>>7?2:1}function gP(e){let t=0;for(let n=0;n<e.length;n++){let r=jw(e.codePointAt(n));4==r&&n++,t+=r}return t}function UJ(e,t,n=0){let r=n,i=0;for(i=n;r<t;i++){let t=jw(e.codePointAt(i));4===t&&i++,r+=t}return i}function PVt(e,t){let n=Math.min(e.length,t.length),r=0;for(let i=0;i<n;){let n=e.codePointAt(i);if(n!==t.codePointAt(i))return r;let o=jw(n);r+=o,i+=4===o?2:1}return r}function FVt(e,t,n=0){let r=Math.min(e.length,t.length)-n,i=0;for(let n=0;n<r;){let r=e.codePointAt(e.length-1-n);if(r!==t.codePointAt(t.length-1-n))return i;let o=jw(r);i+=o,n+=4===o?2:1}return i}class vP{constructor(e){this.meta=e}wrap(e){return this.wrapWithMeta(e,this.meta,this.meta)}wrapWithMeta(e,t,n=this.meta){return{data:e,startMeta:t,endMeta:n}}asObject(e){if(!e.content){let t={};for(let[n,r]of Object.entries(e.data))t[n]=this.wrapWithMeta(r,e.startMeta);e.content={type:"object",fields:t}}return e.content}asArray(e){if(!e.content){let t=e.data.map((t=>this.wrapWithMeta(t,e.startMeta))),n=t.map((()=>this.meta));e.content={type:"array",elements:t,metas:n}}return e.content}asString(e){if(!e.content){let t=e.data,n={value:t,utf8size:gP(t),uses:[],startMeta:e.startMeta,endMeta:e.endMeta};e.content=this.stringFromParts([n])}return e.content}stringFromParts(e){let t={type:"string",parts:e};for(let n of e)n.uses.push(t);return t}objectGetKeys(e){return e.content?Object.keys(e.content.fields):Object.keys(e.data)}objectGetField(e,t){return this.asObject(e).fields[t]}arrayGetElement(e,t){return this.asArray(e).elements[t]}finalize(e){return this.updateEndMeta(e),{content:e,startMeta:this.meta,endMeta:this.meta}}markChanged(e){return this.wrap(Ic(e))}updateEndMeta(e){if("string"==e.type)for(let t of e.parts)t.endMeta=this.meta;else if("array"===e.type)for(let t of e.elements)t.content&&t.endMeta!==this.meta&&this.updateEndMeta(t.content),t.endMeta=this.meta;else for(let t of Object.values(e.fields))t.content&&t.endMeta!==this.meta&&this.updateEndMeta(t.content),t.endMeta=this.meta}copyString(e){if(e){let t=this.asString(e);return this.stringFromParts(t.parts.slice())}return{type:"string",parts:[]}}copyObject(e){let t={type:"object",fields:{}};if(e){let n=this.asObject(e);Object.assign(t.fields,n.fields)}return t}copyArray(e){let t=e?this.asArray(e):null;return{type:"array",elements:t?t.elements:[],metas:t?t.metas:[]}}objectSetField(e,t,n){e.fields[t]=n}objectDeleteField(e,t){delete e.fields[t]}arrayAppendValue(e,t){e.elements.push(t),e.metas.push(this.meta)}arrayAppendSlice(e,t,n,r){let i=this.asArray(t),o=i.elements.length===n;if(e.elements.push(...i.elements.slice(n,r)),o)e.metas.push(...i.metas.slice(n,r));else for(let t=n;t<r;t++)e.metas.push(this.meta)}stringAppendValue(e,t){let n=this.asString(t);for(let t of n.parts)this.stringAppendPart(e,t)}stringAppendPart(e,t){e.parts.push(t),t.uses.push(e)}resolveStringPart(e,t,n){if(0===n)return t;for(let r=t;r<e.parts.length;r++){let t=e.parts[r];if(n===t.utf8size)return r+1;if(n<t.utf8size)return this.splitString(t,n),r+1;n-=t.utf8size}throw new Error("splitting string out of bounds")}splitString(e,t){let n,r,i=t,o=e.utf8size-i;if(e.utf8size!==e.value.length){let n=0;for(t=0;n<i;t++){let r=jw(e.value.codePointAt(t));4===r&&t++,n+=r}}n=e.value.slice(0,t),r=e.value.slice(t);let a={value:r,utf8size:o,uses:e.uses.slice(),startMeta:e.startMeta,endMeta:e.endMeta};e.value=n,e.utf8size=i;for(let t of e.uses){let n=t.parts.indexOf(e);if(-1===n)throw new Error("bug: mismatch between string parts and use.");t.parts.splice(n+1,0,a)}}stringAppendSlice(e,t,n,r){let i=this.asString(t),o=this.resolveStringPart(i,0,n),a=this.resolveStringPart(i,o,r-n);for(let t=o;t<a;t++){let n=i.parts[t];this.stringAppendPart(e,n)}}}function LVt(e,t){return{data:e,startMeta:t,endMeta:t}}function Ic(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map((e=>e.value)).join("");break;case"array":t=n.elements.map((e=>Ic(e)));break;case"object":t={};for(let[e,r]of Object.entries(n.fields))t[e]=Ic(r)}return e.data=t,t}function yP(e){return e.content?e.content.type:Array.isArray(e.data)?"array":null===e.data?"null":typeof e.data}function bP(e,t){let n=yP(e);if(n!==yP(t))return t;let r=new vP(e.endMeta),i=new vP(t.endMeta);switch(n){case"object":{let n=r.asObject(e),o=i.asObject(t),a=0,s=Object.keys(n.fields).length,l=Object.keys(o.fields).length;for(let[e,t]of Object.entries(o.fields)){let r=n.fields[e];r&&(o.fields[e]=bP(r,t),o.fields[e]===r&&a++)}return s===l&&s===a?e:t}case"array":{let n=r.asArray(e),o=i.asArray(t);if(n.elements.length!==o.elements.length)break;let a=0;for(let e=0;e<o.elements.length;e++)o.elements[e]=bP(n.elements[e],o.elements[e]),o.elements[e]!==n.elements[e]&&a++;return 0===a?e:t}case"null":case"boolean":case"number":if(Ic(e)===Ic(t))return e;break;case"string":{let n=Ic(e),r=Ic(t);if(n===r)return e;let o=i.copyString(null),a=PVt(n,r),s=FVt(n,r,a),l=gP(r),u=gP(n);0<a&&i.stringAppendSlice(o,e,0,a),a<l-s&&i.stringAppendSlice(o,t,a,l-s),u-s<u&&i.stringAppendSlice(o,e,u-s,u);let c=i.finalize(o);if(Ic(c)!==r)throw new Error("incorrect string rebase");return c}}return t}function NVt(e,t,n){let r=new vP(n);return new Fxe(r,e,t).process()}var Sl=Object.freeze({__proto__:null,applyPatch:NVt,getType:yP,rebaseValue:bP,unwrap:Ic,wrap:LVt});class BVt{wrap(e){return e}finalize(e){return Array.isArray(e)?e:e.data}markChanged(e){return e}objectGetKeys(e){return Object.keys(e)}objectGetField(e,t){return e[t]}arrayGetElement(e,t){return e[t]}copyObject(e){let t={type:"object",data:{}};if(null!==e)for(let[n,r]of Object.entries(e))t.data[n]=r;return t}copyArray(e){return null===e?[]:e.slice()}copyString(e){return{type:"string",data:null===e?"":e}}objectSetField(e,t,n){e.data[t]=n}objectDeleteField(e,t){delete e.data[t]}arrayAppendValue(e,t){e.push(t)}arrayAppendSlice(e,t,n,r){e.push(...t.slice(n,r))}stringAppendSlice(e,t,n,r){const i=t,o=UJ(i,n),a=UJ(i,r,o);e.data+=i.slice(o,a)}stringAppendValue(e,t){e.data+=t}}function e5(e,t){let n=e;return new Fxe(new BVt,n,t).process()}var qp={};Object.defineProperty(qp,"__esModule",{value:!0}),qp.SKIP=Nxe;var Lxe=qp.reduce=Bxe;function W7(e,t){return UVt(e)||zVt(e,t)||VVt()}function VVt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function zVt(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}function UVt(e){if(Array.isArray(e))return e}function qS(e){return(qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pA(e,t,n){return t}function HVt(e){return Array.isArray(e)?"array":null===e?"null":qS(e)}qp.withCustomPathSegment=qp.SKIP_MARKER=void 0;var G7={_:"SKIP_MARKER"};function Nxe(e){return[G7,e]}function Y7(e,t,n,r){var i=t(e,n,r);return i===Nxe?[!0,e]:Array.isArray(i)&&i[0]===G7?[!0,i[1]]:[!1,i]}function WVt(e,t,n,r){return W7(Y7(e,t,n,r),2)[1]}function GVt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pA,o=W7(Y7(e,t,n,r),2),a=o[0],s=o[1];return a?s:Object.keys(n).reduce((function(e,o){return q7(e,t,n[o],r.concat(i(n[o],o,n)),i)}),s)}function YVt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pA,o=W7(Y7(e,t,n,r),2),a=o[0],s=o[1];return a?s:n.reduce((function(e,o,a){return q7(e,t,o,r.concat(i(o,a,n)),i)}),s)}function q7(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pA,o=HVt(n);return"object"===o?GVt(e,t,n,r,i):"array"===o?YVt(e,t,n,r,i):WVt(e,t,n,r)}function Bxe(e,t,n){return q7(n,t,e,[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:pA)}qp.SKIP_MARKER=G7;var qVt=function(e){return function(t,n,r){return Bxe(t,n,r,e)}};function K7(e){return t=>Pi((()=>{const n=new kr;return t.pipe(I6((()=>n),{leading:!0,trailing:!0}),FJe(((t,r)=>dhe(e(t,r),al).pipe(Kk((()=>{n.next()}))))))}))}function ih(e,t,n){return delete e[t],e[t]=n,n}function KVt(e,t){return XVt(ZVt(e,t),e,t)}function ZVt(e,t){const n=e.length,r=t.length;let i=0,o=0;const a=new Array(n+1);for(i=0;i<n+1;i++)for(a[i]=[r+1],o=0;o<r+1;o++)a[i][o]=0;for(i=1;i<n+1;i++)for(o=1;o<r+1;o++)e[i-1]===t[o-1]?a[i][o]=a[i-1][o-1]+1:a[i][o]=Math.max(a[i-1][o],a[i][o-1]);return a}function XVt(e,t,n){let r=t.length,i=n.length;const o={sequence:[],prevIndices:[],nextIndices:[]};for(;0!==r&&0!==i;)if(t[r-1]===n[i-1])o.sequence.unshift(t[r-1]),o.prevIndices.unshift(r-1),o.nextIndices.unshift(i-1),--r,--i;else{e[r][i-1]>e[r-1][i]?--i:--r}return o}function JVt(e,t,n){if(e===t){return{type:"array",action:"unchanged",isChanged:!1,fromValue:e.value,toValue:t.value,get items(){const r=HJ(e,t,n);if(!r)throw new Error("invariant broken: equivalent input, but diff detected");return ih(this,"items",r)}}}const r=GJ(e),i=GJ(t);if(r&&i)return ezt(e,r,t,i);const o=HJ(e,t,n);return o?Z7(e,t,o,!1):QVt(e,t)}function Z7(e,t,n,r){const i=e.value,o=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:o,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:o,items:n}}function HJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let i=0;i<e.length;i++){const o=mA(e.at(i),t.at(i),n);if(o.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:o,annotation:t.annotationAt(i)})}return r}function QVt(e,t,n){const r=[];for(let e=0;e<t.length;e++){const n=t.at(e);r.push({fromIndex:void 0,toIndex:e,hasMoved:!1,diff:km(n,void 0),annotation:n.annotation})}for(let t=0;t<e.length;t++){const n=e.at(t);r.push({fromIndex:t,toIndex:void 0,hasMoved:!1,diff:_m(n,void 0),annotation:n.annotation})}return Z7(e,t,r,!0)}function ezt(e,t,n,r,i){const o=[];let a=!1;function s(i,s,l,u){WJ(t.index,i,s),WJ(r.index,i,l);const c=mA(e.at(s),n.at(l));o.push({fromIndex:s,toIndex:l,hasMoved:u,diff:c,annotation:n.annotationAt(l)}),(c.isChanged||s!==l)&&(a=!0)}const l=KVt(t.keys,r.keys);for(let n=0;n<t.keys.length;n++){const i=t.keys[n],u=l.prevIndices.indexOf(n);if(-1!==u){s(i,n,l.nextIndices[u],!1);continue}const c=r.index.get(i),d=c&&c.find((e=>!l.nextIndices.includes(e)));if(void 0!==d){s(i,n,d,!0);continue}const f=e.at(n);o.push({fromIndex:n,toIndex:void 0,hasMoved:!1,diff:_m(f,void 0),annotation:e.annotationAt(n)}),a=!0}for(const e of r.index.values()){for(const t of e){const e=n.at(t);o.push({fromIndex:void 0,toIndex:t,hasMoved:!1,diff:km(e,void 0),annotation:n.annotationAt(t)})}a=!0}return o.sort(tzt),Z7(e,n,o,a)}function tzt(e,t){if(void 0!==e.toIndex&&void 0!==t.toIndex)return e.toIndex-t.toIndex;if(void 0!==e.fromIndex&&void 0!==t.fromIndex)return e.fromIndex-t.fromIndex;if(void 0!==e.fromIndex&&void 0!==t.toIndex)return-1;if(void 0!==e.toIndex&&void 0!==t.fromIndex)return 1;throw new Error("invalid item diff comparison")}function WJ(e,t,n){const r=e.get(t);nzt(r,n),0===r.length&&e.delete(t)}function nzt(e,t){const n=e.indexOf(t);if(-1===n)throw new Error("value not found");e.splice(n,1)}function GJ(e){const t=new Map,n=[],r=e.length;for(let i=0;i<r;i++){const r=e.at(i);let o=null;switch(r.type){case"string":o=`s${r.value}`;break;case"number":case"boolean":o=r.value;break;case"null":o="n";break;case"object":{const e=r.get("_key");if(e&&"string"===e.type&&(o=`k${e.value}`,t.has(o)))return}}if(null===o)return;n.push(o);let a=t.get(o);a||(a=[],t.set(o,a)),a.push(i)}return{keys:n,index:t}}function rzt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const t=[];for(let n=0;n<e.length;n++){const r=e.at(n);t.push({fromIndex:n,toIndex:void 0,hasMoved:!1,diff:_m(r,void 0),annotation:e.annotationAt(n)})}return ih(this,"items",t)}}}function izt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const t=[];for(let n=0;n<e.length;n++){const r=e.at(n);t.push({fromIndex:void 0,toIndex:n,hasMoved:!1,diff:km(r,void 0),annotation:e.annotationAt(n)})}return ih(this,"items",t)}}}qp.withCustomPathSegment=qVt;const YJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function azt(e,t,n){const r={};let i=!1;for(const o of e.keys){if(YJ.has(o))continue;const a=e.get(o),s=t.get(o);if(s){const e=mA(a,s,n);r[o]=e,e.isChanged&&(i=!0)}else r[o]=_m(a,void 0),i=!0}for(const n of t.keys){if(YJ.has(n)||e.get(n))continue;const o=t.get(n);r[n]=km(o,void 0),i=!0}const o=e.value,a=t.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:o,toValue:a,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:o,toValue:a,fields:r}}function ozt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const t={};for(const n of e.keys){const r=e.get(n);t[n]=_m(r,void 0)}return ih(this,"fields",t)}}}function szt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const t={};for(const n of e.keys){const r=e.get(n);t[n]=km(r,void 0)}return ih(this,"fields",t)}}}function lzt(e,t,n){const r=e.value,i=t.value,o=e.type;return r===i?{type:o,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function uzt(e,t,n){const r=e.value,i=t.value,o=e.type;return r===i?{type:o,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function czt(e,t,n){const r=e.value,i=t.value;return r===i?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:i,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation,get segments(){return ih(this,"segments",dzt(e,t))}}}function dzt(e,t){const n=[],r=V8(U1(e.value,t.value));let i=0,o=0;for(const[a,s]of r)switch(a){case Nt:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,o+=s.length;break;case Kn:for(const t of e.sliceAnnotation(i,i+s.length))n.push({type:"stringSegment",action:"removed",text:t.text,annotation:t.annotation});i+=s.length;break;case hr:for(const e of t.sliceAnnotation(o,o+s.length))n.push({type:"stringSegment",action:"added",text:e.text,annotation:e.annotation});o+=s.length;break;default:throw new Error(`Unhandled diff-match-patch operation "${a}"`)}return n}function fzt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){return ih(this,"segments",e.sliceAnnotation(0,e.value.length).map((e=>({type:"stringSegment",action:"removed",...e}))))}}}function hzt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){return ih(this,"segments",e.sliceAnnotation(0,e.value.length).map((e=>({type:"stringSegment",action:"added",...e}))))}}}function pzt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:_m(e,void 0),toType:t.type,toValue:t.value,toDiff:km(t,void 0),annotation:t.annotation}}function mA(e,t,n={}){return e.type!==t.type?"null"===e.type?km(t,null):"null"===t.type?_m(e,null):pzt(e,t):mzt(e.type,e,t,n)}function mzt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return uzt(t,n);case"number":return lzt(t,n);case"string":return czt(t,n);case"array":return JVt(t,n,r);case"object":return azt(t,n,r);default:throw new Error(`Unhandled diff type "${e}"`)}}function _m(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return fzt(e,t);case"array":return rzt(e,t);case"object":return ozt(e,t);default:throw new Error("Unhandled diff type")}}function km(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return hzt(e,t);case"array":return izt(e,t);case"object":return szt(e,t);default:throw new Error("Unhandled diff type")}}var gzt=Object.defineProperty,vzt=(e,t,n)=>t in e?gzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gv=(e,t,n)=>vzt(e,"symbol"!=typeof t?t+"":t,n);class yzt{constructor(e,t){Gv(this,"type","array"),Gv(this,"length"),Gv(this,"value"),Gv(this,"annotation"),Gv(this,"elements",[]),this.annotation=t,this.value=e,this.length=e.length}at(e){if(e>=this.length)throw new Error("out of bounds");return this.elements[e]||(this.elements[e]=X7(this.value[e],this.annotation))}annotationAt(){return this.annotation}}var bzt=Object.defineProperty,xzt=(e,t,n)=>t in e?bzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y3=(e,t,n)=>xzt(e,"symbol"!=typeof t?t+"":t,n);class b3{constructor(e,t,n){y3(this,"type"),y3(this,"value"),y3(this,"annotation"),this.type=e,this.value=t,this.annotation=n}}var wzt=Object.defineProperty,Czt=(e,t,n)=>t in e?wzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yv=(e,t,n)=>Czt(e,"symbol"!=typeof t?t+"":t,n);class Szt{constructor(e,t){Yv(this,"type","object"),Yv(this,"value"),Yv(this,"keys"),Yv(this,"annotation"),Yv(this,"fields",{}),this.value=e,this.annotation=t,this.keys=Object.keys(e)}get(e){const t=this.fields[e];if(t)return t;if(!this.value.hasOwnProperty(e))return;const n=this.value[e];return this.fields[e]=X7(n,this.annotation)}}var Ezt=Object.defineProperty,_zt=(e,t,n)=>t in e?Ezt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x3=(e,t,n)=>_zt(e,"symbol"!=typeof t?t+"":t,n);let kzt=class{constructor(e,t){x3(this,"type","string"),x3(this,"value"),x3(this,"annotation"),this.value=e,this.annotation=t}sliceAnnotation(e,t){return[{text:this.value.slice(e,t),annotation:this.annotation}]}};function X7(e,t){if(Array.isArray(e))return new yzt(e,t);if(null===e)return new b3("null",e,t);const n=typeof e;switch(n){case"number":case"boolean":return new b3(n,e,t);case"object":return new Szt(e,t);case"string":return new kzt(e,t);default:throw new Error(`cannot wrap value of type: ${n}`)}}var gA={exports:{}},Oy={exports:{}};(function(){var e,t,n,r,i,o;typeof performance<"u"&&null!==performance&&performance.now?Oy.exports=function(){return performance.now()}:typeof process<"u"&&null!==process&&process.hrtime?(Oy.exports=function(){return(e()-i)/1e6},t=process.hrtime,r=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),o=1e9*process.uptime(),i=r-o):Date.now?(Oy.exports=function(){return Date.now()-n},n=Date.now()):(Oy.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(Xi);for(var Tzt=Oy.exports,Azt=Tzt,qc=typeof window>"u"?Xi:window,A2=["moz","webkit"],i0="AnimationFrame",V0=qc["request"+i0],rx=qc["cancel"+i0]||qc["cancelRequest"+i0],qv=0;!V0&&qv<A2.length;qv++)V0=qc[A2[qv]+"Request"+i0],rx=qc[A2[qv]+"Cancel"+i0]||qc[A2[qv]+"CancelRequest"+i0];if(!V0||!rx){var w3=0,qJ=0,xh=[],jzt=1e3/60;V0=function(e){if(0===xh.length){var t=Azt(),n=Math.max(0,jzt-(t-w3));w3=n+t,setTimeout((function(){var e=xh.slice(0);xh.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(w3)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return xh.push({handle:++qJ,callback:e,cancelled:!1}),qJ},rx=function(e){for(var t=0;t<xh.length;t++)xh[t].handle===e&&(xh[t].cancelled=!0)}}gA.exports=function(e){return V0.call(qc,e)},gA.exports.cancel=function(){rx.apply(qc,arguments)},gA.exports.polyfill=function(e){e||(e=qc),e.requestAnimationFrame=V0,e.cancelAnimationFrame=rx};var Izt=gA.exports;const Dzt=Be(Izt);var Vxe={};!function(e){(function(){(null!==e?e:this).ExifReader=function(){function e(){var e=this;this._getTagValueAt={1:function(t){return e._getByteAt(t)},2:function(t){return e._getAsciiAt(t)},3:function(t){return e._getShortAt(t)},4:function(t){return e._getLongAt(t)},5:function(t){return e._getRationalAt(t)},7:function(t){return e._getUndefinedAt(t)},9:function(t){return e._getSlongAt(t)},10:function(t){return e._getSrationalAt(t)}},this._tiffHeaderOffset=0}return e.prototype._MIN_DATA_BUFFER_LENGTH=2,e.prototype._JPEG_ID_SIZE=2,e.prototype._JPEG_ID=65496,e.prototype._APP_MARKER_SIZE=2,e.prototype._APP0_MARKER=65504,e.prototype._APP1_MARKER=65505,e.prototype._APP15_MARKER=65519,e.prototype._APP_ID_OFFSET=4,e.prototype._BYTES_Exif=1165519206,e.prototype._TIFF_HEADER_OFFSET=10,e.prototype._BYTE_ORDER_BIG_ENDIAN=18761,e.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789,e.prototype.load=function(e){return this.loadView(new DataView(e))},e.prototype.loadView=function(e){return this._dataView=e,this._tags={},this._checkImageHeader(),this._readTags()},e.prototype._checkImageHeader=function(){var e;if((e=this._dataView).byteLength<this._MIN_DATA_BUFFER_LENGTH||e.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(e),!this._hasExifData())throw new Error("No Exif data")},e.prototype._parseAppMarkers=function(e){var t,n,r;for(t=this._JPEG_ID_SIZE,r=[];!(e.byteLength<t+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(e,t))n=e.getUint16(t+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=t+this._TIFF_HEADER_OFFSET;else{if(!this._isAppMarker(e,t))break;n=e.getUint16(t+this._APP_MARKER_SIZE,!1)}r.push(t+=this._APP_MARKER_SIZE+n)}return r},e.prototype._isApp1ExifMarker=function(e,t){return e.getUint16(t,!1)===this._APP1_MARKER&&e.getUint32(t+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&0===e.getUint8(t+this._APP_ID_OFFSET+4,!1)},e.prototype._isAppMarker=function(e,t){var n;return(n=e.getUint16(t,!1))>=this._APP0_MARKER&&n<=this._APP15_MARKER},e.prototype._hasExifData=function(){return 0!==this._tiffHeaderOffset},e.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},e.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},e.prototype._read0thIfd=function(){var e;return e=this._getIfdOffset(),this._readIfd("0th",e)},e.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},e.prototype._readExifIfd=function(){var e;if(null!=this._tags["Exif IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",e)},e.prototype._readGpsIfd=function(){var e;if(null!=this._tags["GPS Info IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",e)},e.prototype._readInteroperabilityIfd=function(){var e;if(null!=this._tags["Interoperability IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",e)},e.prototype._readIfd=function(e,t){var n,r,i,o;for(n=this._getShortAt(t),t+=2,o=[],i=0;0<=n?i<n:i>n;0<=n?++i:--i)r=this._readTag(e,t),this._tags[r.name]={value:r.value,description:r.description},o.push(t+=12);return o},e.prototype._readTag=function(e,t){var n,r,i,o,a,s,l;return n=this._getShortAt(t),a=this._getShortAt(t+2),r=this._getLongAt(t+4),this._typeSizes[a]*r<=4?s=this._getTagValue(t+8,a,r):(l=this._getLongAt(t+8),s=this._getTagValue(this._tiffHeaderOffset+l,a,r)),a===this._tagTypes.ASCII&&(s=this._splitNullSeparatedAsciiString(s)),null!=this._tagNames[e][n]?(null!=this._tagNames[e][n].name&&null!=this._tagNames[e][n].description?(o=this._tagNames[e][n].name,i=this._tagNames[e][n].description(s)):(o=this._tagNames[e][n],i=s instanceof Array?s.join(", "):s),{name:o,value:s,description:i}):{name:"undefined-"+n,value:s,description:s}},e.prototype._getTagValue=function(e,t,n){var r,i;return 1===(i=function(){var i,o;for(o=[],i=0;0<=n?i<n:i>n;0<=n?++i:--i)r=this._getTagValueAt[t](e),e+=this._typeSizes[t],o.push(r);return o}.call(this)).length?i=i[0]:t===this._tagTypes.ASCII&&(i=this._getAsciiValue(i)),i},e.prototype._getAsciiValue=function(e){var t;return function(){var n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(String.fromCharCode(t));return i}()},e.prototype._getByteAt=function(e){return this._dataView.getUint8(e)},e.prototype._getAsciiAt=function(e){return this._dataView.getUint8(e)},e.prototype._getShortAt=function(e){return this._dataView.getUint16(e,this._littleEndian)},e.prototype._getLongAt=function(e){return this._dataView.getUint32(e,this._littleEndian)},e.prototype._getRationalAt=function(e){return this._getLongAt(e)/this._getLongAt(e+4)},e.prototype._getUndefinedAt=function(e){return this._getByteAt(e)},e.prototype._getSlongAt=function(e){return this._dataView.getInt32(e,this._littleEndian)},e.prototype._getSrationalAt=function(e){return this._getSlongAt(e)/this._getSlongAt(e+4)},e.prototype._splitNullSeparatedAsciiString=function(e){var t,n,r,i,o;for(r=[],n=0,i=0,o=e.length;i<o;i++)"\0"!==(t=e[i])?(null==r[n]&&(r[n]=""),r[n]+=t):n++;return r},e.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},e.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},e.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(e){switch(e){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(e){switch(e){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(e){switch(e){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+e}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(e){return e.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(e){switch(e){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(e){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(e){var t,n,r,i;for(n="",r=0,i=e.length;r<i;r++)t=e[r],n+=String.fromCharCode(t);return n}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(e){var t,n,r,i;for(n="",r=0,i=e.length;r<i;r++)switch(t=e[r],t){case 49:n+="Y";break;case 50:n+="Cb";break;case 51:n+="Cr";break;case 52:n+="R";break;case 53:n+="G";break;case 54:n+="B"}return n}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(e){switch(e){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(e){switch(e){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(e){switch(e){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(e){switch(e.length){case 2:return"Location; X: "+e[0]+", Y: "+e[1];case 3:return"Circle; X: "+e[0]+", Y: "+e[1]+", diameter: "+e[2];case 4:return"Rectangle; X: "+e[0]+", Y: "+e[1]+", width: "+e[2]+", height: "+e[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(e){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(e){switch(e.slice(0,8).map((function(e){return String.fromCharCode(e)})).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map((function(e){return String.fromCharCode(e)})).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(e){var t,n,r,i;for(n="",r=0,i=e.length;r<i;r++)t=e[r],n+=String.fromCharCode(t);return n}},40961:{name:"ColorSpace",description:function(e){switch(e){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(e){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(e){switch(e){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(e){return"X: "+e[0]+", Y: "+e[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(e){switch(e){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(e){return 3===e?"DSC":"Unknown"}},41729:{name:"SceneType",description:function(e){return 1===e?"A directly photographed image":"Unknown"}},41730:{name:"CFAPattern",description:function(e){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(e){switch(e){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(e){switch(e){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(e){switch(e){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(e){return 0===e?"Digital zoom was not used":e}},41989:{name:"FocalLengthIn35mmFilm",description:function(e){return 0===e?"Unknown":e}},41990:{name:"SceneCaptureType",description:function(e){switch(e){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(e){switch(e){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(e){switch(e){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(e){switch(e){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(e){switch(e){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(e){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(e){switch(e){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(e){var t,n;return e[0]===(t=e[1])&&2===t&&e[2]===(n=e[3])&&0===n?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(e){switch(e.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},3:{name:"GPSLongitudeRef",description:function(e){switch(e.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},5:{name:"GPSAltitudeRef",description:function(e){switch(e){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(e){return e+" m"}},7:{name:"GPSTimeStamp",description:function(e){var t;return t=function(e){return function(){var t,n,r;for(r=[],t=0,n=2-(""+Math.floor(e)).length;0<=n?t<n:t>n;0<=n?++t:--t)r.push("0");return r}()+e},e.map(t).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(e){switch(e.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(e){switch(e.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(e){switch(e.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(e){switch(e.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(e){switch(e.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},23:{name:"GPSDestBearingRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(e){switch(e.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(e){switch(e.slice(0,8).map((function(e){return String.fromCharCode(e)})).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map((function(e){return String.fromCharCode(e)})).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(e){switch(e.slice(0,8).map((function(e){return String.fromCharCode(e)})).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map((function(e){return String.fromCharCode(e)})).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(e){switch(e){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},e.prototype.getTagValue=function(e){if(null!=this._tags[e])return this._tags[e].value},e.prototype.getTagDescription=function(e){if(null!=this._tags[e])return this._tags[e].description},e.prototype.getAllTags=function(){return this._tags},e}()}).call(Xi)}(Vxe);var Ozt=Vxe.ExifReader,Rzt=function(e){var t=new Ozt;t.load(e);var n=t.getAllTags(),r={};for(var i in n)r[Mzt(i)]=n[i].description;return r};function Mzt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,(function(e){return 1==e.length?e.toLowerCase():e[0]==e[0].toUpperCase()?" "+e.toLowerCase():e[0]+" "+e[1].toLowerCase()})).replace(/^\s+|\s+$/g,"")}const $zt=Be(Rzt);var zxe={exports:{}};!function(e){!function(t){var n={"":"A","":"A","":"A","":"A","":"Ae","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"Oe","":"O","":"O","":"U","":"U","":"U","":"Ue","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"ae","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"oe","":"o","":"o","":"u","":"u","":"u","":"ue","":"u","":"y","":"th","":"y","":"SS","":"a","":"a","":"i","":"aa","":"u","":"e","":"a","":"b","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"y","":"a","":"h","":"la","":"laa","":"lai","":"laa","":"g","":"ch","":"p","":"zh","":"k","":"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"k","":"kh","":"g","":"ga","":"ng","":"s","":"sa","":"z","":"za","":"ny","":"t","":"ta","":"d","":"da","":"na","":"t","":"ta","":"d","":"da","":"n","":"p","":"pa","":"b","":"ba","":"m","":"y","":"ya","":"l","":"w","":"th","":"h","":"la","":"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h","":"e","":"-e","":"i","":"-i","":"u","":"-u","":"aw","":"aw","":"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"h","":"sh","":"n","":"r","":"b","":"lh","":"k","":"a","":"v","":"m","":"f","":"dh","":"th","":"l","":"g","":"gn","":"s","":"d","":"z","":"t","":"y","":"p","":"j","":"ch","":"tt","":"hh","":"kh","":"th","":"z","":"sh","":"s","":"d","":"t","":"z","":"a","":"gh","":"q","":"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"p","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"a","":"v","":"g","":"d","":"e","":"z","":"i","":"th","":"i","":"k","":"l","":"m","":"n","":"ks","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"o","":"a","":"e","":"i","":"o","":"y","":"i","":"o","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"I","":"TH","":"I","":"K","":"L","":"M","":"N","":"KS","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"O","":"A","":"E","":"I","":"O","":"Y","":"I","":"O","":"I","":"Y","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"I","":"k","":"L","":"N","":"U","":"Kj","":"kj","":"Lj","":"lj","":"Nj","":"nj","":"Ts","":"ts","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"E","":"L","":"N","":"S","":"Z","":"Z","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"a","":"A","":"s","":"S","":"t","":"T","":"t","":"T","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"kh","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"I","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"Kh","":"C","":"Ch","":"Sh","":"Sh","":"","":"Y","":"","":"E","":"Yu","":"Ya","":"dj","":"j","":"c","":"dz","":"Dj","":"j","":"C","":"Dz","":"l","":"l","":"r","":"L","":"L","":"R","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"A","":"a","":"A","":"a","":"A","":"d","":"D","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"o","":"o","":"o","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"o","":"i","":"I","":"i","":"I","":"i","":"i","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"","":"y","":"y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d","":"f","":"(TM)","":"(C)","":"oe","":"OE","":"(R)","":"+","":"(SM)","":"...","":"o","":"o","":"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY","":"CNY","":"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN","":"BGN","":"KHR","":"CRC","":"KZT","":"MKD","z":"PLN","":"RUB","":"GEL"},r=["",""],i={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},o={en:{},az:{"":"c","":"e","":"g","":"i","":"o","":"s","":"u","":"C","":"E","":"G","":"I","":"O","":"S","":"U"},cs:{"":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z"},fi:{"":"a","":"A","":"o","":"O"},hu:{"":"a","":"A","":"o","":"O","":"u","":"U","":"u","":"U"},lt:{"":"a","":"c","":"e","":"e","":"i","":"s","":"u","":"u","":"z","":"A","":"C","":"E","":"E","":"I","":"S","":"U","":"U"},lv:{"":"a","":"c","":"e","":"g","":"i","":"k","":"l","":"n","":"s","":"u","":"z","":"A","":"C","":"E","":"G","":"i","":"k","":"L","":"N","":"S","":"u","":"Z"},pl:{"":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"O","":"S","":"Z","":"Z"},sv:{"":"a","":"A","":"o","":"O"},sk:{"":"a","":"A"},sr:{"":"lj","":"nj","":"Lj","":"Nj","":"dj","":"Dj"},tr:{"":"U","":"O","":"u","":"o"}},a={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),c=function(e,t){var c,d,h,m,g,y,v,b,x,w,C,k,j,S,E="-",_="",A="",T=!0,D={},M="";if("string"!=typeof e)return"";if("string"==typeof t&&(E=t),v=a.en,b=o.en,"object"==typeof t)for(C in c=t.maintainCase||!1,D=t.custom&&"object"==typeof t.custom?t.custom:D,h=+t.truncate>1&&t.truncate||!1,m=t.uric||!1,g=t.uricNoSlash||!1,y=t.mark||!1,T=!(!1===t.symbols||!1===t.lang),E=t.separator||E,m&&(M+=s),g&&(M+=l),y&&(M+=u),v=t.lang&&a[t.lang]&&T?a[t.lang]:T?a.en:{},b=t.lang&&o[t.lang]?o[t.lang]:!1===t.lang||!0===t.lang?{}:o.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){D[e+""]=e+""})),d=!0):d=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){D[e+""]=e+""})),Object.keys(D).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+f(t)+"\\b","gi"):new RegExp(f(t),"gi"),e=e.replace(n,D[t])})),D)M+=C;for(M=f(M+=E),j=!1,S=!1,w=0,k=(e=e.replace(/(^\s+|\s+$)/g,"")).length;w<k;w++)C=e[w],p(C,D)?j=!1:b[C]?(C=j&&b[C].match(/[A-Za-z0-9]/)?" "+b[C]:b[C],j=!1):C in n?(w+1<k&&r.indexOf(e[w+1])>=0?(A+=C,C=""):!0===S?(C=i[A]+n[C],A=""):C=j&&n[C].match(/[A-Za-z0-9]/)?" "+n[C]:n[C],j=!1,S=!1):C in i?(A+=C,C="",w===k-1&&(C=i[A]),S=!0):!v[C]||m&&-1!==s.indexOf(C)||g&&-1!==l.indexOf(C)?(!0===S?(C=i[A]+C,A="",S=!1):j&&(/[A-Za-z0-9]/.test(C)||_.substr(-1).match(/A-Za-z0-9]/))&&(C=" "+C),j=!1):(C=j||_.substr(-1).match(/[A-Za-z0-9]/)?E+v[C]:v[C],C+=void 0!==e[w+1]&&e[w+1].match(/[A-Za-z0-9]/)?E:"",j=!0),_+=C.replace(new RegExp("[^\\w\\s"+M+"_-]","g"),E);return d&&(_=_.replace(/(\w)(\S*)/g,(function(e,t,n){var r=t.toUpperCase()+(null!==n?n:"");return Object.keys(D).indexOf(r.toLowerCase())<0?r:r.toLowerCase()}))),_=_.replace(/\s+/g,E).replace(new RegExp("\\"+E+"+","g"),E).replace(new RegExp("(^\\"+E+"+|\\"+E+"+$)","g"),""),h&&_.length>h&&(x=_.charAt(h)===E,_=_.slice(0,h),x||(_=_.slice(0,_.lastIndexOf(E)))),!c&&!d&&(_=_.toLowerCase()),_},d=function(e){return function(t){return c(t,e)}},f=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},p=function(e,t){for(var n in t)if(t[n]===e)return!0};if(e.exports)e.exports=c,e.exports.createSlug=d;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=c,t.createSlug=d}catch{}}(Xi)}(zxe);var Pzt=zxe.exports,Fzt=Pzt;const Uxe=Be(Fzt);var Lzt=Jf,Nzt=Xf,Bzt=Ed;function Vzt(e){return function(t,n,r){var i=Object(t);if(!Nzt(t)){var o=Lzt(n);t=Bzt(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var zzt=Vzt,Uzt=zzt,Hzt=Y1e,Wzt=Uzt(Hzt),Gzt=Wzt;const Hxe=Be(Gzt);var Yzt=Ume,qzt=C1,KJ=hT;function Kzt(e,t,n){var r=e.length;if(r<2)return r?KJ(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Yzt(o[i]||a,e[s],t,n));return KJ(qzt(o,1),t,n)}var Zzt=Kzt,Xzt=ufe,Jzt=fm,Qzt=Zzt,eUt=gT,tUt=Jzt((function(e){return Qzt(Xzt(e,eUt))})),nUt=tUt;const rUt=Be(nUt),iUt=/^[A-Za-z_][A-Za-z0-9_]*$/;function Wxe(e){return e.reduce(((e,t,n)=>{if(Array.isArray(t))return"".concat(e,"[").concat(t.join(":"),"]");if(aUt(t))return"".concat(e,'[_key=="').concat(t._key,'"]');if("number"==typeof t)return"".concat(e,"[").concat(t,"]");if("string"==typeof t&&!iUt.test(t))return"".concat(e,"['").concat(t,"']");if("string"==typeof t){const r=0===n?"":".";return"".concat(e).concat(r).concat(t)}throw new Error('Unsupported path segment "'.concat(t,'"'))}),"")}function aUt(e){return"object"==typeof e&&"string"==typeof e._key}class Ry extends Error{constructor(e,t,n){const r=Wxe(t);super("".concat(e," (at '").concat(r,"')")),this.path=t,this.serializedPath=r,this.value=n}}const oUt=/^[a-z0-9][a-z0-9_.-]+$/i,sUt=/^[a-zA-Z_][a-zA-Z0-9_-]*$/,lUt=/^[a-z_]/i;function ZJ(e,t,n){if(!lUt.test(e))throw new Ry("Keys must start with a letter (a-z)",n.concat(e),t);if(!sUt.test(e))throw new Ry("Keys can only contain letters, numbers and underscores",n.concat(e),t);if("_key"===e||"_ref"===e||"_type"===e){if("string"!=typeof t)throw new Ry("Keys must be strings",n.concat(e),t);if(!oUt.test(t))throw new Ry("Invalid key - use less exotic characters",n.concat(e),t)}return e}const uUt=["_id","_type","_createdAt","_updatedAt","_rev"],xP={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function cUt(e){return{...xP,...e,diffMatchPatch:{...xP.diffMatchPatch,...e.diffMatchPatch||{}}}}function vA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xP,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(e===t)return i;const o=Array.isArray(e)?"array":typeof e,a=Array.isArray(t)?"array":typeof t,s="undefined"===o,l="undefined"===a;if(s&&!l)return i.push({op:"set",path:r,value:t}),i;if(!s&&l)return i.push({op:"unset",path:r}),i;const u=cUt(n),c=s?a:o;return"object"===c||"array"===c?o!==a?(i.push({op:"set",path:r,value:t}),i):"array"===c?fUt(e,t,u,r,i):dUt(e,t,u,r,i):mUt(e,t,u,r,i)}function dUt(e,t,n,r,i){const o=0===r.length,a=Object.keys(e).filter(o?XJ:QJ).map((t=>ZJ(t,e[t],r))),s=a.length,l=Object.keys(t).filter(o?XJ:QJ).map((e=>ZJ(e,t[e],r))),u=l.length;for(let e=0;e<s;e++){const n=a[e];n in t||i.push({op:"unset",path:r.concat(n)})}for(let o=0;o<u;o++){const a=l[o];vA(e[a],t[a],n,r.concat([a]),i)}return i}function fUt(e,t,n,r,i){if(t.length>e.length&&i.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map(((e,t)=>J7(e,r,t,n)))}),t.length<e.length){const o=e.length-t.length==1,a=e.slice(t.length);yUt(n)||!C3(a)?i.push({op:"unset",path:r.concat([o?t.length:[t.length,""]])}):i.push(...a.map((e=>({op:"unset",path:r.concat({_key:e._key})}))))}for(let e=0;e<t.length;e++)if(Array.isArray(t[e]))throw new Ry("Multi-dimensional arrays not supported",r.concat(e),t[e]);const o=Math.min(e.length,t.length),a=e.slice(0,o),s=t.slice(0,o);return C3(a)&&C3(s)?hUt(a,s,n,r,i):Gxe(a,s,n,r,i)}function Gxe(e,t,n,r,i){for(let o=0;o<e.length;o++)vA(e[o],J7(t[o],r,o,n),n,r.concat(o),i);return i}function hUt(e,t,n,r,i){const o=JJ(e),a=JJ(t);if(!vUt(o.keys,a.keys))return Gxe(e,t,n,r,i);for(let e=0;e<a.keys.length;e++){const t=a.keys[e];vA(o.index[t],J7(a.index[t],r,e,n),n,r.concat({_key:t}),i)}return i}function pUt(e,t,n,r){const{enabled:i,lengthThresholdRelative:o,lengthThresholdAbsolute:a}=n.diffMatchPatch,s=r[r.length-1];if(!i||"string"!=typeof e||"string"!=typeof t||"string"==typeof s&&"_"===s[0]||t.length<a)return;let l="";try{const n=U1(e,t);l=Ove(H8(GT(n)))}catch{return}return l.length>t.length*o?void 0:{op:"diffMatchPatch",path:r,value:l}}function mUt(e,t,n,r,i){const o=pUt(e,t,n,r);return i.push(o||{op:"set",path:r,value:t}),i}function XJ(e){return-1===uUt.indexOf(e)}function C3(e){const t=[];for(let n=0;n<e.length;n++){const r=gUt(e[n]);if(!r||-1!==t.indexOf(r))return!1;t.push(r)}return!0}function gUt(e){return"object"==typeof e&&null!==e&&e._key}function JJ(e){return e.reduce(((e,t)=>(e.keys.push(t._key),e.index[t._key]=t,e)),{keys:[],index:{}})}function vUt(e,t){return e.length===t.length&&e.every(((e,n)=>t[n]===e))}function J7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const e=Wxe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(e,"')"))}return null}function yUt(e){return!!e.ifRevisionID}function QJ(e){return!0}var bUt={};function xUt(){const e=new Map,{publish:t,subscribe:n}=tF(),r=nm(t,10,{trailing:!0}),i=()=>Array.from(e.entries());return{add:function(t,n){e.has(t),e.set(t,n),r(i())},remove:function(t){e.has(t),e.delete(t),r(i())},update:function(t,n){e.has(t),e.set(t,n),r(i())},read:i,subscribe:n}}function wUt(e){return"function"==typeof e}function eQ(e){return wUt(e)?e():e}const CUt=()=>{};function SUt(e){return function(t,n,r=Object.is){const{add:i,update:o,remove:a}=f.useContext(e),s=f.useRef();f.useLayoutEffect((()=>{if(null===t)return CUt;const e=eQ(n);return i(t,e),s.current=e,()=>{a(t)}}),[i,t,a,n]),f.useLayoutEffect((()=>{const e=eQ(n);typeof s.current<"u"&&!r(s.current,e)&&null!==t&&o(t,e),s.current=e}))}}let z0=!1;const S3=e=>{z0||console.warn(new Error(`No context provided for reporter. Make sure that the component calling "useReporter(${e}, ...)", is wrapped in a <Tracker> element`)),z0=!0};function EUt(){return z0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),z0=!0,[]}const _Ut=()=>(z0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),z0=!0,()=>{}),kUt={add:S3,update:S3,remove:S3,subscribe:_Ut,read:EUt};let TUt=0;const AUt=()=>++TUt;function Yxe(){const e=f.createContext(kUt);const t=SUt(e);return{Tracker:function(t){const n=f.useMemo((()=>xUt()),[]);return u.jsx(e.Provider,{value:n,children:t.children})},useReportedValues:function(){const t=f.useContext(e),[n,r]=f.useState(t.read());return f.useLayoutEffect((()=>(r(t.read()),t.subscribe(r))),[t]),n},useReporter:t,useAutoIdReporter:(e,n=Object.is)=>t(`element-${f.useRef(AUt()).current}`,e,n)}}const Go=4,jUt=16,tQ=8,Ot=8,Ls=2,j2=4,Ha=12,ag=1,IUt=!1,DUt=!1,Q7=Yxe(),OUt=Q7.Tracker,e9=Q7.useReportedValues,qxe=Q7.useReporter,RUt=e=>{const t=f.useRef(null),{onSetFocus:n}=f.useContext(em),[r,i]=f.useState(!1),o=f.useCallback((()=>{i(!0)}),[]),a=f.useCallback((()=>{i(!1)}),[]);qxe(`change-${_n(e.path)}`,(()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover})),l0);const s=f.useCallback((t=>{MUt(t,n,e.path)}),[n,e.path]);return u.jsx("div",{ref:t,onClick:s,onMouseLeave:a,onMouseEnter:o,children:e.children})};function MUt(e,t,n){e.stopPropagation(),t(n)}function ba(e){const t=f.useRef(e);return bt(t.current,e)||(t.current=e),t.current}function ah(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(t){const i=ba(t),o=Wr(f.useMemo((()=>we(i).pipe(ht((t=>bi(we({type:"loading"}),e(t).pipe(fe((e=>({type:"value",value:e}))))))),hs((([e],t)=>"loading"===t.type?[e,!0]:[t.value,!1]),n),mr((([e,t],[n,r])=>!(e!==n||t!==r))),fe((e=>({type:"tuple",tuple:e}))),pn((e=>we({type:"error",error:e}))))),[i]),r);if("error"===o.type)throw o.error;return o.tuple}}function wi(e){return null!=e}const $Ut="drafts",t9=`${$Ut}.`;function n9(e){return e.startsWith(t9)}function Kxe(e){return{draftId:Vi(e),publishedId:sn(e)}}function Vi(e){return n9(e)?e:t9+e}function sn(e){return n9(e)?e.slice(t9.length):e}function yA(e){const t=e.reduce(((e,t)=>{const n=sn(t._id);let r=e.get(n);return r||(r={id:n,type:t._type,published:void 0,draft:void 0},e.set(n,r)),r[n===t._id?"published":"draft"]=t,e}),new Map);return Array.from(t.values())}function Zxe(e){return yA(e).map((e=>e.draft||e.published)).filter(wi)}const PUt=Object.freeze({}),an=Object.freeze([]);function FUt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Xxe=FUt();function nQ(e){return Array.isArray(e)}function xt(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function a0(e){return"string"==typeof e}const LUt="object"==typeof document&&"object"==typeof window&&window.ResizeObserver?window.ResizeObserver:Wde,NUt=()=>{const e=tF(),t=new LUt((t=>e.publish(t)));return{observe:(n,r,i)=>{const o=e.subscribe((e=>{const t=e.find((e=>e.target===n));t&&r(t)}));return t.observe(n,i),()=>{o(),t.unobserve(n)}},unobserve:e=>t.unobserve(e)}},ix=NUt(),BUt=["sanity.imageAsset","sanity.fileAsset"];function VUt(e){return"document"===e.type&&BUt.includes(e.name)}function q4n(e){return"document"===e.type&&!VUt(e)}const zUt=["match","in","asc","desc","true","false","null"],UUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,HUt=e=>!UUt.test(e)||zUt.includes(e),WUt=e=>`["${e}"]`,Tm=GUt();function GUt(){return!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)}const rQ="object"==typeof Intl&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function YUt(e,t,n){if(!rQ)return e.slice(t,n);let r=0,i="";for(const t of rQ.segment(e)){if(r===n)return i;i+=t.segment,r++}return i}function iQ(e,t){const n=YUt(e,0,t);return n===e?n:`${n}`}const qUt={isLoading:!0,value:void 0,error:null};function Jxe(e,t){const n=qUt;return Wr(f.useMemo((()=>e.pipe(KUt())),[e]),n)}function KUt(){return e=>e.pipe(fe((e=>({isLoading:!1,value:e,error:null}))),pn((e=>we({isLoading:!1,value:void 0,error:e}))))}function Qxe(e,t){return null!==e&&e.roles.some((e=>e.name===t))}function ZUt(e,t,n){return f.useMemo((()=>I1(e,t,n)),[e,n,t])}var aQ;const KS=!(typeof process>"u")&&(null==(aQ=null==process?void 0:bUt)?void 0:aQ.SANITY_STUDIO_DEBUG_I18N),XUt=!!KS,JUt={reverse:e=>`${e}`,triangles:e=>` ${e} `};function ewe(e){const t="reverse"===KS||"triangles"===KS?JUt[KS]:null;return t?(...n)=>t(e(...n)):e}const QUt={bindI18n:!1};function Z(e,t){const{t:n}=x1(e,QUt);return{t:ewe(n)}}const eHt=250,tHt=$.div((({$changed:e,$disabled:t,$hasFocus:n,$isReviewChangeOpen:r})=>t?de`
        ${yg}:after {
          display: none;
        }
      `:de`
      --change-bar-offset: 4px;

      display: flex;
      position: relative;

      ${yg}:after {
        opacity: 0.5;
      }

      @media (hover: hover) {
        &:hover {
          z-index: 10;
          ${yg}:after {
            opacity: 1;
          }
        }
      }

      /* hide when field is not changed */
      ${n&&de`
        ${yg}:after {
          opacity: 1;
        }
      `}

      /* hide when field is not changed */
      ${!e&&de`
        ${yg}:after {
          opacity: 0;
          pointer-events: none;
        }
      `}

      /* hide hover effect when review changes is open */
      ${r&&de`
        ${twe} {
          opacity: 0;
        }
      `}
    `)),nHt=$.div`
  flex-grow: 1;
  min-width: 0;
`,rHt=$.div`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: ${({$zIndex:e})=>e};
`,yg=$.div((e=>{const{media:t}=Ae(e.theme);return de`
    position: absolute;
    top: -1px;
    left: var(--change-bar-offset);
    width: 1px;
    bottom: -1px;
    background-color: var(--card-bg-color);

    @media (min-width: ${t[0]}px) {
      display: unset;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      width: 1px;
      bottom: 1px;
      background-color: var(--card-badge-caution-dot-color);
      border-radius: 0.5px;
    }
  `})),twe=$.button((e=>{const{$withHoverEffect:t}=e;return de`
    appearance: none;
    border: 0;
    outline: 0;
    display: block;
    padding: 0;
    background: transparent;
    opacity: 0;
    position: absolute;
    height: 100%;
    cursor: pointer;
    pointer-events: all;
    left: calc(-0.25rem + var(--change-bar-offset));
    width: calc(1rem - 1px);
    transition: opacity ${250}ms;

    &:focus {
      border: 0;
      outline: 0;
    }

    &:focus {
      border: 0;
      outline: 0;
    }

    ${t&&de`
      @media (hover: hover) {
        &:hover {
          opacity: 0.2;
        }
      }
    `}
  `}));function iHt(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,withHoverEffect:o=!0}=e,{onOpenReviewChanges:a,isReviewChangesOpen:s}=f.useContext(em),{zIndex:l}=Ho(),{t:c}=Z(),d=f.useMemo((()=>n||!i?null:u.jsxs(rHt,{"data-testid":"change-bar",$zIndex:l,children:[u.jsx(yg,{"data-testid":"change-bar__marker"}),u.jsx(pt,{content:c("changes.change-bar.aria-label"),portal:!0,children:u.jsx(twe,{"aria-label":c("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:s?void 0:a,tabIndex:-1,type:"button",$withHoverEffect:o})})]})),[n,i,s,a,c,o,l]);return u.jsxs(tHt,{"data-testid":"change-bar-wrapper",$changed:i,$disabled:n,$hasFocus:r,$isReviewChangeOpen:s,children:[u.jsx(nHt,{"data-testid":"change-bar__field-wrapper",children:t}),d]})}const aHt=f.memo((function(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,onMouseEnter:o,onMouseLeave:a,path:s=an,withHoverEffect:l,...c}=e,d=Ho(),[p,h]=f.useState(!1),m=f.useCallback((e=>{o?.(e),h(!0)}),[o]),g=f.useCallback((e=>{a?.(e),h(!1)}),[a]),y=f.useRef(null);return qxe(n?null:`field-${_n(s)}`,(()=>({element:y.current,path:s,isChanged:i,hasFocus:r,hasHover:p,zIndex:d.zIndex})),l0),u.jsx("div",{...c,ref:y,onMouseEnter:m,onMouseLeave:g,children:u.jsx(iHt,{hasFocus:r,isChanged:i,disabled:n,withHoverEffect:l,children:t})})}));function ka(e){const{children:t,hasFocus:n,isChanged:r,path:i,withHoverEffect:o,...a}=e;return u.jsx(aHt,{...a,path:i,hasFocus:n,isChanged:r,withHoverEffect:o,children:t})}function oHt(e){const t=f.useContext(UO);f.useEffect((()=>t?.subscribe(e)),[e,t])}const oQ=()=>{},bA=f.forwardRef((function(e,t){const{as:n="div",onScroll:r,...i}=e,o=f.useRef(null);f.useImperativeHandle(t,(()=>o.current));const a=f.useContext(UO),s=f.useMemo((()=>tF()),[]);return f.useEffect((()=>r?s.subscribe(r):oQ),[s,r]),f.useEffect((()=>a?s.subscribe(a.publish):oQ),[a,s]),f.useEffect((()=>{const e=e=>{s.publish(e)},t=o.current;if(t)return t.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>{t.removeEventListener("scroll",e)}}),[s,o]),u.jsx(UO.Provider,{value:s,children:f.createElement(n,{ref:o,"data-testid":"scroll-container",...i})})}));function sHt({onScroll:e,children:t}){return oHt(e),u.jsx(u.Fragment,{children:t})}function sQ(e,t,n){const r=Qs(t.slice(t.indexOf("-")+1)||"[]"),i=`${e}-${_n(r)}`;if(n.has(i))return n.get(i);let o;for(const[t,i]of n){if(!("path"in i)||!t.startsWith(e))continue;const n=ZTe(r,i.path),a=i.path[i.path.length-1],s=n===i.path.length-1&&Fl(a);if(0!==n&&(n===i.path.length||s)&&(o=i,n===r.length))break}return o}function nwe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function lHt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&nwe(e)}const lQ=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let i=!1,o=e;for(;o&&o!==t&&t.contains(o);)i&&(n.top+=o.offsetTop,n.left+=o.offsetLeft),nwe(o)&&(n.top=o.offsetTop,n.height=o.offsetHeight,n.left=o.offsetLeft,n.width=o.offsetWidth,i=!0),r.top+=o.offsetTop-o.scrollTop,r.left+=o.offsetLeft-o.scrollLeft,o=o.offsetParent;return{rect:r,bounds:n}};function uHt(e){return"changePanel"!==e[0]}const cHt=-15;function uQ(e){let t=e.element;for(;!lHt(t);)if(t=t.parentElement,!t)return;t.scroll({top:t.scrollTop+e.rect.top-e.bounds.top+cHt,left:0,behavior:"smooth"})}function dHt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),i=Math.max(e.top,t.top),o=Math.max(0,e.height-(i-e.top)),a=Math.max(0,e.width-(r-e.left));return u.jsx("rect",{...n,x:r,y:i,height:o,width:a})}$.rect`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`;const Kv=$.path`
  fill: none;
  pointer-events: none;
  stroke-linejoin: round;
  stroke: var(--card-badge-caution-dot-color);
`,fHt=$.path`
  fill: none;
  pointer-events: stroke;
  stroke: transparent;
  cursor: pointer;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;

  &:hover {
    opacity: 0.2;
  }
`,hHt=$(dHt)`
  stroke: none;
  pointer-events: none;
  fill: var(--card-badge-caution-dot-color);
`;function I2(e,t,n){return[`M ${e-4} ${t-4*n} `,`L ${e} ${t}`,`L ${e+4} ${t-4*n}`].join("")}function E3(e,t){return`M${e} ${t}`}function ki(e,t){return`L${e} ${t}`}function pHt(e,t=""){return e.join(t)}function jo(e,t,n,r){return`Q${e} ${t} ${n} ${r}`}function mHt(e){const{from:t,to:n}=e,{left:r,top:i}=t,{left:o,top:a}=n,s=[],l=Math.min(4,Math.abs(i-a)/2);return t.isAbove?s.push(E3(r+8,i-12+Ls),ki(r+8,i-4),jo(r+8,i,r+8+4,i)):t.isBelow?s.push(E3(r+8,i+12-Ls),ki(r+8,i+4),jo(r+8,i,r+8+4,i)):s.push(E3(r,i)),n.isAbove?i<n.bounds.top?s.push(ki(n.bounds.left-8-l,i),jo(n.bounds.left-8,i,n.bounds.left-8,i+l),ki(n.bounds.left-8,a-l),jo(n.bounds.left-8,a,n.bounds.left-8+l,a),ki(n.bounds.left+8-4,a),jo(n.bounds.left+8,a,n.bounds.left+8,a-4),ki(n.bounds.left+8,a-12+Ls)):s.push(ki(n.bounds.left+8-4,i),jo(n.bounds.left+8,i,n.bounds.left+8,i-4),ki(n.bounds.left+8,a-12+Ls)):n.isBelow?i>n.bounds.top+n.bounds.height?s.push(ki(n.bounds.left-8-l,i),jo(n.bounds.left-8,i,n.bounds.left-8,i-l),ki(n.bounds.left-8,a+l),jo(n.bounds.left-8,a,n.bounds.left-8+l,a),ki(n.bounds.left+8-4,a),jo(n.bounds.left+8,a,n.bounds.left+8,a+4),ki(n.bounds.left+8,a+12-Ls)):s.push(ki(n.bounds.left+8-4,i),jo(n.bounds.left+8,i,n.bounds.left+8,i+4),ki(n.bounds.left+8,a+12-Ls)):i<a?s.push(ki(n.bounds.left+8-l,i),jo(n.bounds.left+8,i,n.bounds.left+8,i+l),ki(n.bounds.left+8,a-l),jo(n.bounds.left+8,a,n.bounds.left+8+l,a),ki(o,a)):s.push(ki(n.bounds.left+8-l,i),jo(n.bounds.left+8,i,n.bounds.left+8,i-l),ki(n.bounds.left+8,a+l),jo(n.bounds.left+8,a,n.bounds.left+8+l,a),ki(o,a)),pHt(s)}function cQ(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ls,i=e.top>t.top+t.height-Ls;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+tQ,endY:e.top+e.height-tQ,isAbove:r,isBelow:i,outOfBounds:r||i}}function gHt(e){const t={top:e.from.bounds.top+12,bottom:e.from.bounds.top+e.from.bounds.height-12,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-24},n=cQ(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+12,bottom:e.to.bounds.top+e.to.bounds.height-12,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-24},i=cQ(e.to.rect,r),o=Math.max(i.startY,n.startY);return n.top=Math.min(o,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(o,i.endY),i.top<t.top?i.top=Math.min(t.top,i.endY):i.top>t.bottom&&(i.top=Math.max(t.bottom,i.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}const vHt=f.memo((function({from:e,to:t}){const n=gHt({from:e,to:t});if(n.from.outOfBounds&&n.to.outOfBounds)return null;const r=mHt(n);return u.jsxs(u.Fragment,{children:[u.jsx(fHt,{d:r,strokeWidth:16}),u.jsx(Kv,{d:r,strokeWidth:1}),u.jsx(hHt,{top:t.rect.top,left:t.rect.left-.5,height:t.rect.height,width:1,bounds:t.bounds}),n.from.isAbove&&u.jsx(Kv,{d:I2(n.from.left+8,n.from.bounds.top-12+Ls,-1),strokeWidth:1}),n.from.isBelow&&u.jsx(Kv,{d:I2(n.from.left+8,n.from.bounds.top+n.from.bounds.height+12-Ls,1),strokeWidth:1}),n.to.isAbove&&u.jsx(Kv,{d:I2(n.to.bounds.left+8,n.to.bounds.top-12+Ls,-1),strokeWidth:1}),n.to.isBelow&&u.jsx(Kv,{d:I2(n.to.bounds.left+8,n.to.bounds.top+n.to.bounds.height+12-Ls,1),strokeWidth:1}),IUt]})})),yHt=$.svg`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`;function bHt(e,t){f.useEffect((()=>ix.observe(e,t)),[e,t])}function dQ(e,t,n,r){const i=[],o=[];for(const n of e){if(!uHt(n)||!n[1].isChanged)continue;const[e,r]=n;e!==t?r.hasHover?i.push(n):r.hasFocus&&o.push(n):i.push(n)}const a=i.length>0;return{connectors:(a?i:o).map((([e])=>{const t=sQ("field",e,n),r=sQ("change",e,n);return t&&r?{field:{id:e,...t},change:{id:e,...r}}:null})).filter(wi).map((({field:e,change:t})=>({hasHover:e.hasHover||t.hasHover,hasFocus:e.hasFocus,hasRevertHover:t.hasRevertHover,field:{...e,...lQ(e.element,r)},change:{...t,...lQ(t.element,r)}}))),isHoverConnector:a}}function xHt(e){const{rootElement:t,onSetFocus:n}=e,[r,i]=f.useState(null),o=e9(),a=f.useMemo((()=>new Map(o)),[o]),[{connectors:s},l]=f.useState((()=>dQ(o,r,a,t))),c=f.useMemo((()=>Qf(s,(e=>0-e.field.path.length)).slice(0,1)),[s]),d=f.useCallback((()=>{l(dQ(o,r,a,t))}),[a,o,r,t]);return bHt(t,d),u.jsx(sHt,{onScroll:d,children:u.jsx(yHt,{style:{zIndex:c[0]&&c[0].field.zIndex},children:c.map((({field:e,change:t})=>t?u.jsx(wHt,{field:e,change:t,onSetFocus:n,setHovered:i},e.id):null))})})}function wHt(e){const{change:t,field:n,onSetFocus:r,setHovered:i}=e,o=f.useCallback((()=>{uQ(n),uQ(t),r(n.path)}),[n,t,r]),a=f.useCallback((()=>i(n.id)),[n,i]),s=f.useCallback((()=>i(null)),[i]),l=f.useMemo((()=>({rect:{...n.rect,left:n.rect.left+3},bounds:n.bounds})),[n.bounds,n.rect]),c=f.useMemo((()=>({rect:{...t.rect,left:t.rect.left+1},bounds:t.bounds})),[t.bounds,t.rect]);return u.jsxs(u.Fragment,{children:[u.jsx("g",{onClick:o,onMouseEnter:a,onMouseLeave:s,children:u.jsx(vHt,{from:l,to:c})}),DUt]})}function CHt({children:e,className:t,isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i,...o}){const[a,s]=f.useState(),l=f.useMemo((()=>({isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i})),[n,r,i]);return u.jsx(em.Provider,{value:l,children:u.jsx(OUt,{children:u.jsxs(bA,{...o,ref:s,className:t,children:[e,a&&u.jsx(xHt,{rootElement:a,onSetFocus:i})]})})})}const SHt=CHt,fQ=u.jsx(L,{muted:!0,children:u.jsx(Aa,{})}),_3=(e,t)=>u.jsx(N,{as:"li",children:u.jsx(L,{textOverflow:"ellipsis",size:1,weight:"medium",children:e})},`${e}-${t}`);function EHt(e){const{titlePath:t,maxLength:n}=e,r=f.useMemo((()=>{const e=t.length,r=Math.ceil(n/2),i=Math.floor(n/2);return n&&e>n?[...t.slice(0,r-1),t.slice(r-1,e-i),...t.slice(e-i)]:t}),[n,t]),i=f.useMemo((()=>r.map(((e,t)=>{const n=`${e}-${t}`,i=t<r.length-1;return Array.isArray(e)?u.jsxs(f.Fragment,{children:[u.jsx(pt,{content:u.jsx(ne,{space:2,padding:2,children:e.map(_3)}),children:u.jsx(N,{children:_3("...",t)})}),i&&fQ]},n):u.jsxs(f.Fragment,{children:[_3(e,t),i&&fQ]},n)}))),[r]);return u.jsx(U,{align:"center",as:"ol",gap:2,children:i})}function _Ht(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const kHt=$(Rn)`
  align-items: flex-end;
`;function r9(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&_Ht(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const THt="data-active",k3="a,button",AHt=$.div((({theme:e,offset:t})=>de`
    bottom: ${-t}px;
    border-radius: ${ke(e.sanity.radius[1])};
    left: ${-t}px;
    pointer-events: none;
    position: absolute;
    right: ${-t}px;
    top: ${-t}px;
    z-index: 2;

    ${rwe}:focus-visible & {
      box-shadow: ${r9({base:e.sanity.color.base,focusRing:e.sanity.focusRing})};
    }
  `)),jHt=$.div`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`,rwe=$(N)`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`,IHt=$(N).attrs((({$height:e})=>({style:{height:`${e}px`}})))`
  position: relative;
  width: 100%;
`,Qu=f.forwardRef((function({activeItemDataAttr:e=THt,ariaLabel:t,ariaMultiselectable:n=!1,autoFocus:r,canReceiveFocus:i,fixedHeight:o,focusRingOffset:a=0,getItemDisabled:s,getItemKey:l,getItemSelected:c,initialIndex:d,initialScrollAlign:p="start",inputElement:h,itemHeight:m,items:g,onEndReached:y,onEndReachedIndexOffset:v=0,onlyShowSelectionWhenActive:b,overscan:x,renderItem:w,wrapAround:C=!0,...k},j){const S=f.useRef(!1),E=f.useRef(f.useId()),_=f.useRef(d??0),[A,T]=f.useState(null),[D,M]=f.useState(!1),[I,O]=f.useState(null),[N,P]=f.useState(null),R=f.useCallback((e=>{if(!y)return;const[t]=[...e.getVirtualItems()].reverse();t&&t.index>=g.length-v-1&&S.current&&y()}),[y,g.length,v]),F=v6({count:g.length,getItemKey:l,getScrollElement:()=>N,estimateSize:()=>m,onChange:R,overscan:x}),L=f.useMemo((()=>{let e=-1;return g.reduce(((t,n,r)=>{var i,o;const a=null!=(i=s?.(r))&&i,l=null!=(o=c?.(r))&&o;return a||(e+=1),t[r]={activeIndex:a?null:e,disabled:a,selected:l},t}),[])}),[s,c,g]),$=f.useMemo((()=>L.filter((e=>!e.disabled)).length),[L]),B=f.useCallback((e=>I?.setAttribute("data-enabled",(!e).toString())),[I]),V=f.useCallback((e=>`${E.current}-item-${e}`),[]),z=f.useCallback((()=>`${E.current}-children`),[]),U=f.useCallback((()=>{const t=[h,N].some((e=>document.activeElement===e));if(b&&!t&&!D)return;const n=Array.from(A?.children||[]);n?.forEach((t=>{var n,r,i;const o=Number(null==(n=t.dataset)?void 0:n.index),a=null==(r=L[o])?void 0:r.activeIndex;null==(i=t.querySelector(k3))||i.toggleAttribute(e,a===_.current)}))}),[e,A?.children,D,h,L,b,N]),H=f.useCallback((()=>{const t=Array.from(A?.children||[]);t?.forEach((t=>{var n;null==(n=t.querySelector(k3))||n.toggleAttribute(e,!1)}))}),[e,A?.children]),W=f.useMemo((()=>I1(U,200)),[U]),q=f.useCallback((()=>{const e=_?.current;g.length>0?(h?.setAttribute("aria-activedescendant",V(e)),N?.setAttribute("aria-activedescendant",V(e))):(h?.removeAttribute("aria-activedescendant"),N?.removeAttribute("aria-activedescendant"))}),[V,h,g.length,N]),G=f.useCallback((()=>{var e,t;const n=A?.parentElement;if(A&&n){const r=n.getBoundingClientRect().top-A.getBoundingClientRect().top;return null!=(t=null==(e=F.getVirtualItemForOffset(r))?void 0:e.index)?t:-1}return-1}),[A,F]),Y=f.useCallback((({index:e,scrollAlign:t,scrollIntoView:n=!0})=>{if(_.current=e,q(),U(),n){const n=L.findIndex((t=>t.activeIndex===e));n>-1&&F.scrollToIndex(n,t?{align:t}:{})}}),[q,L,U,F]),K=f.useCallback((e=>{let t=-1;const n=$-1;if("next"===e){const e=C?0:n;t=_.current<$-1?_.current+1:e}if("previous"===e){const e=C?n:0;t=_.current>0?_.current-1:e}Y({index:t,scrollIntoView:!0}),B(!1)}),[$,B,Y,C]),Z=f.useCallback((e=>{switch(e){case"input":h?.focus();break;case"list":N?.focus()}}),[h,N]),X=f.useCallback((()=>{h?.focus()}),[h]),J=f.useCallback((()=>{N?.focus()}),[N]),Q=f.useCallback((e=>()=>{Y({index:e,scrollIntoView:!1})}),[Y]),ee=f.useCallback((()=>{U()}),[U]),te=f.useCallback((e=>t=>{const n=Array.from(A?.children||[]);if(n.length&&("ArrowDown"===t.key&&(t.preventDefault(),Z(e),K("next")),"ArrowUp"===t.key&&(t.preventDefault(),Z(e),K("previous")),"Enter"===t.key)){t.preventDefault(),Z(e);const r=n.find((e=>Number(e.dataset.index)===L.findIndex((e=>e.activeIndex===_.current))));if(r){const e=r?.querySelector(k3);e?.click()}}}),[A?.children,Z,L,K]),re=f.useCallback((e=>te("input")(e)),[te]),ie=f.useCallback((e=>te("list")(e)),[te]),oe=f.useCallback((()=>{b&&(U(),M(!0))}),[b,U]),ae=f.useCallback((()=>{b&&(H(),M(!1))}),[H,b]);f.useImperativeHandle(j,(()=>({focusInputElement(){X()},focusListElement(){J()},getTopIndex:()=>G(),scrollToIndex(e){Y({index:e}),B(!0)}})),[B,X,J,G,Y]),f.useEffect((()=>{typeof d<"u"&&!S.current&&Y({index:d,scrollAlign:p,scrollIntoView:!0}),S.current=!0}),[d,p,b,Y]),f.useEffect((()=>{function e(){B(!0)}return N?.addEventListener("mousemove",e),N?.addEventListener("wheel",e,{passive:!0}),()=>{N?.removeEventListener("mousemove",e),N?.removeEventListener("wheel",e)}}),[B,N]),f.useEffect((()=>(h?.addEventListener("focus",ee),h?.addEventListener("keydown",re),N?.addEventListener("focus",ee),N?.addEventListener("keydown",ie),()=>{h?.removeEventListener("focus",ee),h?.removeEventListener("keydown",re),N?.removeEventListener("focus",ee),N?.removeEventListener("keydown",ie)})),[i,ee,te,re,ie,H,h,U,N]),f.useEffect((()=>{q()}),[q,g]),f.useEffect((()=>{const e=new MutationObserver(W);return A&&e.observe(A,{childList:!0,subtree:!0}),()=>{e.disconnect()}}),[A,W]),f.useEffect((()=>{h?.setAttribute("aria-autocomplete","list"),h?.setAttribute("aria-expanded","true"),h?.setAttribute("aria-controls",z()),h?.setAttribute("role","combobox")}),[z,h]),f.useEffect((()=>{r&&Z(r)}),[r,i,J,X,Z]);const se=i?0:-1;return u.jsxs(rwe,{id:z(),onMouseEnter:oe,onMouseLeave:ae,ref:P,sizing:"border",tabIndex:se,...k,children:[i&&u.jsx(AHt,{offset:a}),u.jsx(jHt,{"aria-hidden":"true","data-enabled":!0,ref:O}),F&&u.jsx(IHt,{forwardedAs:"ul",$height:F.getTotalSize(),"aria-label":t,"aria-multiselectable":n,flex:1,ref:T,role:"listbox",children:F.getVirtualItems().map((e=>{const t=e.index,{activeIndex:r,disabled:i,selected:a}=L[t],s=w(g[t],{activeIndex:r,disabled:i,selected:a,virtualIndex:t}),l=f.cloneElement(s,{tabIndex:-1}),c="number"!=typeof r||i?{}:{"aria-posinset":r+1,...n?{"aria-selected":a.toString()}:{},"aria-setsize":$,id:V(r),role:"option",onMouseEnter:Q(r)};return u.jsx(ne,{as:"li","data-index":t,ref:o?void 0:F.measureElement,style:{flex:1,...o?{height:`${e.size}px`}:{},left:0,position:"absolute",top:0,transform:`translateY(${e.start}px)`,width:"100%"},tabIndex:-1,...c,children:l},e.key)}))})]})})),ai=f.forwardRef((function(e,t){const{mode:n="bleed",tooltipProps:r,tone:i,...o}=e,{t:a}=Z();return u.jsx(me,{...o,icon:a1,mode:n,ref:t,tone:i,tooltipProps:{...r,content:r?.content||a("common.context-menu-button.tooltip")}})}));function My({name:e,title:t},n){return"string"==typeof e&&e.trim().length>0?e:wP(t,n)}function wP(e,t){return`at index ${t}${"string"==typeof e&&e.trim().length>0?` (titled "${e}")`:""}`}function Iw(){const e=f.useContext(Sae);if(!e)throw new Error("Could not find `workspaces` context");return e}var DHt=Object.defineProperty,OHt=(e,t,n)=>t in e?DHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hQ=(e,t,n)=>OHt(e,"symbol"!=typeof t?t+"":t,n);class Cu extends Error{constructor(e,t){super(e),hQ(this,"index"),hQ(this,"identifier"),this.name="WorkspaceValidationError",this.index=t?.index,this.identifier=t?.workspace&&My(t.workspace,t.index)}}function RHt({workspaces:e}){if(0===e.length)throw new Cu("At least one workspace is required.");MHt(e),$Ht(e)}function MHt(e){const t=1===e.length,n=new Map;e.forEach(((e,r)=>{const{name:i,title:o}=e,a=wP(o,r);if(!i&&!t)throw new Cu(`All workspaces must have a \`name\`, unless only a single workspace is defined. Workspace ${a} did not define a \`name\`.`,{workspace:e,index:r});const s=t&&typeof i>"u"?"default":i;if("string"!=typeof s)throw new Cu(`Workspace at index ${r} defined an invalid \`name\` - must be a string.`,{workspace:e,index:r});const l=s.toLowerCase(),u=n.get(l);if(u){const t=wP(u.workspace.title,u.index);throw new Cu(`\`name\`s must be unique. Workspace ${t} and workspace ${a} both have the \`name\` \`${s}\``,{workspace:e,index:r})}if(n.set(l,{index:r,workspace:e}),!/^[a-z0-9][a-z0-9_-]*$/i.test(s))throw new Cu(`All workspace \`name\`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. Workspace ${a} has the invalid name \`${s}\``,{workspace:e,index:r})}))}function $Ht(e){e.length>1&&e.every(PHt),e.every(FHt);const[t,...n]=e,r=(t.basePath||"/").slice(1).split("/").filter(Boolean).length;n.forEach(((e,n)=>{const i=(e.basePath||"/").slice(1).split("/").length;if(r!==i)throw new Cu(`All workspace \`basePath\`s must have the same amount of segments. Workspace \`${My(t,n)}\` had ${r} segment${1===r?"":"s"} \`${t.basePath}\` but workspace \`${My(e,n)}\` had ${i} segment${1===i?"":"s"} \`${e.basePath}\``,{workspace:e,index:n})}));const i=new Map;e.forEach(((e,t)=>{const n=(e.basePath||"").toLowerCase(),r=i.get(n);if(r)throw new Cu(`\`basePath\`s must be unique. Workspaces \`${r}\` and \`${My(e,t)}\` both have the \`basePath\` \`${n}\``,{workspace:e,index:t});i.set(n,My(e,t))}))}function PHt(e,t){const{name:n,basePath:r}=e;if(r&&"string"==typeof r)return!0;throw new Cu(typeof r>"u"?`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` is missing a \`basePath\``:`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` has an invalid \`basePath\` (must be a non-empty string)`,{workspace:e,index:t})}function FHt(e,t){const{name:n,basePath:r}=e;if(r&&"/"!==r&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Cu(`All workspace \`basePath\`s must start with a leading \`/\`, consist of only URL safe characters, and cannot end with a trailing \`/\`. Workspace \`${n}\`'s basePath is \`${r}\``,{workspace:e,index:t})}const LHt=()=>f.createElement(f.Fragment);function NHt(e,t){return n=>{let r=t=>f.createElement(e,t);for(const e of t){const t=r;r=n=>f.createElement(e,{...n,renderDefault:t})}return r({...n,renderDefault:LHt})}}function gl(e){const{options:t}=Sn().__internal,{defaultComponent:n,pick:r}=e;return f.useMemo((()=>{const e=[...Am(t,[])];e.reverse();const i=e.map((({config:e})=>r(e))).filter(Boolean);return NHt(n,i)}),[n,t,r])}var BHt=Object.defineProperty,VHt=(e,t,n)=>t in e?BHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T3=(e,t,n)=>VHt(e,"symbol"!=typeof t?t+"":t,n);class pQ extends Error{constructor({propertyName:e,path:t,cause:n}){const r=xt(n)&&"string"==typeof n?.message?`: ${n.message}`:"";super(`An error occurred while resolving \`${e}\` from ${t.join(" > ")}${r}`),T3(this,"propertyName"),T3(this,"path"),T3(this,"cause"),this.name="ConfigPropertyError",this.propertyName=e,this.cause=n,this.path=t}}var zHt=Object.defineProperty,UHt=(e,t,n)=>t in e?zHt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A3=(e,t,n)=>UHt(e,"symbol"!=typeof t?t+"":t,n);class Hs extends Error{constructor({causes:e,name:t,type:n}){super(`Could not resolve ${n}${t?` \`${t}\``:""}:\n${e.filter(Boolean).map((e=>xt(e)&&"string"==typeof e?.message?e.message:String(e))).map((e=>`\t- ${e}`)).join("\n")}\n\n`),A3(this,"name"),A3(this,"type"),A3(this,"causes"),this.name=t,this.causes=e,this.type=n}}function mQ(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(BT);if(t.length)throw new Error(`Invalid plugin configuration:\n${t.map((e=>`\t${e}`)).join("\n")}`)}function K1(e){if("function"==typeof e){const t=e;return e=>{const n=t(e);return mQ(n),n}}return mQ(e),()=>e}const HHt=(e,{document:t},n)=>{const r=t?.unstable_fieldActions;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received "+typeof r)},WHt=[];function GHt(e){const t=Ur();return f.useEffect((()=>{console.error("Scheduled publishing plugin is added by default, please remove this plugin from your config. \n        \nIf you have a custom date config, you can use the scheduledPublishing API to customize the date input.\n        \nSee: https://www.sanity.io/docs/scheduled-publishing.\n        "),t.push({id:"scheduled-publishing-deprecated",closable:!0,duration:6e4,status:"error",title:"Scheduled publishing plugin is deprecated",description:"The scheduled publishing plugin is now deprecated, you should remove the plugin from your configuration. If you have a custom date config, you can use the scheduledPublishing API to customize the date input. See: https://www.sanity.io/docs/scheduled-publishing."})}),[t]),e.renderDefault(e)}const YHt=K1({name:"sanity/deprecated/scheduled-publishing",studio:{components:{layout:GHt}}}),qHt=["scheduled-publishing"],Am=({plugins:e=[],...t},n)=>{const r={config:t,path:[...n,t.name]},i=e.flatMap((e=>Am(e,[...n,t.name]))),o=i.find((e=>"scheduled-publishing"===e.config.name));return o&&i.push({path:o.path,config:YHt()}),[...i.filter((e=>!qHt.includes(e.config.name))),r]},KHt=!1,gQ=750,CP=2e3,ZHt=$(ae)((({$fill:e})=>de`
    align-items: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;

    ${e?de`
          bottom: 0;
          height: 100%;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
          width: 100%;
        `:de`
          min-height: 75px;
          height: stretch;
          height: -webkit-fill-available;
          width: stretch;
          width: -webkit-fill-available;
        `}

    ${KHt}

    > * {
      position: absolute;
    }
  `)),XHt=$(qf)((({$animatePosition:e=!0})=>de`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes slideUp {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-15px);
      }
    }
    animation: ${e?"500ms ease-out 750ms 1 normal both running fadeIn, 750ms ease-out 2000ms 1 normal both running slideUp":"500ms ease-out 750ms 1 normal both running fadeIn"};
  `)),JHt=$(L)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slideDown {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(15px);
    }
  }
  animation:
    1500ms ease-out ${CP}ms 1 normal both running fadeIn,
    750ms ease-out ${CP}ms 1 normal both running slideDown;
`;function wn({fill:e,showText:t,title:n}){return u.jsxs(ZHt,{$fill:e,as:e?go:"div",children:[u.jsx(XHt,{$animatePosition:!!t,muted:!0}),t&&u.jsx(QHt,{title:n})]})}function QHt({title:e}){const{t:t}=Z();return u.jsx(JHt,{muted:!0,size:1,children:e||t("common.loading")})}function eWt(e){return!("then"in e.resources&&"function"==typeof e.resources.then)}function iwe(e,t){return t}const ax="studio",tWt="validation",nWt=iwe("studio",{"asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-hour":"Select hour","calendar.action.select-minute":"Select minute","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close review changes","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading","changes.loading-changes":"Loading changes","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.title":"Review changes","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","configuration-issues.button.label":"Configuration issues","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members  verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.error.unhandled-runtime-error.call-stack.title":"Call Stack:","form.error.unhandled-runtime-error.component-stack.title":"Component Stack:","form.error.unhandled-runtime-error.error-message":"Error: {{message}}","form.error.unhandled-runtime-error.title":"Unhandled Runtime Error","form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is {{latestVersion}}","help-resources.studio-version":"Sanity Studio version {{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.insert-menu.filter.all-items":"All","inputs.array.insert-menu.search.no-results":"No items found","inputs.array.insert-menu.search.placeholder":"Search","inputs.array.insert-menu.toggle-grid-view.tooltip":"Toggle grid view","inputs.array.insert-menu.toggle-list-view.tooltip":"Toggle list view","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value","inputs.boolean.disabled":"Disabled","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Browse","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":'Search returned a type that\'s not valid for this reference: "{{returnedType}}"',"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes />.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>{{searchTerm}}</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER","inputs.tags.placeholder_touch":"Enter tag","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_delete-schedules":"You do not have permission to delete schedules.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_edit-schedules":"You do not have permission to edit schedules.","insufficient-permissions-message.not-authorized-explanation_execute-schedules":"You do not have permission to execute schedules.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","new-document.button":"Create","new-document.create-new-document-label":"New document","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","package-version.new-package-available.description":"Simply reload to use the new version.","package-version.new-package-available.reload-button":"Reload","package-version.new-package-available.title":"Sanity Studio was updated","presence.action.manage-members":"Manage members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}}  {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}}  {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","sheet-list.edit-columns":"Edit columns","sheet-list.hide-field":"Remove from table","sheet-list.reset-columns":"Reset columns","sheet-list.select-fields":"Select up to 5 field types","status-button.aria-label":"Configuration status","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-revision":"Latest revision","timeline.latest-version":"Latest revision","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.since":"Since: {{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","tree-editing-dialog.breadcrumbs.menu":"Breadcrumb menu","tree-editing-dialog.search-placeholder":"Search","tree-editing-dialog.search.menu-label":"Search menu","tree-editing-dialog.search.no-results-title":"No results found","tree-editing-dialog.sidebar.action.close":"Close sidebar","tree-editing-dialog.sidebar.action.collapse":"Collapse","tree-editing-dialog.sidebar.action.done":"Done","tree-editing-dialog.sidebar.action.expand":"Expand","tree-editing-dialog.sidebar.action.open":"Open sidebar","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}),rWt={locale:"en-US",namespace:ax,resources:nWt},iWt=iwe("validation",{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}),aWt={locale:"en-US",namespace:tWt,resources:iWt},awe={id:"en-US",title:"English (US)",bundles:[rWt,aWt],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},Vs=awe,Z1=(()=>{const e="__tmp_supports_local_storage";try{return!(typeof localStorage>"u")&&(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),oWt="sanity-locale";function sWt(e,t){if(!Z1)return;return localStorage.getItem(owe(e,t))??void 0}function lWt(e,t,n){Z1&&localStorage.setItem(owe(e,t),n)}function owe(e,t){return[oWt,e,t].join(":")}function uWt(e){const{projectId:t,name:n,i18n:{locales:r},__internal:{i18next:i}}=Sn();return u.jsx(cWt,{...e,projectId:t,sourceId:n,locales:r,i18next:i})}function cWt({projectId:e,sourceId:t,locales:n,i18next:r,children:i}){const o=f.useCallback((e=>(r.on("languageChanged",e),()=>r.off("languageChanged",e))),[r]),a=f.useSyncExternalStore(o,(()=>n.find((e=>r.language===e.id))||Vs)),s=f.useMemo((()=>({locales:n,currentLocale:a,__internal:{i18next:r},changeLocale:async n=>{lWt(e,t,n),await r.changeLanguage(n)}})),[a,r,n,e,t]);return u.jsx(f.Suspense,{fallback:u.jsx(wn,{}),children:u.jsx(KVe,{i18n:r,children:u.jsx(Q4.Provider,{value:s,children:i},a.id)})})}function xA(e){const t=Array.isArray(e)?e:[e],n=JSON.stringify(t.flatMap((e=>null!=e&&e.i18n?Object.values(e.i18n).map((({ns:e})=>e)):[])).filter(wi).sort()),r=f.useMemo((()=>JSON.parse(n)),[n]),{t:i}=Z(r);return f.useCallback((function(e){const{i18n:t}=e;return t?new Proxy(e,{get:(e,n)=>{const r=e[n];if("string"==typeof n&&n in t){const{key:e,ns:o}=t[n];return i(e,{ns:o,..."string"==typeof r&&{defaultValue:r}})}return r}}):e}),[i])}function ec(e){const t=f.useMemo((()=>e.i18n?Array.from(new Set(Object.values(e.i18n).map((({ns:e})=>e)))).sort():[]),[e.i18n]),{t:n}=Z(t);return f.useMemo((()=>{const{i18n:t}=e;return t?new Proxy(e,{get:(e,r)=>{const i=e[r];if("string"==typeof r&&r in t){const{key:e,ns:o}=t[r];return n(e,{ns:o,..."string"==typeof i&&{defaultValue:i}})}return i}}):e}),[e,n])}function oh(){return i9().currentLocale}function i9(){const e=f.useContext(Q4);if(!e)throw new Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return e}const Dc=(()=>{const e={dateTimeFormat:D2(),listFormat:D2(),numberFormat:D2(),relativeTimeFormat:D2()};return{dateTimeFormat:function(t,n){const r=O2(t,n);let i=e.dateTimeFormat[r];return i||(i=new Intl.DateTimeFormat(t,n),e.dateTimeFormat[r]=i,i)},listFormat:function(t,n){const r=O2(t,n);let i=e.listFormat[r];return i||(i=new Intl.ListFormat(t,n),e.listFormat[r]=i,i)},numberFormat:function(t,n){const r=O2(t,n);let i=e.numberFormat[r];return i||(i=new Intl.NumberFormat(t,n),e.numberFormat[r]=i,i)},relativeTimeFormat:function(t,n){const r=O2(t,n);let i=e.relativeTimeFormat[r];return i||(i=new Intl.RelativeTimeFormat(t,n),e.relativeTimeFormat[r]=i,i)}}})();function D2(){return Object.create(null)}function O2(e,t){return`${e}-${JSON.stringify(dWt(t))}`}function dWt(e){const t=[];for(const[n,r]of Object.entries(e))t.push(`${n}=${JSON.stringify(r)}`);return t.sort().join("\n")}function jm(e={}){var t;const n=null==(t=f.useContext(Q4))?void 0:t.currentLocale.id;return n?Dc.listFormat(n,e):Dc.listFormat("en-US",{...e,style:"narrow"})}const fWt=/^<(?<tag>[^\s\d<][^/?><]+)\/?>/,hWt=/<\/(?<tag>[^>]+)>/,pWt=/<[^>]+\/>/,mWt=/^[A-Z][A-Za-z0-9]+$/,gWt=/^[a-z]+$/,vWt=/{{\s*?([^}]+)\s*?}}/g;function yWt(e){const t=[];let n="",r="",i=e;for(;i.length>0;)if(r||"<"!==i[0])if(r&&"<"===i[0]&&"<"!==i[1]){const e=CWt(i);if(e){const o=e.groups.tag;if("/"!==i[1])throw new Error(`Expected closing tag for <${r}>, but found new opening tag <${o}>. Nested tags is not supported.`);if(o!==r)throw new Error(`Expected closing tag for <${r}>, but found closing tag </${o}> instead. Make sure each opening tag has a matching closing tag.`);n&&(t.push(...j3(n)),n=""),t.push({type:"tagClose",name:o}),r="",i=i.slice(e[0].length)}else n+=i[0],i=i.slice(1)}else n+=i[0],i=i.slice(1);else{const e=wWt(i);if(e){const o=e.groups.tag;SWt(o),n&&(t.push(...j3(n)),n=""),xWt(e[0])?t.push({type:"tagOpen",selfClosing:!0,name:o}):(t.push({type:"tagOpen",name:o}),r=o),i=i.slice(e[0].length)}else n+=i[0],i=i.slice(1)}if(r)throw new Error(`No matching closing tag for <${r}> found. Either make it self closing (e.g. "<${r}/>") or close it (e.g "<${r}>...</${r}>").`);return n&&t.push(...j3(n)),t}function j3(e){const t=[],n=e.matchAll(vWt);let r=0;for(const i of n){if(typeof i.index>"u")continue;const n=e.slice(r,i.index);n.length>0&&t.push({type:"text",text:n}),t.push(bWt(i[0])),r+=n.length+i[0].length}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}function bWt(e){const[t,...n]=e.replace(/^\{\{|\}\}$/g,"").trim().split(/\s*,\s*/);if(1===n.length&&"list"===n[0])return{type:"interpolation",variable:t,formatters:n};if(n.length>0)throw new Error(`Interpolations with formatters are not supported when using <Translate>. Found "${e}". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.`);return{type:"interpolation",variable:t}}function xWt(e){return pWt.test(e)}function wWt(e){return e.match(fWt)}function CWt(e){return e.match(hWt)}function SWt(e){if(!mWt.test(e)&&!gWt.test(e))throw new Error(e.trim()===e?`Invalid tag "<${e}>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.`:`Invalid tag "<${e}>". No whitespace allowed in tags.`)}const EWt=/^[A-Z]/,_Wt=["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"];function dt(e){const t=e.t(e.i18nKey,{context:e.context,skipInterpolation:!0,count:e.values&&"count"in e.values&&"number"==typeof e.values.count?e.values.count:void 0}),n=f.useMemo((()=>yWt(t)),[t]),r=jm(),i={list:e=>r.format(e)};return u.jsx(u.Fragment,{children:Zd(n,e.values,e.components||{},i)})}function Zd(e,t,n,r){const[i,...o]=e;if(!i)return null;if("interpolation"===i.type){const e=t?t[i.variable]:void 0;if(typeof e>"u")return`{{${i.variable}}}`;const a=kWt(e,i.formatters||[],r);return u.jsxs(u.Fragment,{children:[a,Zd(o,t,n,r)]})}if("text"===i.type)return u.jsxs(u.Fragment,{children:[i.text,Zd(o,t,n,r)]});if("tagOpen"===i.type&&i.selfClosing){const e=n[i.name];if(!e)throw new Error(`Component not found: ${i.name}`);return u.jsxs(u.Fragment,{children:[u.jsx(e,{}),Zd(o,t,n,r)]})}if("tagOpen"===i.type&&!i.selfClosing){const e=o.findIndex((e=>"tagClose"===e.type)),a=o[e];if(a&&i.name!==a.name)throw new Error("Nested tags is not allowed");const s=n[i.name];if(!s&&EWt.test(i.name))throw new Error(`Component not defined: ${i.name}`);if(!s&&!_Wt.includes(i.name))throw new Error(`HTML tag "${i.name}" is not allowed`);const l=o.slice(0,e),c=o.slice(e+1);return s?u.jsxs(u.Fragment,{children:[u.jsx(s,{children:Zd(l,t,n,r)}),Zd(c,t,n,r)]}):u.jsxs(u.Fragment,{children:[f.createElement(i.name,{},Zd(l,t,n,r)),Zd(c,t,n,r)]})}return null}function kWt(e,t,n){let r=e;for(const i of t)if("list"===i){if(!Array.isArray(e))throw new Error("List formatter used on non-array value");r=n.list(e)}return`${r}`}const zt={apiVersion:"2024-05-28"};function TWt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}function SP(e,t){return e<1e3?t(e,"byte"):e<1e6?t(e/1e3,"kilobyte"):e<1e9?t(e/1e6,"megabyte"):e<1e12?t(e/1e9,"gigabyte"):t(e/1e12,"terabyte")}function AWt({client:e}){const t=e.withConfig(zt),n=new Ave((async e=>{const n=(await t.request({uri:`/users/me/keyvalue/${e.join(",")}`,withCredentials:!0}).catch((t=>(console.error("Error fetching data:",t),Array(e.length).fill(null))))).reduce(((e,t)=>(null!=t&&t.key&&(e[t.key]=t.value),e)),{});return e.map((e=>n[e]||null))})),r=e=>Qn(n.loadMany(e)),i=e=>Qn(t.request({method:"PUT",uri:"/users/me/keyvalue",body:e,withCredentials:!0})).pipe(fe((e=>e.map((e=>(n.clear(e.key),n.prime(e.key,e.value),e.value))))),pn((t=>(console.error("Error setting data:",t),we(Array(e.length).fill(null))))));return{getKey:e=>r([e]).pipe(fe((e=>e[0]))),setKey:(e,t)=>i([{key:e,value:t}]).pipe(fe((e=>e[0]))),getKeys:r,setKeys:i}}function jWt({client:e}){const t=AWt({client:e}),n=new kr,r=n.pipe(ht((e=>t.setKey(e.key,e.value).pipe(fe((t=>({key:e.key,value:t})))))),Bi(1));return{getKey:e=>kn(t.getKey(e),r.pipe(jt((t=>t.key===e)),fe((e=>e.value)))),setKey:(e,t)=>(n.next({key:e,value:t}),r.pipe(jt((t=>t.key===e)),fe((e=>e.value)),xa(1)))}}var IWt=Object.defineProperty,DWt=(e,t,n)=>t in e?IWt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OWt=(e,t,n)=>DWt(e,t+"",n);class wA extends Error{constructor({projectId:e}){super("CorsOriginError"),OWt(this,"projectId"),this.name="CorsOriginError",this.projectId=e}}const a9={};function swe(e,t){Z1?localStorage[e]=t:a9[e]=t}function RWt(e){return Z1?localStorage[e]:a9[e]}function lwe(e){Z1?localStorage.removeItem(e):delete a9[e]}function MWt(e){const t=typeof window>"u"?we():Ka(window,"storage"),n=`__studio_local_storage_messaging_${e}`,r=new kr;return{messages:kn(r,t.pipe(jt((e=>e.key===n)),fe((e=>e.newValue)),jt(wi),fe((e=>JSON.parse(e))))).pipe(Bi(1)),broadcast:function(e){try{swe(n,JSON.stringify(e)),lwe(n),r.next(e)}catch{}}}}const $Wt=$.svg((({theme:e})=>{const{fg:t}=e.sanity.color.base;return de`
    fill: ${t};
  `})),PWt=$.img`
  height: 19px;
  width: 19px;
  object-fit: contain;
`,FWt=()=>u.jsx($Wt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:u.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),LWt=()=>u.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[u.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),u.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),u.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),u.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function NWt(e){const{provider:t}=e;return t.logo?u.jsx(PWt,{src:t.logo,alt:`Logo for ${t.name}`}):void 0}const BWt={google:LWt,github:FWt};async function VWt({client:e,mode:t,providers:n=[]}){if("replace"===t&&Array.isArray(n))return n;const{providers:r}=await e.request({uri:"/auth/providers"});return"function"==typeof n?n(r):0===n.length?r:"replace"===t?n:r.filter((e=>n.some((t=>t.url!==e.url)))).concat(n)}function vQ({loginMethod:e="dual",projectId:t,url:n,redirectPath:r}){const i=new URLSearchParams;return i.set("origin",`${window.location.origin}${r}`),i.set("projectId",t),"token"===e?i.set("withSid","true"):i.set("type",e),`${n}?${i}`}function zWt({getClient:e,loginMethod:t,redirectOnSingle:n,...r}){const i=ah(e);return function({projectId:e,...o}){const a=o.redirectPath||o.basePath||"/",[s,l]=f.useState(null),[c,d]=f.useState(null);if(c)throw c;const[p]=i();f.useEffect((()=>{p&&VWt({client:p,...r}).then(l).catch(d)}),[p]);const h=n&&1===s?.length&&s?.[0]&&vQ({loginMethod:t,projectId:e,url:s[0].url,redirectPath:a}),m=!s||h;return f.useEffect((()=>{h&&(window.location.href=h)}),[h]),m?u.jsx(wn,{showText:!0}):u.jsxs(ne,{space:4,children:[u.jsx(Ci,{align:"center",size:1,children:"Choose login provider"}),u.jsx(ne,{space:2,children:s.map(((n,r)=>u.jsx(me,{as:"a",icon:BWt[n.name]||u.jsx(NWt,{provider:n}),href:vQ({loginMethod:t,projectId:e,url:n.url,redirectPath:a}),mode:"ghost",size:"large",text:n.title},`${n.url}_${r}`)))})]})}}const yQ=/sid=([^&]{20,})&?/;function UWt(){if(typeof window>"u"||"object"!=typeof window.location)return null;const e=window.location.hash,[,t]=e.match(yQ)||[];if(!t)return null;const n=e.replace(yQ,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let bQ=UWt();const HWt=()=>{const e=bQ;return e&&(bQ=null),e};function WWt(e){return xt(e)&&"state"in e&&xt(e.state)&&"subscribe"in e.state&&"function"==typeof e.state.subscribe}function GWt(e){return["dual","token"].includes(e)}const o9=e=>{if(!e)throw new Error("Invalid project id");return`__studio_auth_token_${e}`},I3=e=>{try{const t=RWt(o9(e));if(t){const{token:e}=JSON.parse(t);if(e&&"string"==typeof e)return e}}catch(e){console.error(e)}return null},uwe=e=>{try{lwe(o9(e))}catch(e){console.error(e)}},YWt=({token:e,projectId:t})=>{try{swe(o9(t),JSON.stringify({token:e,time:(new Date).toISOString()}))}catch(e){console.error(e)}},xQ=async(e,t)=>{var n;try{const t=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return"string"==typeof t?.id?t:null}catch(r){if(401===r.statusCode)return uwe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then((()=>!0),(()=>!1)))throw new wA({projectId:null==(n=e.config())?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const e=new URL(r.request.url).host;throw new Error(`Unknown network error attempting to reach ${e}`)}throw r}};function qWt({clientFactory:e,projectId:t,dataset:n,apiHost:r,loginMethod:i="dual",...o}){const{broadcast:a,messages:s}=MWt(`dual_mode_auth_${t}`),l=e??Jhe,u=s.pipe(xi(GWt(i)?I3(t):null)),c={};r?c.apiHost=r:typeof __SANITY_STAGING__<"u"&&!0===__SANITY_STAGING__&&(c.apiHost="https://api.sanity.work");const d=u.pipe(fe((e=>l({projectId:t,dataset:n,apiVersion:"2021-06-07",useCdn:!1,...e&&{token:e},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...c}))),ht((e=>Pi((async()=>{const t=await xQ(e,a);return{currentUser:t,client:e,authenticated:!!t}})))),mr(((e,t)=>bt(e.currentUser,t.currentUser))),Bi(1));const f=zWt({...o,getClient:()=>d.pipe(fe((e=>e.client))),loginMethod:i});return{handleCallbackUrl:async function(){const e=HWt();if(!e)return void a("cookie"===i?null:I3(t));const r=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...c});let o;if(("dual"===i||"cookie"===i)&&(o=await xQ(r,a)),o||"cookie"===i)return void a(null);const s=await async function(e,n){const{token:r}=await e.request({method:"GET",uri:"/auth/fetch",query:{sid:n},tag:"auth.fetch-token"});return YWt({token:r,projectId:t}),r}(r,e);a(s??null)},token:u,state:d,LoginComponent:f,logout:async function(){var e;const r=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,token:null!=(e=I3(t))?e:void 0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...c});uwe(t),await r.request({uri:"/auth/logout",method:"POST"}),a(null)}}}function cwe(e){return"object"!=typeof e||null===e?`${e}`:JSON.stringify(Object.fromEntries(Object.entries(e).sort((([e],[t])=>e.localeCompare(t,"en"))).map((([e,t])=>[e,cwe(t)]))))}const KWt=Pk(qWt,cwe);function dwe(e){return"google"===e?"Google":"github"===e?"GitHub":"sanity"===e?"Sanity":null!=e&&e.startsWith("saml-")?"SAML/SSO":void 0}function ZWt(e){return t=>{let n=[];const r=pn(((t,i)=>(n.push(t),e(t,n.length,i).pipe(r))));return t.pipe(qn((()=>{n=[]})),r)}}const wQ=typeof window>"u"?we({}):Ka(window,"online"),XWt=typeof window>"u"?we({}):Ka(window,"offline"),JWt=e=>100*Math.pow(2,e),QWt={type:"connecting"},fwe=Rme(),eGt=fwe[0];fwe[1];const tGt=({error:e,isOffline:t,attemptNo:n,retryAt:r})=>({type:"error",error:e,attemptNo:n,isOffline:t,retryAt:r});function nGt({bifur:e}){return{connectionStatus$:kn(e.heartbeats,XWt.pipe(E0(Rf(new Error("The browser went offline"))))).pipe(fe((e=>({type:"connected",lastHeartbeat:e}))),ZWt(((e,t,n)=>{const r=Math.min(24e4,JWt(t)),i=new Date((new Date).getTime()+r),o=ri(i),a=!navigator.onLine,s=tGt({error:e,retryAt:i,isOffline:a,attemptNo:t}),l=_6.pipe(j6(a?wQ:kn(o,wQ,eGt)));return bi(we(s),l.pipe(xa(1)),n)})),xi(QWt))}}function CA(e){return e.type?CA(e.type):"block"===e.name}function rGt(e){return"field"===e.kind&&"array"===e.field.schemaType.jsonType}const iGt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aGt=/_key\s*==\s*['"](.*)['"]/;function Bn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce(((e,t,n)=>{if(ss(t))return`${e}[${t}]`;if(Vn(t)&&t._key)return`${e}[_key=="${t._key}"]`;if(Af(t)){const[n,r]=t;return`${e}[${n}:${r}]`}if("string"==typeof t)return`${e}${0===n?"":"."}${t}`;throw new Error(`Unsupported path segment \`${JSON.stringify(t)}\``)}),"")}function Vo(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(ss(n))return Vo(Array.isArray(e)?e[n]:void 0,r);if(Vn(n))return Vo(Array.isArray(e)?e.find((e=>e._key===n._key)):void 0,r);if("string"==typeof n)return Vo(xt(e)?e[n]:void 0,r);throw new Error(`Unknown segment type ${JSON.stringify(n)}`)}function oGt(e,t){return"number"==typeof t||Vn(t)?"number"==typeof t?t:e.findIndex((e=>Fl(e)&&e._key===t._key)):-1}function sGt(e){const t=e.match(iGt);if(!t)throw new Error("Invalid path string");return t.map(lGt)}function lGt(e){return ss(e)?uGt(e):Vn(e)?cGt(e):Af(e)?dGt(e):e}function uGt(e){return Number(e.replace(/[^\d]/g,""))}function cGt(e){const t=e.match(aGt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function dGt(e){const[t,n]=e.split(":").map((e=>""===e?e:Number(e)));return[t,n]}function hwe(e,t){return e.length===t.length&&e.every(((e,n)=>{const r=t[n];return Vn(e)&&Vn(r)?e._key===r._key:ss(e)?Number(e)===Number(r):Af(e)&&Af(r)?e[0]===r[0]&&e[1]===r[1]:e===r}))}function pwe(e){return Fl(e)?e._key:void 0}function EP(e){const t=pwe(e);return t?{_key:t}:void 0}function fGt(e){return"object"==typeof e&&null!==e&&Object.keys(e).length<=0}function mwe(e,t){return e.get(t?.author||null)}function Dw(e,t){return hGt(e,Array.isArray(t)?t:sGt(t))}function hGt(e,t){const n=_P(e,t);if(n&&"unchanged"!==n.action)return n.annotation||void 0}function _P(e,t,n=[]){if(0===t.length)return e;const r=t[0],i=t.slice(1);if(Af(r))throw new Error("Index tuples are not supported in diff paths");if(ss(r)||Vn(r)){ss(r)||r._key;if("array"!==e.type)return void Bn(n);const t=e.items.find(ss(r)?e=>e.toIndex===r:e=>pGt(e,r));return t?_P(t.diff,i,n.concat(r)):void Bn(n)}if("object"!==e.type)return void Bn(n);const o=e.fields[r];if(!(typeof o>"u"))return _P(o,i,n.concat(r));Bn(n)}function pGt(e,t){const n=e.diff;return!("object"!==n.type||!n.toValue)&&n.toValue._key===t}function SA(e,t,n=[]){if(t(e,n)){if("array"===e.type)return void mGt(e,t,n);if("object"===e.type)return void gGt(e,t,n);"string"===e.type&&vGt(e,t,n)}}function mGt(e,t,n){"unchanged"!==e.action&&e.items.forEach((e=>{var r;const i="object"===e.diff.type&&(null==(r=e.diff.toValue)?void 0:r._key),o=i?{_key:i}:yGt(e);SA(e.diff,t,n.concat(o))}))}function gGt(e,t,n){"unchanged"!==e.action&&Object.keys(e.fields).forEach((r=>{SA(e.fields[r],t,n.concat(r))}))}function vGt(e,t,n){"unchanged"!==e.action&&e.segments.forEach((e=>{SA(e,t,n)}))}function yGt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function s9(){const e=f.useContext(Iae);if(!e)throw new Error("UserColorManager: missing context value");return e}function gwe(e){const t=s9();return Wr(f.useMemo((()=>e?t.listen(e):Zn),[t,e]),t.get(null))}const bGt="purple",xGt=["green","red","gray"],wGt=nF.filter((e=>!xGt.includes(e))),vwe=e=>{const t="dark"===e;return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},CGt=e=>{const{background:t,border:n,text:r}=vwe(e);return wGt.reduce(((e,i)=>(e[i]={name:i,background:et[i][t].hex,border:et[i][n].hex,text:et[i][r].hex,tints:et[i]},e)),{})},SGt=e=>{const{background:t,border:n,text:r}=vwe(e);return{name:"gray",background:et.gray[t].hex,border:et.gray[n].hex,text:et.gray[r].hex,tints:et.gray}};function EGt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:i}=e,o=n||CGt(i),a=t||SGt(i),s=r||bGt;if(!o.hasOwnProperty(s))throw new Error(`'colors' must contain 'currentUserColor' (${s})`);const l=Object.keys(o),u=new Map,c=new Map,d=l.reduce(((e,t)=>(e[t]=0,e)),{}),f=new Map;let p;return null!=e&&e.userStore&&e.userStore.me.subscribe((e=>function(e){p=e,d[s]+=e?1:-1}(e?e.id:null))),{get:function(e){return e?o[h(e)]:a},listen:function(e){let t=u.get(e);if(t)return t;const n=h(e);return t=function(e,t){return new It((n=>{const r=o[t];return n.next(r),()=>{u.delete(e),function(e,t){f.delete(e),d[t]--}(e,t)}})).pipe(Bi({refCount:!0}))}(e,n),u.set(e,t),t}};function h(e){if(e===p)return s;const t=f.get(e);if(t)return t;const n=c.get(e);if(n&&(0===d[n]||!l.find((e=>0===d[e]))))return m(e,n);const r=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return l[Math.abs(t)%l.length]}(e);return 0===d[r]?m(e,r):m(e,function(e){let t=1/0,n=[];return l.forEach((e=>{const r=d[e];r===t?n.push(e):r<t&&(t=r,n=[e])})),e&&n.includes(e)?e:n[0]}(n))}function m(e,t){return f.set(e,t),c.set(e,t),d[t]++,t}}function _Gt({children:e,manager:t}){const n=Md(),r=f.useMemo((()=>t||EGt({scheme:n})),[t,n]);return u.jsx(Iae.Provider,{value:r,children:e})}function ywe(e){return mwe(s9(),e)}function U0(e,t=[]){const n=s9(),r=f.useMemo((()=>Dw(e,t)),[e,t]);return f.useMemo((()=>mwe(n,r)),[r,n])}function uo(e){if(!("diff"in e))return u.jsx(CQ,{...e});const{diff:t,path:n=[],...r}=e,i=Dw(t,n);return u.jsx(CQ,{...r,annotations:i?[i]:[]})}function CQ(e){const{annotations:t,children:n,description:r,...i}=e,{t:o}=Z();if(!t)return n;const a=u.jsxs(ne,{space:2,children:[u.jsx(L,{muted:!0,size:1,weight:"medium",children:r||o("changes.changed-label")}),u.jsx(ne,{space:2,children:t.map(((e,t)=>u.jsx(kGt,{annotation:e},t)))})]});return u.jsx(dd,{zOffset:"paneFooter",children:u.jsx(pt,{content:a,portal:!0,...i,children:n})})}function kGt({annotation:e}){const{author:t,timestamp:n}=e,[r]=nc(t),i=ywe(e),o=Jp(n,{minimal:!0}),{t:a}=Z();return u.jsxs(xn,{space:2,children:[u.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[u.jsx(gs,{user:t}),u.jsx(xn,{paddingLeft:2,children:u.jsx(L,{muted:!0,size:1,style:{color:i.text},children:r?r.displayName:a("changes.loading-author")})})]}),u.jsx(L,{as:"time",muted:!0,size:1,dateTime:n,children:o})]})}const TGt=$(ae)`
  --diff-card-radius: ${({theme:e})=>ke(e.sanity.radius[2])};
  --diff-card-bg-color: ${({theme:e})=>e.sanity.color.card.enabled.bg};

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`,AGt=[],qa=f.forwardRef((function(e,t){const{annotation:n,as:r="div",children:i,className:o,diff:a,disableHoverEffect:s,path:l=AGt,style:c={},tooltip:d,...p}=e,h=f.useMemo((()=>n||Dw(a,l)),[n,a,l]),m=ywe(h),g=u.jsx(TGt,{...p,as:r,className:o,"data-hover":s||!h?void 0:"",ref:t,radius:1,style:{...c,backgroundColor:m.background,color:m.text},children:i});return d&&h?u.jsx(uo,{annotations:[h],description:d&&"object"==typeof d&&d.description,children:g}):g})),l9=$.div`
  border-radius: ${({theme:e})=>ke(e.sanity.radius[2])};
  padding: ${({theme:e})=>ke(e.sanity.space[1])};
`,t5=$(L)`
  &:not([hidden]) {
    color: inherit;
  }
`;function jGt(e){const{change:t,segment:n}=e;if("string"==typeof n)return u.jsx(N,{children:u.jsx(L,{title:n,size:1,weight:"medium",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:i,toIndex:o,annotation:a}=n,s=typeof o>"u";if(typeof i>"u")return u.jsx(IGt,{annotation:a,change:t,toIndex:o});if(s)return u.jsx(DGt,{annotation:a,fromIndex:i});if(r&&typeof o<"u"&&typeof i<"u")return u.jsx(OGt,{annotation:a,fromIndex:i,toIndex:o});const l=(o||0)+1;return u.jsx(N,{padding:1,children:u.jsxs(L,{size:1,weight:"medium",children:["#",l]})})}function IGt(e){const{annotation:t,change:n,toIndex:r=0}=e,{t:i}=Z(),o=r+1,a=i("changes.array.item-added-in-position",{position:o}),s=u.jsxs(u.Fragment,{children:["#",o]}),l=(null!=n&&n.diff?Dw(n.diff,[]):void 0)||t;return l?u.jsx(qa,{annotation:l,tooltip:{description:a},as:l9,children:u.jsx(t5,{size:1,weight:"medium",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):u.jsx(L,{size:1,weight:"medium",children:s})}function DGt(e){const{annotation:t,fromIndex:n=0}=e,{t:r}=Z(),i=n+1,o=r("changes.array.item-removed-from-position",{position:i});return u.jsx(qa,{annotation:t||null,as:l9,tooltip:{description:o},children:u.jsxs(t5,{size:1,weight:"medium",forwardedAs:"del",children:["#",i]})})}function OGt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,{t:i}=Z(),o=r-n,a=o<0?"":"",s=i("changes.array.item-moved",{count:Math.abs(o),context:o<0?"up":"down"});return u.jsxs(u.Fragment,{children:[u.jsx(N,{padding:1,children:u.jsxs(t5,{size:1,weight:"medium",children:["#",r+1]})}),u.jsx(qa,{annotation:t,as:l9,tooltip:{description:s},children:u.jsxs(t5,{size:1,weight:"medium",children:[a,Math.abs(o)]})})]})}function bwe(e){const{change:t,titlePath:n}=e;return u.jsx(e6,{maxLength:4,separator:u.jsx(L,{muted:!0,size:1,children:u.jsx(Aa,{})}),children:n.map(((e,n)=>"string"==typeof e||!t||t.showIndex?u.jsx(jGt,{change:t,segment:e},n):null))})}function RGt(e){return xt(e)&&"function"==typeof e?.then}function MGt(e,t,n){const{currentUser:r,document:i,parent:o,value:a}=n,s=f.useRef(!1);return f.useMemo((()=>{let n=!1;if("boolean"==typeof e||void 0===e)return e||!1;try{n=e({document:i,parent:o,value:a,currentUser:r})}catch(e){return console.error(`An error occurred while running the callback from \`${t}\`: ${e.message}`),!1}return RGt(n)&&!s.current?(console.warn(`The \`${t}\` option is either a promise or a promise returning function. Async callbacks for \`${t}\` option is not currently supported.`),!1):(typeof n>"u"&&console.warn(`The \`${t}\` option is or returned \`undefined\`. \`${t}\` should return a boolean.`),n)}),[e,i,o,a,r,t])}const kP=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:i,value:o}=e,a=ba(o);return MGt(t,n,{currentUser:Un(),document:r,parent:i,value:a})};function $Gt(e){return G4(e)?e._type:FGt(e)}function PGt(e,t){return"added"===e.action?{toType:Zv(t,e.toValue)}:"changed"===e.action?{fromType:Zv(t,e.fromValue),toType:Zv(t,e.toValue)}:"removed"===e.action?{fromType:Zv(t,e.fromValue)}:{toType:Zv(t,e.toValue)}}function Zv(e,t){const n=$Gt(t);return e.of.find((e=>e.name===n))||(1===e.of.length?e.of[0]:void 0)}function FGt(e){return Array.isArray(e)?"array":null===e?"null":typeof e}const X1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],EA="",J1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],LGt="",n5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],NGt="",xwe="";function BGt(e){return e.of.some(Cwe)}const VGt=J1.map((e=>e[0])).concat(X1.map((e=>e[0]))),zGt=J1.map((e=>e[1])).concat(X1.map((e=>e[1]))),wwe=VGt.concat(zGt).concat(n5).concat(EA).concat(xwe),SQ=new RegExp(`${wwe.join("|")}`,"g"),UGt=new RegExp(`${wwe.join("|")}|\n`,"g");function Cwe(e){return"object"===e.jsonType&&"block"===e.name}function HGt(e){return Mi(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function EQ(e,t){return e.fields.children.items.filter((e=>e.diff.isChanged&&(e.diff.toValue===t||e.diff.fromValue===t))).map((e=>e.diff)).map((e=>e))[0]}function TP(e,t){const n=e.find((e=>"children"===e.name));return n&&n.type&&"array"===n.type.jsonType&&n.type.of.find((e=>e.name===t._type))||void 0}function u9(e){return e.decorators?F1(e.decorators,["value"],["asc"]):[]}function Swe(e,t){return u9(t).some((t=>t.value===e))}function _Q(e,t,n,r,i){return t?t.children.map((t=>{var o;let a=ha(t)?null==(o=t.text)?void 0:o.replace(SQ,""):"";if(ha(t)){const i=c9(e,t),o=i?.fields.text;o&&o.toValue===t.text&&"string"===o.type&&"unchanged"!==o.action&&(a=o.segments.filter((e=>"removed"!==e.action)).map((e=>e.text.replace(SQ,""))).join(xwe)),t.marks&&t.marks.forEach((e=>{n[e]?a=`${n[e][0]}${a}${n[e][1]}`:r[e]&&(a=`${r[e][0]}${a}${r[e][1]}`)}))}else a=i[t._key];return`${EA}${a}`})).join(""):""}function WGt(e,t){const n="removed"===e.action?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const i={},o={},a={},s=TP(t.fields,{_key:"bogus",_type:"span"});s&&u9(s).forEach(((e,t)=>{o[e.value]=J1[t]})),kwe(r.origin).forEach(((e,t)=>{i[e._key]=X1[t]})),Ewe(r.origin).forEach(((e,t)=>{a[e._key]=n5[t]}));const l=_Q(r.origin,r.fromValue,o,i,a),u=_Q(r.origin,r.toValue,o,i,a),c={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:u,marks:[]}]},d={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:l,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:c,fromValue:d,toValue:c,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:l,toValue:u,segments:GGt(l,u).map((e=>({...e,..."unchanged"!==r.action&&r.annotation?{annotation:r.annotation}:{}})))}},fromValue:d.children[0],toValue:c.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:d.children,toValue:c.children}}}}throw new Error("Can not display this diff")}function GGt(e,t){const n=[],r=GT(U1(e,t));let i=0,o=0;for(const[a,s]of r)switch(a){case Nt:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,o+=s.length;break;case Kn:n.push({type:"stringSegment",action:"removed",text:e.slice(i,i+s.length),annotation:null}),i+=s.length;break;case hr:n.push({type:"stringSegment",action:"added",text:t.slice(o,o+s.length),annotation:null}),o+=s.length}return pr(n.map((e=>{const t=[];if(e.text.length>1){const n=[...e.text.matchAll(UGt)];let r=-1;n.forEach((i=>{const o=i.index||0;o>r&&(t.push({...e,text:e.text.slice(r+1,o)}),t.push({...e,text:i[0]})),i===n[n.length-1]&&t.push({...e,text:e.text.slice(Math.max(0,o+1))}),r=o})),0===n.length&&t.push(e)}else t.push(e);return t})))}function Ewe(e){const t=[...e.toValue?e.toValue.children.filter((e=>"span"!==e._type)):[]];return(e.fromValue?e.fromValue.children.filter((e=>"span"!==e._type)):[]).forEach((e=>{t.some((t=>e._key===t._key))||t.push(e)})),F1(t,["_key"],["asc"])}function c9(e,t){const n=e.fields.children&&"unchanged"!==e.fields.children.action&&"array"===e.fields.children.type&&e.fields.children.items.find((e=>e.diff&&"object"===e.diff.type&&("removed"===e.diff.action?e.diff.fromValue&&e.diff.fromValue._key===t._key:(e.diff.toValue&&e.diff.toValue._key)===t._key)));if(n)return n.diff}function YGt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&"array"===e.fields.markDefs.type&&(null==(n=e.fields.markDefs.items.find((e=>e.diff&&"object"===e.diff.type&&(e.diff.toValue&&e.diff.toValue._key&&e.diff.toValue._key===t||e.diff.fromValue&&e.diff.fromValue._key&&e.diff.fromValue._key===t))))?void 0:n.diff)||void 0}function _we(e){return e&&bt(Object.keys(e),["_key","_type"])||!1}function qGt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function kwe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach((e=>{t.some((t=>e._key===t._key))||t.push(e)})),F1(t,["_key"],["asc"])}function Xa(e){const t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&"Object"!==e.constructor.name)return e.constructor.name}return t}function AP(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(null!==e&&"undefined"!==r){if(r!==n)return{messageKey:"changes.error.incorrect-type-message",value:e,expectedType:n,actualType:Xa(e)};if(KGt(t)&&ZGt(e))for(const n of t.fields){const t=AP(e[n.name],n.type);if(t)return t}}}function KGt(e){return"object"===e.jsonType}function ZGt(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e}function Twe(e){return"field"===e.type}const XGt=[];function JGt({checked:e,color:t}){return u.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:t?.background,children:[u.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&u.jsx("path",{d:"M4.07996 8.5H12.92",stroke:t?.text,strokeWidth:"2"}),e&&u.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:t?.text,strokeWidth:"2"})]})}function QGt({checked:e,color:t}){return u.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?t?.border:t?.background}),typeof e>"u"&&u.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&u.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),"boolean"==typeof e&&!e&&u.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const eYt=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r}=e,{title:i,options:o}=t,a="checkbox"===o?.layout?JGt:QGt,s=U0(e,[]),l=null!=r;return u.jsxs(U,{align:"center",children:[u.jsx(uo,{diff:e,children:u.jsxs(U,{align:"center",children:[u.jsx(a,{checked:n,color:s}),l&&u.jsxs(u.Fragment,{children:[u.jsx(N,{marginX:2,children:u.jsx(g9,{})}),u.jsx(a,{checked:r,color:s})]})]})}),l&&i&&u.jsx(N,{marginLeft:2,children:u.jsx(L,{size:1,weight:"medium",children:i})})]})},tYt=$.div`
  display: inline-block;
  word-wrap: break-word;
`,nYt=function({value:e,schemaType:t}){return u.jsx(N,{as:tYt,paddingX:2,paddingY:1,children:rYt(e,t)})};function rYt(e,t){const{options:n,name:r}=t,i=n?.dateFormat||eh,o=n?.timeFormat||EN;return $1(new Date(e),"date"===r?i:`${i} ${o}`)}const kQ=({diff:e,schemaType:t})=>u.jsx(Ow,{align:"center",diff:e,layout:"grid",previewComponent:nYt,schemaType:t});function _A(){const e=f.useContext(qie);if(!e)throw new Error("DocumentChange: missing context value");return e}function TQ(e){const[t,n]=f.useState(void 0),r=Zt(zt);return f.useEffect((()=>{if(!e)return;const t=r.observable.getDocument(e).subscribe(n);return()=>{t.unsubscribe()}}),[r,e]),e?t:void 0}const iYt=$.div`
  ${({theme:e})=>`\n    --size-diff-positive: ${e.sanity.color.solid.positive.enabled.bg};\n    --size-diff-negative: ${e.sanity.color.solid.critical.enabled.bg};\n  `}
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`,aYt=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r,fields:i}=e,o=n?.asset,a=r?.asset,{t:s}=Z(),l=TQ(o?._ref),c=TQ(a?._ref),d=yB({unitDisplay:"short",maximumFractionDigits:2}),p=Object.entries(i).filter((([e,t])=>t.isChanged&&"_type"!==e)).map((([e])=>e)),h=p.includes("asset"),m=t.fields.filter((e=>"asset"!==e.name&&p.includes(e.name))).map((e=>e.name)),g=TWt(l?.size,c?.size),y=l?.size&&SP(l.size,d),v=c?.size&&SP(c.size,d),b=f.useMemo((()=>({display:"block",flex:1})),[]),x=l&&u.jsx(qa,{as:"del",diff:e,path:"asset._ref",style:b,children:u.jsx(RP,{title:l.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Nl,children:u.jsx(L,{size:0,style:{color:"inherit"},children:y})})}),w=c&&u.jsx(qa,{as:"ins",diff:e,path:"asset._ref",style:b,children:u.jsx(RP,{title:c.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Nl,children:u.jsxs(U,{align:"center",children:[u.jsx(L,{size:0,style:{color:"inherit"},children:v}),0!==g&&u.jsx(ae,{radius:2,padding:1,as:iYt,marginLeft:2,children:u.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0?"+":"-",g,"%"]})})]})})}),C=u.jsxs(u.Fragment,{children:[x&&!w&&u.jsx(uo,{diff:e,path:"asset._ref",description:s("changes.removed-label"),children:x}),x&&w&&u.jsx(uo,{diff:e,path:"asset._ref",children:u.jsx(v9,{from:x,layout:"grid",to:w})}),!x&&w&&u.jsx(uo,{diff:e,path:"asset._ref",description:s("changes.added-label"),children:w})]});return u.jsxs(u.Fragment,{children:[h&&C,m.length>0&&u.jsx(N,{marginTop:h?4:3,children:u.jsx(Rw,{diff:e,schemaType:t,fields:m})})]})};function AQ(e,t){return`rgba(${(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map((e=>parseInt(e,16))).concat(t).join(", ")})`}function oYt(e){let t=0;if(0==e.length)return t.toString();for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t.toString()}function sYt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function lYt(e){const{crop:t,diff:n,hash:r,hotspot:i,width:o=100,height:a=100,...s}=e,{t:l}=Z(),c=U0(n,"crop"),d=U0(n,"hotspot");return u.jsxs("svg",{...s,fill:"none",width:o,height:a,viewBox:`0 0 ${o} ${a}`,children:[u.jsx("defs",{children:t&&i&&u.jsxs("mask",{id:`mask-hotspot-${r}`,children:[u.jsx("rect",{x:0,y:0,width:o,height:a,fill:"#fff"}),u.jsx(jQ,{hotspot:i,fill:"#000",offset:1,width:o,height:a,stroke:"#000",strokeWidth:3})]})}),t&&u.jsx(uo,{diff:n,path:"crop",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(uYt,{crop:t,fill:AQ(c.border,.25),mask:i?`url(#mask-hotspot-${r})`:void 0,stroke:c.border,strokeWidth:1,width:o,height:a})})}),i&&u.jsx(uo,{diff:n,path:"hotspot",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(jQ,{hotspot:i,fill:AQ(d.border,.25),stroke:d.border,strokeWidth:1,width:o,height:a})})})]})}function uYt({crop:e,width:t,height:n,...r}){const i={x:e.left*t,y:e.top*n,width:(1-e.right-e.left)*t,height:(1-e.bottom-e.top)*n};return u.jsx("rect",{...r,...i,style:{vectorEffect:"non-scaling-stroke"}})}function jQ({hotspot:e,offset:t=0,width:n,height:r,...i}){const o={cx:e.x*n,cy:e.y*r,rx:e.width/2*n+t,ry:e.height/2*r+t};return u.jsx("ellipse",{...i,...o,style:{vectorEffect:"non-scaling-stroke"}})}const cYt=["originalFilename"],IQ=()=>{const{t:e}=Z();return u.jsx(ae,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:u.jsx(U,{align:"center",justify:"center",height:"fill",children:u.jsx(L,{size:1,muted:!0,children:e("changes.image.no-image-placeholder")})})})},dYt=$.div`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: ${et.gray[100].hex};
  background-image: linear-gradient(45deg, ${et.gray[50].hex} 25%, transparent 25%),
    linear-gradient(-45deg, ${et.gray[50].hex} 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, ${et.gray[50].hex} 75%),
    linear-gradient(-45deg, transparent 75%, ${et.gray[50].hex} 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`,fYt=$.img`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`,hYt=$.div`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`;function D3(e){var t,n,r,i;const{id:o,action:a,diff:s,hotspot:l,crop:c,is:d}=e,{t:p}=Z(),h=Zt(zt),[m,g]=f.useState(),{value:y}=Idn(o,cYt),v=gct(o),b=f.useMemo((()=>iw(h)),[h]),x=null===y,w=y&&y.originalFilename,C=b.image(o).height(190).dpr(sYt()).fit("max"),k=(null==(n=null==(t=s.fromValue)?void 0:t.asset)?void 0:n._ref)!==(null==(i=null==(r=s.toValue)?void 0:r.asset)?void 0:i._ref);let j;a&&"changed"!==a&&(j=p("added"===a?"changes.added-label":"changes.removed-label"));const S="changed"===a?void 0:a;return u.jsxs(U,{direction:"column",height:"fill",flex:1,children:[u.jsx(N,{flex:1,padding:2,paddingBottom:0,children:u.jsxs(U,{as:dYt,direction:"column","data-changed":"from"===d&&k?"":void 0,"data-error":m?"":void 0,children:[!x&&!m&&u.jsx(fYt,{src:C.toString()||"",alt:w,"data-action":S,onError:g,width:v.width,height:v.height}),(x||m)&&u.jsx(N,{paddingY:5,children:u.jsx(L,{size:1,muted:!0,align:"center",children:p(x?"changes.image.deleted":"changes.image.error-loading-image")})}),u.jsx(hYt,{children:u.jsx(lYt,{crop:c&&!nct(c)?c:void 0,diff:s,hash:oYt(`${C.toString()||""}-${d}`),hotspot:l&&!rct(l)?l:void 0,width:v.width,height:v.height})})]})}),u.jsx(RP,{title:w||p("changes.image.meta-info-fallback-title"),icon:tl,markRemoved:k&&"from"===d,children:j?u.jsx("div",{children:j}):u.jsxs("div",{children:[v.width,"  ",v.height]})})]})}const pYt=["crop","hotspot"],mYt=["asset",...pYt],O3={flex:1},gYt=({diff:e,schemaType:t})=>{var n,r;const{t:i}=Z(),{fromValue:o,toValue:a,fields:s,isChanged:l}=e,c=null==(n=o?.asset)?void 0:n._ref,d=null==(r=a?.asset)?void 0:r._ref,f=Dw(e,["asset","_ref"]),p=Object.keys(s).filter((e=>s[e].isChanged&&"_type"!==e)),h=t.fields.filter((e=>!mYt.includes(e.name)&&p.includes(e.name))).map((e=>e.name));let m="changed";!c&&d?m="added":!d&&c&&(m="removed");const g=p.includes("asset"),y=p.includes("crop"),v=p.includes("hotspot"),b=y||v,x=g||b,w=b&&!g,C=o&&c?u.jsx(qa,{annotation:f,style:O3,children:u.jsx(D3,{is:"from",id:c,diff:e,action:m,hotspot:w&&v?o.hotspot:void 0,crop:w&&y?o.crop:void 0})}):u.jsx(IQ,{}),k=a&&d?u.jsx(qa,{annotation:f,style:O3,children:u.jsx(D3,{is:"to",id:d,diff:e,hotspot:w&&v?a.hotspot:void 0,crop:w&&y?a.crop:void 0})}):u.jsx(IQ,{});if(!C&&!k)return u.jsx(ae,{padding:4,radius:2,tone:"transparent",children:u.jsx(L,{muted:!0,size:1,align:"center",children:i("changes.image.no-asset-set")})});if(!l)return d?u.jsx(qa,{annotation:f,style:O3,children:u.jsx(D3,{id:d,is:"to",diff:e})}):null;const j=u.jsx(v9,{align:"center",from:C,layout:"grid",to:k});return u.jsxs(u.Fragment,{children:[x&&(g?u.jsx(uo,{annotations:f?[f]:[],description:vYt(m,i),children:j}):j),h.length>0&&u.jsx(N,{marginTop:x?4:3,children:u.jsx(Rw,{diff:e,schemaType:t,fields:h})})]})};function vYt(e,t){switch(e){case"changed":return t("changes.changed-label");case"added":return t("changes.added-label");case"removed":return t("changes.removed-label");default:return"Unknown change"}}const yYt=$.div`
  display: inline-block;
  word-break: break-all;
`,bYt=e=>{const{value:t}=e;return u.jsx(N,{as:yYt,paddingX:2,paddingY:1,children:t})},xYt=({diff:e,schemaType:t})=>u.jsx(Ow,{diff:e,schemaType:t,previewComponent:bYt,layout:"inline"}),Q1=$(N)`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`,Awe=$(L)`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`,d9=$(N)`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    ${Q1} [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`,jwe=$(N)`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`,jP=$.div`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover ${d9} {
    opacity: 1;
  }
`;function wYt({children:e,diff:t,object:n,schemaType:r,path:i,...o}){const{t:a}=Z();return r?t&&"unchanged"!==t.action?u.jsx(CYt,{...o,diff:t,object:n,schemaType:r,path:i,children:e}):u.jsx(jP,{children:e}):u.jsx(jP,{...o,children:a("changes.portable-text.unknown-annotation-schema-type")})}function CYt({diff:e,children:t,object:n,schemaType:r,path:i,...o}){const{onSetFocus:a}=f.useContext(em),{path:s}=f.useContext(Kc),[l,c]=f.useState(null),{t:d}=Z(),p=U0(e,[]),h=f.useMemo((()=>p?{background:p.background,color:p.text}:{}),[p]),m="removed"===e.action,[g,y]=f.useState(!1),v=n&&_we(n),b=f.useMemo((()=>[i[0]].concat(["markDefs",{_key:n._key}])),[n._key,i]),x=f.useMemo((()=>s.slice(0,s.findIndex((e=>Vn(e)&&e._key===n._key)))),[s,n._key]),w=f.useMemo((()=>x.concat(i)),[i,x]),C=f.useMemo((()=>x.concat(b)),[b,x]),k=`field-${_n(C)}`,j=e9(),S=f.useMemo((()=>j.filter((([e])=>e.startsWith(k))).length>0),[k,j]);f.useEffect((()=>{!g&&S&&(y(!0),a(C))}),[S,C,a,g]);const E=f.useCallback((e=>{e.stopPropagation(),y(!0),m||(e.preventDefault(),a(w),setTimeout((()=>a(C)),10))}),[w,m,C,a]);Fn(f.useCallback((()=>{S||y(!1)}),[S]),[l]);const _="unchanged"!==e.action&&e.annotation||null,A=f.useMemo((()=>_?[_]:[]),[_]),T=u.jsx(Kc.Provider,{value:{path:C},children:u.jsx(jwe,{padding:3,children:u.jsxs("div",{children:[v&&u.jsx(L,{muted:!0,size:1,weight:"medium",children:d("changes.portable-text.empty-object-annotation",{annotationType:r.title||r.name})}),!v&&u.jsx(Rw,{diff:e,schemaType:r})]})})});return u.jsx(jP,{...o,onClick:E,style:h,"data-changed":"","data-removed":"removed"===e.action?"":void 0,children:u.jsx(An,{content:T,open:g,ref:c,portal:!0,children:u.jsx(d9,{paddingLeft:1,children:u.jsx(uo,{annotations:A,description:d("changes.portable-text.annotation",{context:e.action}),children:u.jsxs(Q1,{style:{display:"inline-flex"},children:[u.jsx("span",{children:t}),u.jsx(U,{align:"center",paddingX:1,children:u.jsx(Awe,{size:0,children:u.jsx(ci,{})})})]})})})})})}const SYt=$.blockquote`
  margin: 0;
`;function EYt({children:e}){return u.jsx("div",{children:u.jsx(SYt,{children:e})})}const _Yt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},kYt=$(Ci)`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`;function TYt({style:e,children:t}){return u.jsx(kYt,{size:_Yt[e],children:t})}const AYt=$.div`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`;function jYt({children:e}){return u.jsx(AYt,{children:e})}const IYt=[];function DYt(e){var t,n,r;const{diff:i,block:o,children:a}=e,s=U0(i,IYt),{path:l}=f.useContext(Kc),{onSetFocus:c}=f.useContext(em),{t:d}=Z(),p="removed"===i.action;let h=a;const m=f.useCallback((e=>{e.stopPropagation(),p||c(l)}),[l,p,c]);let g;if(h="blockquote"===o.style?u.jsx(EYt,{children:h}):o.style&&HGt(o)?u.jsx(TYt,{style:o.style,children:h}):u.jsx(jYt,{children:h}),"changed"===i.origin.action&&i.origin.fields.style&&"changed"===i.origin.fields.style.action&&i.origin.fields.style.annotation){g=null==(n=null==(t=i?.origin)?void 0:t.fromValue)?void 0:n.style;const e=s?{background:s.background,color:s.text}:{};h=u.jsx(ae,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":i.action,"data-block-note":`changed_from_style_${g||"undefined"}`,children:u.jsxs(ne,{space:2,children:[u.jsx(uo,{annotations:[null==(r=i.origin.fields.style)?void 0:r.annotation],diff:i.origin.fields.style,children:u.jsx(L,{size:0,children:d("changes.portable-text.block-style-changed",{fromStyle:g,toStyle:o.style})})}),u.jsx(N,{style:e,children:h})]})})}return u.jsx("div",{onClick:m,"data-diff-block-action":i.action,"data-block-note":`changed_from_style_${g||"undefined"}`,children:h})}const OYt=$.span`
  display: inline;
  ${({theme:e,decoration:t})=>{switch(t){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`\n          font-family: ${e.sanity.fonts.code.family};\n          background: ${e.sanity.color.muted.default.enabled.bg};\n        `;default:return""}}}
`;function RYt({mark:e,children:t}){return u.jsx(OYt,{decoration:e,children:t})}const IP=$(ae)`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    ${Q1} {
      display: inline-flex;
    }
  }
`;function MYt({diff:e,object:t,schemaType:n,...r}){const{t:i}=Z();return n?e?u.jsx($Yt,{...r,diff:e,object:t,schemaType:n}):u.jsx(IP,{children:u.jsx(av,{schemaType:n,value:t,layout:"inline"})}):u.jsx(IP,{...r,border:!0,radius:1,children:i("changes.portable-text.unknown-inline-object-schema-type",{schemaType:t._type})})}function $Yt({diff:e,object:t,path:n,schemaType:r,...i}){const{path:o}=f.useContext(Kc),{onSetFocus:a}=f.useContext(em),{t:s}=Z(),l=U0(e,[]),c=f.useMemo((()=>l?{background:l.background,color:l.text}:{}),[l]),[d,p]=f.useState(!1),h=t&&_we(t),m="removed"===e.action,g=o.slice(0,o.findIndex((e=>Vn(e)&&e._key===t._key))).concat(n),y=`field-${_n(g)}`,v=e9().filter((([e])=>e.startsWith(y))).length>0,b=o.slice(0,-1).concat(n).concat([Yie]);f.useEffect((()=>{v&&(p(!0),a(b))}),[b,v,a]);const x=f.useCallback((e=>{e.stopPropagation(),p(!0),m?e.preventDefault():a(b)}),[b,m,a]),w=f.useCallback((()=>{p(!1)}),[]),C=u.jsx(Kc.Provider,{value:{path:g},children:u.jsx(PYt,{diff:e,emptyObject:h,onClose:w,schemaType:r})}),k="unchanged"!==e.action&&e.annotation||null,j=k?[k]:[];return u.jsx(IP,{...i,onClick:x,style:c,"data-removed":"removed"===e.action?"":void 0,border:!0,radius:2,children:u.jsx(An,{content:C,open:d,portal:!0,children:u.jsx(d9,{children:u.jsx(uo,{annotations:j,description:s("changes.portable-text.inline-object",{context:e.action}),children:u.jsxs(Q1,{children:[u.jsx(av,{schemaType:r,value:t,layout:"inline"}),u.jsx(U,{align:"center",paddingX:1,children:u.jsx(Awe,{size:0,children:u.jsx(ci,{})})})]})})})})})}function PYt({diff:e,emptyObject:t,onClose:n,schemaType:r}){const{t:i}=Z(),[o,a]=f.useState(null);return Fn(n,[o]),u.jsxs(jwe,{ref:a,padding:3,children:[t&&u.jsx(L,{muted:!0,size:1,weight:"medium",children:i("changes.portable-text.empty-inline-object",{inlineObjectType:r.title||r.name})}),!t&&u.jsx(Rw,{diff:e,schemaType:r})]})}function FYt({diff:e,childDiff:t,children:n,path:r,segment:i,...o}){const a=e||t;return a&&"unchanged"!==a.action&&"unchanged"!==i.action?u.jsx(LYt,{...o,childDiff:t,diff:e,segment:i,path:r,children:n}):u.jsx(Q1,{children:n})}function LYt({diff:e,childDiff:t,children:n,path:r,segment:i,...o}){const{onSetFocus:a}=f.useContext(em),{path:s}=f.useContext(Kc),l=f.useMemo((()=>r.slice(-2,1)[0]),[r]),{t:c}=Z(),d=e&&"removed"===e.action,p=s.slice(0,s.findIndex((e=>Vn(e)&&Vn(l)&&e._key===l._key))).concat(r),h=f.useCallback((e=>{e.stopPropagation(),d||(e.preventDefault(),a(p))}),[p,d,a]),m=e&&e.segments.find((e=>e.text===i.text))||e||t,g=m&&"unchanged"!==m.action&&m.annotation||null,y=g&&"unchanged"!==i.action?u.jsx(qa,{annotation:g,as:"removed"===i.action?"del":"ins",tooltip:{description:c("changes.portable-text.text",{context:i.action})},children:n}):null;return u.jsx(Q1,{...o,onClick:h,"data-changed":"",children:u.jsx("span",{children:u.jsx(u.Fragment,{children:y||n})})})}const f9=J1.map((e=>e[0])),h9=J1.map((e=>e[1])),ZS=X1.map((e=>e[0])),DP=X1.map((e=>e[1])),NYt=f9.concat(ZS),Iwe=h9.concat(DP),BYt=f9.concat(h9),VYt=new RegExp(`${BYt.concat(Iwe).join("|")}`,"g");function zYt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,{t:i}=Z(),o=f.useMemo((()=>t.origin.toValue?Ewe(t.origin):[]),[t.origin]),a=f.useCallback((e=>{const a=TP(n.fields,e);let s=[];if(a){s=u9(a);const e=t.fields.children,l=e.items[0].diff&&"object"===e.items[0].diff.type&&"string"===e.items[0].diff.fields.text.type&&e.items[0].diff.fields.text.segments||[],c=[],d={};if(WYt(r,t)&&("added"===t.origin.action||"removed"===t.origin.action)){const e=EQ(t.origin,r.children[0])||t.origin;if(e&&"unchanged"!==e.action)return u.jsx(qa,{annotation:e.annotation,as:"removed"===e.action?"del":"ins",tooltip:{description:i("changes.portable-text.empty-text",{context:e.action})},children:u.jsx("span",{children:""})},`empty-block-${r._key}`)}let p=-1,h=-1;const m=[];let g;const y=kwe(t.origin);return l.forEach((e=>{var l,f,v;h++;const b=n5.includes(e.text),x=NYt.includes(e.text),w=Iwe.includes(e.text),C=e.text===EA,k="removed"===e.action;if(C)k||p++;else if(x||w){if(x&&ZS.includes(e.text)){const t=y[ZS.indexOf(e.text)];t&&m.push({mark:t._key,symbols:[e.text,DP[ZS.indexOf(e.text)]],object:t})}w&&DP.includes(e.text)&&(g=m.pop())}else if(b){const i=n5.findIndex((t=>t===e.text)),a=null==(l=o[i])?void 0:l._key,s=o[i];if(a){const e=TP(n.fields,s),i=EQ(t.origin,s);c.push(u.jsx(MYt,{object:s,path:[{_key:r._key},"children",{_key:s._key}],diff:i,schemaType:e},`inline-object-${s._key}`))}}else if(e.text){const n=()=>{var n;return null==(n=t.origin.fromValue)?void 0:n.children.find((t=>t.text&&t.text.match(qGt(e.text))))},o=r.children[p]||n(),l=o&&c9(t.origin,o);if(!o)throw new Error("Could not find child");const y=null!=(f=l?.fields)&&f.text?null==(v=l?.fields)?void 0:v.text:void 0,b=u.jsx(FYt,{diff:y,path:[{_key:r._key},"children",{_key:o._key}],childDiff:l,segment:e,children:UYt({diff:t,child:o,decoratorTypes:s,seg:e,segIndex:h,spanSchemaType:a,t:i})},`text-${o._key}-${h}`);if(m.length>0&&m.forEach((e=>{d[e.mark]=d[e.mark]||[],d[e.mark].push(b)})),g){const e=`annotation-${g.object._key}`,n=c[c.length-1];if(n&&n.key!==e){const n=YGt(t.origin,g.mark),i=g&&a.annotations&&a.annotations.find((e=>g&&g.object&&e.name===g.object._type));c.push(u.jsx(wYt,{object:g.object,diff:n,path:[{_key:r._key},"children",{_key:o._key}],schemaType:i,children:u.jsx(u.Fragment,{children:d[g.mark]})},e))}g=void 0}0===m.length&&c.push(b)}})),f.createElement("div",{key:r._key},...c)}throw new Error("'span' schemaType not found")}),[r,t,o,n,i]);return u.jsx(DYt,{block:t.displayValue,diff:t,children:u.jsx(u.Fragment,{children:(t.displayValue.children||[]).map((e=>a(e)))})})}function UYt({diff:e,child:t,decoratorTypes:n,seg:r,segIndex:i,spanSchemaType:o,t:a}){if("\n"===r.text)return u.jsx("br",{});let s=u.jsx("span",{children:r.text.replace(/ /g,NGt)},`text-${i}`);const l=t&&c9(e.origin,t),c=ha(t)&&t.marks||[];return l&&(s=HYt({activeMarks:c,decoratorTypes:n,diff:e,children:s,seg:r,segIndex:i,spanDiff:l,spanSchemaType:o,t:a})),c&&c.length>0&&c.forEach((e=>{Swe(e,o)&&(s=u.jsx(RYt,{mark:e,children:s},`decorator-${e}-${t._key}-${i}`))})),s}function HYt({activeMarks:e,decoratorTypes:t,diff:n,children:r,seg:i,segIndex:o,spanDiff:a,spanSchemaType:s,t:l}){var c;let d=u.jsx("span",{children:r},`text-segment-${o}`);const f=n.origin.fromValue&&n.fromValue&&n.fromValue.children[0].text||"",p=a&&"unchanged"!==a.action&&a.annotation||void 0,h=null==(c=a?.fields)?void 0:c.marks,m=h&&"unchanged"!==h.action&&h.annotation||p;let g=[];const y=f.split(EA).filter((e=>!!e)).join(""),v=y.slice(0,Math.max(0,y.indexOf(i.text)+i.text.length)),b=v.slice(0,Math.max(0,v.indexOf(i.text))),x=[];return[...b.matchAll(VYt)].forEach((e=>{var n;const r=e[0],i=J1.concat(X1).find((e=>e.indexOf(r)>-1));if(i){const e=r===i[0],o=(null==(n=t[e?f9.indexOf(r):h9.indexOf(r)])?void 0:n.value)||r;b.lastIndexOf(r)>b.lastIndexOf(i[1])&&x.push(o)}})),g=rUt(e,Fi(x)),m&&g.length>0&&g.some((e=>Swe(e,s)))&&(d=u.jsx(qa,{annotation:m,as:"ins",tooltip:{description:l("changes.portable-text.changed-formatting")},children:d},`diffcard-annotation-${o}-${g.join("-")}`)),d}function WYt(e,t){return 1===e.children.length&&"span"===e.children[0]._type&&"string"==typeof e.children[0].text&&""===e.children[0].text&&"unchanged"!==t.origin.action}const GYt=e=>{const{diff:t,schemaType:n}=e,r=f.useMemo((()=>WGt(t,n)),[t,n]);return u.jsx("div",{"data-diff-action":t.action,children:u.jsx(zYt,{diff:r,schemaType:n})})},YYt=$.div`
  word-wrap: break-word;
`,qYt=({value:e,schemaType:t})=>u.jsx(N,{as:YYt,padding:2,children:u.jsx(av,{schemaType:t,value:e,layout:"default"})}),KYt=({diff:e,schemaType:t})=>u.jsx(Ow,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:qYt,schemaType:t}),ZYt=$.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`,XYt=e=>{const{value:t}=e;return u.jsx(N,{as:ZYt,paddingX:2,paddingY:1,children:t})},JYt=$.div`
  white-space: pre-wrap;
  word-wrap: break-word;
`,QYt=({diff:e,schemaType:t})=>{const{options:n}=t;return null!=n&&n.list?u.jsx(Ow,{diff:e,previewComponent:XYt,schemaType:t}):u.jsx(JYt,{children:u.jsx(Lqt,{diff:e})})},DQ={block:GYt,boolean:{component:eYt,showHeader:!1},date:kQ,datetime:kQ,file:aYt,image:gYt,number:xYt,reference:KYt,string:QYt};function Dwe(e,t){var n;let r=e;for(;r;){const e=(null==(n=r?.components)?void 0:n.diff)||eqt(r,t)||DQ[r.name];if(e)return e;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return DQ[i]}function eqt(e,t){const n=XGt;let r;for(const i of n)if("function"==typeof i){if(r=i({schemaType:e,parentSchemaType:t}),r)return r}else console.error("Diff component resolver is not a function: ",i)}function p9(e,t,n=[],r=[],i={}){if(!Dwe(e,i.parentSchema)){if("object"===e.jsonType&&"object"===t.type)return Owe(e,t,n,r,i);if("array"===e.jsonType&&"array"===t.type)return rqt(e,t,n,r)}return Rwe(e,t,n,r,i)}function Owe(e,t,n=[],r=[],i={}){const o=[],a={...i,parentSchema:e},s=e.fieldsets||e.fields.map((e=>({single:!0,field:e})));for(const e of s)e.single?o.push(...tqt(e.field,t,n,r,a)):o.push(...nqt(e,t,n,r,a));return o.length<2?o:[{type:"group",key:Bn(n)||"root",path:n,titlePath:r,changes:m9(o,r.length),schemaType:e}]}function tqt(e,t,n,r,i={}){const{fieldFilter:o,...a}=i,s=t.fields[e.name];if(!s||!s.isChanged||o&&!o.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return p9(e.type,s,l,u,a)}function nqt(e,t,n,r,i={}){const{fields:o,name:a,title:s,readOnly:l,hidden:u}=e,{fieldFilter:c,...d}=i,f=u,p=l,h=r.concat([s||a]),m=[];for(const e of o){const r=t.fields[e.name];if(!r||!r.isChanged||c&&!c.includes(e.name))continue;const i=n.concat([e.name]),o=h.concat([e.type.title||e.name]);m.push(...p9({readOnly:p,hidden:f,...e.type},r,i,o,d))}return m.length<2?m:[{type:"group",key:Bn(n)||"root",fieldsetName:a,path:n,titlePath:h,changes:m9(m,h.length),readOnly:p,hidden:f}]}function rqt(e,t,n=[],r=[]){const i=t.items.filter((e=>e.hasMoved&&e.fromIndex!==e.toIndex||"unchanged"!==e.diff.action));if(0===i.length)return[];const o=BGt(e),a=i.reduce(((i,a)=>{const s=PGt(a.diff,e),l=s.toType||s.fromType;if(!l)return console.warn("Could not determine schema type for item at %s",Bn(n)),i;const u=EP(a.diff.fromValue)||EP(a.diff.toValue)||t.items.indexOf(a),c=n.concat(u),d={itemDiff:a,parentDiff:t,parentSchema:e},f=r.concat({hasMoved:a.hasMoved,toIndex:a.toIndex,fromIndex:a.fromIndex,annotation:"unchanged"===a.diff.action?a.annotation:a.diff.annotation}),p=p9(l,a.diff,c,f,d).map((e=>("field"===e.type&&hwe(c,e.path)&&(e.itemDiff=a),e)));return o&&p.filter(Twe).forEach(((e,t,n)=>{e.showHeader=1===n.length,e.showIndex=a.fromIndex!==a.toIndex&&a.hasMoved})),0===p.length?i.push(...Rwe(l,a.diff,c,f,d)):i.push(...p),i}),[]);return a.length>1?[{type:"group",key:Bn(n)||"root",path:n,titlePath:r,changes:m9(a,r.length),schemaType:e}]:a}function Rwe(e,t,n,r,{itemDiff:i,parentDiff:o,parentSchema:a}={}){const{fromValue:s,toValue:l,type:u}=t;if("array"===u&&OQ(s)&&OQ(l))return[];let c;typeof s<"u"&&(c=AP(s,e)),!c&&typeof l<"u"&&(c=AP(l,e));let d,f=!0;const p=Dwe(e,a);return p&&"function"==typeof p?d=p:p&&(d=p.component,f=typeof p.showHeader>"u"?f:p.showHeader),[{type:"field",diff:t,path:n,error:c,itemDiff:i,parentDiff:o,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:Bn(n)||"root",diffComponent:c?void 0:d,parentSchema:a}]}function m9(e,t=1){return e.map((e=>(e.titlePath=e.titlePath.slice(t),e)))}function OQ(e){return Array.isArray(e)&&0===e.length||null===e||typeof e>"u"}const RQ=e=>"field"===e.type&&"added"===e.diff.action,Mwe=e=>{if("group"!==e.type)return[e];const t=[];return e.changes.forEach((e=>{t.push(...Mwe(e))})),t},$we=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},iqt=(e,t)=>{const n=pwe(e[t]);return n?{_key:n}:Array.isArray(e)?parseInt(t,10):t},aqt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function kA(e,t,n){if(!t)return;const r=[];if("group"===e.type){const i=Mwe(e),o=i.filter(RQ);i.filter((e=>!RQ(e))).forEach((e=>kA(e,t,n))),r.push(...MQ(t,o.map((e=>e.path)).reverse()))}else"added"===e.diff.action?r.push(...MQ(t,[e.path])):"field"===e.type&&e.itemDiff&&e.parentDiff&&"array"===e.parentDiff.type&&e.itemDiff.hasMoved?r.push(...sqt(e.itemDiff,e.parentDiff,e.path)):r.push(...lqt(e.diff,t,e.path));n.patch.execute(r)}function oqt(e,t,n){return Pwe(e.toValue,t,n)}function MQ(e,t){const n=[];for(let r=0;r<t.length;r++)n.some((e=>$we(t[r],e)))||n.push(oqt(e,t[r],t));return[{unset:[...new Set(n.map(Bn))]}]}function Pwe(e,t,n=[],r){if(t.length<=0)throw new Error("Root has no ancestor");const i=t.slice(0,-1),o=Vo(e,i),a=[i,...n.filter((e=>!$we(e,i)))];return Fwe(o,i,n)?Pwe(e,i,a):t}function sqt(e,t,n){const r=n.slice(0,-1),{parentValue:i,fromIndex:o,fromValue:a}=dqt(t,e);let s;if(0===o)s={before:Bn([...r,0])};else{const e=o-1,t=EP(i[e])||e;s={after:Bn([...r,t])}}return[{unset:[Bn(n)]},{insert:{...s,items:[a]}}]}function lqt(e,t,n){const r=vA(e.toValue,e.fromValue,aqt,n),i=r.filter((e=>"insert"===e.op)).map((({after:e,items:t})=>({insert:{after:Bn(e),items:t}}))),o=r.filter((e=>"unset"===e.op)).reduce(((e,t)=>e.concat(Bn(t.path))),[]),a=new Set,s=[];let l=!1;const u=r.filter((e=>"set"===e.op)).reduce(((e,n)=>(l=!0,s.push(...uqt(n.path,t,a)),e[Bn(n.path)]=n.value,e)),{});return[...s,...i,...o.length>0?[{unset:o}]:[],...l?[{set:u}]:[]]}function uqt(e,t,n){const r=t.fromValue,i=t.toValue,o=[];for(let t=1;t<=e.length;t++){const a=e.slice(0,t),s=Bn(a);if(n.has(s))continue;const l=e[t],u=Vn(l)||ss(l),c=Vo(r,a),d=$Q(c);if(u&&Array.isArray(c)&&!Vo(i,e.slice(0,t+1))){const e=oGt(c,l),n=c[e-1],i=Vo(r,a.concat(l)),u=Fl(n)?{_key:n._key}:e-1,d=Bn(a.concat(e<1?0:u));o.push({setIfMissing:{[s]:[]}}),o.push({insert:{after:d,items:[$Q(i)]}}),t++}else typeof d>"u"||(n.add(s),o.push({setIfMissing:{[s]:d}}))}return o}function cqt(e,t,n){if(!xt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||"_type"===r||"_key"===r)continue;const i=[...t,iqt(e,r)];if(!Fwe(e[r],i,n))return!1}return!0}function Fwe(e,t,n){const r=n?.some((e=>Bn(e)===Bn(t))),i=Array.isArray(e)&&e.length<=0;return r||null==e||i||fGt(e)||cqt(e,t,n)}function $Q(e){if(Array.isArray(e))return[];if("object"!=typeof e||null===e)return;const t={};return Fl(e)&&(t._key=e._key),G4(e)&&(t._type=e._type),t}function dqt(e,t){if(e.fromValue&&"number"==typeof t.fromIndex){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error(`Failed to find item at index ${t.fromIndex}`)}const fqt=$.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`,Es=!1;var hqt=Object.defineProperty,pqt=(e,t,n)=>t in e?hqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mqt=(e,t,n)=>pqt(e,t+"",n);class gqt extends f.Component{constructor(){super(...arguments),mqt(this,"state",{})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){console.error("Error rendering diff component: "),console.error(e)}render(){const{t:e}=this.props,{error:t}=this.state;return t?u.jsx(ae,{padding:3,radius:2,tone:"critical",children:u.jsxs(U,{children:[u.jsx(L,{size:1,children:u.jsx(ra,{})}),u.jsxs(N,{paddingLeft:3,children:[u.jsx(L,{as:"h3",size:1,weight:"medium",children:e("changes.error-boundary.title")}),Es]})]})}):this.props.children}}const vqt={down:hF,right:pF};function g9(e){const{direction:t="right",...n}=e,r=vqt[t];return u.jsx(L,{muted:!0,size:1,...n,children:f.createElement(r)})}const R3=$.pre`
  overflow-x: auto;
  position: relative;
`,yqt=$.div`
  position: absolute;
  top: 0;
  right: 0;
`;function bqt(e){const{children:t,as:n,change:r,...i}=e,o=f.useRef(!1),[a,s]=f.useState(!1),l=f.useCallback((()=>s((e=>!e))),[s]),c=f.useCallback((()=>o.current=!0),[]),d=f.useCallback((()=>o.current=!1),[o]);return f.useEffect((()=>{function e(e){const{metaKey:t,key:n}=e;t&&"i"===n&&o.current&&l()}return window.addEventListener("keydown",e,!1),()=>window.removeEventListener("keydown",e,!1)}),[l]),u.jsx(N,{as:n,onMouseEnter:c,onMouseLeave:d,...i,children:a?u.jsx(xqt,{change:r}):t})}const M3=({title:e})=>u.jsx(N,{padding:3,display:"inline-block",as:yqt,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:e})});function xqt({change:e}){var t,n,r;const{t:i}=Z();return u.jsxs(ne,{space:3,children:[u.jsxs(ae,{padding:3,tone:"transparent",as:R3,radius:1,children:[u.jsx(M3,{title:i("changes.inspector.meta-label")}),u.jsx(ni,{language:"json",size:1,children:wqt({path:Bn(e.path),fromIndex:null==(t=e.itemDiff)?void 0:t.fromIndex,toIndex:null==(n=e.itemDiff)?void 0:n.toIndex,hasMoved:null==(r=e.itemDiff)?void 0:r.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),u.jsxs(ae,{as:R3,tone:"critical",padding:3,radius:1,children:[u.jsx(M3,{title:i("changes.inspector.from-label")}),u.jsx(ni,{language:"json",size:1,children:PQ(e.diff.fromValue)})]}),u.jsx(ae,{children:u.jsx(g9,{direction:"down",align:"center"})}),u.jsxs(ae,{as:R3,tone:"positive",padding:3,radius:1,children:[u.jsx(M3,{title:i("changes.inspector.to-label")}),u.jsx(ni,{language:"json",size:1,children:PQ(e.diff.toValue)})]})]})}function PQ(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function wqt(e){const t=[];return Object.entries(e).forEach((([e,n])=>{typeof n<"u"&&null!==n&&t.push(`${e}: ${n}`)})),t.join("\n")}function Cqt(e){const{t:t}=Z(),n=FQ(e.fromValue),r=FQ(e.toValue);return t(!n&&r?"changes.added-label":!r&&n?"changes.removed-label":"changes.changed-label")}function FQ(e){return null!==e&&typeof e<"u"&&""!==e}const Sqt={flexShrink:0},Eqt={alignItems:"stretch"},LQ={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},v9=f.forwardRef((function(e,t){const{align:n="top",layout:r="inline",from:i,to:o,style:a,...s}=e,l=p1(),c="inline"===r?U:Rn,d=f.useMemo((()=>({...a,..."inline"===r?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:`minmax(0, 1fr) ${ke(l.sanity.space[5])} minmax(0, 1fr)`}})),[r,a,l]),p="inline"===r?Sqt:Eqt;return u.jsxs(c,{...s,ref:t,style:d,"data-from-to-layout":!0,children:[i&&u.jsxs(u.Fragment,{children:[u.jsx(U,{align:LQ[n],style:p,children:i}),u.jsx(U,{align:"center",justify:"center",padding:2,children:u.jsx(g9,{})})]}),u.jsx(U,{align:LQ[n],style:p,children:o})]})})),$3={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function Ow(e){const{align:t,cardClassName:n,diff:r,layout:i,path:o,previewComponent:a,schemaType:s}=e,{action:l}=r,c=Cqt(r);if("unchanged"===l)return u.jsx(qa,{className:n,style:$3,children:f.createElement(a,{schemaType:s,value:r.toValue})});const d=void 0!==r.fromValue&&null!==r.fromValue&&u.jsx(qa,{as:"del",className:n,diff:r,path:o,style:$3,children:f.createElement(a,{schemaType:s,value:r.fromValue})}),p=void 0!==r.toValue&&null!==r.toValue&&u.jsx(qa,{as:"ins",className:n,diff:r,path:o,style:$3,children:f.createElement(a,{schemaType:s,value:r.toValue})});return d&&!p?u.jsx(uo,{description:c,diff:r,path:o,children:d}):!d&&p?u.jsx(uo,{description:c,diff:r,path:o,children:p}):u.jsx(uo,{description:c,diff:r,path:o,children:u.jsx(v9,{align:t,from:d,layout:i,to:p})})}const _qt=({value:e,schemaType:t})=>u.jsx(N,{padding:2,children:u.jsx(av,{schemaType:t,value:e,layout:"default"})}),kqt=e=>{const{diff:t,schemaType:n}=e;return u.jsx(Ow,{diff:t,schemaType:n,previewComponent:_qt,layout:"grid"})},Tqt=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`,Aqt=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>ke(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>ke(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`,jqt=$(me)`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`,Lwe=f.forwardRef((function(e,t){const{selected:n,changeCount:r,...i}=e,{t:o}=Z();return u.jsx(jqt,{icon:ck,selected:n,text:o("changes.action.revert-changes-confirm-change",{count:r}),mode:"bleed",ref:t,tooltipProps:null,...i})}));function Iqt({error:e}){const{t:t}=Z();return u.jsx(ae,{tone:"critical",padding:3,children:u.jsxs(U,{align:"flex-start",children:[u.jsx(N,{children:u.jsx(L,{children:u.jsx(ra,{})})}),u.jsx(N,{flex:1,paddingLeft:3,children:u.jsx(L,{size:1,as:"p",children:t(e.messageKey,{expectedType:e.expectedType,actualType:e.actualType})})})]})})}function Dqt(e){var t;const{change:n,hidden:r,readOnly:i}=e,o=n.diffComponent||kqt,{documentId:a,schemaType:s,rootDiff:l,isComparingCurrent:c,FieldWrapper:d=f.Fragment}=_A(),p=xl(a,s.name),[h,m]=f.useState(!1),[g,y]=f.useState(!1),[v,b]=f.useState(null),{t:x}=Z(),[w,C]=ic({id:a,type:s.name,permission:"update"}),k=f.useCallback((()=>{kA(n,l,p)}),[n,l,p]),j=f.useCallback((()=>{m(!0)}),[]),S=f.useCallback((()=>{m(!1)}),[]),E=f.useCallback((()=>{y(!0)}),[]),_=f.useCallback((()=>{y(!1)}),[]);Fn(f.useCallback((()=>m(!1)),[]),[v]);const A="array"===(null==(t=n.parentSchema)?void 0:t.jsonType)?n.path.slice(0,-1):n.path;return f.useMemo((()=>r?null:u.jsxs(ne,{space:1,as:Tqt,children:[n.showHeader&&u.jsx(bwe,{change:n,titlePath:n.titlePath}),u.jsx(d,{path:A,hasHover:g,children:u.jsxs(bqt,{change:n,as:Aqt,"data-revert-field-hover":g?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?u.jsx(Iqt,{error:n.error}):u.jsx(gqt,{t:x,children:u.jsx(Kc.Provider,{value:{path:n.path},children:u.jsx(o,{diff:n.diff,schemaType:n.schemaType})})}),c&&!C&&w?.granted&&u.jsx(An,{content:u.jsxs(ne,{space:3,children:[u.jsx(N,{paddingY:3,children:u.jsx(L,{size:1,children:x("changes.action.revert-changes-description",{count:1})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(me,{mode:"ghost",onClick:S,text:x("changes.action.revert-all-cancel")}),u.jsx(me,{tone:"critical",onClick:k,text:x("changes.action.revert-changes-confirm-change",{count:1})})]})]}),open:h,padding:3,portal:!0,placement:"left",ref:b,children:u.jsx(Lwe,{changeCount:1,onClick:j,onMouseEnter:E,onMouseLeave:_,selected:h,disabled:i,"data-testid":`single-change-revert-button-${n?.key}`})})]})})]})),[n,S,h,o,A,d,E,_,k,j,r,c,C,w?.granted,i,g,x])}function Oqt(){const e=f.useRef(null),[t,n]=f.useState(!1);return f.useEffect((()=>{const t=e.current;if(!t)return()=>{};const r=()=>n(!0),i=()=>n(!1);return t.addEventListener("mouseover",r),t.addEventListener("mouseout",i),()=>{t.removeEventListener("mouseover",r),t.removeEventListener("mouseout",i)}}),[]),[e,t]}const Rqt=$.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`,Mqt=$.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>ke(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>ke(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`;function $qt(e){const{change:t,readOnly:n,hidden:r,...i}=e,{titlePath:o,changes:a,path:s}=t,{path:l}=f.useContext(Kc),{documentId:c,schemaType:d,FieldWrapper:p,rootDiff:h,isComparingCurrent:m}=_A(),{t:g}=Z(),y=a.every((e=>Twe(e)&&Cwe(e.schemaType))),v=hwe(l,s),[b,x]=Oqt(),w=xl(c,d.name),[C,k]=f.useState(!1),[j,S]=f.useState(null),[E,_]=ic({id:c,type:d.name,permission:"update"}),A=f.useCallback((()=>kA(t,h,w)),[t,h,w]),T=f.useCallback((()=>{k(!0)}),[]),D=f.useCallback((()=>{k(!1)}),[]);Fn((()=>k(!1)),[j]);const M=f.useMemo((()=>r?null:u.jsxs(ne,{space:1,as:Mqt,"data-revert-group-hover":x?"":void 0,"data-portable-text":y?"":void 0,children:[u.jsx(ne,{as:Rqt,space:5,children:a.map((e=>u.jsx(Nwe,{change:e,readOnly:n,hidden:r},e.key)))}),m&&!_&&E?.granted&&u.jsx(An,{content:u.jsxs(ne,{space:3,children:[u.jsx(N,{paddingY:3,children:u.jsx(L,{size:1,children:g("changes.action.revert-changes-description",{count:a.length})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(me,{mode:"ghost",onClick:D,text:g("changes.action.revert-all-cancel")}),u.jsx(me,{tone:"critical",onClick:A,text:g("changes.action.revert-changes-confirm-change",{count:1})})]})]}),padding:3,portal:!0,placement:"left",open:C,ref:S,children:u.jsx(N,{children:u.jsx(Lwe,{changeCount:a.length,onClick:T,ref:b,selected:C,disabled:n,"data-testid":`group-change-revert-button-${t.fieldsetName}`})})})]})),[a,D,C,t.fieldsetName,A,T,r,m,_,y,x,E?.granted,n,b,g]);return r?null:u.jsxs(ne,{space:1,...i,children:[u.jsx(bwe,{titlePath:o}),v||!p?M:u.jsx(p,{hasHover:x,path:t.path,children:M})]})}function Nwe(e){var t,n;const{change:r,hidden:i,readOnly:o}=e,{value:a}=_A(),s=kP({document:a,checkProperty:i||(null==(t=r.schemaType)?void 0:t.hidden),checkPropertyKey:"hidden",value:"field"===r.type?r.diff.toValue:void 0}),l=kP({document:a,checkProperty:o||(null==(n=r.schemaType)?void 0:n.readOnly),checkPropertyKey:"readOnly",value:"field"===r.type?r.diff.toValue:void 0});return s?null:"field"===r.type?u.jsx(Dqt,{change:r,readOnly:l}):"group"===r.type?u.jsx($qt,{change:r,"data-testid":`group-change-${r.fieldsetName}`,readOnly:l}):u.jsxs(L,{children:["Unknown change type: ",u.jsx("code",{children:r.type||"undefined"})]})}function OP(){const{t:e}=Z();return u.jsxs(ne,{space:3,children:[u.jsx(L,{size:1,weight:"medium",as:"h3",children:e("changes.no-changes-title")}),u.jsx(L,{as:"p",size:1,muted:!0,children:e("changes.no-changes-description")})]})}function Rw({diff:e,fields:t,schemaType:n}){const{documentId:r,isComparingCurrent:i,value:o}=_A(),a=xl(r,n.name),{path:s}=f.useContext(Kc),l=0===s.length,[c,d]=f.useState(!1),[p,h]=f.useState(!1),{t:m}=Z(),g=kP({document:o,value:void 0,checkProperty:n.readOnly,checkPropertyKey:"readOnly"});if("object"!==n.jsonType)throw new Error("Only object schema types are allowed in ChangeList");const[y,v]=ic({id:r,type:n.name,permission:"update"}),b=f.useMemo((()=>Owe(n,e,s,[],{fieldFilter:t})),[n,t,s,e]),x=f.useMemo((()=>t&&0===t.length?[]:Pqt(b)),[b,t]),w=b[0],C=f.useCallback((()=>{kA(w,e,a),d(!1)}),[w,e,a]),k=f.useCallback((()=>{d(!0)}),[]),j=f.useCallback((()=>{h(!0)}),[]),S=f.useCallback((()=>{h(!1)}),[]),E=f.useCallback((()=>{d(!1)}),[]),[_,A]=f.useState(null);if(Fn(f.useCallback((()=>d(!1)),[]),[_]),0===x.length)return l?u.jsx(OP,{}):null;const T=l&&x.length>1;return u.jsx(ae,{children:u.jsxs(ne,{space:5,children:[u.jsx(ne,{as:fqt,space:5,children:x.map((e=>u.jsx("div",{children:u.jsx(Nwe,{change:e,"data-revert-all-changes-hover":p?"":void 0,readOnly:g||e?.readOnly,hidden:e?.hidden},e.key)},e.key)))}),T&&i&&!v&&y?.granted&&u.jsx(An,{content:u.jsxs(ne,{space:3,children:[u.jsx(N,{paddingY:3,children:u.jsx(L,{size:1,children:m("changes.action.revert-all-description",{count:x.length})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(me,{mode:"ghost",text:m("changes.action.revert-all-cancel"),onClick:E}),u.jsx(me,{tone:"critical",text:m("changes.action.revert-all-confirm"),onClick:C})]})]}),open:c,padding:3,placement:"left",portal:!0,ref:A,children:u.jsx(ne,{children:u.jsx(me,{tone:"critical",mode:"ghost",text:m("changes.action.revert-all-confirm"),icon:ck,onClick:k,onMouseEnter:j,onMouseLeave:S,disabled:g,size:"large"})})})]})})}function Pqt(e){return 1===e.length&&"group"===e[0].type&&0===e[0].path.length?e[0].changes:e}const NQ=$.span`
  border-radius: ${({theme:e})=>ke(e.sanity.radius[1])};
`,BQ=$(L)`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`;function Fqt(e){const{segment:t}=e,{text:n}=t,{t:r}=Z();return"added"===t.action?u.jsx(qa,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:r("changes.added-label")},as:NQ,children:u.jsx(BQ,{as:"ins",style:{textDecoration:"none"},children:n})}):"removed"===t.action?u.jsx(qa,{annotation:t.annotation,as:NQ,disableHoverEffect:!0,tooltip:{description:r("changes.removed-label")},children:u.jsx(BQ,{as:"del",children:n})}):u.jsx(ae,{as:"span",radius:2,style:{display:"inline"},children:n})}function Lqt(e){const{diff:t}=e;return u.jsx(u.Fragment,{children:(t.segments||[]).map(((e,t)=>u.jsx(Fqt,{segment:e},t)))})}const P3=$(L)`
  color: inherit;
`;function RP(e){const{title:t,action:n,icon:r,children:i,markRemoved:o}=e;return u.jsxs(U,{padding:2,align:"center",children:[r&&u.jsx(N,{padding:2,children:u.jsx(P3,{size:4,forwardedAs:o?"del":"div",children:f.createElement(r)})}),u.jsxs(ne,{space:2,paddingLeft:2,children:[u.jsx(P3,{size:1,weight:"medium",forwardedAs:o?"del":"h3",textOverflow:"ellipsis",children:t}),n&&u.jsx("div",{children:n}),u.jsx(P3,{size:0,textOverflow:"ellipsis",children:i})]})]})}$.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`;const Nqt=["_key","_type","_weak"];function y9(e){return Object.keys(e).every((e=>Nqt.includes(e)))}function TA(e,t){return MP(e,t,new WeakMap)}function MP(e,t,n){if(e===t)return e;if(n.has(t))return n.get(t);if(null==e||null==t||typeof e!=typeof t)return t;if(Array.isArray(t)){let r=e.length===t.length;const i=[];n.set(t,i);for(let o=0;o<t.length;o++){const a=MP(e[o],t[o],n);a!==e[o]&&(r=!1),i[o]=a}return n.set(t,r?e:i),r?e:i}if("object"==typeof t){const r=Object.keys(t);let i=Object.keys(e).length===r.length;const o={};n.set(t,o);for(const a of r){const r=MP(e[a],t[a],n);r!==e[a]&&(i=!1),o[a]=r}return n.set(t,i?e:o),i?e:o}return t}function Bqt(e){return u.jsx(oae.Provider,{value:e.presence,children:e.children})}function Bwe(){const e=f.useContext(oae);if(!e)throw new Error("Form context not provided");return e}function ev(e,t){const n=Bwe(),r=f.useRef(n),i=TA(r.current,n.filter((n=>ya(e,n.path)&&t)));return r.current=i,i}function tc(){const e=f.useContext(Jie);if(!e)throw new Error("FormBuilder: missing context value");return e}const Vqt=e=>"error"===e?u.jsx(ra,{}):"warning"===e?u.jsx(or,{}):u.jsx(bd,{}),zqt=$(L)((({theme:e})=>de`
    &[data-info] {
      color: ${e.sanity.color.muted.primary.enabled.fg};
    }

    &[data-warning] {
      color: ${e.sanity.color.muted.caution.enabled.fg};
    }

    &[data-error] {
      color: ${e.sanity.color.muted.critical.enabled.fg};
    }
  `));function Vwe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:i}=tc().__internal.components;return 0===t.length&&0===n.length?null:u.jsxs(ne,{space:1,children:[n.length>0&&n.map((({message:e,level:t},r)=>u.jsxs(U,{children:[u.jsx(N,{marginRight:2,marginBottom:r+1===n.length?0:2,children:u.jsx(zqt,{size:1,"data-error":"error"===t?"":void 0,"data-warning":"warning"===t?"":void 0,"data-info":"info"===t?"":void 0,children:Vqt(t)})}),u.jsx(N,{children:u.jsx(L,{size:1,children:e||"Error"})})]},`validationItem-${r}`))),t.length>0&&u.jsxs(N,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&u.jsx(i,{markers:t})]})]})}function Uqt(e){return u.jsx(uae.Provider,{value:e.validation,children:e.children})}function Hqt(){const e=f.useContext(uae);if(!e)throw new Error("Form context not provided");return e}function b9(e,t=!1){const n=Hqt();return f.useMemo((()=>n.filter((n=>ya(e,n.path)&&(t||!fr(e,n.path)))).map((e=>({message:e.message,level:e.level,path:e.path})))),[t,e,n])}const Wqt=["@@_NONEXISTENT_PATH_@@"];function AA(e){const t=f.useRef(null),n=null!=e&&e.validation&&e.validation.length>0?e.validation:an,r=b9(e?.path||Wqt),i=f.useMemo((()=>null!=e&&e.schemaType&&CA(e?.schemaType)?n:n.concat(r)),[r,e,n]),[o,a,s]=f.useMemo((()=>[i.filter((e=>"error"===e.level)).length>0,i.filter((e=>"warning"===e.level)).length>0,i.filter((e=>"info"===e.level)).length>0]),[i]),l=TA(t.current,i);return t.current=l,f.useMemo((()=>({validation:l,hasError:o,hasWarning:a,hasInfo:s})),[l,o,a,s])}function jA(e){const t=f.useContext(rae);if(!t)throw new Error("Form context not provided");return f.useMemo((()=>t.filter((t=>fr(t.path,e)))),[t,e])}const Gqt={placement:"right",fallbackPlacements:["top","bottom"]};function Yqt(e){const{group:t}=e,{title:n}=ec(t);return t.expanded?u.jsxs(u.Fragment,{children:[u.jsx(N,{padding:2,paddingTop:3,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:n})}),t.children.map(((e,n)=>{var r;return u.jsx($P,{action:e,isFirst:0===n,prevIsGroup:"group"===(null==(r=t.children[n-1])?void 0:r.type)},n)}))]}):u.jsx(i6,{icon:t.icon,popover:Gqt,text:n,tone:t.tone,children:t.children.map(((e,n)=>{var r;return u.jsx($P,{action:e,isFirst:0===n,prevIsGroup:"group"===(null==(r=t.children[n-1])?void 0:r.type)},n)}))})}function qqt(e){const{action:t}=e,{title:n}=ec(t),r=f.useCallback((()=>{t.onAction()}),[t]),i="object"==typeof t.disabled&&u.jsx(L,{size:1,children:t.disabled.reason});return u.jsx(XB,{content:i,placement:"left",children:u.jsx(qe,{disabled:!!t.disabled,icon:t.icon,iconRight:t.iconRight||(t.selected?na:void 0),onClick:r,pressed:t.selected,text:n,tone:t.tone})})}function $P(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return"divider"===t.type?u.jsx(rr,{}):"group"===t.type?u.jsxs(u.Fragment,{children:[!n&&u.jsx(rr,{}),u.jsx(Yqt,{group:t})]}):u.jsxs(u.Fragment,{children:[r&&u.jsx(rr,{}),u.jsx(qqt,{action:t})]})}const zwe={placement:"top"};function VQ(e){return"renderAsButton"in e&&e.renderAsButton}const Kqt=f.memo((function(e){const{nodes:t,onMenuOpenChange:n}=e,[r,i]=f.useState(!1),o=f.useCallback((()=>{n(!0),i(!0)}),[n]),a=f.useCallback((()=>{n(!1),i(!1)}),[n]),s=f.useMemo((()=>t.filter(VQ)),[t]),l=f.useMemo((()=>t.filter((e=>!VQ(e)))),[t]),c=f.useMemo((()=>{const e=l.length;if(0===e||e>1)return l;const t=l[0];return"group"===t.type?[{...t,expanded:!0}]:l}),[l]),d=f.useMemo((()=>[...c.length?[{type:"group",children:c,icon:a1,title:"Field actions"}]:[],...s]),[s,c]);return u.jsx(u.Fragment,{children:d.map(((e,t)=>u.jsx(Zqt,{node:e,onOpen:o,onClose:a,open:r},t)))})})),Zqt=f.memo((function(e){const{node:t,onOpen:n,onClose:r,open:i}=e;return"divider"===t.type?u.jsx(ae,{borderLeft:!0,flex:"none"}):"action"===t.type?u.jsx(me,{icon:t.icon,mode:"bleed",onClick:t.onAction,tooltipProps:{...zwe,content:t.title}}):u.jsx(Jqt,{node:t,onOpen:n,onClose:r,open:i})})),Xqt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Jqt(e){const{node:t,onOpen:n,onClose:r,open:i}=e,{title:o}=ec(t);return u.jsx(Gt,{button:u.jsx(me,{icon:t.icon,label:i?void 0:o,mode:"bleed",tooltipProps:{...zwe,content:t.title}}),id:f.useId(),menu:u.jsx(At,{children:t.children.map(((e,n)=>{var r;return u.jsx($P,{action:e,isFirst:0===n,prevIsGroup:"group"===(null==(r=t.children[n-1])?void 0:r.type)},n)}))}),onOpen:n,onClose:r,popover:Xqt})}function zQ(){return f.useContext(Xie)}function Mw(e){const{actions:t,children:n,path:r,focused:i}=e,{onMouseEnter:o,onMouseLeave:a}=zQ(),s=zQ().hoveredStack[0],l=Tm||!!s&&Bn(r)===s,c=f.useCallback((()=>{o(r)}),[o,r]),d=f.useCallback((()=>{a(r)}),[a,r]),p=f.useMemo((()=>({actions:t,focused:i,hovered:l,onMouseEnter:c,onMouseLeave:d})),[t,i,c,d,l]);return u.jsx(Zie.Provider,{value:p,children:n})}function Uwe(e){return e.filter(Boolean).filter((e=>!("hidden"in e)||!0!==e.hidden)).map((e=>"group"===e.type?{...e,children:Uwe(e.children)}:e))}const $w=f.memo((function(e){const{actions:t,documentId:n,documentType:r,onActions:i,path:o,schemaType:a}=e,s=t.length,l=f.useRef(s),[c,d]=f.useState((()=>Array.from(new Array(s)))),p=f.useRef(c),h=f.useCallback(((e,t)=>{d((n=>{const r=[...n];return r[e]=t,r}))}),[]);f.useEffect((()=>{p.current!==c&&(p.current=c,i(Uwe(c)))}),[c,i]),f.useEffect((()=>{if(l.current!==s){const e=Array.from(new Array(s));for(let t=0;t<s;t++)e[t]=p.current[t];l.current=s,d(e),p.current=e}}),[s]);const m=f.useMemo((()=>t.map(((e,t)=>Qqt({action:e,documentId:n,documentType:r,index:t,path:o,schemaType:a,setFieldAction:h})))),[t,n,r,o,a,h]);return u.jsx(u.Fragment,{children:m.map(((e,t)=>u.jsx(e,{},t)))})}));function Qqt({action:e,documentId:t,documentType:n,index:r,path:i,schemaType:o,setFieldAction:a}){const{useAction:s}=e;return f.memo((function(){const e=ba(s({documentId:t,documentType:n,path:i,schemaType:o}));return f.useEffect((()=>{a(r,e)}),[e]),null}))}function x9(){return f.useContext(Zie)}function eKt(e){const{children:t}=e,[n,r]=f.useState([]),i=f.useCallback((e=>{const t=Bn(e);r((e=>e.includes(t)?e:[t,...e]))}),[]),o=f.useCallback((e=>{const t=Bn(e);r((e=>e.includes(t)?e.filter((e=>e!==t)):e))}),[]),a=f.useMemo((()=>({hoveredStack:n,onMouseEnter:i,onMouseLeave:o})),[i,o,n]);return u.jsx(Xie.Provider,{value:a,children:t})}const tKt={portal:!0},nKt=$.div((e=>{const{space:t}=Ae(e.theme);return de`
    margin: ${0-t[1]}px;
  `})),UQ=e=>1===e.length?`${e[0].user.displayName} is editing this document`:e.length>1?`${e.length} people are editing this document right now`:void 0;function w9(e){const{presence:t}=e,n=f.useMemo((()=>Array.from(new Set(t.map((e=>e.user.id)))).map((e=>t.find((t=>t.user.id===e)))).filter(wi)),[t]),r=f.useMemo((()=>UQ(n)),[n]);return u.jsx(pt,{content:r,...tKt,children:u.jsx(nKt,{children:u.jsx(Ux,{maxLength:2,"aria-label":UQ(n),size:0,children:n.map((e=>u.jsx(gs,{size:0,user:e.user},e.user.id)))})})})}const rKt=/[^\p{Alpha}\p{White_Space}]/gu,iKt=new RegExp("\\p{White_Space}+","u"),aKt={small:0,medium:1,large:2};function oKt(e){const t=e.replace(rKt,"").split(iKt);return 1===t.length?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function gs(e){const{user:t,withTooltip:n,...r}=e;return xt(t)?n?u.jsx(sKt,{...r,user:t}):u.jsx(Hwe,{...r,user:t}):u.jsx(lKt,{...e,user:t})}function sKt(e){const{user:{displayName:t}}=e;return u.jsx(pt,{content:t,placement:"top",portal:!0,children:u.jsx("div",{style:{display:"inline-block"},children:u.jsx(Hwe,{...e})})})}const Hwe=f.forwardRef((function(e,t){const{user:n,animateArrowFrom:r,position:i,size:o,status:a,tone:s,...l}=e,[c,d]=f.useState(null),p=gwe(n.id),h=c||null==n?void 0:n.imageUrl;return u.jsx(qL,{__unstable_hideInnerStroke:!0,animateArrowFrom:r,arrowPosition:i,color:p.name,"data-legacy-tone":s,initials:n?.displayName&&oKt(n.displayName),src:h,onImageLoadError:d,ref:t,size:"string"==typeof o?aKt[o]:o,status:a,title:n?.displayName,...l})}));function lKt({user:e,...t}){const[n]=nc(e);return n?u.jsx(gs,{...t,user:n}):null}const uKt=3,Wwe=3,r5=-4,H0=25,HQ=4,cKt=[0,.25,.75,1],R2=23,dKt=8,fKt=8,Gwe=20,Ywe=20,F3=!1,qwe=$(U)`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`,hKt=$(U)`
  height: ${H0}px;
  min-width: 23px;
  vertical-align: top;
`,{Tracker:pKt,useReporter:mKt,useReportedValues:gKt}=Yxe();function vKt(e){const{children:t,items:n}=e,r=f.useMemo((()=>u.jsx(ne,{sizing:"border",children:n.map((e=>u.jsxs(U,{align:"center",gap:2,children:[u.jsx("div",{children:u.jsx(gs,{user:e.user,status:"online"})}),u.jsx(L,{size:1,children:e.user.displayName})]},e.user.id)))})),[n]);return u.jsx(pt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const yKt=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function bKt(e){return(H0+r5)*e-r5}const Kwe=f.memo((function({presence:e,position:t="inside",animateArrowFrom:n="inside",maxAvatars:r=Wwe,stack:i=!0}){const o=Mf(e||[],(e=>e.user.id)),a=Qf(o,(e=>e.lastActiveAt)),[s,l]=i?yKt(a,r):[[],a],c=[...l.reverse().map((e=>({key:e.user.id,element:u.jsx(gs,{animateArrowFrom:n,position:t,status:"online",user:e.user})}))),s.length>=2?{key:"counter",element:u.jsx(IE,{count:s.length})}:null].filter(Boolean);return u.jsxs(qwe,{children:[u.jsx("div",{}),u.jsx(hKt,{direction:"row-reverse",children:c.map(((e,t)=>e&&u.jsx("div",{style:{position:"absolute",transform:`translate3d(${-t*(H0+r5)}px, 0px, 0px)`,transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-t},children:e.element},e.key)))})]})}));function xKt(e){const t=f.useContext(cAe),{presence:n=t,maxAvatars:r=Wwe}=e,i=f.useRef(null);mKt(f.useId(),(()=>({presence:n,element:i.current,maxAvatars:r})));const o=f.useMemo((()=>Mf(n||[],(e=>e.user.id))),[n]);return u.jsx(vKt,{items:o,children:u.jsx(qwe,{ref:i,style:{minHeight:H0,minWidth:H0}})})}const Pw=xKt,wKt=e=>{const t=new kr,n=new IntersectionObserver((e=>{e.forEach((e=>{t.next(e)}))}),e);return{observe:e=>new It((r=>{const i=t.pipe(jt((t=>t.target===e))).subscribe(r);return n.observe(e),()=>{i.unsubscribe(),n.unobserve(e)}}))}},C9=e=>{const{onIntersection:t,io:n,id:r,...i}=e,o=f.useRef(null);return f.useEffect((()=>{const e=o.current;if(!e)return;const i=n.observe(e).pipe(qn((e=>t(r,e)))).subscribe();return()=>i.unsubscribe()}),[n,r,t]),u.jsx("div",{ref:o,...i})},CKt=$.div`
  position: relative;
`,SKt=$.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`,S9=de`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`,EKt=$(C9)((({$debug:e,margins:t})=>de`
    ${S9}

    z-index: 100;
    position: sticky;
    height: 1px;
    top: ${t?t[0]-1+"px":void 0};
    background-color: ${e?"red":"none"};
  `)),_Kt=$(C9)((({$debug:e})=>de`
    ${S9}

    visibility: none;

    ${e&&de`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `}
  `)),kKt=$(C9)((({$debug:e})=>de`
    ${S9}

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: ${e?"blue":"transparent"};
  `)),TKt=e=>`${e}px`,AKt=e=>0-e,jKt=f.forwardRef((function(e,t){const{regions:n,render:r,children:i,margins:[o,a,s,l]}=e,c=f.useRef(null),d=f.useMemo((()=>[o,a,s,l]),[o,a,s,l]),p=f.useMemo((()=>wKt({rootMargin:d.map(AKt).map(TKt).join(" "),threshold:cKt})),[d]),[h,m]=f.useState({}),g=f.useCallback(((e,t)=>{m((n=>({...n,[e]:t})))}),[]),y=h["::top"],v=h["::bottom"],b=f.useMemo((()=>y&&v?n.filter((e=>{var t;return(null==(t=e.presence)?void 0:t.length)>0})).map((e=>{const t=h[e.id];if(!t)return null;const{bottom:n,top:r}=t.boundingClientRect,i=t.boundingClientRect.top<y.boundingClientRect.bottom,o=t.boundingClientRect.top<v.boundingClientRect.top,a=t.isIntersecting?r-(t.intersectionRect.top-23):i?-y.boundingClientRect.bottom:v.boundingClientRect.top,s=t.isIntersecting?-(n-(t.intersectionRect.bottom+23)):o?v.boundingClientRect.top:-y.boundingClientRect.bottom;return{distanceTop:a,distanceBottom:s,region:e,position:a<=8?"top":s<=8?"bottom":"inside"}})).filter(Boolean):[]),[v,h,n,y]);return u.jsxs(CKt,{ref:t,children:[u.jsx(EKt,{$debug:F3,io:p,id:"::top",onIntersection:g,margins:d}),u.jsx("div",{children:i}),u.jsx(SKt,{ref:c,children:c.current&&r(b,c.current.offsetWidth)}),n.map((e=>{const t=0===e.rect.width;return u.jsx(_Kt,{$debug:F3,io:p,onIntersection:g,id:e.id,style:{width:t?1:e.rect.width,left:e.rect.left-(t?1:0),top:e.rect.top-23,height:e.rect.height+46}},e.id)})),u.jsx(kKt,{$debug:F3,id:"::bottom",io:p,onIntersection:g})]})})),Zwe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},IKt=e=>e.top+e.height;function DKt(e){return e.map(((e,t,n)=>{var r;const i=null==(r=n[t-1])?void 0:r.region.rect,o=i?IKt(i):0;return{...e,spacerHeight:e.region.rect.top-o}}))}const M2=e=>F1(e,(e=>e.region.rect.top)),OKt=(e,t)=>e+t,WQ=e=>e.reduce(OKt,0);function RKt(e){const t=DKt(M2(e)),n={top:[],inside:[],bottom:[],...ON(t,(e=>e.position))};return{top:M2(n.top).map(((e,t,n)=>({...e,indent:n.slice(t+1).reduce(((e,t)=>e+t.region.rect.width),0)}))),inside:M2(n.inside).map((e=>({...e,indent:0}))),bottom:M2(n.bottom).map(((e,t,n)=>({...e,indent:n.slice(0,t).reduce(((e,t)=>e+t.region.rect.width),0)})))}}const GQ=({height:e,...t})=>u.jsx("div",{style:{height:Math.max(0,e),...t?.style}}),MKt=[0,0,0,0],$Kt=(e,t)=>{let n=e,r=-n.scrollTop,i=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}};function PKt(e,t){return{...$Kt(e,t),width:e.offsetWidth,height:e.offsetHeight}}function FKt(e,t){return e.filter((([,e])=>!!e.element)).map((([e,n])=>({...n,id:e,rect:PKt(n.element,t)})))}function LKt(e){const{children:t,margins:n=MKt}=e,r=gKt(),i=f.useRef(null),o=f.useMemo((()=>i.current?FKt(r,i.current):PP),[r]),a=f.useCallback(((e,t)=>{const r=RKt(e.filter((e=>e.region.presence.length>0))),i=WQ(r.top.map((e=>e.region.rect.height+e.spacerHeight))),o=WQ([...r.inside,...r.bottom].map((e=>e.region.rect.height+e.spacerHeight))),a=r.inside.reduce(((e,t)=>{const{distanceTop:n,distanceBottom:r}=t,i=n<=Gwe,o=r<=Ywe;return{nearTop:e.nearTop+(i?t.region.presence.length:0),nearBottom:e.nearBottom+(o?t.region.presence.length:0)}}),{nearTop:0,nearBottom:0});return u.jsxs(u.Fragment,{children:[u.jsx(YQ,{closeCount:a.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:r.top}),u.jsx(GQ,{height:i}),u.jsx(NKt,{containerWidth:t,regionsWithIntersectionDetails:r.inside}),u.jsx(GQ,{height:o}),u.jsx(YQ,{closeCount:a.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:r.bottom})]})}),[n]);return u.jsx(jKt,{ref:i,margins:n,regions:o,render:a,children:t})}const PP=[],YQ=f.memo((function(e){const{closeCount:t,margins:n,position:r,regionsWithIntersectionDetails:i}=e,o="top"===r?1:-1,a=f.useMemo((()=>i.length?pr(Qf(i,(e=>e.region.rect.top*o)).map((e=>e.region.presence||PP))):PP),[o,i]),[s,l,c,d]=n,p=(d||0)+(a.length>0?-t*(H0+r5):0)-l,h="top"===r?s:c,m=f.useMemo((()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...Zwe,transform:`translate3d(${p}px, 0px, 0px)`,top:5+h,bottom:5+h})),[p,h]);return u.jsx("div",{"data-dock":r,style:m,children:u.jsx(Kwe,{position:r,maxAvatars:3,presence:a})},`sticky-${r}`)}));function NKt(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return u.jsx(u.Fragment,{children:t.map((e=>{const t=e.region.rect.left,{distanceTop:r,distanceBottom:i}=e,o=r<=Gwe,a=i<=Ywe,s=n-t-e.region.rect.width,{presence:l,maxAvatars:c}=e.region;return u.jsx(f.Fragment,{children:u.jsx("div",{style:{zIndex:2,position:"absolute",...Zwe,left:t,transform:`translate3d(${o||a?s:0}px, 0px, 0px)`,height:e.region.rect.height,top:e.region.rect.top},children:u.jsx(VKt,{value:()=>`${r} | ${i}`,children:u.jsx(Kwe,{stack:!o&&!a,position:o?"top":a?"bottom":"inside",maxAvatars:c,presence:l})})})},e.region.id)}))})}const BKt=e=>e.children,VKt=BKt,zKt=[0,0,0,0];function UKt({children:e,margins:t}){return u.jsx(pKt,{children:u.jsx(LKt,{margins:t||zKt,children:e})})}const tv=UKt,HKt=$(U)((({theme:e,$floatingCardWidth:t,$slotWidth:n,$floatingCardVisible:r})=>{const{space:i}=e.sanity;return de`
    /* Prevent buttons from taking up extra vertical space */
    line-height: 1;
    width: 100%;
    /* For floating actions menu */
    position: relative;

    [data-ui='PresenceBox'] {
      position: absolute;
      bottom: 0;
      right: ${n+t+i[1]}px;
    }
    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.
      [data-ui='PresenceBox'] {
        position: absolute;
        bottom: 0;
        right: ${n+(r?t:0)+i[1]}px;
      }
    }
  `})),WKt=$(N)((({theme:e,$presenceMaxWidth:t})=>{const{space:n}=e.sanity;return de`
    max-width: calc(100% - ${t+n[1]}px);
    min-width: 75%;
  `})),GKt=$(N)((({theme:e,$right:t,$fieldActionsVisible:n})=>{const{space:r}=e.sanity;return de`
    position: absolute;
    bottom: 0;
    right: ${n?t+r[1]:t}px;
  `})),YKt=$(ae)`
  align-items: center;
  bottom: 0;
  position: absolute;
  right: 0;
  transition: opacity 150ms ease;
  line-height: 1;

  @media (hover: hover) {
    // If hover is supported, we hide the floating card by default
    // and only show it when it has focus within or when the field is hovered or focused.
    opacity: 0;
    pointer-events: none;

    [data-ui='FieldActionsFlex'] {
      opacity: 0;
    }

    &[data-actions-visible='false']:not(:focus-within) {
      // Remove the shadow when the field actions are not visible
      box-shadow: none;

      // Since the field actions always will be present in the DOM (to make them focusable) 
      // they will always affect the width of the floating card, even when they are not visible.
      // Therefore, we remove the background of the floating card when the field actions are not visible.
      background: transparent;
    }

    // Remove the shadow when the field has comments but no actions
    &[data-has-comments='true']:not([data-has-actions='true']) {
      box-shadow: none;
    }

    // Show the floating card when it has focus within (ie when field actions are focused).
    &:focus-within {
      opacity: 1;
      pointer-events: auto;
      width: max-content;

      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  }

  &[data-visible='true'] {
    opacity: 1;
    pointer-events: auto;
    width: max-content;
  }

  &[data-actions-visible='true'] {
    [data-ui='FieldActionsFlex'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }
  }
`,qKt=$(U)`
  gap: inherit;
  transition: opacity 150ms ease;
`,qQ=4;function Xwe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:i,fieldFocused:o,fieldHovered:a,presence:s}=e,[l,c]=f.useState(!1),[d,p]=f.useState(!1),[h,m]=f.useState(null),[g,y]=f.useState(0),[v,b]=f.useState(null),[x,w]=f.useState(0),{hasComments:C=!1,button:k=null,isAddingComment:j=!1}=t||{},S=r&&r.length>0,E=o||a||d||j,_=t?.button||S,A=l||E||C,T=f.useCallback((()=>{if(h){const{width:e}=h.getBoundingClientRect();y(e||0)}}),[h]),D=f.useCallback((()=>{T(),c(!0)}),[T]),M=f.useCallback((()=>{T(),c(!1)}),[T]);f.useEffect((()=>{T()}),[T,E]),f.useEffect((()=>{if(v){const{width:e}=v.getBoundingClientRect();w(e||0)}}),[v]);const I=f.useMemo((()=>n?u.jsx(GKt,{$fieldActionsVisible:!!E,$right:g,ref:b,children:n}):null),[g,E,n]);return u.jsxs(HKt,{align:"flex-end",justify:"space-between",$floatingCardVisible:A,$floatingCardWidth:g,$slotWidth:x,children:[u.jsx(WKt,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:bKt(4),children:i}),s&&s.length>0&&u.jsx(N,{"data-ui":"PresenceBox",flex:"none",children:u.jsx(Pw,{maxAvatars:4,presence:s})}),I,(_||C)&&u.jsx(Sa,{children:u.jsxs(YKt,{"data-actions-visible":E?"true":"false","data-has-actions":S?"true":"false","data-has-comments":C?"true":"false","data-visible":A?"true":"false",display:"flex",onBlurCapture:M,onFocusCapture:D,ref:m,sizing:"border",children:[S&&u.jsx(qKt,{align:"center","data-ui":"FieldActionsFlex",children:u.jsx(Kqt,{nodes:r,onMenuOpenChange:p})}),k]})})]})}function sh(e,t){if(t&&e)return`desc_${e}`}const KKt=[],Jwe={error:QKt,warning:eZt,info:tZt},ZKt=$(ne)`
  max-width: 200px;
`,Qwe=$(L)((({$status:e})=>"error"===e?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:"warning"===e?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:"info"===e?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{}));function nv(e){const{validation:t=KKt,__unstable_showSummary:n,fontSize:r,placement:i}=e,o=t.some((e=>"error"===e.level)),a=t.some((e=>"warning"===e.level)),s=o?"error":a?"warning":"info",l=Jwe[s];return u.jsx(pt,{content:u.jsxs(ZKt,{space:3,children:[n&&u.jsx(JKt,{validation:t}),!n&&u.jsx(u.Fragment,{children:t.map(((e,t)=>u.jsx(XKt,{validation:e},t)))})]}),portal:!0,placement:i,fallbackPlacements:["bottom","right","left"],children:u.jsx("div",{children:u.jsx(Qwe,{$status:s,size:r,weight:"medium",children:l&&u.jsx(l,{})})})})}function XKt(e){const{validation:t}=e,n=Jwe[t.level];return u.jsxs(U,{children:[u.jsx(N,{marginRight:2,children:u.jsx(Qwe,{$status:t.level,size:1,children:n&&u.jsx(n,{})})}),u.jsx(N,{flex:1,children:u.jsx(L,{size:1,children:t.message})})]})}function JKt({validation:e}){const{t:t}=Z(),n=jm(),r=e.reduce(((e,t)=>"error"===t.level?e+1:e),0),i=e.reduce(((e,t)=>"warning"===t.level?e+1:e),0),o=r>0,a=i>0;if(!o&&!a)return null;const s=o&&t("form.validation.summary.errors-count",{count:r}),l=a&&t("form.validation.summary.warnings-count",{count:i});return s&&l?u.jsx(L,{size:1,children:n.format([s,l])}):u.jsx(L,{size:1,children:s||l})}function QKt(){const{t:e}=Z();return u.jsx(ra,{"data-testid":"input-validation-icon-error","aria-label":e("form.validation.has-error-aria-label"),"aria-hidden":!0,role:"presentation"})}function eZt(){const{t:e}=Z();return u.jsx(or,{"data-testid":"input-validation-icon-warning","aria-label":e("form.validation.has-warning-aria-label"),"aria-hidden":!0,role:"presentation"})}function tZt(){const{t:e}=Z();return u.jsx(bd,{"data-testid":"input-validation-icon-info","aria-label":e("form.validation.has-info-aria-label"),"aria-hidden":!0,role:"presentation"})}const nZt=$(U)`
  /*
   * Prevent the block size of appended elements (such as the deprecated field badge) affecting
   * the intrinsic block size of the label.
   */
  contain: size;
`,rZt=[],E9=f.memo((function(e){const{description:t,inputId:n,title:r,deprecated:i,validation:o=rZt}=e,{t:a}=Z(),s=o.length>0,l=i||s;return u.jsxs(ne,{space:3,children:[u.jsxs(U,{align:"center",paddingY:1,children:[u.jsx(L,{as:"label",htmlFor:n,weight:"medium",size:1,children:r||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("form.field.untitled-field-label")})}),l&&u.jsxs(nZt,{align:"center",flex:1,children:[i&&u.jsx(N,{marginLeft:2,children:u.jsx(ja,{"data-testid":`deprecated-badge-${r}`,tone:"caution",children:a("form.field.deprecated-label")})}),s&&u.jsx(N,{marginLeft:2,children:u.jsx(nv,{fontSize:1,placement:"top",validation:o})})]})]}),i&&u.jsx(Nr,{"data-testid":`deprecated-message-${r}`,tone:"caution",size:1,children:i.reason}),t&&u.jsx(L,{muted:!0,size:1,id:sh(n,t),children:t})]})})),KQ=[],Im=f.memo((function(e){const{__unstable_headerActions:t=KQ,__unstable_presence:n=KQ,__internal_slot:r=null,__internal_comments:i,children:o,description:a,inputId:s,level:l,title:c,validation:d,deprecated:f,...p}=e,{focused:h,hovered:m,onMouseEnter:g,onMouseLeave:y}=x9();return u.jsxs(ne,{...p,"data-level":l,onMouseEnter:g,onMouseLeave:y,space:2,children:[c&&u.jsx(Xwe,{__internal_comments:i,__internal_slot:r,actions:t,fieldFocused:!!h,fieldHovered:m,presence:n,content:u.jsx(E9,{description:a,inputId:s,title:c,validation:d,deprecated:f})}),u.jsx("div",{children:o})]})})),ZQ=$.legend`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`,iZt=$(U).attrs({forwardedAs:"button"})((e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:i}=t.sanity.color;return de`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: ${ke(r[2])};
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: ${r9({base:i,focusRing:n})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `})),aZt=$(N)`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`,oZt=f.memo((function(e){const{collapsed:t,collapsible:n,onClick:r,title:i}=e,o=u.jsx(L,{weight:"medium",size:1,children:i});return n?u.jsx(ZQ,{children:u.jsxs(iZt,{type:"button",onClick:r,children:[u.jsx(aZt,{children:u.jsx(L,{muted:!0,size:1,children:u.jsx(Ax,{style:{transform:`rotate(${t?"0":"90deg"}) translate3d(0, 0, 0)`}})})}),o]})}):u.jsx(ZQ,{children:o})}));function sZt(e){return"function"==typeof e?e():e}const lZt=$(ne).attrs({forwardedAs:"fieldset"})`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`,uZt=$(N)((e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r}=n.sanity,{base:i}=n.sanity.color;return de`
    outline: none;
    border-left: ${t?"1px solid var(--card-border-color)":void 0};

    &:focus {
      box-shadow: ${r9({base:i,focusRing:{...r,offset:2}})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `})),L3=[],IA=f.forwardRef((function(e,t){const{__internal_comments:n,__internal_slot:r=null,__unstable_headerActions:i=L3,__unstable_presence:o=L3,children:a,collapsed:s,collapsible:l,columns:c,description:d,level:p=0,onCollapse:h,onExpand:m,onFocus:g,tabIndex:y,title:v,validation:b=L3,inputId:x,deprecated:w,...C}=e,{focused:k,hovered:j,onMouseEnter:S,onMouseLeave:E}=x9(),_=b.length>0,A=f.useRef(null),{t:T}=Z();f.useImperativeHandle(t,(()=>A.current));const D=f.useCallback((e=>{A.current===e.target&&g&&g(e)}),[g]),M=f.useCallback((()=>s?m?.():h?.()),[s,h,m]),I=f.useMemo((()=>s?null:u.jsx(kHt,{columns:c,gapX:4,gapY:5,children:sZt(a)})),[a,s,c]);return u.jsxs(lZt,{"data-level":p,...C,onMouseEnter:S,onMouseLeave:E,space:2,children:[u.jsx(Xwe,{__internal_comments:n,__internal_slot:r,actions:i,fieldFocused:!!k,fieldHovered:j,presence:o,content:u.jsxs(ne,{space:3,children:[u.jsxs(U,{align:"center",children:[v&&u.jsx(oZt,{collapsed:!!s,collapsible:l,onClick:l?M:void 0,title:v}),w&&u.jsx(N,{marginLeft:2,children:u.jsx(ja,{"data-testid":`deprecated-badge-${v}`,tone:"caution",children:T("form.field.deprecated-label")})}),_&&u.jsx(N,{marginLeft:2,children:u.jsx(nv,{fontSize:1,placement:"top",validation:b})})]}),w&&u.jsx(Nr,{"data-testid":`deprecated-message-${v}`,tone:"caution",size:1,children:w.reason}),d&&u.jsx(L,{muted:!0,size:1,id:sh(x,d),children:d})]})}),u.jsx(uZt,{$borderLeft:p>0,hidden:s,paddingLeft:0===p?0:3,onFocus:"number"==typeof y&&y>-1?D:void 0,ref:A,tabIndex:y,children:!s&&I})]})})),cZt=$.div`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`;function dZt({children:e,maxAvatars:t,position:n="bottom"}){return u.jsx(cZt,{"data-max-avatars":t,"data-position":n,children:e})}function fZt(e,t){const n=f.useRef(null);return f.useEffect((()=>{n.current=e}),[e]),n.current}function Ja(e,t,n=ed){const r=fZt(e);f.useEffect((()=>{n(r,e)||t(r,e)}),[t,e,r,n])}const Kp=Symbol.for("sanity.patch");function zo(e,t=[]){return{patchType:Kp,type:"setIfMissing",path:t,value:e}}function xf(e,t,n=[]){return{patchType:Kp,type:"insert",path:n,position:t,items:e}}function lt(e,t=[]){return{patchType:Kp,type:"set",path:t,value:e}}function ft(e=[]){return{patchType:Kp,type:"unset",path:e}}function hZt(e,t){return{...e,path:[t,...e.path]}}function eCe(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe:t=>(e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)})}}var pZt=Object.defineProperty,mZt=(e,t,n)=>t in e?pZt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gZt=(e,t,n)=>mZt(e,t+"",n);class Tt{constructor(e){gZt(this,"patches"),this.patches=e}static from(e){return e instanceof Tt?e:new Tt(Array.isArray(e)?pr(e):[e])}prepend(...e){return Tt.from([...pr(e),...this.patches])}append(...e){return Tt.from([...this.patches,...pr(e)])}prefixAll(e){return Tt.from(this.patches.map((t=>hZt(t,e))))}}const Fw=f.memo((function(e){const t=f.useRef(e);t.current=e;const n=f.useCallback((e=>{var n,r,i;return null!=(i=null==(r=null==(n=t.current)?void 0:n.transformPatches)?void 0:r.call(n,e))?i:[]}),[t]),r=f.useCallback((e=>{t.current.onChange(e)}),[]),i=f.useCallback(((e,n)=>{t.current.onPathFocus(e,n)}),[]),o=f.useCallback((e=>{t.current.onPathBlur(e)}),[]),a=f.useCallback((e=>{t.current.onPathOpen(e)}),[]),s=f.useCallback(((e,n)=>{t.current.onSetPathCollapsed(e,n)}),[]),l=f.useCallback(((e,n)=>{t.current.onSetFieldSetCollapsed(e,n)}),[]),c=f.useCallback(((e,n)=>{t.current.onFieldGroupSelect(e,n)}),[]),d=f.useMemo((()=>({transformPatches:n,onChange:r,onPathFocus:i,onPathBlur:o,onPathOpen:a,onSetPathCollapsed:s,onSetFieldSetCollapsed:l,onFieldGroupSelect:c})),[r,c,o,i,a,l,s,n]);return u.jsx(J4.Provider,{value:d,children:e.children})}));function vl(){const e=f.useContext(J4);if(!e)throw new Error("Form context not provided");return e}function _9(e){return po(e)?"object"===e.name?{}:{_type:e.name}:fo(e)?[]:"string"===e.jsonType?"":"number"===e.jsonType?0:"boolean"!==e.jsonType&&void 0}function vZt(e=16){const t=new Uint8Array(e);return qN(t),t}const yZt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function ox(e){const t=yZt();return vZt(e).reduce(((e,n)=>e+t[n]),"").slice(0,e)}function bZt(e){return void 0!==e._key}function XS(e){return bZt(e)?e:{...e,_key:ox(12)}}const xZt=(e,t)=>{const n=Bo(t);return e.of.find((e=>e.name===n))};function wZt(e,t){return Object.entries(e).map((([e,n])=>lt(n,[...t,e])))}function tCe(e,t,n){return Qn(e).pipe(kt((e=>{const r={_key:e._key};return we(xZt(t,e)).pipe(kt((e=>e?we(e):Zn)),kt((t=>y9(e)&&n?bi(we({type:"patch",patches:[lt(!0,[r,"_resolvingInitialValue"])]}),Pi((()=>n(t,e))).pipe(jt(wi),fe((e=>({type:"patch",patches:wZt(e,[r])}))),pn((n=>we({type:"error",error:n,item:e,schemaType:t})))),we({type:"patch",patches:[ft([r,"_resolvingInitialValue"])]})):Zn)))})))}function k9(e){const t=f.useRef(),{member:n,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:c}=e,{t:d}=Z(),{onPathBlur:p,onPathFocus:h,onChange:m,onPathOpen:g,onSetPathCollapsed:y,onSetFieldSetCollapsed:v,onFieldGroupSelect:b}=vl(),x=fB();Ja(n.item.focused,((e,n)=>{var r;!e&&n&&(null==(r=t.current)||r.focus())}));const w=f.useCallback((()=>{m(Tt.from([ft([{_key:n.key}])]))}),[n.key,m]),C=f.useCallback((e=>{g(e),y(e,!1)}),[g,y]),k=Ur(),j=f.useCallback((e=>{if(0===e.items.length)throw new Error("Insert event should include at least one item");const t=e.items.map((e=>XS(e)));m(Tt.from([xf(t,e.position,[{_key:n.key}])]));const r=t[0]._key,i=[...n.item.path.slice(0,-1),{_key:r}];h(i);const o=!1!==e.open;e.skipInitialValue?o&&C(i):tCe(t,n.parentSchemaType,x).pipe(qn((e=>{"patch"===e.type?m(Tt.from(e.patches)):k.push({title:d("inputs.array.error.cannot-resolve-initial-value-title"),description:d("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:e.schemaType.title,errorMessage:e.error.message}),status:"error"})}))).subscribe({complete:()=>{o&&C(i)}})}),[C,n.item.path,n.key,n.parentSchemaType,m,h,x,k,d]),S=f.useCallback((()=>{p(n.item.path)}),[n.item.path,p]),E=f.useCallback((()=>{h(n.item.path)}),[n.item.path,h]),_=f.useCallback((e=>{h(n.item.path.concat(e))}),[n.item.path,h]),A=f.useCallback((e=>{m(Tt.from(e).prepend(zo(_9(n.item.schemaType))).prefixAll({_key:n.key}))}),[m,n.item.schemaType,n.key]),T=f.useCallback((()=>{y(n.item.path,!0)}),[y,n.item.path]),D=f.useCallback((()=>{y(n.item.path,!1)}),[y,n.item.path]),M=f.useCallback((e=>{y(n.item.path.concat(e),!0)}),[y,n.item.path]),I=f.useCallback((e=>{y(n.item.path.concat(e),!1)}),[y,n.item.path]),O=f.useCallback((()=>{g(n.item.path)}),[g,n.item.path]),N=f.useCallback((e=>{g(n.item.path.concat(e))}),[g,n.item.path]),P=f.useCallback((e=>{v(n.item.path.concat(e),!1)}),[v,n.item.path]),R=f.useCallback((e=>{v(n.item.path.concat(e),!0)}),[v,n.item.path]),F=f.useCallback((()=>{g(n.item.path)}),[g,n.item.path]),L=!n.item.value||y9(n.item.value),$=f.useCallback((()=>{L&&w();const e=n.item.path.slice(0,-1);g(e),h(e)}),[L,g,n.item.path,h,w]),B=f.useCallback((e=>{b(n.item.path,e)}),[b,n.item.path]),V=f.useMemo((()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":sh(n.item.id,n.item.schemaType.description)})),[S,E,n.item.id,n.item.schemaType.description]),z=f.useMemo((()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:A,onFieldClose:O,onFieldCollapse:M,onFieldSetCollapse:R,onFieldExpand:I,onFieldSetExpand:P,onFieldGroupSelect:B,onPathFocus:_,onFieldOpen:N,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:c,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:V})),[V,A,O,M,R,I,P,_,N,B,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,o,a,s,l,c]),U=f.useMemo((()=>s(z)),[z,s]),H=f.useMemo((()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:j,onRemove:w,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:F,onClose:$,onExpand:D,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:U,changed:n.item.changed,inputProps:z})),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,j,w,F,$,D,T,E,S,U,z]);return u.jsx(Fw,{onFieldGroupSelect:b,onChange:A,onPathOpen:g,onSetFieldSetCollapsed:v,onSetPathCollapsed:y,onPathBlur:p,onPathFocus:h,children:f.useMemo((()=>l(H)),[H,l])})}const CZt=$(ae)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function nCe(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=f.useState(!1),[s,l]=f.useState(null),{t:c}=Z();Fn((()=>a(!1)),[s]);const d=f.useCallback((e=>{("Escape"===e.key||"Tab"===e.key)&&a(!1)}),[]),p=f.useCallback((()=>{a((e=>!e))}),[]),h=Bo(t);return u.jsx(An,{open:o,ref:l,onKeyDown:d,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(CZt,{margin:1,padding:3,onKeyDown:d,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(L,{weight:"medium",children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})}),u.jsx(L,{size:1,weight:"medium",children:c("inputs.array.error.type-is-incompatible-title")}),u.jsx(L,{size:1,children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(N,{children:u.jsxs(L,{size:1,children:[u.jsx(_x,{})," ",c("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,weight:"medium",children:c("inputs.array.error.json-representation-description")}),u.jsx(ae,{padding:2,overflow:"auto",border:!0,children:u.jsx(ni,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ae,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:p,onKeyDown:d,__unstable_focusRing:!0,...i,children:u.jsxs(U,{align:"center",children:[u.jsx(N,{marginRight:3,children:u.jsx(L,{children:u.jsx(Gs,{})})}),u.jsx(N,{flex:1,children:u.jsx(L,{size:1,textOverflow:"ellipsis",children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}function SZt(e){const{member:t}=e,{t:n}=Z();return"INVALID_ITEM_TYPE"===t.error.type?u.jsx(nCe,{value:t.error.value}):u.jsx("div",{children:n("inputs.array.error.unexpected-error",{error:t.error.type})})}function T9(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error(`Unable to create value from type "${e.jsonType}"`)}}function rCe(e,t,n){return yp(e)&&"string"==typeof n&&Number(n)===t?n:String(t??"")}function EZt(e){const t=f.useRef(),{member:n,renderItem:r,renderInput:i}=e,[o,a]=f.useState(),{onPathBlur:s,onPathFocus:l,onChange:c}=vl();Ja(n.item.focused,((e,n)=>{var r;!e&&n&&(null==(r=t.current)||r.focus())}));const d=f.useCallback((e=>{s(n.item.path)}),[n.item.path,s]),p=f.useCallback((e=>{l(n.item.path)}),[n.item.path,l]),h=f.useCallback((e=>{c(Tt.from(e).prefixAll(n.index))}),[c,n.index]),m=f.useCallback((e=>{let t=e.currentTarget.value;if(yp(n.item.schemaType)){if(t=e.currentTarget.valueAsNumber,t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)return}else wx(n.item.schemaType)&&(t=e.currentTarget.checked);const r=""===t||"number"==typeof t&&isNaN(t);yp(n.item.schemaType)&&a(r?void 0:e.currentTarget.value),h(lt(r?T9(n.item.schemaType):t))}),[h,n.item.schemaType]),g=f.useMemo((()=>({onBlur:d,onFocus:p,id:n.item.id,ref:t,onChange:m,value:_Zt(n.item.schemaType,n.item.value,o),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":sh(n.item.id,n.item.schemaType.description)})),[d,p,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,o]),y=f.useMemo((()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:h,validation:n.item.validation,presence:n.item.presence,elementProps:g})),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,h,g]),v=f.useMemo((()=>i(y)),[y,i]),b=f.useCallback((()=>{c(Tt.from([ft([n.index])]))}),[n.index,c]),x=f.useCallback((e=>{c(Tt.from([xf(e.items,e.position,[n.index])]))}),[n.index,c]),w=f.useMemo((()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:x,onRemove:b,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:p,onBlur:d,inputId:n.item.id,path:n.item.path,children:v})),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,x,b,p,d,v]);return u.jsx(u.Fragment,{children:f.useMemo((()=>r(w)),[w,r])})}function _Zt(e,t,n){return Object.is(t,-0)?"":rCe(e,t,n)}function rv(e){if(!po(e))throw new Error(`Invalid item type: "${e.type}". Default array input can only contain objects (for now)`);return{..._9(e),_key:lw(12)}}const XQ="before",JQ="after";function kZt(e,t,n,...r){if(t!==XQ&&t!==JQ)throw new Error(`Invalid position "${t}", must be either ${XQ} or ${JQ}`);const i=QQ(...r);if(0===e.length)return i;const o=e.length,a=Math.abs((o+n)%o)%o,s="after"===t?a+1:a,l=e.slice();return l.splice(s,0,...QQ(i)),l}function QQ(...e){return e.reduce(((e,t)=>e.concat(t)),[])}const eee=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function TZt(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function AZt(e,t){if("number"==typeof t)return t;const n=I8(e,t);return-1!==n&&n}function jZt(e,t){const n=e.slice();if(0===t.path.length){if("setIfMissing"===t.type){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return void 0===e?t.value:e}if("set"===t.type){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}if("unset"===t.type)return;if("move"===t.type){if(!t.value||!eee(t.value,"from")||!eee(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return TZt(n,t.value.from,t.value.to)}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,o=AZt(e,r);if(!1===o)return n;if(0===i.length){if("insert"===t.type){const{position:n,items:r}=t;return kZt(e,n,o,r)}if("unset"===t.type){if("number"!=typeof o)throw new Error(`Expected array index to be a number, instead got "${o}"`);return n.splice(o,1),n}}return n[o]=j9(n[o],{...t,path:i}),n}function IZt(e,t){const n=q1e(e);if(0===t.path.length){if("set"===t.type){if(!R5(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}if("unset"===t.type)return;if("setIfMissing"===t.type)return void 0===e?t.value:e;throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if("string"!=typeof r)throw new Error(`Expected field name to be a string, instad got: ${r}`);return 0===i.length&&"unset"===t.type?pa(n,r):(n[r]=j9(n[r],{...t,path:i}),n)}const iCe={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},inc:(e,t)=>e+t,dec:(e,t)=>e-t},DZt=Object.keys(iCe);function OZt(e,t){if(!DZt.includes(t.type))throw new Error(`Received patch of unsupported type "${t.type}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map((e=>JSON.stringify(e))).join(".")} that targeted the value "${JSON.stringify(e)}"`);return iCe[t.type](e,t.value)}const aCe={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},diffMatchPatch(e,t){const[n]=W8(Rve(t),e,{allowExceedingIndices:!0});return n}},RZt=Object.keys(aCe);function MZt(e,t){if(!RZt.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);return aCe[t.type](e,t.value)}function A9(e,t){return t.reduce(j9,e)}function $Zt(e,t){return Array.isArray(e)?jZt(e,t):BT(e)?MZt(e,t):R5(e)?IZt(e,t):OZt(e,t)}function j9(e,t){return $Zt(e,t)}function PZt(e){const t=f.useMemo((()=>({actions:e.actions||an})),[e.actions]);return u.jsx(aae.Provider,{value:t,children:e.children})}function DA(){const e=f.useContext(aae);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function Su(e,t){return t.name===e||!(!t.type||!Su(e,t.type))}function FP(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((e=>{const t=e.trim().toLowerCase();return"."===t.charAt(0)?!r||r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}const oCe=4;function tee(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function FZt(e,t=oCe){const n=LZt(t);return(...t)=>Qn(n(e(...t)))}function LZt(e=oCe){const t=[],n=[],r=new kr;return function i(o){return new It((a=>{if(t.length>=e)return function(e){return n.push(e),r.asObservable().pipe(Ehe((t=>t===e)))}(o).pipe(kt(i)).subscribe(a);const s=o.subscribe(a);return t.push(s),()=>{tee(t,s),tee(n,o),s.unsubscribe(),function(){for(;n.length>0&&t.length<e;)r.next(n.shift())}()}}))}}const NZt=4;function BZt(e,t,n,r={}){const i=r.metadata,o=r.storeOriginalFilename,{label:a,title:s,description:l,creditLine:u,source:c}=r;return WZt(n).pipe(pn((()=>we(null))),kt((n=>n?UZt(e,`sanity.${t}Asset`,n):we(null))),kt((r=>r?we({type:"complete",id:r._id,asset:r}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:i,preserveFilename:o,label:a,title:s,description:l,creditLine:u,source:c}).pipe(fe((e=>"response"===e.type?{type:"complete",id:e.body.document._id,asset:e.body.document}:e))))))}const sCe=FZt(BZt,4),VZt=(e,t,n)=>sCe(e,"image",t,n),zZt=(e,t,n)=>sCe(e,"file",t,n);function lCe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"]).pipe(ht((e=>{if(null===e)throw new Error(`No asset found in documentPreviewStore with id: ${t}`);return we(e)})),zJe({count:5,delay:1e3}),pn((e=>(console.error("Final error after retries, asset not found in documentPreviewStore:",e),we(null)))))}function uCe(e,t){return lCe(e,t)}function cCe(e,t){return lCe(e,t)}function UZt(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function HZt(e){return new It((t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=e=>{t.error(e)},n.readAsArrayBuffer(e),()=>{n.abort()}}))}function WZt(e){return window.crypto&&window.crypto.subtle&&window.FileReader?HZt(e).pipe(kt((e=>crypto.subtle.digest("SHA-1",e))),fe(GZt)):we(null)}function GZt(e){return Array.prototype.map.call(new Uint8Array(e),(e=>`00${e.toString(16)}`.slice(-2))).join("")}const kl="_upload",YZt=ft([kl]);function mp(e=[]){return{type:"uploadProgress",patches:e}}const dCe=mp([YZt]);function fCe(e){const t=(new Date).toISOString();return mp([lt({progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}},[kl])])}function hCe(e,t,n){const r=zZt(e,t,n).pipe(fe((e=>"complete"===e.type?mp([lt({_type:"reference",_ref:e.asset._id},["asset"]),lt(100,[kl,"progress"]),lt((new Date).toISOString(),[kl,"updated"])]):mp([lt(e.percent,[kl,"progress"]),lt((new Date).toISOString(),[kl,"updated"])]))));return bi(we(fCe(t)),r,we(dCe))}function nee(e){return[5,6,7,8].indexOf(e)>-1}function qZt(e,t){const n=t.x,r=t.y,i=(t.degrees||0)*(Math.PI/180);e?.translate(n,r),e?.rotate(i),e?.translate(-n,-r)}function ree(e,t,n){const r=e.getContext("2d");r?.translate(t?e.width:0,n?e.height:0),r?.scale(t?-1:1,n?-1:1)}const KZt=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],ZZt=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],XZt="top-left",JZt=120;function QZt(e,t){const n=KZt[t-1],r=e.height/e.width;e.width=JZt/r,e.height=e.width*r;const i=document.createElement("canvas"),o=i.getContext("2d");if(nee(t)?(i.height=e.width,i.width=e.height):(i.width=e.width,i.height=e.height),"flip-x"===n.op&&ree(i,!0,!1),"flip-y"===n.op&&ree(i,!1,!0),n.degrees&&(qZt(o,{degrees:n.degrees,x:i.width/2,y:i.height/2}),nee(t))){const e=i.width-i.height;o?.translate(e/2,-e/2)}return o?.drawImage(e,0,0,e.width,e.height),i}function eXt(e,t){return new It((n=>{const r=ZZt.indexOf(t)+1,i=QZt(e,r);n.next(i.toDataURL("image/jpeg",.1)),n.complete()}))}function tXt(e,t){return new It((n=>{const r=new window.FileReader;return r.onerror=e=>n.error(e),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(e.slice(0,t)),()=>r.abort()}))}const nXt=/(invalid image format)|(No exif data)/i,rXt=128e3;function iXt(e){return Qn(tXt(e,rXt)).pipe(fe((e=>$zt(e))),pn((e=>(nXt.test(e.message)||console.warn(`Exif read failed, continuing anyway: ${e.message}`),we({})))))}function aXt(e){return new It((t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error(`Could not load image from url "${e}". Image may be of an unsupported format`))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}}))}function oXt(e,t){return aXt(window.URL.createObjectURL(e)).pipe(kt((e=>eXt(e,t))))}function sXt(e,t,n){const r=VZt(e,t,n).pipe(jt((e=>"download"!==e.stage)),fe((e=>({...e,progress:2+e.percent/100*98}))),fe((e=>"complete"===e.type?mp([lt({_type:"reference",_ref:e.asset._id},["asset"]),lt(100,[kl,"progress"]),lt((new Date).toISOString(),[kl,"updatedAt"])]):mp([lt(e.percent,[kl,"progress"]),lt((new Date).toISOString(),[kl,"updatedAt"])])))),i=iXt(t).pipe(kt((e=>oXt(t,e.orientation||XZt))),pn((e=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,e.message),we(null)))),jt(Boolean),fe((e=>mp([lt(e,[kl,"previewImage"])]))));return bi(we(fCe(t)),kn(r,i),we(dCe))}const lXt={type:"image",accepts:"image/*",upload:(e,t,n,r)=>sXt(e,t,r)},uXt={type:"file",accepts:"",upload:(e,t,n,r)=>hCe(e,t,r)},cXt={type:"string",accepts:"text/*",upload:(e,t,n,r)=>hCe(e,t,r).pipe(fe((e=>({type:"uploadProgress",patches:[lt(e)]}))))},dXt=[lXt,cXt,uXt].map(((e,t)=>({...e,priority:t})));function I9(e,t){return dXt.find((n=>{var r;return Su(n.type,e)&&FP(t,n.accepts)&&FP(t,(null==(r=e.options)?void 0:r.accept)||"")}))||null}function fXt(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:o,onPathOpen:a,onFieldGroupSelect:s}=vl(),{member:l,renderAnnotation:c,renderBlock:d,renderField:p,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,v=DA(),b=f.useRef(),x=f.useRef({});Ja(l.field.focused,((e,t)=>{var n;!e&&t&&(null==(n=b.current)||n.focus())}));const w=f.useCallback((e=>{e.currentTarget===e.target&&e.currentTarget===b.current&&n(l.field.path)}),[l.field.path,n]),C=f.useCallback((e=>{e.currentTarget===e.target&&e.currentTarget===b.current&&t(l.field.path)}),[l.field.path,t]),k=f.useRef(l.field.value);f.useEffect((()=>{k.current=l.field.value}),[l.field.value]);const j=f.useCallback((e=>{const t=Tt.from(e).patches;t.some((e=>"unset"===e.type&&1===e.path.length))&&(k.current=A9(k.current||[],t),Array.isArray(k.current)&&!k.current.length)?r(Tt.from(ft([l.name]))):r(Tt.from(e).prepend(zo([])).prefixAll(l.name))}),[r,l.name,k]),S=fB(),E=Ur(),_=f.useCallback((()=>{i(l.field.path,!0)}),[i,l.field.path]),A=f.useCallback((()=>{i(l.field.path,!1)}),[i,l.field.path]),T=f.useCallback((e=>{i(l.field.path.concat({_key:e}),!0)}),[i,l.field.path]),D=f.useCallback((e=>{i(l.field.path.concat({_key:e}),!1)}),[i,l.field.path]),M=f.useCallback((e=>{a(e),i(e,!1)}),[a,i]),I=f.useCallback((()=>{a(l.field.path),i(l.field.path,!0)}),[a,l.field.path,i]),O=f.useCallback((e=>{if(0===e.items.length)throw new Error("Insert event should include at least one item");const t=e.items.map((e=>XS(e)));j(Tt.from([xf(t,e.position,[e.referenceItem])]));const r=t[0]._key,i=[...l.field.path,{_key:r}];n(i);const o=!1!==e.open;e.skipInitialValue?o&&M(i):tCe(t,l.field.schemaType,S).pipe(qn((e=>{"patch"===e.type?j(e.patches):E.push({title:"Could not resolve initial value",description:`Unable to resolve initial value for type: ${e.schemaType.title}: ${e.error.message}.`,status:"error"})}))).subscribe({complete:()=>{o&&M(i)}})}),[j,M,l.field.path,l.field.schemaType,n,S,E]),N=f.useCallback((e=>{const t=l.field.value,n=t?.[e.fromIndex],r=t?.[e.toIndex];if(e.fromIndex!==e.toIndex){if(null==n||!n._key||null==r||!r._key)return void console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");j([ft([{_key:n._key}]),xf([n],e.fromIndex>e.toIndex?"before":"after",[{_key:r._key}])])}}),[j,l.field.value]),P=f.useCallback((e=>{j([zo([]),xf([XS(e)],"before",[0])])}),[j]),R=f.useCallback((e=>{j([zo([]),xf([XS(e)],"after",[-1])])}),[j]),F=f.useCallback((e=>{x.current[e]&&(x.current[e].unsubscribe(),delete x.current[e]),j([ft([{_key:e}])])}),[j]),L=f.useCallback(((e,t)=>{n(l.field.path.concat(e),t)}),[l.field.path,n]),$=f.useMemo((()=>({onBlur:C,onFocus:w,id:l.field.id,ref:b,"aria-describedby":sh(l.field.id,l.field.schemaType.description)})),[C,w,l.field.id,l.field.schemaType.description]),B=Zt(zt),V=tc(),z=V.__internal.image.directUploads,U=V.__internal.file.directUploads,H=f.useCallback(((e,t)=>Su("image",e)&&!z||Su("file",e)&&!U?null:I9(e,t)),[U,z]),W=f.useCallback((({file:e,schemaType:t,uploader:n})=>{const r=rv(t),i=r._key;O({items:[r],position:"after",referenceItem:-1,open:!1});const o={metadata:Yn(t,"options.metadata"),storeOriginalFilename:Yn(t,"options.storeOriginalFilename")},a=n.upload(B,e,t,o).pipe(fe((e=>Tt.from(e.patches||[]).prefixAll({_key:i}))),qn((e=>j(e.patches))));x.current={...x.current,[i]:a.subscribe()}}),[B,j,O]),q=f.useMemo((()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:D,onItemCollapse:T,onItemClose:I,onItemOpen:M,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:j,onInsert:O,onItemMove:N,onItemRemove:F,onItemAppend:R,onItemPrepend:P,onPathFocus:L,resolveInitialValue:S,onUpload:W,resolveUploader:H,validation:l.field.validation,presence:l.field.presence,renderAnnotation:c,renderBlock:d,renderInlineBlock:h,renderInput:m,renderField:p,renderItem:g,renderPreview:y,elementProps:$})),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,D,T,I,M,j,O,N,F,R,P,L,S,W,H,c,d,h,m,p,g,y,$]),G=f.useMemo((()=>m(q)),[q,m]),Y=f.useMemo((()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:_,onExpand:A,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:G,inputProps:q})),[v,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,_,A,G,q]);return u.jsx(Fw,{onFieldGroupSelect:s,onChange:j,onSetFieldSetCollapsed:o,onSetPathCollapsed:i,onPathOpen:a,onPathBlur:t,onPathFocus:n,children:f.useMemo((()=>p(Y)),[Y,p])})}function hXt(e,t){return new It((n=>{const r=new FileReader;return r.onerror=e=>n.error(e),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}}))}function pXt(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function mXt(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function gXt(e){return/^\d+$/.test(e)}function vXt(e,t){let n=!1,r=!1,i=!1;return t.forEach((e=>{wx(e)&&(n=!0),Uie(e)&&(i=!0),yp(e)&&(r=!0)})),!n||"true"!==e&&"false"!==e?r&&gXt(e)?Number(e):i?e:void 0:"true"===e}function yXt(e){return{priority:0,accepts:"text/*",type:"string",upload:(t,n)=>hXt(n,"utf-8").pipe(fe((t=>t?.split(/[\n\r]/).map((t=>vXt(t,e))).filter((e=>void 0!==e)))),jt((e=>Array.isArray(e))),fe((e=>({type:"uploadProgress",patches:[xf(e,"after",[-1])]}))))}}function bXt(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:o,onSetFieldSetCollapsed:a,onFieldGroupSelect:s}=vl(),{member:l,renderAnnotation:c,renderBlock:d,renderField:p,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,v=DA(),b=f.useRef(),x=f.useRef(),w=Zt(zt);Ja(l.field.focused,((e,t)=>{var n;!e&&t&&(null==(n=b.current)||n.focus())}));const C=f.useCallback((e=>{e.currentTarget===e.target&&e.currentTarget===b.current&&n(l.field.path)}),[l.field.path,n]),k=f.useCallback((e=>{e.currentTarget===e.target&&e.currentTarget===b.current&&t(l.field.path)}),[l.field.path,t]),j=f.useCallback((e=>{const t=Tt.from(e).patches;if(t.some((e=>"unset"===e.type&&1===e.path.length))){const e=A9(l.field.value||[],t);if(Array.isArray(e)&&!e.length)return void r(Tt.from(ft([l.name])))}r(Tt.from(e).prepend(zo([])).prefixAll(l.name))}),[r,l.name,l.field.value]),S=f.useCallback((e=>{o(l.field.path,e)}),[o,l.field.path]),E=f.useCallback((()=>{o(l.field.path,!0)}),[o,l.field.path]),_=f.useCallback((()=>{o(l.field.path,!1)}),[o,l.field.path]),A=f.useCallback((e=>{j(0===e.length?ft():lt(e))}),[j]),T=f.useCallback((e=>{const{value:t=[]}=l.field;e.fromIndex!==e.toIndex&&A(pXt(t,e.fromIndex,e.toIndex))}),[l.field,A]),D=f.useCallback((e=>{const{value:t=[]}=l.field;A(t.concat(e))}),[l.field,A]),M=f.useCallback((e=>{const{value:t=[]}=l.field;A([e].concat(t||[]))}),[l.field,A]),I=f.useCallback((e=>{const{value:t=[]}=l.field,n=e.referenceIndex+("before"===e.position?-1:0);A(mXt(n,t,e.items))}),[l.field,A]),O=f.useCallback((e=>{j(ft([e]))}),[j]),N=f.useCallback((e=>{n(l.field.path.concat([e]))}),[l.field.path,n]),P=f.useMemo((()=>({onBlur:k,onFocus:C,id:l.field.id,ref:b,"aria-describedby":sh(l.field.id,l.field.schemaType.description)})),[k,C,l.field.id,l.field.schemaType.description]),R=f.useMemo((()=>yXt(l.field.schemaType.of)),[l.field.schemaType.of]),F=f.useCallback(((e,t)=>FP(t,"text/*")?R:null),[R]),L=f.useCallback((({file:e,schemaType:t,uploader:n})=>{const r=n.upload(w,e,t).pipe(fe((e=>Tt.from(e.patches||[]))),qn((e=>j(e.patches))));x.current&&x.current.unsubscribe(),x.current=r.subscribe()}),[w,j]),$=f.useMemo((()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:S,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:P,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:j,onInsert:I,onMoveItem:T,onItemRemove:O,onItemAppend:D,onItemPrepend:M,validation:l.field.validation,presence:l.field.presence,resolveUploader:F,onUpload:L,renderAnnotation:c,renderBlock:d,renderInlineBlock:h,renderInput:m,renderItem:g,onIndexFocus:N,renderPreview:y})),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,S,P,j,I,T,O,D,M,F,L,c,d,h,m,g,N,y]),B=f.useMemo((()=>m($)),[$,m]),V=f.useMemo((()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:_,changed:l.field.changed,onCollapse:E,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:B,inputProps:$})),[v,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,_,E,B,$]);return u.jsx(Fw,{onFieldGroupSelect:s,onChange:j,onPathOpen:i,onSetFieldSetCollapsed:a,onSetPathCollapsed:o,onPathBlur:t,onPathFocus:n,children:f.useMemo((()=>p(V)),[V,p])})}function pCe(e){return po(e.field.schemaType)}function xXt(e){return fo(e.field.schemaType)&&e.field.schemaType.of.every((e=>lE(e)))}function D9(e){return fo(e.field.schemaType)&&e.field.schemaType.of.every((e=>po(e)))}const wXt=function(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:o,onSetFieldSetCollapsed:a,onFieldGroupSelect:s}=vl(),{member:l,renderAnnotation:c,renderBlock:d,renderField:p,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,v=DA(),b=f.useRef(),x=f.useRef(l.field.value);f.useEffect((()=>{x.current=l.field.value}),[l.field.value]),Ja(l.field.focused,((e,t)=>{var n;!e&&t&&(null==(n=b.current)||n.focus())}));const w=f.useCallback((()=>{t(l.field.path)}),[l.field.path,t]),C=f.useCallback((()=>{n(l.field.path)}),[l.field.path,n]),k=f.useCallback((e=>{n(l.field.path.concat(e))}),[l.field.path,n]),j=f.useCallback((e=>{if(0!==l.field.path.length){const t=Tt.from(e).patches;if(x.current=A9(x.current||{},t),x.current&&S0t(x.current))return void r(Tt.from(ft([l.name])))}r(Tt.from(e).prepend(zo(_9(l.field.schemaType))).prefixAll(l.name))}),[r,l,x]),S=f.useCallback((()=>{o(l.field.path,!0)}),[o,l.field.path]),E=f.useCallback((()=>{o(l.field.path,!1)}),[o,l.field.path]),_=f.useCallback((e=>{o(l.field.path.concat(e),!0)}),[o,l.field.path]),A=f.useCallback((e=>{o(l.field.path.concat(e),!1)}),[o,l.field.path]),T=f.useCallback((e=>{i(l.field.path.concat(e))}),[i,l.field.path]),D=f.useCallback((()=>{i(l.field.path)}),[i,l.field.path]),M=f.useCallback((e=>{a(l.field.path.concat(e),!1)}),[a,l.field.path]),I=f.useCallback((e=>{a(l.field.path.concat(e),!0)}),[a,l.field.path]),O=f.useCallback((()=>{i(l.field.path)}),[i,l.field.path]),N=f.useCallback((()=>{i(l.field.path.slice(0,-1))}),[i,l.field.path]),P=f.useCallback((e=>{s(l.field.path,e)}),[s,l.field.path]),R=f.useMemo((()=>({onBlur:w,onFocus:C,id:l.field.id,ref:b,"aria-describedby":sh(l.field.id,l.field.schemaType.description)})),[w,C,l.field.id,l.field.schemaType.description]),F=f.useMemo((()=>({elementProps:R,level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,validation:l.field.validation,presence:l.field.presence,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onFieldGroupSelect:P,onFieldOpen:T,onFieldClose:D,onFieldCollapse:_,onFieldExpand:A,onFieldSetExpand:M,onFieldSetCollapse:I,onPathFocus:k,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,groups:l.field.groups,onChange:j,renderAnnotation:c,renderBlock:d,renderField:p,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y})),[R,l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.groups,P,T,D,_,A,M,I,k,j,c,d,p,h,m,g,y]),L=f.useMemo((()=>m(F)),[F,m]),$=f.useMemo((()=>({actions:v,name:l.name,index:l.index,level:l.field.level,value:l.field.value,validation:l.field.validation,presence:l.field.presence,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onCollapse:S,onExpand:E,open:l.open,changed:l.field.changed,onOpen:O,onClose:N,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,children:L,inputProps:F})),[v,l.name,l.index,l.field.level,l.field.value,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.collapsible,l.collapsed,l.open,S,E,O,N,L,F]);return u.jsx(Fw,{onFieldGroupSelect:s,onChange:j,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:o,onPathBlur:t,onPathFocus:n,children:f.useMemo((()=>p($)),[$,p])})};function CXt(e){const{member:t,renderInput:n,renderField:r}=e,i=DA(),o=f.useRef(),[a,s]=f.useState(),{onPathBlur:l,onPathFocus:c,onChange:d}=vl();f.useEffect((()=>{var e;t.field.focused&&(null==(e=o.current)||e.focus())}),[t.field.focused]);const p=f.useCallback((()=>{l(t.field.path)}),[t.field.path,l]),h=f.useCallback((()=>{c(t.field.path)}),[t.field.path,c]),m=f.useCallback((e=>{d(Tt.from(e).prefixAll(t.name))}),[d,t.name]),g=f.useCallback((e=>{let n=e.currentTarget.value;if(yp(t.field.schemaType)){if(n=e.currentTarget.valueAsNumber,n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)return}else wx(t.field.schemaType)&&(n=e.currentTarget.checked);const r=""===n||"number"==typeof n&&isNaN(n);yp(t.field.schemaType)&&s(r?void 0:e.currentTarget.value),d(Tt.from(r?ft():lt(n)).prefixAll(t.name))}),[t.name,t.field.schemaType,d]),y=f.useMemo((()=>t.field.validation.filter((e=>"error"===e.level)).map((e=>e.message)).join("\n")),[t.field.validation])||void 0,v=f.useMemo((()=>({onBlur:p,onFocus:h,id:t.field.id,ref:o,onChange:g,value:rCe(t.field.schemaType,t.field.value,a),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":sh(t.field.id,t.field.schemaType.description)})),[p,h,g,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,a]),b=f.useMemo((()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:y,elementProps:v})),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,y,v]),x=f.useMemo((()=>n(b)),[b,n]),w=f.useMemo((()=>({actions:i,changed:t.field.changed,children:x,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:b,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value})),[i,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,x,b]);return u.jsx(u.Fragment,{children:r(w)})}const Lw=f.memo((function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}=e;return pCe(t)?u.jsx(wXt,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}):xXt(t)?u.jsx(bXt,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInput:a,renderInlineBlock:o,renderItem:s,renderPreview:l}):D9(t)?u.jsx(fXt,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}):u.jsx(CXt,{member:t,renderField:i,renderInput:a})})),SXt={warning:"caution",error:"critical"},EXt=$(N)`
  border-top: 1px solid var(--card-border-color);
`;function Xl(e){const{children:t,status:n="warning",suffix:r,title:i,...o}=e;return u.jsxs(ae,{radius:2,tone:SXt[n],...o,"data-ui":"Alert",children:[u.jsxs(U,{padding:4,children:[u.jsx(N,{children:u.jsxs(L,{size:1,children:["warning"===n&&u.jsx(or,{}),"error"===n&&u.jsx(ra,{})]})}),u.jsxs(N,{flex:1,marginLeft:3,children:[u.jsx(L,{size:1,weight:"medium",children:i}),t&&u.jsx(N,{marginTop:3,children:t})]})]}),r&&u.jsx(EXt,{children:r})]})}const _Xt=$.button`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`,kXt=$(Ax)`
  transform: ${e=>e.open?"rotate(90deg)":""};
`,TXt=$(U)`
  cursor: default;
`,AXt=$(N)`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`;function Dm(e){const{children:t,open:n,icon:r,title:i="Details",...o}=e,[a,s]=f.useState(n||!1),l=f.useCallback((()=>s((e=>!e))),[]);return f.useEffect((()=>s(n||!1)),[n]),u.jsxs(N,{...o,children:[u.jsx(_Xt,{type:"button",onClick:l,children:u.jsx(TXt,{align:"center",children:u.jsxs(xn,{children:[u.jsx(AXt,{"data-open":a?"":void 0,children:u.jsx(L,{size:1,children:u.jsx(kXt,{open:a})})}),r&&u.jsx(N,{marginLeft:1,children:r}),u.jsx(N,{flex:1,marginLeft:1,children:u.jsx(L,{size:1,weight:"medium",children:i})})]})})}),u.jsx(N,{hidden:!a,marginTop:3,children:t})]})}const mCe=["yes","true","1"],gCe=["false","no","false","0","null"],jXt=mCe.concat(gCe),$2=()=>!0,IXt=e=>t=>t&&t[e],DXt=e=>t=>(t&&t._type)===e;function OXt(e){const t=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function RXt(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const N3={string:{number:{test:Number,convert:Number},boolean:{test:e=>jXt.includes(e.toLowerCase()),convert:e=>mCe.includes(e.toLowerCase())||!gCe.includes(e.toLowerCase())},richDate:{test:e=>nd(e),convert:e=>({_type:"richDate",local:OXt(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:RXt(),offset:(new Date).getTimezoneOffset()})}},date:{richDate:{test:DXt("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:IXt("utc"),convert:e=>e.utc}},number:{string:{test:$2,convert:String},boolean:{test:$2,convert:Number}},boolean:{string:{test:$2,convert:e=>e?"Yes":"No"},number:{test:$2,convert:Number}}};function MXt({value:e,targetType:t,onChange:n}){const r=f.useMemo((()=>({...e,_type:t})),[t,e]),i=f.useCallback((()=>n(Tt.from(zo(t,["_type"])),r)),[r,n,t]),{t:o}=Z();return u.jsx(me,{onClick:i,text:o("inputs.untyped-value.convert-button.text",{targetType:t})})}function $Xt({value:e,onChange:t,validTypes:n}){const r=f.useMemo((()=>({...e,_type:n[0]})),[n,e]),i=f.useCallback((()=>t(Tt.from(ft()),r)),[r,t]),{t:o}=Z();return u.jsx(me,{onClick:i,tone:"critical",text:o("inputs.untyped-value.unset-item-button.text")})}function PXt({validTypes:e,value:t,onChange:n}){const r=Jt(),i=1===e.length,o=r.has(e[0]),{t:a}=Z();return u.jsx(Xl,{status:"warning",title:u.jsx(u.Fragment,{children:u.jsx(dt,{t:a,i18nKey:"inputs.untyped-value.title"})}),children:u.jsx(Dm,{open:Es,title:a("inputs.untyped-value.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:a,i18nKey:"inputs.untyped-value.description"})}),i&&!o&&u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:a,i18nKey:"inputs.untyped-value.details.description"})}),!i&&u.jsx(L,{as:"p",muted:!0,size:1,children:a("inputs.untyped-value.details.multi-type-description")}),!i&&u.jsx(ne,{as:"ul",space:2,children:e.map((e=>u.jsx(L,{as:"li",muted:!0,size:1,children:u.jsx("code",{children:e})},e)))}),u.jsxs(ne,{space:2,children:[u.jsx(L,{as:"h4",weight:"medium",size:1,children:a("inputs.untyped-value.details.json-dump-prefix")}),u.jsx(ae,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:u.jsx(ni,{language:"json",children:JSON.stringify(t,null,2)})})]}),u.jsxs(Rn,{columns:[1,2,2],gap:1,children:[i&&u.jsx(MXt,{onChange:n,targetType:e[0],value:t}),u.jsx($Xt,{onChange:n,validTypes:e,value:t})]})]})})})}function FXt(e,t,n){return t in N3?Object.keys(N3[t]).filter((e=>n.includes(e))).map((e=>({from:t,to:e,...N3[t][e]}))).filter((t=>t.test(e))):[]}const vCe=f.forwardRef(((e,t)=>{const{value:n,actualType:r,validTypes:i,onChange:o}=e;f.useImperativeHandle(t,(()=>({focus:()=>{}})));const a=f.useCallback((()=>{o(Tt.from(ft()))}),[o]),s=f.useCallback((e=>{o(Tt.from(lt(e)))}),[o]),l=f.useMemo((()=>FXt(n,r,i)),[n,r,i]),{t:c}=Z();if(ar(n)&&!("_type"in n))return u.jsx(PXt,{value:n,validTypes:i,onChange:o});const d=u.jsx(ne,{padding:2,children:u.jsx(me,{onClick:a,tone:"critical",text:c("inputs.invalid-value.reset-button.text")})});return u.jsxs(Xl,{status:"error",suffix:d,title:c("inputs.invalid-value.title"),children:[u.jsx(L,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.description")}),u.jsx(Dm,{marginTop:4,open:Es,title:c("inputs.invalid-value.details.title"),children:u.jsxs(ne,{space:3,children:[1===i.length&&u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:c,i18nKey:"inputs.invalid-value.details.description",values:{validType:i[0]}})}),1===i.length&&u.jsx(L,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.possible-reason")}),1!==i.length&&u.jsx(L,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.multi-type-description")}),1!==i.length&&u.jsx(ne,{as:"ul",space:2,children:i.map((e=>u.jsx(L,{as:"li",children:u.jsx("code",{children:e})},e)))}),u.jsxs(ne,{marginTop:2,space:2,children:[u.jsx(L,{size:1,weight:"medium",children:u.jsx(dt,{t:c,i18nKey:"inputs.invalid-value.current-type",values:{actualType:r}})}),u.jsx(ae,{border:!0,padding:2,radius:2,tone:"inherit",children:u.jsx(ni,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&u.jsx(ne,{space:1,children:l.map((e=>u.jsx(LXt,{converter:e,onConvert:s,value:n},`${e.from}-${e.to}`)))})]})})]})}));function LXt({converter:e,onConvert:t,value:n}){const r=f.useCallback((()=>t(e.convert(n))),[e,t,n]),{t:i}=Z();return u.jsx(me,{onClick:r,text:i("inputs.invalid-value.convert-button.text",{targetType:e.to})})}function NXt(e){const{error:t,onChange:n}=e,r=f.useCallback((()=>{n(Tt.from((t.duplicates||[]).map((([e,t])=>lt(`${t}_deduped_${e}`,[e,"_key"])))))}),[t.duplicates,n]),{t:i}=Z();return u.jsx(Im,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Xl,{status:"warning",suffix:u.jsx(ne,{padding:2,children:u.jsx(me,{onClick:r,text:i("form.error.duplicate-keys-alert.generate-button.text"),tone:"caution"})}),title:i("form.error.duplicate-keys-alert.title"),children:[u.jsx(L,{as:"p",muted:!0,size:1,children:i("form.error.duplicate-keys-alert.summary")}),u.jsx(Dm,{marginTop:4,open:Es,title:i("form.error.duplicate-keys-alert.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})})]})})]})})}function BXt(e){const{error:t,onChange:n}=e,r=f.useCallback((()=>{n(Tt.from((t.value||[]).map(((e,t)=>zo(lw(),[t,"_key"])))))}),[t.value,n]),{t:i}=Z();return u.jsx(Im,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Xl,{status:"warning",suffix:u.jsx(ne,{padding:2,children:u.jsx(me,{onClick:r,text:i("form.error.missing-keys-alert.add-button.text"),tone:"caution"})}),title:i("form.error.missing-keys-alert.title"),children:[u.jsx(L,{as:"p",muted:!0,size:1,children:i("form.error.missing-keys-alert.summary")}),u.jsx(Dm,{marginTop:4,open:Es,title:i("form.error.missing-keys-alert.details.title"),children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:i,i18nKey:"form.error.missing-keys-alert.details.description"})}),u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:i,i18nKey:"form.error.missing-keys-alert.details.additional-description"})})]})})]})})}function VXt(e){const{error:t,onChange:n}=e,{t:r}=Z();return u.jsx(Im,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(Xl,{status:"error",suffix:u.jsx(ne,{padding:2,children:u.jsx(me,{onClick:()=>{const e=(t.value||[]).flatMap(((e,t)=>ar(e)?[]:[t])).reverse().map((e=>ft([e])));n(Tt.from(e))},text:r("form.error.mixed-array-alert.remove-button.text"),tone:"critical"})}),title:r("form.error.mixed-array-alert.title"),children:[u.jsx(L,{as:"p",muted:!0,size:1,children:r("form.error.mixed-array-alert.summary")}),u.jsx(Dm,{marginTop:4,open:Es,title:r("form.error.mixed-array-alert.details.title"),children:u.jsx(ne,{space:3,children:u.jsx(L,{as:"p",muted:!0,size:1,children:r("form.error.mixed-array-alert.details.description")})})})]})})}function OA(e){const{member:t}=e,{onChange:n}=vl(),r=f.useCallback((e=>{n(Tt.from(e).prefixAll(t.fieldName))}),[n,t.fieldName]),{t:i}=Z();return"INCOMPATIBLE_TYPE"===t.error.type?u.jsx(vCe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):"MISSING_KEYS"===t.error.type?u.jsx(BXt,{error:t.error,onChange:r}):"DUPLICATE_KEYS"===t.error.type?u.jsx(NXt,{error:t.error,onChange:r}):"MIXED_ARRAY"===t.error.type?u.jsx(VXt,{onChange:r,error:t.error}):u.jsx(N,{children:i("member-field-error.unexpected-error",{error:e.member.error.type})})}vCe.displayName="InvalidValueInput";const O9=f.memo((function(e){var t;const{member:n,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:c}=e,{onSetFieldSetCollapsed:d}=vl(),p=f.useCallback((()=>{d(n.fieldSet.path,!0)}),[n.fieldSet.path,d]),h=f.useCallback((()=>{d(n.fieldSet.path,!1)}),[n.fieldSet.path,d]);return u.jsx(IA,{title:n.fieldSet.title||ym(n.fieldSet.name),description:n.fieldSet.description,level:n.fieldSet.level,collapsible:n.fieldSet.collapsible,collapsed:n.fieldSet.collapsed,onCollapse:p,onExpand:h,columns:null==(t=n?.fieldSet)?void 0:t.columns,"data-testid":`fieldset-${n.fieldSet.name}`,inputId:n.fieldSet.name,children:n.fieldSet.members.map((e=>"error"===e.kind?u.jsx(OA,{member:e},n.key):u.jsx(Lw,{member:e,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:c},e.key)))})})),zXt=f.memo((function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:o,renderField:a,renderItem:s,renderPreview:l}=e;return"field"===t.kind?u.jsx(Lw,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderInput:i,renderField:a,renderItem:s,renderPreview:l},t.key):"error"===t.kind?u.jsx(OA,{member:t},t.key):"fieldSet"===t.kind?u.jsx(O9,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderInput:i,renderField:a,renderItem:s,renderPreview:l},t.key):(console.warn(new Error(`Unhandled member kind ${t.kind}`)),null)}));function UXt(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:o,renderField:a,renderItem:s,renderPreview:l}=e,c=f.useMemo((()=>t.map((e=>u.jsx(zXt,{member:e,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:i,renderItem:s,renderPreview:l},e.key)))),[t,n,r,a,o,i,s,l]);return u.jsx(u.Fragment,{children:c})}function iee(e){return po(e.schemaType)}function aee(e){return fo(e.schemaType)}const Xv=({children:e})=>e;function HXt(e){return"absolutePath"in e}const R9=f.memo((function(e){const t=f.useMemo((()=>HXt(e)?e.absolutePath:e.path.concat(e.relativePath)),[e]),n=f.useCallback((()=>u.jsx(u.Fragment,{children:"Missing destination render function"})),[]);return u.jsx(WXt,{...e,absolutePath:t,destinationRenderAnnotation:e.renderAnnotation||n,destinationRenderBlock:e.renderBlock||n,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||n,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})})),WXt=f.memo((function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:o,destinationRenderInlineBlock:a,destinationRenderInput:s,destinationRenderItem:l,destinationRenderPreview:c}=t,{t:d}=Z(),p=f.useCallback((t=>{if(fr(t.path,n)||ya(n,t.path))return s(t);if(!iee(t)&&!aee(t))throw new Error(`Expected either object input props or array input props for: ${JSON.stringify(t.path)}`);return u.jsx(e,{...t,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:s,destinationRenderItem:l,destinationRenderField:o,destinationRenderInlineBlock:a,destinationRenderPreview:c})}),[n,r,i,o,a,s,l,c]),h=f.useCallback((e=>!ya(n,e.path)||!t.includeField&&fr(n,e.path)?Xv(e):o(e)),[n,o,t.includeField]),m=f.useCallback((e=>!ya(n,e.path)||!t.includeItem&&fr(n,e.path)?Xv(e):l(e)),[n,l,t.includeItem]),g=f.useCallback((e=>!ya(n,e.path)||!t.includeItem&&fr(n,e.path)?Xv(e):i(e)),[n,i,t.includeItem]),y=f.useCallback((e=>!ya(n,e.path)||!t.includeItem&&fr(n,e.path)?Xv(e):a(e)),[n,a,t.includeItem]),v=f.useCallback((e=>!ya(n,e.path)||!t.includeItem&&fr(n,e.path)?Xv(e):r(e)),[n,r,t.includeItem]);if(aee(t)){const e=Ly(t.path,n),r=t.members.find((t=>"item"==t.kind&&Vn(e[0])&&t.key===e[0]._key));if(!r){const e=Bn(t.path),r=Ly(t.path,n);if(Vn(r[0])){const t=r[0]._key;return u.jsx("div",{children:u.jsx(dt,{t:d,i18nKey:"form.error.no-array-item-at-key",values:{key:t,path:e}})})}const i=ss(r[0])?r[0]:r[0][0];return u.jsx("div",{children:u.jsx(dt,{t:d,i18nKey:"form.error.no-array-item-at-index",values:{index:i,path:e}})})}return"error"===r.kind?u.jsx(SZt,{member:r}):u.jsx(k9,{member:r,renderAnnotation:v,renderBlock:g,renderInput:p,renderField:h,renderInlineBlock:y,renderItem:m,renderPreview:c})}if(iee(t)){const e=Ly(t.path,n),r=t.members.find((t=>"field"==t.kind&&e[0]===t.name));if(!r){const t="string"==typeof e[0]?e[0]:JSON.stringify(e[0]);return u.jsx("div",{children:d("form.error.field-not-found",{fieldName:t})})}return u.jsx(Lw,{member:r,renderAnnotation:v,renderBlock:g,renderInput:p,renderInlineBlock:y,renderField:h,renderItem:m,renderPreview:c})}throw new Error("FormInput can only be used with arrays or objects")}));function RA(e){const t=f.useContext(X4);if(!t)throw new Error("Form context not provided");return t.find((t=>t.key===e))}function GXt(){const e=f.useContext(X4);if(!e)throw new Error("Form context not provided");return e}function YXt(e){const{members:t,path:n,schemaType:r,renderAnnotation:i,renderField:o,renderBlock:a,renderInput:s,renderItem:l,renderInlineBlock:c,renderPreview:d,onPathFocus:p}=e,h=f.useRef([]);return f.useMemo((()=>{var e;const m=[];for(const n of t)if("item"===n.kind)if(CA(n.item.schemaType)){(n.item.validation.length>0||n.item.changed||null!=(e=n.item.presence)&&e.length||n.open||n.item.focusPath.length||n.item.focused)&&m.push({kind:"textBlock",member:n,node:n.item});const t=n.item.members.find((e=>"field"===e.kind&&"children"===e.name));if(t&&"field"===t.kind&&D9(t))for(const e of t.field.members)"item"===e.kind&&"span"!==e.item.schemaType.name&&m.push({kind:"inlineObject",member:e,node:e.item});const r=n.item.members.filter(rGt).find((e=>"markDefs"===e.name));if(r)for(const e of r.field.members)"item"===e.kind&&"object"===e.item.schemaType.jsonType&&m.push({kind:"annotation",member:e,node:e.item})}else m.push({kind:"objectBlock",member:n,node:n.item});const g=m.map((e=>{const m=Bn(e.node.path),g=h.current.find((e=>e.key===m));let y=null;if("textBlock"!==e.kind&&e.member!==g?.member||e.node!==g?.node){const f=e=>({...e.elementProps,onFocus:()=>{}}),h=t=>{const r=e.member.item.path.concat(t);0!==t.length&&p(r.slice(n.length,r.length))},m=t=>n=>{"unset"!==n.type||0!==n.path.length?t.onChange(n):t.onChange(lt({_type:e.member.item.schemaType.name,_key:e.member.key},n.path))},g=t=>fr(t.path,e.member.item.path)?s({...t,onChange:m(t),onPathFocus:h,elementProps:f(t)}):s(t),v={absolutePath:Du(e.node.path),includeField:!1,members:t,path:Du(n),renderAnnotation:i,renderBlock:a,renderField:o,renderInlineBlock:c,renderInput:g,renderItem:l,renderPreview:d,schemaType:r};y=u.jsx(R9,{...v})}return g?(g.member=e.member,g.node=e.node,g.input=y||g.input,g):{kind:e.kind,key:m,member:e.member,node:e.node,elementRef:f.createRef(),input:y}}));return h.current=g,g}),[t,p,n,i,a,o,c,s,l,d,r])}const qXt=$.span((e=>{var t,n,r,i;const{$toneKey:o="default",theme:a}=e;return de`
      text-decoration: none;
      display: inline;
      background-color: ${null==(t=a.sanity.color.selectable)?void 0:t[o].enabled.bg};
      border-bottom: 1px dashed ${null==(n=a.sanity.color.selectable)?void 0:n[o].enabled.fg};
      color: ${null==(r=a.sanity.color.selectable)?void 0:r[o].enabled.fg};

      &[data-link] {
        border-bottom: 1px solid ${null==(i=a.sanity.color.selectable)?void 0:i[o].enabled.fg};
      }

      &[data-custom-markers] {
        background-color: ${a.sanity.color.dark?et.purple[950].hex:et.purple[50].hex};
      }

      &[data-warning] {
        background-color: ${a.sanity.color.muted.caution.hovered.bg};
      }

      &[data-error] {
        background-color: ${a.sanity.color.muted.critical.hovered.bg};
      }
    `})),KXt=$(N).attrs({forwardedAs:"span"})`
  max-width: 250px;
`,ZXt=["top","bottom"];function XXt(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:i,referenceBoundary:o,referenceElement:a,selected:s,title:l}=e,[c,d]=f.useState(!1),[p,h]=f.useState(!1),[m,g]=f.useState(null),y=f.useRef(null),{sanity:v}=p1(),{t:b}=Z(),x=f.useRef(null),w=v.color.dark?"light":"dark",C=f.useCallback((e=>{d(e),e?f.startTransition((()=>{h(e)})):h(e)}),[]),k=f.useMemo((()=>m?{getBoundingClientRect:()=>m}:null),[m]);mo(f.useCallback((e=>{p&&"Escape"===e.key&&C(!1)}),[C,p]));const j=f.useCallback((()=>{if(t)return C(!1),void g(null);const e=window.getSelection();if(!e||0===e.rangeCount)return;const n=e.getRangeAt(0);if(null==a||!a.contains(n.commonAncestorContainer))return C(!1),void g(null);const r=n?.getBoundingClientRect();r&&(g(r),C(!0))}),[t,a,C]);f.useEffect((()=>(document.addEventListener("selectionchange",j,{passive:!0}),()=>{document.removeEventListener("selectionchange",j)})),[j]);const S=f.useCallback((()=>{C(!1),r()}),[r,C]);f.useEffect((()=>{!t&&s&&m&&C(!0),t&&C(!1)}),[t,s,m,C]);const E=f.useCallback((()=>{C(!1),i()}),[i,C]),_=f.useCallback((()=>{y.current&&g(y.current.getBoundingClientRect())}),[]);return f.useEffect((()=>{const e=window.getSelection();e&&e.rangeCount>0&&(y.current=e.getRangeAt(0))}),[p]),f.useEffect((()=>p&&o?(o.addEventListener("scroll",_),()=>o.removeEventListener("scroll",_)):p?(o?.addEventListener("scroll",_),()=>{o?.removeEventListener("scroll",_)}):void 0),[p,o,_]),c?u.jsx(An,{open:p,floatingBoundary:n,constrainSize:!0,content:u.jsx(N,{padding:1,"data-testid":"annotation-toolbar-popover",children:u.jsxs(U,{gap:1,children:[u.jsx(N,{padding:2,children:u.jsx(L,{weight:"medium",size:1,children:l})}),u.jsx(me,{"aria-label":b("inputs.portable-text.action.edit-annotation-aria-label"),"data-testid":"edit-annotation-button",icon:Ou,mode:"bleed",onClick:S,tabIndex:0,tooltipProps:null}),u.jsx(me,{"aria-label":b("inputs.portable-text.action.remove-annotation-aria-label"),"data-testid":"remove-annotation-button",icon:Br,mode:"bleed",onClick:E,tabIndex:0,tone:"critical",tooltipProps:null})]})}),fallbackPlacements:ZXt,placement:"top",portal:!0,preventOverflow:!0,ref:x,referenceBoundary:o,referenceElement:k,scheme:w}):null}const yCe=e=>Array.isArray(e)?e.flatMap(yCe):"number"==typeof e?[e]:"auto"===e?["auto"]:[],JXt=e=>"dialog"===e||"popover"===e?e:void 0;function QXt(e){var t;const n=null==(t=e.options)?void 0:t.modal;return"object"==typeof n&&null!==n?{type:JXt(n.type),width:yCe(n.width)}:void 0}function W0(e){const{scrollElement:t,containerElement:n}=e;return u.jsx(tae.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}function eJt(e){const{onClose:t,children:n,title:r,width:i=1,autoFocus:o}=e,a=f.useId(),[s,l]=f.useState(null),c=f.useRef(null);return u.jsx(Si,{header:r,id:a,onClickOutside:t,onClose:t,portal:"default",width:i,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:o,children:u.jsx(tv,{margins:[0,0,1,0],children:u.jsx(W0,{scrollElement:s,containerElement:c,children:u.jsx(N,{ref:c,children:n})})})})}const tJt=$(An)`
  & > div {
    overflow: hidden;
    overflow: clip;
  }
`,nJt=$(N)`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`,rJt=$(N)`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`,iJt=["top","bottom"];function aJt(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:i=1}=e,[o,a]=f.useState(!1);return f.useEffect((()=>{a(!0)}),[]),u.jsx(tJt,{content:u.jsx(oJt,{...e}),constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:iJt,floatingBoundary:t,open:o,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:i})}function oJt(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:i,autoFocus:o}=e;mo(f.useCallback((e=>{"Escape"===e.key&&t()}),[t])),Fn(t,r?[r]:[],n);const[a,s]=f.useState(null),l=f.useRef(null);return u.jsx(W0,{scrollElement:a,containerElement:l,children:u.jsxs(U,{ref:l,direction:"column",height:"fill",children:[u.jsx(rJt,{flex:"none",padding:1,children:u.jsxs(U,{align:"center",children:[u.jsx(N,{flex:1,padding:2,children:u.jsx(L,{weight:"medium",children:i})}),u.jsx(me,{autoFocus:!!o,icon:Ar,mode:"bleed",onClick:t,tooltipProps:{content:"Close"}})]})}),u.jsx(nJt,{flex:1,children:u.jsx(tv,{margins:[0,0,1,0],children:u.jsx(N,{padding:3,ref:s,children:e.children})})})]})})}function M9(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:i,referenceBoundary:o,referenceElement:a,schemaType:s}=e,{t:l}=Z(),c=f.useMemo((()=>QXt(s)),[s]),d=c?.type||n,p=s.i18nTitleKey?l(s.i18nTitleKey):s.title||s.name,h=l("inputs.portable-text.annotation-editor.title",{schemaType:p}),m=f.useCallback((()=>{i()}),[i]),g=c?.width;return"popover"===d?u.jsx(aJt,{autoFocus:t,floatingBoundary:r,onClose:m,referenceBoundary:o,referenceElement:a,title:u.jsx(u.Fragment,{children:h}),width:g,children:e.children}):u.jsx(eJt,{onClose:m,title:h,width:g,autoFocus:t,children:e.children})}function sJt(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:i,focused:o,onItemClose:a,onItemOpen:s,onPathFocus:l,path:c,readOnly:d,referenceBoundary:p,renderAnnotation:h,renderBlock:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:v,renderInput:b,renderItem:x,renderPreview:w,schemaType:C,selected:k,value:j}=e,{Markers:S=Vwe}=tc().__internal.components,E=zi(),_=f.useMemo((()=>c.slice(0,c.length-2).concat(["markDefs",{_key:j._key}])),[c,j._key]),[A,T]=f.useState(null),D=RA(Bn(_)),{validation:M}=AA(D?.node),I=jA(c),O=f.useMemo((()=>u.jsx("span",{"data-annotation":"",children:n})),[n]),N=f.useCallback((()=>{D&&(Ie.blur(E),s(D.node.path))}),[E,D,s]),P=f.useCallback((()=>{a(),y9(j)&&Ie.removeAnnotation(E,C),Ie.focus(E)}),[E,a,C,j]),R=f.useCallback((()=>{Ie.removeAnnotation(E,C),Ie.focus(E)}),[E,C]),F=f.useMemo((()=>M.length>0||I.length>0?u.jsx(pt,{placement:"bottom",portal:"default",content:u.jsx(KXt,{children:u.jsx(S,{markers:I,renderCustomMarkers:g,validation:M})}),children:O}):void 0),[S,I,g,O,M]),L=ev(c,!0),$=f.useMemo((()=>L.filter((e=>fr(e.path,c)))),[c,L]),B=!(null==D||!D.member.open),V=D?.input,z=D?.node.path||an,U=A,H=f.useMemo((()=>({__unstable_floatingBoundary:i,__unstable_referenceBoundary:p,__unstable_referenceElement:U,__unstable_textElementFocus:r,children:V,focused:o,markers:I,onClose:P,onOpen:N,onPathFocus:l,onRemove:R,open:B,parentSchemaType:E.schemaTypes.block,path:z,presence:$,readOnly:!!d,renderAnnotation:h,renderBlock:m,renderField:y,renderInlineBlock:v,renderInput:b,renderPreview:w,renderItem:x,renderDefault:LP,schemaType:C,selected:k,textElement:F||O,validation:M,value:j})),[E.schemaTypes.block,r,i,o,V,B,I,F,z,P,N,l,R,d,p,U,h,m,y,v,b,x,w,$,C,k,O,M,j]),W=null==(t=C.components)?void 0:t.annotation,q=f.useCallback((e=>{null!=D&&D.elementRef&&(D.elementRef.current=e),T(e)}),[D]);return f.useMemo((()=>u.jsx("span",{ref:q,style:void 0,children:W?u.jsx(W,{...H}):u.jsx(LP,{...H})})),[W,H,q])}const LP=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:p,selected:h,schemaType:m,textElement:g,validation:y}=e,v="link"===m.name,b=y.some((e=>"error"===e.level)),x=y.some((e=>"warning"===e.level)),w=a.length>0,{t:C}=Z(),k=f.useMemo((()=>b?"critical":x?"caution":v?"primary":"default"),[v,b,x]);return u.jsxs(qXt,{$toneKey:k,"aria-label":C("inputs.portable-text.annotation-aria-label"),"data-link":v?"":void 0,"data-error":b?"":void 0,"data-warning":x?"":void 0,"data-markers":w||void 0,onClick:p?l:void 0,children:[g,u.jsx(XXt,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:c,referenceBoundary:n,referenceElement:r,selected:h,title:m.i18nTitleKey?C(m.i18nTitleKey):m.title||m.name}),d&&u.jsx(M9,{defaultType:"popover",floatingBoundary:t,onClose:s,autoFocus:o,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function bCe(){return f.useContext(sae)}function lJt(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:o}=e,a=f.useMemo((()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:o})),[n,r,i,o]);return u.jsx(sae.Provider,{value:a,children:t})}function uJt(e){const t=f.useMemo((()=>({id:e.id})),[e.id]);return u.jsx(Kie.Provider,{value:t,children:e.children})}function cJt(){const e=f.useContext(Kie);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function MA(){return sn(cJt())}function $A(e,t){return Ja(t,f.useCallback(((t,n)=>{e.current&&!t&&n&&$p(e.current,{scrollMode:"always"})}),[e]))}const dJt=$(L)`
  &[data-status='edited'] {
    --card-icon-color: var(--card-badge-caution-dot-color);
  }
  &[data-status='unpublished'] {
    --card-icon-color: var(--card-badge-default-dot-color);
    opacity: 0.5 !important;
  }
`;function iv({draft:e,published:t}){const n=!!e,r=!!t,i=f.useMemo((()=>n&&!r?"unpublished":"edited"),[n,r]);return!n&&!r||!n&&r?null:u.jsx(dJt,{"data-status":i,size:1,children:u.jsx(SF,{})})}function xCe(e){var t,n;const{id:r,layout:i,preview:o,refType:a,renderPreview:s,showTypeLabel:l}=e,c=sv(r),d=(null==(t=o.draft)?void 0:t._id)||(null==(n=o.published)?void 0:n._id)||r,p=f.useMemo((()=>({_id:d,_type:a.name})),[d,a.name]),{draft:h,published:m}=o;return s(f.useMemo((()=>({children:u.jsx(N,{paddingLeft:3,children:u.jsxs(xn,{space:3,children:[l&&u.jsx(ja,{mode:"outline",children:a.title}),c&&c.length>0&&u.jsx(w9,{presence:c}),u.jsx(iv,{draft:o.draft,published:o.published})]})}),layout:i,schemaType:a,tooltip:u.jsx(J0,{draft:h,published:m}),value:p})),[c,h,i,o.draft,o.published,p,m,a,l]))}function wCe(e){var t,n,r,i,o,a;const{layout:s="default",referenceInfo:l,renderPreview:c,type:d,value:f,showTypeLabel:p}=e,{t:h}=Z();if(l.isLoading||l.error)return u.jsx(Ta,{isPlaceholder:!0,layout:s});if("NOT_FOUND"===(null==(t=l.result)?void 0:t.availability.reason)&&f._strengthenOnPublish){const e=d.to.find((e=>{var t;return e.name===(null==(t=f?._strengthenOnPublish)?void 0:t.type)}));if(!e)return u.jsx(see,{documentId:f._ref,actualType:null==(n=f._strengthenOnPublish)?void 0:n.type,declaredTypes:d.to.map((e=>e.name))});const t=null!=(r=f._strengthenOnPublish)&&r.type?{_id:f._ref,_type:null==(i=f._strengthenOnPublish)?void 0:i.type}:f;return u.jsxs(U,{align:"center",children:[u.jsx(N,{flex:1,children:c({layout:s,schemaType:e,value:t,skipVisibilityCheck:!0})}),u.jsx(N,{children:u.jsx(xn,{space:4,children:p&&u.jsx(ja,{mode:"outline",children:e.title})})})]})}const m=l.result.availability,g="NOT_FOUND"===m.reason,y="PERMISSION_DENIED"===m.reason;if(y||g)return u.jsxs(xn,{space:2,children:[u.jsx(N,{padding:1,children:u.jsx(U,{align:"center",children:u.jsx(N,{flex:1,paddingY:2,children:u.jsx(L,{muted:!0,children:h("inputs.reference.error.document-unavailable-title")})})})}),y||g?u.jsx(N,{children:u.jsx(pt,{portal:!0,content:g?u.jsx(oee,{title:h("inputs.reference.error.nonexistent-document-title"),icon:Cp,children:u.jsx(dt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:h,values:{documentId:f._ref}})}):u.jsx(oee,{title:h("inputs.reference.error.missing-read-permissions-title"),icon:Zc,children:h("inputs.reference.error.missing-read-permissions-description")}),children:u.jsx(Nr,{tone:"default",children:u.jsx(Cp,{})})})}):null]});const v=null==(o=l.result)?void 0:o.type,b=d.to.find((e=>e.name===v));return b?u.jsx(xCe,{id:f._ref,layout:s,preview:null==(a=l.result)?void 0:a.preview,refType:b,renderPreview:c,showTypeLabel:p}):u.jsx(see,{documentId:f._ref,actualType:v||"<unknown>",declaredTypes:d.to.map((e=>e.name))})}function oee(e){const t=e.icon;return u.jsxs(U,{children:[u.jsx(L,{size:1,children:u.jsx(t,{})}),u.jsxs(N,{flex:1,marginLeft:3,children:[u.jsx(L,{size:1,weight:"medium",children:e.title}),u.jsx(N,{marginTop:3,children:u.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function see({declaredTypes:e,documentId:t,actualType:n}){const{t:r}=Z();return u.jsxs(U,{align:"center",justify:"flex-start",children:[u.jsx(N,{padding:1,children:u.jsx(U,{align:"center",children:u.jsx(N,{flex:1,paddingY:2,children:u.jsx(L,{muted:!0,children:r("inputs.reference.error.invalid-type-title")})})})}),u.jsx(N,{children:u.jsx(pt,{portal:!0,content:u.jsx(ne,{space:3,children:u.jsx(L,{size:1,children:u.jsx(dt,{t:r,i18nKey:"inputs.reference.error.invalid-type-description",values:{documentId:t,actualType:n},components:{AllowedTypes:()=>u.jsx(fJt,{values:e})}})})}),children:u.jsx(N,{padding:2,children:u.jsx(Nr,{tone:"default",children:u.jsx(Cp,{})})})})})]})}function fJt(e){const t=jm({type:"disjunction"}).formatToParts(e.values);return u.jsx(f.Fragment,{children:t.map((e=>"element"===e.type?u.jsx("code",{children:e.value},e.value):e.value))})}const hJt={warning:"caution",error:"critical",info:"positive"},pJt={warning:u.jsx(or,{}),error:u.jsx(ra,{}),info:u.jsx(bd,{})};function $9(e){const{children:t,status:n="warning",title:r,...i}=e;return u.jsx(ae,{radius:2,tone:hJt[n],...i,"data-ui":"Alert",children:u.jsx(U,{padding:1,children:t&&u.jsx(N,{flex:1,children:u.jsx(Dm,{icon:pJt[n],title:r,children:u.jsx(N,{marginLeft:3,marginTop:3,children:t})})})})})}function CCe({schemaType:e,handleRemoveStrengthenOnPublish:t}){const{t:n}=Z();return u.jsx($9,{padding:1,title:n(e.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title"),status:"info","data-testid":"alert-reference-published",children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:n,i18nKey:e.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description"})}),u.jsx(me,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.incomplete-reference.strengthen-button-label"),tone:"positive"})]})})}const mJt=$(ae)`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 33px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`,SCe=f.forwardRef((function(e,t){const{as:n,documentId:r,documentType:i,...o}=e;return u.jsx(mJt,{...o,...r&&i&&{"data-as":"a",forwardedAs:n,documentId:r,documentType:i},"data-ui":"ReferenceLinkCard",ref:t})}));function P9({errorMessage:e,onHandleRetry:t}){const{t:n}=Z();return u.jsx($9,{padding:1,title:n("inputs.reference.metadata-error.title"),status:"warning","data-testid":"alert-reference-info-failed",children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:e}),u.jsx(me,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.metadata-error.retry-button-label"),tone:"primary"})]})})}function F9({actualStrength:e,handleFixStrengthMismatch:t}){const n="weak"===e?"strong":"weak",{t:r}=Z();return u.jsx($9,{padding:1,title:r("inputs.reference.strength-mismatch.title"),status:"warning","data-testid":"alert-reference-strength-mismatch",children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:r,i18nKey:"weak"===e?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description"})}),u.jsx(L,{as:"p",muted:!0,size:1,children:r("weak"===n?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences")}),u.jsx(me,{mode:"ghost",onClick:t,size:"large",text:r("weak"===n?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label"),tone:"caution"})]})})}const ECe=()=>{},lee={isLoading:!0,result:void 0,error:void 0,retry:ECe},gJt={isLoading:!1,result:void 0,error:void 0,retry:ECe};function PA(e,t){const n=f.useMemo((()=>new kr),[]),r=f.useMemo((()=>n.asObservable()),[n]),i=f.useCallback((()=>{n.next({type:"retry"})}),[n]);return Wr(f.useMemo((()=>bi(we(null),r).pipe(fe((()=>e)),sp((e=>e?t(e).pipe(fe((e=>({isLoading:!1,result:e,error:void 0,retry:i}))),xi(lee),pn((e=>(console.error(e),we({isLoading:!1,result:void 0,error:e,retry:i}))))):we(gJt))))),[t,e,r,i]),lee)}function vJt(e){const t=f.useMemo((()=>({value:e.value})),[e.value]);return u.jsx(Qie.Provider,{value:t,children:e.children})}function Nw(e){const t=Du(e),n=f.useContext(Qie);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return Vo(n?.value,t)}const uee=new WeakMap,cee={title:10,subtitle:5,description:1.5},yJt={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},bJt=["reference","crossDatasetReference"],Bw=e=>e?[e,...Bw(e.type)]:[],dee=e=>"array"===e?.jsonType&&e.of.some((e=>Bw(e).some((({name:e})=>"block"===e)))),xJt=e=>!!e&&"string"===e?.jsonType,wJt=e=>xt(e)&&"search"in e&&xt(e.search);function _Ce(e){return typeof e<"u"&&"name"in e}function cb(e,t,n){return _Ce(e)?function e(r,i,o){if(!r)return[];if(o>t)return[];const a=Bw(r);if(xJt(r)||dee(r)){const e=n(r,i);return"number"!=typeof e?[]:[{path:i,weight:e,type:dee(r)?"pt":"string"}]}const s=[],l=a.filter((e=>{var t;return"object"===e.jsonType&&!(null==(t=e.fields)||!t.length)&&!bJt.includes(e.name)}));for(const t of l)for(const n of t.fields){const t=_n([i,n.name].filter(Boolean));s.push(...e(n.type,t,o+1))}const u=a.filter((e=>{var t;return"array"===e.jsonType&&!(null==(t=e.of)||!t.length)}));for(const t of u)for(const n of t.of){const t=`${i}[]`;s.push(...e(n,t,o+1))}return s}(e,"",0).reduce(((e,{path:t,weight:n,type:r})=>(e[t]={weight:n,type:r,path:t},e)),{}):{}}const kCe=e=>{var t;const n=Bw(e).map((e=>e.options)).find(wJt);return"number"==typeof(null==(t=n?.search)?void 0:t.weight)?n.search.weight:null},TCe=e=>Bw(e).some((e=>e.hidden))?0:null,ACe=e=>{var t;return"number"==typeof(null!=(t=kCe(e))?t:TCe(e))?null:1},CJt=(e,t,n)=>{var r;const i=null==(r=e?.preview)?void 0:r.select;if(!i)return null;const o=Object.fromEntries(Object.entries(i).map((([e,t])=>[t.replace(/\.\d+/g,"[]"),e]))),a=cb(e,t,ACe),s=Object.fromEntries(Object.entries(a).map((([e,{type:t}])=>({path:e,type:t}))).filter((({path:e})=>o[e])).map((({path:e,type:t})=>[e,{type:t,weight:cee[o[e]]}])));return n?Object.fromEntries(Object.entries(o).map((([e,t])=>[e,{path:e,type:"string",weight:cee[t]}]))):cb(e,t,((e,t)=>{const n=s[t];return n?n.weight:null}))};function jCe({schemaType:e,maxDepth:t,isCrossDataset:n,processPaths:r=e=>e}){const i=uee.get(e);if(i)return i;const o=cb(e,t,kCe),a=cb(e,t,TCe),s=cb(e,t,ACe),l=CJt(e,t,n),u={...yJt,...s,...a,...l,...o},c={typeName:_Ce(e)?e.name:e.type,paths:r(Object.entries(u).map((([e,{type:t,weight:n}])=>({path:e,weight:n,..."pt"===t&&{mapWith:"pt::text"}}))))};return uee.set(e,c),c}const SJt=e=>!(!e.type||"document"!==e.type.name),EJt=e=>"object"===e.jsonType,_Jt=e=>e.name.startsWith("sanity.")&&"sanity.previewUrlSecret"!==e.name,ICe=(e,t=[])=>e.getTypeNames().map((t=>e.get(t))).filter(wi).filter((e=>SJt(e)&&!_Jt(e)||t.includes(e.name))).filter(EJt),kJt=1e3,NP="*",TJt="-",AJt=/(?:[^\s"]+|"[^"]*")+/g;function jJt(e,t){return"string"==typeof e?{query:e,types:t}:{...e,types:e.types.length?e.types:t}}function IJt(e){return e.filter((e=>1!==e.weight))}function DJt(e,t){return t.types.map((t=>jCe({schemaType:t,maxDepth:e.maxDepth||Mp,processPaths:IJt}))).filter((({paths:e})=>e.length)).reduce(((e,t)=>({...e,[t.typeName]:t.paths.reduce(((e,{path:t,weight:n})=>({...e,weights:{...e.weights,[t]:n}})),{})})),{})}function OJt(e=[]){return e.map((({field:e,direction:t})=>({attribute:e,direction:t})),{})}function RJt(e){return typeof e<"u"&&e.trim().at(0)===TJt}function MJt(e){return typeof e<"u"&&e.trim().at(-1)===NP}function $Jt(e){var t;const n=(null!=(t=e.match(AJt))?t:[]).map((e=>e.trim())),r=n.findLastIndex((e=>!RJt(e))),i=n[r];if(0===n.length)return NP;if(MJt(i)||typeof i>"u")return n.join(" ");const o=[...n];return o.splice(r,1,`${i}${NP}`),o.join(" ")}function PJt(e,{queryType:t="prefixLast"}){return"prefixLast"===t?$Jt(e):e}const FJt=(e,t,n)=>function(r,i={}){var o;const a=jJt(r,e),s=["_type in $__types",!1===i.includeDrafts&&"!(_id in path('drafts.**'))",!!n.filter&&`(${n.filter})`,!!a.filter&&`(${a.filter})`].filter((e=>!!e)),l={query:{string:PJt(a.query,i)},filter:s.join(" && "),params:{__types:a.types.map((e=>"name"in e?e.name:e.type)),...n.params,...a.params},types:DJt(i,a),...i.sort?{order:OJt(i.sort)}:{},includeAttributes:["_id","_type"],fromCursor:i.cursor,limit:null!=(o=i.limit)?o:kJt};return t.observable.request({uri:`/data/textsearch/${t.config().dataset}`,method:"POST",json:!0,body:l,tag:n.tag}).pipe(fe((e=>{let t=e.hits.map((e=>e.attributes));return n.unique&&(t=Zxe(t)),{type:"text",hits:t.map((e=>({hit:e}))),nextCursor:e.nextCursor}})))},LJt=(e,t)=>{const{phrases:n,words:r}=UJt(e),[i,o]=VJt(n,t),[a,s]=zJt(r,t);return[i+a,[s,o].join(", ")]},NJt=e=>"string"==typeof e?e:JSON.stringify(e);function BJt(e,t,n=[]){const r=p7(e,(e=>e.typeName));return t.map(((e,i)=>{var o;const a=null==(o=r[e._type].paths||[])?void 0:o.map(((t,r)=>{const i=NJt(e[`w${r}`]);if(!i)return{path:t.path,score:0,why:"No match"};const[o,a]=LJt(n,i);return{path:t.path,score:o*t.weight,why:`${a} (*${t.weight})`}})),s=a.reduce(((e,t)=>e+t.score),0);return{hit:e,resultIndex:t.length-i,score:s,stories:a}}))}function VJt(e,t){const n=t.toLowerCase().trim();let r=0,i=0;return e.forEach((e=>{n.includes(e)&&(r+=e.length/n.length,i+=e.length)})),1===r?[1,"[Phrase] Exact match"]:[r/2,`[Phrase] Matched ${i} of ${n.length} characters`]}function zJt(e,t){const n=Fi(bT(Kge(Xg(t)))),r=R_(e,n),i=Mge(n,e),o=r.length/i.length;return 1===o?[1,"[Word] Exact match"]:[o/2,`[Word] Matched ${r.length} of ${i.length} terms: [${r.join(", ")}]`]}function UJt(e){const t=Fi(e.map(Xg)),[n,r]=FN(t,(e=>/^".*"$/.test(e)));return{phrases:Fi(n).map(Xg).map(HJt),words:Fi(r.map(Xg))}}function HJt(e){return e.replace(/^"(.*)"$/,"$1")}const WJt=4,GJt=1e3,YJt=Lmt([pr,Mge,bT]),DCe=({mapWith:e,path:t})=>e?`${e}(${t})`:t;function qJt(e,t){const n=YJt(t.map((e=>(e.paths||[]).map((e=>DCe(e))))));return e.map(((e,t)=>n.map((e=>`${e} match $t${t}`)))).filter((e=>e.length>0)).map((e=>`(${e.join(" || ")})`))}const KJt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,ZJt=/(^[.]+)|([.]+$)/;function XJt(e){return(e.match(KJt)||[]).map((e=>e.replace(ZJt,"")))}function JJt(e){const t=[],n=e.replace(/("[^"]*")/g,(e=>Kge(e).length>1?(t.push(e),""):e));return[...t.map((e=>Rgt(Xg(e)))),...Fi(bT(XJt(Xg(n))))]}function QJt(e){function t(e){return e.mapWith?`${e.mapWith}(${e.field})`:e.field}return(e||[]).map((e=>[t(e),(e.direction||"").toLowerCase()].map((e=>e.trim())).filter(Boolean).join(" "))).join(",")}function eQt(e,t={}){var n;const{filter:r,params:i,tag:o}=t,a=e.types.map((e=>jCe({schemaType:e,maxDepth:t.maxDepth||Mp,isCrossDataset:t.isCrossDataset}))).filter((({paths:e})=>e.length)),s=JJt(e.query),l=["_type in $__types",!1===t.includeDrafts&&"!(_id in path('drafts.**'))",...qJt(s,a),r?`(${r})`:"",e.filter?`(${e.filter})`:""].filter(Boolean),u=a.map((e=>`${`_type == "${e.typeName}" => `}${`{ ${e.paths.map(((e,t)=>`"w${t}": ${DCe(e)}`))} }`}`)),c=QJt(t?.sort||[{field:"_id",direction:"asc"}]),d=["_type","_id"],f=u.length>0?`...select(${u.join(",\n")})`:"",p=d.join(", ")+(f?`, ${f}`:"");let h=`*[${l.join(" && ")}]| order(${c})[0...$__limit]{${p}}`;if(null!=t&&t.__unstable_extendedProjection){const e=t?.__unstable_extendedProjection,n=d.concat(e).join(", ");h=[`*[${l.join(" && ")}]{${n}}`,`order(${c})[0...$__limit]{${p}}`].join("|")}const m=["findability-mvi:4"].concat(t?.comments||[]).map((e=>`// ${e}`)).join("\n"),g=m?`${m}\n${h}`:h,y=null!=(n=t?.limit)?n:GJt;return{query:g,params:{...tQt(s),__types:a.map((e=>e.typeName)),__limit:y,...i||{}},options:{tag:o},searchSpec:a,terms:s}}const tQt=e=>e.reduce(((e,t,n)=>(e[`t${n}`]=`${t}*`,e)),{});function nQt(e,t){return"string"==typeof e?{query:e,types:t}:e.types.length?e:{...e,types:t}}const rQt=(e,t,n)=>function(r,i={}){const o=nQt(r,e),{query:a,params:s,options:l,searchSpec:u,terms:c}=eQt(o,{...n,...i});return t.observable.fetch(a,s,l).pipe(n.unique?fe(Zxe):qn(),fe((e=>BJt(u,e,c))),null!=i&&i.skipSortByScore?qn():fe((e=>Qf(e,(e=>-e.score)))),fe((e=>({type:"weighted",hits:e}))))},FA=(e,t,n)=>(n.enableLegacySearch?rQt:FJt)(e,t,n),iQt={available:!0,reason:"READABLE"},fee={available:!1,reason:"PERMISSION_DENIED"},hee={available:!1,reason:"NOT_FOUND"};function OCe(e,t,n){const{publishedId:r,draftId:i}=Kxe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(ht((o=>{if(!o.draft.available&&!o.published.available){const e="PERMISSION_DENIED"===o.draft.reason||"PERMISSION_DENIED"===o.published.reason?fee:hee;return we({id:t,type:void 0,availability:e,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:i},s={_type:"reference",_ref:r};return Ni([e.observeDocumentTypeFromId(i),e.observeDocumentTypeFromId(r)]).pipe(fe((([e,t])=>e||t))).pipe(ht((l=>{if(!l)return we({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const u=n.to.find((e=>e.name===l));if(!u)return we({id:t,type:l,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const c=rB(u?.preview)||[];return Ni([e.observePaths(a,c).pipe(fe((e=>e?{_id:i,...l5(e,u)}:void 0)),xi(void 0)),e.observePaths(s,c).pipe(fe((e=>e?{_id:r,...l5(e,u)}:void 0)),xi(void 0))]).pipe(fe((([e,t])=>({draft:e,published:t})))).pipe(fe((e=>{const t=o.draft.available||o.published.available?iQt:"PERMISSION_DENIED"===o.draft.reason||"PERMISSION_DENIED"===o.published.reason?fee:hee;return{type:l,id:r,availability:t,preview:{draft:xt(e.draft)?e.draft:void 0,published:xt(e.published)?e.published:void 0}}})))})))})))}function aQt(e){return e.filter((e=>!e.draft||!e.published)).map((e=>e.draft?e.id:Vi(e.id)))}function oQt(e,t){return 0===t.length?we([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function sQt(e,t,n,r,i){return FA(n.to,e,{...r,enableLegacySearch:i,maxDepth:r.maxFieldDepth||Mp})(t,{includeDrafts:!0}).pipe(fe((({hits:e})=>e.map((({hit:e})=>e)))),fe(yA),fe((e=>e.slice(0,100))),kt((t=>oQt(e,aQt(t)).pipe(fe((e=>t.map((t=>{const n=Vi(t.id);return{id:t.id,type:t.type,draft:t.draft||e.includes(n)?{_id:n,_type:t.type}:void 0,published:t.published||e.includes(t.id)?{_id:t.id,_type:t.type}:void 0}}))))))))}function lQt(e){const t=f.useRef(e);return t.current=e,t}function L9(e){var t,n,r,i;const{path:o,schemaType:a}=e,s=Jt(),l=Ui(),{EditReferenceLinkComponent:c,onEditReference:d,activePath:p,initialValueTemplateItems:h}=bCe(),m=null==(t=lQt(Nw([])).current)?void 0:t._type,g=f.useMemo((()=>{var e;return null==(e=s.get(m))?void 0:e.liveEdit}),[m,s]),y=!0===(null==(n=a.options)?void 0:n.disableNew),v=null==(i=null==(r=e.value)?void 0:r._strengthenOnPublish)?void 0:i.template,b=f.useMemo((()=>f.forwardRef((function(e,t){return c?u.jsx(c,{...e,ref:t,parentRefPath:o,template:v}):null}))),[c,o,v]),x=f.useCallback((e=>{d?.({parentRefPath:o,id:e.id,type:e.type,template:e.template})}),[d,o]);return{selectedState:ya(o,p?.path||[])?p?.state:"none",isCurrentDocumentLiveEdit:g,handleEditReference:x,EditReferenceLink:b,createOptions:f.useMemo((()=>y?[]:(h||[]).filter((e=>a.to.some((t=>{var n;return t.name===(null==(n=e.template)?void 0:n.schemaType)})))).map((e=>{var t;return null!=(t=e.template)&&t.schemaType?{id:e.id,title:e.title||`${e.template.schemaType} from template ${e.template.id}`,type:e.template.schemaType,icon:e.icon,template:{id:e.template.id,params:e.parameters},permission:{granted:e.granted,reason:e.reason}}:void 0})).filter(wi)),[y,h,a.to]),getReferenceInfo:f.useCallback((e=>OCe(l,e,a)),[l,a])}}function uQt({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const cQt={portal:!0,tone:"default"};function dQt(e){var t,n,r,i,o,a;const s=f.useRef(null),{schemaType:l,path:c,open:d,inputId:p,children:h,inputProps:m}=e,{readOnly:g,focused:y,renderPreview:v,onChange:b}=e.inputProps,[x,w]=f.useState([]),C=MA(),k=f.useCallback((()=>m.onChange(ft())),[m]),j=e.value,{EditReferenceLink:S,getReferenceInfo:E,selectedState:_,isCurrentDocumentLiveEdit:A}=L9({path:c,schemaType:l,value:j});$A(s,d),Ja(y,((e,t)=>{!e&&t&&s.current&&s.current.focus()}));const T=e.validation.some((e=>"error"===e.level)),D=e.validation.some((e=>"warning"===e.level)),M=PA(j?._ref,E),I=(null==(t=M.result)?void 0:t.type)||(null==(n=j?._strengthenOnPublish)?void 0:n.type),O=I?l.to.find((e=>e.name===I)):void 0,P="pressed"===_,R="selected"===_,F=j?._ref,L=F&&(null==(o=null==(i=null==(r=M.result)?void 0:r.preview)?void 0:i.published)?void 0:o._id),$=f.useCallback((()=>{b([!0===l.weak?lt(!0,["_weak"]):ft(["_weak"]),ft(["_strengthenOnPublish"])])}),[b,l.weak]),B=f.useCallback((()=>{b(!0===l.weak?lt(!0,["_weak"]):ft(["_weak"]))}),[b,l]),V=f.useCallback((()=>{m.onPathFocus(["_ref"])}),[m]),z=null!=j&&j._weak?"weak":"strong",H=!0===l.weak?"weak":"strong",W=F&&!M.isLoading&&j?._strengthenOnPublish,q=!M.isLoading&&(null==(a=M.result)?void 0:a.availability.available)&&F&&z!==H&&!W,G=uQt({readOnly:g,hasErrors:T,hasWarnings:D}),Y=!(null!=j&&j._ref)||"_ref"===m.focusPath[0],{t:K}=Z(),X=u.jsxs(u.Fragment,{children:[A&&L&&j._strengthenOnPublish&&u.jsx(CCe,{schemaType:l,handleRemoveStrengthenOnPublish:$}),q&&u.jsx(F9,{actualStrength:z,handleFixStrengthMismatch:B}),M.error&&u.jsx(P9,{errorMessage:M.error.message,onHandleRetry:M.retry})]}),J=f.useMemo((()=>f.forwardRef((function(e,t){return u.jsx(ml,{...e,intent:"edit",params:{id:j?._ref,type:O?.name},target:"_blank",rel:"noopener noreferrer",ref:t})}))),[O?.name,j?._ref]),Q=f.useMemo((()=>g?null:u.jsx(N,{flex:"none",children:u.jsx(Gt,{button:u.jsx(ai,{}),id:`${p}-menuButton`,menu:u.jsxs(At,{children:[!g&&u.jsxs(u.Fragment,{children:[u.jsx(qe,{text:K("inputs.reference.action.clear"),tone:"critical",icon:Br,onClick:k}),u.jsx(qe,{text:K("inputs.reference.action.replace"),icon:rm,onClick:V})]}),!g&&j?._ref&&u.jsx(rr,{}),j?._ref&&u.jsx(qe,{as:J,"data-as":"a",text:K("inputs.reference.action.open-in-new-tab"),icon:Nu})]}),popover:cQt})})),[k,V,p,J,g,K,j?._ref]);return u.jsxs(u.Fragment,{children:[C&&e.actions&&e.actions.length>0&&u.jsx($w,{actions:e.actions,documentId:C,documentType:l.name,onActions:w,path:c,schemaType:l}),u.jsx(Mw,{actions:x,focused:!!e.inputProps.focused,path:c,children:u.jsx(Im,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:x,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:Y?u.jsx(N,{children:h}):u.jsx(ae,{border:!0,radius:2,padding:1,tone:G,children:u.jsxs(ne,{space:1,children:[u.jsx(U,{gap:1,align:"center",style:{lineHeight:0},children:u.jsxs(Sa,{children:[u.jsx(SCe,{__unstable_focusRing:!0,as:S,"data-pressed":!!P||void 0,"data-selected":!!R||void 0,documentId:j?._ref,documentType:O?.name,flex:1,pressed:P,radius:2,ref:s,selected:R,tone:"inherit",children:u.jsx(wCe,{value:j,referenceInfo:M,renderPreview:v,type:l})}),u.jsx(N,{children:Q})]})}),X]})})})})]})}function RCe(e,t){return Yn(e.options,t)}const pee=["array","file","image","reference","slug"],fQt=["asset","crop","hotspot","_ref","_weak"],hQt=["tags"],pQt=["slug"];function N9(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);return[e,...e.type?N9(e.type,t):[]]}function mQt(e,t){return fo(e)?vQt(e,t):gQt(e,t)}function gQt(e,t){var n,r,i;const{type:o,options:a}=e,s=MCe(o,pee),l="object"===e?.jsonType?e.fields:void 0,u=s?.name||"";if(pQt.includes(u))return 0;const c=pee.includes(u),d=(null!=(n=l?.filter((e=>!fQt.includes(e.name))).length)?n:0)>0,f=(null!=(i=null==(r=a?.list)?void 0:r.length)?i:0)>0;return d||f||!c?t:0}function vQt(e,t){var n;const{options:r}=e,i=(null==(n=r?.list||[])?void 0:n.length)>0,o=hQt.includes(r?.layout||"");return i&&!o?t:0}function MCe(e,t){return null!=e&&e.name&&t.includes(e?.name)?e:e?MCe(e.type,t):void 0}const i5=[];function yQt(e){return u.jsx(ka,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function mee(e){const[t,n]=f.useState(i5),r=MA(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx($w,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(Mw,{actions:t,focused:i,path:e.path,children:u.jsx(Im,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":`field-${e.inputId}`,description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:u.jsx(ka,{hasFocus:i,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function bQt(e){const[t,n]=f.useState(i5),r=MA(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx($w,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(Mw,{actions:t,focused:i,path:e.path,children:u.jsx(IA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":`field-${e.inputId}`,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function xQt(e){const[t,n]=f.useState(i5),r=MA(),i=!!e.inputProps.focused,o=e.inputProps.members.find((e=>"field"===e.kind&&"hotspot"===e.name)),a=null!=o&&o.open?e.presence:e.presence.concat(o?.field.presence||i5);return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx($w,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(Mw,{actions:t,focused:i,path:e.path,children:u.jsx(IA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:a,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function wQt(e){var t;if(null!=(t=e.components)&&t.field)return e.components.field;if(wx(e))return yQt;const n=N9(e,new Set);return n.some((e=>"image"===e.name||"file"===e.name))?xQt:n.some((e=>q4(e)))||n.some((e=>"slug"===e.name))?mee:n.some((e=>Iu(e)))?dQt:"object"!==e.jsonType&&"array"!==e.jsonType?mee:bQt}function $Ce({children:e,workspace:t}){return u.jsx(Cae.Provider,{value:t,children:e})}function jr(){const e=f.useContext(Cae);if(!e)throw new Error("Workspace: missing context value");return e}const PCe=0,B3={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:PCe}}};function CQt({client:e}){const{projectId:t,dataset:n}=e.config();return e.observable.request({uri:`/projects/${t}/datasets/${n}/settings/indexing`,tag:"search.getPartialIndexSettings"})}const P2=new Map;function LA(e){var t,n,r,i;const o=null==(n=null==(t=jr().search)?void 0:t.unstable_partialIndexing)?void 0:n.enabled,a=Zt(zt),s=f.useMemo((()=>e||a),[e,a]),l=f.useMemo((()=>s.config().dataset),[s]);o||P2.set(l,we(B3.settings)),P2.has(l)||P2.set(l,CQt({client:s}).pipe(Bi()));const u=Wr(f.useMemo((()=>P2.get(l).pipe(fe((e=>({isLoading:!1,settings:e}))),xi(B3),pn((e=>(console.error(e),we({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:PCe}}})))))),[l]),B3),c=null==(i=null==(r=u?.settings)?void 0:r.partialIndexSettings)?void 0:i.maxFieldDepth;return Hme(c)?Math.min(c,Mp):Mp}function FCe(e,t){f.useEffect((()=>{const n=n=>{const r=n.target;if(r instanceof HTMLElement){if(e.some((e=>{var t;return null==(t=e.current)?void 0:t.contains(r)})))return;t(n)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}const SQt=de`
  grid-template-columns: minmax(0px, 1fr);
`,EQt=de`
  grid-template-columns: 1fr min-content;
`,_Qt=$(Rn)((e=>e.$narrow?SQt:EQt)),kQt=f.forwardRef((function(e,t){const[n,r]=f.useState(null),i=f.useCallback((e=>{TQt(t,e),r(e)}),[t]),o=Tp(n);return u.jsx(_Qt,{ref:i,gap:1,$narrow:(o?.width||0)<480,children:e.children})}));function TQt(e,t){"function"==typeof e?e(t):e&&(e.current=t)}const AQt={display:"inline-flex"},jQt={width:"100%"},IQt={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function DQt(e){const{createOptions:t,onCreate:n,id:r,menuRef:i,...o}=e,a=Un(),{t:s}=Z(),l=xA(t);return t.some((e=>e.permission.granted))?t.length>1?u.jsx(Gt,{button:u.jsx(me,{...o,disabled:e.readOnly,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:Qi,size:"large"}),id:r,menu:u.jsx(At,{ref:i,children:t.map((e=>u.jsx(pt,{disabled:e.permission.granted,content:u.jsx(ol,{currentUser:a,context:"create-document-type"}),portal:!0,children:u.jsx("div",{children:u.jsx(qe,{disabled:!e.permission.granted,icon:e.icon,text:l(e).title,onClick:()=>n(e)})})},e.id)))}),popover:IQt}):u.jsx(me,{...o,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Qi,size:"large"}):u.jsx(pt,{content:u.jsx(ol,{currentUser:a,context:"create-new-reference"}),children:u.jsx("div",{style:AQt,children:u.jsx(me,{text:s("inputs.reference.action.create-new-document"),mode:"ghost",disabled:!0,icon:Qi,style:jQt})})})}function OQt(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:i,result:o,error:a}=PA(n,t),{t:s}=Z();if(i)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(Jn,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(Jn,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(a)return u.jsx(ne,{space:2,padding:1,children:u.jsx(Xl,{title:s("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(L,{muted:!0,size:1,children:a.message})})});if(!o)return null;if("PERMISSION_DENIED"===o.availability.reason)return u.jsx(ne,{space:2,padding:1,children:s("inputs.reference.error.missing-read-permissions-description")});const l=e.type.to.find((e=>e.name===o.type));return l?o&&l&&u.jsx(xCe,{id:o.id,layout:"default",preview:o.preview,refType:l,renderPreview:r,showTypeLabel:e.type.to.length>1}):u.jsx(ne,{space:2,padding:1,children:s("inputs.reference.error.invalid-search-result-type-title",{returnedType:o.type})})}const RQt=$(An)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,MQt=$(L)`
  word-break: break-word;
`,$Qt=["top-start","bottom-start"],PQt=f.forwardRef((function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:o,...a}=e,{t:s}=Z(),l=e.options&&e.options.length>0,c=f.useCallback((({content:e,hidden:t,inputElement:a,onMouseEnter:c,onMouseLeave:d},f)=>u.jsx(RQt,{placement:"bottom-start",fallbackPlacements:$Qt,arrow:!1,constrainSize:!0,onMouseEnter:c,onMouseLeave:d,content:u.jsx("div",{ref:f,children:l?e:u.jsx(N,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(MQt,{align:"center",muted:!0,children:u.jsx(dt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!t,ref:i,portal:!0,referenceElement:o||a,matchReferenceWidth:!0})),[l,s,n,r,i,o]);return u.jsx(Tk,{...a,loading:r,ref:t,renderPopover:c})}));function FQt(){return f.useContext(iae)||{menuRef:{current:null},containerRef:{current:null}}}const gee={hits:[],isLoading:!1},LQt=()=>!0;function NQt(e){return null!==e}function BQt(e){var t,n,r,i,o,a;const{createOptions:s,onChange:l,onEditReference:c,onSearch:d,schemaType:p,readOnly:h,id:m,onPathFocus:g,value:y,renderPreview:v,path:b,elementProps:x,focusPath:w}=e,{getReferenceInfo:C}=L9({path:b,schemaType:p,value:y}),[k,j]=f.useState(gee),S=f.useCallback((e=>{const t=Ca(),n=[zo({}),lt(p.name,["_type"]),lt(t,["_ref"]),lt(!0,["_weak"]),lt({type:e.type,weak:p.weak,template:e.template},["_strengthenOnPublish"])].filter(wi);l(n),c({id:t,type:e.type,template:e.template}),g([])}),[l,c,g,p]),E=f.useCallback((e=>{if(!e)return l(ft()),void g([]);const t=k.hits.find((t=>t.id===e));if(!t)throw new Error("Selected an item that wasnt part of the result set");const n=[zo({}),lt(p.name,["_type"]),lt(sn(e),["_ref"]),t.published&&!p.weak?ft(["_weak"]):lt(!0,["_weak"]),t.published?ft(["_strengthenOnPublish"]):lt({type:t?.type,weak:p.weak},["_strengthenOnPublish"])].filter(wi);l(n),g([])}),[l,g,p.name,p.weak,k.hits]),_=f.useCallback((()=>{l(ft())}),[l]),A=f.useCallback((()=>{null!=y&&y._ref||_()}),[_,y?._ref]),T=f.useCallback((e=>{"Escape"===e.key&&g([])}),[g]),D=PA(y?._ref,C),M=f.useRef(null),{push:I}=Ur(),{t:O}=Z(),N=mT((e=>e.pipe(jt(NQt),ht((e=>bi(we({isLoading:!0}),d(e).pipe(fe((t=>({hits:t,searchString:e,isLoading:!1}))),pn((e=>(I({title:O("inputs.reference.error.search-failed-title"),description:e.message,status:"error",id:`reference-search-fail-${m}`}),console.error(e),we({hits:[]})))))))),hs(((e,t)=>({...e,...t})),gee),qn(j)))),P=f.useCallback((()=>{N("")}),[N]),R=f.useCallback((e=>{"Escape"===e.key&&g([])}),[g]),F=f.useCallback((e=>{var t,n;const r=(null==(t=e.hit.draft)?void 0:t._id)||(null==(n=e.hit.published)?void 0:n._id)||e.value;return u.jsx(F5n,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:u.jsx(OQt,{getReferenceInfo:C,id:r,renderPreview:v,type:p})})}),[p,C,v]),$=f.useCallback((()=>{var e,t,n,r;return(null==(t=null==(e=D.result)?void 0:e.preview.draft)?void 0:t.title)||(null==(r=null==(n=D.result)?void 0:n.preview.published)?void 0:r.title)||""}),[null==(n=null==(t=D.result)?void 0:t.preview.draft)?void 0:n.title,null==(i=null==(r=D.result)?void 0:r.preview.published)?void 0:i.title]),B=f.useCallback((()=>g(["_ref"])),[g]),V=f.useCallback((t=>{var n;null!=(n=M.current)&&n.contains(t.relatedTarget)||e.elementProps.onBlur(t)}),[e.elementProps]),z="NOT_FOUND"===(null==(a=null==(o=D?.result)?void 0:o.availability)?void 0:a.reason)&&!(null!=y&&y._strengthenOnPublish)&&y?._weak;Ja("_ref"===w?.[0],((e,t)=>{var n;!e&&t&&(null==(n=x.ref.current)||n.focus())}));const U=f.useMemo((()=>k.hits.map((e=>({value:e.id,hit:e})))),[k.hits]),H=1===w.length&&"_ref"===w[0],{menuRef:W,containerRef:q}=FQt(),G=f.useRef(null),Y=f.useRef(null),K=f.useRef(null);return FCe([q,G,Y,K,W],(()=>{H&&A()})),u.jsx(ne,{space:1,"data-testid":"reference-input",ref:G,children:u.jsxs(ne,{space:2,children:[z?u.jsx(Xl,{"data-testid":"alert-nonexistent-document",title:O("inputs.reference.error.nonexistent-document-title"),suffix:u.jsx(ne,{padding:2,children:u.jsx(me,{text:O("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:_})}),children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:O,values:{documentId:y._ref}})})}):null,u.jsxs(kQt,{ref:M,children:[u.jsx(PQt,{...x,onFocus:B,onBlur:V,"data-testid":"autocomplete",loading:k.isLoading,referenceElement:M.current,options:U,radius:2,placeholder:O("inputs.reference.search-placeholder"),onKeyDown:T,readOnly:D.isLoading||h,onQueryChange:N,searchString:k.searchString,onChange:E,filterOption:LQt,renderOption:F,renderValue:$,openButton:{onClick:P},portalRef:Y,value:y?._ref}),s.length>0&&u.jsx(DQt,{id:`${m}-selectTypeMenuButton`,readOnly:h,createOptions:s,onCreate:S,onKeyDown:R,menuRef:K})]})]})})}async function VQt(e,t,n,r){if(!e)return{};if("function"==typeof e.filter){const i=n.slice(0,-1),o=e1(t,i);return await e.filter({document:t,parentPath:i,parent:o,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function zQt(e){const t=f.useRef(e);return t.current=e,t}function UQt(e){var t,n,r,i;const o=Sn(),a=o.getClient(zt),s=Jt(),l=LA(),c=Ui(),{path:d,schemaType:p}=e,{EditReferenceLinkComponent:h,onEditReference:m,activePath:g,initialValueTemplateItems:y}=bCe(),{enableLegacySearch:v=!1}=o.search,b=zQt(Nw([])),x=null==(t=b.current)?void 0:t._type,w=s.get(x),C=f.useMemo((()=>w?.liveEdit),[w]),k=!0===(null==(n=p.options)?void 0:n.disableNew),j=o.getClient,S=f.useCallback((e=>Qn(VQt(p.options,b.current,d,j)).pipe(kt((({filter:t,params:n})=>sQt(a,e,p,{...p.options,filter:t,params:n,tag:"search.reference",maxFieldDepth:l},v))),pn((e=>{var t;const n=e.details&&"queryParseError"===e.details.type;return null!=(t=p.options)&&t.filter&&n&&(e.message='Invalid reference filter, please check the custom "filter" option'),Rf(e)})))),[p,b,d,j,a,l,v]),E=null==(i=null==(r=e.value)?void 0:r._strengthenOnPublish)?void 0:i.template,_=f.useMemo((()=>f.forwardRef((function(e,t){return h?u.jsx(h,{...e,ref:t,parentRefPath:d,template:E}):null}))),[h,d,E]),A=f.useCallback((e=>{m?.({parentRefPath:d,id:e.id,type:e.type,template:e.template})}),[m,d]),T=ya(d,g?.path||[])?g?.state:"none",D=f.useMemo((()=>k?[]:(y||[]).filter((e=>p.to.some((t=>{var n;return t.name===(null==(n=e.template)?void 0:n.schemaType)})))).map((e=>{var t,n,r;return null!=(t=e.template)&&t.schemaType?{id:e.id,title:e.title||`${e.template.schemaType} from template ${null==(n=e.template)?void 0:n.id}`,i18n:e.i18n,type:e.template.schemaType,icon:e.icon,template:{id:null==(r=e.template)?void 0:r.id,params:e.parameters},permission:{granted:e.granted,reason:e.reason}}:void 0})).filter(wi)),[k,y,p.to]),M=f.useCallback(((e,t)=>OCe(c,e,t)),[c]);return u.jsx(BQt,{...e,onSearch:S,liveEdit:C,getReferenceInfo:M,selectedState:T,editReferenceLinkComponent:_,createOptions:D,onEditReference:A})}function HQt(e){return xx(e.schemaType)}function WQt(e){return zie(e.schemaType)}function GQt(e,t,n,r){const i={...e},o=r.y||0,a=r.x||0;return t.top+i.y<=n.top+o?i.y=n.top-t.top+o:t.bottom+i.y>=n.top+n.height-o&&(i.y=n.top+n.height-t.bottom-o),t.left+i.x<=n.left-a?i.x=n.left-t.left+a:t.right+i.x>=n.left+n.width+a&&(i.x=n.left+n.width-t.right+a),i}const YQt=e=>({containerNodeRect:t,draggingNodeRect:n,transform:r})=>n&&t?GQt(r,n,t,e):r,B9="moving",LCe=$(N)`
  ${e=>e.$moving&&de`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `}
`,qQt={threshold:{x:0,y:.02}},KQt={coordinateGetter:Tvt},ZQt={duration:200,easing:"ease"};function XQt(e){return"x"===e?uvt:cvt}function JQt(e){return"x"===e?pvt:gvt}const QQt=f.memo((function(e){const{items:t,axis:n,onItemMove:r,onItemMoveStart:i,onItemMoveEnd:o,children:a,...s}=e,l=Q0t(nY(i8),nY(n8,KQt)),c=f.useCallback((e=>{var t,n,i,a;const{active:s,over:l}=e;s.id!==l?.id&&r?.({fromIndex:null==(n=null==(t=s.data.current)?void 0:t.sortable)?void 0:n.index,toIndex:null==(a=null==(i=l?.data.current)?void 0:i.sortable)?void 0:a.index}),o?.()}),[r,o]),d=f.useMemo((()=>[YQt({y:4}),...n?[XQt(n)]:[]]),[n]);return u.jsx(tvt,{sensors:l,autoScroll:qQt,modifiers:d,collisionDetection:t1t,onDragEnd:c,onDragStart:i,children:u.jsx(yvt,{items:t,strategy:n?JQt(n):void 0,children:u.jsx(Rn,{...s,children:a})})})})),een=f.forwardRef((function(e,t){const{id:n,children:r,disableTransition:i}=e,{setNodeRef:o,transform:a,transition:s,active:l}=C0e({id:n,transition:i?null:ZQt}),c=n===l?.id,d=f.useMemo((()=>({transform:Nb.Translate.toString(a),transition:s,pointerEvents:l?"none":void 0})),[a,s,l]),p=f.useCallback((e=>{o(e),"function"==typeof t?t(e):t&&(t.current=e)}),[t,o]);return u.jsx(LCe,{ref:p,style:d,$moving:c,className:c?B9:"","data-index":e["data-index"],children:r})}));function V9(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:i,...o}=e,a=f.useCallback((e=>{t?.(e)}),[t]);return i?u.jsx(QQt,{onItemMove:a,onItemMoveStart:r,onItemMoveEnd:n,...o}):u.jsx(Rn,{...o})}const z9=f.forwardRef((function(e,t){const{sortable:n,...r}=e;return u.jsx(nae.Provider,{value:e.id,children:n?u.jsx(een,{ref:t,...r}):u.jsx(LCe,{ref:t,...r})})}));function U9(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function NA(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&U9(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}function NCe(e){return $(e)((e=>{const{$border:t,$radius:n}=e,{card:r,color:i,radius:o}=Ae(e.theme),a={width:t?1:0,color:"var(--card-border-color)"};return de`
        --card-focus-box-shadow: ${U9(a)};

        border-radius: ${ke(o[n??1])};
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: ${NA({border:a,base:i,focusRing:{...r.focusRing,offset:0}})};
        }
      `}))}function BCe(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):VCe(Array.from(e.items||[])).then(pr)}function ten(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):VCe(n).then(pr)}function vee(e){return null===e?[]:[e]}function VCe(e){return Promise.all(e.map((e=>{if("file"===e.kind&&e.webkitGetAsEntry){let t;try{t=e.webkitGetAsEntry()}catch{return vee(e.getAsFile())}return t?t.isDirectory?zCe(t):vee(e.getAsFile()):[]}if("file"===e.kind){const t=e.getAsFile();return Promise.resolve(t?[t]:[])}return"string"===e.kind?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",e.kind),Promise.resolve([]))})))}function zCe(e){if(e.isFile)return new Promise(((t,n)=>e.file(t,n))).then((e=>[e]));if(e.isDirectory){const t=e.createReader();return new Promise(((e,n)=>t.readEntries(e,n))).then((e=>e.filter((e=>!e.name.startsWith("."))))).then((e=>Promise.all(e.map(zCe)).then(pr)))}return Promise.resolve([])}function nen(e){return"application/portable-text"===e.type}function ren(e,t="image/jpeg",n=1){return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise(((r,i)=>{const o=new Image;o.crossOrigin="anonymous",o.referrerPolicy="strict-origin-when-cross-origin",o.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;const a=e.getContext("2d");a?.drawImage(o,0,0,e.width,e.height);try{e.toBlob(r,t,n)}catch(e){i(e)}},o.src=e}))}const ien={opacity:0,position:"absolute"};function UCe(e){return f.forwardRef((function(t,n){const{onFiles:r,onFilesOver:i,onFilesOut:o,disabled:a,...s}=t,[l,c]=f.useState(!1),d=f.useRef(null),p=f.useRef(null);f.useImperativeHandle(n,(()=>p.current));const h=f.useRef([]),m=f.useCallback((e=>{r?.(e)}),[r]),g=f.useCallback((e=>{e.target===p.current&&(e.ctrlKey||e.metaKey)&&"v"===e.key&&c(!0)}),[]),y=f.useCallback((e=>{BCe(e.clipboardData).then((e=>d.current?e.length>0?e:aen(d.current,"image/jpeg"):[])).then((e=>{var t;m(e),c(!1),null==(t=p.current)||t.focus()}))}),[m]),v=f.useCallback((e=>{h.current=[],e.preventDefault(),e.stopPropagation();const t=e.nativeEvent.dataTransfer;r&&t&&ten(t).then((e=>{e&&m(e)})),o?.()}),[m,r,o]),b=f.useCallback((e=>{r&&(e.preventDefault(),e.stopPropagation())}),[r]),x=f.useCallback((e=>{const t=Array.from(e.dataTransfer.items).map((e=>({type:e.type,kind:e.kind})));t.some((e=>nen(e)))||(e.stopPropagation(),i&&p.current===e.currentTarget&&(h.current=[...new Set(h.current),e.currentTarget],i(t)))}),[i]),w=f.useCallback((e=>{e.stopPropagation();const t=h.current.indexOf(e.currentTarget);t>-1&&h.current.splice(t,1),0===h.current.length&&o?.()}),[o]),C=f.useRef(!1);return f.useEffect((()=>{var e;!C.current&&l&&d.current?(d.current.focus(),oen(d.current)):C.current&&!l&&(null==(e=d.current)||e.focus()),C.current=l}),[l]),u.jsxs(u.Fragment,{children:[u.jsx(e,{...s,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:x,onDragLeave:a?void 0:w,onDrop:a?void 0:v,"data-test-id":"file-target"}),!a&&l&&u.jsx("div",{contentEditable:!0,onPaste:y,ref:d,style:ien})]})}))}function aen(e,t="image/jpeg"){return e.isContentEditable?new Promise((e=>setTimeout(e,10))).then((()=>Array.from(e.querySelectorAll("img")))).then((t=>(e.innerHTML="",t))).then((e=>Promise.all(e.map((e=>ren(e.src)))))).then((e=>e.map((e=>new File([e],"pasted-image.jpg",{type:t}))))):Promise.reject(new Error(`Expected element to be contentEditable="true". Instead found a non contenteditable ${e.tagName}`))}function oen(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n?.removeAllRanges(),n?.addRange(t)}function sen(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,i=t.filter((e=>n.some((t=>r(t,e))))),o=t.length-i.length,a=n.length>1,{t:s}=Z();return u.jsx(u.Fragment,{children:i.length>0?u.jsxs(u.Fragment,{children:[u.jsxs(xn,{space:2,children:[u.jsx(L,{children:u.jsx(jx,{})}),a?s("inputs.files.common.drop-message.drop-to-upload-multi",{count:i.length}):s("inputs.files.common.drop-message.drop-to-upload"),u.jsx(L,{})]}),o>0&&u.jsx(N,{marginTop:4,children:u.jsxs(xn,{space:2,children:[u.jsx(L,{muted:!0,size:1,children:u.jsx(Zc,{})}),u.jsx(L,{muted:!0,size:1,children:s("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:o})})]})})]}):u.jsxs(xn,{space:2,children:[u.jsx(L,{children:u.jsx(Zc,{})}),u.jsx(L,{children:s("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:t.length})})]})})}const len=$(go)`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`,uen=$.div`
  position: relative;
`;function cen(e,t,n){return e.map((e=>({type:e,uploader:t(e,n)}))).filter((e=>e.uploader))}function den(e){const t=UCe(e);return f.forwardRef((function(e,n){const{children:r,resolveUploader:i,onUpload:o,types:a,...s}=e,{push:l}=Ur(),{t:c}=Z(),d=f.useCallback(((e,t)=>{const{type:n,uploader:r}=t;o?.({file:e,schemaType:n,uploader:r})}),[o]),p=f.useCallback((e=>{if(!i)return;const t=e.map((e=>({file:e,uploaderCandidates:cen(a,i,e)}))),n=t.filter((e=>e.uploaderCandidates.length>0)),r=t.filter((e=>0===e.uploaderCandidates.length));r.length>0&&l({closable:!0,status:"warning",title:c("inputs.array.error.cannot-upload-unable-to-convert",{count:r.length}),description:r.map(((e,t)=>u.jsxs(U,{gap:2,padding:2,children:[u.jsx(N,{children:u.jsx(L,{weight:"medium",children:e.file.name})}),u.jsx(N,{children:u.jsxs(L,{size:1,children:["(",e.file.type,")"]})})]},t)))}),n.forEach((e=>{d(e.file,Qf(e.uploaderCandidates,(e=>e.uploader.priority))[0])}))}),[l,i,a,d,c]),[h,m]=f.useState([]),g=f.useCallback((()=>m([])),[]);return u.jsx(uen,{children:u.jsxs(t,{...s,ref:n,onFiles:p,onFilesOver:m,onFilesOut:g,children:[i&&h.length>0&&u.jsx(len,{zOffset:10,children:u.jsx(sen,{hoveringFiles:h,types:a,resolveUploader:i})}),r]})})}))}const fen=$(ae)`
  height: 100%;
`,BA=NCe(den(fen));function hen(e,t){return"toggle"===t.type?{open:!e.open}:{open:!1}}function BP(e){var t;const[n,r]=f.useReducer(hen,{open:!1}),[i,o]=f.useState(null),a=null!=(t=e.popoverProps.referenceElement)?t:null;Fn(f.useCallback((()=>{r({type:"close"})}),[]),[i,a]),mo(f.useCallback((e=>{"Escape"===e.key&&n.open&&(r({type:"close"}),a?.focus())}),[n,a]));const{onSelect:s,...l}=e.insertMenuProps,c=f.useCallback((e=>{s(e),r({type:"close"})}),[s]);return{popover:f.useMemo((()=>u.jsx(An,{ref:o,open:n.open,constrainSize:!0,overflow:"hidden",portal:!0,content:u.jsx(pen,{...l,onSelect:c}),...e.popoverProps})),[c,l,e.popoverProps,n]),state:n,send:r}}function pen(e){const{t:t}=Z();return u.jsx(TVt,{...e,labels:{"insert-menu.filter.all-items":t("inputs.array.insert-menu.filter.all-items"),"insert-menu.search.no-results":t("inputs.array.insert-menu.search.no-results"),"insert-menu.search.placeholder":t("inputs.array.insert-menu.search.placeholder"),"insert-menu.toggle-grid-view.tooltip":t("inputs.array.insert-menu.toggle-grid-view.tooltip"),"insert-menu.toggle-list-view.tooltip":t("inputs.array.insert-menu.toggle-list-view.tooltip")}})}function H9(e){var t,n,r,i;const{schemaType:o,readOnly:a,children:s,onValueCreate:l,onItemAppend:c}=e,{t:d}=Z(),[p,h]=f.useState(null),[m,g]=f.useState(null),y=f.useCallback((e=>{const t=l(e);c(t)}),[l,c]),v=f.useCallback((()=>{y(o.of[0])}),[o,y]),b=o.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item",x={icon:Qi,mode:"ghost",size:"large",text:d(b)},w=BP({insertMenuProps:{...null==(t=e.schemaType.options)?void 0:t.insertMenu,schemaTypes:e.schemaType.of,onSelect:y},popoverProps:{placement:"bottom",fallbackPlacements:["top"],matchReferenceWidth:null==(i=null==(r=null==(n=e.schemaType.options)?void 0:n.insertMenu)?void 0:r.views)?void 0:i.some((e=>"grid"===e.name)),referenceBoundary:p,referenceElement:m}});return a?u.jsx(pt,{portal:!0,content:d("inputs.array.read-only-label"),children:u.jsx(Rn,{children:u.jsx(me,{...x,"data-testid":"add-read-object-button",disabled:!0})})}):u.jsxs(Rn,{ref:h,gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[1===o.of.length?u.jsx(me,{...x,onClick:v,"data-testid":"add-single-object-button"}):u.jsxs(u.Fragment,{children:[u.jsx(me,{...x,"data-testid":"add-multiple-object-button",selected:w.state.open,onClick:()=>{w.send({type:"toggle"})},ref:g}),w.popover]}),s]})}const men=$(me)((e=>{const{$grid:t,disabled:n}=e;return n?de``:de`
    cursor: ${t?"move":"ns-resize"};
  `})),HCe=function(e){const t=f.useContext(nae),{mode:n="bleed",readOnly:r,...i}=e,{listeners:o,attributes:a}=C0e({id:t,disabled:r}),{t:s}=Z();return u.jsx(men,{icon:_F,tooltipProps:{content:s("inputs.array.action.drag.tooltip"),delay:{open:1e3},disabled:!!r},mode:n,"data-ui":"DragHandleButton",...i,...a,...o,disabled:r})},gen=$(U)`
  min-height: 33px;
`,ven=$(U)`
  position: absolute;
  top: 0;
  right: 0;
  height: 33px;
`,VP=$(ae)`
  position: absolute;
  top: 0;
  left: 0;
`,yen=$(ae)`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    ${VP} {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      ${VP} {
        opacity: 1;
      }
    }
  }

  .${B9} & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function WCe(e){const{validation:t,selected:n,tone:r,presence:i,children:o,dragHandle:a,menu:s,footer:l,readOnly:c,...d}=e;return u.jsxs(yen,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:1,tone:r,...d,children:[o,a&&u.jsx(VP,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:u.jsx(HCe,{$grid:!0,mode:"ghost",readOnly:!!c})}),i&&u.jsx(ven,{align:"center",marginX:1,children:i}),u.jsxs(gen,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[u.jsx(U,{children:t}),u.jsx(N,{children:l}),s]})]})}const ben=$(ae)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function xen(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=f.useState(!1),[s,l]=f.useState(null),{t:c}=Z();Fn((()=>a(!1)),[s]);const d=f.useCallback((e=>{("Escape"===e.key||"Tab"===e.key)&&a(!1)}),[]),p=f.useCallback((()=>{a((e=>!e))}),[]),h=Bo(t);return u.jsx(An,{open:o,ref:l,onKeyDown:d,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(ben,{margin:1,padding:3,onKeyDown:d,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(N,{children:u.jsx(L,{weight:"medium",children:c("inputs.array.error.type-is-incompatible-title")})}),u.jsx(L,{size:1,children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(N,{children:u.jsxs(L,{size:1,children:[u.jsx(_x,{})," ",c("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,weight:"medium",children:c("inputs.array.error.json-representation-description")}),u.jsx(ae,{padding:2,overflow:"auto",border:!0,children:u.jsx(ni,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ae,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:p,onKeyDown:d,__unstable_focusRing:!0,...i,children:u.jsxs(ne,{space:4,marginTop:2,children:[u.jsx(N,{margin:1,children:u.jsx(L,{align:"center",size:4,children:u.jsx(Gs,{})})}),u.jsx(L,{align:"center",size:1,children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})]})})})}const wen={portal:!0,tone:"default"};function Cen(e){const{member:t,sortable:n,readOnly:r}=e,i=f.useId(),{onChange:o}=vl(),{t:a}=Z(),s=f.useCallback((()=>{o(Tt.from([ft([{_key:t.key}])]))}),[o,t.key]);return u.jsx(WCe,{dragHandle:n,readOnly:r,tone:"caution",style:{height:"100%"},menu:u.jsx(Gt,{button:u.jsx(ai,{}),id:`${i}-menuButton`,menu:u.jsx(At,{children:u.jsx(qe,{text:a("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Br,onClick:s})}),popover:wen}),children:"INVALID_ITEM_TYPE"===t.error.type?u.jsx(xen,{value:t.error.value,vertical:!0}):u.jsx("div",{children:a("inputs.array.error.unexpected-error",{error:t.error.type})})})}function W9(e=[]){return e.reduce(((e,t,n)=>{const r=typeof t;if("number"===r)return`${e}[${t}]`;if("string"===r)return`${e}${0===n?"":"."}${t}`;if(Fl(t))return`${e}[_key=="${t._key}"]`;throw new Error(`Unsupported path segment "${t}"`)}),"")}function Sen(e){return null!==e||void 0!==e}function a5(e,t,n){if(!n)throw new Error("missing context");if(!0===e)return[];if(Array.isArray(e))return e.flatMap((e=>a5(e,t,n))).filter(Sen);if("string"==typeof e)return a5({message:e},t,n);if("string"!=typeof e.message)throw new Error(`${W9(n.path)}: Validator must return 'true' if valid or an error message as a string on errors`);const{message:r}=e,i=[];e.path&&i.push(e.path);for(const t of e.paths||[])i.push(t);return i.length?i.map((e=>({path:(n.path||[]).concat(e),level:t||"error",item:{message:r},message:r}))):[{level:t||"error",item:{message:r},message:r,path:n.path||[]}]}function Een(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function GCe(e,t){const{currentLocale:n}=t,r=n.id;if(e[r])return e[r];if(r.includes("-")){const t=r.split("-",1)[0];if(e[t])return e[t]}return e["en-US"]||e["en-GB"]||e.en||"Unknown validation error (not localized)"}function YCe(e){return!0!==e&&typeof e<"u"&&"string"!=typeof e&&ar(e)&&!("message"in e)}function sx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!sx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let e=0;e<n.length;e++)if("_key"!==n[e]&&!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let r=0;r<n.length;r++){const i=n[r];if("_key"!==i&&!sx(e[i],t[i]))return!1}return!0}return!1}const _en={}.toString,yee=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function ken(e){for(let t=0;t<yee.length;t++)if(yee[t]===e)return!0;return!1}function qCe(e){const t=_en.call(e).slice(8,-1);if(null==e)return t.toLowerCase();const n=e.constructor;return n&&!ken(n)?n.name:t}const bee=5e3,xee=e=>{var t;return e.message?e.message:1===e.results.length?null==(t=e.results[0])?void 0:t.message:e.i18n.t("{{messages, list}}",{messages:e.results.map((e=>{var t;return e.message||(null==(t=e.item)?void 0:t.message)})),formatParams:{messages:{style:"long",type:e.operation}}})},Om={type:(e,t,n,{i18n:r})=>{const i=qCe(t);return i===e||"undefined"===i||(n||r.t("validation:generic.incorrect-type",{actualType:i,expectedType:e}))},presence:(e,t,n,{i18n:r})=>void 0!==t||"required"!==e||(n||r.t("validation:generic.required")),all:async(e,t,n,r)=>{const i=(await Promise.all(e.map((e=>e.validate(t,r))))).flat();return 0===i.length||xee({message:n,results:i,operation:"conjunction",i18n:r.i18n})},either:async(e,t,n,r)=>{const i=await Promise.all(e.map((e=>e.validate(t,r)))),o=i.flat();return!!i.find((e=>!e.length))||xee({message:n,results:o,operation:"disjunction",i18n:r.i18n})},valid:(e,t,n,{i18n:r})=>{const i=typeof t;if("undefined"===i)return!0;const o=("number"===i||"string"===i)&&`${t}`,a=o&&o.length>30?`${o.slice(0,30)}`:o;return!!e.some((e=>sx(e,t)))||(n||r.t("validation:generic.not-allowed",o?{context:"hint",replace:{hint:a}}:{}))},custom:async(e,t,n,r)=>{const i=setTimeout((()=>{"studio"===r.environment&&console.warn(`Custom validator at ${W9(r.path)} has taken more than 5000ms to respond`)}),bee);let o;try{o=await e(t,r)}finally{clearTimeout(i)}return YCe(o)?GCe(o,r.i18n):"string"==typeof o&&n||o}},Ten={...Om,min:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length>=e)return!0;const o=iS(i)?"blocks":void 0;return n||r.t("validation:array.minimum-length",{minLength:e,context:o})},max:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length<=e)return!0;const o=iS(i)?"blocks":void 0;return n||r.t("validation:array.maximum-length",{maxLength:e,context:o})},length:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length===e)return!0;const o=iS(i)?"blocks":void 0;return n||r.t("validation:array.exact-length",{wantedLength:e,context:o})},presence:(e,t,n,{i18n:r})=>!("required"===e&&!t)||(n||r.t("validation:generic.required",{context:"array"})),valid:(e,t,n,{i18n:r})=>{if(typeof t>"u")return!0;const i=[];for(let n=0;n<t.length;n++){const r=t[n];if(e.some((e=>sx(e,r))))continue;const o=r&&r._key?{_key:r._key}:n;i.push([o])}const o=n||r.t("validation:generic.not-allowed");return i.map((e=>({message:o,path:e})))},unique:(e,t,n,{i18n:r})=>{const i=[];if(!t)return!0;for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++){sx(t[e],t[n])&&(-1===i.indexOf(e)&&i.push(e),-1===i.indexOf(n)&&i.push(n))}const o=i.map((e=>{const n=t[e];return[n&&n._key?{_key:n._key}:e]})),a=n||r.t("validation:array.item-duplicate");return o.map((e=>({message:a,path:e})))}},Aen={...Om,presence:(e,t,n,{i18n:r})=>"required"!==e||"boolean"==typeof t||(n||r.t("validation:generic.required",{context:"boolean"}))};function wee(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const jen=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Cee=(e="",t,n)=>{const r=n?.dateFormat||eh;return $1(t,"date"===e?r:`${r} ${n?.timeFormat||EN}`,"date"===e)};function F2(e,t=!1){if(!e)return null;if("now"===e)return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error(`Unable to parse "${e}" to a date`);return r?null:n}const Ien={...Om,type:(e,t,n,{i18n:r})=>!!(typeof t>"u"||jen.test(`${t}`))||(n||r.t("validation:date.invalid-format")),min:(e,t,n,{type:r,i18n:i})=>{const o=F2(t),a=F2(e,!0);if(!o||!t||o>=a)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=wee(r.options)?r.options:{};return n||i.t("validation:date.minimum",{minDate:Cee(r.name,a,s),providedMinDate:e})},max:(e,t,n,{type:r,i18n:i})=>{const o=F2(t),a=F2(e,!0);if(!o||!t||o<=a)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=wee(r.options)?r.options:{};return n||i.t("validation:date.maximum",{maxDate:Cee(r.name,a,s),providedMaxDate:e})}},Den=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Oen={...Om,integer:(e,t,n,{i18n:r})=>!!Number.isInteger(t)||(n||r.t("validation:number.non-integer")),precision:(e,t,n,{i18n:r})=>{if(void 0===t)return!0;const i=t.toString().match(Den);return!(Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)>e)||(n||r.t("validation:number.maximum-precision",{limit:e}))},min:(e,t,n,{i18n:r})=>t>=e||(n||r.t("validation:number.minimum",{minNumber:e})),max:(e,t,n,{i18n:r})=>t<=e||(n||r.t("validation:number.maximum",{maxNumber:e})),greaterThan:(e,t,n,{i18n:r})=>t>e||(n||r.t("validation:number.greater-than",{threshold:e})),lessThan:(e,t,n,{i18n:r})=>t<e||(n||r.t("validation:number.less-than",{threshold:e}))},Ren=["_key","_type","_weak"],Men={...Om,presence:(e,t,n,{i18n:r})=>{if("required"!==e)return!0;const i=t&&Object.keys(t).filter((e=>!Ren.includes(e)));return!(void 0===t||i&&0===i.length)||(n||r.t("validation:generic.required",{context:"object"}))},reference:async(e,t,n,r)=>{if(!t)return!0;const{type:i,getDocumentExists:o,i18n:a}=r;if(!gd(t))return n||a.t("validation:object.not-reference");if(!i)throw new Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!o)throw new Error("`getDocumentExists` was not provided in validation context");return!!await o({id:t._ref})||a.t("validation:object.reference-not-published",{documentId:t._ref})},assetRequired:(e,t,n,{i18n:r})=>!!(t&&t.asset&&t.asset._ref)||(n||r.t("validation:object.asset-required",{context:e.assetType||""}))},V3="http://sanity",$en=e=>/^\.*\//.test(e),Pen=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Fen={...Om,min:(e,t,n,{i18n:r})=>!t||t.length>=e||(n||r.t("validation:string.minimum-length",{minLength:e})),max:(e,t,n,{i18n:r})=>!t||t.length<=e||(n||r.t("validation:string.maximum-length",{maxLength:e})),length:(e,t,n,{i18n:r})=>(t||"").length===e||(n||r.t("validation:string.exact-length",{wantedLength:e})),uri:(e,t,n,{i18n:r})=>{const i=t||"";if(!i)return!0;const{options:o}=e,{allowCredentials:a,relativeOnly:s}=o,l=o.allowRelative||s;let u;try{u=l?new URL(i,V3):new URL(i)}catch{return n||r.t("validation:string.url.invalid")}if(s&&u.origin!==V3)return n||r.t("validation:string.url.not-relative");if(!l&&u.origin===V3&&$en(i))return n||r.t("validation:string.url.not-absolute");if(!a&&(u.username||u.password))return n||r.t("validation:string.url.includes-credentials");const c=u.protocol.replace(/:$/,"");return!!o.scheme.some((e=>e.test(c)))||(n||r.t("validation:string.url.disallowed-scheme",{scheme:c}))},stringCasing:(e,t,n,{i18n:r})=>{const i=t||"";return"uppercase"===e&&i!==i.toLocaleUpperCase()?n||r.t("validation:string.uppercase"):"lowercase"!==e||i===i.toLocaleLowerCase()||(n||r.t("validation:string.lowercase"))},presence:(e,t,n,{i18n:r})=>!("required"===e&&!t)||(n||r.t("validation:generic.required",{context:"string"})),regex:(e,t,n,{i18n:r})=>{const{pattern:i,name:o,invert:a}=e,s=o||`${i.toString()}`,l=t||"";i.lastIndex=0;const u=i.test(l);return!(!a&&!u||a&&u)||(n||(a?r.t("validation:string.regex-match",{name:s}):r.t("validation:string.regex-does-not-match",{name:s})))},email:(e,t,n,{i18n:r})=>{const i=`${t||""}`.trim();return!(i&&!Pen.test(i))||(n||r.t("validation:string.email"))}};var Len=Object.defineProperty,Nen=(e,t,n)=>t in e?Len(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oa=(e,t,n)=>Nen(e,"symbol"!=typeof t?t+"":t,n);const Ben={Boolean:Aen,Number:Oen,String:Fen,Array:Ten,Object:Men,Date:Ien},KCe=e=>e&&e.type?KCe(e.type):e,Ven=e=>!("object"!=typeof e||!e)&&e.type===ZCe.FIELD_REF,zen=[],See=Symbol("FIELD_REF"),Uen=["Array","Boolean","Date","Number","Object","String"];var Wi;const ZCe=(Wi=class{constructor(e){Oa(this,"_type"),Oa(this,"_level"),Oa(this,"_required"),Oa(this,"_typeDef"),Oa(this,"_message"),Oa(this,"_rules",[]),Oa(this,"_fieldRules"),Oa(this,"valueOfField",Wi.valueOfField.bind(Wi)),this._typeDef=e,this.reset()}_mergeRequired(e){return"required"===this._required||"required"===e._required?"required":"optional"===this._required||"optional"===e._required?"optional":void 0}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter((e=>"type"===e.flag)),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return"required"===this._required}clone(){const e=new Wi;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=Lit(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach((e=>{"type"===e.flag&&(t._type=e.constraint),n.add(e.flag)})),t._rules=t._rules.filter((e=>{const t=["type","uri","email"].includes(e.flag),r=n.has(e.flag);return!(t&&r)})).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level="error"===this._level?e._level:this._level,t}type(e){const t=`${e.slice(0,1).toUpperCase()}${e.slice(1)}`;if(!Uen.includes(t))throw new Error(`Unknown type "${e}"`);const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e,t={}){return t.bypassConcurrencyLimit&&Object.assign(e,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,i;const o={pattern:e,name:"string"==typeof t?t:null!=(r=t?.name)?r:n?.name,invert:"string"!=typeof t&&(null!=(i=t?.invert)?i:n?.invert)||!1};return this.cloneWithRules([{flag:"regex",constraint:o}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=e?.scheme||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map((e=>{if(!(e instanceof RegExp)&&"string"!=typeof e)throw new Error("scheme must be a RegExp or a String");return"string"==typeof e?new RegExp(`^${Een(e)}$`):e})),allowRelative:e?.allowRelative||!1,relativeOnly:e?.relativeOnly||!1,allowCredentials:e?.allowCredentials||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if("Object"!==this._type)throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=KCe(this._typeDef);let t;return t=e&&["image","file"].includes(e.name)?"image"===e.name?"image":"file":"asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,{__internal:t={},...n}){const{customValidationConcurrencyLimiter:r}=t,i=null==e;if(i&&"optional"===this._required)return zen;const o=void 0===this._required&&i?this._rules.filter((e=>"custom"===e.flag)):this._rules,a=this._type&&Ben[this._type]||Om;return(await Promise.all(o.map((async t=>{if(void 0===t.flag)throw new Error('Invalid rule, did not contain "flag"-property');const i=a[t.flag];if(!i){const e=this._type?`type "${this._type}"`:"rule without declared type";throw new Error(`Validator for flag "${t.flag}" not found for ${e}`)}let o="constraint"in t?t.constraint:null;if(Ven(o)&&(o=Yn(n.parent,o.path)),"custom"===t.flag&&r&&(null==o||!o.bypassConcurrencyLimit)){const e=o;o=async(...t)=>{await r.ready();try{return await e(...t)}finally{r.release()}}}const s=YCe(this._message)?GCe(this._message,n.i18n):this._message;try{return a5(await i(o,e,s,n),this._level,n)}catch(e){return a5({message:`${W9(n.path)}: Exception occurred while validating value: ${e.message}`},"error",n)}})))).flat()}},Oa(Wi,"FIELD_REF",See),Oa(Wi,"array",(e=>new Wi(e).type("Array"))),Oa(Wi,"object",(e=>new Wi(e).type("Object"))),Oa(Wi,"string",(e=>new Wi(e).type("String"))),Oa(Wi,"number",(e=>new Wi(e).type("Number"))),Oa(Wi,"boolean",(e=>new Wi(e).type("Boolean"))),Oa(Wi,"dateTime",(e=>new Wi(e).type("Date"))),Oa(Wi,"valueOfField",(e=>({type:See,path:e}))),Wi),Hen=Pk(Gen);function Wen(e){const t=0===e.indexOf("drafts.");return{published:t?e.slice(7):e,draft:t?e:`drafts.${e}`}}function Eee(e){return e.reduce(((e,t,n)=>{const r="number"==typeof t,i=Fl(t);return`${e}${r||i?"[]":`${0===n?"":"."}${t}`}`}),"")}const _ee=(e,t)=>{const{getClient:n,document:r,path:i,type:o}=t,a=o?.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!i)throw new Error("`path` was not provided in validation context.");const s=a?.disableArrayWarning||!1,{published:l,draft:u}=Wen(r._id),c=r._type,d=Eee(i.concat("current"));!s&&d.includes("[]")&&"studio"===t.environment&&Hen(Eee(i));const f=["_type == $docType","!(_id in [$draft, $published])",`${d} == $slug`].join(" && ");return n({apiVersion:"2023-11-13"}).fetch(`!defined(*[${f}][0]._id)`,{docType:c,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function Gen(e){console.warn([`Slug field at path ${e} is within an array and cannot be automatically checked for uniqueness`,'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join("\n"))}const Yen=async(e,t)=>{var n;if(!e)return!0;const{i18n:r}=t;if("object"!=typeof e||Array.isArray(e))return r.t("validation:slug.not-object");if(!HTe(e)||0===e.current.trim().length)return r.t("validation:slug.missing-current");const i=null==(n=t?.type)?void 0:n.options,o=i?.isUnique||_ee,a={...t,parent:t.parent,type:t.type,defaultIsUnique:_ee};return!!await o(e.current,a)||r.t("validation:slug.not-unique",{slug:e.current})},qen={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Ken=e=>e in qen;function G9(e,t=new Set){return e?t.has(e)?[]:(t.add(e),[...e.type?G9(e.type,t):[],e]):[]}function Zen(e,t){let n=e;Ken(t.jsonType)&&(n=n.type(t.jsonType));const r=t?.options&&"object"==typeof t.options&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map((e=>Xen(e,t))))),"datetime"===t.name||"date"===t.name?n.type("Date"):"url"===t.name?n.uri():"slug"===t.name?n.custom(Yen,{bypassConcurrencyLimit:!0}):"reference"===t.name?n.reference():"email"===t.name?n.email():n}function XCe(e){return!!e&&(!("fields"in e)&&e.type?XCe(e.type):!(!("fields"in e)||!Array.isArray(e.fields))&&e.fields.some((e=>"value"===e.name)))}function Xen(e,t){return"object"===t.jsonType&&XCe(t)||void 0===e.value?e:e.value}function lx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap((t=>lx({...e,validation:t})));if(t&&"object"==typeof t)return[t];const n=Object.values(G9(e).reduce(((e,t)=>(e[t.name]=t,e)),{})).reduce(Zen,new ZCe(e));return t?lx({...e,validation:t(n)}):[n]}function Jen(e){return JS(e,new Set),e}function JS(e,t){if(!t.has(e)){if(t.add(e),e.validation=lx(e),"fields"in e)for(const n of e.fields)JS(n.type,t);if("of"in e)for(const n of e.of)JS(n,t);if(e.annotations)for(const n of e.annotations)JS(n,t)}}function Qen(e){return e.getTypeNames().forEach((t=>{const n=e.get(t);n&&Jen(n)})),e}const etn=typeof window>"u"||typeof document>"u",ttn=[Vs],ntn=Pk((function(){const e=rtn();return e.init(),{currentLocale:Vs,locales:ttn,loadNamespaces:e.loadNamespaces,t:e.t}}));function rtn(){var e;const t={[Vs.id]:{}},n=(null==(e=awe.bundles)?void 0:e.filter(eWt))||[],r=new Set;for(const e of n)t[Vs.id][e.namespace]=e.resources,r.add(e.namespace);return Ome({ns:Array.from(r),defaultNS:ax,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:Vs.id,lng:Vs.id,supportedLngs:[Vs.id],debug:!1,load:"currentOnly",resources:t,interpolation:{escapeValue:etn}})}const itn=function(e,t){const n=Date.now();return window.setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,Date.now()-n)})}),0)},atn=function(e){return window.clearTimeout(e)},o5=typeof window>"u"?void 0:window,otn=o5?.requestIdleCallback||itn,stn=o5?.cancelIdleCallback||atn,ltn=e=>t=>{var n;if("object"!=typeof t||!t)return!0;const r=new Set(null==(n=e.fields)?void 0:n.map((e=>e.name)));return Object.keys(t).filter((e=>!e.startsWith("_"))).filter((e=>!r.has(e))).map((t=>({message:`Field '${t}' does not exist on type '${e.name}'`,path:[t]})))},utn=10;Zlt(10);const kee=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),ctn=e=>null!=e;function dtn(e,t){if(1===t.length)return t[0];const n=G4(e)&&e._type,r=null==e||!n&&qCe(e).toLowerCase();return r&&"object"!==r?t.find((e=>e.jsonType===r)):t.find((e=>{var t;return(null==(t=e.type)?void 0:t.name)===n}))||t.find((e=>e.name===n))||t.find((e=>"object"===e.name&&"object"===r))}const Tee=new WeakMap;function ftn({document:e,getClient:t,i18n:n=ntn(),schema:r,getDocumentExists:i,environment:o,maxCustomValidationConcurrency:a}){if("string"!=typeof e?._type)throw new Error("Tried to validated a value without a '_type'");const s=r.get(e._type);if(!s)return"studio"===o?(console.warn('Schema type for object type "%s" not found, skipping validation',e._type),we([])):we([{level:"warning",message:`Could not find schema type for type '${e._type}', skipping validation`,path:[]}]);let l=Tee.get(r);!l&&a&&(l=new kme(a),Tee.set(r,l));const u={getClient:t,schema:r,parent:void 0,value:e,path:[],document:e,type:s,i18n:n,getDocumentExists:i,environment:o,customValidationConcurrencyLimiter:l};return Qn(n.loadNamespaces(["validation"])).pipe(ht((()=>zP(u))),pn((e=>{console.error(e);const t=e?.message||"Unknown error";return we([{level:"error",message:t,item:{message:t},path:[]}])})))}function zP({value:e,type:t,path:n=[],parent:r,customValidationConcurrencyLimiter:i,environment:o,...a}){const s=e=>"object"===t?.jsonType&&G9(t).find((e=>["object","document","file","image"].includes(e.name)))&&"studio"!==o?e.custom(ltn(t),{bypassConcurrencyLimit:!0}).warning():e,l=lx(t),u=l.map(s).map((s=>Pi((()=>s.validate(e,{...a,environment:o,parent:r,path:n,type:t,__internal:{customValidationConcurrencyLimiter:i}})))));let c=[];const d=l.some((e=>e.isRequired()));if("object"===t?.jsonType&&(e||null==e&&d)){const r=t.fields.reduce(((e,t)=>(e[t.name]=t.type,e)),{});c=c.concat(l.map((e=>e._fieldRules)).filter(ctn).flatMap((e=>Object.entries(e))).flatMap((([t,l])=>{const u=r[t];return lx({...u,validation:l}).map(s).map((r=>{const s=kee(e)?e[t]:void 0;return Pi((()=>r.validate(s,{...a,parent:e,path:n.concat(t),type:u,environment:o,__internal:{customValidationConcurrencyLimiter:i}})))}))}))),c=c.concat(t.fields.map((t=>zP({...a,parent:e,value:kee(e)?e[t.name]:void 0,path:n.concat(t.name),type:t.type,environment:o,customValidationConcurrencyLimiter:i}))))}return"array"===t?.jsonType&&Array.isArray(e)&&(c=c.concat(e.map(((r,s)=>zP({...a,parent:e,value:r,path:n.concat(Fl(r)?{_key:r._key}:s),type:dtn(r,t.of),environment:o,customValidationConcurrencyLimiter:i}))))),Pi((()=>kn([...u,...c]))).pipe(kt((e=>bi(htn(),e)),40),Yk(),bhe(),fe(pr),fe((e=>l.some((e=>e._fieldRules))?Mf(e,(e=>JSON.stringify(e))):e)))}function htn(e){return new It((e=>{const t=otn((()=>{e.complete()}),void 0);return()=>stn(t)}))}var ptn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},mtn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare:e=>({title:e.title||e.path.split("/").slice(-1)[0],subtitle:`${e.mimeType} (${(e.size/1024/1024).toFixed(2)} MB)`})},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},gtn={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},vtn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare:e=>({title:e.title||"string"==typeof e.path&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:`${e.mimeType} (${(Number(e.size)/1024/1024).toFixed(2)} MB)`})},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},ytn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},btn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},xtn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},wtn={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},Ctn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},Stn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},Etn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string",validation:e=>e.required()},{name:"source",title:"Source field",type:"string",hidden:!0}]};const _tn=e=>"error"===e.severity,ktn=[ptn,Etn,gtn,vtn,mtn,ytn,xtn,wtn,btn,Ctn,Stn];function Ttn(e){const t=zht(zpt(e.types).getTypes()),n=t.some((e=>e.problems.some(_tn))),r=j8.compile({name:e.name,types:n?[]:[...e.types,...ktn].filter(Boolean)});return r._validation=t,Qen(r)}function $l(e){return"string"==typeof e.title?e.title:e.type?$l(e.type):e.name||e.jsonType}const Atn=[0,0,1,0];function jtn(e){return e.stopPropagation()}function Itn(e){return e.stopPropagation()}function JCe(e){const{children:t,header:n,id:r,legacy_referenceElement:i,onClose:o,type:a,width:s,autofocus:l}=e,[c,d]=f.useState(null),p=f.useRef(null),h=u.jsx(tv,{margins:Atn,children:u.jsx(N,{ref:p,children:t})});return"dialog"===a?u.jsx(W0,{scrollElement:c,containerElement:p,children:u.jsx(Si,{__unstable_autoFocus:l,contentRef:d,"data-testid":"edit-portal-dialog",header:n,id:r||"",onClickOutside:o,onClose:o,onDragEnter:jtn,onDrop:Itn,width:s,children:h})}):u.jsx($5n,{header:n,onClose:o,referenceElement:i,width:s,containerRef:d,children:u.jsx(W0,{scrollElement:c,containerElement:p,children:h})})}function Y9(e){return e.reduce(((e,t)=>null!=t&&t.children?[...e,t,...Y9(t.children)]:[...e,t]),[]).map((({children:e,...t})=>t))}function Dtn(e,t){var n;const r=Y9(e),i=R0(t).toLocaleLowerCase();return null==(n=r?.filter((e=>R0(e.title||"").toLocaleLowerCase().includes(i))))?void 0:n.sort(((e,t)=>{var n,r;const o=null==(n=e.title)?void 0:n.startsWith(i),a=null==(r=t.title)?void 0:r.startsWith(i);return o&&!a?-1:!o&&a?1:0}))}function Otn(e){const[t,n]=f.useState([]),{observeForPreview:r}=Ui(),i=f.useMemo((()=>Y9(e)),[e]),o=f.useCallback((e=>{const t=e.path;n((n=>n.some((e=>bt(e.path,t)))?n.map((n=>bt(n.path,t)?{...e,title:e?.title}:n)):n.concat(e)))}),[n]);return f.useEffect((()=>{n([]),i.forEach((e=>{r(e.value,e.schemaType).pipe(fe((t=>{var n;return{...e,title:null==(n=t.snapshot)?void 0:n.title}}))).subscribe(o).unsubscribe()}))}),[i,o,r]),t}function VA(e){const t=Vw(e),{t:n}=Z();return f.useMemo((()=>{var e;return{...t,value:{...t?.value||{},title:(null==(e=t?.value)?void 0:e.title)||n("preview.default.title-fallback")}}}),[t,n])}const QCe=33,Rtn=50;function Mtn(e){const{item:t,onPathSelect:n,selected:r,isFirst:i,renderMenuItemTitle:o}=e,{value:a}=VA({schemaType:t.schemaType,value:t.value}),{title:s}=a;return u.jsx(ne,{marginTop:i?void 0:1,children:u.jsx(wt,{mode:"bleed",onClick:()=>n(t.path),selected:r,title:s,padding:2,children:u.jsxs(U,{align:"center",gap:3,justify:"space-between",children:[u.jsx(U,{flex:1,children:o(a)}),r&&u.jsx(L,{size:1,children:u.jsx(na,{})})]})})})}function $tn(e){const{items:t,onPathSelect:n,selectedPath:r,collapsed:i=!1}=e,{t:o}=Z(),a=f.useCallback((e=>{const n=t[e];return bt(n.path,r)}),[t,r]),s=f.useCallback((e=>{const{title:t,media:n}=e;return i?u.jsxs(U,{align:"center",gap:1,children:[u.jsx(L,{size:1,muted:!0,children:"/"}),u.jsx(Ta,{title:t,media:n,layout:"inline"})]}):u.jsx(Ta,{title:t,media:n,layout:"inline"})}),[i]),l=f.useCallback((e=>{const i=bt(e.path,r),o=bt(e.path,t[0].path);return u.jsx(Mtn,{isFirst:o,item:e,onPathSelect:n,renderMenuItemTitle:s,selected:i})}),[s,t,n,r]);return u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:o("tree-editing-dialog.breadcrumbs.menu"),autoFocus:Tm?void 0:"input","data-testid":"tree-editing-breadcrumbs-menu",getItemDisabled:a,itemHeight:QCe,items:t,overscan:5,padding:1,renderItem:l})}const Ptn=["bottom-start"],Ftn=$(U)``,Ltn=$(ae)`
  min-height: max-content;
`,Ntn=$(U)((e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `})),Btn=$(Uu)((()=>de`
    [data-ui='Popover__wrapper'] {
      width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `));function Aee(e){const{button:t,collapsed:n=!1,items:r,menuTitle:i,onPathSelect:o,parentElement:a,selectedPath:s}=e,[l,c]=f.useState(!1),[d,p]=f.useState(null),[h,m]=f.useState(null),g=f.useCallback((()=>{l&&(c(!1),h?.focus())}),[h,l]),y=f.useCallback((e=>{const{key:t,shiftKey:n}=e;(n&&"Tab"===t||"Escape"===t||"Tab"===t)&&g()}),[g]),v=f.useCallback((()=>{c(!l)}),[l]),b=f.useCallback((e=>{o(e),c(!1)}),[o]);Fn((()=>c(!1)),[d,h]);const x=u.jsx(Ftn,{direction:"column",flex:1,forwardedAs:fl,height:"fill",returnFocus:!0,children:u.jsxs(Ntn,{$itemHeight:QCe,$maxDisplayedItems:Rtn,direction:"column",overflow:"hidden",children:[i&&u.jsx(Ltn,{borderBottom:!0,padding:3,sizing:"border",children:u.jsx(N,{paddingX:1,sizing:"border",children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",weight:"semibold",title:i,children:i})})}),u.jsx($tn,{collapsed:n,items:r,onPathSelect:b,selectedPath:s})]})}),w=f.cloneElement(t,{"aria-expanded":l,"aria-haspopup":"true","data-testid":"tree-editing-breadcrumb-menu-button",id:"tree-breadcrumb-menu-button",onClick:v,ref:m,selected:l});return u.jsx(Btn,{animate:!0,constrainSize:!0,content:x,"data-testid":"tree-editing-breadcrumbs-menu-popover",fallbackPlacements:Ptn,onKeyDown:y,open:l,placement:"bottom-start",portal:!0,ref:p,referenceBoundary:a,children:w})}const jee=5,Iee=[],Dee="/",e2e=$(wt)((({theme:e})=>{var t,n;const{bold:r}=(null==(n=null==(t=Ae(e))?void 0:t.font.text)?void 0:n.weights)||{};return de`
    max-height: 1rem;
    overflow: hidden;
    min-width: 2ch;

    &[data-active='true'] {
      [data-ui='Text']:first-child {
        font-weight: ${r};
      }
    }
  `})),Vtn=$(L)`
  overflow: hidden;
  padding: 8px 0;
`,ztn=f.forwardRef((function(e,t){var n;const{item:r,onPathSelect:i,isSelected:o,...a}=e,{value:s}=VA({schemaType:r.schemaType,value:r.value}),l=s.title,c=r.children&&(null==(n=r.children)?void 0:n.length)>1;return u.jsx(e2e,{"data-active":o?"true":"false",mode:"bleed",onClick:()=>i(r.path),padding:1,ref:t,space:2,title:l,...a,children:u.jsxs(U,{flex:1,align:"center",justify:"flex-start",gap:1,overflow:"hidden",children:[u.jsx(Ta,{title:l,media:s.media,layout:"inline"}),c&&u.jsx(L,{size:0,children:u.jsx(ci,{})})]})})})),Oee=f.forwardRef((function(e,t){const{children:n}=e;return u.jsx(N,{ref:t,children:u.jsx(L,{size:1,children:n})})}));function Utn(e){const{items:t=Iee,onPathSelect:n,selectedPath:r}=e,[i,o]=f.useState(null),a=zx(i),s=f.useMemo((()=>{const e=a?.border.width;return e?e<500?3:e<700?4:5:5}),[a?.border.width]),l=f.useMemo((()=>{const e=t.length,n=Math.ceil(s/2),r=Math.floor(s/2);return s&&e>s?[...t.slice(0,n-1),t.slice(n-1,e-r),...t.slice(e-r)]:t}),[t,s]),c=f.useMemo((()=>l.map(((e,t)=>{var o;const a=`${e}-${t}`,s=t<l.length-1;if(Array.isArray(e))return u.jsxs(f.Fragment,{children:[u.jsx(Aee,{button:u.jsx(e2e,{mode:"bleed",padding:1,children:u.jsx(U,{overflow:"hidden",children:u.jsx(Vtn,{size:1,weight:"medium",textOverflow:"ellipsis",children:"..."})})}),collapsed:!0,items:e,onPathSelect:n,parentElement:i,selectedPath:r}),s&&u.jsx(Oee,{children:"/"})]},a);const c=e.children&&(null==(o=e.children)?void 0:o.length)>1,d=bt(e.path,r),p=u.jsx(ztn,{item:e,isSelected:d,onPathSelect:n});return u.jsxs(f.Fragment,{children:[!c&&p,c&&u.jsx(Aee,{button:p,items:e.children||Iee,onPathSelect:n,menuTitle:$l(e.schemaType),parentElement:i,selectedPath:e.path}),s&&u.jsx(Oee,{children:"/"})]},a)}))),[l,r,n,i]);return u.jsx(U,{align:"center",as:"ol",gap:2,ref:o,children:c})}const t2e=$(U).attrs({padding:2,align:"center",sizing:"border"})`
  height: 40px;
  min-height: 40px;
`,n2e=51,Htn=10;function Wtn(e){const{item:t,onPathSelect:n,isFirst:r}=e,{value:i}=VA({value:t.value,schemaType:t.schemaType}),o=i.title;return u.jsx(ne,{marginTop:r?void 0:1,children:u.jsx(wt,{mode:"bleed",onClick:()=>n(t.path),children:u.jsxs(ne,{space:2,flex:1,children:[u.jsx(Ta,{title:o,media:i.media,layout:"inline"}),u.jsx(N,{children:u.jsx(L,{muted:!0,size:0,textOverflow:"ellipsis",children:$l(t.parentSchemaType)})})]})})})}function Gtn(e){const{items:t,onPathSelect:n,textInputElement:r}=e,{t:i}=Z(),o=f.useCallback((e=>{const r=bt(e.path,t[0].path);return u.jsx(Wtn,{isFirst:r,item:e,onPathSelect:n})}),[t,n]);return u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:i("tree-editing-dialog.search.menu-label"),autoFocus:Tm?void 0:"input",inputElement:r,itemHeight:n2e,items:t,overscan:5,padding:1,renderItem:o})}const Ytn=["bottom-start"],qtn=$(U)``,Ktn=$(U)((e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
    width: 100%;
  `})),Ztn=$(Uu)((()=>de`
    [data-ui='Popover__wrapper'] {
      min-width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `)),Xtn=$(Vr)`
  border-radius: inherit;
`;function Jtn(e){const{items:t,onPathSelect:n}=e,[r,i]=f.useState(null),[o,a]=f.useState(""),{t:s}=Z(),l=o.length>0,c=Otn(t),d=f.useMemo((()=>Dtn(c,o)),[o,c]),p=f.useCallback((()=>a("")),[]),h=f.useCallback((e=>{a(e.target.value)}),[]),m=f.useCallback((e=>{n(e),p()}),[n,p]),g=f.useCallback((e=>{"Escape"===e.key&&(p(),r?.focus())}),[p,r]),y=f.useCallback((()=>{requestAnimationFrame((()=>{p()}))}),[p]),v=f.useMemo((()=>0===d.length?u.jsx(ae,{children:u.jsx(ne,{padding:4,sizing:"border",space:3,children:u.jsx(L,{align:"center",muted:!0,size:1,weight:"medium",children:s("tree-editing-dialog.search.no-results-title")})})}):u.jsx(qtn,{direction:"column",flex:1,height:"fill",children:u.jsx(ae,{children:u.jsx(Ktn,{$itemHeight:n2e,$maxDisplayedItems:10,direction:"column",overflow:"hidden",children:u.jsx(Gtn,{items:d,onPathSelect:m,textInputElement:r})})})})),[d,m,r,s]);return u.jsx(Ztn,{animate:!0,constrainSize:!0,content:v,fallbackPlacements:Ytn,matchReferenceWidth:!0,open:l,placement:"bottom-start",portal:!0,children:u.jsx(ae,{radius:3,children:u.jsx(Xtn,{fontSize:1,icon:ea,onBlur:y,onChange:h,onKeyDown:g,placeholder:s("tree-editing-dialog.search-placeholder"),ref:i,value:o})})})}function UP(e,t){return JSON.stringify(e)===JSON.stringify(t)}function ux(e){return 0!==e.length&&e[e.length-1].hasOwnProperty("_key")}function Ree(e,t){return e.every(((e,n)=>UP(t[n],e)))&&ux(e)}function Mee(e){return ux(e)?e:e.slice(0,e.length-1)}function r2e(e){return e.some((e=>e.children&&e.children.length>0))}function i2e(e,t){var n;return(null==(n=e.children)?void 0:n.some((e=>bt(e.path,t)||i2e(e,t))))||!1}const Qtn={block:"center",behavior:"smooth",scrollMode:"if-needed"},enn=$(Aa)`
  transition: transform 0.2s ease;

  &[data-expanded='true'] {
    transform: rotate(90deg);
  }
`,tnn=$.div`
  min-width: 23px;
  max-width: 23px;
`,nnn=$(ne)((({theme:e})=>{var t,n;const r=(null==(t=Ae(e))?void 0:t.space[3])||0,i=null==(n=Ae(e))?void 0:n.color._dark;return de`
    margin-left: ${r+2}px;
    box-sizing: border-box;
    border-left: 1px solid ${et.gray[i?900:200].hex};
  `})),rnn=$(U)((({theme:e})=>{var t,n,r;const i=null==(t=Ae(e))?void 0:t.color.button.bleed.default.hovered.bg,o=null==(n=Ae(e))?void 0:n.color.button.bleed.default.pressed.bg;return de`
    padding: 2px;
    padding-right: 3px;
    box-sizing: border-box;
    transition: inherit;

    &[data-selected='true'] {
      background-color: ${null==(r=Ae(e))?void 0:r.color.button.bleed.default.selected.bg};
      border-radius: ${e.sanity.radius[2]}px;
    }

    [data-ui='ExpandButton'],
    [data-ui='NavigateButton'] {
      transition: inherit;
      background-color: inherit;
      box-shadow: unset;
    }

    @media (hover: hover) {
      &:hover {
        &[data-selected='false'] {
          background-color: ${i};
          border-radius: ${Ae(e).radius[2]}px;

          [data-ui='ExpandButton']:hover {
            background-color: ${o};
          }
        }

        [data-ui='ExpandButton']:hover {
          background-color: ${i};
        }
      }
    }
  `}));function a2e(e){const{item:t,onPathSelect:n,selectedPath:r,siblingHasChildren:i}=e,{children:o}=t,a=o&&o.length>0,[s,l]=f.useState(!1),{t:c}=x1(),[d,p]=f.useState(null),h=f.useMemo((()=>bt(t.path,r)),[t.path,r]),m=f.useMemo((()=>!ux(t.path)),[t.path]),{value:g}=VA({schemaType:t.schemaType,value:t.value}),y=f.useMemo((()=>m?$l(t.schemaType):g.title),[m,t.schemaType,g.title]),v=f.useCallback((()=>n(t.path)),[t.path,n]),b=f.useCallback((()=>l((e=>!e))),[]),x=f.useMemo((()=>a?u.jsx(enn,{"data-expanded":s?"true":"false"}):null),[a,s]);return f.useEffect((()=>{i2e(t,r)&&l(!0)}),[t,r]),f.useEffect((()=>{!d||!h||$p(d,Qtn)}),[d,h]),u.jsxs(ne,{"aria-expanded":s,as:"li",ref:p,role:"treeitem",space:1,children:[u.jsx(ae,{"data-as":"button",radius:2,tone:"inherit",children:u.jsxs(rnn,{align:"center","data-selected":h,"data-testid":"side-menu-item",children:[x&&u.jsx(wt,{"aria-label":`${c(s?"tree-editing-dialog.sidebar.action.collapse":"tree-editing-dialog.sidebar.action.expand")} ${y}`,"data-ui":"ExpandButton",mode:"bleed",onClick:b,padding:2,children:u.jsx(L,{size:0,muted:!0,children:x})}),!x&&i&&u.jsx(tnn,{}),u.jsx(ne,{flex:1,children:u.jsx(wt,{"data-ui":"NavigateButton",mode:"bleed",onClick:v,padding:1,title:y,children:u.jsx(U,{align:"center",children:u.jsx(Ta,{layout:"inline",media:m?u.jsx(dk,{}):g.media,title:y})})})})]})}),s&&a&&u.jsx(nnn,{flex:1,forwardedAs:"ul",paddingLeft:1,role:"group",space:1,children:o.map((e=>{const t=r2e(o);return u.jsx(a2e,{item:e,onPathSelect:n,selectedPath:r,siblingHasChildren:t},_n(e.path))}))})]},_n(t.path))}const inn=f.memo((function(e){const{items:t,onPathSelect:n,selectedPath:r}=e;return u.jsx(ne,{as:"ul",role:"tree",space:2,"data-testid":"sidebar-tree-list",children:t.map((e=>{const i=r2e(t);return u.jsx(a2e,{item:e,onPathSelect:n,selectedPath:r,siblingHasChildren:i},_n(e.path))}))})})),ann=$.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  ${({position:e})=>"right"===e?de`
          right: -4px;
        `:de`
          left: -4px;
        `}

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    ${({position:e})=>"right"===e?de`
            right: 4px;
          `:de`
            left: 4px;
          `}
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    ${({position:e})=>"right"===e?de`
            right: 0px;
          `:de`
            left: 0px;
          `}
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function onn(e){const{onResize:t,onResizeStart:n,position:r}=e,i=f.useRef(0),o=f.useCallback((e=>{e.preventDefault(),i.current=e.pageX,n();const r=e=>{e.preventDefault(),t(i.current-e.pageX)},o=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",o)}),[t,n]);return u.jsxs(ann,{onMouseDown:o,position:r,children:[u.jsx("span",{}),u.jsx("span",{})]})}const snn=$(N)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function lnn(e){const{as:t,children:n,minWidth:r,maxWidth:i,initialWidth:o,...a}=e,[s,l]=f.useState(null),c=f.useRef(),[d,p]=f.useState(o),h=f.useCallback((()=>{c.current=s?.offsetWidth}),[s]),m=f.useCallback((e=>{const t=c.current;t&&p(Math.min(Math.max(t-e,r),i))}),[r,i]),g=f.useMemo((()=>d?{flex:"none",width:d}:{minWidth:r,maxWidth:i}),[r,i,d]);return u.jsxs(snn,{as:t,...a,ref:l,style:g,children:[n,u.jsx(onn,{onResize:m,onResizeStart:h,position:"right"})]})}const unn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},cnn=$(ae)`
  flex-direction: column;
`,dnn=$(di(ne))`
  overflow-x: hidden;
`,fnn=$(ne)`
  min-height: max-content;
`,hnn=f.memo((function(e){const{items:t,onPathSelect:n,selectedPath:r,onOpenToggle:i,open:o,title:a}=e,{t:s}=x1(),l=f.useMemo((()=>({content:s(o?"tree-editing-dialog.sidebar.action.close":"tree-editing-dialog.sidebar.action.open")})),[o,s]),c=u.jsxs(cnn,{borderRight:!o,"data-testid":"tree-editing-sidebar","data-ui":"SidebarCard",display:"flex",forwardedAs:"aside",height:"fill",overflow:"hidden",tone:"transparent",children:[u.jsxs(t2e,{align:"center",gap:2,children:[u.jsx(me,{"data-testid":"tree-editing-sidebar-toggle",icon:FF,mode:"bleed",onClick:i,selected:o,tooltipProps:l}),o&&u.jsx(N,{flex:1,children:u.jsx(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:a})})]}),o&&u.jsx(fnn,{padding:2,sizing:"border",children:u.jsx(Jtn,{items:t,onPathSelect:n})}),u.jsx(xs,{mode:"wait",children:o&&u.jsx(dnn,{animate:"animate",exit:"exit",initial:"initial",overflow:"auto",padding:3,sizing:"border",variants:unn,children:u.jsx(inn,{items:t,onPathSelect:n,selectedPath:r})})})]});return o?u.jsx(lnn,{maxWidth:450,minWidth:150,initialWidth:250,children:c}):c})),pnn=[0,0,1,0],mnn=f.memo((function(e){const{breadcrumbs:t,children:n,footer:r,items:i,onPathSelect:o,selectedPath:a,setScrollElement:s,title:l}=e,c=f.useRef(null),d=f.useRef(null),[p,h]=f.useState(!1),m=f.useCallback((()=>h((e=>!e))),[]),g=f.useCallback((e=>{c.current=e,s?.(e)}),[s]);return u.jsxs(U,{height:"fill",overflow:"hidden",children:[u.jsx(hnn,{items:i,onOpenToggle:m,onPathSelect:o,open:p,selectedPath:a,title:l}),u.jsxs(U,{direction:"column",flex:1,overflow:"hidden",children:[u.jsx(t2e,{align:"center",sizing:"border",gap:2,paddingX:4,children:u.jsx(U,{flex:1,children:u.jsx(Utn,{items:t,onPathSelect:o,selectedPath:a})})}),u.jsx(ae,{flex:1,id:"tree-editing-form",overflow:"auto",ref:g,children:n&&u.jsx(W0,{containerElement:d,scrollElement:c.current,children:u.jsx(Xr,{width:1,ref:d,paddingX:5,paddingY:5,sizing:"border",children:u.jsx(tv,{margins:pnn,children:n})})})}),r]})]})}));function o2e(e){const t=e.findIndex((e=>e?.hasOwnProperty("_key")));return-1===t?e:e.slice(0,t)}function q9(e,t){var n;if(!t)return;const r=Qs(t),i=r[0];if(i&&po(e)){const t=null==(n=e?.fields)?void 0:n.find((e=>e.name===i));if(t){const e=_n(r.slice(1));return e?q9(t.type,e):t}}}function K9(e,t){const n=Bo(t);return"object"===n&&1===e.of.length?e.of[0]:e.of.find((e=>e.name===n))}function gnn(e,t){const n=Bo(t);return e?.of.find((e=>e.name===n||e.jsonType===n))}function $ee(e){const{arraySchemaType:t,arrayValue:n,itemPath:r,parentPath:i}=e,o=n.map((e=>{const n=[...i,{_key:e._key}],r=K9(t,e);return Iu(r)||!r?null:{children:an,parentSchemaType:t,path:n,schemaType:r,value:e}})).filter(Boolean),a=o.find((e=>bt(e.path,r)));return{children:o,parentSchemaType:t,path:r,schemaType:a.schemaType,value:a.value}}function vnn(e){var t;const{arraySchemaType:n,arrayValue:r,documentValue:i,openPath:o,rootPath:a,recursive:s}=e;let l=[];const u=[],c=[];return!1===(null==(t=n.options)?void 0:t.treeEditing)||r.forEach((e=>{var t;const d=[...a,{_key:e._key}],f=K9(n,e);if(!f)return;const p=f?.fields||[],h=[];if(Iu(f)||!1===(null==(t=f?.options)?void 0:t.treeEditing))return;if(Ree(d,o)){const e=$ee({arraySchemaType:n,arrayValue:r,itemPath:d,parentPath:a});c.push(e)}p.forEach((e=>{var t,n;const r=[...d,e.name],a=Vo(i,r),u=lE(e?.type),p=fo(e.type)&&e.type.of.some((e=>"block"===e.name));if(!1!==(null==(n=null==(t=e?.type)?void 0:t.options)?void 0:n.treeEditing)&&(UP(r,o)&&(l=Mee(r)),!u&&!zie(e.type)&&fo(e.type)&&a&&!p)){if(Ree(r,o)){const t=$ee({arraySchemaType:e.type,arrayValue:a,itemPath:r,parentPath:d});c.push(t)}const t=s({schemaType:e,documentValue:i,path:r,initial:!1});h.push({children:t?.menuItems||an,parentSchemaType:f,path:r,schemaType:e,value:a})}}));const m=lE(f?.type);UP(d,o)&&(l=Mee(d)),m||u.push({children:h,parentSchemaType:n,path:d,schemaType:f,value:e})})),{breadcrumbs:c,menuItems:u,relativePath:l,rootTitle:""}}const QS=[],HP={breadcrumbs:QS,menuItems:QS,relativePath:QS,rootTitle:""};function ynn(e){var t;const{openPath:n}=e,r=[],i=[];let o=[];const a=o2e(n),s=q9(e.schemaType,_n(a)),l=$l(s?.type);if(!xx(s?.type)||!1===(null==(t=s?.options)?void 0:t.treeEditing))return HP;return function e(t){const{schemaType:a,path:s,initial:l,documentValue:u}=t,c=Vo(u,s),d=Array.isArray(c)?c:QS,f=a?.type,p=vnn({arraySchemaType:f,arrayValue:d,documentValue:u,openPath:n,recursive:e,rootPath:s});return p.relativePath.length>0&&(o=p.relativePath),i.unshift(...p.breadcrumbs),l&&r.unshift(...p.menuItems),p}({initial:!0,schemaType:s,documentValue:e.documentValue,path:a}),{breadcrumbs:i,menuItems:r,relativePath:o,rootTitle:l}}function WP(e,t){if(0===t.length)return!1;const n=q9(e,_n(o2e(t)));if(xx(n?.type)){const e=n.type.of.every((e=>e?.hasOwnProperty("to"))),t=n.type.of.some((e=>"block"===e?.name));return!(e||t)}return!1}const bnn=[],xnn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},wnn={duration:.2,ease:"easeInOut"};function Cnn(e){return e.renderDefault(e)}const Snn=$(Ak)((({theme:e})=>{var t;return de`
    [data-ui='DialogCard'] {
      padding: ${null==(t=Ae(e))?void 0:t.space[4]}px;
      box-sizing: border-box;

      // Make the dialog full height
      & > [data-ui='Card']:first-child {
        flex: 1;
      }
    }
  `})),Enn=di(U);function _nn(e){const{onPathFocus:t,onPathOpen:n,openPath:r,rootInputProps:i,schemaType:o}=e,{value:a}=i,{t:s}=Z(),[l,c]=f.useState(HP),[d,p]=f.useState(null),h=f.useRef(void 0),m=f.useRef(void 0),g=f.useCallback((()=>{d?.scrollTo(0,0)}),[d]),y=f.useCallback((e=>{const t=ynn(e);if(bt(t,l))return;const n=t.relativePath,r=0!==n.length&&ux(n)?n:l.relativePath;c({...t,relativePath:r})}),[l]),v=f.useMemo((()=>nm(y,1e3)),[y]),b=f.useCallback((()=>{v.cancel(),c(HP),n(bnn),m.current=void 0,h.current=void 0}),[v,n]),x=f.useMemo((()=>WP(o,r)),[o,r]),w=f.useCallback((e=>{v.cancel(),n(e),ux(e)||t(e)}),[v,t,n]);return f.useEffect((()=>{if(!WP(o,r))return;const e=!bt(a,m.current),t=!bt(r,h.current);return void 0===m.current&&void 0===h.current||t?(y({schemaType:o,documentValue:a,openPath:r}),void(h.current=r)):e||t?(m.current=a,h.current=r,v({schemaType:o,documentValue:a,openPath:r}),()=>{v.cancel()}):void 0}),[o,a,v,r,y]),x&&0!==l.relativePath.length?u.jsx(Snn,{__unstable_hideCloseButton:!0,autoFocus:!1,"data-testid":"tree-editing-dialog",id:"tree-editing-dialog",onClickOutside:b,onClose:b,padding:0,width:3,children:u.jsx(mnn,{breadcrumbs:l.breadcrumbs,items:l.menuItems,onPathSelect:w,selectedPath:l.relativePath,title:l.rootTitle,setScrollElement:p,footer:u.jsx(ae,{borderTop:!0,children:u.jsx(U,{align:"center",justify:"flex-end",paddingX:3,paddingY:2,sizing:"border",children:u.jsx(wt,{"data-testid":"tree-editing-done",text:s("tree-editing-dialog.sidebar.action.done"),onClick:b})})}),children:u.jsx(xs,{initial:!1,mode:"wait",onExitComplete:g,children:u.jsx(Enn,{animate:"animate","data-testid":"tree-editing-dialog-content",direction:"column",exit:"exit",height:"fill",initial:"initial",overflow:"hidden",padding:1,sizing:"border",transition:wnn,variants:xnn,children:u.jsx(R9,{...i,relativePath:l.relativePath,renderDefault:Cnn})},_n(l.relativePath))})})}):null}function zA({children:e,...t}){const n=f.useContext(oS),{unstable_sources:r}=jr();if("source"in t){const{source:n}=t;return u.jsx(oS.Provider,{value:n,children:e})}if("name"in t){const{name:i}=t,o=r.find((e=>e.name===i));if(!o)throw new Error(`Could not find source with name \`${i}\` in current workspace`);return n===o?u.jsx(u.Fragment,{children:e}):u.jsx(oS.Provider,{value:o,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Sn(){const e=f.useContext(oS);if(!e)throw new Error("Could not find `source` context");return e}function UA(){return f.useContext(lae)}function HA(e){var t,n;const{children:r,legacyEditing:i}=e,{features:o}=Sn(),a=UA(),s=f.useMemo((()=>{var e,t;const n=a.legacyEditing||i;return{enabled:!0===(null==(t=null==(e=o?.beta)?void 0:e.treeArrayEditing)?void 0:t.enabled),legacyEditing:!!n}}),[null==(n=null==(t=o?.beta)?void 0:t.treeArrayEditing)?void 0:n.enabled,i,a.legacyEditing]);return u.jsx(lae.Provider,{value:s,children:r})}function Z9(e){var t,n;const{t:r}=Z(),{onInsert:i,schemaTypes:o}=e,a=BP({insertMenuProps:{...e.insertMenuOptions,schemaTypes:null!=(t=e.schemaTypes)?t:[],onSelect:t=>{e.onInsert("before",t)}},popoverProps:{referenceElement:e.referenceElement,placement:"top-end",fallbackPlacements:["bottom-end"]}}),s=BP({insertMenuProps:{...e.insertMenuOptions,schemaTypes:null!=(n=e.schemaTypes)?n:[],onSelect:t=>{e.onInsert("after",t)}},popoverProps:{referenceElement:e.referenceElement,placement:"bottom-end",fallbackPlacements:["top-end"]}}),l=f.useCallback((()=>{o&&(1===o.length?i("before",o[0]):a.send({type:"toggle"}))}),[a,i,o]),c=f.useCallback((()=>{o&&(1===o.length?i("after",o[0]):s.send({type:"toggle"}))}),[s,i,o]),d=f.useMemo((()=>o?u.jsx(qe,{text:1===o.length?r("inputs.array.action.add-before"):`${r("inputs.array.action.add-before")}...`,icon:ok,onClick:l}):null),[l,r,o]),p=f.useMemo((()=>o?u.jsx(qe,{text:1===o.length?r("inputs.array.action.add-after"):`${r("inputs.array.action.add-after")}...`,icon:sk,onClick:c}):null),[c,r,o]);return{insertBefore:{...a,menuItem:d},insertAfter:{...s,menuItem:p}}}const knn=$(ae)`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function Tnn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const Ann={portal:!0,tone:"default"};function jnn(e){var t,n,r,i,o,a,s,l;const{schemaType:c,parentSchemaType:d,path:p,readOnly:h,onRemove:m,value:g,open:y,onInsert:v,onFocus:b,onOpen:x,onClose:w,changed:C,focused:k,children:j,inputProps:{renderPreview:S}}=e,{t:E}=Z(),_=UA(),A=!1===(null==(t=d?.options)?void 0:t.treeEditing),T=A||_.legacyEditing,D=y&&(!_.enabled||T),M=!1!==(null==(n=d.options)?void 0:n.sortable),I=d.of,O=f.useRef(null);$A(O,y),Ja(k,((e,t)=>{var n;!e&&t&&O.current&&(null==(n=O.current)||n.focus())}));const P=g._resolvingInitialValue,R=f.useCallback((()=>{v({items:[{...g,_key:ox()}],position:"after"})}),[v,g]),F=f.useCallback(((e,t)=>{v({items:[rv(t)],position:e})}),[v]),L=ev(p,!0),$=f.useMemo((()=>0===L.length?null:u.jsx(Pw,{presence:L,maxAvatars:1})),[L]),B=b9(p,!0),V=f.useMemo((()=>0===B.length?null:u.jsx(N,{paddingX:1,paddingY:3,children:u.jsx(nv,{validation:B,__unstable_showSummary:!0})})),[B]),z=B.some((e=>"error"===e.level)),U=B.some((e=>"warning"===e.level)),[H,W]=f.useState(null),{insertBefore:q,insertAfter:G}=Z9({schemaTypes:I,insertMenuOptions:null==(r=d.options)?void 0:r.insertMenu,onInsert:F,referenceElement:H}),Y=f.useMemo((()=>h?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:W,onOpen:()=>{q.send({type:"close"}),G.send({type:"close"})},button:u.jsx(ai,{selected:!(!q.state.open&&!G.state.open)||void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(At,{children:[u.jsx(qe,{text:E("inputs.array.action.remove"),tone:"critical",icon:Br,onClick:m}),u.jsx(qe,{text:E("inputs.array.action.duplicate"),icon:Ll,onClick:R}),q.menuItem,G.menuItem]}),popover:Ann}),q.popover,G.popover]})),[q,G,R,m,e.inputId,h,E]),K=Tnn({readOnly:h,hasErrors:z,hasWarnings:U}),X=u.jsx(WCe,{menu:Y,presence:$,validation:V,tone:K,radius:2,border:!0,dragHandle:M,selected:D,readOnly:h,children:u.jsxs(knn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:P,onClick:x,ref:O,onFocus:b,__unstable_focusRing:!0,children:[S({schemaType:c,value:g,layout:"media",withBorder:!1,withShadow:!1}),P&&u.jsx(wn,{fill:!0})]})}),J=$l(c);return u.jsxs(HA,{legacyEditing:A,children:[u.jsx(ka,{path:p,isChanged:C,hasFocus:!!k,children:X}),D&&u.jsx(JCe,{header:E(h?"inputs.array.action.view":"inputs.array.action.edit",{itemTypeTitle:J}),type:(null==(o=null==(i=d?.options)?void 0:i.modal)?void 0:o.type)||"dialog",width:null!=(l=null==(s=null==(a=d?.options)?void 0:a.modal)?void 0:s.width)?l:1,id:g._key,onClose:w,autofocus:k,legacy_referenceElement:O.current,children:j})]})}const Inn=[];function Dnn(e){var t;const{arrayFunctions:n=H9,elementProps:r,members:i,onChange:o,onInsert:a,onItemMove:s,onUpload:l,readOnly:c,renderAnnotation:d,renderBlock:p,renderField:h,renderInlineBlock:m,renderInput:g,renderPreview:y,resolveUploader:v,schemaType:b,value:x=Inn}=e,{t:w}=Z(),C=f.useCallback((e=>{a({items:[e],position:"before",referenceItem:0})}),[a]),k=f.useCallback((e=>{a({items:[e],position:"after",referenceItem:-1})}),[a]),j=!1!==(null==(t=b.options)?void 0:t.sortable),S=f.useCallback((({key:e,...t})=>u.jsx(jnn,{...t},e)),[]),E=f.useMemo((()=>i.map((e=>e.key))),[i]);return u.jsxs(ne,{space:2,children:[u.jsx(BA,{types:b.of,resolveUploader:v,onUpload:l,...r,tabIndex:0,children:u.jsxs(ne,{"data-ui":"ArrayInput__content",space:2,children:[0===i?.length&&u.jsx(ae,{padding:3,border:!0,radius:2,children:u.jsx(L,{align:"center",muted:!0,size:1,children:b.placeholder||u.jsx(u.Fragment,{children:w("inputs.array.no-items-label")})})}),i?.length>0&&u.jsx(ae,{border:!0,radius:1,children:u.jsx(V9,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:s,sortable:j,children:i.map((e=>u.jsxs(z9,{sortable:j,id:e.key,flex:1,children:["item"===e.kind&&u.jsx(k9,{member:e,renderAnnotation:d,renderBlock:p,renderInlineBlock:m,renderItem:S,renderField:h,renderInput:g,renderPreview:y}),"error"===e.kind&&u.jsx(Cen,{sortable:j,member:e,readOnly:c})]},e.key)))})})]})}),u.jsx(n,{onChange:o,onItemAppend:k,onItemPrepend:C,onValueCreate:rv,readOnly:c,schemaType:b,value:x})]})}const Onn=$(ae)`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .${B9} & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`;function WA(e){const{validation:t,selected:n,tone:r,presence:i,focused:o,children:a,dragHandle:s,menu:l,footer:c,readOnly:d}=e,p=f.useRef(null);return Ja(o,((e,t)=>{var n;!e&&t&&(null==(n=p.current)||n.focus())})),u.jsx(Onn,{ref:p,selected:n,"aria-selected":n,radius:1,padding:1,tone:r,children:u.jsxs(ne,{space:1,children:[u.jsxs(U,{align:"center",gap:1,children:[s&&u.jsx(HCe,{paddingY:3,readOnly:d}),u.jsx(N,{flex:1,children:a}),(i||t||l)&&u.jsxs(U,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[i&&u.jsx(N,{flex:"none",children:i}),t&&u.jsx(N,{flex:"none",children:t}),l]})]}),c]})})}const Rnn=$(ae)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function s2e(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=f.useState(!1),[s,l]=f.useState(null),{t:c}=Z();Fn((()=>a(!1)),[s]);const d=f.useCallback((e=>{("Escape"===e.key||"Tab"===e.key)&&a(!1)}),[]),p=f.useCallback((()=>{a((e=>!e))}),[]),h=Bo(t);return u.jsx(An,{open:o,ref:l,onKeyDown:d,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(Rnn,{margin:1,padding:3,onKeyDown:d,tabIndex:0,overflow:"auto",children:u.jsxs(ne,{space:4,children:[u.jsx(N,{children:u.jsx(L,{weight:"medium",children:c("inputs.array.error.type-is-incompatible-title")})}),u.jsx(L,{size:1,children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(N,{children:u.jsxs(L,{size:1,children:[u.jsx(_x,{})," ",c("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,weight:"medium",children:c("inputs.array.error.json-representation-description")}),u.jsx(ae,{padding:2,overflow:"auto",border:!0,children:u.jsx(ni,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(ae,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:p,onKeyDown:d,__unstable_focusRing:!0,...i,children:u.jsxs(U,{align:"center",children:[u.jsx(N,{marginRight:3,children:u.jsx(L,{children:u.jsx(Gs,{})})}),u.jsx(N,{flex:1,children:u.jsx(L,{size:1,textOverflow:"ellipsis",children:u.jsx(dt,{t:c,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}const Mnn={portal:!0,tone:"default"};function l2e(e){const{member:t,sortable:n,onRemove:r,readOnly:i}=e,o=f.useId(),{t:a}=Z();return u.jsx(N,{paddingX:1,children:u.jsx(WA,{dragHandle:n,readOnly:!!i,tone:"caution",menu:u.jsx(Gt,{button:u.jsx(ai,{}),id:`${o}-menuButton`,menu:u.jsx(At,{children:u.jsx(qe,{text:a("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Br,onClick:r})}),popover:Mnn}),children:"INVALID_ITEM_TYPE"===t.error.type?u.jsx(s2e,{value:t.error.value}):u.jsx("div",{children:a("inputs.array.error.unexpected-error",{error:t.error.type})})})})}function $nn(e,t){const n=f.useRef(e),r=n.current,i=t(r,e);return f.useEffect((()=>{i||(n.current=e)})),i?r:e}function Pnn(){const e=f.useContext(tae);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}const Fnn=[];function Lnn(e){var t;const{arrayFunctions:n=H9,elementProps:r,members:i,onChange:o,onInsert:a,onItemMove:s,onUpload:l,focusPath:c,readOnly:d,renderAnnotation:p,renderBlock:h,renderField:m,renderInlineBlock:g,renderInput:y,renderItem:v,renderPreview:b,resolveUploader:x,schemaType:w,value:C=Fnn}=e,{t:k}=Z(),[j,S]=f.useState(null),{space:E}=p1().sanity,_=f.useCallback((e=>{a({items:[e],position:"before",referenceItem:0})}),[a]),A=f.useCallback((e=>{a({items:[e],position:"after",referenceItem:-1})}),[a]),T=$nn(f.useMemo((()=>i.map((e=>e.key))),[i]),ed),{scrollElement:D,containerElement:M}=Pnn(),I=f.useRef(null),O=f.useMemo((()=>Vn(c[0])?c[0]._key:c[0]),[c]),N=f.useCallback((e=>{const t={...e};if(null!==j&&(t.startIndex=Math.min(e.startIndex,j),t.endIndex=Math.max(e.endIndex,j)),O){const e=T.findIndex((e=>e===O));-1!==e&&(t.startIndex=Math.min(t.startIndex,e),t.endIndex=Math.max(t.endIndex,e))}return Dfe(t)}),[j,O,T]),P=f.useCallback(((e,t)=>{if(!e.scrollElement)return;const n=e.scrollElement,r=()=>{var e,r,i,o;const a=null!=(r=null==(e=M.current)?void 0:e.getBoundingClientRect().top)?r:0,s=null!=(o=null==(i=I.current)?void 0:i.getBoundingClientRect().top)?o:0,l=Math.floor(s-a);t(n.scrollTop-l)};return r(),e.scrollElement.addEventListener("scroll",r,{capture:!1,passive:!0}),()=>{n.removeEventListener("scroll",r)}}),[M]),R=f.useCallback((()=>53),[]),F=v6({count:i.length,estimateSize:R,getScrollElement:f.useCallback((()=>D),[D]),observeElementOffset:P,rangeExtractor:N,getItemKey:f.useCallback((e=>T[e]),[T]),scrollToFn:(e,t,n)=>{e!==n.scrollOffset&&Ofe(e,t,n)}}),$=F.getVirtualItems(),B=f.useCallback((e=>{var t,n;const{active:r}=e;S(null==(n=null==(t=r.data.current)?void 0:t.sortable)?void 0:n.index)}),[]),V=f.useCallback((()=>{S(null)}),[]),z=!1!==(null==(t=w.options)?void 0:t.sortable);return u.jsxs(ne,{space:2,ref:I,children:[u.jsx(BA,{$radius:2,types:w.of,resolveUploader:x,onUpload:l,...r,tabIndex:0,children:u.jsx(ne,{"data-ui":"ArrayInput__content",space:2,children:0===i.length?u.jsx(ae,{padding:3,border:!0,radius:2,children:u.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||u.jsx(u.Fragment,{children:k("inputs.array.no-items-label")})})}):u.jsx(ae,{border:!0,radius:2,style:{boxSizing:"border-box",height:`${F.getTotalSize()+$.length*E[1]+E[1]}px`,width:"100%",position:"relative"},children:u.jsx(V9,{axis:"y",gap:1,paddingY:1,items:T,onItemMove:s,onItemMoveStart:B,onItemMoveEnd:V,sortable:z,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${$[0].start}px)`},children:$.map((t=>{const n=i[t.index];return u.jsxs(z9,{ref:F.measureElement,sortable:z,"data-index":t.index,id:n.key,children:["item"===n.kind&&u.jsx(k9,{member:n,renderAnnotation:p,renderBlock:h,renderField:m,renderInlineBlock:g,renderInput:y,renderItem:v,renderPreview:b}),"error"===n.kind&&u.jsx(l2e,{readOnly:d,sortable:z,member:n,onRemove:()=>e.onItemRemove(n.key)})]},t.key)}))})})})}),u.jsx(n,{onChange:o,onItemAppend:A,onItemPrepend:_,onValueCreate:rv,readOnly:d,schemaType:w,value:C})]})}function u2e(e){var t;return"grid"===(null==(t=e.schemaType.options)?void 0:t.layout)?u.jsx(Dnn,{...e}):u.jsx(Lnn,{...e})}function s5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"!=typeof e&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length===t.length&&e.every(((n,r)=>s5(e[r],t[r])));const n=Object.keys(e),r=Object.keys(e);return n.length===r.length&&n.every((n=>s5(e[n],t[n])))}function Pee(e,t){return!!e&&e.some((e=>s5(e,t)))}function Nnn(e,t){return e.of.find((e=>e.name===Bo(t)))}const Bnn=[];function Vnn(e){var t,n;const{renderPreview:r,schemaType:i,onChange:o,onPathFocus:a,value:s=[],readOnly:l,elementProps:c,path:d,changed:p}=e,h=f.useMemo((()=>{var e;return((null==(e=i.options)?void 0:e.list)||Bnn).map(((e,t)=>Fl(e)?e:{...e,_key:`auto-generated-${t}`}))}),[null==(t=i.options)?void 0:t.list]),m=f.useCallback(((e,t)=>{if(!e&&Fl(t))return void o(ft([{_key:t._key}]));const n=h.filter((n=>s5(t,n)?e:Pee(s,n)));o(n.length>0?lt(n):ft())}),[o,h,s]),g=f.useCallback((e=>{a([e])}),[a]),y="grid"===(null==(n=i.options)?void 0:n.layout);return u.jsx(ka,{path:d,isChanged:p,hasFocus:!1,children:u.jsx(Rn,{gap:2,columns:y?Math.min(h.length,4):1,tabIndex:0,...c,children:h.map(((e,t)=>{const n=Nnn(i,e),o=Pee(s,e),a=!n;return u.jsxs(U,{align:"center",as:"label",muted:a,children:[u.jsx(Kf,{disabled:a,checked:o,onChange:t=>m(t.currentTarget.checked,e),onFocus:()=>g(t),readOnly:l}),u.jsx(N,{flex:1,marginLeft:2,children:n?r({layout:"default",schemaType:n,value:e}):u.jsx(ae,{tone:"caution",radius:2,children:u.jsx(nCe,{value:e,onFocus:()=>g(t)})})})]},t)}))})})}function znn(e){return!!(e&&"object"==typeof e&&"title"in e&&"value"in e)}function Unn(e){return e.map((e=>znn(e)?{title:e.title||Tn(String(e.value)),value:e.value}:{title:Tn(String(e)),value:e}))}function Hnn(e,t){return e.of.find((e=>e.name===Bo(t.value)))}function Wnn(e){var t,n;const{schemaType:r,onChange:i,value:o=[],readOnly:a,path:s,changed:l,onIndexFocus:c,elementProps:d}=e,p=f.useMemo((()=>{var e;return Unn((null==(e=r.options)?void 0:e.list)||[])}),[null==(t=r.options)?void 0:t.list]),h="grid"===(null==(n=r.options)?void 0:n.layout);return u.jsx(ka,{path:s,isChanged:l,hasFocus:!1,children:u.jsx(Rn,{gap:2,columns:h?Math.min(p.length,4):1,...d,children:p.map(((e,t)=>{const n=Hnn(r,e),s=o.includes(e.value),l=!n;return u.jsxs(U,{align:"center",as:"label",muted:l,children:[u.jsx(Kf,{disabled:l,checked:s,onChange:t=>((e,t)=>{const n=p.map((e=>e.value)).filter((n=>n===t?e:o.includes(n)));i(n.length>0?lt(n):ft())})(t.currentTarget.checked,e.value),onFocus:()=>c(t),readOnly:a}),u.jsx(N,{padding:2,children:u.jsx(L,{children:e.title})}),!n&&u.jsx(s2e,{value:e,onFocus:()=>c(t)})]},t)}))})})}function c2e(e){return HQt(e)?u.jsx(Vnn,{...e}):u.jsx(Wnn,{...e})}function Gnn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:o}=e,a=f.useId(),{t:s}=Z(),l=f.useCallback((e=>{o(i(e))}),[i,o]),c=f.useCallback((()=>{l(t.of[0])}),[t,l]),d=f.useMemo((()=>({constrainSize:!0,portal:!0})),[]),p=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return n?u.jsx(pt,{portal:!0,content:s("inputs.array.read-only-label"),children:u.jsx(Rn,{children:u.jsx(me,{icon:Qi,mode:"ghost",disabled:!0,size:"large",text:s(p)})})}):u.jsxs(Rn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[1===t.of.length?u.jsx(me,{icon:Qi,mode:"ghost",onClick:c,size:"large",text:s(p)}):u.jsx(Gt,{button:u.jsx(me,{icon:Qi,mode:"ghost",size:"large",text:s(p)}),id:a||"",menu:u.jsx(At,{children:t.of.map(((e,t)=>{var n,r;const i=Iu(e)&&1===(e.to||[]).length&&e.to[0].icon,o=e.icon||(null==(n=e.type)?void 0:n.icon)||i;return u.jsx(qe,{text:e.title||(null==(r=e.type)?void 0:r.name),onClick:()=>l(e),icon:o},t)}))}),popover:d}),r]})}const Ynn={portal:!0,tone:"default",placement:"left",constrainSize:!0},qnn=f.memo((function(e){const{types:t,onInsert:n}=e,{t:r}=Z();return u.jsxs(u.Fragment,{children:[u.jsx(Fee,{pos:"before",types:t,onInsert:n,text:r("inputs.array.action.add-before"),icon:ok}),u.jsx(Fee,{pos:"after",types:t,onInsert:n,text:r("inputs.array.action.add-after"),icon:sk})]})}));function Fee(e){const{types:t,onInsert:n,pos:r,text:i,icon:o}=e;return 1===t?.length?u.jsx(qe,{text:i,icon:o,onClick:()=>n(r,t[0])},r):u.jsx(i6,{text:i,popover:Ynn,children:t?.map((e=>u.jsx(qe,{icon:e.icon,text:e.title,onClick:()=>n(r,e)},e.name)))},r)}const Knn={portal:!0,tone:"default"},Znn=f.forwardRef((function(e,t){const{sortable:n,value:r,insertableTypes:i,onInsert:o,onRemove:a,readOnly:s,inputId:l,validation:c,children:d,presence:p,schemaType:h}=e,m=c.filter((e=>"error"===e.level)).length>0,g=c.filter((e=>"warning"===e.level)).length>0,y=f.useCallback(((e,t)=>{o({position:e,items:[T9(t)]})}),[o]),v=f.useCallback((()=>{r&&o({position:"after",items:[r]})}),[o,r]),b=f.useMemo((()=>m?"critical":g?"caution":void 0),[m,g]),{t:x}=Z(),w=u.jsx(Gt,{button:u.jsx(ai,{}),id:`${l}-menuButton`,popover:Knn,menu:u.jsxs(At,{children:[u.jsx(qe,{text:x("inputs.array.action.remove"),tone:"critical",icon:Br,onClick:a}),u.jsx(qe,{text:x("inputs.array.action.duplicate"),icon:Ll,onClick:v}),u.jsx(qnn,{types:i,onInsert:y})]})});return u.jsx(WA,{tone:b,readOnly:!!s,menu:!s&&w,dragHandle:n,presence:0===p.length?null:u.jsx(Pw,{presence:p,maxAvatars:1}),validation:c.length>0?u.jsx(N,{paddingX:1,paddingY:3,children:u.jsx(nv,{validation:c})}):null,children:u.jsx(U,{align:h?"flex-end":"center",ref:t,children:u.jsx(U,{align:"flex-end",flex:1,children:u.jsx(N,{flex:1,marginRight:2,children:d})})})})}));function Xnn({schemaType:e}){const{t:t}=Z();return u.jsx(ae,{padding:3,border:!0,radius:2,children:u.jsx(L,{align:"center",muted:!0,size:1,children:e.placeholder||t("inputs.array.no-items-label")})})}function Jnn(e,t,n){return Qnn(e,t,(e=>e===n))}function Qnn(e,t,n){let r=t-1,i=t;const o=e.length;for(;r>-1||i<o;){const t=e[i];if(i<o&&n(t,i))return i;const a=e[r];if(r>-1&&n(a,r))return r;r--,i++}return-1}var ern=Object.defineProperty,trn=(e,t,n)=>t in e?ern(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wh=(e,t,n)=>trn(e,"symbol"!=typeof t?t+"":t,n);class d2e extends f.PureComponent{constructor(e){super(e),wh(this,"_element",null),wh(this,"handleAppend",(e=>{const{value:t=[],onIndexFocus:n,onItemAppend:r}=this.props;r(e),n(t.length)})),wh(this,"handlePrepend",(e=>{const{onIndexFocus:t,value:n=[],onItemPrepend:r}=this.props;r(e),t(n.length)})),wh(this,"handleSortEnd",(e=>{const{onIndexFocus:t,onMoveItem:n,value:r}=this.props;r&&n(e),t(e.toIndex)})),wh(this,"handleItemMoveStart",(()=>{this.setState({disableTransition:!1})})),wh(this,"handleItemMoveEnd",(()=>{this.setState({disableTransition:!0})})),wh(this,"renderArrayItem",(e=>{var t;const{schemaType:n}=this.props,r=!1!==(null==(t=n.options)?void 0:t.sortable);return u.jsx(Znn,{...e,sortable:r,insertableTypes:n.of})})),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(e){var t;const{focusPath:n=[],value:r=[]}=e,{focusPath:i=[],value:o=[]}=this.props;if(n[0]===i[0]&&r.length!==o.length){const e=i[0],n=window.getSelection();if(!(n?.focusNode instanceof HTMLElement))return null;const r=null==(t=n.focusNode)?void 0:t.querySelector("input,textarea");return r instanceof HTMLInputElement?{prevFocusedIndex:e,restoreSelection:{text:n.toString(),start:r.selectionStart,end:r.selectionEnd,value:r.value}}:{}}return null}componentDidUpdate(e,t,n){var r;const{onIndexFocus:i}=this.props;if(null!=n&&n.restoreSelection&&e.value){const t=e.value[n.prevFocusedIndex],o=Jnn(this.props.value||[],n.prevFocusedIndex,t);if(-1===o)return;const a=null==(r=this._element)?void 0:r.querySelector(`[data-item-index='${o}'] input,textarea`);if(a instanceof HTMLInputElement){a.focus();try{a.setSelectionRange(n.restoreSelection.start,n.restoreSelection.end)}catch{}}i(o)}}render(){const{schemaType:e,members:t,readOnly:n,renderInput:r,onUpload:i,onItemRemove:o,resolveUploader:a,elementProps:s,arrayFunctions:l=Gnn,changed:c}=this.props,d=!n&&!1!==Yn(e,"options.sortable"),f=t.map((e=>({id:`${e.key}-${"item"===e.kind?e.item.value:"error"}`,member:e})));return u.jsxs(ne,{space:2,"data-testid":"array-primitives-input",children:[u.jsx(BA,{types:e.of,resolveUploader:a,onUpload:i,...s,tabIndex:0,children:u.jsx(ne,{space:1,children:0===f.length?u.jsx(Xnn,{schemaType:e}):u.jsx(ae,{padding:1,border:!0,children:u.jsx(V9,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:f.map((e=>e.id)),sortable:d,gap:1,children:f.map((({member:e,id:t},i)=>u.jsxs(z9,{id:t,sortable:d,disableTransition:this.state.disableTransition,children:["item"===e.kind&&u.jsx(ka,{path:e.item.path,isChanged:c,hasFocus:!1,children:u.jsx(EZt,{member:e,renderItem:this.renderArrayItem,renderInput:r})}),"error"===e.kind&&u.jsx(l2e,{readOnly:n,sortable:d,member:e,onRemove:()=>o(i)})]},e.key)))})})})}),u.jsx(l,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:T9,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}function nrn(e){return f.useMemo((()=>{var t;return Array.isArray(null==(t=e.schemaType.options)?void 0:t.list)}),[e.schemaType])?u.jsx(c2e,{...e}):WQt(e)?u.jsx(d2e,{...e}):u.jsx(u2e,{...e})}const rrn=$(ae)`
  line-height: 1;
`,irn=$(N)`
  align-self: center;
`,arn=$(N)`
  line-height: 0;
`;function orn(e){var t;const{t:n}=Z(),{id:r,value:i,schemaType:o,readOnly:a,elementProps:s,validation:l}=e,c="boolean"!=typeof i,d=i||!1,f="checkbox"===((null==(t=o.options)?void 0:t.layout)||"switch")?Kf:kk,p=a?"transparent":void 0,h=u.jsx(arn,{padding:3,children:u.jsx(f,{label:o.title,...s,checked:d,readOnly:a,indeterminate:c,style:{margin:-4}})});return u.jsx(rrn,{border:!0,"data-testid":"boolean-input",radius:2,tone:p,children:u.jsxs(U,{children:[a?u.jsx(pt,{content:n("inputs.boolean.disabled"),children:h}):h,u.jsx(N,{flex:1,paddingY:2,children:u.jsx(E9,{deprecated:o.deprecated,description:o.description,inputId:r,validation:l,title:o.title})}),u.jsx(irn,{paddingX:3,paddingY:1,children:u.jsx(dZt,{maxAvatars:1,position:"top"})})]})})}function srn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:o,selected:a}=e,s=f.useCallback((()=>{o(t)}),[t,o]);return u.jsx("div",{"aria-selected":a,"data-ui":"CalendarDay",children:u.jsx(ae,{"aria-label":t.toDateString(),"aria-pressed":a,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:s,padding:2,radius:2,selected:a,tone:i||a?"primary":"default",children:u.jsx(L,{muted:!a&&!r,size:1,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const lrn=hw(0,24),urn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],crn=[1,2,3,4,5,6],drn=(e,t)=>{const n=AT(e);return TT({start:n,end:IT(n)},{weekStartsOn:7===t?0:t})},frn=e=>e.map((e=>[e,...crn.map((t=>Fr(e,t)))])),hrn=e=>{const{weekInfo:t}=oh();return frn(drn(e,t.firstDay)).map((e=>({number:jT(e[0]),days:e})))};function prn(e){const{weekInfo:{firstDay:t}}=oh(),n=1===t?e.weekDayNames:[e.weekDayNames[6],...e.weekDayNames.slice(0,6)];return u.jsx(N,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Rn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[n.map((e=>u.jsx(N,{paddingY:2,children:u.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:e})},e))),hrn(e.date).map(((t,n)=>t.days.map(((t,r)=>{const i=e.focused&&Wa(t,e.focused),o=e.selected&&Wa(t,e.selected),a=Wa(t,new Date),s=e.focused&&DT(t,e.focused);return u.jsx(srn,{date:t,focused:i,isCurrentMonth:s,isToday:a,onSelect:e.onSelect,selected:o},`${n}-${r}`)}))))]})})}const Lee={dayPresets:!1,timePresets:!1},GA=f.forwardRef((function({onChange:e,onBlur:t,onKeyPress:n,value:r,...i},o){const[a,s]=f.useState(),l=f.useCallback((e=>{s(e.currentTarget.value)}),[]),c=f.useCallback((t=>{t.currentTarget.value!==`${r}`&&e&&e(t),s(void 0)}),[e,r]),d=f.useCallback((e=>{c(e),t&&t(e)}),[c,t]),p=f.useCallback((e=>{"Enter"===e.key&&c(e),n&&n(e)}),[c,n]);return u.jsx(Vr,{...i,"data-testid":"date-input",ref:o,value:void 0===a?r:a,onChange:l,onBlur:d,onKeyPress:p})})),mrn=e=>{const{onChange:t,...n}=e,r=f.useCallback((e=>{const n=parseInt(e.currentTarget.value,10);isNaN(n)||t(n)}),[t]);return u.jsx(GA,{...n,fontSize:1,onChange:r,inputMode:"numeric",padding:2,radius:2})},grn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Nee={padding:2},vrn=f.forwardRef((function(e,t){const{selectTime:n,onFocusedDateChange:r,selectedDate:i=new Date,focusedDate:o=i,timeStep:a=1,onSelect:s,labels:l,...c}=e,d=f.useCallback((e=>r(e)),[r]),p=f.useCallback((e=>d(U0e(f8(o,e),1))),[o,d]),h=f.useCallback((e=>p(Number(e.currentTarget.value))),[p]),m=f.useCallback((e=>d(fw(o,e))),[o,d]),g=f.useCallback((e=>d(H0e(o,e))),[o,d]),y=f.useCallback((e=>{s(Wc(fp(e,i.getHours()),i.getMinutes()))}),[s,i]),v=f.useCallback((e=>{const t=Number(e.currentTarget.value);s(Wc(i,t))}),[s,i]),b=f.useCallback((e=>{const t=Number(e.currentTarget.value);s(fp(i,t))}),[s,i]);f.useCallback(((e,t)=>{s(fp(Wc(i,t),e))}),[s,i]);const x=f.useRef(null);f.useImperativeHandle(t,(()=>x.current));const w=f.useCallback((()=>{var e,t;null==(t=null==(e=x.current)?void 0:e.querySelector('[data-focused="true"]'))||t.focus()}),[x]),C=f.useCallback((e=>{var t,n;if(!urn.includes(e.key))return;const i=e.currentTarget;e.preventDefault(),i.hasAttribute("data-calendar-grid")?w():("ArrowUp"===e.key&&r(Fr(o,-7)),"ArrowDown"===e.key&&r(Fr(o,7)),"ArrowLeft"===e.key&&r(Fr(o,-1)),"ArrowRight"===e.key&&r(Fr(o,1)),null==(n=null==(t=x.current)?void 0:t.querySelector("[data-preserve-focus]"))||n.focus())}),[x,w,r,o]);f.useEffect((()=>{w()}),[w]),f.useEffect((()=>{var e;null!=(e=document.activeElement)&&e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&w()}),[x,w,o]),f.useCallback((()=>y(Fr(new Date,-1))),[y]),f.useCallback((()=>y(new Date)),[y]),f.useCallback((()=>y(Fr(new Date,1))),[y]);const k=f.useCallback((()=>s(new Date)),[s]);return u.jsxs(N,{"data-ui":"Calendar",...c,ref:x,children:[u.jsxs(N,{padding:2,children:[Lee.dayPresets,u.jsxs(U,{children:[u.jsx(N,{flex:1,children:u.jsx(yrn,{onChange:h,monthNames:l.monthNames,value:o?.getMonth()})}),u.jsx(N,{marginLeft:2,children:u.jsx(brn,{moveFocusedDate:m,labels:{goToNextYear:l.goToNextYear,goToPreviousYear:l.goToPreviousYear},onChange:g,value:o.getFullYear()})})]}),u.jsxs(N,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(prn,{weekDayNames:l.weekDayNamesShort,date:o,focused:o,onSelect:y,selected:i}),grn]})]}),n&&u.jsxs(N,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(U,{align:"center",children:[u.jsxs(U,{align:"center",flex:1,children:[u.jsx(N,{children:u.jsx(rl,{"aria-label":l.selectHour,fontSize:1,padding:2,radius:2,value:i?.getHours(),onChange:b,children:lrn.map((e=>u.jsx("option",{value:e,children:`${e}`.padStart(2,"0")},e)))})}),u.jsx(N,{paddingX:1,children:u.jsx(L,{size:1,children:":"})}),u.jsx(N,{children:u.jsx(rl,{"aria-label":l.selectMinute,fontSize:1,padding:2,radius:2,value:i?.getMinutes(),onChange:v,children:hw(0,60,a).map((e=>u.jsx("option",{value:e,children:`${e}`.padStart(2,"0")},e)))})})]}),u.jsx(N,{marginLeft:2,children:u.jsx(me,{text:l.setToCurrentTime,mode:"bleed",onClick:k})})]}),Lee.timePresets]})]})}));function yrn(e){const{onChange:t,value:n,monthNames:r}=e;return u.jsx(U,{flex:1,gap:1,children:u.jsx(N,{flex:1,children:u.jsx(rl,{fontSize:1,radius:2,value:n,onChange:t,padding:2,children:r.map(((e,t)=>u.jsx("option",{value:t,children:e},t)))})})})}function brn(e){const{moveFocusedDate:t,onChange:n,value:r,labels:i}=e,o=f.useCallback((()=>t(-12)),[t]),a=f.useCallback((()=>t(12)),[t]);return u.jsxs(U,{gap:1,children:[u.jsx(me,{"aria-label":i.goToPreviousYear,onClick:o,mode:"bleed",icon:yd,tooltipProps:{content:"Previous year"},...Nee}),u.jsx(mrn,{value:r,onChange:n,radius:0,style:{width:48}}),u.jsx(me,{"aria-label":i.goToNextYear,onClick:a,mode:"bleed",icon:Aa,tooltipProps:{content:"Next year"},...Nee})]})}const f2e=f.forwardRef((function(e,t){const{value:n=new Date,onChange:r,calendarLabels:i,...o}=e,[a,s]=f.useState(),l=f.useCallback((e=>{r(e),s(void 0)}),[r]);return u.jsx(vrn,{...o,labels:i,ref:t,selectedDate:n,onSelect:l,focusedDate:a||n,onFocusedDateChange:s})})),xrn=f.forwardRef((function(e,t){const{value:n,inputValue:r,onInputChange:i,onChange:o,selectTime:a,timeStep:s,calendarLabels:l,...c}=e,[d,p]=f.useState(null),h=f.useRef(null),m=f.useRef(null);f.useImperativeHandle(t,(()=>h.current));const[g,y]=f.useState(!1);Fn((()=>y(!1)),[d]);const v=f.useCallback((()=>{var e,t;null==(e=h.current)||e.focus(),null==(t=h.current)||t.select()}),[]),b=f.useCallback((e=>{"Escape"===e.key&&y(!1)}),[]),x=f.useCallback((()=>y(!0)),[]),w=u.jsx(U,{style:{padding:"5px"},children:u.jsx(me,{ref:m,icon:da,mode:"bleed",onClick:x,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:"Select date"}})});return u.jsx(GA,{ref:h,...c,value:r,onChange:i,suffix:g?u.jsx(nl,{zOffset:1e3,children:u.jsx(An,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:u.jsx(N,{overflow:"auto",children:u.jsx(fl,{onDeactivation:v,children:u.jsx(f2e,{calendarLabels:l,selectTime:a,timeStep:s,onKeyUp:b,value:n,onChange:o})})}),open:!0,placement:"bottom",ref:p,children:w})}):w})})),wrn=new Date,h2e=f.forwardRef((function(e,t){const{id:n,deserialize:r,formatInputValue:i,onChange:o,parseInputValue:a,placeholder:s,readOnly:l,selectTime:c,serialize:d,timeStep:p,value:h,...m}=e,[g,y]=f.useState(null),{t:v}=Z();f.useEffect((()=>{y(null)}),[h]);const b=f.useCallback((e=>{const t=e.currentTarget.value,n=""===t?null:a(t);null===n?(o(null),typeof h>"u"&&g&&y(null)):n.isValid?o(d(n.date)):y(t)}),[a,o,h,g,d]),x=f.useCallback((e=>{o(e?d(e):null)}),[d,o]),w=f.useRef(null);f.useImperativeHandle(t,(()=>w.current));const C=g?a(g):h?r(h):null,k=g||(null!=C&&C.isValid?i(C.date):h);return l?u.jsx(Vr,{value:k,readOnly:!0}):u.jsx(xrn,{...m,calendarLabels:e.calendarLabels,id:n,selectTime:c,timeStep:p,placeholder:s||v("inputs.datetime.placeholder",{example:i(wrn)}),ref:w,value:C?.date,inputValue:k||"",readOnly:!!l,onInputChange:b,onChange:x,customValidity:C?.error})}));function Crn(e){return e instanceof Date&&!isNaN(e.valueOf())}function X9(e){return{goToTomorrow:e("calendar.action.go-to-tomorrow"),goToToday:e("calendar.action.go-to-today"),goToYesterday:e("calendar.action.go-to-yesterday"),goToNextMonth:e("calendar.action.go-to-next-month"),goToPreviousMonth:e("calendar.action.go-to-previous-month"),goToNextYear:e("calendar.action.go-to-next-year"),goToPreviousYear:e("calendar.action.go-to-previous-year"),setToCurrentTime:e("calendar.action.set-to-current-time"),selectHour:e("calendar.action.select-hour"),selectMinute:e("calendar.action.select-minute"),monthNames:[e("calendar.month-names.january"),e("calendar.month-names.february"),e("calendar.month-names.march"),e("calendar.month-names.april"),e("calendar.month-names.may"),e("calendar.month-names.june"),e("calendar.month-names.july"),e("calendar.month-names.august"),e("calendar.month-names.september"),e("calendar.month-names.october"),e("calendar.month-names.november"),e("calendar.month-names.december")],weekDayNamesShort:[e("calendar.weekday-names.short.monday"),e("calendar.weekday-names.short.tuesday"),e("calendar.weekday-names.short.wednesday"),e("calendar.weekday-names.short.thursday"),e("calendar.weekday-names.short.friday"),e("calendar.weekday-names.short.saturday"),e("calendar.weekday-names.short.sunday")],setToTimePreset:(t,n)=>e("calendar.action.set-to-time-preset",{time:t,date:n})}}const Srn=e=>fT(e,eh),Ern=e=>$1(e,eh);function _rn(e){var t;const{readOnly:n,onChange:r,schemaType:i,elementProps:o,value:a}=e,s=(null==(t=i.options)?void 0:t.dateFormat)||eh,{t:l}=Z(),c=f.useCallback((e=>{r(null===e?ft():lt(e))}),[r]),d=f.useCallback((e=>$1(e,s)),[s]),p=f.useCallback((e=>fT(e,s)),[s]),h=f.useMemo((()=>X9(l)),[l]);return u.jsx(h2e,{...o,deserialize:Srn,formatInputValue:d,onChange:c,parseInputValue:p,placeholder:i.placeholder,calendarLabels:h,readOnly:n,selectTime:!1,serialize:Ern,value:a})}function krn(e={}){return{dateFormat:e.dateFormat||eh,timeFormat:e.timeFormat||EN,timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function p2e(e){return e.toISOString()}function Trn(e){const t=new Date(e);return Crn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function Arn(e,t){if(!t||1===t)return e;const n=V0e(e),r=M0e(n),i=r%t;return p2e(0!==i?Wc(n,r-i):n)}function jrn(e){const{onChange:t,schemaType:n,value:r,elementProps:i}=e,{dateFormat:o,timeFormat:a,timeStep:s}=krn(n.options),{t:l}=Z(),c=f.useCallback((e=>{let n=e;null!==n&&s>1&&(n=Arn(n,s)),t(null===n?ft():lt(n))}),[t,s]),d=f.useCallback((e=>$1(e,`${o} ${a}`)),[o,a]),p=f.useCallback((e=>fT(e,`${o} ${a}`)),[o,a]),h=f.useMemo((()=>X9(l)),[l]);return u.jsx(h2e,{...i,calendarLabels:h,onChange:c,deserialize:Trn,formatInputValue:d,parseInputValue:p,placeholder:n.placeholder,selectTime:!0,serialize:p2e,timeStep:s,value:r})}function Irn(e){const{validationError:t,elementProps:n}=e;return u.jsx(Vr,{...n,type:"email",inputMode:"email",customValidity:t})}const Drn=(e,t)=>{if("function"==typeof e)throw new Error(`Schema type "${t?.name||"<not-found>"}"'s \`validation\` was not run though \`inferFromSchema\``);return e?Array.isArray(e)?e:[e]:[]};function eE(e,t){for(const n of Drn(e?.validation,e))for(const e of n._rules)if(e.flag===t)return e;return null}function m2e(e){const{schemaType:t,validationError:n,elementProps:r}=e,i=eE(t,"min"),o=eE(t,"integer"),a=eE(t,"precision"),s="number"==typeof i?.constraint&&i?.constraint>=0,l=o||0===a?.constraint;return u.jsx(Vr,{...r,type:"number",step:"any",inputMode:s?l?"numeric":"decimal":"text",customValidity:n,placeholder:t.placeholder,pattern:s?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}const Orn=f.forwardRef((function(e,t){const{onClick:n}=e,r=f.useCallback((()=>{n?.(e.name)}),[e.name,n]);return u.jsx(kb,{"data-testid":`group-tab-${e.name}`,id:`${e.name}-tab`,label:e.title,ref:t,...e,onClick:r})})),Rrn=e=>{const{name:t,title:n,...r}=e,{selected:i}=e;return u.jsx("option",{title:n,value:t,id:`${t}-tab`,"aria-controls":r["aria-controls"],"data-testid":`group-select-${t}`,"aria-selected":i?"true":"false",children:n||t})},Mrn=$(_k)`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`,$rn=({inputId:e,groups:t,onClick:n,shouldAutoFocus:r=!0,disabled:i})=>u.jsx(b1,{space:2,"data-testid":"field-group-tabs",children:t.map((t=>u.jsx(Orn,{"aria-controls":`${e}-field-group-fields`,autoFocus:r&&t.selected,disabled:i||t.disabled,icon:t?.icon,name:t.name,onClick:n,selected:!!t.selected,title:t.title||t.name},`${e}-${t.name}-tab`)))}),Prn=({disabled:e,groups:t,inputId:n,onSelect:r,shouldAutoFocus:i=!0})=>{var o;const a=f.useCallback((e=>{r(e.currentTarget.value)}),[r]),{t:s}=Z();return u.jsx(rl,{"aria-label":s("inputs.object.field-group-tabs.aria-label"),autoFocus:i,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:a,value:null==(o=t.find((e=>e.selected)))?void 0:o.name,children:t.map((e=>u.jsx(Rrn,{"aria-controls":`${n}-field-group-fields`,disabled:e.disabled,name:e.name,selected:!!e.selected,title:e.title||e.name},`${n}-${e.name}-tab`)))})},Frn=f.memo((function({disabled:e=!1,onClick:t,...n}){const r=f.useCallback((e=>{t?.(e)}),[t]);return u.jsxs(Mrn,{"data-testid":"field-group-root",children:[u.jsx($rn,{...n,disabled:e,onClick:r}),u.jsx(Prn,{...n,disabled:e,onSelect:r})]})})),Lrn=$(ae)`
  margin-bottom: ${({$level:e,theme:t})=>0===e?0:-1*t.sanity.space[5]}px;
  padding-bottom: ${({$level:e,theme:t})=>t.sanity.space[4]}px;
`,Nrn=$(Rn)`
  align-items: flex-end;
`;function Brn(e){const{fieldNames:t,onChange:n,readOnly:r,value:i}=e,o=t.length,a=f.useCallback((e=>{n(ft([e]))}),[n]),{t:s}=Z();return u.jsxs(Xl,{status:"warning",title:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.title",{count:o})}),children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.description",{count:o})})}),u.jsxs(Dm,{marginTop:4,open:Es,title:s("inputs.object.unknown-fields.warning.details.title"),children:[u.jsx(N,{marginBottom:3,children:u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.details.description",{count:o})})})}),u.jsx(ne,{as:"ul",space:3,children:t.map((e=>u.jsx(Vrn,{fieldName:e,onUnsetClick:a,readOnly:r,value:i?.[e]},e)))})]})]})}function Vrn({fieldName:e,onUnsetClick:t,readOnly:n,value:r}){const i=f.useCallback((()=>{t(e)}),[e,t]),{t:o}=Z();return u.jsxs(ae,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[u.jsx(ae,{padding:3,shadow:1,tone:"inherit",children:u.jsx(ni,{size:1,children:e})}),u.jsx(N,{overflow:"auto",padding:3,children:u.jsx(ni,{language:"json",size:1,children:JSON.stringify(r,null,2)})}),n&&u.jsx(N,{padding:3,children:u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:o,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),!n&&u.jsx(ae,{padding:3,shadow:1,tone:"inherit",children:u.jsx(me,{icon:Br,mode:"ghost",onClick:i,size:"large",tone:"critical",text:o("inputs.object.unknown-fields.remove-field-button.text")})})]})}const Bee=f.memo((function(e){const{__internal_arrayEditingModal:t=null,groups:n,id:r,level:i,members:o,onChange:a,onFieldGroupSelect:s,renderAnnotation:l,renderBlock:c,renderField:d,renderInlineBlock:p,renderInput:h,renderItem:m,renderPreview:g,schemaType:y,value:v}=e,{columns:b}=y.options||{},x=f.useMemo((()=>{if(!y.fields)return null;const e=y.fields.map((e=>e.name)),t=Object.keys(v||{}).filter((t=>!t.startsWith("_")&&!e.includes(t)));return 0===t.length?null:u.jsx(Brn,{fieldNames:t,value:v,onChange:a})}),[a,y.fields,v]),w=f.useMemo((()=>n.find((({selected:e})=>e))),[n]),C=f.useCallback((()=>u.jsx(UXt,{members:o,renderAnnotation:l,renderBlock:c,renderField:d,renderInlineBlock:p,renderInput:h,renderItem:m,renderPreview:g})),[o,l,c,d,p,h,m,g]);return 0===o.length?null:u.jsxs(u.Fragment,{children:[t,u.jsxs(ne,{space:6,children:[n.length>0?u.jsx(Lrn,{$level:i,"data-testid":"field-groups",children:u.jsx(Frn,{groups:n,inputId:r,onClick:s,shouldAutoFocus:!1})}):null,u.jsx(f.Fragment,{children:b?u.jsx(Nrn,{columns:b,gap:4,marginTop:1,children:C()}):C()},w?.name),x]})]})}));function zrn(e){const t=f.useRef(e.value);t.current=e.value;const n=f.useCallback((e=>Vo(t.current,e)),[t]);return u.jsx(eae.Provider,{value:n,children:e.children})}function Urn(){const e=f.useContext(eae);if(!e)throw new Error("useFormValue must be used within a FormValueProvider");return e}const Hrn=(e,t)=>{var n;const r=null==(n=t.options)?void 0:n.maxLength;return e?Uxe(e,{truncate:"number"==typeof r?r:200,symbols:!0}):""};async function Wrn(e,t,n){var r;return e&&((null==(r=t.options)?void 0:r.slugify)||Hrn)(e,t,n)}function Grn(e){const[t,n]=f.useState(null),r=f.useRef(0);return[t,f.useCallback((t=>{const i=++r.current;n({status:"pending"}),Promise.resolve().then((()=>e(t))).then((e=>{i===r.current&&n({status:"complete",result:e})}),(e=>{i===r.current&&n({status:"error",error:e})}))}),[e])]}function Yrn(){const{getClient:e}=Sn(),t=Jt(),n=Un(),r=Yw(),i=v5e();return f.useMemo((()=>({projectId:r,dataset:i,getClient:e,schema:t,currentUser:n})),[e,t,n,r,i])}function qrn(e,t,n){const r=e.slice(0,-1);return{parentPath:r,parent:e1(t,r),...n}}async function Krn(e,t,n){return"function"==typeof e?e(t,n):e1(t,e)}function Zrn(e){var t;const n=Urn(),{path:r,value:i,schemaType:o,validation:a,onChange:s,readOnly:l,elementProps:c}=e,d=null==(t=o.options)?void 0:t.source,p=f.useMemo((()=>a.filter((e=>"error"===e.level))),[a]),h=Yrn(),{t:m}=Z(),g=f.useCallback((e=>{s(e?Tt.from([zo({_type:o.name}),lt(e,["current"])]):Tt.from(ft([])))}),[s,o.name]),y=f.useCallback((()=>{if(!d)return Promise.reject(new Error(m("inputs.slug.error.missing-source",{schemaType:o.name})));const e=n([])||{_type:o.name},t=qrn(r,e,h);return Krn(d,e,t).then((e=>Wrn(e||"",o,t))).then((e=>g(e)))}),[d,n,o,r,h,g,m]),[v,b]=Grn(y),x="pending"===v?.status,w=f.useCallback((e=>g(e.currentTarget.value)),[g]);return u.jsx(ne,{space:3,children:u.jsxs(U,{gap:1,children:[u.jsxs(N,{flex:1,children:[u.jsx(Vr,{customValidity:p.length>0?p[0].message:"",disabled:x,onChange:w,value:i?.current||"",readOnly:l,...c}),"error"===v?.status&&u.jsx(ae,{padding:2,tone:"critical",children:v.error.message})]}),d&&u.jsx(me,{mode:"ghost",type:"button",disabled:l||x,onClick:b,size:"large",text:m("pending"===v?.status?"inputs.slug.action.generating":"inputs.slug.action.generate")})]})})}function g2e(e){const{validationError:t,elementProps:n}=e;return u.jsx(Vr,{...n,customValidity:t,"data-testid":"string-input"})}const Xrn=$(Ede)`
  &[data-as='textarea'] {
    resize: vertical;
  }
`;function Jrn(e){const{schemaType:t,validationError:n,value:r,elementProps:i}=e;return u.jsx(Xrn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:"number"==typeof t.rows?t.rows:10,...i})}function Qrn(e){var t,n;const{schemaType:r,validationError:i,elementProps:o}=e,a=eE(r,"uri"),s=null!=(n=null==(t=a?.constraint)?void 0:t.options)&&n.allowRelative?"text":"url";return u.jsx(Vr,{type:s,inputMode:"url",customValidity:i,...o})}function ein({value:e,onClearValue:t}){const n=f.useMemo((()=>!(null==e||!e._ref)),[e?._ref]),{t:r}=Z(),i=u.jsx(dt,{t:r,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:{DocumentationLink:({children:e})=>u.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:e})}});return u.jsxs(ae,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[u.jsxs(U,{gap:4,marginBottom:n?4:void 0,children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"h2",size:1,weight:"medium",children:r("inputs.reference.cross-dataset.feature-unavailable-title")}),n&&u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",size:1,children:i}),u.jsx(L,{as:"p",size:1,children:r("inputs.reference.cross-dataset.feature-disabled-actions")})]}),!n&&u.jsx(L,{as:"p",size:1,children:i})]})]}),t&&n&&u.jsx(me,{icon:Ru,mode:"ghost",onClick:t,text:r("inputs.reference.action.clear"),width:"fill"})]})}const tin=$(U)`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`;function v2e(e){var t,n,r;const{refType:i,showStudioUrlIcon:o,hasStudioUrl:a,showTypeLabel:s,availability:l,preview:c,id:d,dataset:p,projectId:h}=e,m="NOT_FOUND"===l?.reason,g="PERMISSION_DENIED"===l?.reason,y=null==(t=c.published)?void 0:t.media,{t:v}=Z(),b=f.useMemo((()=>{if(y){const e=typeof y?.asset<"u"&&P1(y),t=f.isValidElement(y);return e||t?function({dimensions:e}){return t?y:u.jsx("img",{src:iw({dataset:p,projectId:h}).image(y).withOptions(e).url(),alt:v("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})}:null}return null!=i&&i.icon?f.createElement(i.icon):null}),[y,p,h,i?.icon,v]);return u.jsxs(tin,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[null!=l&&l.available?u.jsx(N,{flex:1,children:u.jsx(k5e,{title:null==(n=c.published)?void 0:n.title,subtitle:null==(r=c.published)?void 0:r.subtitle,media:b||!1})}):u.jsx(N,{flex:1,children:u.jsx(U,{align:"center",children:u.jsx(N,{flex:1,paddingY:2,children:u.jsx(L,{muted:!0,children:v("inputs.reference.error.document-unavailable-title")})})})}),u.jsx(N,{paddingLeft:3,children:u.jsxs(xn,{space:4,children:[i&&s&&u.jsx(ja,{mode:"outline",children:i.title||i.type}),(g||m)&&u.jsx(N,{children:u.jsx(pt,{portal:!0,content:v(m?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:d}),children:u.jsx(Nr,{tone:"default",children:g?u.jsx(Zc,{}):u.jsx(Cp,{})})})}),!(m||g)&&o&&u.jsx(N,{children:u.jsx(pt,{portal:!0,content:v(a?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:u.jsx(Nr,{size:1,tone:"default",muted:!a,children:u.jsx(Nu,{})})})})]})})]})}const y2e=()=>{},Vee={isLoading:!0,result:void 0,error:void 0,retry:y2e},nin={isLoading:!1,result:void 0,error:void 0,retry:y2e};function b2e(e,t){const[n,r]=f.useState(0),i=f.useCallback((()=>{r((e=>e+1))}),[]),o=f.useMemo((()=>({_id:e._id,_type:e._type})),[e._id,e._type]);return Wr(f.useMemo((()=>o._id?t(o).pipe(fe((e=>({isLoading:!1,result:e,error:void 0,retry:i,retryAttempt:n}))),xi(Vee),pn((e=>(console.error(e),we({isLoading:!1,result:void 0,error:e,retry:i,retryAttempt:n}))))):we(nin)),[o,t,i,n]),Vee)}function J9(){return Zt(zt).config().projectId}function rin(e){var t;const{isLoading:n,result:r,error:i}=b2e(e.document,e.getReferenceInfo),{t:o}=Z(),a=J9();if(n)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(Jn,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(Jn,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(i)return u.jsx(ne,{space:2,padding:1,children:u.jsx(Xl,{title:o("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(L,{muted:!0,size:1,children:i.message})})});if(!r)return null;if("PERMISSION_DENIED"===(null==(t=r.availability)?void 0:t.reason))return u.jsx(ne,{space:2,padding:1,children:o("inputs.reference.error.missing-read-permissions-description")});const s=e.referenceType.to.find((e=>e.type===r.type));return s?r&&s&&u.jsx(v2e,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:a,showTypeLabel:e.referenceType.to.length>1}):u.jsx(ne,{space:2,padding:1,children:o("inputs.reference.error.invalid-search-result-type-title",{returnedType:r.type})})}function zee(e){var t,n;const{value:r,type:i,showStudioUrlIcon:o,hasStudioUrl:a,referenceInfo:s}=e,{t:l}=Z(),c=J9();if(s.isLoading||s.error)return u.jsxs(ne,{space:2,padding:1,children:[u.jsx(Jn,{style:{maxWidth:320},radius:1,animated:!s.error}),u.jsx(Jn,{style:{maxWidth:200},radius:1,size:1,animated:!s.error})]});const d=i.to.length>1,f=null==(t=s.result)?void 0:t.type,p=i.to.find((e=>e.type===f));return null!=(n=s.result.availability)&&n.available&&!p?u.jsx(ne,{space:2,padding:2,children:u.jsx(L,{as:"p",children:u.jsx(dt,{t:l,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:{typeName:f||"unknown"},components:{JsonValue:()=>u.jsx("pre",{children:JSON.stringify(r,null,2)})}})})}):u.jsx(v2e,{availability:s.result.availability,hasStudioUrl:a,showStudioUrlIcon:o,preview:s.result.preview,refType:p,projectId:c,dataset:i.dataset,id:r._ref,showTypeLabel:d})}const iin=$(An)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,ain=$(L)`
  word-break: break-word;
`,oin=["top-start","bottom-start"],sin=f.forwardRef((function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:o,...a}=e,{t:s}=Z(),l=e.options&&e.options.length>0,c=f.useCallback((({content:e,hidden:t,inputElement:a,onMouseEnter:c,onMouseLeave:d},f)=>u.jsx(iin,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:oin,arrow:!1,constrainSize:!0,onMouseEnter:c,onMouseLeave:d,content:u.jsx("div",{ref:f,children:l?e:u.jsx(N,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(ain,{align:"center",muted:!0,children:u.jsx(dt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!t,ref:i,portal:!0,referenceElement:o||a,matchReferenceWidth:!0})),[l,s,n,r,i,o]);return u.jsx(Tk,{...a,ref:t,renderPopover:c})})),Uee={hits:[],isLoading:!1},lin=()=>!0,Hee=["_ref"],uin="crossDatasetReferences";function cin(e){var t,n;const{changed:r,focused:i,focusPath:o,getReferenceInfo:a,onChange:s,onPathFocus:l,onSearch:c,path:d,readOnly:p,schemaType:h,validation:m,value:g,elementProps:y}=e,{t:v}=Z(),b=J9(),[x,w]=f.useState(Uee),C=f.useCallback((e=>{if(!e)return s(ft()),void l([]);if(!x.hits.find((t=>t.id===e)))throw new Error("Selected an item that wasnt part of the result set");s(lt({_type:h.name,_ref:sn(e),_projectId:b,_dataset:h.dataset,_weak:h.weak,_key:g?._key})),l([])}),[g?._key,x.hits,h.name,h.dataset,h.weak,b,s,l]),k=f.useCallback((()=>{s(ft())}),[s]),j=f.useCallback((e=>{"Escape"===e.key&&l?.([])}),[l]),S=f.useCallback((e=>a(e,h)),[a,h]),E=b2e(f.useMemo((()=>({_id:g?._ref})),[g?._ref]),S),_=Zw(uin),A=f.useRef(null),T=1===o.length&&"_ref"===o[0],D=y.ref;Ja({hasFocusAt:T,ref:g?._ref},((e,t)=>{var n;const r=e?.ref!==t.ref;(e?.hasFocusAt!==t.hasFocusAt||r)&&t.hasFocusAt&&(null==(n=D.current)||n.focus())}));const M=null!=g&&g._weak?"weak":"strong",I=!0===h.weak?"weak":"strong",O=!(null==g||!g._ref),P=f.useCallback((()=>{s(!0===h.weak?lt(!0,["_weak"]):ft(["_weak"]))}),[s,h]),{push:R}=Ur(),F=f.useMemo((()=>m.filter((e=>"error"===e.level))),[m]),L=f.useCallback((e=>{e.currentTarget===y.ref.current&&l?.([Yie])}),[y.ref,l]),$=f.useCallback((e=>{e.currentTarget===y.ref.current&&l?.(Hee)}),[y.ref,l]),B=f.useCallback((()=>{l?.(Hee)}),[l]),V=f.useId(),z=mT((e=>e.pipe(jt(wi),mr(),ht((e=>bi(we({isLoading:!0}),c(e).pipe(fe((t=>({hits:t,searchString:e,isLoading:!1}))),pn((e=>(R({title:"Reference search failed",description:e.message,status:"error",id:`reference-search-fail-${V}`}),console.error(e),we({hits:[]})))))))),hs(((e,t)=>({...e,...t})),Uee),qn(w)))),H=f.useCallback((()=>{z("")}),[z]),W=!E.isLoading&&O&&M!==I,q=g?._ref&&(null==(n=h.studioUrl)?void 0:n.call(h,{id:g?._ref,type:null==(t=E?.result)?void 0:t.type}))||null,G=f.useCallback((e=>u.jsx(gp,{as:"button",type:"button",radius:2,children:u.jsx(N,{paddingX:3,paddingY:1,children:u.jsx(rin,{referenceType:h,document:e.hit.published,getReferenceInfo:S})})})),[h,S]),Y=T||!(null!=g&&g._ref),K=f.useRef(null),X=f.useRef(null);return FCe([K,X,f.useRef(null)],(()=>{T&&l([])})),u.jsxs(u.Fragment,{children:[!_.isLoading&&!_.enabled&&u.jsx(ein,{value:g,onClearValue:k}),(_.isLoading||_.enabled)&&u.jsx(ne,{space:1,children:Y?u.jsx(ne,{space:2,ref:K,children:u.jsx(ka,{path:d,isChanged:r,hasFocus:!!i,children:u.jsx("div",{ref:A,children:u.jsx(sin,{...y,"data-testid":"autocomplete",loading:x.isLoading,referenceElement:A.current,portalRef:X,id:V||"",options:x.hits.map((e=>({value:e.id,hit:e}))),onFocus:$,radius:2,placeholder:v("inputs.reference.search-placeholder"),onKeyDown:j,readOnly:p,disabled:E.isLoading,onQueryChange:z,searchString:x.searchString,onChange:C,filterOption:lin,renderOption:G,openButton:{onClick:H}})})})}):u.jsx(ka,{path:d,isChanged:r,hasFocus:!!i,children:u.jsxs(ae,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":E.error||F.length>0?"critical":"default",children:[u.jsxs(U,{align:"center",padding:1,children:[q?u.jsx(gp,{as:"a",target:"_blank",rel:"noopener noreferrer",href:q,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:L,ref:y.ref,children:u.jsx(zee,{value:g,referenceInfo:E,showStudioUrlIcon:!0,hasStudioUrl:!!q,type:h})}):u.jsx(gp,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:L,ref:y.ref,children:u.jsx(zee,{value:g,referenceInfo:E,showStudioUrlIcon:!0,type:h})}),u.jsx(xn,{paddingX:1,children:u.jsx(Gt,{button:u.jsx(ai,{"data-testid":"menu-button"}),id:`${V}-menuButton`,menu:u.jsx(At,{children:!p&&u.jsxs(u.Fragment,{children:[u.jsx(qe,{text:v("inputs.reference.action.clear"),tone:"critical",icon:Ru,"data-testid":"menu-item-clear",onClick:k}),u.jsx(qe,{text:v("inputs.reference.action.replace"),icon:rm,"data-testid":"menu-item-replace",onClick:B})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),W&&u.jsx(F9,{actualStrength:M,handleFixStrengthMismatch:P}),E.error&&u.jsx(P9,{errorMessage:E.error.message,onHandleRetry:E.retry})]})})})]})}const din="cross-dataset-refs",x2e={available:!0,reason:"READABLE"},fin={available:!1,reason:"PERMISSION_DENIED"},hin={available:!1,reason:"NOT_FOUND"};function pin(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:i}=t.config(),o=r&&i?{dataset:r,projectId:i}:void 0;return function(e,r){return(e._type?we(e):n.observeDocumentTypeFromId(e._id,o).pipe(fe((t=>({_id:e._id,_type:t}))))).pipe(ht((i=>{if(!i._type)return min(t,e._id).pipe(fe((t=>({id:e._id,type:void 0,availability:t,preview:{published:void 0}}))));const a=r.to.find((e=>e.type===i._type)),s=rB(a?.preview)||[];return Ni([n.observePaths(e,s,o).pipe(fe((e=>e&&l5(e,a))))]).pipe(fe((([t])=>({type:i._type,id:e._id,availability:x2e,preview:{published:xt(t)?t:void 0}}))))})))}}function min(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:`${din}.availability`};return e.observable.request(n).pipe(fe((e=>{const n=p7(e.omitted||[],(e=>e.id))[t];return n?"existence"===n.reason?hin:"permission"===n.reason?fin:null:x2e})))}function gin(e,t,n,r){return FA(n.to,e,{...r,maxDepth:r.maxFieldDepth})(t,{includeDrafts:!1,isCrossDataset:!0}).pipe(fe((({hits:e})=>e.map((({hit:e})=>e)))),fe(yA),fe((e=>e.map((e=>({id:e.id,type:e.type,published:e.published}))))))}async function vin(e,t,n,r){if(!e)return{};if("function"==typeof e.filter){const i=n.slice(0,-1),o=e1(t,i);return await e.filter({document:t,parentPath:i,parent:o,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function yin(e){const t=f.useRef(e);return t.current=e,t}function bin(e){const{path:t,schemaType:n}=e,r=Sn(),i=r.getClient(zt),o=Ui(),a=r.getClient,{enableLegacySearch:s=!1}=r.search,l=f.useMemo((()=>i.withConfig({dataset:n.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone()),[i,n.dataset]),c=LA(l),d=yin(Nw([])),p=f.useCallback((e=>Qn(vin(n.options,d.current,t,a)).pipe(kt((({filter:t,params:r})=>gin(l,e,n,{...n.options,filter:t,params:r,tag:"search.cross-dataset-reference",maxFieldDepth:c,enableLegacySearch:s}))),pn((e=>{var t;const r=e.details&&"queryParseError"===e.details.type;return null!=(t=n.options)&&t.filter&&r&&(e.message='Invalid reference filter, please check the custom "filter" option'),Rf(e)})))),[n,d,t,a,l,c,s]),h=f.useMemo((()=>pin({client:l,documentPreviewStore:o})),[l,o]);return u.jsx(cin,{...e,getReferenceInfo:h,onSearch:p})}function cx(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:i}=e,o=t?._ref,a=Wr(f.useMemo((()=>r(o)),[o,r]));return u.jsx(u.Fragment,{children:o&&a?n(a):i})}const xin=$(qe)`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`,win=f.forwardRef((function(e,t){const{icon:n,id:r,accept:i,capture:o,multiple:a,onSelect:s,text:l,disabled:c,...d}=e,p=`${r||""}-${f.useId()}`,h=f.useCallback((e=>{s&&e.target.files&&s(Array.from(e.target.files))}),[s]),m=f.useCallback((e=>u.jsxs("div",{children:[e,u.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:o,id:p,multiple:a,onChange:h,type:"file",value:"",disabled:c})]})),[i,o,c,h,p,a]);return u.jsx(xin,{...d,htmlFor:p,disabled:c,ref:t,icon:n,text:l,renderMenuItem:m})}));function w2e(e){const{onUpload:t,onReset:n,readOnly:r,accept:i,directUploads:o,browse:a,downloadUrl:s,copyUrl:l}=e,{push:c}=Ur(),{t:d}=Z(),p=f.useCallback((()=>{navigator.clipboard.writeText(l||""),c({closable:!0,status:"success",title:d("inputs.files.common.actions-menu.notification.url-copied")})}),[l,c,d]);return u.jsxs(u.Fragment,{children:[u.jsx(win,{icon:jx,onSelect:t,accept:i,text:d("inputs.files.common.actions-menu.upload.label"),"data-testid":"file-input-upload-button",disabled:r||!o}),a,(s||l)&&u.jsx(rr,{}),s&&u.jsx(qe,{as:"a",icon:ik,text:d("inputs.files.common.actions-menu.download.label"),href:s}),l&&u.jsx(qe,{icon:Ll,text:d("inputs.files.common.actions-menu.copy-url.label"),onClick:p}),u.jsx(rr,{}),u.jsx(qe,{tone:"critical",icon:Ru,text:d("inputs.files.common.actions-menu.clear-field.label"),onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}function Cin(e,t){return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.onload=()=>{const e=new FileReader;e.onloadend=()=>{var i;const o=null==(i=e.result)?void 0:i.toString(),a=o?.indexOf(";base64");if(!o||-1===a)return void r(new Error("Could not convert URL to file"));const s=o.slice(11,a);s||t?n(C2e(e.result,t||`${Ca()}.${s}`)):r(new Error("Could not find mime type for image"))},e.readAsDataURL(i.response)},i.onerror=e=>{r(e)},i.open("GET",e),i.responseType="blob",i.send()}))}function Sin(e,t){return new Promise(((n,r)=>{const i=e.toString(),o=i.indexOf(";base64");if(!i||-1===o)return void r(new Error("Could not convert base64 to file"));const a=i.slice(11,o);a||t?n(C2e(e,t||`${Ca()}.${a}`)):r(new Error("Could not find mime type for image"))}))}function C2e(e,t){var n;const r=e.split(","),i=null==(n=r[0].match(/:(.*?);/))?void 0:n[1],o=atob(r[1]);let a=o.length;const s=new Uint8Array(a);for(;a--;)s[a]=o.charCodeAt(a);return new File([s],t,{type:i})}function S2e({assetFromSource:e,onChange:t,type:n,resolveUploader:r,uploadWith:i,isImage:o}){if(!e)throw new Error("No asset given");if(!Array.isArray(e)||0===e.length)throw new Error("Returned value must be an array with at least one item (asset)");const a=e[0],s=a.assetDocumentProps,l=s?.originalFilename,u=s?.label,c=s?.title,d=s?.description,f=s?.creditLine,p=s?.source,h=o?[ft(["hotspot"]),ft(["crop"])]:[];switch(a.kind){case"assetDocumentId":t([zo({_type:n.name}),...h,lt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const e=r(n,a.value);e&&i(e,a.value,{label:u,title:c,description:d,creditLine:f,source:p});break}case"base64":Sin(a.value,l).then((e=>{const t=r(n,e);t&&i(t,e,{label:u,title:c,description:d,creditLine:f,source:p})}));break;case"url":Cin(a.value,l).then((e=>{const t=r(n,e);t&&i(t,e,{label:u,title:c,description:d,creditLine:f,source:p})}));break;default:throw new Error("Invalid value returned from asset source plugin")}}const Ein=$(U)`
  pointer-events: none;
`;function E2e(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:i,rejectedFilesCount:o,directUploads:a}=e,s="file"===n,{t:l}=Z(),c=f.useMemo((()=>r?u.jsx(o1,{}):t&&o>0||!a?u.jsx(Zc,{}):s?u.jsx(i1,{}):u.jsx(tl,{})),[a,t,s,r,o]),d=f.useMemo((()=>{if(!a)return l("inputs.files.common.placeholder.upload-not-supported");if(r)return l("inputs.files.common.placeholder.read-only");if(t&&a&&!r){if(i.length>0)return l("inputs.files.common.placeholder.drop-to-upload",{context:n});if(o>0)return l("inputs.files.common.placeholder.cannot-upload-some-files",{count:o})}return l("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:n})}),[i.length,a,t,r,o,l,n]);return u.jsxs(Ein,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[u.jsx(L,{muted:!0,size:1,children:c}),u.jsx(L,{size:1,muted:!0,children:d})]})}const _2e=NCe(UCe(ae)),_in=$(me).attrs({forwardedAs:"label"})((({theme:e})=>{const{focusRing:t}=e.sanity;return de`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: ${NA({base:e.sanity.color.base,border:{width:1,color:"var(--card-border-color)"},focusRing:t})};
        }
      }

      // The underlying file input is rendered as children within a Sanity UI <Button> component.
      // The below visibly hides it by targeting the input's parent <span> element, which is
      // added by the <Button> component.
      // TODO: refactor, avoid nth-child selector usage
      & > span:nth-child(2) {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `})),kin=f.forwardRef((function(e,t){const{icon:n,id:r,accept:i,capture:o,multiple:a,onSelect:s,text:l,disabled:c,...d}=e,p=`${r||""}-${f.useId()}`,h=f.useCallback((e=>{s&&e.target.files&&s(Array.from(e.target.files))}),[s]);return u.jsx(_in,{...d,icon:n,text:l,htmlFor:p,disabled:c,children:u.jsx("input",{"data-testid":"file-button-input",accept:i,capture:o,id:p,multiple:a,onChange:h,ref:t,type:"file",value:"",disabled:c})})}));function Tin(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:i,hoveringFiles:o,onUpload:a,readOnly:s,rejectedFilesCount:l,type:c}=e,[d,p]=f.useState(null),h=zx(d),m=h?.border&&h.border.width<440,{t:g}=Z();return u.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:p,children:[u.jsx(U,{flex:1,children:u.jsx(E2e,{acceptedFiles:n,directUploads:i,hoveringFiles:o,readOnly:s,rejectedFilesCount:l,type:c})}),u.jsxs(U,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[u.jsx(kin,{accept:t,"data-testid":"file-input-upload-button",disabled:s||!i,icon:jx,mode:"bleed",onSelect:a,text:g("input.files.common.upload-placeholder.file-input-button.text")}),r]})]})}const k2e=f.memo(Tin),T2e=12e4,Ain=$(ae)`
  min-height: 82px;
  box-sizing: border-box;
`,jin=$(U)`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Iin=$(ne)`
  position: relative;
  width: 60%;
`,Din=$(ni)`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`,Oin=e=>(new Date).getTime()-new Date(e).getTime();function A2e({uploadState:e,onCancel:t,onStale:n,height:r}){const i=e.file.name;f.useEffect((()=>{Oin(e.updatedAt)>T2e&&n?.()}),[e.updatedAt,n]);const{t:o}=Z();return u.jsx(Ain,{tone:"primary",padding:4,border:!0,style:{height:r?`${r}px`:void 0},children:u.jsxs(jin,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[u.jsxs(Iin,{children:[u.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:u.jsx(L,{size:1,children:u.jsx(xn,{space:2,children:u.jsx(dt,{t:o,i18nKey:"input.files.common.upload-progress",components:{FileName:()=>u.jsx(Din,{size:1,children:i||""})}})})})}),u.jsx(ae,{border:!0,marginTop:3,radius:5,children:u.jsx(skn,{value:e.progress})})]}),t?u.jsx(me,{mode:"ghost",onClick:t,text:o("input.files.common.cancel-upload"),tone:"critical"}):null]})})}function j2e({onClearStale:e}){const{t:t}=Z();return u.jsxs(ae,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(L,{size:1,weight:"medium",children:t("inputs.files.common.stale-upload-warning.title")}),u.jsx(L,{size:1,children:t("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(T2e/1e3/60)})})]})]}),u.jsx(me,{icon:Ru,mode:"ghost",onClick:e,text:t("inputs.files.common.stale-upload-warning.clear"),width:"fill"})]})}function I2e(e,t=2){if(0===e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,r)).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}`}function Rin(e){const{originalFilename:t,size:n,children:r,muted:i,disabled:o,onClick:a,isMenuOpen:s,onMenuOpen:l,setMenuButtonElement:c}=e,[d,p]=f.useState(null),[h,m]=f.useState(null),g=f.useCallback((()=>l(!0)),[l]);mo(f.useCallback((e=>{s&&("Escape"===e.key||"Tab"===e.key)&&(l(!1),h?.focus())}),[s,l,h])),Fn(f.useCallback((e=>{null!=h&&h.contains(e.target)||l(!1)}),[h,l]),[d]);const y=f.useCallback((e=>{c(e),m(e)}),[c]);f.useEffect((()=>{s&&d?.focus()}),[s,d]);const{t:v}=Z();return u.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[u.jsx(ae,{as:i||o?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:a,flex:1,children:u.jsxs(U,{wrap:"nowrap",align:"center",children:[u.jsx(ae,{padding:3,tone:"transparent",shadow:1,radius:1,children:u.jsx(L,{muted:i,children:u.jsx(i1,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(L,{size:1,textOverflow:"ellipsis",muted:i,"data-testid":"file-name",weight:"medium",children:t}),u.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:I2e(n)})]})]})}),u.jsx(N,{padding:2,children:u.jsx(U,{justify:"center",children:u.jsx(An,{content:u.jsx(At,{ref:p,children:r}),id:"file-actions-menu",portal:!0,open:s,constrainSize:!0,children:u.jsx(ai,{"aria-label":v("inputs.file.actions-menu.file-options.aria-label"),"data-testid":"options-menu-button",onClick:g,ref:y})})})})]})}function Wee(){return u.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[u.jsx(Hu,{padding:3,radius:1,animated:!0}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(Jn,{style:{width:"100%"},radius:1,animated:!0}),u.jsx(Jn,{style:{width:"100%"},radius:1,animated:!0})]})]})}function Min({onClearValue:e}){const{t:t}=Z();return u.jsxs(ae,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(L,{size:1,weight:"medium",children:t("inputs.file.invalid-file-warning.title")}),u.jsx(L,{size:1,children:t("inputs.file.invalid-file-warning.description")})]})]}),u.jsx(me,{icon:Ru,mode:"ghost",onClick:e,text:t("inputs.file.invalid-file-warning.reset-button.text"),width:"fill"})]})}const $in=$(ae)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,Pin=$(U)`
  height: 100%;
`;var Fin=Object.defineProperty,Lin=(e,t,n)=>t in e?Fin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hi=(e,t,n)=>Lin(e,"symbol"!=typeof t?t+"":t,n);function Nin({children:e}){return e}const Bin=["asset"];class Vin extends f.PureComponent{constructor(e){super(e),hi(this,"_assetFieldPath"),hi(this,"uploadSubscription",null),hi(this,"browseButtonElement",null),hi(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),hi(this,"toast",null),hi(this,"handleRemoveButtonClick",(()=>{const{path:e,value:t}=this.props,n="string"!=typeof e.slice(-1)[0],r=Object.keys(t||{}),i=0===r.filter((e=>!["_type","_key","_upload","asset"].includes(e))).length,o=["asset"].concat(r.filter((e=>["_upload"].includes(e)))).map((e=>ft([e])));this.props.onChange(Tt.from(i&&!n?ft():o))})),hi(this,"handleCancelUpload",(()=>{this.cancelUpload()})),hi(this,"handleClearUploadState",(()=>{this.setState({isStale:!1}),this.clearUploadStatus()})),hi(this,"handleStaleUpload",(()=>{this.setState({isStale:!0})})),hi(this,"handleClearField",(()=>{this.props.onChange(ft(["asset"]))})),hi(this,"handleSelectFiles",(e=>{const{directUploads:t,readOnly:n}=this.props,{hoveringFiles:r}=this.state;t&&!n?this.uploadFirstAccepted(e):r.length>0&&this.handleFilesOut()})),hi(this,"handleSelectFileFromAssetSource",(e=>{this.setState({selectedAssetSource:e})})),hi(this,"handleAssetSourceClosed",(()=>{var e;this.setState({selectedAssetSource:null}),null==(e=this.browseButtonElement)||e.focus()})),hi(this,"setBrowseButtonElement",(e=>{this.browseButtonElement=e})),hi(this,"uploadWith",((e,t,n={})=>{const{schemaType:r,onChange:i,client:o,t:a}=this.props,{source:s}=n,l={metadata:Yn(r,"options.metadata"),storeOriginalFilename:Yn(r,"options.storeOriginalFilename"),source:s};this.cancelUpload(),this.setState({isUploading:!0}),i(Tt.from([zo({_type:r.name})])),this.uploadSubscription=e.upload(o,t,r,l).subscribe({next:e=>{e.patches&&i(Tt.from(e.patches))},error:e=>{var t;console.error(e),null==(t=this.toast)||t.push({status:"error",description:a("inputs.file.upload-failed.description"),title:a("inputs.file.upload-failed.title")}),this.clearUploadStatus()},complete:()=>{this.setState({isUploading:!1})}})})),hi(this,"handleSelectAssetFromSource",(e=>{const{onChange:t,schemaType:n,resolveUploader:r}=this.props;S2e({assetFromSource:e,onChange:t,type:n,resolveUploader:r,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})})),hi(this,"handleFileTargetFocus",(e=>{var t;e.currentTarget===e.target&&e.currentTarget===(null==(t=this.props.elementProps.ref)?void 0:t.current)&&this.props.elementProps.onFocus(e)})),hi(this,"handleFilesOver",(e=>{this.setState({hoveringFiles:e})})),hi(this,"handleFilesOut",(()=>{this.setState({hoveringFiles:[]})})),hi(this,"handleUpload",(({file:e,uploader:t})=>{this.uploadWith(t,e)})),hi(this,"setToast",(e=>{this.toast=e})),this._assetFieldPath=e.path.concat(Bin)}clearUploadStatus(){var e;null!=(e=this.props.value)&&e._upload&&this.props.onChange(Tt.from([ft(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(e){const{schemaType:t}=this.props,n=e.map((e=>{var n,r;return{file:e,uploader:null==(r=(n=this.props).resolveUploader)?void 0:r.call(n,t,e)}})).find((e=>e.uploader));n&&this.uploadWith(n.uploader,n.file),this.setState({isMenuOpen:!1})}renderUploadState(e){const{isUploading:t}=this.state;return u.jsx(A2e,{uploadState:e,onCancel:t?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:e}=this.state,{value:t,schemaType:n,observeAsset:r,t:i}=this.props;if(!e)return null;const o=Yn(n,"options.accept",""),a=e.component;return t&&t.asset?u.jsx(cx,{observeAsset:r,reference:t.asset,waitPlaceholder:u.jsx(Wee,{}),children:e=>u.jsx(a,{selectedAssets:[e],selectionType:"single",assetType:"file",accept:o,dialogHeaderTitle:i("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):u.jsx(a,{selectedAssets:[],selectionType:"single",assetType:"file",accept:o,dialogHeaderTitle:i("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:e,changed:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:i,isStale:o}=this.state,a=!!(null!=e&&e._upload||null!=e&&e.asset);return!(e&&typeof e.asset<"u")||null!=e&&e._upload||lG(e)?s=>u.jsxs(u.Fragment,{children:[o&&u.jsx(N,{marginBottom:2,children:u.jsx(j2e,{onClearStale:this.handleClearUploadState})}),u.jsx(ka,{path:this._assetFieldPath,hasFocus:!!s.focused,isChanged:t,children:null!=e&&e._upload?this.renderUploadState(e._upload):u.jsx(_2e,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:u.jsxs("div",{style:{position:"relative"},children:[!(null!=e&&e.asset)&&this.renderUploadPlaceholder(),null!=e&&e.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(null!=e&&e._upload)&&e?.asset&&this.renderPreview()]})})})]}):()=>u.jsx(Min,{onClearValue:this.handleClearField})}renderPreview(){const{value:e,readOnly:t,assetSources:n,schemaType:r,directUploads:i,observeAsset:o,t:a}=this.props,{isMenuOpen:s}=this.state,l=e?.asset;if(!l)return null;const c=Yn(r,"options.accept","");let d=n&&0===n?.length?null:u.jsx(qe,{icon:ea,text:a("inputs.file.browse-button.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(n[0])},disabled:t,"data-testid":"file-input-browse-button"});return n.length>1&&(d=n.map((e=>u.jsx(qe,{text:(e.i18nKey?a(e.i18nKey):e.title)||Tn(e.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(e)},icon:e.icon||tl,disabled:t,"data-testid":`file-input-browse-button-${e.name}`},e.name)))),u.jsx(cx,{reference:l,observeAsset:o,waitPlaceholder:u.jsx(Wee,{}),children:({originalFilename:n,extension:r,url:o,size:a})=>{const l=n||`download.${r}`;let f,p;return lG(e)&&(p=`${o}?dl`,f=o),u.jsx(Rin,{size:a,originalFilename:l,muted:!t,onMenuOpen:e=>this.setState({isMenuOpen:e}),isMenuOpen:s,setMenuButtonElement:this.setBrowseButtonElement,children:u.jsx(w2e,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:p,copyUrl:f,readOnly:t,accept:c,directUploads:i})})}})}renderAssetMenu(e){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:i}=this.props,{hoveringFiles:o}=this.state,a=o.filter((e=>i?.(t,e))),s=o.length-a.length;return u.jsx($in,{radius:2,tone:e,children:u.jsx(Pin,{align:"center",justify:"center",gap:2,flex:1,children:u.jsx(E2e,{readOnly:n,hoveringFiles:o,acceptedFiles:a,rejectedFilesCount:s,directUploads:r,type:"file"})})})}renderBrowser(){const{assetSources:e,readOnly:t,directUploads:n,id:r,t:i}=this.props;return 0===e.length?null:e.length>1&&!t&&n?u.jsx(Gt,{id:`${r}_assetFileButton`,ref:this.setBrowseButtonElement,button:u.jsx(me,{mode:"bleed",text:i("inputs.file.multi-browse-button.text"),"data-testid":"file-input-multi-browse-button",icon:ea}),"data-testid":"input-select-button",menu:u.jsx(At,{children:e.map((e=>u.jsx(qe,{text:e.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(e)},icon:e.icon||tl,disabled:t,"data-testid":`file-input-browse-button-${e.name}`},e.name)))})}):u.jsx(me,{text:i("inputs.file.browse-button.text"),icon:ea,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(e[0])},"data-testid":"file-input-browse-button",disabled:t,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:e,schemaType:t,directUploads:n,resolveUploader:r}=this.props,{hoveringFiles:i}=this.state,o=i.filter((e=>r?.(t,e))),a=i.length-o.length,s=Yn(t,"options.accept","");return u.jsx(u.Fragment,{children:u.jsx(ae,{tone:e?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:0===i.length?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:u.jsx(k2e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:e,hoveringFiles:i,acceptedFiles:o,rejectedFilesCount:a,type:"file",accept:s,directUploads:n})})})}getFileTone(){const{directUploads:e,schemaType:t,value:n,readOnly:r,resolveUploader:i}=this.props,{hoveringFiles:o}=this.state,a=o.filter((e=>i?.(t,e))),s=o.length-a.length;return o.length>0&&(s>0||!e)?"critical":null!=n&&n._upload||r||!(o.length>0)?null!=n&&n._upload&&null!=n&&n.asset&&r?"transparent":"default":"primary"}render(){const{members:e,renderAnnotation:t,renderBlock:n,renderInlineBlock:r,renderItem:i,renderInput:o,renderField:a,renderPreview:s,t:l}=this.props,{selectedAssetSource:c}=this.state;return u.jsxs(u.Fragment,{children:[u.jsx(A5e,{ref:this.setToast}),e.map((e=>"field"!==e.kind||"crop"!==e.name&&"hotspot"!==e.name?"field"===e.kind?u.jsx(Lw,{member:e,renderAnnotation:t,renderInlineBlock:r,renderBlock:n,renderInput:"asset"===e.name?this.renderAsset():o,renderField:"asset"===e.name?Nin:a,renderItem:i,renderPreview:s},e.key):"fieldSet"===e.kind?u.jsx(O9,{member:e,renderAnnotation:t,renderBlock:n,renderField:a,renderInlineBlock:r,renderInput:o,renderItem:i,renderPreview:s},e.key):"error"===e.kind?u.jsx(OA,{member:e},e.key):u.jsx(u.Fragment,{children:l("inputs.file.error.unknown-member-kind",{kind:e.kind})}):null)),c&&this.renderAssetSource()]})}}function zin(e){var t;const n=null==(t=e.schemaType.options)?void 0:t.sources,r=Ui(),{file:i}=tc().__internal,o=Zt(zt),{t:a}=Z(),s=f.useCallback(((e,t)=>i.directUploads?I9(e,t):null),[i.directUploads]),l=f.useMemo((()=>n||i.assetSources),[i,n]),c=f.useCallback((e=>cCe(r,e)),[r]);return u.jsx(Vin,{...e,t:a,client:o,assetSources:l,directUploads:i.directUploads,observeAsset:c,resolveUploader:s})}const Uin=["asset"];function Hin(e,t){const{elementProps:n,handleClearUploadState:r,handleFilesOut:i,handleFilesOver:o,handleFileTargetFocus:a,handleSelectFiles:s,hoveringFiles:l,inputProps:c,isStale:d,readOnly:p,renderAssetMenu:h,renderPreview:m,renderUploadPlaceholder:g,renderUploadState:y,tone:v,value:b}=e,x=!!(null!=b&&b._upload||null!=b&&b.asset),w=f.useMemo((()=>c.path.concat(Uin)),[c.path]);return u.jsxs(u.Fragment,{children:[d&&u.jsx(N,{marginBottom:2,children:u.jsx(j2e,{onClearStale:r})}),u.jsx(ka,{path:w,hasFocus:!!c.focused,isChanged:c.changed,children:null!=b&&b._upload?y(b._upload):u.jsxs(_2e,{...n,onFocus:a,tabIndex:0,disabled:!!p,onFiles:s,onFilesOver:o,onFilesOut:i,tone:v,$border:x||l.length>0,sizing:"border",radius:2,children:[!(null!=b&&b.asset)&&g(),!(null!=b&&b._upload)&&b?.asset&&u.jsxs("div",{style:{position:"relative"},ref:t,children:[m(),h()]})]})})]})}const Win=f.memo(f.forwardRef(Hin)),D2e=$(xn)`
  position: absolute;
  top: 0;
  right: 0;
`,Gin=()=>u.jsx(D2e,{padding:2,children:u.jsx(Hu,{style:{width:"25px",height:"25px"},animated:!0})});function Yin(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:i,setMenuButtonElement:o,onMenuOpen:a,isMenuOpen:s}=e,[l,c]=f.useState(null),[d,p]=f.useState(null),h=f.useCallback((()=>a(!s)),[a,s]);mo(f.useCallback((e=>{s&&("Escape"===e.key||"Tab"===e.key)&&(a(!1),d?.focus())}),[s,a,d])),Fn(f.useCallback((e=>{null!=d&&d.contains(e.target)||a(!1)}),[d,a]),[l]);const m=f.useCallback((e=>{o(e),p(e)}),[o]);f.useEffect((()=>{s&&l?.focus()}),[s,l]);const{t:g}=Z();return u.jsx(Sa,{children:u.jsxs(D2e,{"data-buttons":!0,space:1,padding:2,children:[r&&u.jsx(me,{"aria-label":g("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:wF,mode:"ghost",onClick:t,ref:i,tooltipProps:{content:g("inputs.image.actions-menu.crop-image-tooltip")}}),u.jsx(An,{id:"image-actions-menu",content:u.jsx(At,{ref:c,children:n}),portal:!0,open:s,constrainSize:!0,children:u.jsx(ai,{"aria-label":g("inputs.image.actions-menu.options.aria-label"),"data-testid":"options-menu-button",mode:"ghost",onClick:h,ref:m})})]})})}function qin(e){const{assetSources:t,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:o,handleSelectImageFromAssetSource:a,imageUrlBuilder:s,isImageToolEnabled:l,isMenuOpen:c,observeAsset:d,readOnly:p,schemaType:h,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,value:v}=e,{t:b}=Z(),x=f.useMemo((()=>Yn(h,"options.accept","image/*")),[h]),w=v?.asset,C=v&&w&&l;if(!w)return null;let k=t&&0===t.length?null:u.jsx(qe,{icon:ea,text:b("inputs.image.browse-menu.text"),onClick:()=>{y(!1),a(t[0])},disabled:p,"data-testid":"file-input-browse-button"});return t&&t.length>1&&(k=t.map((e=>u.jsx(qe,{text:(e.i18nKey?b(e.i18nKey):e.title)||Tn(e.name),onClick:()=>{y(!1),a(e)},icon:e.icon||tl,"data-testid":`file-input-browse-button-${e.name}`,disabled:p},e.name)))),u.jsx(Xin,{accept:x,browseMenuItem:k,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:o,imageUrlBuilder:s,isMenuOpen:c,observeAsset:d,readOnly:p,reference:w,schemaType:h,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,showAdvancedEditButton:!!C,value:v})}const Kin=f.memo(qin);function Zin(e){const{accept:t,browseMenuItem:n,directUploads:r,handleOpenDialog:i,handleRemoveButtonClick:o,handleSelectFiles:a,imageUrlBuilder:s,isMenuOpen:l,observeAsset:c,readOnly:d,reference:p,setHotspotButtonElement:h,setMenuButtonElement:m,setMenuOpen:g,showAdvancedEditButton:y,value:v}=e,b=p?._ref,x=Wr(f.useMemo((()=>c(b)),[b,c]));if(!b||!x)return u.jsx(Gin,{});const{_id:w,originalFilename:C,extension:k}=x;let j,S;if(P1(v)){const e=C||`download.${k}`;S=s.image(w).forceDownload(e).url(),j=s.image(w).url()}return u.jsx(Yin,{isMenuOpen:l,onEdit:i,onMenuOpen:g,setHotspotButtonElement:h,setMenuButtonElement:m,showEdit:!!y,children:u.jsx(w2e,{onUpload:a,browse:n,onReset:o,downloadUrl:S,copyUrl:j,readOnly:d,directUploads:r,accept:t})})}const Xin=f.memo(Zin);function Jin(e){const{handleAssetSourceClosed:t,handleSelectAssetFromSource:n,observeAsset:r,schemaType:i,selectedAssetSource:o,value:a}=e,s=f.useMemo((()=>Yn(i,"options.accept","image/*")),[i]);if(!o)return null;const{component:l}=o;return a&&a.asset?u.jsx(cx,{observeAsset:r,reference:a.asset,children:e=>u.jsx(l,{selectedAssets:[e],assetType:"image",accept:s,selectionType:"single",onClose:t,onSelect:n})}):u.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:t,onSelect:n})}const Qin=f.memo(Jin),ean={portal:!0};function tan(e,t){const{assetSources:n,readOnly:r,directUploads:i,id:o,setMenuOpen:a,handleSelectImageFromAssetSource:s}=e,{t:l}=Z();return n&&0===n.length?null:n&&n.length>1&&!r&&i?u.jsx(Gt,{id:`${o}_assetImageButton`,ref:t,button:u.jsx(me,{"data-testid":"file-input-multi-browse-button",icon:ea,iconRight:ci,mode:"bleed",text:l("inputs.image.browse-menu.text")}),menu:u.jsx(At,{children:n.map((e=>u.jsx(qe,{text:(e.i18nKey?l(e.i18nKey):e.title)||Tn(e.name),onClick:()=>{a(!1),s(e)},icon:e.icon||tl,disabled:r,"data-testid":`file-input-browse-button-${e.name}`},e.name)))}),popover:ean}):u.jsx(me,{text:l("inputs.image.browse-menu.text"),icon:ea,mode:"bleed",onClick:()=>{a(!1),s(n[0])},"data-testid":"file-input-browse-button",disabled:r})}const nan=f.memo(f.forwardRef(tan)),Gee=$(N)`
  position: relative;
  padding-bottom: calc(${({ratio:e=1.5})=>1/e} * 100%);

  & > div {
    position: absolute;
    top: ${({padding:e=0})=>e}px;
    left: ${({padding:e=0})=>e}px;
    right: ${({padding:e=0})=>e}px;
    bottom: ${({padding:e=0})=>e}px;
  }
`,ld={x:.5,y:.5,height:1,width:1},ud={top:0,left:0,right:0,bottom:0};function ran(e={}){const t=Yee(e.image)||1,n=e.hotspot||ld,r=e.crop||ud,i=Yee(e.container)||t*aan(r),o=ian(t,{hotspot:n,crop:r},{aspect:i,align:e.align||{x:"center",y:"center"}}),a=R2e(O2e(100/i));return{debug:{result:o},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:Nd(o.crop.height),width:Nd(o.crop.width),top:Nd(o.crop.top),left:Nd(o.crop.left)},image:{position:"absolute",height:Nd(o.image.height),width:Nd(o.image.width),top:Nd(o.image.top),left:Nd(o.image.left)}}}function Yee(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if("number"!=typeof e.height&&"number"!=typeof e.width)throw new Error(`Height and width must be numbers, got ${JSON.stringify(e)}`);return e.width/e.height}return null}function O2e(e,t=2){const n=Math.pow(10,t);return Math.round(e*n)/n}function ian(e,t,n){const r=t.crop,i=n.aspect,o=n.align,a=1-r.left-r.right,s=1-r.top-r.bottom,l={top:-r.top/s,left:-r.left/a,width:1/a,height:1/s},u=a/s*e,c=(t.hotspot.x-r.left)/a,d=(t.hotspot.y-r.top)/s,f=t.hotspot.height/s,p=t.hotspot.width/a,h=1/p,m=1/f*u/i,g=Math.min(h,m);let y;const v=u<=i;let b,x;if(y=v?1:u/i,y>g){let e;b="letterbox";e=v?1-(y-g):g,x={width:e,height:e/u*i,left:0,top:0};const t=c*x.width-p*x.width/2;switch(o.x){case"left":x.left=v?0:-t;break;case"right":x.left=v?1-x.width:t;break;case"center":x.left=v?(1-x.width)/2:-t;break;default:throw new Error(`Invalid x alignment: '${o.x}'. Must be either 'left', 'right' or 'center'`)}const n=d*x.height-f*x.height/2;switch(o.y){case"top":x.top=v?-n:0;break;case"bottom":x.top=n;break;case"center":x.top=v?-n:(1-x.height)/2;break;default:throw new Error(`Invalid y alignment: '${o.y}'. Must be either 'top', 'bottom' or 'center'`)}}else if(v){b="full_width";let e=-d/u*i+.5;const t=y/u*i;e>0?e=0:-e>t-1&&(e=-(t-1)),x={width:y,height:t,left:0,top:e}}else{b="full_height";let e=.5-c*y;e>0?e=0:-e>y-1&&(e=-(y-1)),x={width:y,height:y/u*i,top:0,left:e}}return{method:b,crop:x,image:l}}function aan(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function R2e(e){return 0===e?0:`${e}%`}function Nd(e){return R2e(O2e(100*e))}const oan=$.div`
  position: relative;
  width: 100%;
`,san=fa("sanity-imagetool");function lan(e,t){const n=1/t,r=t*n;return(r-(e.left+e.right)*r)/(n-(e.top+e.bottom)*n)}const uan=f.memo((function(e){const{alignX:t="center",alignY:n="center",alt:r,aspectRatio:i="none",className:o="",crop:a=ud,hotspot:s=ld,onError:l,onLoad:c,src:d,srcAspectRatio:p,srcSet:h,style:m}=e,[g,y]=f.useState(null),v=f.useRef(null),b=f.useRef(null),x=f.useCallback((()=>{if(v.current)if("auto"===i){const e=v.current.parentNode;f.startTransition((()=>y(e.offsetWidth/e.offsetHeight)))}else y(null)}),[i]);f.useEffect((()=>{const e=b.current;return e&&e.src&&e.complete&&void 0!==e.naturalWidth&&(san("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",d),e.src=e.src),x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}}),[d,x]);const w=f.useMemo((()=>"none"===i?a?lan(a,p):p:"auto"===i?g:i||null),[i,g,a,p]),C=f.useMemo((()=>ran({container:{aspectRatio:w||p},image:{aspectRatio:p},hotspot:s,crop:a,align:{x:t,y:n}})),[t,n,a,s,p,w]);return u.jsx(oan,{className:`${o}`,style:m,ref:v,children:u.jsxs("div",{style:C.container,children:[u.jsx("div",{style:C.padding}),u.jsx("div",{style:C.crop,children:u.jsx("img",{ref:b,src:d,alt:r,srcSet:h,onLoad:c,onError:l,style:C.image})})]})})}));function can(e){const{src:t,children:n}=e,[r,i]=f.useState(!0),[o,a]=f.useState(null),[s,l]=f.useState(null);return f.useEffect((()=>{a(null),l(null),i(!0);const e=new Image;e.onload=()=>{a(e),l(null),i(!1)},e.onerror=()=>{l(new Error(`Could not load image from ${JSON.stringify(t)}`)),i(!1)},e.referrerPolicy="strict-origin-when-cross-origin",e.src=t}),[t]),n({image:o,error:s,isLoading:r})}function dan(e){const{image:t,maxHeight:n,maxWidth:r,children:i}=e,o=f.useRef(null),[a,s]=f.useState(!1);return f.useLayoutEffect((()=>{if(!o.current){const e=document.createElement("canvas");e.style.display="none",o.current=e,s(!0)}const e=t.width/t.height,i=Math.min(t.width,r),a=Math.min(t.height,n),l=t.width>t.height,u=l?i:a*e,c=l?i/e:a;o.current.width=u,o.current.height=c;const d=o.current.getContext("2d");d&&d.drawImage(t,0,0,t.width,t.height,0,0,u,c);const f=o.current;return document.body.appendChild(f),()=>{document.body.removeChild(f)}}),[t,n,r]),o.current&&a?i(o.current):null}var fan=Object.defineProperty,han=(e,t,n)=>t in e?fan(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eu=(e,t,n)=>han(e,"symbol"!=typeof t?t+"":t,n);class GP{constructor(e,t){Eu(this,"x"),Eu(this,"y"),this.x=e,this.y=t}}class qee{constructor(e,t,n){Eu(this,"y"),Eu(this,"_left"),Eu(this,"_right"),this.y=e,this._left=t,this._right=n}get right(){return new GP(this._right,this.y)}get left(){return new GP(this._left,this.y)}get length(){return this._right-this._left}}class pan{constructor(e){Eu(this,"rect"),this.rect=e}get top(){return new qee(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new qee(this.rect.bottom,this.rect.left,this.rect.right)}}class Ai{constructor(e=0,t=0,n=0,r=0){Eu(this,"left"),Eu(this,"top"),Eu(this,"width"),Eu(this,"height"),this.left=e,this.top=t,this.width=n,this.height=r}static fromEdges({left:e,right:t,top:n,bottom:r}){return new Ai(e,n,1-e-t,1-n-r)}setTopLeft(e,t){return new Ai(e,t,this.width||0,this.height||0)}setSize(e,t){return new Ai(this.left||0,this.top||0,e,t)}setCenter(e,t){const n=this.width||0,r=this.height||0;return new Ai(e-n/2,t-r/2,n||0,r||0)}get center(){return new GP(this.left+this.width/2,this.top+this.height/2)}get corners(){return new pan(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(e){return new Ai((this.left||0)+this.width*e.left,(this.top||0)+this.height*e.top,this.width*e.width,this.height*e.height)}grow(e){return new Ai(this.left-e,this.top-e,this.width+2*e,this.height+2*e)}shrink(e){return this.grow(-e)}cropRelative(e){const t=this.top+e.top*this.height,n=this.left+e.left*this.width,r=this.height*e.height,i=this.width*e.width;return new Ai(n,t,i,r)}clamp(e){let{left:t,top:n,width:r,height:i}=this;return e.width<r&&(r=e.width,t=e.left),e.height<i&&(i=e.height,n=e.top),t+r>e.left+e.width&&(t=e.right-r),n+i>e.top+e.height&&(n=e.bottom-i),new Ai(Math.max(t,e.left),Math.max(n,e.top),r,i)}}function Kee(e,t){const n=t.center.x,r=t.center.y,i=t.width/2,o=t.height/2;if(i<=0||o<=0)return!1;const a={x:e.x-n,y:e.y-r};return Math.pow(a.x,2)/Math.pow(i,2)+Math.pow(a.y,2)/Math.pow(o,2)<=1}function Zee({x:e,y:t},n){return Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.radius,2)}function z3(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function M2e(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}const man="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",gan="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",van=f.forwardRef((function(e,t){const{readOnly:n,onDragStart:r,onDragEnd:i,onDrag:o,...a}=e,s=f.useRef(null),l=f.useRef(null),c=f.useRef(!1),d=f.useCallback((e=>{if(n||!s.current)return;if(c.current)return void L2("Start cancelled, already a drag in progress");c.current=!0;const t=H3(e);L2("Drag started %o",t),r(U3(t.x,t.y,s.current.getBoundingClientRect())),l.current=t}),[r,n]),p=f.useCallback((e=>{if(!c.current||n||!l.current)return;const t=H3(e),r=xan(t,l.current);o(r),L2("moving by %o",r),l.current=t}),[o,n]),h=f.useCallback((()=>{!c.current||n||!l.current||!s.current||(c.current=!1,i(U3(l.current.x,l.current.y,s.current.getBoundingClientRect())),l.current=null)}),[i,n]),m=f.useCallback((e=>{if(!c.current||n||!s.current)return;const t=H3(e);i(U3(t.x,t.y,s.current.getBoundingClientRect())),c.current=!1,l.current=null,L2("Done moving %o",t)}),[i,n]);f.useEffect((()=>(document.body.addEventListener("pointermove",p),document.body.addEventListener("pointerup",m),document.body.addEventListener("pointerleave",h),document.body.addEventListener("pointercancel",h),()=>{document.body.removeEventListener("pointermove",p),document.body.removeEventListener("pointerup",m),document.body.removeEventListener("pointerleave",h),document.body.removeEventListener("pointercancel",h)})),[p,h,m]);const g=f.useCallback((e=>{s.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[t]);return u.jsx(ban,{ref:g,onPointerDown:n?void 0:d,...a})})),yan=f.memo(van),L2=fa("sanity-imagetool"),ban=$.canvas`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
  // Enable only multi-finger panning and zooming within this element.
  // This prevents single finger panning when manipulating drag handles,
  // which can cause unwanted scrolling in the underlying document body.
  touch-action: pinch-zoom;
`;function U3(e,t,n){return{x:e-n.left,y:t-n.top}}function H3(e){return{x:e.clientX,y:e.clientY}}function xan(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wan({context:e,image:t,MARGIN_PX:n,scale:r}){const i=(new Ai).setSize(t.width,t.height).shrink(n*r);e.save(),e.fillStyle="white",e.clearRect(0,0,t.width,t.height),e.globalAlpha=.3,e.drawImage(t,i.left,i.top,i.width,i.height),e.restore()}function Can({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:n,image:r,MARGIN_PX:i,opacity:o,readOnly:a,scale:s}){const l=(new Ai).setSize(r.width,r.height),{hotspot:u,crop:c}=e,d=i*s;function f(e,n,i,o,a,s,l,u){t.save(),t.drawImage(r,e,n,i,o,a,s,l,u),t.restore()}t.save(),function(){const e=l.cropRelative(c),n=l.shrink(d).cropRelative(c);t.save(),f(e.left,e.top,e.width,e.height,n.left,n.top,n.width,n.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(n.left,n.top,n.width,n.height),t.restore()}(),function(){t.save();const e=l.shrink(d).multiply(u),n=e.height/e.width;t.scale(1,n),t.beginPath(),t.globalAlpha=o,t.arc(e.center.x,e.center.y/n,Math.abs(e.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*s,t.stroke(),t.closePath(),t.restore()}(),t.clip(),function(){const e=l.multiply(u),t=l.shrink(d).multiply(u);f(e.left,e.top,e.width,e.height,t.left,t.top,t.width,t.height)}(),t.restore(),a||function(e){t.save();const r=n*s,i=l.shrink(d).multiply(u),o=M2e(e,i);t.beginPath(),t.arc(o.x,o.y,r,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(o.x,o.y,r,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*s,t.stroke(),t.closePath()}(1.25*Math.PI)}function San({context:e,hotspotRect:t,image:n,MARGIN_PX:r,scale:i}){e.save();const o=r*i;function a(e){l(e,o,e,n.height-o)}function s(e){l(o,e,n.width-o,e)}function l(t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),e.closePath()}e.setLineDash&&e.setLineDash([2*i,2*i]),e.lineWidth=.5*i,e.strokeStyle="rgba(200, 200, 200, 0.5)",a(t.center.x),s(t.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",s(t.top),s(t.bottom),a(t.left),a(t.right),e.restore()}function Ean({context:e,cropRect:t}){e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(t.left,t.top,t.width,t.height),e.stroke(),e.closePath(),e.restore()}function _an({context:e,cropHandles:t,cropping:n,opacity:r}){e.save(),$2e.forEach((i=>{e.fillStyle=n===i?`rgba(202, 54, 53, ${r})`:`rgba(230, 230, 230, ${r+.4})`;const{left:o,top:a,height:s,width:l}=t[i];e.fillRect(o,a,l,s),e.beginPath(),e.fillStyle=`rgba(66, 66, 66, ${r})`,e.rect(o,a,l,s),e.closePath(),e.stroke()})),e.restore()}const $2e=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];function kan({clampedValue:e,context:t,cropHandles:n,cropping:r,cropRect:i,HOTSPOT_HANDLE_SIZE:o,hotspotRect:a,image:s,MARGIN_PX:l,pointerPosition:u,ratio:c,readOnly:d,scale:f}){t.save(),t.scale(c,c);const p=!d&&u?.8:.2;wan({context:t,image:s,MARGIN_PX:l,scale:f}),Can({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:o,image:s,MARGIN_PX:l,opacity:p,readOnly:d,scale:f}),San({context:t,hotspotRect:a,image:s,MARGIN_PX:l,scale:f}),Ean({context:t,cropRect:i}),d||_an({context:t,cropHandles:n,cropping:r,opacity:p}),t.restore()}const Tan=$.div`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`;function Aan(){const[e,t]=f.useState(null),[n,r]=f.useState(0),[i,o]=f.useState(0),a=f.useMemo((()=>({height:n,width:i})),[n,i]);return f.useEffect((()=>{if(e)return r(e.clientHeight),o(e.clientWidth),ix.observe(e,(e=>{r(Math.round(e.contentRect.height)),o(Math.round(e.contentRect.width))})),()=>{ix.unobserve(e)}}),[e]),[a,t]}var jan=Object.defineProperty,Ian=(e,t,n)=>t in e?jan(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bd=(e,t,n)=>Ian(e,"symbol"!=typeof t?t+"":t,n);const YP=8,Dan=12,Oan=10;function Ran(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Man(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Xee(e,t){const{top:n,right:r,bottom:i,left:o}=e.crop||ud;return{value:{hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:i+(t.bottom||0)>0?i:0,left:o+(t.left||0)>0?o:0}},delta:{top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:i+(t.bottom||0)>0&&t.bottom||0,left:o+(t.left||0)>0&&t.left||0}}}function $an(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}function Pan(e){const{image:t,readOnly:n,onChange:r,onChangeEnd:i,value:o}=e,a=Ape(),[s,l]=Aan(),c=f.useMemo((()=>t.width/s.width),[s.width,t.width]),d=f.useMemo((()=>{const e=o.hotspot||ld,n=(new Ai).setSize(e.width,e.height).setCenter(e.x,e.y);return(new Ai).setSize(t.width,t.height).shrink(8*c).multiply(n)}),[t.height,t.width,c,o.hotspot]),p=f.useMemo((()=>(new Ai).setSize(t.width,t.height).shrink(8*c).cropRelative(Ai.fromEdges(o.crop||ud).clamp(new Ai(0,0,1,1)))),[t.height,t.width,c,o.crop]),h=f.useMemo((()=>{const e=p,t=12*c,n=t/2,r=new Ai(0,0,t,t);return{left:r.setTopLeft(e.left-n,e.center.y-n),right:r.setTopLeft(e.right-n,e.center.y-n),top:r.setTopLeft(e.center.x-n,e.top-n),topLeft:r.setTopLeft(e.left-n,e.top-n),topRight:r.setTopLeft(e.right-n,e.top-n),bottom:r.setTopLeft(e.center.x-n,e.bottom-n),bottomLeft:r.setTopLeft(e.left-n,e.bottom-n),bottomRight:r.setTopLeft(e.right-n,e.bottom-n)}}),[p,c]),m=f.useMemo((()=>{const e=Ai.fromEdges(o.crop||ud).clamp(new Ai(0,0,1,1)),t=o.hotspot||ld;return{crop:e,hotspot:new Ai(0,0,1,1).setSize(t.width,t.height).setCenter(t.x,t.y).clamp(e)}}),[o.crop,o.hotspot]);return u.jsx(Lan,{actualSize:s,hotspotRect:d,cropRect:p,cropHandles:h,clampedValue:m,image:t,onChange:r,onChangeEnd:i,ratio:a,readOnly:n,scale:c,setCanvasObserver:l,value:o})}const Fan=f.memo(Pan);class Lan extends f.PureComponent{constructor(){super(...arguments),Bd(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,pointerPosition:null}),Bd(this,"canvas"),Bd(this,"handleDragStart",(({x:e,y:t})=>{const n={x:e*this.props.scale,y:t*this.props.scale},r=Kee(n,this.props.hotspotRect),i=Zee(n,this.getDragHandleCoords()),o=this.getActiveCropHandleFor(n),a=z3(n,this.props.cropRect);o?this.setState({cropping:o}):i?this.setState({resizing:!0}):r?this.setState({moving:!0}):a&&this.setState({cropMoving:!0})})),Bd(this,"handleDrag",(e=>{this.state.cropping?this.emitCrop(this.state.cropping,e):this.state.cropMoving?this.emitCropMove(e):this.state.moving?this.emitMove(e):this.state.resizing&&this.emitResize(e)})),Bd(this,"handleDragEnd",(()=>{const{onChange:e,onChangeEnd:t}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:n,crop:r}=this.props.clampedValue,i=Ran(r),o={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:n.center.x,y:n.center.y,height:Math.abs(n.height),width:Math.abs(n.width)}};e(o),t&&t(o)})),Bd(this,"handlePointerOut",(()=>{this.setState({pointerPosition:null})})),Bd(this,"handlePointerMove",(e=>{const t=e.currentTarget.getBoundingClientRect();this.setState({pointerPosition:{x:(e.clientX-t.left)*this.props.scale,y:(e.clientY-t.top)*this.props.scale}})})),Bd(this,"setCanvas",(e=>{e&&(this.canvas=e),this.props.setCanvasObserver(e)}))}getActiveCropHandleFor({x:e,y:t}){const n=this.props.cropHandles;for(const r of $2e)if(z3({x:e,y:t},n[r]))return r;return!1}emitMove(e){const{image:t,value:n,onChange:r}=this.props,i=this.props.scale;r(Nan(n,{x:e.x*i/t.width,y:e.y*i/t.height}))}emitCropMove(e){const{image:t,onChange:n,value:r}=this.props,i=this.props.scale,o={left:e.x*i/t.width,right:-e.x*i/t.width,top:e.y*i/t.height,bottom:-e.y*i/t.height};Man(r,o)&&n(Jee(r,o))}emitCrop(e,t){const{image:n,onChange:r,value:i}=this.props,o=this.props.scale;let a=0,s=0,l=0,u=0;"left"==e||"topLeft"===e||"bottomLeft"===e?a=t.x*o/n.width:("right"==e||"topRight"===e||"bottomRight"===e)&&(s=-t.x*o/n.width),"top"==e||"topLeft"===e||"topRight"===e?l=t.y*o/n.height:("bottom"==e||"bottomLeft"===e||"bottomRight"===e)&&(u=-t.y*o/n.height);const c={left:a,right:s,top:l,bottom:u};r(Jee(Xee(i,c).value,Xee(i,c).delta))}emitResize(e){const{image:t,onChange:n,value:r}=this.props,i=this.props.scale,o={x:e.x*i*2/t.width,y:e.y*i*2/t.height};n(Ban(r,{height:o.y,width:o.x}))}getDragHandleCoords(){const e=this.props.hotspotRect,t=M2e(1.25*Math.PI,e);return{x:t.x,y:t.y,radius:8*this.props.scale}}getCursor(){const{pointerPosition:e}=this.state,{readOnly:t}=this.props;if(!e||t)return"auto";const n=this.state.cropping||this.getActiveCropHandleFor(e);if(n)return $an(n)||"auto";const r=Zee(e,this.getDragHandleCoords());if(this.state.resizing||r)return"move";if(this.state.moving||this.state.cropMoving)return`url(${gan}), move`;const i=Kee(e,this.props.hotspotRect),o=z3(e,this.props.cropRect);return i||o?`url(${man}), move`:"auto"}componentDidMount(){const{canvas:e}=this;e&&this.draw({canvas:e})}componentDidUpdate(){const{canvas:e}=this;e&&this.draw({canvas:e})}draw({canvas:e}){const t=e.getContext("2d");if(!t)return;const{clampedValue:n,cropHandles:r,cropRect:i,hotspotRect:o,image:a,ratio:s,readOnly:l,scale:u}=this.props,{cropping:c,pointerPosition:d}=this.state;kan({clampedValue:n,context:t,cropHandles:r,cropping:c,cropRect:i,HOTSPOT_HANDLE_SIZE:10,hotspotRect:o,image:a,MARGIN_PX:8,pointerPosition:d,ratio:s,readOnly:l,scale:u});const f=e.style.cursor,p=this.getCursor();f!==p&&(e.style.cursor=p)}render(){const{image:e,readOnly:t,ratio:n}=this.props;return u.jsx(Tan,{children:u.jsx(yan,{readOnly:t,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onPointerMove:this.handlePointerMove,onPointerOut:this.handlePointerOut,height:e.height*n,width:e.width*n})})}}function Nan(e,t){const n=e&&e.hotspot||ld;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Ban(e,t){const n=e&&e.hotspot||ld;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Jee(e,t){const n=e&&e.crop||ud;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function dx(e){return u.jsx(can,{src:e.src,children:({isLoading:t,image:n,error:r})=>t?u.jsx(wn,{showText:!0}):r?u.jsx("div",{children:r.message}):n?u.jsx(dan,{image:n,maxHeight:dx.maxHeight,maxWidth:dx.maxWidth,children:t=>u.jsx(Fan,{image:t,...e})}):null})}dx.maxHeight=500,dx.maxWidth=1e3;const Van="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function zan(e){return e.startsWith("blob:")}function Uan(e){return new It((t=>{const n=document.createElement("img");let r=!1;return n.onload=()=>{r=!0,t.next(n),t.complete()},n.onerror=()=>{r=!0,t.error(new Error(`Could not load image from ${zan(e)?"blob":e}`))},n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Van)}}))}const Qee={isLoading:!0};function Han(e){const[t,n]=f.useState(Qee);return f.useEffect((()=>{n(Qee);const t=Uan(e).subscribe({error:e=>{n({isLoading:!1,error:e})},next:e=>{n({image:e,isLoading:!1})}});return()=>{t.unsubscribe()}}),[e]),t}const ete=["hotspot"],tte=[["3:4",3/4],["Square",1],["16:9",16/9],["Panorama",4]],nte={crop:ud,hotspot:ld},Wan=$.div`
  min-height: 6em;
`;function Gan(e){return u.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function Yan(e){const{imageUrl:t,value:n,changed:r,level:i,path:o,focusPath:a=an,presence:s,onChange:l,schemaType:c,onPathFocus:d,readOnly:p,elementProps:h}=e,[m,g]=f.useState(n||nte),{image:y,isLoading:v,error:b}=Han(t),x=f.useCallback((()=>{d(ete)}),[d]);f.useEffect((()=>{g(n||nte)}),[n]);const w="hotspot"===a[0];Ja(w,(e=>{var t;!e&&w&&(null==(t=h.ref.current)||t.focus())}));const C=f.useCallback((e=>{if(p)return;const t=c.fields.find((e=>"crop"===e.name&&"object"!==e.type.name)),n=c.fields.find((e=>"object"!==e.type.name&&"hotspot"===e.name)),r=t?{_type:t.type.name,...e.crop||ud}:e.crop,i=n?{_type:n.type.name,...e.hotspot||ld}:e.hotspot;l([lt(r,["crop"]),lt(i,["hotspot"])])}),[l,p,c.fields]),{t:k}=Z();return u.jsx(Im,{title:k("inputs.imagetool.title"),level:i,description:k("inputs.imagetool.description"),deprecated:c.deprecated,__unstable_presence:s,children:u.jsxs("div",{children:[u.jsx(ae,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:h.ref,onFocus:x,children:u.jsx(ka,{path:o.concat(ete),hasFocus:"hotspot"===a[0],isChanged:r,children:u.jsxs(Gee,{ratio:1.5,children:[(v||b)&&u.jsx(Gan,{children:b?u.jsx(ae,{padding:4,radius:2,tone:"critical",border:!0,children:u.jsx(L,{children:k("inputs.imagetool.load-error",{errorMessage:b.message})})}):u.jsx(wn,{showText:!0})}),!v&&y&&u.jsx(N,{margin:1,children:u.jsx(dx,{value:m,src:y.src,readOnly:!!p,onChangeEnd:C,onChange:g})})]})})}),u.jsx(N,{marginTop:3,children:u.jsx(Rn,{columns:tte.length,gap:1,children:tte.map((([e,t])=>u.jsxs("div",{children:[u.jsx(Ci,{as:"h4",size:0,children:e}),u.jsx(N,{marginTop:2,children:u.jsx(Gee,{ratio:t,children:u.jsx(ae,{__unstable_checkered:!0,children:!v&&y?u.jsx(uan,{aspectRatio:t,src:y.src,srcAspectRatio:y.width/y.height,hotspot:m.hotspot||ld,crop:m.crop||ud}):u.jsx(Wan,{})})})})]},t)))})})]})})}const qan=f.memo((function(e){const{handleCloseDialog:t,inputProps:n,imageInputProps:r,isImageToolEnabled:i}=e,{t:o}=Z(),{changed:a,id:s,imageUrlBuilder:l,value:c}=r,d=i&&c&&c.asset,p=f.useMemo((()=>null!=c&&c.asset?l.image(c.asset).url():""),[l,c?.asset]);return u.jsx(Si,{__unstable_autoFocus:!1,header:o("inputs.image.hotspot-dialog.title"),id:`${s}_dialog`,onClickOutside:t,onClose:t,width:1,children:u.jsx(tv,{children:u.jsx(ne,{space:5,children:d&&c?.asset&&u.jsx(Yan,{...r,imageUrl:p,value:c,presence:n.presence,changed:a})})})})})),rte=30,Kan=$(ae)`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`,Zan=$(U)((({$drag:e,$tone:t})=>{const n=kp.color.light[t].card.enabled.fg,r=zL(kp.color.light[t].card.enabled.bg,.8);return de`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: ${e?"blur(10px)":""};
    color: ${t?n:""};
    background-color: ${e?r:"transparent"};
  `})),Xan=$(U)`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`,Jan=e=>{const t=new URLSearchParams(e.split("?")[1]).get("rect");return t?[t.split(",")[2],t.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Qan(e){const{drag:t,readOnly:n,isRejected:r,src:i,initialHeight:o,...a}=e,[s,l]=f.useState(!1),[c,d]=f.useState(null),p=Tp(c),h=p?.width||0,m=t?r||n?"critical":"primary":"default",g=rte*document.documentElement.clientHeight/100,[y,v]=Jan(i),b=(y>h?h/(y/v):v)<g?null:`${rte}vh`;f.useEffect((()=>{l(!1)}),[i]);const x=f.useCallback((()=>{l(!0)}),[]),{t:w}=Z();return u.jsxs(Kan,{...a,ref:d,style:{height:o&&!s?o:b},tone:"transparent",children:[u.jsxs(ae,{"data-container":!0,tone:"inherit",children:[!s&&u.jsx(ite,{cardTone:"transparent",drag:!0,content:u.jsx(wn,{showText:!0})}),u.jsx("img",{src:i,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:x,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&u.jsx(ite,{cardTone:m,drag:t,content:u.jsxs(u.Fragment,{children:[u.jsx(N,{marginBottom:3,children:u.jsx(Ci,{children:u.jsx(eon,{isRejected:r,readOnly:n})})}),u.jsx(L,{size:1,children:w(ton({isRejected:r,readOnly:n}))})]})})]})}function eon({isRejected:e,readOnly:t}){return e?u.jsx(Zc,{}):t?u.jsx(o1,{}):u.jsx(tl,{})}function ton({isRejected:e,readOnly:t}){return e?"inputs.image.drag-overlay.this-field-is-read-only":t?"inputs.image.drag-overlay.cannot-upload-here":"inputs.image.drag-overlay.drop-to-upload-image"}function ite({cardTone:e,drag:t,content:n}){return u.jsx(Zan,{justify:"flex-end",padding:3,$drag:t,$tone:e,children:u.jsx(Xan,{direction:"column",align:"center",justify:"center",children:n})})}const non=f.memo((function(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:c}=e,d=f.useMemo((()=>P1(c)),[c]);return c&&d?u.jsx(ron,{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:c}):null}));function ron(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:c}=e,{t:d}=Z(),p=f.useMemo((()=>r.filter((e=>s(l,e)))),[r,s,l]),h=f.useMemo((()=>r.length-p.length),[p,r]),m=Ape(),g=f.useMemo((()=>i.width(2e3).fit("max").image(c).dpr(m).auto("format").url()),[m,i,c]);return u.jsx(Qan,{alt:d("inputs.image.preview-uploaded-image"),drag:!(null!=c&&c._upload)&&r.length>0,initialHeight:o,isRejected:h>0||!t,onDoubleClick:n,readOnly:a,src:g})}function ion(e){const{directUploads:t,handleSelectFiles:n,hoveringFiles:r,readOnly:i,renderBrowser:o,resolveUploader:a,schemaType:s}=e,l=f.useMemo((()=>r.filter((e=>a(s,e)))),[r,a,s]),c=f.useMemo((()=>Yn(s,"options.accept","image/*")),[s]),d=r.length-l.length;return u.jsx("div",{style:{padding:1},children:u.jsx(ae,{tone:i?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:0===r.length?{}:{borderColor:"transparent"},children:u.jsx(k2e,{browse:o(),onUpload:n,readOnly:i,hoveringFiles:r,acceptedFiles:l,rejectedFilesCount:d,type:"image",accept:c,directUploads:t})})})}const aon=f.memo(ion);function oon({onClearValue:e}){const{t:t}=Z();return u.jsxs(ae,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsxs(ne,{space:3,children:[u.jsx(L,{size:1,weight:"medium",children:t("inputs.image.invalid-image-warning.title")}),u.jsx(L,{size:1,children:t("inputs.image.invalid-image-warning.description")})]})]}),u.jsx(me,{icon:Ru,mode:"ghost",onClick:e,text:t("inputs.image.invalid-image-warning.reset-button.text"),width:"fill"})]})}function son(e){const{assetSources:t,client:n,directUploads:r,elementProps:i,focusPath:o,id:a,imageUrlBuilder:s,members:l,observeAsset:c,onChange:d,onPathFocus:p,path:h,readOnly:m,renderAnnotation:g,renderBlock:y,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C,resolveUploader:k,schemaType:j,value:S}=e,{push:E}=Ur(),{t:_}=Z(),[A,T]=f.useState(null),[D,M]=f.useState(!1),[I,O]=f.useState([]),[N,P]=f.useState(!1),[R,F]=f.useState(null),[L,$]=f.useState(null),[B,V]=f.useState(!1),z=f.useRef(null),U=f.useRef({el:null,height:0}),H=f.useCallback((e=>{var t;e?(U.current.el=e,U.current.height=e.offsetHeight):(U.current.height=(null==(t=U.current.el)?void 0:t.offsetHeight)||0,U.current.el=null)}),[]),W=f.useCallback((()=>{const e=I.filter((e=>k(j,e))),t=I.length-e.length;return I.length>0&&(t>0||!r)?"critical":null!=S&&S._upload||m||!(I.length>0)?m||null!=S&&S._upload&&null!=S&&S.asset?"transparent":"default":"primary"}),[r,I,m,k,j,S?._upload,S?.asset]),q=f.useCallback((()=>!0===Yn(j,"options.hotspot")),[j]),G=f.useCallback((()=>"string"!=typeof h.slice(-1)[0]),[h]),Y=f.useCallback((()=>{null!=S&&S._upload&&d(ft(["_upload"]))}),[d,S?._upload]),K=f.useCallback((()=>{z.current&&(z.current.unsubscribe(),Y())}),[Y]),X=f.useCallback(((e,t,r={})=>{const{label:i,title:o,description:a,creditLine:s,source:l}=r,u={metadata:Yn(j,"options.metadata"),storeOriginalFilename:Yn(j,"options.storeOriginalFilename"),label:i,title:o,description:a,creditLine:s,source:l};K(),M(!0),d(zo({_type:j.name})),z.current=e.upload(n,t,j,u).subscribe({next:e=>{e.patches&&d(e.patches)},error:e=>{console.error(e),E({status:"error",description:_("inputs.image.upload-error.description"),title:_("inputs.image.upload-error.title")}),Y()},complete:()=>{d([ft(["hotspot"]),ft(["crop"])]),M(!1)}})}),[K,Y,n,d,E,j,_]),J=f.useCallback((e=>{const t=e.map((e=>({file:e,uploader:k(j,e)}))).find((e=>e.uploader));t&&X(t.uploader,t.file),V(!1)}),[k,j,X]),Q=f.useCallback((()=>{d([ft(["asset"]),ft(["crop"]),ft(["hotspot"])]),U.current.el=null,U.current.height=0}),[d]),ee=f.useCallback((()=>{const e=Object.keys(S||{}),t=0===e.filter((e=>!["_type","_key","_upload","asset","crop","hotspot"].includes(e))).length,n=["asset"].concat(e.filter((e=>["crop","hotspot","_upload"].includes(e)))).map((e=>ft([e])));d(t&&!G()?ft():n),U.current.el=null,U.current.height=0}),[d,S,G]),te=f.useCallback((()=>{p(["hotspot"])}),[p]),re=f.useCallback((()=>{p([]),R?.focus()}),[R,p]),ie=f.useCallback((e=>{S2e({assetFromSource:e,onChange:d,type:j,resolveUploader:k,uploadWith:X,isImage:!0}),T(null)}),[d,k,j,X]),oe=f.useCallback((e=>{var t;e.currentTarget===e.target&&e.currentTarget===(null==(t=i.ref)?void 0:t.current)&&i.onFocus(e)}),[i]),ae=f.useCallback((e=>{O(e.filter((e=>"string"!==e.kind)))}),[]),se=f.useCallback((()=>{O([])}),[]),le=f.useCallback((()=>{K()}),[K]),ue=f.useCallback((()=>{P(!1),Y()}),[Y]),ce=f.useCallback((()=>{P(!0)}),[]),de=f.useCallback((e=>{r&&!m?J(e):I.length>0&&se()}),[r,se,I.length,m,J]),fe=f.useCallback((e=>{T(e)}),[]),pe=f.useCallback((()=>{T(null),L?.focus()}),[L]),he=f.useCallback((()=>u.jsx(non,{directUploads:r,handleOpenDialog:te,hoveringFiles:I,imageUrlBuilder:s,initialHeight:U.current.height,readOnly:m,resolveUploader:k,schemaType:j,value:S})),[r,te,I,s,m,k,j,S]),me=f.useCallback((()=>u.jsx(Kin,{assetSources:t,directUploads:r,handleOpenDialog:te,handleRemoveButtonClick:ee,handleSelectFiles:de,handleSelectImageFromAssetSource:fe,imageUrlBuilder:s,isImageToolEnabled:q(),isMenuOpen:B,observeAsset:c,readOnly:m,schemaType:j,setHotspotButtonElement:F,setMenuButtonElement:$,setMenuOpen:V,value:S})),[t,r,te,ee,de,fe,s,q,B,c,m,j,S]),ge=f.useCallback((()=>u.jsx(nan,{assetSources:t,readOnly:m,directUploads:r,id:a,setMenuOpen:V,handleSelectImageFromAssetSource:fe})),[t,r,fe,a,m]),ye=f.useCallback((()=>u.jsx(aon,{directUploads:r,handleSelectFiles:de,hoveringFiles:I,readOnly:m,renderBrowser:ge,resolveUploader:k,schemaType:j})),[r,de,I,m,ge,k,j]),ve=f.useCallback((e=>u.jsx(A2e,{uploadState:e,onCancel:D?le:void 0,onStale:ce,height:U.current.height})),[le,ce,D]),be=f.useCallback((()=>!(S&&typeof S.asset<"u")||null!=S&&S._upload||P1(S)?e=>u.jsx(Win,{ref:H,elementProps:i,handleClearUploadState:ue,handleFilesOut:se,handleFilesOver:ae,handleFileTargetFocus:oe,handleSelectFiles:de,hoveringFiles:I,inputProps:e,isStale:N,readOnly:m,renderAssetMenu:me,renderPreview:he,renderUploadPlaceholder:ye,renderUploadState:ve,tone:W(),value:S}):()=>u.jsx(oon,{onClearValue:Q})),[i,W,Q,ue,oe,se,ae,de,I,N,m,me,he,ye,ve,H,S]),xe=f.useCallback((t=>u.jsx(qan,{isImageToolEnabled:q(),handleCloseDialog:re,imageInputProps:e,inputProps:t})),[re,q,e]),we=f.useCallback((()=>u.jsx(Qin,{handleAssetSourceClosed:pe,handleSelectAssetFromSource:ie,observeAsset:c,schemaType:j,selectedAssetSource:A,value:S})),[pe,ie,c,j,A,S]),Ce=f.useMemo((()=>l.find((e=>"field"===e.kind&&"hotspot"===e.name))),[l]);return u.jsxs(ne,{space:5,"data-testid":"image-input",children:[l.map((e=>"field"!==e.kind||"crop"!==e.name&&"hotspot"!==e.name?"field"===e.kind?u.jsx(Lw,{member:e,renderAnnotation:g,renderBlock:y,renderInlineBlock:b,renderInput:"asset"===e.name?be():x,renderField:"asset"===e.name?uon:v,renderItem:w,renderPreview:C},e.key):"fieldSet"===e.kind?u.jsx(O9,{member:e,renderAnnotation:g,renderBlock:y,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C},e.key):"error"===e.kind?u.jsx(OA,{member:e},e.key):u.jsx(u.Fragment,{children:_("inputs.image.error.unknown-member-kind",{kind:e.kind})}):null)),Ce&&"hotspot"===o[0]&&u.jsx(R9,{...e,absolutePath:Ce.field.path,renderInput:xe}),A&&we()]})}const lon=f.memo(son);function uon({children:e}){return e}function con(e){var t;const n=null==(t=e.schemaType.options)?void 0:t.sources,{image:r}=tc().__internal,i=Ui(),o=Zt(zt),a=r.directUploads,s=f.useCallback(((e,t)=>a?I9(e,t):null),[a]),l=f.useMemo((()=>n||r.assetSources),[r,n]),c=f.useMemo((()=>iw(o)),[o]),d=f.useCallback((e=>uCe(i,e)),[i]),{t:p}=Z();return u.jsx(lon,{...e,t:p,client:o,assetSources:l,directUploads:a,imageUrlBuilder:c,observeAsset:d,resolveUploader:s})}const ate={document:Bee,object:Bee,array:nrn,boolean:orn,number:m2e,text:Jrn,email:Irn,datetime:jrn,date:_rn,url:Qrn,image:con,file:zin,string:g2e,slug:Zrn,crossDatasetReference:bin},don=_i({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),fon=_i({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),hon=_i({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),pon=_i({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."}),mon=$.div`
  position: relative;
`,P2e=$.div`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`,F2e=$(ae)`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`,gon=$(U)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & ${F2e} {
      opacity: 0.9;
    }

    & ${P2e} {
      opacity: 1;
    }
  }
`,von=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function yon(e){const{children:t,message:n,onActivate:r,isOverlayActive:i}=e,[o,a]=f.useState(!1),{t:s}=Z(),l=f.useCallback((()=>{r&&r()}),[r]),c=f.useCallback((e=>{i&&"Space"===e.code&&r&&(e.preventDefault(),r())}),[i,r]),d=f.useCallback((()=>{i&&r&&r()}),[i,r]),p=f.useCallback((()=>{a(!0)}),[]),h=f.useCallback((()=>{a(!1)}),[]),m=f.useMemo((()=>{let e;e=von()?"tap":o?"click-focused":"click";const t=n||s("inputs.portable-text.activate-on-focus-message",{context:e});return u.jsx(L,{weight:"medium",children:t})}),[o,n,s]);return u.jsxs(mon,{onBlur:h,onClick:l,onFocus:p,onKeyDown:c,onDragEnter:d,children:[i&&u.jsxs(gon,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[u.jsx(F2e,{radius:2}),u.jsx(P2e,{children:m})]}),t]})}const bon=$.div((e=>{const{color:t,input:n,radius:r}=Ae(e.theme),i={color:t.input.default.enabled.border,width:n.border.width};return de`
    --input-box-shadow: ${U9(i)};

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: ${n.border.width}px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: ${r[2]}px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: ${NA({base:t,border:i,focusRing:n.text.focusRing})};
    }
  `})),xon=$(go)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  & > div {
    height: 100%;
  }
`,Jv=[1,2,3,4,5,6,7,8,9],ote=["","",""],ste=["number","lower-alpha","lower-roman"],won={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Con={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}},Son=$.span((({theme:e})=>de`
    /* Make sure the annotation styling is visible */
    &[data-mark='code'] {
      color: inherit;
      mix-blend-mode: ${e.sanity.color.dark?"screen":"multiply"};
    }
  `));function Eon(e){const{value:t,focused:n,selected:r,children:i,schemaType:o}=e,a=won[t],s=o.component,l=f.useCallback((e=>u.jsx(Son,{as:a,"data-mark":t,children:e.children})),[a,t]);return f.useMemo((()=>{const e={focused:n,renderDefault:l,schemaType:o,selected:r,title:o.title,value:t};return s?u.jsx(s,{...e,children:i}):u.jsx(l,{...e,children:i})}),[s,l,i,n,o,r,t])}function Bh(e){return`list-level-${e}`}const L2e=$.div((({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=zL(r.spot.yellow,.2);return de`
    position: absolute;
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    bottom: -${n[1]+n[1]}px;
    left: ${n[4]+n[1]}px;
    right: ${n[1]}px;
    background-color: ${i};
    pointer-events: none;
  `})),N2e=$(ka)((()=>de`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `));function _on(e){const{allowedDecorators:t,block:n,onChange:r}=e;let i;return e=>{i=Array.isArray(e)?e:[e],i=i.map((e=>Kb(e,{allowedDecorators:t})));const o=[xf(i,"after",[{_key:n._key}])];return r(Tt.from(o))}}function kon(e){const{allowedDecorators:t,block:n,onChange:r}=e;return e=>{const i=[lt(Kb(e,{allowedDecorators:t}),[{_key:n._key}])];return r(Tt.from(i))}}function Ton(e){const{block:t,onChange:n}=e;return()=>{const e=[ft([{_key:t._key}])];return n(Tt.from(e))}}const Aon=$.div`
  display: flex;
  pointer-events: all;
`;function B2e(e){const t=zi(),{block:n,onChange:r,renderBlockActions:i}=e,o=f.useMemo((()=>t.schemaTypes.decorators.map((e=>e.value))),[t]),a=f.useMemo((()=>{if(i){const e={block:n,value:Ie.getValue(t),set:kon({allowedDecorators:o,block:n,onChange:r}),unset:Ton({block:n,onChange:r}),insert:_on({allowedDecorators:o,block:n,onChange:r})};return i(e)}}),[i,n,t,r,o]);return a?u.jsx(Aon,{contentEditable:!1,children:a}):null}function jon(e){const{$level:t}=e,{color:n,font:r,radius:i,space:o}=Ae(e.theme),a=ste[(t-1)%ste.length],s=ote[(t-1)%ote.length];return de`
    --marker-bg-color: transparent;

    mix-blend-mode: ${n._dark?"screen":"multiply"};
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -${o[1]}px;
      bottom: -${o[1]}px;
      left: -${o[1]}px;
      right: -${o[1]}px;
      border-radius: ${i[2]}px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
      pointer-events: none;
    }

    &[data-markers] {
      --marker-bg-color: ${n._dark?et.purple[950].hex:et.purple[50].hex};
    }

    &[data-warning] {
      --card-border-color: ${n.button.ghost.caution.enabled.border};
      --marker-bg-color: ${n.button.ghost.caution.hovered.bg};
    }

    &[data-error] {
      --card-border-color: ${n.button.ghost.critical.enabled.border};
      --marker-bg-color: ${n.button.ghost.critical.hovered.bg};
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(${Bh(t)}) '.';
        content: counter(${Bh(t)}, ${a}) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '${s}';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: ${r.text.family};
      flex: 1;

      *::selection {
        background-color: ${M5(n.focusRing,.3)};
      }
    }
  `}const Ion=$.div(jon),Don=$(N)`
  position: relative;
  display: flex;
`,Oon=$.div`
  user-select: none;
  white-space: nowrap;
`,Ron=$(N)`
  line-height: 0;
  width: 25px;
  position: relative;
`,Mon=$(U)((({theme:e})=>{const{fonts:t,space:n}=e.sanity,r=t.text.sizes[1],i=t.text.sizes[2],o=r.lineHeight-r.ascenderHeight-r.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight;return de`
    user-select: none;
    position: absolute;
    right: 0;
    top: ${0-(o+n[2]+n[2]-a)/2}px;
  `})),$on=$(N)`
  max-width: 250px;
`,Pon=$(U)`
  position: relative;
  padding-left: ${({$level:e})=>e?32*e:0}px;
`,Fon=$.div((({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return de`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&de`
        display: none;
      `}
    `})),Dd=$.div`
  display: block;
`,Q9=({children:e,...t})=>u.jsx(L,{"data-testid":"text-style--normal",...t,children:u.jsx(Dd,{children:e})}),V2e=({children:e,...t})=>u.jsx(Ci,{as:"h1","data-testid":"text-style--h1",size:5,...t,children:u.jsx(Dd,{children:e})}),z2e=({children:e,...t})=>u.jsx(Ci,{as:"h2","data-testid":"text-style--h2",size:4,...t,children:u.jsx(Dd,{children:e})}),U2e=({children:e,...t})=>u.jsx(Ci,{as:"h3","data-testid":"text-style--h3",size:3,...t,children:u.jsx(Dd,{children:e})}),H2e=({children:e,...t})=>u.jsx(Ci,{as:"h4","data-testid":"text-style--h4",size:2,...t,children:u.jsx(Dd,{children:e})}),W2e=({children:e,...t})=>u.jsx(Ci,{as:"h5","data-testid":"text-style--h5",size:1,...t,children:u.jsx(Dd,{children:e})}),G2e=({children:e,...t})=>u.jsx(Ci,{as:"h6","data-testid":"text-style--h6",size:0,...t,children:u.jsx(Dd,{children:e})}),Lon=$.blockquote`
  position: relative;
  display: block;
  margin: 0;
  padding-left: ${({theme:e})=>e.sanity.space[3]}px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`,Y2e=({children:e,...t})=>u.jsx(Lon,{"data-testid":"text-style--blockquote",...t,children:u.jsx(L,{as:"p",children:e})}),W3={normal:Q9,h1:V2e,h2:z2e,h3:U2e,h4:H2e,h5:W2e,h6:G2e,blockquote:Y2e};function Non(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:o,onItemOpen:a,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,renderBlock:p,renderAnnotation:h,renderBlockActions:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:v,renderInput:b,renderItem:x,renderPreview:w,schemaType:C,selected:k,spellCheck:j,value:S}=e,{Markers:E}=tc().__internal.components,[_,A]=f.useState(!1),T=jA(l),D=RA(Bn(l)),M=zi(),{onChange:I}=vl(),O=ev(l,!0),P=f.useMemo((()=>O.filter((e=>fr(e.path,l)||"children"===e.path.slice(-3)[1]&&e.path.length-l.length==2))),[l,O]),R=f.useCallback((()=>A(!0)),[]),F=f.useCallback((()=>A(!1)),[]),{validation:$,hasError:B,hasWarning:V,hasInfo:z}=AA(D?.node),H=!!g&&T.length>0,W=B||V||H||z,q=f.useCallback((()=>{D&&a(D.node.path)}),[a,D]),G=f.useCallback((()=>{const e={path:l.slice(-1),offset:0},t={focus:e,anchor:e};Ie.delete(M,t,{mode:"blocks"}),Ie.focus(M)}),[l,M]),Y=f.useMemo((()=>u.jsxs(Pon,{align:"flex-start",$level:S?.level,children:[S.listItem&&u.jsx(Oon,{contentEditable:!1,children:u.jsx(L,{"data-list-prefix":"",children:u.jsx(Dd,{})})}),u.jsx("div",{"data-text":"",style:void 0,children:t})]})),[S.listItem,S.level,t]),K=f.useMemo((()=>i&&!m?{paddingX:5}:i&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3}),[i,m]),Z=f.useMemo((()=>S.listItem?{paddingY:2}:Con[S.style||"normal"]||{paddingY:2}),[S]),X=!(null==D||!D.member.open),J=M.schemaTypes.portableText,Q=f.useMemo((()=>{var e;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:(null==(e=D?.elementRef)?void 0:e.current)||null,children:Y,focused:r,markers:T,onClose:o,onOpen:q,onPathFocus:s,onRemove:G,open:X,parentSchemaType:J,path:D?.node.path||an,presence:P,readOnly:!!c,renderAnnotation:h,renderBlock:p,renderDefault:q2e,renderField:y,renderInput:b,renderInlineBlock:v,renderItem:x,renderPreview:w,schemaType:C,selected:k,validation:$,value:S}}),[n,r,X,T,D?.elementRef,D?.node.path,o,q,s,G,J,c,d,h,p,y,v,b,x,w,C,k,Y,P,$,S]),ee=f.useMemo((()=>W&&u.jsx($on,{children:u.jsx(E,{markers:T,renderCustomMarkers:g,validation:$})})||null),[E,T,g,W,$]),te=m&&!c,ne=i&&D;return f.useMemo((()=>u.jsx(N,{...Z,"data-testid":"text-block","data-text-block":"",ref:D?.elementRef,style:void 0,children:u.jsx(Don,{"data-testid":"text-block__wrapper",children:u.jsxs(U,{"data-text-block-inner":"",flex:1,...K,children:[u.jsx(N,{flex:1,children:u.jsx(pt,{content:ee,disabled:!W,placement:"top",portal:"editor",children:u.jsx(Ion,{$level:S.level||1,"data-error":B?"":void 0,"data-list-item":S.listItem,"data-markers":H?"":void 0,"data-read-only":c,"data-testid":"text-block__text","data-warning":V?"":void 0,spellCheck:j,children:p&&p(Q)})})}),te&&u.jsx(Ron,{contentEditable:!1,marginRight:3,children:u.jsx(Mon,{children:r&&u.jsx(B2e,{block:S,onChange:I,renderBlockActions:m})})}),ne&&u.jsx(Fon,{$hasChanges:D.member.item.changed,contentEditable:!1,onMouseEnter:R,onMouseLeave:F,children:u.jsx(N2e,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})}),_&&u.jsx(L2e,{})]})})})),[te,ne,Q,r,R,F,B,H,V,K,D,I,Z,c,p,m,_,j,ee,W,S])}const q2e=e=>u.jsx(u.Fragment,{children:e.children}),Bon=$(ae)`
  &[data-fullscreen='true'] {
    height: 100%;
  }

  &[data-fullscreen='false'] {
    min-height: 5em;
    resize: vertical;
    overflow: auto;
    height: 19em;
  }

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`,Von=$(ae)`
  z-index: 10;
  line-height: 0;
`,zon=$(ae)`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`,Uon=$(bA)`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`,Hon=$(ae)`
  height: 100%;
  width: 100%;
  counter-reset: ${Jv.map((e=>Bh(e))).join(" ")};
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    ${Jv.map((e=>de`
        & > .pt-list-item-number[class~='pt-list-item-level-${e}'] {
          counter-increment: ${Bh(e)};
        }
      `))}

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
      counter-reset: ${Jv.map((e=>Bh(e))).join(" ")};
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: ${({theme:e})=>e.sanity.space[2]}px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: ${Jv.map((e=>Bh(e))).join(" ")};
    }

    ${Jv.slice(1).map((e=>de`
        & > .pt-list-item-level-${e} + .pt-list-item-level-${e-1} {
          counter-reset: ${Bh(e)};
        }
      `))}

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
    }

    & > :first-child {
      padding-top: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?5:3]}px;
    }

    padding-bottom: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?9:5]}px;

    & > .pt-block {
      margin: 0 auto;
      max-width: ${e=>Ae(e.theme).container[1]}px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: ${e=>Ae(e.theme).radius[2]}px;
      margin-top: -3px;
      left: calc(
        ${({$isFullscreen:e,theme:t})=>ke(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      right: calc(
        ${({$isFullscreen:e,theme:t})=>ke(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      width: calc(
        100% -
          ${({$isFullscreen:e,theme:t})=>ke(e?2*t.sanity.space[5]:2*t.sanity.space[3])} + 2px
      ) !important;
    }
  }
`;function Won(e){return f.useMemo((()=>(t,n)=>{if(Ie.getSelection(t)){const t=n.startContainer.parentElement;if(!t)return;$p(t,{scrollMode:"if-needed",boundary:e,block:"nearest",inline:"nearest"})}}),[e])}function Gon(){const e=zi();return f.useMemo((()=>{var t;const n=null==(t=e.schemaTypes.block.options)?void 0:t.spellCheck,r=!(typeof navigator>"u")&&/Chrome\/96/.test(navigator.userAgent);return(void 0!==n||!0!==r)&&n}),[e])}const lte=e=>u.jsx(u.Fragment,{children:e.children}),Yon=e=>{const{block:t,children:n,schemaType:r,selected:i,focused:o,level:a,value:s}=e,{title:l,component:c}=r;return f.useMemo((()=>{const e={block:t,focused:o,level:a,renderDefault:lte,schemaType:r,selected:i,title:l,value:s};return c?u.jsx(c,{...e,children:n}):u.jsx(lte,{...e,children:n})}),[c,t,n,o,a,r,i,l,s])},qon=e=>{const{block:t,focused:n,children:r,selected:i,schemaType:o}=e,a=f.useMemo((()=>(t.style&&W3[t.style]?W3[t.style]:W3[0])||Q9),[t.style]),s=f.useCallback((e=>u.jsx(a,{children:u.jsx(Dd,{"data-testid":`text-style--${t.style}`,children:e.children})})),[a,t.style]);return f.useMemo((()=>{const e=o.component,{title:a,value:l}=o,c={block:t,focused:n,renderDefault:s,schemaType:o,selected:i,title:a,value:l};return e?u.jsx(e,{...c,children:r}):u.jsx(s,{...c,children:r})}),[s,t,r,n,o,i])},Kon=$.div`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`;function K2e(e){const{hidden:t,...n}=e;return u.jsx(Kon,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}const Zon={portal:!0,constrainSize:!0},eB=f.forwardRef((function(e,t){const{disableRestoreFocusOnClose:n,menuButton:r,menuButtonProps:i,menuOptions:o,onMenuClose:a}=e;return u.jsx(Gt,{__unstable_disableRestoreFocusOnClose:n,id:"menu-button",ref:t,onClose:a,popover:Zon,...i,button:r,menu:u.jsx(At,{children:o.map(((e,t)=>{const{collapsedProps:n={},expandedProps:r={},tooltipProps:i={},tooltipText:o,dividerBefore:a,fontSize:s,padding:l,text:c,icon:d,selected:p,...h}=e.props;return u.jsxs(f.Fragment,{children:[a&&0!==t&&u.jsx(rr,{}),u.jsx(qe,{text:c,icon:d,pressed:p,...h})]},e.key)}))})})}));function Z2e(e){const{onIntersectionChange:t,children:n,options:r,...i}=e,[o,a]=f.useState(null);return f.useEffect((()=>{const e=o?.closest('[data-ui="Flex"]');if(!e)return;const n=new IntersectionObserver(t,r);return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}),[o,t,r]),u.jsxs(U,{...i,children:[n,u.jsx("span",{hidden:!0,ref:a})]})}const ute=3,Xon=de`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`,Jon=$(U)`
  padding: ${3}px;
  margin: -${3}px;
  box-sizing: border-box;
`,Qon=$(U)`
  border-radius: inherit;
  position: relative;
`,X2e=$(U)`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`,esn=$(Z2e)`
  ${Xon}
`;function tsn(e){return!!e}const J2e=f.forwardRef((function(e,t){const{children:n,collapsed:r,disableRestoreFocusOnClose:i,onMenuClose:o,menuButtonProps:a,...s}=e,l=f.useMemo((()=>f.Children.toArray(n).filter(tsn)),[n]),c=f.useMemo((()=>a?.button||u.jsx(ai,{})),[a]);return r?u.jsx(eB,{ref:t,disableRestoreFocusOnClose:i,menuButton:c,menuButtonProps:a,menuOptions:l,onMenuClose:o}):u.jsx(nsn,{...s,ref:t,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:l,onMenuClose:o})})),nsn=f.forwardRef((function(e,t){const{collapseText:n=!0,disableRestoreFocusOnClose:r,gap:i,menuOptions:o,menuButtonProps:a,onMenuClose:s,...l}=e,[c,d]=f.useState(null),[p,h]=f.useState({}),[m,g]=f.useState({}),y=f.useMemo((()=>({root:c,threshold:.99,rootMargin:"2px"})),[c]),v=f.useMemo((()=>o.map((e=>e.key))),[o]),b=f.useMemo((()=>[...Rp(v,Object.keys(p)),...Rp(v,Object.keys(m))]),[v,p,m]),x=f.useMemo((()=>o.filter((e=>{const t=p[e.key];return t&&!t.intersects}))),[p,o]),w=f.useCallback(((e,t)=>{h((n=>{const r=t.key;if(null===r)throw new Error("Expected element to have a non-null key");const i={intersects:e.isIntersecting,element:t},o=n[r];return o&&o.intersects===i.intersects?n:{...n,[r]:i}}))}),[]),C=f.useCallback(((e,t)=>{g((n=>{const r=t.key;if(null===r)throw new Error("Expected child element to have a non-null key");const i=n[r],o={intersects:e.isIntersecting,element:t};return i?.intersects===o.intersects?n:{...n,[r]:o}}))}),[]),k=f.useMemo((()=>o.map((e=>{const{collapsedProps:t}=e.props,r=t,i=n?void 0:e.props.text;return f.cloneElement(e,{...r,text:i})}))),[o,n]),j=f.useMemo((()=>o.filter((e=>{const t=m[e.key];return!1===t?.intersects}))),[o,m]),S=x.length>0?k.filter((e=>{const t=m[e.key];return!0===t?.intersects})):o,E=f.useMemo((()=>a?.button||u.jsx(ai,{})),[a]);return u.jsxs(Jon,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:t,...l,children:[u.jsxs(Qon,{direction:"column",flex:1,justify:"center",ref:d,children:[u.jsx(X2e,{gap:i,children:0===b.length&&S.map(((e,t)=>{const{dividerBefore:n,tooltipText:r="",tooltipProps:i={}}=e.props,o=!e.key||!(e.key in p)||j.includes(e);return u.jsxs(f.Fragment,{children:[n&&0!==t&&u.jsx(K2e,{hidden:o}),u.jsx(pt,{portal:!0,disabled:!r,content:r,...i,children:u.jsx(U,{children:f.cloneElement(e,{disabled:e.props.disabled||o,"aria-hidden":o})})})]},e.key)}))}),u.jsx(cte,{gap:i,elements:o,intersectionOptions:y,onIntersectionChange:w}),u.jsx(cte,{gap:i,elements:k,intersectionOptions:y,onIntersectionChange:C})]}),j.length>0&&u.jsx(U,{marginLeft:i,children:u.jsx(eB,{disableRestoreFocusOnClose:r,menuButton:E,menuButtonProps:a,menuOptions:j,onMenuClose:s})})]})})),cte=f.memo((function(e){const{elements:t,gap:n,intersectionOptions:r,onIntersectionChange:i}=e;return u.jsx(X2e,{"data-hidden":!0,"aria-hidden":"true",gap:n,overflow:"hidden",children:t.map(((e,t)=>{const{dividerBefore:n}=e.props;return u.jsxs(f.Fragment,{children:[n&&0!==t&&u.jsx(K2e,{hidden:!0}),u.jsx(esn,{options:r,onIntersectionChange:t=>i(t[0],e),children:u.jsx(U,{children:f.cloneElement(e,{disabled:!0,"aria-hidden":!0})})})]},e.key)}))})})),Q2e=f.forwardRef((function(e,t){const{collapsedProps:n={},expandedProps:r={},tooltipProps:i={},tooltipText:o,dividerBefore:a,...s}=e;return u.jsx(me,{"data-ui":"CollapseMenuButton",...s,ref:t})})),rsn=$.div`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`;function isn(e){const{icon:t,active:n}=e,r=f.useMemo((()=>({backgroundImage:`url(${t})`,filter:n?"invert(100%)":"invert(0%)"})),[n,t]);return u.jsx(rsn,{style:r})}function asn(e,t,n,r){return e.schemaTypes.decorators.map((i=>{const o=Object.keys(n.marks||{}).find((e=>{var t;return(null==(t=n.marks)?void 0:t[e])===i.value}));let a=[];return o&&(a=[o]),{type:"format",disabled:t,icon:i?.icon,key:i.value,handle:()=>{Ie.toggleMark(e,i.value),Ie.focus(e)},hotkeys:a,title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title}}))}function osn(e,t,n){return e.schemaTypes.lists.map((r=>({type:"listStyle",key:r.value,disabled:t,icon:r?.icon,handle:()=>{Ie.toggleList(e,r.value)},title:r.i18nTitleKey&&n?n(r.i18nTitleKey):r.title})))}function ssn(e){return Yn(e,"icon")||Yn(e,"type.icon")||Yn(e,"type.to.icon")||Yn(e,"type.to[0].icon")}function lsn(e,t,n,r){const i=e.schemaTypes,o=Ie.focusChild(e),a=o&&o.text;return i.annotations.map((i=>({type:"annotation",disabled:!a||t,icon:ssn(i),key:i.name,handle:t=>{t?(Ie.removeAnnotation(e,i),Ie.focus(e)):n(i)},title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title||ym(i.name)})))}function usn(e,t,n,r,i){return[{name:"format",actions:asn(e,t,r,i)},{name:"list",actions:osn(e,t,i)},{name:"annotation",actions:lsn(e,t,n,i)}]}function csn(e){return e.styles.map((e=>({key:`style-${e.value}`,style:e.value,styleComponent:e&&e.component,title:e.title,i18nTitleKey:e.i18nTitleKey})))}function dte(e,t){const n=Yn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function dsn(e,t,n,r){const i=e.blockObjects.map(((e,t)=>({handle:()=>n(e),icon:dte(e,gF),inline:!1,key:`block-${t}`,type:e}))),o=e.inlineObjects.map(((e,t)=>({handle:()=>r(e),icon:dte(e,AF),inline:!0,key:`inline-${t}`,type:e})));return i.concat(o).filter((e=>{var t;return!(null!=(t=e.type)&&t.hidden)}))}const fsn={link:cs},hsn={strong:vF,em:jF,"strike-through":UF,underline:GF,code:bF},psn={number:PF,bullet:Qh};function msn(e,t){return e.icon?"string"==typeof e.icon?u.jsx(isn,{active:t,icon:e.icon}):e.icon:"annotation"===e.type?fsn[e.key]||Gs:"listStyle"===e.type?psn[e.key]||Gs:hsn[e.key]||Gs}function YA(){const e=zi(),t=bm();return f.useMemo((()=>Ie.focusBlock(e)),[e,t])}function gsn({hotkeys:e,onMemberOpen:t,resolveInitialValue:n,disabled:r}){const i=zi(),{t:o}=Z(),a=f.useCallback((async e=>{const r=await n(e),o=Ie.addAnnotation(i,e,r);o&&o.markDefPath&&t(o.markDefPath)}),[i,t,n]);return f.useMemo((()=>i?usn(i,r,a,e,o):[]),[r,i,a,e,o])}function vsn({actions:e}){const t=zi(),n=bm();return ba(f.useMemo((()=>e.filter((e=>"annotation"===e.type?Ie.isAnnotationActive(t,e.key):"listStyle"===e.type?Ie.hasListStyle(t,e.key):Ie.isMarkActive(t,e.key))).map((e=>e.key))),[t,n]))}function ysn({items:e}){const t=zi(),n=YA(),r=bm();return ba(f.useMemo((()=>e.filter((e=>Ie.hasBlockStyle(t,e.style))).map((e=>e.style))),[n,r]))}const bsn=f.memo(J2e),xsn={constrainSize:!0,portal:!0},wsn=f.memo((function(e){const{disabled:t,groups:n,isFullscreen:r,collapsed:i}=e,o=YA(),a=zi(),s=bm(),{t:l}=Z(),c=s&&Vn(s.anchor.path[0])&&Vn(s.focus.path[0])?s.anchor.path[0]._key!==s?.focus.path[0]._key:s?.anchor.path[0]!==s?.focus.path[0],d=o?._type!==a.schemaTypes.block.name,p=!d&&Array.isArray(o.children)&&1===o.children.length&&""===o?.children[0].text,h=t||d,m=f.useMemo((()=>n.reduce(((e,t)=>e.concat(t.actions.map(((e,t)=>0===t?{...e,firstInGroup:!0}:e)))),[])),[n]),g=vsn({actions:m}),y=f.useCallback((()=>{Ie.focus(a)}),[a]),v=r?"bottom":"top",b=f.useMemo((()=>m.map((e=>{const t="annotation"===e.type&&(p||c),n=l(p?"user-menu.action.portable-text.annotation-disabled_empty-block":"user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:e.title||e.key}),r=g.includes(e.key);return u.jsx(Q2e,{"aria-label":l("toolbar.portable-text.action-button-aria-label",{action:e.title||e.key}),"data-testid":`action-button-${e.key}`,disabled:h||t,mode:"bleed",dividerBefore:e.firstInGroup,icon:msn(e,r),onClick:()=>e.handle(r),selected:r,text:e.title||e.key,tooltipText:t?n:e.title||e.key,tooltipProps:{disabled:h,placement:v,portal:"default"}},e.key)}))),[m,g,h,p,c,l,v]),x=f.useMemo((()=>({button:u.jsx(ai,{"data-testid":"action-menu-button",disabled:h,tooltipProps:{placement:v}}),popover:xsn})),[h,v]);return u.jsx(bsn,{"data-testid":"action-menu-auto-collapse-menu",collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:x,onMenuClose:y,children:b})})),Csn=f.memo(Gt),Ssn=$(lm)`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`,Esn={h1:e=>u.jsx(V2e,{children:e}),h2:e=>u.jsx(z2e,{children:e}),h3:e=>u.jsx(U2e,{children:e}),h4:e=>u.jsx(H2e,{children:e}),h5:e=>u.jsx(W2e,{children:e}),h6:e=>u.jsx(G2e,{children:e}),normal:e=>u.jsx(Q9,{children:e}),blockquote:e=>u.jsx(Y2e,{"data-option":"blockquote",children:e})},_sn=e=>e.preventDefault(),Qv={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},ksn=f.memo((function(e){const{disabled:t,items:n,boundaryElement:r}=e,i=zi(),o=YA(),{t:a}=Z(),s={constrainSize:!0,placement:"bottom-start",portal:"default",referenceBoundary:r},l=t||!!o&&i.schemaTypes.block.name!==o._type,c=ysn({items:n}),{activeItems:d,items:p}=f.useMemo((()=>{const e=n.filter((e=>c.includes(e.style)));let t=n;return 0===e.length&&t.length>1&&(t=t.concat([Qv]),e.push(Qv)),{activeItems:e,items:t}}),[c,n]),h=f.useMemo((()=>d.length>1?a("inputs.portable-text.style.multiple"):1!==d.length?Qv.i18nTitleKey?a(Qv.i18nTitleKey):Qv.title:d[0].i18nTitleKey?a(d[0].i18nTitleKey):d[0].title),[d,a]),m=f.useCallback((e=>{o&&e.style!==o.style&&(Ie.toggleBlockStyle(i,e.style),Ie.focus(i))}),[i,o]),g=f.useCallback((e=>{const{style:t,styleComponent:n}=e,r=Esn[t],i=e.i18nTitleKey?a(e.i18nTitleKey):e?.title||e.style,o="function"==typeof n?n:void 0;return r&&!o?r(i):o?u.jsx(o,{children:i}):u.jsx(L,{children:i})}),[a]),y=f.useMemo((()=>u.jsx(me,{disabled:l,iconRight:ci,justify:"space-between",mode:"bleed",onClick:_sn,text:h,width:"fill"})),[l,h]),v=f.useMemo((()=>u.jsx(At,{disabled:l,children:p.map((e=>u.jsx(Ssn,{pressed:d.includes(e),onClick:l?void 0:()=>m(e),children:g(e)},e.key)))})),[l,d,m,p,g]);return u.jsx(Csn,{popover:s,id:"block-style-select",button:y,menu:v})})),Tsn=f.memo(J2e),Asn={constrainSize:!0,portal:!0},jsn=f.memo((function(e){const{disabled:t,items:n,isFullscreen:r,collapsed:i}=e,{t:o}=Z(),a=YA(),s=zi(),l=a&&a._type!==s.schemaTypes.block.name,c=f.useCallback((()=>{Ie.focus(s)}),[s]),d=r?"bottom":"top",p=f.useMemo((()=>n.map((e=>{const n=e.type.title||Xge(e.type.name);return u.jsx(Q2e,{"aria-label":o(e.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:n}),mode:"bleed",disabled:t||l&&!0===e.inline,icon:e.icon,onClick:e.handle,text:n,tooltipText:o(e.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:n}),tooltipProps:{disabled:t,placement:d,portal:"default"}},e.key)}))),[t,l,n,o,d]),h=f.useMemo((()=>({button:u.jsx(ai,{"data-testid":"insert-menu-button",disabled:t,tooltipProps:{placement:d}}),popover:Asn})),[t,d]);return u.jsx(Tsn,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:h,onMenuClose:c,children:p})})),Isn=$(U)`
  width: 100%;
`,Dsn=$(N)`
  width: 8em;
`,Osn=$(U)`
  border-right: 1px solid var(--card-border-color);
`,Rsn=$(N)`
  ${({$withInsertMenu:e})=>e&&de`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `}
`,Msn=$(N)`
  border-left: 1px solid var(--card-border-color);
`,$sn=300,Psn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Fsn=f.memo((function({actionGroups:e,blockStyles:t,collapsible:n,disabled:r,insertMenuItems:i,isFullscreen:o,onToggleFullscreen:a}){const{t:s}=Z(),l=e.reduce(((e,t)=>e+t.actions.length),0)>0,c=i.length>0,[d,p]=f.useState(null),h=Tp(d),m=!(!n||!h)&&h?.width<400,g=t.length>1;T5e({rootElement:d});const y=f.useCallback((e=>{e.preventDefault()}),[]);return u.jsxs(Isn,{align:"center",ref:p,onMouseDown:y,children:[g&&u.jsx(Osn,{flex:m?1:void 0,children:u.jsx(Dsn,{padding:o?2:1,"data-testid":"block-style-select",children:u.jsx(ksn,{disabled:r,items:t,boundaryElement:d})})}),u.jsxs(U,{flex:1,children:[l&&u.jsx(Rsn,{flex:m?void 0:1,padding:o?2:1,$withInsertMenu:c,children:u.jsx(wsn,{disabled:r,collapsed:m,groups:e,isFullscreen:o})}),c&&u.jsx(N,{flex:m?void 0:1,padding:o?2:1,children:u.jsx(jsn,{disabled:r,collapsed:m,items:i,isFullscreen:o})})]}),u.jsx(Msn,{padding:o?2:1,children:u.jsx(me,{"aria-label":s("inputs.portable-text.action.expand-editor"),icon:o?xF:kF,mode:"bleed",onClick:a,tooltipProps:{content:s(o?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor"),hotkeys:[""+(Psn?"Cmd":"Ctrl"),"Enter"],placement:o?"bottom":"top",portal:"default"}})})]})}));function Lsn(e){const{collapsible:t,hotkeys:n,isFullscreen:r,readOnly:i,onMemberOpen:o,onToggleFullscreen:a}=e,s=zi(),l=bm(),c=fB(),d=i||!l,{push:p}=Ur(),h=f.useCallback((e=>{let t=!1;const n=setTimeout((()=>{t=!0,p({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})}),$sn);return c(e,{}).then((e=>(t&&p({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),e))).catch((t=>{p({title:"Could not resolve initial value",id:"resolving-initial-value",description:`Unable to resolve initial value for type: ${e.name}: ${t.message}.`,status:"error"})})).finally((()=>clearTimeout(n)))}),[p,c]),m=f.useCallback((async e=>{const t=await h(e),n=Ie.insertBlock(s,e,t);n&&o(n)}),[s,o,h]),g=f.useCallback((async e=>{const t=await h(e),n=Ie.insertChild(s,e,t);n&&o(n)}),[s,o,h]),y=gsn({hotkeys:n,onMemberOpen:o,resolveInitialValue:h,disabled:!0}),v=f.useMemo((()=>csn(s.schemaTypes)),[s]),b=f.useMemo((()=>dsn(s.schemaTypes,d,m,g)),[d,s,m,g]);return u.jsx(Fsn,{actionGroups:y,blockStyles:v,collapsible:t,disabled:d,insertMenuItems:b,isFullscreen:r,onToggleFullscreen:a})}const Nsn={outline:"none"},Bsn="root",Vsn=$.span((e=>{const{color:t}=Ae(e.theme);return de`
    color: ${t.input.default.enabled.placeholder};
  `})),zsn=e=>u.jsx(Eon,{...e}),Usn=e=>u.jsx(qon,{...e}),Hsn=e=>u.jsx(Yon,{...e});function Wsn(e){const{elementRef:t,hideToolbar:n,hotkeys:r,initialSelection:i,isActive:o,isFullscreen:a,onCopy:s,onItemOpen:l,onPaste:c,onToggleFullscreen:d,path:p,readOnly:h,rangeDecorations:m,renderAnnotation:g,renderBlock:y,renderChild:v,renderEditable:b,scrollElement:x,setPortalElement:w,setScrollElement:C,ariaDescribedBy:k}=e,{id:j}=tc(),{t:S}=Z(),{isTopLayer:E}=Ho(),{element:_}=sm();mo(f.useCallback((e=>{!E||!a||"Escape"===e.key&&d()}),[d,a,E]));const A=f.useCallback((()=>u.jsx(Vsn,{"data-testid":"pt-input-placeholder",children:S("inputs.portable-text.empty-placeholder")})),[S]),T=Gon(),D=Won(x),M=f.useMemo((()=>{const e={"aria-describedby":k,hotkeys:r,onCopy:s,onPaste:c,rangeDecorations:m,ref:t,renderAnnotation:g,renderBlock:y,renderChild:v,renderDecorator:zsn,renderListItem:Hsn,renderPlaceholder:A,renderStyle:Usn,scrollSelectionIntoView:D,selection:i,spellCheck:T,style:Nsn},n=t=>u.jsx(Eve,{...e,...pa(t,["renderDefault"])});return b?b({...e,renderDefault:n}):n(e)}),[k,t,r,i,s,c,m,g,y,v,b,A,D,T]),I=f.useCallback((e=>{l(p.concat(e))}),[l,p]);return u.jsxs(Bon,{"data-fullscreen":a,"data-testid":"pt-editor",children:[o&&!n&&u.jsx(Sa,{children:u.jsx(Von,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:u.jsx(Lsn,{collapsible:j===Bsn,hotkeys:r,isFullscreen:a,onMemberOpen:I,onToggleFullscreen:d,readOnly:h})})}),u.jsxs(zon,{flex:1,tone:h?"transparent":"default",children:[u.jsx(Uon,{ref:C,children:u.jsx("div",{children:u.jsx(Hon,{$isFullscreen:a,tone:h?"transparent":"default",children:u.jsx(Jc,{element:a?x:_,children:M})})})}),u.jsx("div",{"data-portal":"",ref:w})]})]})}function Gsn(e){const t=zi(),[n]=f.useState((()=>e));return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),f.useMemo((()=>{const e={marks:{}};return t.schemaTypes.decorators.forEach((t=>{switch(t.value){case"strong":e.marks["mod+b"]=t.value;break;case"em":e.marks["mod+i"]=t.value;break;case"underline":e.marks["mod+u"]=t.value;break;case"code":e.marks["mod+'"]=t.value}})),{marks:{...e.marks,...(n||{}).marks},custom:n.custom}}),[t,n])}function Ysn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,i=GXt(),o=zi(),a=bm();f.useLayoutEffect((()=>{var e,r,s,l,u;if(0===t.length||null!=a&&a.focus.path&&fr(a.focus.path,t.slice(0,a.focus.path.length)))return;const c=i.find((e=>e.member.item.focused)),d=i.find((e=>e.member.open)),f=c||d;if(f&&null!=(e=f.elementRef)&&e.current){n&&($p(n,{scrollMode:"if-needed",block:"start",inline:"start"}),$p(f.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"nearest",inline:"start"}));const e="textBlock"===f.kind,i=1===t.length;if(e||i){const n=e&&Fl(t[2])?t[2]._key:void 0,a=n&&Array.isArray(null==(r=f.node.value)?void 0:r.children)?null==(s=f.node.value)?void 0:s.children.find((e=>e._key===n)):void 0,c=a&&"span"===a._type&&4===t.length&&"children"===t[1]&&"text"===t[3]||!1;let d=[];e&&(3===t.length&&"children"===t[1]||c)?d=t.slice(0,3):e&&i&&Array.isArray(null==(l=f.node.value)?void 0:l.children)?d=[t[0],"children",{_key:null==(u=f.node.value)?void 0:u.children[0]._key}]:i&&(d=[{_key:f.key}]),d.length&&(Ie.select(o,{anchor:{path:d,offset:0},focus:{path:d,offset:0}}),e&&Ie.focus(o))}}}),[n,o,t,r,i,a?.focus.path])}const qsn=$(ae)(Xsn),Ksn=$.span`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`,Zsn=$(N)`
  max-width: 250px;
`;function Xsn({theme:e}){var t,n,r;const{color:i,radius:o}=e.sanity;return de`
    line-height: 0;
    border-radius: ${o[2]}px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px ${null==(t=i.selectable)?void 0:t.primary.selected.border};
      color: ${null==(n=i.selectable)?void 0:n.primary.pressed.fg};
    }

    &[data-selected] {
      background-color: ${null==(r=i.selectable)?void 0:r.primary.pressed.bg};
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      --card-bg-color: ${i.dark?et.purple[950].hex:et.purple[50].hex};
    }

    &[data-warning] {
      --card-bg-color: ${i.muted.caution.hovered.bg};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: ${i.input.invalid.enabled.bg};
      --card-border-color: ${i.input.invalid.enabled.border};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.input.invalid.hovered.border};
        }
      }
    }
  `}const Jsn=["top","bottom"];function Qsn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:i,referenceBoundary:o,referenceElement:a,title:s,open:l}=e,{sanity:c}=p1(),{t:d}=Z(),p=f.useRef(null),h=f.useRef(null),m=c.color.dark?"light":"dark";mo(f.useCallback((e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),n())}),[n]));const g=f.useCallback((e=>{var t;if(null==(t=h.current)||!t.disabled){e.preventDefault(),e.stopPropagation();try{i(e)}catch(e){console.error(e)}finally{h.current&&(h.current.disabled=!0)}}}),[i]),y=f.useMemo((()=>u.jsx(N,{padding:1,children:u.jsxs(xn,{space:1,children:[u.jsx(N,{padding:2,children:u.jsx(L,{weight:"medium",size:1,children:s})}),u.jsx(me,{"aria-label":d("inputs.portable-text.inline-object.edit-aria-label"),icon:Ou,mode:"bleed",onClick:r,ref:p,tooltipProps:{content:d("inputs.portable-text.inline-object.edit")}}),u.jsx(me,{"aria-label":d("inputs.portable-text.inline-object.remove-aria-label"),ref:h,icon:Br,mode:"bleed",onClick:g,tone:"critical",tooltipProps:{content:d("inputs.portable-text.inline-object.remove")}})]})})),[g,r,s,d]);return u.jsx(An,{constrainSize:!0,content:y,fallbackPlacements:Jsn,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:o,referenceElement:a,scheme:m})}const eln=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:i,onItemOpen:o,onPathFocus:a,path:s,readOnly:l,referenceBoundary:c,relativePath:d,renderAnnotation:p,renderBlock:h,renderCustomMarkers:m,renderField:g,renderItem:y,renderInlineBlock:v,renderInput:b,renderPreview:x,schemaType:w,selected:C,value:k}=e,{Markers:j}=tc().__internal.components,S=zi(),E=jA(s),_=RA(Bn(s)),{validation:A,hasError:T,hasInfo:D,hasWarning:M}=AA(_?.node),I=S.schemaTypes.block,O=E.length>0,N=f.useMemo((()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}})),[d]),P=f.useCallback((()=>{Ie.delete(S,N,{mode:"children"}),Ie.focus(S)}),[N,S]),R=f.useCallback((()=>{_&&(Ie.blur(S),o(_.node.path))}),[S,o,_]),F=f.useCallback((()=>{i(),Ie.select(S,N),Ie.focus(S)}),[i,S,N]),L=!(null==_||!_.member.open),$=_?.input,B=_?.node.path||an,V=null==(t=_?.elementRef)?void 0:t.current,z=ev(s,!0),U=f.useMemo((()=>z.filter((e=>fr(e.path,s)))),[s,z]),H=f.useMemo((()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:c,__unstable_referenceElement:V,children:$,focused:r,onClose:F,onOpen:R,onPathFocus:a,onRemove:P,open:L,markers:E,member:_?.member,parentSchemaType:I,path:B,presence:U,readOnly:!!l,renderAnnotation:p,renderBlock:h,renderDefault:eSe,renderField:g,renderInlineBlock:v,renderInput:b,renderItem:y,renderPreview:x,schemaType:w,selected:C,value:k,validation:A})),[n,r,$,L,E,_?.member,B,F,R,a,P,I,l,c,V,p,h,g,v,b,y,x,U,w,C,A,k]),W=T||M||D||O,q=f.useMemo((()=>W&&u.jsx(Zsn,{children:u.jsx(j,{markers:E,validation:A,renderCustomMarkers:m})})||null),[j,E,m,W,A]);return f.useMemo((()=>u.jsx("span",{ref:_?.elementRef,contentEditable:!1,children:u.jsx(pt,{placement:"bottom",portal:"editor",disabled:!!L||!W,content:q,children:v&&u.jsx("span",{style:{position:"relative"},children:v(H)})})})),[H,_?.elementRef,v,q,W,L])},eSe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:p,renderPreview:h,schemaType:m,selected:g,validation:y,value:v}=e,{t:b}=Z(),x=a.length>0,[w,C]=f.useState(!1),k=m?.title||m.name,j=y.filter((e=>"error"===e.level)).length>0,S=y.filter((e=>"warning"===e.level)).length>0,E=f.useCallback((()=>{C(!1),l()}),[l]);f.useEffect((()=>{C(!d&&!!o)}),[o,d]);const _=f.useMemo((()=>j?"critical":S?"caution":g||o?"primary":void 0),[o,j,S,g]),A=f.useCallback((()=>{C(!1)}),[]);return u.jsxs(u.Fragment,{children:[u.jsx(qsn,{"aria-label":b("inputs.portable-text.inline-block.aria-label"),"data-focused":o||void 0,"data-invalid":j||void 0,"data-markers":x||void 0,"data-read-only":p||void 0,"data-selected":g||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:p?E:void 0,onDoubleClick:E,tone:_,children:u.jsx(Ksn,{children:h({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:v,fallbackTitle:"Click to edit"})})}),r&&u.jsx(Qsn,{floatingBoundary:t,onClosePopover:A,onDelete:c,onEdit:E,open:w,referenceBoundary:n,referenceElement:r,title:k}),d&&u.jsx(M9,{defaultType:"popover",onClose:s,autoFocus:o,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function tln(e){const{changed:t,elementRef:n,focused:r,focusPath:i=an,elementProps:o,hasFocusWithin:a,hideToolbar:s,hotkeys:l,isActive:c,isFullscreen:d,onActivate:p,onCopy:h,onItemClose:m,onItemOpen:g,onItemRemove:y,onPaste:v,onPathFocus:b,onToggleFullscreen:x,onUpload:w,path:C,rangeDecorations:k,readOnly:j,renderAnnotation:S,renderBlock:E,renderBlockActions:_,renderCustomMarkers:A,renderEditable:T,renderField:D,renderInlineBlock:M,renderInput:I,renderItem:O,renderPreview:P,resolveUploader:R,value:F}=e,L=zi(),$=sm().element,[B,V]=f.useState(null),[z,U]=f.useState(null),H=f.useCallback((()=>{x()}),[x]),W=Gsn(f.useMemo((()=>({...l,custom:{"mod+enter":x,...l?.custom||{}}})),[l,x])),q=F&&_?_:void 0,G=F&&A?A:void 0,[Y,K]=f.useState(null),Z=f.useCallback((e=>{const{children:t,focused:n,path:r,selected:i,schemaType:o,value:a}=e;return u.jsx(Non,{floatingBoundary:$,focused:n,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(r),readOnly:j,referenceBoundary:z,renderAnnotation:S,renderField:D,renderInlineBlock:M,renderInput:I,renderItem:O,renderBlockActions:q,renderCustomMarkers:G,renderPreview:P,renderBlock:E,schemaType:o,selected:i,value:a,children:t})}),[q,G,$,d,m,g,y,b,C,j,S,E,D,M,I,O,P,z]),X=f.useCallback((e=>{const{focused:t,path:n,selected:r,schemaType:i,value:o}=e;return u.jsx(Aun,{floatingBoundary:$,focused:t,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(n),readOnly:j,referenceBoundary:z,relativePath:n,renderAnnotation:S,renderBlock:E,renderBlockActions:q,renderCustomMarkers:G,renderField:D,renderInlineBlock:M,renderInput:I,renderItem:O,renderPreview:P,schemaType:i,selected:r,value:o})}),[$,z,d,m,g,y,b,C,j,S,E,q,G,D,M,I,O,P]),J=f.useCallback((e=>{const{value:t}=e;return t._type===L.schemaTypes.block.name?Z(e):X(e)}),[L.schemaTypes.block.name,X,Z]),Q=f.useCallback((e=>{const{children:t,focused:n,path:r,selected:i,schemaType:o,value:a}=e;return a._type===L.schemaTypes.span.name?t:u.jsx(eln,{floatingBoundary:$,focused:n,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(r),readOnly:j,referenceBoundary:z,relativePath:r,renderAnnotation:S,renderBlock:E,renderCustomMarkers:A,renderField:D,renderInlineBlock:M,renderInput:I,renderItem:O,renderPreview:P,schemaType:o,selected:i,value:a})}),[L.schemaTypes.span.name,$,m,g,b,C,j,z,S,E,A,D,M,I,O,P]),ee=f.useCallback((e=>{const{children:t,focused:n,path:i,selected:o,schemaType:a,value:s}=e;return u.jsx(sJt,{editorNodeFocused:n,floatingBoundary:$,focused:!!r,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(i),readOnly:j,referenceBoundary:z,renderAnnotation:S,renderBlock:E,renderCustomMarkers:A,renderField:D,renderInlineBlock:M,renderInput:I,renderItem:O,renderPreview:P,schemaType:a,selected:o,value:s,children:t})}),[$,z,r,m,g,b,C,j,S,E,A,D,M,I,O,P]),te=o["aria-describedby"],[ne]=f.useState((()=>{if(a)return{anchor:{path:i,offset:0},focus:{path:i,offset:0}}})),re=f.useMemo((()=>u.jsx(BA,{types:L.schemaTypes.portableText.of,resolveUploader:R,onUpload:w,tabIndex:-1,children:u.jsx(Wsn,{ariaDescribedBy:te,elementRef:n,initialSelection:ne,hideToolbar:s,hotkeys:W,isActive:c,isFullscreen:d,onItemOpen:g,onCopy:h,onPaste:v,onToggleFullscreen:H,path:C,rangeDecorations:k,readOnly:j,renderAnnotation:ee,renderBlock:J,renderChild:Q,renderEditable:T,setPortalElement:K,scrollElement:z,setScrollElement:U})})),[te,L.schemaTypes.portableText.of,W,ee,J,Q,n,H,s,ne,c,d,h,g,v,C,w,R,k,j,T,z]),ie=Sd(),oe=f.useMemo((()=>({collapsed:B,default:ie.element,editor:Y,expanded:ie.element})),[ie.element,Y,B]);Ysn({focusPath:i,boundaryElement:z,onItemClose:m});const ae=r||a;return u.jsx(HA,{legacyEditing:!0,children:u.jsx(y1,{__unstable_elements:oe,element:ie.element,children:u.jsx(yon,{onActivate:p,isOverlayActive:!c,children:u.jsx(ka,{disabled:d,hasFocus:!!r,isChanged:t,path:C,children:u.jsxs(bon,{"data-focused":ae?"":void 0,"data-read-only":j?"":void 0,children:[u.jsx(N,{"data-wrapper":"",ref:V,children:u.jsx(Zf,{__unstable_name:d?"expanded":"collapsed",children:d?u.jsx(xon,{children:re}):re})}),u.jsx("div",{"data-border":""})]})})})})})}function nln(e){return u.jsx(rae.Provider,{value:e.markers,children:e.children})}function rln(e){return u.jsx(X4.Provider,{value:e.memberItems,children:e.children})}function iln(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:i}=e,o=Ss(),{t:a}=Z(),s=f.useCallback((()=>{r&&(t({type:"mutation",patches:r.patches}),o.log(pon,{PTEInvalidValueId:r.i18n.description,PTEInvalidValueDescription:r.description}))}),[t,r,o]),l=f.useCallback((()=>{o.log(hon),n()}),[n,o]);return r?u.jsx(Xl,{title:u.jsx(u.Fragment,{children:a("inputs.portable-text.invalid-value.title")}),suffix:u.jsxs(ne,{padding:2,children:[r.action&&u.jsxs(Rn,{columns:[1,2],gap:1,children:[u.jsx(wt,{mode:"ghost",onClick:l,text:a("inputs.portable-text.invalid-value.ignore-button.text")}),!i&&u.jsx(wt,{onClick:s,text:u.jsx(dt,{t:a,i18nKey:r.i18n.action,values:r.i18n.values}),tone:"caution"})]}),u.jsx(N,{padding:3,children:r.action&&u.jsx(L,{as:"p",muted:!0,size:1,children:a("inputs.portable-text.invalid-value.action-disclaimer")})})]}),children:u.jsxs(ne,{space:3,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(dt,{t:a,i18nKey:r.i18n.description,values:r.i18n.values})}),u.jsx(ae,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx(ni,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}const sf=6,aln={animate:{opacity:1,scaleX:1,scaleY:1},exit:{opacity:0,scaleX:0,scaleY:.5},initial:{opacity:0,scaleX:0,scaleY:.5}},oln={duration:.3,ease:"easeInOut",type:"spring",bounce:0},sln={animate:{opacity:1},exit:{opacity:0},initial:{opacity:0}},lln={duration:.2,delay:.15},uln=$.span((({theme:e,$tints:t})=>{var n;const r=null==(n=Ae(e))?void 0:n.color._dark;return de`
    --presence-cursor-bg: ${t[r?400:500].hex};
    --presence-cursor-fg: ${t[r?900:50].hex};

    border-left: 1px solid transparent;
    border-color: var(--presence-cursor-bg);
    margin-left: -1px;
    position: relative;
    word-break: normal;
    white-space: normal;
    mix-blend-mode: unset;
    pointer-events: none;
  `})),cln=$.div`
  background-color: var(--presence-cursor-bg);
  border-radius: 50%;
  width: ${6}px;
  height: ${6}px;
  position: absolute;
  top: -${5}px;
  left: -0.5px;
  transform: translateX(-50%);
  mix-blend-mode: unset;
  z-index: 0;
  pointer-events: all;

  // Increase the hit area of the cursor dot
  &:before {
    content: '';
    position: absolute;
    top: -${3}px;
    left: 50%;
    transform: translateX(-50%);
    width: ${12}px;
    height: ${18}px;
    opacity: 0.5;
  }
`,dln=$(di(N))((({theme:e})=>{var t;return de`
    position: absolute;
    top: -${9}px;
    left: -${4.5}px;
    transform-origin: left;
    white-space: nowrap;
    padding: 3px 6px;
    box-sizing: border-box;
    border-radius: ${null==(t=Ae(e))?void 0:t.radius[4]}px;
    background-color: var(--presence-cursor-bg);
    z-index: 1;
    mix-blend-mode: unset;
    user-select: none;
  `})),fln=$(di(L))`
  color: var(--presence-cursor-fg);
  mix-blend-mode: unset;
`;function hln(e){const{children:t,user:n}=e,{tints:r}=gwe(n.id),[i,o]=f.useState(!1),a=f.useCallback((()=>o(!0)),[]),s=f.useCallback((()=>o(!1)),[]),l=f.useMemo((()=>{var e;return`presence-cursor-${null==(e=n.displayName)?void 0:e.split(" ").join("-")}`}),[n.displayName]);return u.jsxs(u.Fragment,{children:[u.jsxs(uln,{$tints:r,contentEditable:!1,"data-testid":l,onMouseEnter:a,onMouseLeave:s,children:[u.jsx(xs,{children:i&&u.jsx(dln,{animate:"animate",exit:"exit",flex:1,initial:"initial",transition:oln,variants:aln,children:u.jsx(fln,{animate:"animate",exit:"exit",initial:"initial",size:0,transition:lln,variants:sln,weight:"medium",children:n.displayName})})}),u.jsx(cln,{})]}),t]})}function pln(e){const{path:t}=e,n=Bwe(),[r,i]=f.useState([]),[o,a]=f.useState([]),s=f.useRef(r),l=f.useCallback((e=>{const{rangeDecoration:t,newSelection:n}=e;a((e=>e.map((e=>{var r,i;return(null==(r=e.payload)?void 0:r.sessionId)===(null==(i=t.payload)?void 0:i.sessionId)?{...t,selection:n}:e}))))}),[]);return f.useEffect((()=>{const e=n.filter((e=>ya(t,e.path)&&!bt(t,e.path))),r=e.map((e=>({...e.selection,sessionId:e.sessionId}))),o=s.current.map((e=>({...e.selection,sessionId:e.sessionId})));if(!bt(r,o)){const t=e.length>0?e:an;i(t),s.current=t}}),[n,t]),f.useEffect((()=>{const e=r.map((e=>{if(!e.selection)return null;return{component:({children:t})=>u.jsx(hln,{user:e.user,children:t}),selection:{focus:e.selection.focus,anchor:e.selection.focus},onMoved:l,payload:{sessionId:e.sessionId}}}));a(e.filter(Boolean))}),[r,l]),o}function mln(e,t,n){return e.map((e=>({type:e,uploader:t(e,n),parentType:e}))).filter((e=>e.uploader))}function gln(e){const{path:t}=e,{patchChannel:n}=tc().__internal;return{subscribe:f.useCallback((e=>n.subscribe((({snapshot:n,patches:r})=>{const i=r.filter((e=>qP(e.path,t))).map((e=>({...e,path:e.path.slice(t.length)})));i.length&&e({shouldReset:bln(t,r),snapshot:xt(n)?xln(n,t):{},patches:i})}))),[t,n])}}function vln(e,t){const n=typeof e;return n===typeof t&&("object"===n?ed(e,t):e===t)}function qP(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!vln(t[n],e[n]))return!1;return!0}function yln(e,t){return 0===e.length||qP(t,e)&&!qP(e,t)}function bln(e,t){return t.some((t=>yln(t.path,e)&&("set"===t.type||"unset"===t.type)))}function xln(e,t){return t.reduce(((e,t)=>"object"==typeof t?Hxe(e,t):Yn(e,t)),e)}function wln(e){const{editorRef:t,elementProps:n,hotkeys:r,initialActive:i,initialFullscreen:o,markers:a=an,onChange:s,onCopy:l,onEditorChange:c,onFullScreenChange:d,onInsert:p,onItemRemove:h,onPaste:m,onPathFocus:g,path:y,readOnly:v,rangeDecorations:b,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C,schemaType:k,value:j,resolveUploader:S,onUpload:E}=e,{onBlur:_,ref:A}=n,T=f.useRef(null),D=t||T,M=pln(f.useMemo((()=>({path:e.path})),[e.path])),{subscribe:I}=gln({path:y}),{t:O}=Z(),[P,R]=f.useState(!1),[F,$]=f.useState(null),[B,V]=f.useState(o??!1),[z,H]=f.useState(i??!1),[W,q]=f.useState(!1),[G,Y]=f.useState(!1),K=Ss(),X=Ur(),J=f.useMemo((()=>new kr),[]),Q=f.useMemo((()=>J.asObservable()),[J]),ee=f.useCallback((()=>{V((e=>{const t=!e;return t?K.log(don):K.log(fon),d?.(t),t}))}),[d,K]);f.useEffect((()=>{F&&j!==F.value&&$(null)}),[F,j]),f.useEffect((()=>I((({patches:e,snapshot:t})=>{J.next({patches:e,snapshot:t})}))),[J,I]);const te=YXt(e);f.useEffect((()=>{G&&H(!0)}),[G]);const ne=f.useCallback((()=>{const e=re.current,t=e?.focus.path;if(!t)return;const n=3===t.length&&"children"===t[1]&&Vn(t[2])&&!te.some((e=>Vn(t[2])&&e.member.key===t[2]._key))?t.concat(["text"]):t;f.startTransition((()=>{g(n,{selection:e})}))}),[g,te]),re=f.useRef(null),ie=f.useCallback((e=>{switch(e.type){case"mutation":case"undo":case"redo":s(fte(e.patches));break;case"connection":"offline"===e.value?q(!0):"online"===e.value&&q(!1);break;case"selection":re.current=e.selection,ne();break;case"focus":H(!0),Y(!0);break;case"blur":_(e.event),Y(!1);break;case"invalidValue":$(e);break;case"error":X.push({status:e.level,description:e.description})}D.current&&c&&c(e,D.current)}),[D,c,s,ne,_,X]);f.useEffect((()=>{R(!1)}),[j]);const oe=f.useCallback((()=>{R(!0)}),[]),ae=f.useMemo((()=>F&&F.resolution?u.jsx(N,{marginBottom:2,children:u.jsx(iln,{onChange:ie,onIgnore:oe,resolution:F.resolution,readOnly:W||v})}):null),[ie,oe,F,W,v]),se=f.useCallback((()=>{z||(H(!0),D.current&&Ie.focus(D.current))}),[D,z]),le=f.useRef([]),ue=f.useMemo((()=>{const e=[...b||[],...M],t=TA(le.current,e);return le.current=t,t}),[M,b]),ce=f.useCallback(((e,t)=>{const{type:n,uploader:r}=t;E?.({file:e,schemaType:n,uploader:r})}),[E]),de=f.useCallback((e=>{if(!S)return;const t=e.map((e=>({file:e,uploaderCandidates:mln(k.of,S,e)}))),n=t.filter((e=>e.uploaderCandidates.length>0)),r=t.filter((e=>0===e.uploaderCandidates.length));r.length>0&&X.push({closable:!0,status:"warning",title:O("inputs.array.error.cannot-upload-unable-to-convert",{count:r.length}),description:r.map(((e,t)=>u.jsxs(U,{gap:2,padding:2,children:[u.jsx(N,{children:u.jsx(L,{weight:"medium",children:e.file.name})}),u.jsx(N,{children:u.jsxs(L,{size:1,children:["(",e.file.type,")"]})})]},t)))}),n.forEach((e=>{ce(e.file,Qf(e.uploaderCandidates,(e=>e.uploader.priority))[0])}))}),[X,S,k,ce,O]),fe=f.useCallback((e=>{const{event:t}=e,n="paste"===t.type?"paste":"drop",r=!!t.clipboardData.getData("text/html"),i=!!t.clipboardData.getData("text/plain");return"paste"===n&&r&&i||BCe(t.clipboardData).then((e=>e.length>0?e:[])).then((e=>{de(e)})),m?.(e)}),[de,m]);return u.jsxs(N,{children:[!P&&ae,(!F||P)&&u.jsx(nln,{markers:a,children:u.jsx(rln,{memberItems:te,children:u.jsx(Ie,{patches$:Q,onChange:ie,maxBlocks:void 0,ref:D,readOnly:W||v,schemaType:k,value:j,children:u.jsx(tln,{...e,elementRef:A,hasFocusWithin:G,hotkeys:r,isActive:z,isFullscreen:B,onActivate:se,onItemRemove:h,onCopy:l,onInsert:p,onPaste:fe,onToggleFullscreen:ee,rangeDecorations:ue,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C})})})})]})}function fte(e){return e.map((e=>({...e,patchType:Kp})))}function KP(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function Cln(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&KP(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const Sln=$(ae)((e=>{const{theme:t}=e,{focusRing:n,input:r,radius:i}=t.sanity,o=t.sanity.color.input,a=ke(t.sanity.space[1]);return{position:"relative",borderRadius:`${i[1]}px`,color:o.default.enabled.fg,boxShadow:KP({color:o.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:`-${a} 0 0 -${a}`},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:`${a} 0 0 ${a}`},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:o.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Cln({border:{color:o.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:o.default.disabled.fg,backgroundColor:o.default.disabled.bg,boxShadow:KP({color:o.default.disabled.border,width:r.border.width})}}})),Eln=$.input((e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,i=t.sanity.space[2],o=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ke(o.fontSize),lineHeight:o.lineHeight/o.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ke(i-o.ascenderHeight),paddingRight:ke(i),paddingBottom:ke(i-o.descenderHeight),paddingLeft:ke(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}})),_ln=$(N)((e=>{const{theme:t}=e;return de`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: ${t.sanity.color.input.default.enabled.placeholder};
  `})),kln=$(N)`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`,tSe=f.forwardRef(((e,t)=>{const{disabled:n,onChange:r,onFocus:i,placeholder:o,readOnly:a,value:s=[],...l}=e,{t:c}=Z(ax),[d,p]=f.useState(""),h=!n&&!a,[m,g]=f.useState(!1),y=f.useRef(null),v=f.useRef(null);f.useImperativeHandle(t,(()=>y.current));const b=f.useCallback((e=>{if(zu(e.target)&&e.target.closest('[data-ui="Tag"]'))return;const t=y.current;t&&setTimeout((()=>t.focus()),0)}),[]),x=f.useCallback((()=>{g(!1)}),[]),w=f.useCallback((e=>{p(e.currentTarget.value)}),[]),C=f.useCallback((e=>{g(!0),i&&i(e)}),[i]),k=f.useCallback((e=>{if("Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),r&&d)){const e=s.concat([{value:d}]);p(""),r&&r(e)}}),[d,r,s]),j=f.useCallback((e=>{if(!r)return;const t=s.slice(0);t.splice(e,1),r(t)}),[r,s]);return f.useEffect((()=>{const e=y.current;e&&(e.style.width="0",e.style.width=`${e.scrollWidth}px`)}),[d]),u.jsxs(Sln,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":a?"":void 0,"data-ui":"TagInput",onPointerDown:b,overflow:"auto",padding:1,ref:v,children:[h&&u.jsx(_ln,{hidden:!(!d&&!s.length),padding:3,children:u.jsx(L,{textOverflow:"ellipsis",children:o||c("inputs.tags.placeholder",{context:typeof window<"u"&&"ontouchstart"in window?"touch":void 0})})}),u.jsxs("div",{className:"content",children:[s.map(((e,t)=>u.jsx(kln,{children:u.jsx(Tln,{enabled:h,index:t,muted:!h,onRemove:j,tag:e})},`tag-${t}`))),u.jsx("div",{children:u.jsx(Eln,{...l,disabled:!h,onBlur:x,onChange:w,onFocus:C,onKeyDown:k,ref:y,type:"text",value:d})},"tag-input")]})]})}));function Tln(e){const{enabled:t,index:n,muted:r,onRemove:i,tag:o}=e,a=f.useCallback((()=>{i(n)}),[n,i]);return u.jsx(ae,{"data-ui":"Tag",radius:2,tone:"transparent",children:u.jsxs(U,{align:"center",gap:1,children:[u.jsx(N,{flex:1,paddingY:2,paddingLeft:2,children:u.jsx(L,{muted:r,textOverflow:"ellipsis",children:o.value})}),t&&u.jsx(me,{icon:Ar,mode:"bleed",onClick:a,tooltipProps:{content:"Remove"}})]})})}function Aln(e){const{onChange:t,readOnly:n,value:r=[],elementProps:i,path:o,changed:a}=e,s=f.useMemo((()=>r?.map((e=>({value:e})))),[r]),l=f.useCallback((e=>{t(0===e.length?ft():lt(e.map((e=>e.value))))}),[t]);return u.jsx(ka,{path:o,isChanged:a,hasFocus:!1,children:u.jsx(tSe,{onChange:l,readOnly:n,value:s,...i})})}tSe.displayName="TagInput";const jln=["string","number","boolean"];function Iln(e){return e.of.every((e=>jln.includes(e.jsonType)))}function Dln(e){return 1===e.of.length&&Su("string",e.of[0])}function Oln(e){var t;return"tags"===(null==(t=e.options)?void 0:t.layout)}function Rln(e){return e.of.some((e=>Su("block",e)))}function Mln(e){var t;return!(null==(t=e.options)||!t.list)}function $ln(e){return Dln(e)&&Oln(e)?Aln:Mln(e)?c2e:Iln(e)?d2e:Rln(e)?wln:u2e}function Pln(e){return K4(e)?e:{title:ym(`${e}`),value:e}}const hte={title:"",value:void 0};function nSe(e){var t,n;const{value:r,readOnly:i,validationError:o,schemaType:a,onChange:s,path:l,changed:c,focused:d,elementProps:p}=e,h=f.useMemo((()=>{var e;return((null==(e=a.options)?void 0:e.list)||[]).map(Pln)}),[null==(t=a.options)?void 0:t.list]),m=h.find((e=>e.value===r)),g=a.options&&"radio"===a.options.layout,y=f.useCallback((e=>{const t=Number(e);return h[t]}),[h]),v=f.useCallback((e=>String(h.indexOf(e))),[h]),b=f.useId(),x=f.useCallback((e=>{s(Tt.from(typeof e?.value>"u"?ft():lt(e.value)))}),[s]),w=f.useCallback((e=>{const t=y(e.currentTarget.value);x(t||hte)}),[x,y]),C=g?u.jsx(Fln,{...p,value:m,inputId:b,items:h,direction:(null==(n=a.options)?void 0:n.direction)||"vertical",customValidity:o,onChange:x,readOnly:i}):u.jsx(rl,{...p,customValidity:o,value:v(m),readOnly:i,onChange:w,children:[hte,...h].map(((e,t)=>u.jsx("option",{value:t-1,children:e.title},""+(t-1))))});return u.jsx(ka,{path:l,isChanged:c,hasFocus:!!d,children:C})}const Fln=f.forwardRef((function(e,t){const{items:n,value:r,onChange:i,onFocus:o,readOnly:a,customValidity:s,direction:l,inputId:c}=e;return u.jsx(ae,{border:!0,padding:3,radius:2,children:u.jsx("horizontal"===l?xn:ne,{space:3,role:"group",children:n.map(((e,n)=>u.jsx(Lln,{customValidity:s,inputId:c,item:e,onChange:i,onFocus:o,readOnly:a,ref:0===n?t:null,value:r},n)))})})})),Lln=f.forwardRef((function(e,t){const{customValidity:n,inputId:r,item:i,onChange:o,onFocus:a,readOnly:s,value:l}=e,c=f.useCallback((()=>{o(i)}),[i,o]);return u.jsxs(U,{as:"label",align:"center",children:[u.jsx(Sde,{ref:t,checked:l===i,onChange:c,onFocus:a,readOnly:s,customValidity:n,name:r}),u.jsx(N,{marginLeft:2,children:u.jsx(L,{size:1,weight:"medium",children:i.title})})]})}));function Nln(e){return RCe(e,"list")?nSe:m2e}function Bln(e){return RCe(e,"list")?nSe:g2e}function Vln(e){return Su("array",e)?$ln(e):Su("reference",e)?UQt:Su("string",e)?Bln(e):Su("number",e)?Nln(e):void 0}function zln(e){var t;if(null!=(t=e.components)&&t.input)return e.components.input;const n=Vln(e);if(n)return n;const r=N9(e,new Set).reduce(((e,t)=>(e[t.name]=t,e)),{}),i=Object.values(r).find((e=>ate[e.name]));if(i)return ate[i.name];throw new Error(`Could not find input component for schema type \`${e.name}\``)}function Uln(e){var t;return null!=(t=e.components)&&t.preview?e.components.preview:Ta}function Hln({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const Wln={portal:!0,tone:"default"},Gln={position:"relative"};function Yln(e){var t,n,r,i,o,a,s,l;const{schemaType:c,parentSchemaType:d,path:p,readOnly:h,onRemove:m,value:g,open:y,onInsert:v,onFocus:b,onOpen:x,onClose:w,changed:C,focused:k,children:j,inputProps:{renderPreview:S}}=e,{t:E}=Z(),_=UA(),A=!1===(null==(t=d?.options)?void 0:t.treeEditing),T=A||_.legacyEditing,D=y&&(!_.enabled||T),M=!1!==(null==(n=d.options)?void 0:n.sortable),I=d.of,O=f.useRef(null);$A(O,y),Ja(k,((e,t)=>{var n;!e&&t&&O.current&&(null==(n=O.current)||n.focus())}));const P=g._resolvingInitialValue,R=f.useCallback((()=>{v({items:[{...g,_key:ox()}],position:"after"})}),[v,g]),F=f.useCallback(((e,t)=>{v({items:[rv(t)],position:e})}),[v]),L=ev(p,!0),$=f.useMemo((()=>0===L.length?null:u.jsx(Pw,{presence:L,maxAvatars:1})),[L]),B=b9(p,!0),V=f.useMemo((()=>0===B.length?null:u.jsx(N,{paddingX:1,paddingY:3,children:u.jsx(nv,{validation:B,__unstable_showSummary:!0})})),[B]),z=B.some((e=>"error"===e.level)),U=B.some((e=>"warning"===e.level)),[H,W]=f.useState(null),{insertBefore:q,insertAfter:G}=Z9({schemaTypes:I,insertMenuOptions:null==(r=d.options)?void 0:r.insertMenu,onInsert:F,referenceElement:H}),Y=f.useMemo((()=>h?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:W,onOpen:()=>{q.send({type:"close"}),G.send({type:"close"})},button:u.jsx(ai,{selected:!(!q.state.open&&!G.state.open)||void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(At,{children:[u.jsx(qe,{text:E("inputs.array.action.remove"),tone:"critical",icon:Br,onClick:m}),u.jsx(qe,{text:E("inputs.array.action.duplicate"),icon:Ll,onClick:R}),q.menuItem,G.menuItem]}),popover:Wln}),q.popover,G.popover]})),[q,G,R,m,e.inputId,h,E]),K=Hln({readOnly:h,hasErrors:z,hasWarnings:U}),X=u.jsx(WA,{menu:Y,presence:$,validation:V,tone:K,focused:k,dragHandle:M,selected:y,readOnly:!!h,children:u.jsxs(ae,{as:"button",type:"button",tone:"inherit",radius:1,disabled:P,onClick:x,ref:O,onFocus:b,__unstable_focusRing:!0,style:Gln,children:[S({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),P&&u.jsx(wn,{fill:!0})]})}),J=$l(c);return u.jsxs(HA,{legacyEditing:A,children:[u.jsx(ka,{path:p,isChanged:C,hasFocus:!!k,children:u.jsx(N,{paddingX:1,children:X})}),D&&u.jsx(JCe,{header:E(h?"inputs.array.action.view":"inputs.array.action.edit",{itemTypeTitle:J}),type:(null==(o=null==(i=d?.options)?void 0:i.modal)?void 0:o.type)||"dialog",width:null!=(l=null==(s=null==(a=d?.options)?void 0:a.modal)?void 0:s.width)?l:1,id:g._key,onClose:w,autofocus:k,legacy_referenceElement:O.current,children:j})]})}function qln(e){const{menuRef:t,containerRef:n}=e;return u.jsx(iae.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Kln({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const Zln={portal:!0,tone:"default"};function Xln(e){var t,n,r,i,o,a,s,l;const{schemaType:c,parentSchemaType:d,path:p,readOnly:h,onRemove:m,value:g,open:y,onInsert:v,presence:b,validation:x,inputId:w,changed:C,focused:k,children:j,inputProps:{onChange:S,focusPath:E,onPathFocus:_,renderPreview:A,elementProps:T}}=e,D=!1!==(null==(t=d.options)?void 0:t.sortable),M=d.of,I=f.useRef(null),O=f.useRef(null),P=f.useRef(null),{EditReferenceLink:R,getReferenceInfo:F,selectedState:L,isCurrentDocumentLiveEdit:$}=L9({path:p,schemaType:c,value:g});$A(I,y),Ja(k,((e,t)=>{var n;!e&&t&&I.current&&(null==(n=I.current)||n.focus())}));const B=e.validation.some((e=>"error"===e.level)),V=e.validation.some((e=>"warning"===e.level)),z=g._resolvingInitialValue,U=f.useCallback((()=>{v({items:[{...g,_key:ox()}],position:"after"})}),[v,g]),H=f.useCallback(((e,t)=>{v({items:[{...rv(t),_key:ox()}],position:e})}),[v]),W=PA(g?._ref,F),q=g._ref,G=(null==(n=W.result)?void 0:n.type)||(null==(r=g?._strengthenOnPublish)?void 0:r.type),Y=q&&(null==(a=null==(o=null==(i=W.result)?void 0:i.preview)?void 0:o.published)?void 0:a._id),K=f.useCallback((()=>{S([!0===c.weak?lt(!0,["_weak"]):ft(["_weak"]),ft(["_strengthenOnPublish"])])}),[S,c.weak]),X=G?c.to.find((e=>e.name===G)):void 0,J="pressed"===L,Q="selected"===L,ee=Kln({readOnly:h,hasErrors:B,hasWarnings:V}),te=!q||"_ref"===E[0],{t:ne}=Z(),re=f.useMemo((()=>f.forwardRef((function(e,t){return u.jsx(ml,{...e,intent:"edit",params:{id:g?._ref,type:X?.name},target:"_blank",rel:"noopener noreferrer",ref:t})}))),[X?.name,g?._ref]),ie=f.useCallback((()=>{_(q&&te?[]:["_ref"])}),[q,te,_]),[oe,ae]=f.useState(null),{insertBefore:se,insertAfter:le}=Z9({schemaTypes:M,insertMenuOptions:null==(s=d.options)?void 0:s.insertMenu,onInsert:H,referenceElement:oe}),ue=f.useMemo((()=>h?null:u.jsxs(u.Fragment,{children:[u.jsx(Gt,{ref:ae,onOpen:()=>{se.send({type:"close"}),le.send({type:"close"})},button:u.jsx(ai,{selected:!(!se.state.open&&!le.state.open)||void 0}),id:`${w}-menuButton`,menu:u.jsxs(At,{ref:O,children:[!h&&u.jsxs(u.Fragment,{children:[u.jsx(qe,{text:ne("inputs.reference.action.remove"),tone:"critical",icon:Br,onClick:m}),u.jsx(qe,{text:ne(q&&te?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:q&&te?Ar:rm,onClick:ie}),u.jsx(qe,{text:ne("inputs.reference.action.duplicate"),icon:Ll,onClick:U}),se.menuItem,le.menuItem]}),!h&&!te&&q&&u.jsx(rr,{}),!te&&q&&u.jsx(qe,{as:re,"data-as":"a",text:ne("inputs.reference.action.open-in-new-tab"),icon:Nu})]}),popover:Zln}),se.popover,le.popover]})),[U,ie,q,w,se,le,te,m,re,h,ne]),ce=f.useCallback((()=>{S(!0===c.weak?lt(!0,["_weak"]):ft(["_weak"]))}),[S,c]),de=null!=g&&g._weak?"weak":"strong",fe=!0===c.weak?"weak":"strong",pe=q&&!W.isLoading&&g?._strengthenOnPublish,he=!W.isLoading&&(null==(l=W.result)?void 0:l.availability.available)&&q&&de!==fe&&!pe,me=u.jsxs(u.Fragment,{children:[$&&Y&&g._strengthenOnPublish&&u.jsx(CCe,{schemaType:c,handleRemoveStrengthenOnPublish:K}),he&&u.jsx(F9,{actualStrength:de,handleFixStrengthMismatch:ce}),W.error&&u.jsx(P9,{errorMessage:W.error.message,onHandleRetry:W.retry})]}),ge=u.jsx(qln,{menuRef:O,containerRef:P,children:u.jsx(WA,{dragHandle:D,readOnly:!!h,presence:!te&&b.length>0&&u.jsx(Pw,{presence:b,maxAvatars:1}),validation:!te&&x.length>0&&u.jsx(nv,{validation:x}),menu:ue,footer:te?void 0:me,tone:te?void 0:ee,focused:k,children:te?u.jsx(N,{padding:1,ref:P,children:u.jsx(IA,{title:c.title,description:c.description,__unstable_presence:b,validation:x,inputId:w,deprecated:c.deprecated,children:j})}):u.jsxs(SCe,{as:R,tone:"inherit",radius:2,documentId:g?._ref,documentType:X?.name,disabled:z,__unstable_focusRing:!0,selected:Q,pressed:J,"data-selected":!!Q||void 0,"data-pressed":!!J||void 0,...T,children:[u.jsx(wCe,{value:g,referenceInfo:W,renderPreview:A,type:c}),z&&u.jsx(wn,{fill:!0})]})})});return u.jsx(ka,{path:p,isChanged:C,hasFocus:!!k,children:u.jsx(N,{paddingX:1,children:ge})})}function Jln(e){var t;return null!=(t=e.components)&&t.item?e.components.item:Iu(e)?Xln:Yln}function Qln(e){const{children:t}=e,[{error:n,info:r},i]=f.useState({error:null,info:{}}),o=f.useCallback((()=>i({error:null,info:{}})),[]);return n?u.jsx(eun,{error:n,info:r,onRetry:o}):u.jsx(v1,{onCatch:i,children:t})}function eun(e){const{error:t,info:n,onRetry:r}=e;if(t instanceof wA||t instanceof cj)throw t;const{t:i}=Z(),o=f.useMemo((()=>xt(t)&&"string"==typeof t.message&&t.message),[t]),a=f.useMemo((()=>xt(t)&&"string"==typeof t.stack&&t.stack),[t]);return f.useMemo((()=>"string"==typeof n?.componentStack&&n.componentStack),[n?.componentStack]),fxe(r),u.jsx(Xl,{status:"error",title:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.title")}),children:u.jsxs(ne,{space:4,children:[u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.error-message",{message:o})})}),a&&u.jsx(N,{children:u.jsxs(ne,{space:2,children:[u.jsx(L,{as:"p",size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.call-stack.title")})}),u.jsx(ae,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:a&&u.jsx(ni,{size:1,style:{maxHeight:"40vh"},children:a})})]})},"call-stack"),Es]})})}const tun={isLoading:!0},nun={isLoading:!1};function Vw(e){const{enabled:t=!0,ordering:n,schemaType:r,value:i}=e||{},{observeForPreview:o}=Ui();return Wr(f.useMemo((()=>t&&i&&r?o(i,r,{ordering:n}).pipe(fe((e=>({isLoading:!1,value:e.snapshot||void 0}))),pn((e=>we({isLoading:!1,error:e})))):we(nun)),[t,o,n,i,r]),tun)}const run=typeof window>"u"?Zn:Ka(window,"orientationchange").pipe(Bi(1)),iun=typeof window>"u"?Zn:Ka(window,"resize").pipe(Bi(1)),aun=typeof window>"u"?Zn:Ka(window,"scroll",{passive:!0,capture:!0}).pipe(Bi(1)),rSe=150;function oun(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0)}const sun=oun()?lun():uun();function lun(){const e=new kr,t=new IntersectionObserver((t=>{t.forEach((t=>{e.next(t)}))}),{threshold:0,rootMargin:"150px"});return function(n){return new It((e=>(t.observe(n),e.next(),()=>t.unobserve(n)))).pipe(kt((()=>e.asObservable())),jt((e=>e.target===n)),fe((e=>({isIntersecting:e.isIntersecting}))))}}function uun(){function e(e){return()=>function(e,t,n){return e.left<=t.right+n&&e.right>=t.left-n&&e.top<=t.bottom+n&&e.bottom>=t.top-n}(e.getBoundingClientRect(),{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight},150)}return function(t){const n=e(t);return kn(we(n()),iun,aun,run).pipe(fe(n),fe((e=>({isIntersecting:e}))))}}const cun=typeof window>"u"?Zn:Ka(document,"visibilitychange").pipe(Bi(1));function dun(e){const{element:t,hideDelay:n=0}=e,[r,i]=f.useState(!1);return f.useEffect((()=>{if(!t)return;const e=bi(we(!document.hidden),cun.pipe(fe((e=>{var t;return e.target instanceof Document&&!(null!=(t=e?.target)&&t.hidden)})))).pipe(mr()),r=sun(t).pipe(fe((e=>e.isIntersecting))),o=e.pipe(ht((e=>e?r:we(!1))),ht((e=>e?we(!0):we(!1).pipe(Che(n)))),mr()).subscribe(i);return()=>o.unsubscribe()}),[t,n]),r}const fun=2e3;function hun(e){return pun(e?._upload)}function ey(e){return a0(e)?e:void 0}function pun(e){var t,n;if(!xt(e))return;const r="number"==typeof e.progress?e.progress:0,i=ey(e.initiated||e.createdAt),o=ey(e.updated||e.updatedAt),a=ey(null==(t=e?.file)?void 0:t.name),s=ey(null==(n=e?.file)?void 0:n.type),l=ey(e.previewImage);return i&&o&&a&&s?{progress:r,createdAt:i,updatedAt:o,file:{name:a,type:s},previewImage:l}:void 0}function tB(e){const{layout:t,value:n,component:r,style:i,schemaType:o,skipVisibilityCheck:a,...s}=e,{t:l}=Z(),[c,d]=f.useState(null),p=dun({element:a?null:c,hideDelay:fun}),h=Vw({enabled:a||p,schemaType:o,value:n}),m=f.useMemo((()=>({...i,minWidth:i?.minWidth||1,minHeight:i?.minHeight||1})),[i]),g=f.useMemo((()=>hun(n)),[n]),y=f.useMemo((()=>{var e,t;return null!=g&&g.previewImage?u.jsx("img",{alt:l("preview.image.file-is-being-uploaded.alt-text"),src:g.previewImage}):null!=(e=h?.value)&&e.media?null==(t=h?.value)?void 0:t.media:o.icon}),[h,o,g,l]);return u.jsx("div",{ref:d,style:m,children:f.createElement(r,{...s,...h?.value||{},media:y,error:h?.error,isPlaceholder:h?.isLoading,layout:t,schemaType:o})})}function mun(){return u.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",u.jsx("code",{children:"renderCustomMarkers"})," function."]})}const gun={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function vun(e){const{__internal_fieldActions:t=an,__internal_patchChannel:n=gun,autoFocus:r,changesOpen:i,children:o,collapsedFieldSets:a,collapsedPaths:s,file:l,filterField:c,focusPath:d,focused:p,groups:h,id:m,image:g,onChange:y,onFieldGroupSelect:v,onPathBlur:b,onPathFocus:x,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:k,presence:j,readOnly:S,renderAnnotation:E,renderBlock:_,renderField:A,renderInlineBlock:T,renderInput:D,renderItem:M,renderPreview:I,schemaType:O,unstable:N,validation:P}=e,R=f.useMemo((()=>({patchChannel:n,components:{ArrayFunctions:H9,CustomMarkers:N?.CustomMarkers||mun,Markers:N?.Markers||Vwe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:!1!==l?.directUploads},filterField:c||(()=>!0),image:{assetSources:g.assetSources,directUploads:!1!==g?.directUploads},onChange:y})),[t,l.assetSources,l?.directUploads,c,g.assetSources,g?.directUploads,y,n,N?.CustomMarkers,N?.Markers]),F=f.useMemo((()=>({__internal:R,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:s,focusPath:d,focused:p,groups:h,id:m,readOnly:S,renderAnnotation:E,renderBlock:_,renderField:A,renderInlineBlock:T,renderInput:D,renderItem:M,renderPreview:I,schemaType:O})),[R,r,i,a,s,d,p,h,m,S,E,_,A,T,D,M,I,O]);return u.jsx(Jie.Provider,{value:F,children:u.jsx(Fw,{onChange:y,onFieldGroupSelect:v,onPathBlur:b,onPathFocus:x,onPathOpen:w,onSetPathCollapsed:k,onSetFieldSetCollapsed:C,children:u.jsx(uJt,{id:m,children:u.jsx(Bqt,{presence:j,children:u.jsx(Uqt,{validation:P,children:u.jsx(eKt,{children:o})})})})})})}function yun(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,children:o,collapsedFieldSets:a,collapsedPaths:s,focusPath:l,focused:c,groups:d,id:p,onChange:h,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:v,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,readOnly:C,schemaType:k,validation:j}=e,{file:S,image:E}=Sn().form,_=oSe(),A=sSe(),T=nB(),D=lSe(),M=uSe(),I=cSe(),O=dSe(),N=f.useCallback((e=>u.jsx(_,{...e})),[_]),P=f.useCallback((e=>u.jsx(A,{...e})),[A]),R=f.useCallback((e=>u.jsx(D,{...e})),[D]),F=f.useCallback((e=>u.jsx(tB,{component:T,...e})),[T]),L=f.useCallback((e=>u.jsx(M,{...e})),[M]),$=f.useCallback((e=>u.jsx(I,{...e})),[I]),B=f.useCallback((e=>u.jsx(O,{...e})),[O]);return u.jsx(vun,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:s,file:S,focusPath:l,focused:c,groups:d,id:p,image:E,onChange:h,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:v,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,readOnly:C,renderAnnotation:B,renderBlock:L,renderField:P,renderInlineBlock:$,renderInput:N,renderItem:R,renderPreview:F,schemaType:k,validation:j,children:o})}function iSe(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,focused:s,focusPath:l,groups:c,id:d,members:p,onChange:h,onFieldGroupSelect:m,onPathBlur:g,onPathFocus:y,onPathOpen:v,onSetFieldSetCollapsed:b,onSetPathCollapsed:x,openPath:w=an,presence:C,readOnly:k,schemaType:j,validation:S,value:E}=e,_=f.useCallback((e=>x([e],!0)),[x]),A=f.useCallback((e=>x([e],!1)),[x]),T=f.useCallback((()=>g(an)),[g]),D=f.useCallback((()=>y(an)),[y]),M=f.useCallback((e=>h(Tt.from(e))),[h]),I=f.useRef(null),O=f.useCallback((e=>m(an,e)),[m]),N=f.useCallback((e=>v([e])),[v]),P=f.useCallback((()=>v([])),[v]),R=f.useCallback((e=>b([e],!0)),[b]),F=f.useCallback((e=>b([e],!1)),[b]),L=oSe(),$=sSe(),B=nB(),V=lSe(),z=uSe(),U=cSe(),H=dSe(),W=f.useCallback((e=>u.jsx(Qln,{children:u.jsx(L,{...e})})),[L]),q=f.useCallback((e=>u.jsx($,{...e})),[$]),G=f.useCallback((({key:e,...t})=>u.jsx(V,{...t},e)),[V]),Y=f.useCallback((e=>u.jsx(tB,{component:B,...e})),[B]),K=f.useCallback((e=>u.jsx(z,{...e})),[z]),Z=f.useCallback((e=>u.jsx(U,{...e})),[U]),X=f.useCallback((e=>u.jsx(H,{...e})),[H]),J=f.useMemo((()=>({focusPath:l,elementProps:{ref:I,id:d,onBlur:T,onFocus:D,"aria-describedby":void 0},changed:p.some((e=>"field"===e.kind&&e.field.changed)),focused:s,groups:c,id:d,level:0,members:p,onChange:M,onFieldClose:P,onFieldCollapse:_,onFieldSetCollapse:R,onFieldExpand:A,onFieldSetExpand:F,onPathFocus:y,onFieldOpen:N,onFieldGroupSelect:O,path:an,presence:an,readOnly:k,renderAnnotation:X,renderBlock:K,renderField:q,renderInlineBlock:Z,renderInput:W,renderItem:G,renderPreview:Y,schemaType:j,validation:an,value:E})),[l,s,c,T,M,P,_,R,A,F,D,N,O,d,p,y,k,X,K,q,Z,W,G,Y,j,E]);return u.jsx(yun,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,focusPath:l,focused:s,groups:c,id:d,onChange:h,onPathBlur:g,onPathFocus:y,onPathOpen:v,onFieldGroupSelect:m,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:C,validation:S,readOnly:k,schemaType:j,children:u.jsx(zrn,{value:E,children:u.jsx(vJt,{value:E,children:u.jsx(PZt,{actions:t,children:u.jsx(HA,{children:u.jsx(bun,{rootInputProps:J,onPathOpen:v,openPath:w,renderInput:W})})})})})})}function bun(e){const{rootInputProps:t,onPathOpen:n,openPath:r,renderInput:i}=e,o=UA(),a="root"===t.id,s=o.enabled&&a&&u.jsx(_nn,{onPathFocus:t.onPathFocus,onPathOpen:n,openPath:r,rootInputProps:t,schemaType:t.schemaType});return i({...t,__internal_arrayEditingModal:s})}const xun=$(ae)((e=>{const{color:t,radius:n,space:r}=e.theme.sanity,i=de`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -${r[1]}px;
    bottom: -${r[1]}px;
    left: -${r[1]}px;
    right: -${r[1]}px;
    border-radius: ${n[2]}px;
    mix-blend-mode: ${t.dark?"screen":"multiply"};
  `;return de`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: ${n[1]}px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      --card-border-color: var(--card-focus-ring-color);
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      &:after {
        ${i}
        background-color: ${t.dark?et.purple[950].hex:et.purple[50].hex};
      }
    }

    &[data-warning] {
      &:after {
        ${i}
        background-color: ${t.muted.caution.hovered.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      &:after {
        ${i}
        background-color: ${t.input.invalid.enabled.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `})),wun=$(U)`
  display: block;
  position: relative;
  width: 100%;
  user-select: none;
  pointer-events: all;
`,Cun=$.div((({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return de`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&de`
        display: none;
      `}

      [data-dragged] & {
        visibility: hidden;
      }
    `}));$(U)`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`;const Sun=$(N)`
  width: 25px;
  position: relative;
  flex-shrink: 0;
  user-select: none;

  [data-dragged] & {
    visibility: hidden;
  }
`,Eun=$(U)`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`,_un=$(N)`
  max-width: 250px;
`,kun={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Tun(e){const{children:t,focused:n,isOpen:r,onOpen:i,onRemove:o,readOnly:a,value:s}=e,{t:l}=Z(),c=f.useId(),d=f.useRef(null),p=f.useRef(!1),h=f.useMemo((()=>gd(s)?f.forwardRef((function(e,t){return u.jsx(ml,{...e,intent:"edit",params:{id:s._ref},ref:t})})):void 0),[s]);f.useEffect((()=>{r&&(p.current=!1)}),[r]),mo(f.useCallback((e=>{n&&"Tab"===e.key&&d.current&&!p.current&&!r&&(e.preventDefault(),e.stopPropagation(),d.current.focus(),p.current=!0)}),[n,r]));const m=f.useCallback((e=>{e.preventDefault(),e.stopPropagation(),o()}),[o]);return u.jsxs(U,{children:[u.jsx(N,{flex:1,children:t}),u.jsx(N,{children:u.jsx(Gt,{button:u.jsx(me,{"aria-label":l("inputs.portable-text.block.open-menu-aria-label"),icon:a1,mode:"bleed",paddingY:3,tabIndex:n?0:1,tooltipProps:{content:"Open menu"}}),ref:d,id:c,menu:u.jsx(At,{children:u.jsxs(u.Fragment,{children:["_ref"in s&&s._ref&&u.jsx(qe,{as:h,"data-as":"a",icon:cs,text:l("inputs.portable-text.block.open-reference")}),a&&u.jsx(qe,{icon:ak,onClick:i,text:l("inputs.portable-text.block.view")}),!a&&u.jsx(qe,{icon:Ou,onClick:i,text:l("inputs.portable-text.block.edit")}),!a&&u.jsx(qe,{icon:Br,onClick:m,text:l("inputs.portable-text.block.remove"),tone:"critical"})]})}),popover:kun})})]})}function Aun(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:o,onItemOpen:a,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,relativePath:p,renderAnnotation:h,renderBlock:m,renderBlockActions:g,renderCustomMarkers:y,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C,schemaType:k,selected:j,value:S}=e,{onChange:E}=vl(),{Markers:_}=tc().__internal.components,[A,T]=f.useState(!1),D=jA(l),M=zi(),I=RA(Bn(l)),O=f.useRef(!1),P=f.useMemo((()=>({anchor:{path:p,offset:0},focus:{path:p,offset:0}})),[p]),R=f.useCallback((()=>T(!0)),[]),F=f.useCallback((()=>T(!1)),[]),L=f.useCallback((()=>{I&&(Ie.blur(M),a(I.node.path))}),[M,I,a]),$=f.useCallback((()=>{o(),Ie.select(M,P),Ie.focus(M)}),[o,M,P]),B=f.useCallback((()=>{if(!O.current)try{Ie.delete(M,P,{mode:"blocks"})}catch(e){console.error(e)}finally{O.current=!0}}),[M,P]);f.useEffect((()=>()=>{O.current&&Ie.focus(M)}),[M]);const V=f.useMemo((()=>i&&!g?{paddingX:5}:i&&g?{paddingLeft:5,paddingRight:2}:g?{paddingLeft:3,paddingRight:2}:{paddingX:3}),[i,g]),{validation:z,hasError:H,hasWarning:W,hasInfo:q}=AA(I?.node),G=M.schemaTypes.portableText,Y=D.length>0,K=ev(l,!0),Z=f.useMemo((()=>K.filter((e=>fr(e.path,l)))),[l,K]),X=H||W||q||Y,J=f.useMemo((()=>X&&u.jsx(_un,{children:u.jsx(_,{markers:D,validation:z,renderCustomMarkers:y})})||null),[_,D,y,X,z]),Q=!(null==I||!I.member.open),ee=I?.input,te=I?.node.path||an,ne=null==(t=I?.elementRef)?void 0:t.current,re=f.useMemo((()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:ne||null,children:ee,focused:r,markers:D,onClose:$,onOpen:L,onPathFocus:s,onRemove:B,open:Q,parentSchemaType:G,path:te,presence:Z,readOnly:!!c,renderAnnotation:h,renderBlock:m,renderDefault:aSe,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:w,renderPreview:C,schemaType:k,selected:j,validation:z,value:S})),[n,ne,ee,r,D,$,L,s,B,Q,G,te,Z,c,d,h,m,v,b,x,w,C,k,j,z,S]),ie=g&&S&&!c,oe=i&&I;return f.useMemo((()=>u.jsx(N,{ref:I?.elementRef,contentEditable:!1,children:u.jsx(U,{"data-object-block":"",paddingBottom:1,marginY:3,style:void 0,children:u.jsxs(wun,{"data-object-block-inner":"",...V,children:[u.jsx(N,{flex:1,children:u.jsx(pt,{placement:"top",portal:"editor",disabled:!!Q||!X,content:J,children:u.jsx("div",{children:m&&m(re)})})}),ie&&u.jsx(Sun,{contentEditable:!1,marginRight:3,children:u.jsx(Eun,{children:r&&u.jsx(B2e,{block:S,onChange:E,renderBlockActions:g})})}),oe&&u.jsx(Cun,{$hasChanges:I.member.item.changed,contentEditable:!1,onMouseEnter:R,onMouseLeave:F,children:u.jsx(N2e,{hasFocus:r,isChanged:I.member.item.changed,path:I.member.item.path,withHoverEffect:!1})}),A&&u.jsx(L2e,{})]})})})),[ie,oe,re,r,F,R,V,I,E,m,g,A,J,X,S,Q])}const aSe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:p,renderPreview:h,schemaType:m,selected:g,value:y,validation:v}=e,{t:b}=Z(),x=$Te(y),w=v.filter((e=>"error"===e.level)).length>0,C=v.filter((e=>"warning"===e.level)).length>0,k=a.length>0,j=g||o?"primary":"default",S=f.useCallback((e=>{e.preventDefault(),e.stopPropagation(),l()}),[l]);return u.jsxs(u.Fragment,{children:[u.jsx(xun,{"aria-label":b("inputs.portable-text.block.aria-label"),"data-focused":o?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":w?"":void 0,"data-markers":k?"":void 0,"data-read-only":p?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":C?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:j,children:h({actions:u.jsx(Tun,{isOpen:d,focused:o,onOpen:l,onRemove:c,readOnly:p,value:y}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:y})}),d&&u.jsx(M9,{floatingBoundary:t,defaultType:"dialog",onClose:s,autoFocus:o,schemaType:m,referenceBoundary:n,referenceElement:r,children:i})]})};function jun(e){var t;return null!=(t=e.components)&&t.block?e.components.block:CA(e)?q2e:aSe}function Iun(e){var t;return null!=(t=e.components)&&t.inlineBlock?e.components.inlineBlock:eSe}function Dun(e){var t;return null!=(t=e.components)&&t.annotation?e.components.annotation:LP}function Rm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),i=f.useCallback((e=>{var n;if(null==(n=e.schemaType)||!n.type)throw new Error("Attempted to render form component of non-existent parent type");const{components:r,...i}=e.schemaType,o=t(i);return f.createElement(o,e)}),[t]);return f.createElement(r,{...n,renderDefault:i})}function Oun(e){return Rm({componentProps:e,componentResolver:zln})}function Run(e){return Rm({componentProps:e,componentResolver:wQt})}function Mun(e){return Rm({componentProps:e,componentResolver:Jln})}function $un(e){return Rm({componentProps:e,componentResolver:Uln})}function Pun(e){return Rm({componentProps:e,componentResolver:jun})}function Fun(e){return Rm({componentProps:e,componentResolver:Iun})}function Lun(e){return Rm({componentProps:e,componentResolver:Dun})}function Nun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.input}function Bun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.field}function Vun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.preview}function zun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.item}function Uun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.block}function Hun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.inlineBlock}function Wun(e){var t,n;return null==(n=null==(t=e.form)?void 0:t.components)?void 0:n.annotation}function oSe(){return gl({defaultComponent:Oun,pick:Nun})}function sSe(){return gl({defaultComponent:Run,pick:Bun})}function nB(){return gl({defaultComponent:$un,pick:Vun})}function lSe(){return gl({defaultComponent:Mun,pick:zun})}function uSe(){return gl({defaultComponent:Pun,pick:Uun})}function cSe(){return gl({defaultComponent:Fun,pick:Hun})}function dSe(){return gl({defaultComponent:Lun,pick:Wun})}function av(e){const t=nB();return u.jsx(tB,{...e,component:t})}const Gun={block:Skn,blockImage:xkn,compact:z5n,default:k5e,detail:Q5n,inline:Akn,media:pkn};function Yun(){return u.jsx(Nl,{className:"sanity-studio__preview-fallback-icon"})}function Ta(e){const{icon:t,layout:n,media:r,imageUrl:i,title:o,tooltip:a,...s}=e,l=Zt(zt),c=f.useMemo((()=>iw(l)),[l]),d=f.useCallback((e=>{const{dimensions:t}=e;return u.jsx("img",{alt:a0(o)?o:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(t.width||100).height(t.height||100).fit(t.fit).dpr(t.dpr||1).url()||""})}),[c,r,o]),p=f.useCallback((()=>f.createElement(t||Yun)),[t]),h=f.useMemo((()=>!1!==t&&(ta.isValidElementType(r)||f.isValidElement(r)?r:P1(r)?d:a0(i)?u.jsx("img",{src:i,alt:a0(o)?o:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):p)),[t,i,r,p,d,o]),m=f.useMemo((()=>({...s,media:h,title:o})),[h,s,o]),g=Gun[n||"default"],y=f.createElement(g,m);return a?u.jsx(pt,{content:a,disabled:!a,fallbackPlacements:["top-end"],placement:"bottom-end",children:u.jsx("div",{children:y})}):y}const fSe=["_id","_rev","_type"],qun=[...fSe,"_key"],pte={available:!0,reason:"READABLE"},Kun={available:!1,reason:"PERMISSION_DENIED"},Zun={available:!1,reason:"NOT_FOUND"},Xun={title:"Invalid preview config",subtitle:"Check the error log in the console",media:u.jsx(or,{})};function tE(e,t){let n,r={},i=0;return function(...e){return new It((a=>{clearTimeout(n),n=setTimeout(o,t);const s={args:e,observer:a,completed:!1},l=i++;return r[l]=s,()=>{s.completed=!0}}))};function o(){const t=r;r={};const n=Object.keys(t).filter((e=>{const n=t[e];return n&&!n.completed}));if(0===n.length)return;const i=n.map((e=>{const n=t[e];return n&&n.args})).filter(wi);e(i).subscribe({next(e){e.forEach(((r,i)=>{const o=t[n[i]];o&&!o.completed&&o.observer.next(e[i])}))},complete(){n.forEach((e=>{const n=t[e];n&&!n.completed&&n.observer.complete()}))},error(e){n.forEach((n=>{const r=t[n];r&&!r.completed&&r.observer.error(e)}))}})}}const Jun=11164;function Qun(e){let t=[],n=0;const r=[];for(const i of e)n+i.length+1>=Jun&&(r.push(t),t=[],n=0),n+=i.length+1,t.push(i);return r.includes(t)||r.push(t),r}function ecn(e,t){return e.push(...t),e}function hSe(e,t){function n(e){return t({_ref:e},[["_rev"]]).pipe(fe((e=>xt(e)&&!(!("_rev"in e)||null==e||!e._rev))),mr(),ht((t=>t?we(pte):r(e))))}const r=tE((function(e){const t=[...new Set(pr(e))];return Qn(Qun(t)).pipe(kt(i,10),yhe(ecn,[]),fe((n=>e.map((([e])=>n[t.indexOf(e)])))))}),1);function i(t){return Pi((()=>{const n={uri:e.getDataUrl("doc",t.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(n).pipe(fe((e=>{const n=p7(e.omitted||[],(e=>e.id));return t.map((e=>{const t=n[e];if(!t)return pte;if("existence"===t.reason)return Zun;if("permission"===t.reason)return Kun;throw new Error(`Unexpected reason for omission: "${t.reason}"`)}))})))}))}return{observeDocumentPairAvailability:function(e){const t=Vi(e),r=sn(e);return Ni([n(t),n(r)]).pipe(mr(ed),fe((([e,t])=>({draft:e,published:t}))))}}}function pSe(e){return Object.keys(e)}function mte(e,t,n){return{...e,[t]:n}}function tcn(e={}){return t=>new It((e=>t.subscribe(e))).pipe(ht((t=>{const n=pSe(t).map((e=>{const n=t[e];return QXe(n)?Qn(n).pipe(fe((t=>[e,t]))):we([e,n])}));return e.wait?Ni(n).pipe(fe((e=>e.reduce(((e,[t,n])=>mte(e,t,n)),{})))):Qn(n).pipe(Yk(),hs(((e,[t,n])=>mte(e,t,n)),{}))})))}function ncn(e){return e.reduce(((e,t)=>(e[t]=void 0,e)),{})}function rcn(e,t){return t.filter((t=>!(t[0]in e)))}function icn(e){return gd(e)?e._ref:"_id"in e?e._id:void 0}function ZP(e,t,n,r){if(!e||"object"!=typeof e)return we(e);const i=icn(e),o=i?{...e,_id:i}:{...e};"reference"===o._type&&(delete o._type,delete o._ref,delete o._weak,delete o._dataset,delete o._projectId,delete o._strengthenOnPublish);const a=rcn(o,t);if(i&&a.length>0){const o=Fi(a.map((e=>e[0]))),s=Bie(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(i,o,s).pipe(ht((r=>null===r?we(null):ZP({...ncn(o),...gd(e)?{...e,...s}:e,...r},t,n,s))))}const s={};t.forEach((e=>{const[t,...n]=e;s[t]||(s[t]=[]),s[t].push(n)}));return we(Object.keys(s).reduce(((t,i)=>{const o=s[i].filter((e=>e.length>0));return 0===o.length?t[i]=xt(e)?e[i]:void 0:t[i]=ZP(e[i],o,n,r),t}),o)).pipe(tcn({wait:!0}))}function acn(e){return e.map((e=>"string"==typeof e?e.split("."):e))}function ocn(e){const{observeFields:t}=e;return{observePaths:(e,n,r)=>ZP(e,acn(n),t,r)}}const scn=[["_createdAt"],["_updatedAt"]];function rB(e){const t=e?.select;return t?(Object.values(t).map((e=>String(e).split(".")))||[]).concat(scn):void 0}function lcn(e){return Array.isArray(e)&&(0===e.length||e.some(Mi))}function ucn(e){const t=Array.isArray(e)&&e.find(Mi);return t&&t.children?t.children.filter(ha).map((e=>e.text)).join(""):""}const ccn=["_id","_type","_upload","_createdAt","_updatedAt"],G0=[],XP=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll:()=>e,clear(){e={}}}})(),dcn=nm((()=>{const e=XP.getAll(),t=pr(Object.keys(e).map((t=>{const n=e[t];return Mf(n,(e=>e.error.message))}))).length;0!==t&&(console.groupCollapsed(`%cHeads up! Got ${1===t?"error":`${t} errors`} while preparing data for preview. Click for details.`,"color: #ff7e7c"),Object.keys(e).forEach((t=>{const n=e[t],r=n[0];console.group(`Check the preview config for schema type "${t}": %o`,r.type.preview),Mf(n,(e=>e.error.message)).forEach((e=>{var t;if("returnValueError"===e.error.type){const n="function"==typeof(null==(t=e.type.preview)?void 0:t.prepare),{value:r,error:i}=e;console.log(`Encountered an invalid ${n?"return value when calling prepare(%o)":"value targeted by preview.select"}:`,r),console.error(i)}if("prepareError"===e.error.type){const{value:t,error:n}=e;console.log("Encountered an error when calling prepare(%o):",t),console.error(n)}})),console.groupEnd()})),console.groupEnd(),XP.clear())}),1e3),ty=e=>t=>{const n=typeof t;return null===t||"undefined"===n||"string"===n||"number"===n||"boolean"===n?G0:[aB("returnValueError",new Error(`The "${e}" field should be a string, number, boolean, undefined or null, instead saw ${iB(t)}`))]},fcn={media:()=>G0,title:ty("title"),subtitle:ty("subtitle"),description:ty("description"),imageUrl:ty("imageUrl"),date:ty("date")};function iB(e,t=!0){if(xt(e)){const n=Object.keys(e),r=n.length>3?"...":"";return`${t?"object with keys ":""}{${n.slice(0,3).join(", ")}${r}}`}if(Array.isArray(e)){const n=e.length>3?"...":"";return`${t?"array with ":""}[${e.map((e=>iB(e,!1)))}${n}]`}return`the ${typeof e} ${e}`}function hcn(e,t){if(typeof t>"u")return G0;const n=fcn[e];return n&&n(t)||G0}function aB(e,t){return Object.assign(t,{type:e})}function pcn(e){return ar(e)&&null!==e?Object.entries(e).reduce(((e,[t,n])=>[...e,...hcn(t,n)]),G0):[aB("returnValueError",new Error(`Invalid return value. Expected a plain object with at least a 'title' field, instead saw ${iB(e)}`))]}function mcn(e){return{...e,errors:[...e.errors||[],...pcn(e.returnValue)]}}function gcn(e){return pSe(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:lcn(r)?ucn(r):r}}),{})}function mSe(e,t,n={}){var r;const i=null==(r=e.preview)?void 0:r.prepare;try{return{returnValue:i?i(t,n):gcn(t),errors:G0}}catch(e){return{returnValue:null,errors:[aB("prepareError",e)]}}}function gte(e,t,n){return e.errors.forEach((e=>XP.add(t,n,e))),dcn(),Xun}function vcn(e){const t=!(!e.options||"object"!=typeof e.options)&&e.options;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function ycn(e){return vcn(e)?e.options.list.map((e=>K4(e)?e:{title:e,value:e})):void 0}function l5(e,t,n={}){var r,i;const o="function"==typeof(null==(r=t.preview)?void 0:r.prepare),a=(null==(i=t.preview)?void 0:i.select)||{},s=Object.keys(a).reduce(((n,r)=>{var i;const s="fields"in t?t:null,l=a[r],u=null==(i=s?.fields)?void 0:i.find((e=>e.name===l)),c=u&&ycn(u.type);if(!o&&c){const t=c&&c.find((t=>t.value===Yn(e,a[r])));n[r]=t?t.value:Yn(e,a[r])}else n[r]=Yn(e,a[r]);return n}),{}),l=mSe(t,s,n);if(l.errors.length>0)return gte(l,t,s);const u=mcn(l);return u.errors.length>0?gte(u,t,s):{...Bt(e,ccn),...l.returnValue}}function bcn(e){return ar(e)}function xcn(e){return ar(e)}function wcn(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function e(r,i,o,a){if(q4(i)){if(!Bie(r))return we({snapshot:void 0});const n={projectId:r._projectId,dataset:r._dataset};return t(r._ref,n).pipe(ht((t=>{if(t){const o=i.to.find((e=>e.type===t));return e(r,o,{},n)}return we({snapshot:void 0})})))}if(Iu(i))return xcn(r)?t(r._ref).pipe(ht((t=>{if(t){const n=i.to.find((e=>e.name===t));return e(r,n)}return we({snapshot:void 0})}))):we({snapshot:void 0});const s=rB(i.preview);return s?n(r,s,a).pipe(fe((e=>({type:i,snapshot:e&&l5(e,i,o)})))):we({type:i,snapshot:r&&bcn(r)?mSe(i,r,o).returnValue:null})}}function Ccn(e,t){const{observeDocumentPairAvailability:n}=hSe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:function(e,i){const{draftId:o,publishedId:a}=Kxe(e);return n(o).pipe(ht((e=>{if(!e.draft.available&&!e.published.available)return we({id:a,type:null,draft:{availability:e.draft,snapshot:void 0},published:{availability:e.published,snapshot:void 0}});const n=[...i,...r];return Ni([t({_type:"reference",_ref:o},n),t({_type:"reference",_ref:a},n)]).pipe(fe((([t,n])=>{const r=xt(t)&&"_type"in t&&t._type||xt(n)&&"_type"in n&&n._type||null;return{id:a,type:"string"==typeof r?r:null,draft:{availability:e.draft,snapshot:t},published:{availability:e.published,snapshot:n}}})))})))}}}function Scn(e){return(t,n)=>t===n||!(!t||!n||"object"!=typeof t||"object"!=typeof n)&&e.every((e=>t[e]===n[e]))}const Ecn=e=>e;function _cn(e,t=Ecn){let n,r;for(let i=0;i<e.length;i++)if(0!==i){if(r=t(e[i]),n!==r)return!1;n=r}else n=t(e[i]);return!0}function kcn(e){return hRt(e.reduce(((e,[t,n],r)=>{const i=Qf(n.join(","),Sfe).join(".");e[i]||(e[i]={fields:n,ids:[],map:[]});const o=e[i].ids.length;return e[i].ids[o]=t,e[i].map[o]=r,e}),{}))}function Tcn(e){return JSON.stringify(e)}const Acn=e=>HUt(e)?`"${e}": @${WUt(e)}`:e;function jcn({ids:e,fields:t}){const n=[...fSe,...t];return`*[_id in [${e.map(Tcn).join(",")}]][0...${e.length}]{${n.map(Acn).join(",")}}`}function Icn(e){return`[${e.map(jcn).join(",")}][0...${e.length}]`}function Dcn(e,t){return e.reduce(((e,n,r)=>(t[r].map.forEach(((i,o)=>{const a=t[r].ids[o],s=n.find((e=>e._id===a));e[i]=s||null})),e)),[])}function Ocn(e){const{observePaths:t,versionedClient:n}=e;let r;const i=()=>{if(!r){const e=Qn(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(ho()),t=e.pipe(jt((e=>"welcome"===e.type)),Bi({refCount:!0,bufferSize:1}));t.subscribe();const i=e.pipe(jt((e=>"mutation"===e.type)));r={welcome$:t,mutations$:i}}return r};function o(e){return function(t){const n=kcn(t);return e.observable.fetch(Icn(n),{},{tag:"preview.document-paths"}).pipe(fe((e=>Dcn(e,n))))}}const a=tE(o(n),100),s=tE(o(n),1e3);function l(e,t){return function(e){const t=i();return kn(t.welcome$,t.mutations$.pipe(jt((t=>t.documentId===e))))}(e).pipe(ht((n=>"welcome"===n.type||"query"===n.visibility?a(e,t).pipe(kt((n=>bi(we(n),void 0===n?s(e,t):[])))):s(e,t))))}const u={},c=Pk((function(e){return tE(o(n.withConfig(e)),10)}),(e=>e.dataset+e.projectId)),d=Ka(document,"visibilitychange").pipe(xi(0),fe((()=>"visible"===document.visibilityState)),ht((e=>e?ri(0,1e4):Zn)),ho());function f(e,t,n){let r=null;const i=kn(Pi((()=>null===r?Zn:we(r))),n?function(e,t,n){return d.pipe(xi(0)).pipe(ht((()=>c(n)(e,t))))}(e,t,n):l(e,t)).pipe(qn((e=>r=e)),Bi({refCount:!0,bufferSize:1}));return{id:e,fields:t,changes$:i}}return{observeFields:function(e,t,n){const r=n?`${n.projectId}:${n.dataset}:${e}`:`$current$-${e}`;r in u||(u[r]=[]);const i=u[r];return Rp(t,pr(i.map((e=>e.fields)))).length>0&&i.push(f(e,t,n)),Ni(i.filter((e=>e.fields.some((e=>t.includes(e))))).map((e=>e.changes$))).pipe(fe((e=>e.filter(Boolean))),jt((e=>_cn(e,(e=>e._rev)))),fe((e=>0===e.length?null:function(e,t){return[...qun,...t].reduce(((t,n)=>{const r=function(e,t){let n;return e.some((e=>t in e&&(n=e[t],!0))),n}(e,n);return void 0!==r&&(t[n]=r),t}),{})}(e,t))),mr(Scn(t)))}}}function Rcn({client:e}){const t=e.withConfig({apiVersion:"1"}),{observeFields:n}=Ocn({observePaths:(e,t,n)=>r(e,t,n),versionedClient:t}),{observePaths:r}=ocn({observeFields:n});function i(e,t){return r({_type:"reference",_ref:e},["_type"],t).pipe(fe((e=>xt(e)&&"string"==typeof e._type?e._type:void 0)),mr())}const o=wcn({observeDocumentTypeFromId:i,observePaths:r}),{observeDocumentPairAvailability:a}=hSe(t,r),{observePathsDocumentPair:s}=Ccn(t,r);return{observePaths:r,observeForPreview:o,observeDocumentTypeFromId:i,unstable_observeDocumentPairAvailability:a,unstable_observePathsDocumentPair:s}}const Mcn=e=>!0===e.liveEdit;function ov(e,t,n,r){return Ni([Mcn(t)?we({snapshot:null}):e.observeForPreview({_type:"reference",_ref:Vi(n)},t),e.observeForPreview({_type:"reference",_ref:sn(n)},t)]).pipe(fe((([e,t])=>({draft:e.snapshot?{title:r,...e.snapshot||{}}:null,isLoading:!1,published:t.snapshot?{title:r,...t.snapshot||{}}:null}))),xi({draft:null,isLoading:!0,published:null}))}const $cn=e=>({title:u.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:u.jsx("em",{children:e.title?`Missing document ID: ${e._id}`:`Document ID: ${e._id}`}),media:()=>u.jsx(or,{})}),oB=({value:e,draft:t,published:n})=>{const r=t||n;return r?jBt({},r,e,((e,t)=>typeof t>"u"?e:t)):$cn(e)},Pcn=ah((([e,t])=>Qn(e.getUser(t).catch((e=>(console.error(e),null))))));function nc(e){const t=mB();return Pcn(f.useMemo((()=>[t,e]),[e,t]))}function Un(){const{currentUser:e}=Sn();return e}const vte=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:(new Date).toISOString()}},yte=e=>({type:"snapshot",document:e}),bte=e=>e.document,Fcn=e=>{const t=new kr,n=new Hk(!0),r=new kr,i=new kr,o=new kr,a=new kr,s=e.pipe(hs(((e,t)=>"snapshot"===t.type?(e&&e.commit(),(e=>{const t=new XOt(e);return t.onMutation=({mutation:e,remote:n})=>{r.next({type:"mutation",document:vte(t),mutations:e.mutations,origin:n?"remote":"local"})},t.onRemoteMutation=e=>{o.next({type:"remoteMutation",head:t.document.HEAD,transactionId:e.transactionId,timestamp:e.timestamp,author:e.identity,effects:e.effects})},t.onRebase=(e,t,n)=>{i.next({type:"rebase",document:e,remoteMutations:t,localMutations:n})},t.onConsistencyChanged=e=>{n.next(e)},t.commitHandler=e=>a.next(e),t})(t.document||null)):null===e?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',t.type),null):e),null),jt((e=>null!==e)),mr(),jl(1),Al()),l=e.pipe(jt((e=>"mutation"===e.type)),qy(s),fe((([e,t])=>(t.arrive(new ju(e)),vte(t))))),u=t.pipe(qy(s),qn((([e,t])=>{"mutation"===e.type&&t.add(new ju({mutations:e.mutations})),"commit"===e.type&&t.commit()})),E0(Zn),ho()),c=e=>(e=>t.next(e))({type:"mutation",mutations:e}),d=kn(s.pipe(fe((e=>e.LOCAL))),r.pipe(fe(bte)),i.pipe(fe(bte)),l).pipe(fe(yte),jl(1),Al()),f=kn(s.pipe(fe((e=>e.document.HEAD)),fe(yte)),o).pipe(jl(1),Al());return{updates$:kn(d,u,r,i),consistency$:n.pipe(mr(),jl(1),Al()),remoteSnapshot$:f,commitRequest$:a,addMutation:e=>c([e]),addMutations:c,commit:()=>{s.pipe(xa(1),qn((e=>e.commit()))).subscribe()}}},Lcn=e=>t=>{const{_id:n,_rev:r,_updatedAt:i,...o}=t;return{_id:e,...o}},xte=(e,t)=>{const n=Fcn(t),r=Lcn(e),i={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:t=>t.map((t=>({patch:{...t,id:e}}))),create:e=>({create:r(e)}),createIfNotExists:e=>({createIfNotExists:r(e)}),createOrReplace:e=>({createOrReplace:r(e)}),delete:()=>i,mutate:e=>n.addMutations(e),commit:()=>n.commit()}},Ncn={type:"pending",phase:"begin"},Bcn={type:"pending",phase:"end"};function Vcn(e){return"mutation"===e.type}function zcn(e){return e.transactionTotalEvents>1}function Ucn(e){const t=ON(e.filter((e=>"mutation"===e.type)),(e=>e.transactionId));return Object.values(t).every((e=>e.length===e[0].transactionTotalEvents))}function Hcn(e,t,n={}){const{publishedId:r,draftId:i}=t;return Pi((()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:i},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"}))).pipe(sp((t=>"welcome"===t.type?e.observable.getDocuments([i,r],{tag:"document.snapshots"}).pipe(fe((([e,t])=>({draft:e,published:t})))).pipe(sp((e=>[wte(i,e.draft),wte(r,e.published)]))):we(t))),hs(((e,t)=>{if(!Vcn(t))return{next:[t],buffer:[]};const n=e.buffer.length>0,r=zcn(t);if(!r&&!n)return{next:[t],buffer:[]};if(!r)return{next:[],buffer:e.buffer.concat(t)};const i=e.buffer.concat(t);return Ucn(i)?{next:i.concat(Bcn),buffer:[]}:{next:1===i.length?[Ncn]:[],buffer:i}}),{next:[],buffer:[]}),kt((e=>e.next)),sp((e=>window.SLOW?ri(1e4).pipe(fe((()=>e))):we(e))))}function wte(e,t){return{type:"snapshot",documentId:e,document:t}}const Cte=e=>t=>"reconnect"!==t.type&&"pending"!==t.type&&t.documentId===e;function N2(e){return t=>({...t,version:e})}function Wcn(e){if(!e._id)throw new Error("Expected document to have an _id")}function Gcn(e,t){const{resultRev:n,...r}=e;return r.mutations.flatMap((e=>{const t=Object.values(e);if(t.length>1)throw new Error("Did not expect multiple mutations in the same payload");return t[0].id||t[0]._id})).every((e=>e===t))}function Ycn(e,t){return t.mutations.flatMap((t=>{if(t.createIfNotExists)return[];if(t.create)return Wcn(t.create),{actionType:"sanity.action.document.create",publishedId:e.publishedId,attributes:t.create,ifExists:"fail"};if(t.patch)return{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:pa(t.patch,"id")};throw new Error("Cannot map mutation to action")}))}function qcn(e,t,n){return Gcn(n,t.publishedId)?gSe(e,n):e.observable.action(Ycn(t,n),{tag:"document.commit",transactionId:n.transactionId})}function gSe(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Kcn(e,t,n,r){return Qn(r?qcn(e,t,n.mutation.params):gSe(e,n.mutation.params)).pipe(qn({error:e=>{"statusCode"in e&&"number"==typeof e.statusCode&&e.statusCode>=400&&e.statusCode<=500?n.cancel(e):n.failure(e)},next:()=>n.success()}))}function vSe(e,t,n){const{publishedId:r,draftId:i}=t,o=new kr,a=Hcn(e,t).pipe(ho({connector:()=>o})),s=a.pipe(jt((e=>"reconnect"===e.type))),l=xte(i,a.pipe(jt(Cte(i)))),u=xte(r,a.pipe(jt(Cte(r)))),c=a.pipe(jt((e=>"pending"===e.type))),d=kn(l.commitRequest$,u.commitRequest$).pipe(kt((r=>n.pipe(xa(1),kt((n=>Kcn(e,t,r,n)))))),kt((()=>Zn)),ho());return{transactionsPendingEvents$:c,draft:{...l,events:kn(d,s,l.events).pipe(fe(N2("draft"))),consistency$:l.consistency$,remoteSnapshot$:l.remoteSnapshot$.pipe(fe(N2("draft")))},published:{...u,events:kn(d,s,u.events).pipe(fe(N2("published"))),consistency$:u.consistency$,remoteSnapshot$:u.remoteSnapshot$.pipe(fe(N2("published")))},complete:()=>o.complete()}}function rc(e,t){const n=Object.create(null);return(...r)=>{const i=t(...r);return i in n||(n[i]=e(...r)),n[i]}}function Od(e,t,n){var r,i;const o=e.config();return`${null!=(r=o.dataset)?r:""}-${null!=(i=o.projectId)?i:""}-${t.publishedId}-${n}`}const qA=rc(((e,t,n,r)=>new It((n=>{const i=vSe(e,t,r);return n.next(i),i.complete})).pipe(jl(1),Al())),Od);function Zcn(e){return"snapshot"===e.type}function Ste(e){return{snapshots$:e.events.pipe(jt(Zcn),fe((e=>e.document)),jl(1),Al()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const sB=rc(((e,t,n,r)=>qA(e,t,n,r).pipe(fe((({published:e,draft:t,transactionsPendingEvents$:n})=>({transactionsPendingEvents$:n,published:Ste(e),draft:Ste(t)}))),jl(1),Al())),Od),yl=(e,t)=>{var n;return!0===(null==(n=e.get(t))?void 0:n.liveEdit)},Xcn={enabled:!0},Ete={enabled:!1},ySe=rc(((e,t,n)=>{const r=yl(e.schema,n);return sB(e.client,t,n,e.serverActionsEnabled).pipe(ht((e=>Ni([e.draft.snapshots$,e.published.snapshots$,e.transactionsPendingEvents$.pipe(fe((e=>"begin"===e.phase?Xcn:Ete)),xi(Ete))]))),fe((([e,i,o])=>({id:t.publishedId,type:n,draft:e,published:i,liveEdit:r,ready:!0,transactionSyncLock:o}))),xi({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),jl(1),Al())}),((e,t,n)=>Od(e.client,t,n))),bSe=rc(((e,t,n,r)=>qA(e,t,n,r).pipe(ht((({draft:e,published:t})=>Ni([e.consistency$,t.consistency$]))),fe((([e,t])=>e&&t)),mr(),jl(1),Al())),Od),xSe=rc(((e,t,n)=>sB(e.client,t,n,e.serverActionsEnabled).pipe(ht((r=>Ni([r.draft.snapshots$,r.published.snapshots$,e.serverActionsEnabled]).pipe(fe((([i,o,a])=>({...e,serverActionsEnabled:a,idPair:t,typeName:n,snapshots:{draft:i,published:o},draft:r.draft,published:r.published})))))),jl(1),Al())),((e,t,n)=>Od(e.client,t,n))),wSe={disabled:()=>!1,execute:({draft:e,published:t})=>(e.commit(),t.commit(),Zn)},u5={disabled:({snapshots:e})=>!e.draft&&!e.published&&"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r})=>{const i=e.observable.transaction().delete(n.publishedId);return yl(t,r)?i.commit({tag:"document.delete"}):i.delete(n.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},CSe={disabled:({snapshots:e})=>e.draft?!e.published&&"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>e.observable.transaction().delete(t.draftId).commit({tag:"document.discard-changes"})},Jcn=["_createdAt","_updatedAt"],SSe={disabled:({snapshots:e})=>!e.published&&!e.draft&&"NOTHING_TO_DUPLICATE",execute:({schema:e,client:t,snapshots:n,typeName:r},i)=>{const o=n.draft||n.published;if(!o)throw new Error("cannot execute on empty document");return t.observable.create({...pa(o,Jcn),_id:yl(e,r)?i:Vi(i),_type:o._type},{tag:"document.duplicate"})}},ESe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:o},a=[],s)=>{yl(e,o)?i.mutate([i.createIfNotExists({_type:o,...s}),...i.patch(a)]):r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:o}),...r.patch(a)])}};function JP(e){return gd(e)?e._strengthenOnPublish?pa(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:"object"==typeof e&&e?Array.isArray(e)?e.map(JP):Object.fromEntries(Object.entries(e).map((([e,t])=>[e,JP(t)]))):e}const _Se={disabled:({schema:e,typeName:t,snapshots:n})=>yl(e,t)?"LIVE_EDIT_ENABLED":!n.draft&&(n.published?"ALREADY_PUBLISHED":"NO_CHANGES"),execute:({client:e,idPair:t,snapshots:n})=>{if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');const r=JP(pa(n.draft,"_updatedAt")),i=e.observable.transaction();if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return n.published?(i.patch(t.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:n.published._rev}),i.createOrReplace({...r,_id:t.publishedId,_type:n.draft._type})):i.create({...r,_id:t.publishedId,_type:n.draft._type}),i.delete(t.draftId),i.commit({tag:"document.publish",visibility:"async"})}},kSe={disabled:()=>!1,execute:({historyStore:e,schema:t,idPair:n,typeName:r},i)=>{const o=yl(t,r)?n.publishedId:n.draftId;return e.restore(n.publishedId,o,i)}},TSe={disabled:({schema:e,snapshots:t,typeName:n})=>yl(e,n)?"LIVE_EDIT_ENABLED":!t.published&&"NOT_PUBLISHED",execute:({client:e,idPair:t,snapshots:n})=>{let r=e.observable.transaction().delete(t.publishedId);return n.published&&(r=r.createIfNotExists({...pa(n.published,"_updatedAt"),_id:t.draftId,_type:n.published._type})),r.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},c5={disabled:({snapshots:e})=>!e.draft&&!e.published&&"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r,snapshots:i})=>yl(t,r)?e.observable.transaction().delete(n.publishedId).commit({tag:"document.delete"}):i.published?e.observable.action({actionType:"sanity.action.document.delete",includeDrafts:i.draft?[n.draftId]:[],publishedId:n.publishedId},{tag:"document.delete",skipCrossDatasetReferenceValidation:!0}):e.observable.action({actionType:"sanity.action.document.discard",draftId:n.draftId},{tag:"document.delete"})},ASe={disabled:({snapshots:e})=>e.draft?!e.published&&"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>e.observable.action({actionType:"sanity.action.document.discard",draftId:t.draftId},{tag:"document.discard-changes"})},jSe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:o},a=[],s)=>{if(yl(e,o)){const e=i.patch(a),n=t.published?e:[i.createIfNotExists({_type:o,...s})];return void i.mutate(n)}const l=r.patch(a);if(t.published)return void r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:o}),...l]);const u=t.draft?[]:[r.create({...s,_id:n.draftId,_type:o})];r.mutate([...u,...l])}},ISe={disabled:({schema:e,typeName:t,snapshots:n})=>yl(e,t)?"LIVE_EDIT_ENABLED":!n.draft&&(n.published?"ALREADY_PUBLISHED":"NO_CHANGES"),execute:({client:e,idPair:t,snapshots:n})=>{var r;if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return e.observable.action({actionType:"sanity.action.document.publish",draftId:t.draftId,publishedId:t.publishedId,ifPublishedRevisionId:null==(r=n.published)?void 0:r._rev},{tag:"document.publish"})}},DSe={disabled:()=>!1,execute:({snapshots:e,historyStore:t,schema:n,idPair:r,typeName:i},o)=>{const a=yl(n,i)?r.publishedId:r.draftId;return t.restore(r.publishedId,a,o,{fromDeleted:!e.draft&&!e.published,useServerDocumentActions:!0})}},OSe={disabled:({schema:e,snapshots:t,typeName:n})=>yl(e,n)?"LIVE_EDIT_ENABLED":!t.published&&"NOT_PUBLISHED",execute:({client:e,idPair:t})=>e.observable.action({actionType:"sanity.action.document.unpublish",draftId:t.draftId,publishedId:t.publishedId},{tag:"document.unpublish",skipCrossDatasetReferenceValidation:!0})};function Qcn(e){return typeof e>"u"?we(null):e}const RSe={del:u5,delete:u5,publish:_Se,patch:ESe,commit:wSe,discardChanges:CSe,unpublish:TSe,duplicate:SSe,restore:kSe},edn={...RSe,del:c5,delete:c5,discardChanges:ASe,patch:jSe,publish:ISe,unpublish:OSe,restore:DSe},tdn=(e,t,n,r)=>{const i=r?edn[e]:RSe[e];return Pi((()=>kn(we(null),Qcn(i.execute(t,...n))))).pipe(NJe())},MSe=new kr;function $Se(e,t,n,r){MSe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const ndn=["publish","unpublish","discardChanges","delete"],PSe=rc((e=>{const t=MSe.pipe(_he((e=>e.idPair.publishedId)),kt((t=>t.pipe(ht((t=>xSe(e,t.idPair,t.typeName).pipe(xa(1),ht((n=>{const r=ndn.includes(t.operationName);r&&(n.published.commit(),n.draft.commit());const i=bSe(e.client,t.idPair,t.typeName,e.serverActionsEnabled).pipe(jt(Boolean));return(r?i.pipe(xa(1)):we(!0)).pipe(ht((()=>tdn(t.operationName,n,t.extraArgs,n.serverActionsEnabled))))})),fe((()=>({type:"success",args:t}))),pn((e=>we({type:"error",args:t,error:e}))))))))),ho()),n=t.pipe(jt((e=>"success"===e.type&&"patch"===e.args.operationName)),Tb(1e3,al,{leading:!0,trailing:!0}),sp((e=>window.SLOW?ri(1e4).pipe(fe((()=>e))):we(e))),qn((e=>{$Se("commit",e.args.idPair,e.args.typeName,[])})));return kn(t,n.pipe(E0(Zn)))}),(e=>{var t,n;const r=e.client.config();return`${null!=(t=r.dataset)?t:""}-${null!=(n=r.projectId)?n:""}${e.serverActionsEnabled?"-serverActionsEnabled":""}`})),rdn=rc(((e,t,n,r)=>qA(e,t,n,r).pipe(ht((({published:e,draft:t})=>kn(e.remoteSnapshot$,t.remoteSnapshot$))))),Od),idn={isValidating:!0,validation:[]};function adn(e){return Lxe(e,((e,t)=>(gd(t)&&e.add(t._ref),e)),new Set)}const odn=[],sdn=(e,t)=>e(t).pipe(fe((({published:e})=>e.available))),ldn=200,udn=1e3;function G3(){return Bi({bufferSize:1,refCount:!0})}const cdn=rc(((e,{draftId:t,publishedId:n},r)=>{const i=ySe(e,{draftId:t,publishedId:n},r).pipe(fe((({draft:e,published:t})=>e||t)),Tb(200,al,{trailing:!0}),mr(((e,t)=>e?._rev===t?._rev||ed(pa(e,"_rev","_updatedAt"),pa(t,"_rev","_updatedAt")))),G3()),o=i.pipe(fe((e=>adn(e))),kt((e=>Qn(e)))).pipe(_he((e=>e),{duration:()=>ri(18e5)}),kt((t=>t.pipe(MJe(),kt((t=>sdn(e.observeDocumentPairAvailability,t).pipe(fe((e=>[t,e])))))))),hs(((e,[t,n])=>e[t]===n?e:{...e,[t]:n}),{}),mr(ed),G3()),a=({id:e})=>gi(o.pipe(Ehe((t=>e in t)),fe((t=>t[e])))),s=o.pipe(khe(1),Tb(udn,al,{leading:!0,trailing:!0}));return Ni([i,bi(we(null),s)]).pipe(fe((([e])=>e)),K7((t=>Pi((()=>null!=t&&t._type?bi(we({isValidating:!0,revision:t._rev}),ftn({document:t,getClient:e.getClient,getDocumentExists:a,i18n:e.i18n,schema:e.schema,environment:"studio"}).pipe(fe((e=>({validation:e,isValidating:!1}))))):we({validation:odn,isValidating:!1}))))),hs(((e,t)=>({...e,...t})),idn),G3())}),((e,t,n)=>Od(e.client,t,n))),ddn=rc(((e,t,n,r)=>qA(e,t,n,r).pipe(ht((({draft:e,published:t})=>kn(e.events,t.events))))),Od);function yc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error(`Called ${e} before it was ready.`)}}}const fdn={commit:yc("commit"),delete:yc("delete"),del:yc("del"),publish:yc("publish"),patch:yc("patch"),discardChanges:yc("discardChanges"),unpublish:yc("unpublish"),duplicate:yc("duplicate"),restore:yc("restore")},hdn=(e,t,n)=>(...r)=>$Se(e,t,n,r);function Ra(e,t,n){return{disabled:t.disabled(n),execute:hdn(e,n.idPair,n.typeName)}}function pdn(e){const t={commit:Ra("commit",wSe,e),delete:Ra("delete",u5,e),del:Ra("delete",u5,e),publish:Ra("publish",_Se,e),patch:Ra("patch",ESe,e),discardChanges:Ra("discardChanges",CSe,e),unpublish:Ra("unpublish",TSe,e),duplicate:Ra("duplicate",SSe,e),restore:Ra("restore",kSe,e)};return e.serverActionsEnabled?{...t,delete:Ra("delete",c5,e),del:Ra("delete",c5,e),discardChanges:Ra("discardChanges",ASe,e),patch:Ra("patch",jSe,e),publish:Ra("publish",ISe,e),unpublish:Ra("unpublish",OSe,e),restore:Ra("restore",DSe,e)}:t}const mdn=rc(((e,t,n)=>{const r=PSe(e),i=xSe(e,t,n).pipe(fe(pdn));return bi(we(fdn),kn(r.pipe(kt((()=>Zn))),i)).pipe(Bi({refCount:!0,bufferSize:1}))}),((e,t,n)=>Od(e.client,t,n)));function Zp(e){return ar(e)}function lB(e,t){const n={...e,...t};return Object.keys(n).forEach((r=>{const i=t[r],o=e[r];Zp(i)&&Zp(o)&&(n[r]=lB(o,i))})),n}const gdn=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function vdn(e){return e&&e.length>0?`"${e}"`:e}function _te(e,t){const n=e=>`Template "${t.id}" initial value: ${e}`;if(!Zp(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n(`includes "_type"-property (${e._type}) that does not match template (${t.schemaType})`));try{return QP(e)}catch(e){throw e.message=n(e.message),e}}function QP(e,t=[],n=!1){if(Array.isArray(e))return e.map(((e,n)=>{if(Array.isArray(e))throw new Error(`multidimensional arrays are not supported (at path "${_n(t)}")`);return QP(e,t.concat(n),!0)}));if(!Zp(e))return e;const r=n&&!e._key?{_key:lw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&ydn(e,t),Object.keys(e).reduce(((n,r)=>(n[r]=QP(e[r],t.concat([r])),n)),r)}function ydn(e,t=[]){if(!e._type&&e.type)throw new Error(`Reference is missing "_type", but has a "type" property at path "${_n(t)}"`);const n=Object.keys(e).filter((e=>!gdn.includes(e)));if(n.length>0){const e=n.length>1?"properties":"property";throw new Error(`Disallowed ${e} found in reference: ${n.map(vdn).join(", ")} at path "${_n(t)}"`)}}function bdn(e){return Zp(e)&&"function"==typeof e.serialize}const kte=new WeakMap;async function KA(e,t,n,r){var i;const o=r?.useCache;if("function"==typeof e){const r=kte.get(e),a=JSON.stringify([t,n.projectId,n.dataset,null==(i=n.currentUser)?void 0:i.id]);if(o&&null!=r&&r[a])return r[a];const s=e(t,n);return o&&kte.set(e,{...r,[a]:s}),s}return e}async function uB(e,t,n={},r,i){if(bdn(t))return uB(e,t.serialize(),n,r,i);const{id:o,schemaType:a,value:s}=t;if(!s)throw new Error(`Template "${o}" has invalid "value" property`);let l=await KA(s,n,r,i);if(!Zp(l))throw new Error(`Template "${o}" has invalid "value" property - must be a plain object or a resolver function returning a plain object`);Zp(l)&&!Object.keys(l).length&&(l={_type:a}),l=_te(l,t);const u=e.get(a);if(!u)throw new Error(`Could not find schema type with name "${a}".`);return _te(lB(await ZA(u,n,cB,r,i)||{},l),t)}function xdn(e,t){const n=Bo(t);return"object"===n&&1===e.of.length?e.of[0]:e.of.find((e=>e.name===n))}const cB=10;function ZA(e,t,n=cB,r,i){return n<=0?Promise.resolve(void 0):po(e)?Cdn(e,t,n,r,i):fo(e)?wdn(e,t,n,r,i):KA(e.initialValue,t,r,i)}async function wdn(e,t,n,r,i){const o=await KA(e.initialValue,void 0,r,i);if(Array.isArray(o))return Promise.all(o.map((async o=>{const a=xdn(e,o);return po(a)?{...o,...await ZA(a,t,n-1,r,i),_key:lw()}:o})))}async function Cdn(e,t,n,r,i){const o={...await KA(e.initialValue,t,r,i)||{}},a={};await Promise.all(e.fields.map((async e=>{const o=await ZA(e.type,t,n-1,r,i);null!=o&&(a[e.name]=o)})));const s=lB(a,o);if(!KN(s))return"object"!==e.name&&(s._type=e.name),s}const Tte={type:"loading"};function Sdn(e,t,n,r,i){const o=n.observePaths({_type:"reference",_ref:Vi(r.documentId)},["_type"]),a=n.observePaths({_type:"reference",_ref:sn(r.documentId)},["_type"]);return kn(o.pipe(fe((e=>({draft:e})))),a.pipe(fe((e=>({published:e}))))).pipe(hs(((e,t)=>({...e,...t})),{}),jt((e=>"draft"in e&&"published"in e)),fe((e=>e.draft||e.published)),mr(((e,t)=>!!e!=!!t)),A6(25)).pipe(ht((n=>{if(n)return we({type:"success",value:null});if(!r.templateName)return we({isResolving:!1,initialValue:void 0});const o=t.find((e=>e.id===r.templateName));if(!o)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),we({isResolving:!1,initialValue:void 0});const a=Qn(uB(e,o,r.templateParams,i)).pipe(fe((e=>({isResolving:!1,initialValue:e})))).pipe(pn((e=>(console.group("Failed to resolve initial value"),console.error(e),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),we({type:"error",error:e})))));return kn(we({isResolving:!0}),a).pipe(ht((({isResolving:e,initialValue:t,resolveError:n})=>we(n?{type:"error",message:"Failed to resolve initial value"}:e?Tte:{type:"success",value:t}))))})),xi(Tte),mr())}const Edn=(e,t,n,r)=>Pi((()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective}))),_dn=(e,t,n,r)=>Pi((()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag})));function Ate(e){return"welcome"===e.type}function kdn(e,t,n={},r={}){const i="string"==typeof t?t:t.fetch,o="string"==typeof t?t:t.listen,a=_dn(e,o,n,r).pipe(kt(((e,t)=>0!==t||Ate(e)?we(e):Rf((()=>new Error("reconnect"===e.type?"Could not establish EventSource connection":`Received unexpected type of first event "${e.type}"`))))),ho()),[s,l]=k6(a,Ate),u=()=>Edn(e,i,n,r);return kn(s.pipe(xa(1)),l.pipe(jt((e=>!r.transitions||"mutation"!==e.type||r.transitions.includes(e.transition))),Tb(r.throttleTime||1e3,al,{leading:!0,trailing:!0}))).pipe(K7((e=>"mutation"===e.type&&"query"!==e.visibility?ri(1200).pipe(kt(u)):u())))}function Tdn(e,t,n="*"){if(n&&"*"!==n)return we(n);const r=sn(t),i=Vi(r);return e.observable.fetch("*[_id in [$documentId, $draftId]]._type",{documentId:r,draftId:i}).pipe(fe((e=>e[0])))}function ny(e){if(n9(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:Vi(e)}}function Adn({getClient:e,documentPreviewStore:t,historyStore:n,initialValueTemplates:r,schema:i,i18n:o,serverActionsEnabled:a}){const s=t.unstable_observeDocumentPairAvailability,l=e(zt),u={client:l,getClient:e,observeDocumentPairAvailability:s,historyStore:n,schema:i,i18n:o,serverActionsEnabled:a};return{checkoutPair:e=>vSe(l,e,a),initialValue:(e,n)=>Sdn(i,r,t,e,n),listenQuery:(e,t,n)=>kdn(l,e,t,n),resolveTypeForDocument:(e,t)=>Tdn(l,e,t),pair:{consistencyStatus:(e,t)=>bSe(u.client,ny(e),t,a),documentEvents:(e,t)=>ddn(u.client,ny(e),t,a),editOperations:(e,t)=>mdn(u,ny(e),t),editState:(e,t)=>ySe(u,ny(e),t),operationEvents:(e,t)=>PSe({client:l,historyStore:n,schema:i,serverActionsEnabled:a}).pipe(jt((n=>n.args.idPair.publishedId===e&&n.args.typeName===t)),fe((e=>{const{operationName:t,idPair:n}=e.args;return"success"===e.type?{type:"success",op:t,id:n.publishedId}:{type:"error",op:t,id:n.publishedId,error:e.error}}))),validation:(e,t)=>cdn(u,ny(e),t)}}}const jte={isLoaded:!1,documentType:void 0};function jdn(e,t="*"){const n=_s(),r=sn(e),i=!(!t||"*"===t),o=f.useMemo((()=>({documentType:t,isLoaded:!0})),[t]),[a,s]=f.useState(i?o:jte);return f.useEffect((()=>s(jte)),[r,t]),f.useEffect((()=>{if(i)return;const e=n.resolveTypeForDocument(r,t).subscribe((e=>s({documentType:e,isLoaded:!0})));return()=>e.unsubscribe()}),[n,r,t,i]),i?o:a}function Idn(e,t){const n=Ui();return Jxe(f.useMemo((()=>e?n.observePaths({_type:"reference",_ref:e},t):we(void 0)),[e,n,t]))}function Ddn(e){const{documentId:t,documentType:n,templateName:r,templateParams:i}=e,o=ba(i),a=_s(),s=dB(),l=f.useMemo((()=>({_id:t,_type:n})),[t,n]),[u,c]=f.useState({loading:!1,error:null,value:l});return f.useEffect((()=>{const e={documentId:t,documentType:n,templateName:r,templateParams:o};if(!r)return void c({loading:!0,error:null,value:l});const i=a.initialValue(e,s).subscribe((e=>{"loading"===e.type&&c({loading:!0,error:null,value:l}),"success"===e.type&&c({loading:!1,error:null,value:e.value?{...l,...e.value}:l}),"error"===e.type&&c({loading:!1,error:e.error,value:l})}));return c({loading:!0,error:null,value:l}),()=>i.unsubscribe()}),[l,t,a,n,r,o,s]),u}function dB(){const e=Sn(),t=Jt(),n=Un(),r=Yw(),i=v5e(),o=e.getClient;return f.useMemo((()=>({projectId:r,dataset:i,getClient:o,schema:t,currentUser:n})),[o,t,n,r,i])}function fB(){const e=dB();return f.useCallback(((t,n)=>ZA(t,n,cB,e)),[e])}const Y3=new WeakMap,FSe=12e4,Ite=ri(FSe);function Odn(e){const{dataset:t}=e.config();return ri(0,FSe).pipe(sp((()=>e.observable.request({uri:`/data/actions/${t}`,withCredentials:!0}).pipe(fe((e=>e.actions)),nJe({first:2e3,with:()=>we(!1)}),pn((()=>we(!1)))))),ho({connector:()=>new C6(1),resetOnComplete:()=>Ite,resetOnRefCountZero:()=>Ite}))}const hB=e=>(Y3.has(e)||Y3.set(e,Odn(e)),Y3.get(e));function Rdn(e,t){const n=e.get(t);if(!n)throw new Error(`No such schema type: ${t}`);return n}function Mdn({grantsStore:e,permission:t,draft:n,published:r,liveEdit:i}){const o=n||r,a=o===n?"draft":"published",{checkDocumentPermission:s}=e;switch(t){case"delete":return i?[["delete published document (live-edit)",s("update",r)]]:[["delete draft document",s("update",n)],["delete published document",s("update",r)]];case"discardDraft":return i?[]:[["delete draft document",s("update",n)]];case"publish":return i?[]:[["update published document at its current state",s("update",r)],["delete draft document",s("update",n)],["create published document from draft",s("create",n&&{...n,_id:sn(n._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",s("create",n)],["delete published document",s("update",r)],["create draft document from published version",s("create",r&&{...r,_id:Vi(r._id)})]];case"update":return i?[["update published document (live-edit)",s("update",r)]]:[[`update ${a} document`,s("update",o)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",s("create",{...r,_id:"dummy-id"})]]:[[`create new draft document from existing ${a} document`,s("create",{...o,_id:Vi("dummy-id")})]];default:throw new Error(`Could not match permission: ${t}`)}}function $dn({client:e,grantsStore:t,schema:n,id:r,permission:i,type:o,serverActionsEnabled:a}){if("*"===o)return we({granted:!1,reason:"Type specified was `*`"});const s=!!Rdn(n,o).liveEdit;return sB(e,{draftId:Vi(r),publishedId:sn(r)},o,a).pipe(ht((e=>Ni([e.draft.snapshots$,e.published.snapshots$]).pipe(fe((([e,t])=>({draft:e,published:t})))))),ht((({draft:e,published:n})=>{const r=Mdn({grantsStore:t,permission:i,draft:e,published:n,liveEdit:s}).map((([e,t])=>t.pipe(fe((({granted:t,reason:n})=>({granted:t,reason:t?"":`not allowed to ${e}: ${n}`,label:e,permission:i}))))));return r.length?Ni(r).pipe(fe((e=>{const t=e.every((e=>e.granted));return{granted:t,reason:t?"":`Unable to ${i}:\n\t${e.filter((e=>!e.granted)).map((e=>e.reason)).join("\n\t")}`}}))):we({granted:!0,reason:""})})))}const Pdn=ah($dn);function ic({id:e,type:t,permission:n,client:r,schema:i,grantsStore:o}){var a;const s=Zt(zt),l=Jt(),u=gB(),c=jr(),d=f.useMemo((()=>r||s),[s,r]),p=f.useMemo((()=>i||l),[l,i]),h=f.useMemo((()=>o||u),[u,o]),m=f.useMemo((()=>{var e;const t=null==(e=c.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?we(t):hB(d)}),[d,null==(a=c.__internal_serverDocumentActions)?void 0:a.enabled]);return Pdn(f.useMemo((()=>({client:d,schema:p,grantsStore:h,id:e,permission:n,type:t,serverActionsEnabled:m})),[d,h,e,n,p,t,m]))}function LSe({grantsStore:e,document:t,permission:n}){const{checkDocumentPermission:r}=e;return r(n,t)}const Fdn=ah(LSe);function Ldn({document:e,permission:t,...n}){const r=gB();return Fdn({grantsStore:n.grantsStore||r,document:e,permission:t})}function Ndn(e,t=LXe){return n=>{const r=n;let i=null,o=null;const a=new kr,s=a.pipe(hs(((e,t)=>e+t),0),ht((n=>0===n?ri(e,t).pipe(qn((()=>{i&&(i.unsubscribe(),i=null),o&&(o.unsubscribe(),o=null)}))):!i&&n>0?ri(0,t).pipe(qn((()=>{i||(i=r.connect())}))):_6)));return _Je((()=>(o||(o=s.subscribe()),a.next(1),{unsubscribe:()=>a.next(-1)})),(()=>n))}}const Dte="_debug_",Bdn=typeof window>"u"?we({}):Ka(window,"hashchange"),NSe=bi(we(0),Bdn).pipe(fe((()=>typeof document>"u"?"#":document.location.hash)),mr(),fe((e=>e.slice(1).split(";").filter((e=>e.toLowerCase().startsWith(Dte))).map((e=>e.slice(7)))))),Vdn=NSe.pipe(fe((e=>e.find((e=>e.startsWith("roles="))))),fe((e=>e?.split("roles=")[1].split(",").map((e=>e.trim()))||[]))),zdn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ote=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Udn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Hdn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Rte=[{filter:'_id in path("**")',permissions:["read","history"]}],Wdn=[{filter:"!locked",permissions:["read","create","update"]}],Gdn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Mte={administrator:zdn,editor:Ote,developer:Udn,contributor:Hdn,viewer:Rte,restricted:Gdn,requiresApproval:Wdn,read:Rte,write:Ote},Ydn=Vdn.pipe(fe((e=>e.length?e.filter((e=>!!e&&e in Mte)).flatMap((e=>Mte[e]||[])):null)));async function qdn(e,t,n){return await e.request({uri:`/projects/${t}/datasets/${n}/acl`,tag:"acl.get",withCredentials:!0})}function Kdn(e){const t={};return null!==e&&(t.identity=e),t}const q3=new Map;async function Zdn(e,t,n){q3.has(t)||q3.set(t,oge(`*[${t}]`));const r=q3.get(t),i=Kdn(e),{identity:o}=i,a={...i},s=await(await qdt(r,{dataset:[n],identity:o,params:a})).get();return 1===s?.length}function Xdn(e){var t;const{client:n}=e,r=n.withConfig({apiVersion:"2021-06-07"}),i="userId"in e?e.userId:(null==(t=e?.currentUser)?void 0:t.id)||null,o=Pi((()=>we(r.config()))).pipe(ht((({projectId:e,dataset:t})=>{if(!e||!t)throw new Error("Missing projectId or dataset");return qdn(r,e,t)}))),a=Ydn.pipe(ht((e=>e?we(e):o)),jl(1),Ndn(1e3));return{checkDocumentPermission:(e,t)=>a.pipe(ht((n=>BSe(i,n,e,t))),mr(ed))}}async function BSe(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const i=[];for(const n of t)await Zdn(e,n.filter,r)&&i.push(n);const o=i.some((e=>e.permissions.some((e=>e===n))));return{granted:o,reason:o?"Matching grant":"No matching grants found"}}function VSe(e){return"object"==typeof e&&null!==e&&"serialize"in e?VSe(e.serialize()):e}function Jdn({grantsStore:e,templateItems:t,templates:n,schema:r,context:i}){return null!=t&&t.length?Ni(t.map(VSe).map((async e=>{const t=n.find((t=>t.id===e.templateId));if(!t)throw new Error(`template not found: "${e.templateId}"`);const o=await uB(r,t,e.parameters,i,{useCache:!0});return{template:t,item:e,resolvedInitialValue:o}})).map((t=>Qn(t).pipe(ht((({item:t,resolvedInitialValue:n,template:i})=>{const o=r.get(i.schemaType);if(!o)throw new Error(`schema type not found: "${i.schemaType}"`);const a=o?.liveEdit,{initialDocumentId:s="dummy-id"}=t;return LSe({grantsStore:e,permission:"create",document:{_id:a?sn(s):Vi(s),...n}}).pipe(fe((({granted:e,reason:r})=>{const a=t.title||i.title;return{...t,i18n:t.i18n||i.i18n,granted:e,reason:r,resolvedInitialValue:n,template:i,title:a,subtitle:o.title===a?void 0:o.title,description:t.description||i.description,icon:t.icon||i.icon}})))})))))):we([])}const Qdn=ah(Jdn);function pB({templateItems:e,...t}){const n=Jt(),r=hv(),i=gB(),o=dB();return Qdn({templateItems:e,grantsStore:t.grantsStore||i,schema:t.schema||n,templates:t.templates||r,context:o})}function efn(e){return"create"===e||"editDraft"===e}const tfn=3e5;function nfn(e,t){return Date.parse(t)-Date.parse(e)<tfn}function $te(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Fte(e.draftState,t.draftState),r=Fte(e.publishedState,t.publishedState);if("delete"===e.type&&"editDraft"===t.type)return[e,{...t,type:"create",draftState:n,publishedState:r}];if("delete"===t.type){if("missing"===n&&"present"===r)return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if("present"===n&&"missing"===r)return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(efn(e.type)&&"editDraft"===t.type&&nfn(e.endTimestamp,t.startTimestamp)){const i=new Set;for(const t of e.authors)i.add(t);for(const e of t.authors)i.add(e);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:i,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Pte(e){const t=!!e;return e&&e4(e?.apply)?"deleted":t?"upsert":"unedited"}function rfn(e){const t=Pte(e.draftEffect),n=Pte(e.publishedEffect);if("unedited"===n){if("deleted"===t)return"delete";if("upsert"===t)return"editDraft"}if("deleted"===n)return"delete";if("upsert"===n){if("unedited"===t)return"editLive";if("deleted"===t)return"publish";if("upsert"===t)return"editLive"}return"editLive"}function K3(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&e4(e.draftEffect.apply),i=e.publishedEffect&&e4(e.publishedEffect.apply),o=rfn(e);return{index:0,id:e.id,type:o,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function Fte(e,t){return"unknown"===t?e:t}function e4(e){return 0===e[0]&&null===e[1]}function ifn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Lte(e){return e.draft||e.published}var afn=Object.defineProperty,ofn=(e,t,n)=>t in e?afn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ki=(e,t,n)=>ofn(e,"symbol"!=typeof t?t+"":t,n);class sfn{constructor(e,t,n,r){Ki(this,"type","array"),Ki(this,"value"),Ki(this,"length"),Ki(this,"annotation"),Ki(this,"extractor"),Ki(this,"content"),Ki(this,"elements",[]),this.content=e,this.value=t,this.annotation=n,this.extractor=r,this.length=e.elements.length}at(e){if(e>=this.length)throw new Error("out of bounds");return this.elements[e]||(this.elements[e]=d5(this.content.elements[e],this.value[e],this.extractor))}annotationAt(e){const t=this.content.metas[e];return this.extractor.fromMeta(t)}}class lfn{constructor(e,t,n,r){Ki(this,"type","object"),Ki(this,"value"),Ki(this,"keys"),Ki(this,"annotation"),Ki(this,"extractor"),Ki(this,"content"),Ki(this,"fields",{}),this.content=e,this.value=t,this.annotation=n,this.extractor=r,this.keys=Object.keys(e.fields)}get(e){const t=this.fields[e];if(t)return t;const n=this.content.fields[e];return n?this.fields[e]=d5(n,this.value[e],this.extractor):void 0}}class ufn{constructor(e,t,n,r){Ki(this,"type","string"),Ki(this,"value"),Ki(this,"annotation"),Ki(this,"extractor"),Ki(this,"content"),this.content=e,this.value=t,this.annotation=n,this.extractor=r}sliceAnnotation(e,t){const n=[];let r=0;function i(e,t){if(n.length>0){const r=n[n.length-1];if(ifn(r.annotation,t))return void(r.text+=e)}n.push({text:e,annotation:t})}for(const n of this.content.parts){const o=n.value.length,a=Math.max(0,e-r);if(a<o){const e=Math.min(o,t-r);if(e<=0)break;i(n.value.slice(a,e),this.extractor.fromValue(n))}r+=o}return n}}function d5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new sfn(e.content,t,r,n);case"object":return new lfn(e.content,t,r,n);case"string":return new ufn(e.content,t,r,n)}return X7(t,r)}function Nte(e,t,n){return n?t4(e,n.transactionIndex+1,n.chunk.index):t?t4(e,t.start,t.index):null}function Bte(e,t){return t?t4(e,t.transactionIndex,t.chunk.index):null}function t4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const i=e.chunkByTransactionIndex(t,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}function cfn(e,t,n,r,i,o){return mA(d5(n,r,{fromValue:n=>Nte(e,t,n.endMeta),fromMeta:n=>Nte(e,t,n)}),d5(i,o,{fromValue:t=>Bte(e,t.startMeta),fromMeta:t=>Bte(e,t)}))}var dfn=Object.defineProperty,ffn=(e,t,n)=>t in e?dfn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vte=(e,t,n)=>ffn(e,"symbol"!=typeof t?t+"":t,n);class B2{constructor(){Vte(this,"_postive",[]),Vte(this,"_negative",[])}addToEnd(e){e.index=this._postive.length,this._postive.push(e)}addToBeginning(e){0!=this.length?(e.index=-(this._negative.length+1),this._negative.push(e)):this.addToEnd(e)}mergeAtEnd(e,t){if(0===this.length)return void this.addToEnd(e);const n=this.lastIdx,r=t(this.get(n),e);Array.isArray(r)?(this.set(n,r[0]),this.addToEnd(r[1])):this.set(n,r)}mergeAtBeginning(e,t){if(0===this.length)return void this.addToEnd(e);const n=this.firstIdx,r=t(e,this.get(n));Array.isArray(r)?(this.set(n,r[1]),this.addToBeginning(r[0])):this.set(n,r)}removeFromEnd(){0===this._postive.length?this._negative.shift():this._postive.pop()}has(e){return e>=0?e<this._postive.length:-(e+1)<this._negative.length}get(e){return e>=0?this._postive[e]:this._negative[-(e+1)]}set(e,t){e>=0?(t.index=e,this._postive[e]=t):(t.index=e,this._negative[-(e+1)]=t)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}var hfn=Object.defineProperty,pfn=(e,t,n)=>t in e?hfn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vd=(e,t,n)=>pfn(e,"symbol"!=typeof t?t+"":t,n);let mfn=class{constructor(e){Vd(this,"reachedEarliestEntry",!1),Vd(this,"publishedId"),Vd(this,"draftId"),Vd(this,"_transactions",new B2),Vd(this,"_chunks",new B2),Vd(this,"_possiblePendingTransactions",new Map),Vd(this,"_recreateTransactionsFrom"),Vd(this,"_trace"),this.publishedId=e.publishedId,this.draftId=`drafts.${e.publishedId}`,e.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:e.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(e){const t=[],n=this._chunks.firstIdx;for(let r=this._chunks.lastIdx;r>=n;r--)t.push(e(this._chunks.get(r),r));return t}reset(){this._transactions=new B2,this._chunks=new B2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(e){this._trace&&this._trace.push({type:"addRemoteMutation",event:e});const t=this._possiblePendingTransactions.get(e.transactionId),n=t?t.transaction:{index:0,id:e.transactionId,timestamp:e.timestamp.toISOString(),author:e.author};"draft"===e.version?n.draftEffect=e.effects:n.publishedEffect=e.effects,t?(this._possiblePendingTransactions.delete(e.transactionId),this._invalidateTransactionFrom(t.idx)):(this._transactions.addToEnd(n),this._possiblePendingTransactions.set(e.transactionId,{transaction:n,idx:this._transactions.lastIdx}))}addTranslogEntry(e){this._trace&&this._trace.push({type:"addTranslogEntry",event:e}),this._transactions.addToBeginning({index:0,id:e.id,author:e.author,timestamp:e.timestamp,draftEffect:e.effects[this.draftId],publishedEffect:e.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const e=this._chunks.last;if(!(this._recreateTransactionsFrom<e.end))break;this._chunks.removeFromEnd()}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const e=this._transactions.firstIdx,t=this._transactions.lastIdx;for(let n=this._chunks.length>0?this._chunks.last.end:e;n<=t;n++){const e=this._transactions.get(n);this._chunks.mergeAtEnd(K3(e),$te)}if(0==this._chunks.length)return;for(let t=this._chunks.first.start-1;t>=e;t--){const e=this._transactions.get(t);this._chunks.mergeAtBeginning(K3(e),$te)}}_invalidateTransactionFrom(e){(void 0===this._recreateTransactionsFrom||e<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=e)}_createInitialChunk(){var e;if(this.reachedEarliestEntry){if("initial"===(null==(e=this._chunks.first)?void 0:e.type))return;const t=this._transactions.first;if(!t)return;const n=K3(t);n.type="initial",n.id="@initial",n.end=n.start,this._chunks.addToBeginning(n)}}parseTimeId(e){if(0===this._chunks.length)return this.reachedEarliestEntry?"invalid":"loading";const t=e.split("/",3),n=t.shift(),r=t.shift(),i=Number(n);for(let e=this._chunks.lastIdx;e>=this._chunks.firstIdx;e--){const t=this._chunks.get(e);if(t.id===r)return t;if(Date.parse(t.endTimestamp)+36e5<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(e){for(let t=e?e.index-1:this._chunks.lastIdx;t>=this._chunks.firstIdx;t--){const e=this._chunks.get(t);if("publish"===e.type||"initial"===e.type)return e}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(e){return e===this._chunks.last}createTimeId(e){return`${e.endTimestamp.valueOf()}/${e.id}`}lastChunk(){return this._chunks.last}transactionByIndex(e){return this._transactions.has(e)?this._transactions.get(e):null}chunkByTransactionIndex(e,t=0){let n=t;for(;;){const t=this._chunks.get(n);if(!t)throw new Error("transaction does not belong in any chunk");if(e>=t.end)n++;else{if(!(e<t.start))return t;n--}}}replayBackwardsBetween(e,t,n){let r=n.draft,i=n.published;for(let n=t;n>=e;n--){const e=this._transactions.get(n);e.draftEffect&&(r=e5(r,e.draftEffect.revert)),e.publishedEffect&&(i=e5(i,e.publishedEffect.revert))}return{draft:r,published:i}}replayBackwardsUntil(e,t){return this.replayBackwardsBetween(e,this._transactions.lastIdx,t)}calculateDiff(e,t,n,r){let i=Sl.wrap(e.draft,null),o=Sl.wrap(e.published,null);const a=gfn(i,o),s=Lte(e);let l=null;for(let e=n;e<=r;e++){const t=this._chunks.get(e);l||(l=t);for(let e=t.start;e<t.end;e++){const n=this._transactions.get(e),r={chunk:t,transactionIndex:e},a=i,s=o;n.draftEffect&&(i=Sl.applyPatch(i,n.draftEffect.apply,r)),n.publishedEffect&&(o=Sl.applyPatch(o,n.publishedEffect.apply,r));const l="null"!==Sl.getType(a),u="null"!==Sl.getType(i);"null"!==Sl.getType(o)&&!u&&(o=Sl.rebaseValue(a,o)),u&&!l&&(i=Sl.rebaseValue(s,i))}}return cfn(this,l,a,s,"null"===Sl.getType(i)?o:i,Lte(t))}};function gfn(e,t){return"null"===Sl.getType(e)?t:e}var vfn=Object.defineProperty,yfn=(e,t,n)=>t in e?vfn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z3=(e,t,n)=>yfn(e,"symbol"!=typeof t?t+"":t,n);function zte(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function bfn(e,t){const n=t.events.findIndex((t=>e.id===t.transactionId));return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Ute(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},"string"!=typeof e.attrs._rev)throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class xfn{constructor(e){Z3(this,"timeline"),Z3(this,"earliestTransactionId",null),Z3(this,"_states"),this.timeline=e,this._states={draft:zte(e.draftId),published:zte(e.publishedId)}}appendRemoteSnapshotEvent(e){const t=this._states[e.version];if("snapshot"===e.type)return this._maybeInvalidateHistory(),void Ute(t,e.document);"remoteMutation"===e.type&&(t.aligned?(this._apply(t,e),this.timeline.addRemoteMutation(e)):t.hasAttrs?t.events.push(e):Ute(t,e.head))}prependHistoryEvent(e){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const t of Object.values(this._states))if(!t.aligned){const n=bfn(e,t);n>=0&&this._alignAtIndex(t,n)}this.timeline.addTranslogEntry(e),this.earliestTransactionId=e.id}didReachEarliestEntry(){for(const e of Object.values(this._states))if(!e.aligned){if(null!==e.attrs)throw new Error("unable to find translog entry to align to");this._alignAtIndex(e,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every((e=>e.aligned))}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(e,t){for(const n of e.events.slice(0,t))this._apply(e,n);for(const n of e.events.slice(t))this._apply(e,n),this.timeline.addRemoteMutation(n);e.events=[],e.aligned=!0}get _isComplete(){return Object.values(this._states).every((e=>e.hasAttrs))}_apply(e,t){e.attrs=e5(e.attrs,t.effects.apply),e.rev=t.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const e of Object.values(this._states))e.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}async function zSe(e,t){const n=t?{headers:{Authorization:`Bearer ${t}`}}:{credentials:"include"};return wfn(await fetch(e,n))}function wfn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(e){n=t.getReader();const i=new TextDecoder;let o="";n.read().then((function t(a){if(a.done){if(r)return;return o=o.trim(),0===o.length?void e.close():(e.enqueue(JSON.parse(o)),void e.close())}o+=i.decode(a.value,{stream:!0});const s=o.split("\n");for(let t=0;t<s.length-1;++t){const i=s[t].trim();if(0!==i.length)try{e.enqueue(JSON.parse(i))}catch(t){return e.error(t),r=!0,void n.cancel()}}return o=s[s.length-1],n.read().then(t).catch((t=>e.error(t)))})).catch((t=>e.error(t)))},cancel(){r=!0,n.cancel()}})}var Cfn=Object.defineProperty,Sfn=(e,t,n)=>t in e?Cfn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t,n)=>Sfn(e,"symbol"!=typeof t?t+"":t,n);class Efn{constructor(e,t,n,r){Ch(this,"timeline"),Ch(this,"start"),Ch(this,"end"),Ch(this,"doc"),Ch(this,"_startDocument"),Ch(this,"_endDocument"),Ch(this,"_diff"),this.timeline=e,this.start=n,this.end=r,this.doc=t}same(e,t){return this.start===e&&this.end===t}endAttributes(){return Hte(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Hte(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Hte(e){return e.draft||e.published}var _fn=Object.defineProperty,kfn=(e,t,n)=>t in e?_fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ma=(e,t,n)=>kfn(e,"symbol"!=typeof t?t+"":t,n);const Tfn=50;class Afn{constructor(e){Ma(this,"timeline"),Ma(this,"client"),Ma(this,"handler"),Ma(this,"version",0),Ma(this,"selectionState","inactive"),Ma(this,"_aligner"),Ma(this,"_fetchMore",!1),Ma(this,"_fetchAtLeast",0),Ma(this,"_isRunning",!1),Ma(this,"_isSuspended",!1),Ma(this,"_didErr",!1),Ma(this,"_since",null),Ma(this,"_sinceTime",null),Ma(this,"_rev",null),Ma(this,"_revTime",null),Ma(this,"_reconstruction"),this.timeline=e.timeline,this.client=e.client,this.handler=e.handler,this._aligner=new xfn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(e,t){t!==this._rev&&this.setRevTime(t),e!==this._since&&this.setSinceTime(e);let n=10;if("loading"!==this._sinceTime&&"loading"!==this._revTime&&this._aligner.isAligned)if("invalid"===this._sinceTime||"invalid"===this._revTime)this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const e=this._revTime||this.timeline.lastChunk();this._sinceTime.index>e.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,e)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",n=0);else this.selectionState="loading";this._fetchAtLeast=n,this.start()}setLoadMore(e){this._fetchMore=e,this.start()}get sinceTime(){return this._sinceTime&&"object"==typeof this._sinceTime?this._sinceTime:null}get revTime(){return this._revTime&&"object"==typeof this._revTime?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&("range"===this.selectionState||"rev"===this.selectionState)}findRangeForNewRev(e){const t=this.timeline.isLatestChunk(e)?null:this.timeline.createTimeId(e);if(!this._since)return[null,t];const n=this.sinceTime;return n&&n.index<e.index?[this._since,t]:["@lastPublished",t]}findRangeForNewSince(e){const t=this.revTime;return t&&e.index<t.index?[this.timeline.createTimeId(e),this._rev]:[this.timeline.createTimeId(e),null]}setRevTime(e){this._rev=e,this._revTime=e?this.timeline.parseTimeId(e):null,"@lastPublished"===this._since&&(this._since=null,this._sinceTime=null)}setSinceTime(e){"@lastPublished"===e?"string"==typeof this._revTime?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=e?this.timeline.parseTimeId(e):null,this._since=e}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(e,t){this._reconstruction&&this._reconstruction.same(e,t)||(this._reconstruction=new Efn(this.timeline,this._aligner.currentDocument,e,t))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const e=this.currentDiff();if(e){if("null"===e.type)return null;if("object"!==e.type)throw new Error(`ObjectDiff expected, got ${e.type}`)}return e}handleRemoteMutation(e){this._aligner.appendRemoteSnapshotEvent(e),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then((()=>{this._isRunning=!1})))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var e;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&("loading"===this.selectionState||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(t){return this._didErr=!0,void(null==(e=this.handler)||e.call(this,t,this))}await this.tick()}}async fetchMoreTransactions(){const e=this.timeline.publishedId,t=this.timeline.draftId,n=this.client.config();let r="tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=50",i=this._aligner.earliestTransactionId;i&&(r+=`&toTransaction=${i}`);const o=this.client.getUrl(`/data/history/${n.dataset}/transactions/${e},${t}?${r}`),a=(await zSe(o,n.token)).getReader();let s=0;for(;;){const e=await a.read();if(e.done)break;if("error"in e.value)throw new Error(e.value.error.description||e.value.error.type);if(s++,e.value.id!==i){if(this._aligner.earliestTransactionId!==i||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(e.value),i=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==i||!this._aligner.acceptsHistory||(s<50&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var e;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,null==(e=this.handler)||e.call(this,null,this)}}const Wte=Object.create(null),jfn=(e,t,n={})=>{const r=Array.isArray(t)?t:[t],{time:i,revision:o}=n;if(i&&o)throw new Error("getHistory can't handle both time and revision parameters");let a=`/data/history/${e.config().dataset}/documents/${r.join(",")}`;if(o)a=`${a}?revision=${o}`;else{a=`${a}?time=${i||(new Date).toISOString()}`}return e.request({url:a})},USe=(e,t,n)=>{const r=sn(t),i=Vi(t),o=`${r}@${n}`,a=Wte[o];if(a)return a;const s=`/data/history/${e.config().dataset}/documents/${r},${i}?revision=${n}`,l=e.request({url:s}).then((e=>{const t=e.documents||[],n=t.find((e=>e._id===r));return t.find((e=>e._id===i))||n}));return Wte[o]=l,l},Ifn=({client:e,documentId:t,documentType:n})=>{const r=new mfn({enableTrace:Es,publishedId:t});return new Afn({client:e,documentId:t,documentType:n,timeline:r})},Dfn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=`/data/history/${e.config().dataset}/transactions/${n.join(",")}`;return(await e.request({url:r,query:{excludeContent:"true",includeIdentifiedDocumentsOnly:"true"}})).toString("utf8").split("\n").filter(Boolean).map((e=>JSON.parse(e)))},Ofn=e=>Lxe(e,((e,t)=>gd(t)&&!e.includes(t._ref)?[...e,t._ref]:e),[]);function n4(e,t){return Array.isArray(e)?t(e.map((e=>n4(e,t))).filter((e=>typeof e<"u"))):xt(e)?t(Object.keys(e).reduce(((n,r)=>{const i=n4(e[r],t);return typeof i<"u"&&(n[r]=i),n}),{})):t(e)}const Rfn=(e,t)=>n4(e,(e=>gd(e)?t(e):e)),Mfn=(e,t)=>Rfn(e,(e=>t[e._ref]?e:void 0));function $fn(e,t,n,r,i){return Qn(USe(e,t,r)).pipe(kt((n=>{if(!n)throw new Error(`Unable to find document with ID ${t} at revision ${r}`);const i=Ofn(n).map((e=>`"${e}": defined(*[_id=="${e}"]._id)`)).join(",");return e.observable.fetch(`{${i}}`).pipe(fe((e=>Mfn(n,e))))})),fe((e=>{const{_updatedAt:t,...r}=e;return{...r,_id:n}})),kt((n=>{if(null!=i&&i.useServerDocumentActions){const r={actionType:"sanity.action.document.replaceDraft",publishedId:t,attributes:n};return e.observable.action(i.fromDeleted?[{actionType:"sanity.action.document.create",publishedId:t,attributes:n,ifExists:"fail"},r]:r)}return e.observable.createOrReplace(n,{visibility:"async"})})),fe((()=>{})))}function Pfn({client:e}){return{getDocumentAtRevision:(t,n)=>USe(e,t,n),getHistory:(t,n)=>jfn(e,t,n),getTransactions:t=>Dfn(e,t),restore:(t,n,r,i)=>$fn(e,t,n,r,i),getTimelineController:Ifn}}function Zi(e,t){return D7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const Gte={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Ffn({documentId:e,documentType:t,onError:n,rev:r,since:i}){var o;const a=GSe(),s=f.useRef(null),l=f.useRef(Gte),u=Zt(zt),c=jr(),d=f.useMemo((()=>a.getTimelineController({client:u,documentId:e,documentType:t})),[u,e,t,a]),p=f.useMemo((()=>new Hk(d)),[d]);f.useEffect((()=>(d.setRange(i||null,r||null),p.next(d),d.handler=(e,t)=>{e?p.error(e):setTimeout((()=>{t.setRange(i||null,r||null),p.next(t)}),0)},d.resume(),()=>d.suspend())),[r,i,d,p]);const h=f.useMemo((()=>{var e;const t=null==(e=c.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?we(t):hB(u)}),[u,null==(o=c.__internal_serverDocumentActions)?void 0:o.enabled]);return f.useEffect((()=>(s.current||(s.current=rdn(u,{draftId:`drafts.${e}`,publishedId:e},t,h).subscribe((e=>{d.handleRemoteMutation(e)}))),()=>{s.current&&(s.current.unsubscribe(),s.current=null)})),[u,d,e,t,h]),f.useMemo((()=>({findRangeForRev:e=>d.findRangeForNewRev(e),findRangeForSince:e=>d.findRangeForNewSince(e),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:e=>{const t=p.pipe(fe((e=>{var t;const n=e.timeline.mapChunks((e=>e)),r=n.filter((e=>!["delete","initial"].includes(e.type))),i=!e.timeline.reachedEarliestEntry;i&&n.length>16&&e.setLoadMore(!1);const o=!["invalid","loading"].includes(e.selectionState);return{chunks:n,diff:e.sinceTime?e.currentObjectDiff():null,isLoading:!1,isPristine:o?0===n.length&&!1===i:null,hasMoreChunks:!e.timeline.reachedEarliestEntry,lastNonDeletedRevId:null==(t=r?.[0])?void 0:t.id,onOlderRevision:e.onOlderRevision(),realRevChunk:e.realRevChunk,revTime:e.revTime,selectionState:e.selectionState,sinceAttributes:e.sinceAttributes(),sinceTime:e.sinceTime,timelineDisplayed:e.displayed(),timelineReady:o}})),mr(l0),pn((e=>(n?.(e),we(Gte)))),qn((e=>{l.current=e})),qn(e)).subscribe();return()=>t.unsubscribe()}})),[d,n,p])}const Lfn=e=>{if("rollCall"===e.type)return{type:"rollCall",userId:e.i,sessionId:e.session};if("state"===e.type){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:(new Date).toISOString(),locations:n}}if("disconnect"===e.type)return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:(new Date).toISOString()};throw new Error(`Got unknown presence event: ${JSON.stringify(e)}`)},Nfn=(e,t)=>[e.listen("presence").pipe(fe(Lfn)).pipe(ho()),n=>"rollCall"===n.type?e.request("presence_rollcall",{session:t}):"state"===n.type?e.request("presence_announce",{data:{locations:n.locations,sessionId:t}}):"disconnect"===n.type?e.request("presence_disconnect",{session:t}):Zn],Bfn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Vfn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],zfn=Pi((()=>ri(0,1e4))).pipe(E0(Bfn),fe(((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:(new Date).toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:(new Date).toISOString(),path:SRt(Vfn)}]}))),Bi()),HSe="presence_session_id",Ufn=()=>tRt(16);function Hfn(){try{return window.sessionStorage.getItem(HSe)}catch{}return null}function Wfn(e){try{window.sessionStorage.setItem(HSe,e)}catch{}return e}const V2=Hfn()||Wfn(Ufn());function Gfn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[i,o]=Nfn(t,V2),a=new Hk([]),s=a.pipe(mr()),l=e=>o({type:"state",locations:e}),u=i.pipe(jt((e=>"rollCall"===e.type)),jt((e=>e.sessionId!==V2))),c=ri(0,3e4),d=Pi((()=>kn(s,u))).pipe(ht((()=>c)),qy(a),fe((([,e])=>e)),TJe(200),ht((e=>l(e))),E0(Zn),ho()),f=Pi((()=>o({type:"rollCall"}))).pipe(E0(Zn)),p=n.connectionStatus$.pipe(fe((e=>e.type)),jt((e=>"connected"===e||"error"===e)),mr()),h=NSe.pipe(fe((e=>e.find((e=>e.startsWith("presence="))))),fe((e=>e?.split("presence=")[1].split(",").map((e=>e.trim()))||[]))),m=h.pipe(jt((e=>e.includes("fake_others"))),qn((()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')})),UJe(zfn)),g=h.pipe(fe((e=>e.includes("show_own")))),y=kn(f,i).pipe(jt((e=>"state"===e.type||"disconnect"===e.type))),v=e=>({lastActiveAt:e.timestamp,locations:e.locations,sessionId:e.sessionId,userId:e.userId}),b=kn(y,m).pipe(hs(((e,t)=>"disconnect"===t.type?pa(e,t.sessionId):{...e,[t.sessionId]:v(t)}),{})),x=p.pipe(ht((e=>"connected"===e?kn(b,d):_6)),fe((e=>Object.values(e))),ht((e=>{const t=Fi(e.map((e=>e.userId)));return Qn(r.getUsers(t)).pipe(fe((t=>e.map((e=>({user:t.find((t=>t.id===e.userId)),session:e}))).filter(w))))})),j6(Ka(window,"beforeunload").pipe(ht((()=>o({type:"disconnect"}))))),Bi({refCount:!0,bufferSize:1}));function w(e){return!(!e.user||!e.session)}const C=x.pipe(fe((e=>{const t=ON(e.map((e=>e.session)),(e=>e.userId));return Object.keys(t).map((n=>{var r;return{user:null==(r=e.find((e=>e.user.id===n)))?void 0:r.user,sessions:t[n]}}))})),qy(g),fe((([e,t])=>e.filter((e=>!!t||!e.sessions.some((e=>e.sessionId===V2)))))),fe((e=>e.map((e=>{var t;return{user:e.user,status:"online",lastActiveAt:null==(t=e.sessions.sort()[0])?void 0:t.lastActiveAt,locations:pr((e.sessions||[]).map((e=>e.locations||[]))).map((e=>({type:e.type,documentId:e.documentId,path:e.path,lastActiveAt:e.lastActiveAt}))).reduce(((e,t)=>e.concat(t)),[])}})))));return{setLocation:e=>{a.next(e)},reportLocations:l,debugPresenceParam$:h,globalPresence$:C,documentPresence:e=>x.pipe(qy(g),ht((([t,n])=>Qn(t).pipe(jt((e=>n||e.session.sessionId!==V2)),BJe((t=>(t.session.locations||[]).filter((t=>t.documentId===e)).map((e=>({user:t.user,lastActiveAt:t.session.lastActiveAt,path:e.path||[],sessionId:t.session.sessionId,selection:e?.selection}))))),bhe()))))}}function Yfn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});return{get:function(){return r.observable.request({url:`/projects/${n}`})},getDatasets:function(){return r.observable.request({url:`/projects/${n}/datasets`})}}}function qfn(){const e=new WeakMap,t=new WeakMap;function n(e){const n=t.get(e);if(n)return n;const r=Array.from({length:10}).map((()=>Math.floor(255*Math.random()).toString(16).padStart(2,"0"))).join("");return t.set(e,r),r}function r(e){return Array.from(new Set(e)).map((e=>[n(e),e])).sort((([e],[t])=>e.localeCompare(t,"en"))).map((([,e])=>e))}function i(e,t){if(!e.length)return;const[n,...r]=e,o=t.get(n);return o?r.length?i(r,o.next):o.value:void 0}function o(e,t,n){if(!e.length)return;const[r,...i]=e,a=t.get(r)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};t.set(r,a),i.length?o(i,a.next,n):a.value=n}return{get:function(t){return i(r(t),e)},set:function(t,n){o(r(t),e,n)}}}function WSe({children:e}){const t=f.useMemo((()=>{const e=new Map,t={};return{get:({namespace:n,dependencies:r})=>{const i=r.map((e=>null===e?t:e)),o=e.get(n);return o?.get(i)},set:({namespace:n,dependencies:r,value:i})=>{const o=e.get(n)||qfn(),a=r.map((e=>null===e?t:e));e.set(n,o),o.set(a,i)}}}),[]);return u.jsx(pae.Provider,{value:t,children:e})}function Rd(){const e=f.useContext(pae);if(!e)throw new Error("Could not find `cache` context");return e}const Kfn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Zfn({client:e,currentUser:t}){const n=e.withConfig({apiVersion:"2021-06-07"}),r=new Ave((async e=>{const t=await n.request({uri:`/users/${e.join(",")}`,withCredentials:!0,tag:"users.get"}),r=(Array.isArray(t)?t:[t]).reduce(((e,t)=>(null!=t&&t.id&&(e[t.id]=t),e)),{});return e.map((e=>r[e]||null))}),{batchScheduleFn:e=>Dzt(e),maxBatchSize:400}),i=t&&{id:t.id,displayName:t.name,imageUrl:t.profileImage};return r.prime("me",i),null!=i&&i.id&&r.prime(i.id,i),Kfn.forEach((e=>r.prime(e.id,e))),{getUser:async e=>{if(!e)return Promise.resolve(null);try{return await r.load(e)}catch(e){if(403===e.statusCode)return Promise.resolve(null);throw e}},getUsers:async e=>(await r.loadMany(e)).filter((e=>xt(e)&&"string"==typeof e.id))}}function mB(){const{getClient:e,currentUser:t}=Sn(),n=Rd(),r=e(zt);return f.useMemo((()=>{const e=n.get({namespace:"userStore",dependencies:[r,t]})||Zfn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:e}),e}),[r,t,n])}function gB(){const{getClient:e}=Sn(),t=e(zt),n=Un(),r=Rd();return f.useMemo((()=>{const e=r.get({namespace:"grantsStore",dependencies:[t,n]})||Xdn({client:t,userId:n?.id||null});return r.set({namespace:"grantsStore",dependencies:[t,n],value:e}),e}),[t,n,r])}function GSe(){const e=Zt(zt),t=Rd();return f.useMemo((()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Pfn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n}),[e,t])}function Ui(){const e=Zt(zt),t=Rd();return f.useMemo((()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||Rcn({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n}),[e,t])}function _s(){var e;const{getClient:t,i18n:n}=Sn(),r=Jt(),i=hv(),o=Rd(),a=GSe(),s=Ui(),l=jr(),u=f.useMemo((()=>{var e;const n=null==(e=l.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof n?we(n):hB(t(zt))}),[t,null==(e=l.__internal_serverDocumentActions)?void 0:e.enabled]);return f.useMemo((()=>{const e=o.get({namespace:"documentStore",dependencies:[t,s,a,r,n,l]})||Adn({getClient:t,documentPreviewStore:s,historyStore:a,initialValueTemplates:i,schema:r,i18n:n,serverActionsEnabled:u});return o.set({namespace:"documentStore",dependencies:[t,s,a,r,n],value:e}),e}),[o,t,s,a,r,n,l,i,u])}function Xfn(){const{bifur:e}=Sn().__internal,t=Rd();return f.useMemo((()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||nGt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n}),[e,t])}function vB(){const{__internal:{bifur:e}}=Sn(),t=Rd(),n=mB(),r=Xfn();return f.useMemo((()=>{const i=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||Gfn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:i}),i}),[e,r,t,n])}function Jfn(){const e=Zt(zt),t=Rd();return f.useMemo((()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Yfn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n}),[e,t])}function YSe(){const e=Rd(),t=jr(),n=Zt(zt);return f.useMemo((()=>{const r=e.get({dependencies:[t],namespace:"KeyValueStore"})||jWt({client:n});return e.set({dependencies:[t],namespace:"KeyValueStore",value:r}),r}),[n,e,t])}function sv(e){const t=vB(),[n,r]=f.useState([]);return f.useEffect((()=>{const n=t.documentPresence(e).subscribe(r);return()=>{n.unsubscribe()}}),[e,t]),n}function Qfn(){const[e,t]=f.useState([]),n=vB();return f.useEffect((()=>{const e=n.globalPresence$.subscribe(t);return()=>{e.unsubscribe()}}),[n]),e}const Yte={referringDocuments:[],isLoading:!0};function qSe(e){const t=_s();return Wr(f.useMemo((()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(fe((e=>({referringDocuments:e,isLoading:!1}))),xi(Yte))),[t,e]),Yte)}const KSe=({asset:e,assetType:t,referringDocuments:n})=>{const{t:r}=Z(),i=n.length;return u.jsxs(u.Fragment,{children:[u.jsx(ae,{borderBottom:i>0,marginTop:2,paddingBottom:2,marginBottom:1,children:u.jsx(L,{size:1,as:"h2",weight:"medium",children:u.jsx(dt,{t:r,i18nKey:`asset-source.usage-list.documents-using-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename,count:i}})})}),n.map((e=>u.jsx(ehn,{document:e},e._id)))]})},ehn=({document:e})=>{const t=Jt(),n=f.useCallback((t=>u.jsx(ml,{...t,params:{id:e._id,type:e._type},intent:"edit"})),[e]);return u.jsx(ae,{as:n,radius:2,"data-as":"a",tabIndex:0,children:u.jsx(U,{align:"center",gap:2,children:u.jsx(av,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:t.get(e._type)})})},e._id)},qte={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Kte={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Zte={height:"100%"},thn=({asset:e,assetType:t,hasResults:n=!1})=>{const r="image"===t,{t:i}=Z();return n?u.jsx(ae,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:u.jsxs(Rn,{columns:3,gap:[2,3,4],children:[u.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:r?"span 2":"span 3"},children:[u.jsx(L,{children:u.jsx(or,{})}),u.jsx(L,{size:1,children:i(`asset-source.delete-dialog.usage-list.warning-${t}-is-in-use`,{context:e.originalFilename?"named":"unnamed",filename:e.originalFilename})})]}),r&&u.jsx(ae,{__unstable_checkered:!0,border:!0,radius:1,style:Kte,children:u.jsx(U,{align:"center",justify:"center",style:Zte,children:u.jsx("img",{src:`${e.url}?w=200`,style:qte,alt:i("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):u.jsx(ae,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:u.jsxs(Rn,{columns:3,gap:3,children:[u.jsx(U,{style:{gridColumn:r?"span 2":"span 3"},align:"center",children:u.jsx(L,{children:u.jsx(dt,{t:i,i18nKey:`asset-source.delete-dialog.usage-list.confirm-delete-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename}})})}),r&&u.jsx(ae,{__unstable_checkered:!0,border:!0,radius:1,style:Kte,children:u.jsx(U,{align:"center",justify:"center",style:Zte,children:u.jsx("img",{src:`${e.url}?w=200`,style:qte,alt:i("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})})};function ZSe({asset:e,assetType:t,isDeleting:n=!1,onClose:r,onDelete:i}){const{isLoading:o,referringDocuments:a}=qSe(e._id),s=f.useMemo((()=>{const e=a.reduce(((e,t)=>t._id.startsWith("drafts.")?e.concat(t._id.slice(7)):e),[]);return a.filter((t=>!e.includes(t._id)))}),[a]),l=s.length>0,{t:c}=Z();return u.jsx(Si,{__unstable_autoFocus:o,footer:{cancelButton:{onClick:r,text:c("asset-source.delete-dialog.action.cancel")},confirmButton:{disabled:l,icon:Br,loading:n,onClick:i,text:c("asset-source.delete-dialog.action.delete")}},header:c("asset-source.delete-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:r,onClose:r,width:1,children:o?u.jsx(N,{padding:4,children:u.jsx(wn,{showText:!0})}):u.jsxs(ne,{paddingX:l?[2,3,4]:0,paddingY:l?[3,3,3,4]:0,space:1,children:[u.jsx(thn,{asset:e,assetType:t,hasResults:l}),l&&u.jsx(KSe,{asset:e,referringDocuments:s,assetType:t})]})})}const nhn={portal:!0,placement:"right"};function XSe({isSelected:e,border:t=!0,onAction:n}){const r=e?"default":"bleed",i=e?"primary":"default",{t:o}=Z();return u.jsx(Gt,{button:u.jsx(ai,{mode:t?"ghost":r,tone:t?"default":i}),id:"asset-menu",menu:u.jsxs(At,{children:[u.jsx(qe,{text:o("asset-source.asset-list.menu.show-usage"),icon:cs,onClick:()=>{n({type:"showUsage"})}}),u.jsx(qe,{text:o("asset-source.asset-list.menu.delete"),icon:Br,tone:"critical",onClick:()=>{n({type:"delete"})}})]}),popover:nhn})}function JSe({asset:e,assetType:t,onClose:n}){const{isLoading:r,referringDocuments:i}=qSe(e._id),o=f.useMemo((()=>{const e=i.reduce(((e,t)=>t._id.startsWith("drafts.")?e.concat(t._id.slice(7)):e),[]);return i.filter((t=>!e.includes(t._id)))}),[i]),{t:a}=Z();return u.jsx(Si,{__unstable_autoFocus:!0,header:a("asset-source.asset-usage-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:n,onClose:n,width:1,children:r?u.jsx(wn,{showText:!0}):u.jsx(KSe,{asset:e,referringDocuments:o,assetType:t})})}const X3={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function rhn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function ihn(e){return null!=X3&&X3[e]?X3[e].title:rhn(e)}const r4=$.span`
  background-color: transparent;
  flex-shrink: 0;
`,bg=$(U)``,ahn=$(ae)`
  ${e=>e.isSelected&&de`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `}
`,Xte=$(wt)`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  ${e=>e.isSelected&&de`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      ${r4} {
        --card-muted-fg-color: var(--card-bg-color);
      }

      ${bg} {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `}

  ${e=>!e.isSelected&&de`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `}
`,ohn=$(L)`
  overflow-wrap: anywhere;
`,Jte={position:"relative"},Qte={flexShrink:0},J3={minWidth:0},ene={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},shn=e=>{const t=Zt(zt),n=Ur(),r=f.useRef(),[i,o]=f.useState(!1),[a,s]=f.useState(!1),[l,c]=f.useState(!1),[d,p]=f.useState(!1),{asset:h,onClick:m,onKeyPress:g,onDeleteFinished:y,isSelected:v,isMobile:b}=e,{originalFilename:x,_id:w,mimeType:C,size:k,_createdAt:j}=h,S=Jp(j,{useTemporalPhrase:!0}),E=ihn(C),_=SP(k,yB({unitDisplay:"short",maximumFractionDigits:2})),A=(x||"").length>37,{t:T}=Z(),D=f.useCallback((()=>{s(!0)}),[]),M=f.useCallback((e=>{n.push({closable:!0,status:"error",title:T("asset-source.file.asset-list.delete-failed"),description:e.message})}),[T,n]),I=f.useCallback((()=>{n.push({status:"success",title:T("asset-source.file.asset-list.delete-successful")})}),[T,n]),O=f.useCallback((()=>{c(!0),r.current=t.observable.delete(h._id).subscribe({next:()=>{c(!1),y?.(h._id),s(!1),I()},error:e=>{c(!1),M(e),console.error("Could not delete asset",e)}})}),[h._id,M,I,y,t.observable]),P=()=>{o(!1),s(!1)},R=()=>{o(!0)},F=f.useMemo((()=>i&&u.jsx(JSe,{assetType:"file",asset:h,onClose:P})),[h,i]),$=f.useMemo((()=>a&&u.jsx(ZSe,{assetType:"file",asset:h,onClose:P,onDelete:O,isDeleting:l})),[h,O,l,a]);return b?u.jsxs(ae,{paddingBottom:2,style:Jte,children:[u.jsxs(Rn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[u.jsx(Xte,{asset:h,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,radius:2,children:u.jsxs(U,{gap:2,flex:2,align:"center",children:[u.jsx(ae,{as:r4,padding:2,tone:"transparent",radius:2,children:u.jsx(L,{muted:!0,size:2,style:Qte,children:u.jsx(Nl,{})})}),u.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:J3,children:x})]})}),u.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:ene,children:u.jsx(wt,{mode:"bleed",fontSize:1,padding:2,onClick:()=>{p(!d)},icon:d?yF:ci})})]}),d&&u.jsxs(u.Fragment,{children:[u.jsxs(Rn,{marginTop:3,columns:3,gap:1,children:[u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,muted:!0,weight:"medium",children:T("asset-source.file.asset-list.header.size")}),u.jsx(L,{size:1,muted:!0,children:_})]}),u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,muted:!0,weight:"medium",children:T("asset-source.file.asset-list.header.type")}),u.jsx(L,{size:1,muted:!0,children:E})]}),u.jsxs(ne,{space:2,children:[u.jsx(L,{size:1,muted:!0,weight:"medium",children:T("asset-source.file.asset-list.header.date-added")}),u.jsx(L,{size:1,muted:!0,children:S})]})]}),u.jsxs(ne,{space:2,marginTop:3,children:[u.jsx(wt,{fontSize:1,tone:"default",mode:"ghost",text:T("asset-source.file.asset-list.action.show-usage.title"),onClick:R,icon:cs}),u.jsx(wt,{fontSize:1,tone:"critical",mode:"ghost",text:T("asset-source.file.asset-list.action.delete.title"),icon:Br,disabled:v,title:T(v?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:D})]})]}),F||$]}):u.jsxs(ahn,{asset:h,paddingBottom:1,style:Jte,radius:0,overflow:"hidden",isSelected:v,"aria-selected":"true",children:[u.jsxs(Rn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[u.jsx(Xte,{asset:h,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:g,title:T("asset-source.file.asset-list.item.select-file-tooltip",{filename:x}),isSelected:v,radius:2,children:u.jsxs(bg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:g,"data-id":w,children:[u.jsx(ae,{as:r4,padding:2,tone:"transparent",radius:2,style:Qte,children:u.jsx(L,{muted:!0,size:2,children:u.jsx(Nl,{})})}),A&&u.jsx(pt,{content:x,children:u.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:J3,children:x})}),!A&&u.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:J3,children:x})]})}),u.jsx(bg,{align:"center",children:u.jsx(L,{size:1,muted:!0,children:_})}),u.jsx(bg,{align:"center",children:u.jsx(N,{children:u.jsx(ohn,{size:1,muted:!0,textOverflow:"ellipsis",children:E})})}),u.jsx(bg,{align:"center",children:u.jsx(L,{as:"time",size:1,muted:!0,dateTime:j,children:S})}),u.jsx(bg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:ene,children:u.jsx(XSe,{border:!1,isSelected:!1,onAction:e=>{"delete"===e.type&&D(),"showUsage"===e.type&&R()}})})]}),F||$]})},lhn={paddingLeft:"2.2rem"},tne={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function uhn(e){const t=om()<2,{assets:n,onClick:r,onKeyPress:i,onDeleteFinished:o,selectedAssets:a,isLoading:s}=e,{t:l}=Z();return u.jsxs(N,{children:[u.jsx(ae,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:t?u.jsx(Rn,{style:tne,children:u.jsx(N,{flex:2,paddingLeft:5,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})})}):u.jsxs(Rn,{gap:1,style:tne,children:[u.jsx(N,{flex:2,style:lhn,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})}),u.jsx(N,{flex:1,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.size")})}),u.jsx(N,{flex:1,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.type")})}),u.jsx(N,{flex:1,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.date-added")})})]})}),u.jsxs(ne,{children:[s&&0===n.length&&u.jsx(N,{paddingTop:4,paddingBottom:2,children:u.jsx(U,{justify:"center",children:u.jsx(qf,{muted:!0})})}),n.map((e=>u.jsx(shn,{asset:e,isMobile:t,isSelected:a.some((t=>t._id===e._id)),onClick:r,onKeyPress:i,onDeleteFinished:o},e._id)))]})]})}const chn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),dhn=$.img`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`,fhn=$(ae)`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`,i4=$.div`
  position: relative;
  display: inherit;
`,hhn=$.div`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    ${i4}:hover & {
      button {
        opacity: 1;
      }
    }

    ${i4}:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`,phn=f.memo((function(e){const t=Zt(zt),n=Ur(),r=f.useRef(),{asset:i,onClick:o,onKeyPress:a,onDeleteFinished:s,isSelected:l}=e,[c,d]=f.useState(!1),[p,h]=f.useState(!1),[m,g]=f.useState(!1),{t:y}=Z();f.useEffect((()=>()=>{r.current&&r.current.unsubscribe()}),[]);const v=f.useCallback((()=>{h(!0)}),[h]),b=f.useCallback((()=>{d(!1),h(!1)}),[d,h]),x=f.useCallback((()=>{d(!0)}),[d]),w=f.useCallback((e=>{n.push({closable:!0,status:"error",title:y("asset-source.image.asset-list.delete-failed"),description:e.message})}),[y,n]),C=f.useCallback((()=>{n.push({status:"success",title:y("asset-source.image.asset-list.delete-successful")})}),[y,n]),k=f.useCallback((()=>{g(!0),r.current=t.observable.delete(i._id).subscribe({next:()=>{g(!1),s(i._id),h(!1),C()},error:e=>{g(!1),w(e),console.error("Could not delete asset",e)}})}),[i._id,w,C,s,t.observable]),j=f.useCallback((e=>{"delete"===e.type&&v(),"showUsage"===e.type&&x()}),[v,x]),S=f.useMemo((()=>c&&u.jsx(JSe,{assetType:"file",asset:i,onClose:b})),[i,b,c]),E=f.useMemo((()=>p&&u.jsx(ZSe,{assetType:"file",asset:i,onClose:b,onDelete:k,isDeleting:m})),[i,k,b,m,p]),{originalFilename:_,_id:A,url:T}=i,D=200*Math.max(1,chn),M=T.includes(".gif")?`${T}?h=${D}&fit=max&fm=jpg`:`${T}?h=${D}&fit=max`;return u.jsxs(i4,{children:[u.jsx(wt,{selected:l,tabIndex:0,"data-id":A,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:u.jsxs(fhn,{__unstable_checkered:!0,children:[u.jsx(dhn,{alt:_,src:M,onClick:o,"data-id":A}),m&&u.jsx(wn,{})]})}),u.jsx(hhn,{children:u.jsx(XSe,{isSelected:l,onAction:j})}),S||E]})})),mhn=$(Rn)`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`;function ghn(e){const{isLoading:t,assets:n,selectedAssets:r,onItemClick:i,onItemKeyPress:o,onDeleteFinished:a}=e;return u.jsxs(N,{padding:4,children:[u.jsx(mhn,{gap:2,children:n.map((e=>u.jsx(phn,{asset:e,isSelected:r.some((t=>t._id===e._id)),onClick:i,onKeyPress:o,onDeleteFinished:a},e._id)))}),t&&0===n.length&&u.jsx(U,{justify:"center",children:u.jsx(qf,{muted:!0})}),!t&&0===n.length&&u.jsx(L,{align:"center",muted:!0})]})}const nE=200,QSe="sanity.imageAsset",vhn="sanity.fileAsset",yhn=e=>{const t=["image/*","audio/*","video/*"],n=e.split(",").map((e=>e.trim())).reduce(((e,n)=>t.includes(n)?{...e,wildcards:`mimeType match '${n}' || ${e.wildcards}`}:0===n.indexOf(".")?{...e,extensions:`'${n.replace(".","")}', ${e.extensions}`}:{...e,mimes:`'${n}', ${e.mimes}`}),{mimes:"",extensions:"",wildcards:""});return`&&\n  (\n    ${n.wildcards}\n    extension in [${n.extensions}] ||\n    mimeType in [${n.mimes}]\n  )`},bhn=(e=0,t=nE,n=QSe,r)=>`\n  *[_type == "${n}" ${r.length>0?yhn(r):""}] | order(_updatedAt desc) [${e}...${t}] {\n    _id,\n    _updatedAt,\n    _createdAt,\n    url,\n    originalFilename,\n    mimeType,\n    extension,\n    size,\n    metadata {dimensions}\n  }\n`,xhn=$(ae)`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`,whn=function(e,t){const n=Zt(zt),r=f.useMemo((()=>n.withConfig({apiVersion:"2023-02-14"})),[n]),i=f.useRef(`default-asset-source-${jpe()}`),o=f.useRef(0),{t:a}=Z(),s=f.useRef(),[l,c]=f.useState([]),[d,p]=f.useState(!1),[h,m]=f.useState(!1),[g,y]=f.useState(!0),{selectedAssets:v,assetType:b="image",dialogHeaderTitle:x,onClose:w,onSelect:C,accept:k}=e,j=k&&"image/*"===k&&"image"===b,S=f.useCallback((e=>{const t=e*nE,n=t+nE,i="image"===b,o=i?"asset.image-list":"asset.file-list",a=i?QSe:vhn;y(!0),typeof k<"u"&&(s.current=r.observable.fetch(bhn(t,n,a,k),{},{tag:o}).subscribe((e=>{p(e.length<nE),c((t=>t.concat(e))),y(!1)})))}),[b,k,r]),E=f.useCallback((e=>{c((t=>t.filter((t=>t._id!==e))))}),[c]),_=f.useCallback((e=>{l.find((t=>t._id===e))&&C([{kind:"assetDocumentId",value:e}])}),[l,C]),A=f.useCallback((e=>{e.preventDefault();const t=e.currentTarget.getAttribute("data-id");if(!t)throw new Error("Missing data-id attribute on item");_(t)}),[_]),T=f.useCallback((e=>{if("Enter"===e.key){e.preventDefault();const t=e.currentTarget.getAttribute("data-id");if(!t)throw new Error("Missing data-id attribute on item");_(t)}}),[_]),D=f.useCallback((()=>{w&&w()}),[w]),M=f.useCallback((e=>{e.preventDefault(),S(++o.current)}),[S]);f.useEffect((()=>(S(o.current),()=>{s.current&&s.current.unsubscribe()})),[S]),f.useEffect((()=>{!g&&(!o.current||0===o.current)&&m(!0)}),[g]);const I=jm({style:"narrow"});return u.jsx(Si,{__unstable_autoFocus:h,header:x||a("asset-source.dialog.default-title",{context:b}),id:i.current,onClickOutside:D,onClose:D,ref:t,width:2,children:u.jsxs(ne,{space:5,children:[!j&&!g&&k?.length>0&&u.jsx(ae,{tone:"primary",padding:3,border:!0,radius:2,children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(L,{size:1,children:u.jsx(bd,{})}),u.jsx(L,{size:1,children:u.jsx(dt,{t:a,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:I.format(k.split(",").map((e=>e.trim())))}})})]})}),"file"===b&&u.jsx(uhn,{assets:l,onDeleteFinished:E,onClick:A,onKeyPress:T,isLoading:g,selectedAssets:v}),"image"===b&&u.jsx(ghn,{assets:l,onDeleteFinished:E,onItemClick:A,onItemKeyPress:T,isLoading:g,selectedAssets:v}),l.length>0&&!d&&u.jsx(xhn,{tone:"default",padding:4,children:u.jsx(U,{direction:"column",children:u.jsx(me,{type:"button",icon:ik,loading:g,onClick:M,size:"large",text:a("asset-source.dialog.load-more"),tone:"primary"})})})]})})},eEe=f.memo(f.forwardRef(whn)),tEe={name:"sanity-default",title:"Uploaded files",i18nKey:"asset-source.file.title",component:eEe,icon:nk},nEe={name:"sanity-default",title:"Uploaded images",i18nKey:"asset-source.image.title",component:eEe,icon:tl},Chn=[],Shn=[],Ehn=[],_hn=(e,{schema:t},n)=>{const r=t?.types;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.types\` to be an array or a function, but received ${Xa(r)}`)},khn=async(e,{document:t},n)=>{const r=t?.productionUrl;return r?await r(e,n):e},Thn=(e,{tools:t},n)=>{if(!t)return e;if("function"==typeof t)return t(e,n);if(Array.isArray(t))return[...e,...t];throw new Error(`Expected \`tools\` to be an array or a function, but received ${Xa(t)}`)},Ahn=(e,{schema:t},n)=>{const r=t?.templates;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.templates\` to be an array or a function, but received ${Xa(r)}`)},jhn=(e,{i18n:t},n)=>{const r=t?.locales;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`i18n.locales\` to be an array or a function, but received ${Xa(r)}`)},Ihn=(e,{i18n:t},n)=>{const r=t?.bundles;if(!r)return e;if(Array.isArray(r))return[...e,...r];if("function"==typeof r)return r(e,n);throw new Error("Expected `i18n.bundles` to be an array or a function, but received "+typeof r)},Dhn=(e,{document:t},n)=>{const r=t?.badges;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.badges\` to be an array or a function, but received ${Xa(r)}`)},Ohn=(e,{document:t},n)=>{const r=t?.actions;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.actions\` to be an array or a function, but received ${Xa(r)}`)},Rhn=(e,{document:t},n)=>{const r=t?.newDocumentOptions;if(!r)return e;if("function"!=typeof r)throw new Error(`Expected \`document.resolveNewDocumentOptions\` to be a function, but received ${Xa(r)}`);return r(e,n)},Mhn=(e,{form:t},n)=>{var r;const i=null==(r=t?.file)?void 0:r.assetSources;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error(`Expected \`form.file.assetSources\` to be an array or a function, but received ${Xa(i)}`)},$hn=(e,{form:t},n)=>{var r;const i=null==(r=t?.image)?void 0:r.assetSources;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error(`Expected \`form.image.assetSources\` to be an array or a function, but received ${Xa(i)}`)},Phn=(e,{document:t},n)=>{const r=t?.unstable_languageFilter;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_languageFilter\` to be an array or a function, but received ${Xa(r)}`)},Fhn=(e,{document:t},n)=>{const r=t?.inspectors;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.inspectors\` to be an array or a function, but received ${Xa(r)}`)},nne=e=>{const{config:t,context:n,initialValue:r}=e;return Am(t,[]).reduce(((e,{config:t})=>{var r,i,o,a,s;const l=null!=(s=null==(i=null==(r=t.document)?void 0:r.comments)?void 0:i.enabled)?s:null==(a=null==(o=t.document)?void 0:o.unstable_comments)?void 0:a.enabled;if(!l&&"boolean"!=typeof l)return e;if("function"==typeof l)return l(n);if("boolean"==typeof l)return l;throw new Error(`Expected \`document.comments.enabled\` to be a boolean or a function, but received ${Xa(l)}`)}),r)},Lhn=e=>{const{config:t,initialValue:n}=e;return Am(t,[]).reduce(((e,{config:t})=>{var n,r,i;const o=null==(i=null==(r=null==(n=t.features)?void 0:n.beta)?void 0:r.treeArrayEditing)?void 0:i.enabled;if(!o&&"boolean"!=typeof o)return e;if("boolean"==typeof o)return o;throw new Error(`Expected \`features.beta.treeArrayEditing.enabled\` to be a boolean, but received ${Xa(o)}`)}),n)},Nhn=e=>{const{config:t}=e;return Am(t,[]).reduce(((e,{config:t})=>{const n=t.__internal_tasks;if(!n)return e;if("object"==typeof n&&n.footerAction)return n;throw new Error(`Expected \`__internal__tasks\` to be an object with footerAction, but received ${Xa(n)}`)}),void 0)},Bhn=e=>{const{config:t,initialValue:n}=e;return Am(t,[]).reduce(((e,{config:t})=>{var n,r;const i=null==(r=null==(n=t.search)?void 0:n.unstable_partialIndexing)?void 0:r.enabled;if(!i&&"boolean"!=typeof i)return e;if("boolean"==typeof i)return i;throw new Error(`Expected \`search.unstable_partialIndexing.enabled\` to be a boolean, but received ${Xa(i)}`)}),n)},Vhn=(e,{search:t})=>typeof t?.enableLegacySearch<"u"?t.enableLegacySearch:e;function io({config:e,context:t,initialValue:n,propertyName:r,...i}){const o=Am(e,[]);if("reducer"in i)return o.reduce(((e,{config:n,path:o})=>{try{return i.reducer(e,n,t)}catch(e){throw new pQ({propertyName:r,path:o,cause:e})}}),n);const a=i.asyncReducer;return(async()=>{let e=n;for(const{config:n,path:i}of o)try{e=await a(e,n,t)}catch(e){throw new pQ({propertyName:r,path:i,cause:e})}return e})()}function zhn(e){const{bundles:t}=e;return{type:"backend",init:function(){},read:function(e,n,r){const i=t.filter((t=>t.locale===e&&t.namespace===n));0!==i.length?Uhn(i).then((e=>r(null,e))).catch((e=>r(e,!0))):r(`No translations found for namespace "${n}", language "${e}"`,void 0)}}}async function Uhn(e){var t,n;const r=await Promise.all(e.map((async e=>({...e,resources:await Hhn(e)})))),i={};for(const e of r){const r=null==(t=e.deep)||t,o=null==(n=e.overwrite)||n;r?rEe(i,e.resources,o):o?Object.assign(i,e.resources):Object.assign({},e.resources,i)}return i}async function Hhn(e){if("function"!=typeof e.resources)return e.resources;return Whn(await e.resources())}function rEe(e,t,n=!1){for(const r in t){if("__proto__"===r||"constructor"===r)continue;if(!(r in e)){e[r]=t[r];continue}const i=e[r],o=t[r],a=rne(i),s=rne(o);if((a||s)&&n){e[r]=t[r];continue}if(a||s)continue;const l=Array.isArray(o),u=Array.isArray(i);l||u?n&&(e[r]=o):rEe(i,o,n)}return e}function rne(e){return"string"==typeof e||e instanceof String}function Whn(e){return Ghn(e)?e.default:e}function Ghn(e){return"default"in e&&"object"==typeof e.default&&ar(e.default)}function Yhn(e){const{projectId:t,dataset:n,name:r}=e,i={projectId:t,dataset:n},o=io({config:e,context:i,propertyName:"i18n.locales",reducer:jhn,initialValue:[Vs]});return qhn({locales:o,bundles:io({config:e,context:i,propertyName:"i18n.bundles",reducer:Ihn,initialValue:Khn(o)}),projectId:t,sourceName:r})}function qhn({locales:e,bundles:t,projectId:n,sourceName:r}){const i=Zhn(n,r,e,new Set(t.map((e=>e.namespace)))),o=Ome().use(zhn({bundles:t})).use(GVe);o.init(i).catch((e=>{console.error("Failed to initialize i18n backend: %s",e)}));const a=e.map(Xhn);return{source:{get currentLocale(){var e;return null!=(e=a.find((e=>e.id===o.language)))?e:Vs},loadNamespaces(e){const t=e.filter((e=>!o.hasLoadedNamespace(e)));return 0===t.length?Promise.resolve():o.loadNamespaces(t)},locales:a,t:ewe(o.t)},i18next:o}}function Khn(e){const t=[];for(const n of e){if(n.bundles&&!Array.isArray(n.bundles))throw new Error(`Resource bundle for locale ${n.id} is not an array`);if(n.bundles)for(const e of n.bundles){if("locale"in e&&e.locale!==n.id)throw new Error(`Resource bundle inside locale ${n.id} has mismatching locale id`);if(!e.namespace)throw new Error(`Resource bundle for locale ${n.id} is missing namespace`);t.push("locale"in e?e:{...e,locale:n.id})}}return t}const ine={ns:[ax],defaultNS:ax,partialBundledLanguages:!0,fallbackLng:Vs.id,lng:Vs.id,debug:XUt,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function Zhn(e,t,n,r){var i,o;const a=sWt(e,t),s=n.find((e=>e.id===a)),l=n[n.length-1],u=null!=(o=null!=(i=s?.id)?i:l.id)?o:ine.lng;return{...ine,ns:Array.from(r),lng:u,supportedLngs:n.map((e=>e.id))}}function Xhn(e){const{bundles:t,...n}=e;return n}function iEe(e){return e.reduce(((e,t)=>(e[t.name]=t,e)),{})}function lh(e,t){return e[t]}function Jhn(e){return e.reduce(((e,t)=>("field"===t.type&&e.push(t.fieldType),e)),[])}const Qhn=[{fieldPath:"_updatedAt",icon:da,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:da,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:cs,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Qh,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Qh,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Qh,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:Wf,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:da,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:da,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:Mh,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Nl,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:tl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:$F,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:mF,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:cs,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:Mh,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Mh,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ci,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:Mh,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:Mh,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Js(e={}){const t=oh().id;return Dc.dateTimeFormat(t,e)}function yB(e={}){const t=oh().id,n={unitDisplay:"long",...e,style:"unit"};return function(e,r){return Dc.numberFormat(t,{...n,unit:r}).format(e)}}function epn({documentId:e,schemaType:t}){const n=Ui(),r=f.useMemo((()=>ov(n,t,e,"")),[e,n,t]),{draft:i,published:o,isLoading:a}=Wr(r,{draft:null,isLoading:!0,published:null}),s=f.useMemo((()=>({_id:e,_type:t.name})),[e,t.name]),l=oB({draft:i,published:o,value:s});return a?u.jsx(Hu,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):u.jsx(u.Fragment,{children:l.title||e.slice(0,8)})}function z2({value:e}){const t=Js({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=null!=e&&e.date?new Date(e.date):null;return n&&nd(n)?u.jsx(u.Fragment,{children:t.format(n)}):null}function tpn({value:e}){var t;const n=yB();return u.jsx(u.Fragment,{children:n(Math.floor(null!=(t=e?.unitValue)?t:0),e.unit)})}function ane({value:e}){const t=Js({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=null!=e&&e.from?new Date(e.from):null,r=null!=e&&e.to?new Date(e.to):null;if(!(r&&n&&nd(r)&&nd(n)))return null;const i=t.format(n),o=t.format(r);return u.jsx(u.Fragment,{children:`${i}  ${o}`})}function Tl({value:e}){const t=Jt(),n=e._ref,r=t.get(e._type);return r?u.jsx(epn,{documentId:n,schemaType:r}):null}function Kt(){const e=f.useContext(bae);if(void 0===e)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ns({value:e,onChange:t}){const[n,r]=f.useState(e??""),{state:{fullscreen:i}}=Kt(),{t:o}=Z(),a=f.useCallback((e=>{r(e.currentTarget.value);const n=parseFloat(e.currentTarget.value);t(Number.isFinite(n)?n:null)}),[t]);return u.jsx(Vr,{fontSize:i?2:1,onChange:a,placeholder:o("search.filter-number-value-placeholder"),radius:2,step:"any",type:"number",value:n})}function aEe({onChange:e,value:t}){var n,r;const[i,o]=f.useState(null!=(n=t?.to)?n:""),[a,s]=f.useState(null!=(r=t?.from)?r:""),{state:{fullscreen:l}}=Kt(),{t:c}=Z(),d=f.useCallback((n=>{var r;o(n.currentTarget.value);const i=parseFloat(n.currentTarget.value);e({to:Number.isFinite(i)?i:null,from:null!=(r=t?.from)?r:null})}),[t?.from,e]),p=f.useCallback((n=>{var r;s(n.currentTarget.value);const i=parseFloat(n.currentTarget.value);e({to:null!=(r=t?.to)?r:null,from:Number.isFinite(i)?i:null})}),[t?.to,e]);return u.jsxs(U,{gap:2,children:[u.jsx(N,{flex:1,children:u.jsx(Vr,{fontSize:l?2:1,onChange:p,placeholder:c("search.filter-number-min-value-placeholder"),radius:2,step:"any",type:"number",value:a})}),u.jsx(N,{flex:1,children:u.jsx(Vr,{fontSize:l?2:1,onChange:d,placeholder:c("search.filter-number-max-value-placeholder"),radius:2,step:"any",type:"number",value:i})})]})}function XA(e,t){const n=t.split("."),r=n[0];if(r&&po(e)){const t=e.fields.find((e=>e.name===r));if(t){const e=n.slice(1).join(".");return e?XA(t.type,e):t}}}const npn=$(N)`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`;function oEe({documentId:e,layout:t,presence:n,schemaType:r,showBadge:i=!0}){const o=Ui(),a=f.useMemo((()=>ov(o,r,e,"")),[e,o,r]),{draft:s,published:l,isLoading:c}=Wr(a,{draft:null,isLoading:!0,published:null}),d=f.useMemo((()=>({_id:e,_type:r.name})),[e,r.name]),p=f.useMemo((()=>c?null:u.jsxs(U,{align:"center",gap:3,children:[n&&n.length>0&&u.jsx(w9,{presence:n}),i&&u.jsx(ja,{children:r.title}),u.jsx(iv,{draft:s,published:l})]})),[s,c,n,l,r.title,i]),h=u.jsx(J0,{draft:s,published:l});return u.jsx(npn,{children:u.jsx(Ta,{...oB({draft:s,published:l,value:d}),isPlaceholder:c??!0,layout:t||"default",icon:r.icon,status:p,tooltip:h})})}function bB({disableIntentLink:e,documentId:t,documentType:n,layout:r,onClick:i,onItemSelect:o,...a}){const s=Jt().get(n),l=sv(t),c=f.useMemo((()=>({id:t,type:s?.name})),[t,s?.name]),{onClick:d,href:p}=ww({intent:"edit",params:c}),h=f.useCallback((r=>{o?.({_id:t,_type:n}),e||d(r),i?.()}),[o,t,n,e,i,d]);return s?u.jsx(N,{...a,children:u.jsx(gp,{as:"a","data-as":"a",flex:1,href:e?void 0:p,onClick:h,radius:2,tabIndex:-1,children:u.jsx(oEe,{documentId:t,layout:r,presence:l,schemaType:s})})}):null}const rpn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ipn="_debug_search_score",sEe=!1,apn=1e3,lEe="k",opn=rpn?"Cmd":"Ctrl",a4=kp.space[4],spn=735,lpn=800,zw=5,lv=3;function Uw({allowEmptyQueries:e,terms:t}){const n=!!e||t.query.length>0,r=!!t.filter,i=t.types.length>0;return n||r||i}function upn(e,t){return JA(e).filter((e=>cpn(e,t))).sort(o4)}function JA(e){return ICe(e).filter((e=>!1!==e.__experimental_omnisearch_visibility))}function o4(e,t){var n,r;return(null!=(n=e.title)?n:e.name).localeCompare(null!=(r=t.title)?r:t.name)}function cpn(e,t){var n;return!t||(null!=(n=e.title)?n:e.name).toLowerCase().includes(t?.toLowerCase())}const dpn=300,Q3={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function fpn(e){return null!==e}function hpn(e){var t;return{...e,terms:{...e.terms,filter:null==(t=e.terms.filter)?void 0:t.trim(),query:e.terms.query.trim()}}}function uEe({allowEmptyQueries:e,initialState:t,onComplete:n,onError:r,onStart:i,schema:o}){const[a,s]=f.useState(t),l=Zt(zt),u=LA(),{enableLegacySearch:c=!1}=jr().search,d=f.useMemo((()=>FA(JA(o),l,{tag:"search.global",unique:!0,enableLegacySearch:c,maxDepth:u})),[l,u,o,c]),p=mT((t=>t.pipe(jt(fpn),fe(hpn),mr(bt),T6((e=>ri(e?.debounceTime||dpn))),qn(i),ht((t=>bi(we({...Q3,loading:!0,options:t.options,terms:t.terms}),xJe((()=>Uw({allowEmptyQueries:e,terms:t.terms})),d(t.terms,t.options).pipe(qn((({hits:e,nextCursor:t})=>n?.({hits:e,nextCursor:t}))),pn((e=>(r?.(e),we({...Q3,error:e,loading:!1,options:t.options,terms:t.terms}))))),we(Zn).pipe(qn((()=>n?.({hits:[],nextCursor:void 0}))))),we({loading:!1})))),hs(((e,t)=>({...e,...t})),Q3),qn(s))));return{handleSearch:f.useCallback((e=>p(e)),[p]),searchState:a}}const ppn=40;function cEe({availableCharacters:e=ppn,types:t}){if(0===t.length)return{remainingCount:0,types:[]};const n=t.reduce(function(){let t=e;return function(n,r,i){const o=one(r);return t-=o.length,(0===i||e>o.length&&t>o.length)&&n.push(r),n}}(),[]);return{remainingCount:t.length-n.length,types:n.map(one)}}function dEe({t:e,availableCharacters:t,types:n}){if(0===n.length)return e("search.document-type-list-all-types");const{remainingCount:r,types:i}=cEe({availableCharacters:t,types:n});return e(r>0?"search.document-type-list-truncated":"search.document-type-list",{count:r,types:i,formatParams:{types:{style:"short",type:"unit"}}})}function one(e){var t;return null!=(t=e.title)?t:e.name}const mpn=()=>!0,gpn=$(L)`
  word-break: break-word;
`,vpn=f.forwardRef((function({onSelect:e,types:t=[],value:n},r){const i=f.useRef(null),o=Jt(),{state:{fullscreen:a}}=Kt(),{t:s}=Z(),l=f.useId(),[c,d]=f.useState([]),{handleSearch:p,searchState:h}=uEe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:t}},onComplete:e=>{d(e.hits.map((({hit:e})=>({value:e._id,hit:e}))))},schema:o}),m=f.useCallback((()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:t}})}),[p,t]),g=f.useCallback((e=>{p(e?{options:{limit:100},terms:{query:e||"",types:t}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:t}})}),[p,t]),y=f.useCallback((t=>{var n;const r=null==(n=c.find((e=>e.value===t)))?void 0:n.hit;r&&e?.({_ref:sn(r._id),_type:r._type})}),[c,e]),v=f.useMemo((()=>{if(0===t.length)return s("search.action.search-all-types");const{remainingCount:e,types:n}=cEe({types:t});return s(e>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types",{count:e,types:n,formatParams:{types:{style:"short",type:"unit"}}})}),[t,s]),b=f.useCallback((e=>u.jsx(bB,{disableIntentLink:!0,documentId:e.value,documentType:e.hit._type,layout:"compact"})),[]),x=f.useCallback(((e,t)=>{const{content:n,hidden:r,onMouseEnter:o,onMouseLeave:a}=e,l=c&&c.length>0;return u.jsx(An,{constrainSize:!0,content:u.jsx("div",{ref:t,children:l?n:h.terms.query&&u.jsx(N,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(gpn,{align:"center",muted:!0,children:u.jsx(dt,{t:s,i18nKey:"new-document.no-results",values:{searchQuery:h.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:o,onMouseLeave:a,open:!h.loading&&!r,overflow:"auto",placement:"bottom-start",radius:lv,referenceElement:i.current})}),[c,h.loading,h.terms.query,s]);return u.jsx("div",{ref:i,children:u.jsx(Tk,{"aria-label":v,filterOption:mpn,fontSize:a?2:1,id:l,loading:h.loading,openButton:{onClick:m},options:c,onQueryChange:g,onSelect:y,placeholder:v,radius:2,ref:r,renderOption:b,renderPopover:x,value:n?._ref})})}));function db({fieldDefinition:e,onChange:t,value:n}){const{onClose:r,state:{documentTypesNarrowed:i}}=Kt(),o=Jt(),{t:a}=Z(),s=f.useCallback((e=>t(e)),[t]),l=f.useMemo((()=>e?e.documentTypes.filter((e=>i.includes(e))).flatMap((t=>{const n=o.get(t);if(n){const t=XA(n,e.fieldPath);if(fo(t?.type))return t?.type.of.filter(Iu).flatMap((e=>e.to));if(Iu(t?.type))return t?.type.to}return[]})).reduce(((e,t)=>(e.findIndex((e=>e.name===t?.name))<0&&e.push(t),e)),[]):[]),[i,e,o]),c=f.useCallback((()=>s(null)),[s]),d=f.useCallback((()=>{r?.()}),[r]);return u.jsx(N,{style:{width:"min(calc(100vw - 40px), 420px)"},children:null!=n&&n._ref&&null!=n&&n._type?u.jsxs(ne,{space:3,children:[u.jsx(ae,{padding:1,radius:1,shadow:1,children:u.jsx(bB,{documentId:n._ref,documentType:n._type,layout:"compact",onClick:d})}),u.jsx(me,{mode:"ghost",onClick:c,text:a("search.filter-reference-clear"),tone:"critical"})]}):u.jsx(vpn,{onSelect:s,types:l,value:n})})}function ypn({onClick:e,selected:t,title:n,value:r}){const i=f.useCallback((()=>e(r)),[e,r]);let o=`${n}`;return typeof r<"u"&&n!==r&&(o+=` (${r})`),u.jsx(qe,{onClick:i,pressed:t,tone:"default",text:o})}function f5({fieldDefinition:e,onChange:t,value:n}){const r=f.useId(),{state:{documentTypesNarrowed:i}}=Kt(),{t:o}=Z(),a=Jt(),s=f.useMemo((()=>e?e.documentTypes.filter((e=>i.includes(e))).map((t=>{const n=a.get(t);if(n){const t=XA(n,e.fieldPath);return t?.type.options}return null})).filter(wi).map((e=>e.list)).flatMap((e=>e?.map((e=>bpn(e))))).filter(wi).reduce(((e,t)=>{const n=e.findIndex((e=>e.value===t?.value));if(n>-1){const r=e[n];e[n]={...e[n],title:Fi([...r.title,t.title]).sort()}}else e.push({...t,title:[t.title]});return e}),[]):[]),[i,e,a]),l=f.useCallback((e=>{t(e)}),[t]);return u.jsx(Gt,{button:u.jsx(me,{mode:"ghost",iconRight:ci,text:n?String(n):o("search.filter-string-value-select-predefined-value")}),id:r||"",menu:u.jsx(At,{children:s.map(((e,t)=>u.jsx(ypn,{onClick:l,selected:e.value===n,title:e.title.join(", "),value:e.value||""},t)))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function bpn(e){return K4(e)?e:{title:ym(`${e}`),value:e}}const fEe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),hEe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),pEe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),mEe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function ct(e){return JSON.stringify(e)}const xpn={arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) == ${ct(t)}`:null,initialValue:null,inputComponent:Ns,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) > ${ct(t)}`:null,icon:hEe,initialValue:null,inputComponent:Ns,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) >= ${ct(t)}`:null,icon:fEe,initialValue:null,inputComponent:Ns,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) < ${ct(t)}`:null,icon:mEe,initialValue:null,inputComponent:Ns,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) <= ${ct(t)}`:null,icon:pEe,initialValue:null,inputComponent:Ns,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) != ${ct(t)}`:null,initialValue:null,inputComponent:Ns,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t?.to)&&Number.isFinite(t?.from)&&e?`count(${e}) > ${ct(t?.from)} && count(${e}) < ${ct(t?.to)}`:"",initialValue:null,inputComponent:aEe,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${ct(t)} in ${e}`:null,initialValue:null,inputComponent:f5,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${ct(t)} in ${e})`:null,initialValue:null,inputComponent:f5,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${ct(t._ref)} in ${e}[]._ref`:null,initialValue:null,inputComponent:db,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`!(${ct(t._ref)} in ${e}[]._ref)`:null,initialValue:null,inputComponent:db,type:"arrayReferenceNotIncludes"}};function wpn(e){const{t:t}=Z();return u.jsx(N,{...e,children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(Nr,{tone:"caution",children:u.jsx(or,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Nr,{size:1,tone:"caution",weight:"medium",children:t("search.error.no-valid-asset-source-title")}),u.jsx(Nr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-only-default-description")}),u.jsx(Nr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-check-config-description")})]})]})})}function Cpn({reference:e}){const t=Ui(),n=f.useCallback((e=>cCe(t,e)),[t]);return u.jsx(cx,{observeAsset:n,reference:e,waitPlaceholder:u.jsx(Epn,{}),children:e=>u.jsx(Spn,{asset:e})})}function Spn({asset:e}){return u.jsx(ae,{padding:2,shadow:1,children:u.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[u.jsx(ae,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(L,{children:u.jsx(i1,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:e?.originalFilename||e._id}),u.jsx(L,{size:1,muted:!0,children:I2e(e.size)})]})]})})}function Epn(){return u.jsx(ae,{padding:2,shadow:1,children:u.jsxs(U,{align:"center",justify:"flex-start",children:[u.jsx(ae,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(L,{children:u.jsx(i1,{})})}),u.jsxs(ne,{flex:1,space:2,marginLeft:3,children:[u.jsx(Jn,{animated:!0,style:{width:"100%"},radius:1}),u.jsx(Jn,{animated:!0,style:{width:"100%"},radius:1})]})]})})}const _pn=$(ae)`
  position: relative;
  padding-bottom: 100%;
`,kpn=$.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`;function Tpn({reference:e}){const t=Ui(),n=f.useCallback((e=>uCe(t,e)),[t]);return u.jsx(cx,{observeAsset:n,reference:e,children:e=>u.jsx(Apn,{asset:e})})}function Apn({asset:e}){const[t,n]=f.useState(!1),r=`${e.url}?h=800&fit=max`,i=f.useCallback((()=>n(!0)),[]);return u.jsxs(_pn,{__unstable_checkered:!0,border:!0,children:[!t&&u.jsx(wn,{fill:!0,showText:!0}),u.jsx(kpn,{onLoad:i,src:r})]})}function jpn({reference:e}){return e?e._type.startsWith("sanity.fileAsset")?u.jsx(Cpn,{reference:e}):e._type.startsWith("sanity.imageAsset")?u.jsx(Tpn,{reference:e}):null:null}const Ipn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Dpn=$(N)`
  width: min(calc(100vw - 40px), 320px);
`;function Lg(e){return function({onChange:t,value:n}){const[r,i]=f.useState(null),[o,a]=f.useState(null);Kt();const{file:s,image:l}=Sn().form,{t:c}=Z(),d=f.useMemo((()=>{switch(e){case"file":return s.assetSources.filter((e=>e.name===tEe.name));case"image":return l.assetSources.filter((e=>e.name===nEe.name));default:throw Error("Unknown asset source found")}}),[s.assetSources,l.assetSources]),p=f.useId(),h=Zt(zt),m=f.useCallback((()=>{a(null),t(null)}),[t]),g=f.useCallback((()=>{i(null)}),[]),y=f.useCallback((e=>{const t=e[0];a(t),g()}),[g]),v=f.useCallback((e=>i(e)),[]);f.useEffect((()=>{"assetDocumentId"===o?.kind&&"string"==typeof o?.value&&e&&t({_ref:o.value,_type:Ipn[e]})}),[h,t,o]);const b=r?.component,x=c(n?"search.filter-asset-change":"search.filter-asset-select",{context:e}),w=Yn(e,"options.accept","image"===e?"image/*":"");return u.jsx(Dpn,{children:u.jsxs(ne,{space:3,children:[r&&b&&u.jsx(Zf,{children:u.jsx(b,{assetType:e,dialogHeaderTitle:c("search.action.select-asset",{context:e}),onClose:g,onSelect:y,selectedAssets:[],selectionType:"single",accept:w})}),n&&u.jsx(jpn,{reference:n}),u.jsxs(U,{gap:2,children:[0===d.length&&u.jsx(wpn,{padding:2}),d.length>0&&u.jsx(u.Fragment,{children:d.length>1?u.jsx(Gt,{button:u.jsx(me,{icon:n?gb:ea,iconRight:ci,mode:"ghost",width:n?"fill":void 0,text:x}),id:p,menu:u.jsx(At,{children:d.map((e=>u.jsx(qe,{icon:e.icon||tl,onClick:()=>v(e),text:(e.i18nKey?c(e.i18nKey):e.title)||Tn(e.name)},e.name)))}),popover:{constrainSize:!0,portal:!1,radius:2}}):u.jsx(me,{icon:n?gb:ea,mode:"ghost",onClick:()=>v(d[0]),width:n?"fill":void 0,text:x})}),n&&u.jsx(me,{mode:"ghost",onClick:m,width:"fill",text:c("search.filter-asset-clear"),tone:"critical"})]})]})})}}const Opn={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}.asset._ref == ${ct(t._ref)}`:null,initialValue:null,inputComponent:Lg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}.asset._ref != ${ct(t._ref)}`:null,initialValue:null,inputComponent:Lg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}.asset._ref == ${ct(t._ref)}`:null,initialValue:null,inputComponent:Lg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}.asset._ref != ${ct(t._ref)}`:null,initialValue:null,inputComponent:Lg("image"),label:"is not",type:"assetImageNotEqual"}};function Rpn({onChange:e,value:t}){const{state:{fullscreen:n}}=Kt(),{t:r}=Z(),i=f.useCallback((t=>{e("true"===t.currentTarget.value)}),[e]);return u.jsxs(rl,{fontSize:n?2:1,onChange:i,radius:2,value:String(t??!0),children:[u.jsx("option",{value:"true",children:r("search.filter-boolean-true")}),u.jsx("option",{value:"false",children:r("search.filter-boolean-false")})]})}const Mpn={booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:({fieldPath:e,value:t})=>typeof t<"u"&&e?`${e} == ${ct(t)}`:null,initialValue:!0,inputComponent:Rpn,type:"booleanEqual"}},$pn=$(L)`
  cursor: default;
`;function xB({onChange:e,value:t}){const{t:n}=Z();return u.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[u.jsx(ne,{children:u.jsx($pn,{muted:!0,onClick:e,size:1,weight:"medium",children:n("calendar.action.include-time-label")})}),u.jsx(kk,{checked:t,label:n("calendar.action.include-time-label"),onChange:e})]})}function wB(){const e=f.useContext(yae);if(void 0===e)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}function Ppn(e){const{t:t}=Z(),n=Js({month:"long",year:"numeric"}),{focusedDate:r}=wB(),{moveFocusedDate:i,onNowClick:o}=e,a=f.useCallback((()=>i(-1)),[i]),s=f.useCallback((()=>i(1)),[i]);return u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsx(xn,{paddingLeft:2,space:1,children:u.jsx(L,{size:1,weight:"medium",children:Xge(n.format(r))})}),u.jsxs(U,{align:"center",children:[u.jsx(me,{"aria-label":t("calendar.action.go-to-today-aria-label"),mode:"bleed",onClick:o,text:t("calendar.action.go-to-today")}),u.jsx(me,{icon:yd,mode:"bleed",onClick:a,tooltipProps:{content:t("calendar.action.go-to-previous-month")}}),u.jsx(me,{icon:Aa,mode:"bleed",onClick:s,tooltipProps:{content:t("calendar.action.go-to-next-month")}})]})]})}const Fpn=$.svg((({theme:e})=>de`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: ${e.sanity.color.card.enabled.border};
      stroke-width: 3;
      fill: none;
    }
  `)),Lpn=$(ae)`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`;function Npn({date:e,onSelect:t}){const n=f.useCallback((()=>{t(e)}),[e,t]),{date:r,endDate:i,focusedDate:o,selectRange:a}=wB(),s=r&&Wa(e,r),l=a&&r&&Wa(e,r),c=a&&i&&Wa(e,i),d=DT(e,o),p=o&&Wa(e,o),h=Wa(e,new Date),m=r&&i&&!l&&!c&&kM(e,r)&&$0e(e,i);return u.jsxs(Lpn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":s,"data-end-date":!!c||void 0,"data-focused":p?"true":"","data-ui":"CalendarDay","aria-selected":s,"data-start-date":!!l||void 0,"data-within-range":!!m||void 0,forwardedAs:"button",onClick:n,paddingX:3,paddingY:2,radius:2,role:"button",selected:s||l||c,tabIndex:-1,tone:m?"primary":"default",children:[h&&u.jsx(Fpn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:u.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),u.jsx(L,{align:"center",muted:!s&&!d,size:1,weight:d?"medium":"regular",children:e.getDate()})]})}const eO=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];hw(0,24);const Bpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vpn=[1,2,3,4,5,6],zpn=(e,t)=>{const n=AT(e);return TT({start:n,end:IT(n)},{weekStartsOn:7===t?0:t})},Upn=e=>e.map((e=>[e,...Vpn.map((t=>Fr(e,t)))])),Hpn=e=>{const{weekInfo:t}=oh();return Upn(zpn(e,t.firstDay)).map((e=>({number:jT(e[0]),days:e})))},Wpn={1:eO,7:[eO[6],...eO.slice(0,6)]},Gpn=$(Rn)`
  grid-template-columns: repeat(7, minmax(44px, auto));
`;function Ypn({hidden:e,onSelect:t}){const{focusedDate:n,firstWeekDay:r}=wB(),{t:i}=Z();return u.jsx(N,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:u.jsxs(Gpn,{gapY:1,children:[Wpn[r].map((e=>u.jsx(N,{paddingBottom:3,paddingTop:2,children:u.jsx(L,{align:"center",size:1,weight:"medium",children:i(e)})},e))),Hpn(n).map(((e,n)=>e.days.map(((e,r)=>u.jsx(Npn,{date:e,onSelect:t},`${n}-${r}`)))))]})})}const qpn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Kpn(e){const{date:t,endDate:n,onSelect:r,selectRange:i,selectTime:o}=e,[a,s]=f.useState(null),[l,c]=f.useState(!1),[d,p]=f.useState(t||new Date),h=f.useRef(t||null),m=f.useRef(n||null),{weekInfo:{firstDay:g}}=oh(),y=f.useCallback((()=>{var e;null==(e=a?.querySelector('[data-focused="true"]'))||e.focus()}),[a]),v=f.useCallback((e=>{const o=fxt(e,{hours:e.getHours(),minutes:e.getMinutes(),seconds:0,milliseconds:0}),a=t&&$0e(o,t),s=n&&kM(o,n);if(i){if(a||s)return void r({date:o,endDate:null});r(l?{date:t||null,endDate:o}:{date:o,endDate:t?null:n||null})}else r({date:o})}),[t,n,r,l,i]),b=f.useCallback((()=>{const e=new Date;i?p(e):r({date:e})}),[r,i,p]),x=f.useCallback((e=>{var t;if(Bpn.includes(e.key)){if(e.preventDefault(),e.target.hasAttribute("data-calendar-grid"))return void y();"ArrowUp"===e.key&&p(Fr(d,-7)),"ArrowDown"===e.key&&p(Fr(d,7)),"ArrowLeft"===e.key&&p(Fr(d,-1)),"ArrowRight"===e.key&&p(Fr(d,1)),null==(t=a?.querySelector("[data-preserve-focus]"))||t.focus()}}),[a,y,d,p]),w=f.useCallback((e=>p(fw(d,e))),[d,p]);return f.useEffect((()=>{y()}),[y]),f.useEffect((()=>{var e;null!=(e=document.activeElement)&&e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&y()}),[y,d]),f.useEffect((()=>{var e,i;const o=t?.getTime()!==(null==(e=h.current)?void 0:e.getTime()),a=n?.getTime()!==(null==(i=m.current)?void 0:i.getTime()),s=o&&!a,l=!o&&a,u=t&&n&&kM(t,n);s&&(u&&(c(!0),r({date:t,endDate:null})),c(!!t),t&&p(t)),l&&(u&&(c(!0),r({date:n,endDate:null})),c(!!t&&!n),n&&p(n)),o&&a&&(c(!0),t&&p(t)),h.current=t||null,m.current=n||null}),[t,n,r]),u.jsx(yae.Provider,{value:{date:t,endDate:n,focusedDate:d,selectRange:i,selectTime:o,firstWeekDay:g},children:u.jsxs(N,{"data-ui":"Calendar",ref:s,children:[u.jsx(U,{children:u.jsx(N,{flex:1,children:u.jsx(Ppn,{moveFocusedDate:w,onNowClick:b})})}),u.jsxs(N,{"data-calendar-grid":!0,onKeyDown:x,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(Ypn,{onSelect:v}),qpn]})]})})}function CB({date:e,endDate:t,onChange:n,selectRange:r,selectTime:i}){const o=f.useCallback((e=>{n(e)}),[n]);return u.jsx(Kpn,{date:e,endDate:t,onSelect:o,selectRange:r,selectTime:i})}const Zpn=$(N)((({$background:e,$smallClearButton:t})=>de`
    width: 100%;

    input + span {
      background: ${({theme:t})=>e?t.sanity.color.card.disabled.bg2:"transparent"};
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: ${t?"scale(0.8)":"scale(1)"};
      &:hover {
        opacity: 0.5;
      }
    }
  `)),SB=f.forwardRef((function(e,t){const{$background:n,$smallClearButton:r,...i}=e;return u.jsx(Zpn,{$background:n,$smallClearButton:r,children:u.jsx(Vr,{...i,ref:t})})}));function Fc({date:e,dateOnly:t,roundDay:n}){let r;switch(n){case"end":r=Vb(e);break;case"start":r=Ff(e);break;default:r=e}return t?r.toISOString().split("T")[0]:r.toISOString()}const U2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function h5({isDateTime:e,onChange:t,placeholderDate:n,isDateTimeFormat:r,value:i,...o}){const{t:a}=Z(),s=r?U2.datetime.pattern:U2.date.pattern,[l,c]=f.useState(void 0),[d,p]=f.useState((()=>{if(!i)return"";return xu(new Date(i),s)})),h=f.useMemo((()=>xu(n||new Date,s)),[s,n]),m=f.useCallback((({dateString:n,triggerOnChange:r})=>{if(!n)return;const i=d8(n,s,new Date),o=nd(i);o&&(r&&t(Fc({date:i,dateOnly:!e})),p(xu(i,s))),c(o?void 0:"Invalid "+(e?"datetime":"date"))}),[s,e,t]),g=f.useCallback((()=>{m({dateString:d,triggerOnChange:!0})}),[d,m]),y=f.useCallback((e=>{p(e.currentTarget.value)}),[]),v=f.useCallback((()=>{t(null),c(void 0),p("")}),[t]),b=f.useCallback((e=>{"Enter"===e.key&&m({dateString:d,triggerOnChange:!0})}),[d,m]);return f.useEffect((()=>{const e=i&&new Date(i);e&&m({dateString:xu(e,s),triggerOnChange:!1})}),[s,m,r,i]),u.jsx(pt,{content:a("calendar.error.must-be-in-format",{exampleDate:r?U2.datetime.exampleDate:U2.date.exampleDate}),disabled:!l,placement:"top",portal:!0,children:u.jsx(SB,{...o,clearButton:!!d,customValidity:l,onBlur:g,onChange:y,onClear:v,onKeyDown:b,placeholder:h,value:d})})}function QA({direction:e,isDateTime:t,onChange:n,value:r}){const{state:{fullscreen:i}}=Kt(),{t:o}=Z(),a=f.useMemo((()=>{switch(e){case"after":return"end";case"before":return"start";default:return}}),[e]),s=f.useCallback((({date:e})=>{let i=null;e&&(i=Fc({date:e,dateOnly:!t,roundDay:null!=r&&r.includeTime?void 0:a})),n({includeTime:r?.includeTime,date:i})}),[t,n,a,r?.includeTime]),l=f.useCallback((()=>{const e=!(null!=r&&r.includeTime),i=null!=r&&r.date?new Date(r.date):null;let o=null;i&&(o=Fc({date:i,dateOnly:!t,roundDay:e?"start":a})),n({includeTime:e,date:o})}),[t,n,a,r]),c=f.useCallback((e=>{n({includeTime:r?.includeTime,date:e||null})}),[n,r?.includeTime]);return u.jsxs(ne,{space:3,children:[u.jsx(h5,{"aria-label":o("search.filter-date-aria-label"),fontSize:i?2:1,isDateTime:t,isDateTimeFormat:t&&r?.includeTime,onChange:c,radius:2,value:r?.date}),u.jsx(CB,{date:null!=r&&r.date?new Date(r.date):void 0,onChange:s,selectTime:t}),t&&u.jsx(xB,{onChange:l,value:!(null==r||!r.includeTime)})]})}function Xpn(e){return u.jsx(QA,{...e,direction:"after",isDateTime:!1})}function Jpn(e){return u.jsx(QA,{...e,direction:"before",isDateTime:!1})}function gEe({isDateTime:e,onChange:t,value:n}){const{state:{fullscreen:r}}=Kt(),{t:i}=Z(),o=f.useCallback((({date:r})=>{if(r){const i=Fc({date:r,dateOnly:!e});t({includeTime:n?.includeTime,date:i})}else t(null)}),[e,t,n?.includeTime]),a=f.useCallback((()=>{const r=!(null!=n&&n.includeTime),i=null!=n&&n.date?new Date(n.date):null;let o=null;i&&(o=Fc({date:i,dateOnly:!e})),t({includeTime:r,date:o})}),[e,t,n]),s=f.useCallback((e=>{t({includeTime:n?.includeTime,date:e||null})}),[t,n?.includeTime]);return u.jsxs(ne,{space:3,children:[u.jsx(h5,{"aria-label":i("search.filter-date-aria-label"),fontSize:r?2:1,isDateTime:e,isDateTimeFormat:e&&n?.includeTime,onChange:s,radius:2,value:n?.date}),u.jsx(CB,{date:null!=n&&n.date?new Date(n.date):void 0,onChange:o,selectTime:e}),e&&u.jsx(xB,{onChange:a,value:!(null==n||!n.includeTime)})]})}function sne(e){return u.jsx(gEe,{...e,isDateTime:!1})}const Qpn=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function lne({onChange:e,value:t}){const[n,r]=f.useState(t?.unitValue||""),i=f.useRef("day"),o=f.useRef(t?.unitValue||null),{t:a}=Z(),{state:{fullscreen:s}}=Kt(),l=f.useCallback((()=>{e({unit:i?.current,unitValue:o?.current})}),[e]),c=f.useCallback((e=>{i.current=e.currentTarget.value,l()}),[l]),d=f.useCallback((e=>{r(e.currentTarget.value);const t=parseFloat(e.currentTarget.value);o.current=Number.isFinite(t)?t:null,l()}),[l]);return u.jsxs(U,{gap:2,children:[u.jsx(N,{flex:1,children:u.jsx(Vr,{"aria-label":a("search.filter-date-value-aria-label"),fontSize:s?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:n})}),u.jsx(N,{flex:1,children:u.jsx(rl,{"aria-label":a("search.filter-date-unit-aria-label"),fontSize:s?2:1,onChange:c,radius:2,value:t?.unit,children:Qpn.map((e=>u.jsx("option",{value:e.unit,children:a(e.key)},e.key)))})})]})}const emn=-7;function vEe({isDateTime:e,onChange:t,value:n}){const{t:r}=Z(),{state:{fullscreen:i}}=Kt(),o=f.useMemo((()=>Fr(new Date,emn)),[]),a=f.useMemo((()=>new Date),[]),s=f.useCallback((({date:r,endDate:i})=>{t(une({date:r,endDate:i,includeTime:n?.includeTime,isDateTime:e}))}),[e,t,n?.includeTime]),l=f.useCallback((()=>{const r=!(null!=n&&n.includeTime);t(une({date:null!=n&&n.from?new Date(n.from):null,endDate:null!=n&&n.to?new Date(n.to):null,includeTime:r,isDateTime:e}))}),[e,t,n]),c=f.useCallback((e=>{t({includeTime:n?.includeTime,to:e||null,from:n?.from||null})}),[t,n]),d=f.useCallback((e=>{t({includeTime:n?.includeTime,to:n?.to||null,from:e||null})}),[t,n]);return u.jsx("div",{children:u.jsxs(ne,{space:3,children:[u.jsxs(U,{direction:"column",gap:3,children:[u.jsx(h5,{"aria-label":r("search.filter-date-range-start-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&n?.includeTime,onChange:d,placeholderDate:o,radius:2,value:n?.from}),u.jsx(h5,{"aria-label":r("search.filter-date-range-end-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&n?.includeTime,onChange:c,placeholderDate:a,radius:2,value:n?.to})]}),u.jsx(CB,{date:null!=n&&n.from?new Date(n.from):void 0,endDate:null!=n&&n.to?new Date(n.to):void 0,onChange:s,selectRange:!0,selectTime:e}),e&&u.jsx(xB,{onChange:l,value:!(null==n||!n.includeTime)})]})})}function une({date:e,endDate:t,includeTime:n,isDateTime:r}){return n?{includeTime:n,to:t?Fc({date:t,dateOnly:!r,roundDay:"start"}):null,from:e?Fc({date:e,dateOnly:!r,roundDay:"start"}):null}:{includeTime:n,to:t?Fc({date:t,dateOnly:!r,roundDay:"end"}):null,from:e?Fc({date:e,dateOnly:!r,roundDay:"start"}):null}}function tmn(e){return u.jsx(vEe,{...e,isDateTime:!1})}function nmn(e){return u.jsx(QA,{...e,direction:"after",isDateTime:!0})}function rmn(e){return u.jsx(QA,{...e,direction:"before",isDateTime:!0})}function cne(e){return u.jsx(gEe,{...e,isDateTime:!0})}function imn(e){return u.jsx(vEe,{...e,isDateTime:!0})}const Is={dateAfter:{buttonValueComponent:z2,initialValue:null},dateBefore:{buttonValueComponent:z2,initialValue:null},dateEqual:{buttonValueComponent:z2,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:tpn},dateNotEqual:{buttonValueComponent:z2,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},amn={dateAfter:{...Is.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`${e} > ${ct(t?.date)}`:null,inputComponent:Xpn,type:"dateAfter"},dateBefore:{...Is.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`${e} < ${ct(t?.date)}`:null,inputComponent:Jpn,type:"dateBefore"},dateEqual:{...Is.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`${e} == ${ct(t.date)}`:null,inputComponent:sne,type:"dateEqual"},dateLast:{...Is.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:({fieldPath:e,value:t})=>{const n="number"==typeof t?.unitValue?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?jY(new Date,{days:"day"===t?.unit?n:0,months:"month"===t?.unit?n:0,years:"year"===t?.unit?n:0}).toISOString().split("T")[0]:null;return r&&e?`${e} > ${ct(r)}`:null},inputComponent:lne,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{...Is.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`${e} != ${ct(t.date)}`:null,inputComponent:sne,type:"dateNotEqual"},dateRange:{...Is.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:ane,groqFilter:({fieldPath:e,value:t})=>null!=t&&t.to&&null!=t&&t.from&&e?`${e} >= ${ct(t.from)} && ${e} <= ${ct(t.to)}`:null,initialValue:{includeTime:!1,to:AY().toISOString(),from:null},inputComponent:tmn,type:"dateRange"},dateTimeAfter:{...Is.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`dateTime(${e}) > dateTime(${ct(t.date)})`:null,inputComponent:nmn,type:"dateTimeAfter"},dateTimeBefore:{...Is.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:({fieldPath:e,value:t})=>null!=t&&t.date&&e?`dateTime(${e}) < dateTime(${ct(t.date)})`:null,inputComponent:rmn,type:"dateTimeBefore"},dateTimeEqual:{...Is.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=t?.date&&new Date(t.date);if(!n||!nd(n)||!e)return null;const r=(null!=t&&t.includeTime?xY(n):Ff(n)).toISOString(),i=(null!=t&&t.includeTime?wY(n):Vb(n)).toISOString();return`dateTime(${e}) > dateTime(${ct(r)}) && dateTime(${e}) < dateTime(${ct(i)})`},inputComponent:cne,type:"dateTimeEqual"},dateTimeLast:{...Is.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:({fieldPath:e,value:t})=>{const n="number"==typeof t?.unitValue?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?jY(new Date,{days:"day"===t?.unit?n:0,months:"month"===t?.unit?n:0,years:"year"===t?.unit?n:0}).toISOString():null;return r&&e?`dateTime(${e}) > dateTime(${ct(r)})`:null},initialValue:{unit:"day",unitValue:7},inputComponent:lne,type:"dateTimeLast"},dateTimeNotEqual:{...Is.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=t?.date&&new Date(t.date);if(!n||!nd(n)||!e)return null;const r=(null!=t&&t.includeTime?xY(n):Ff(n)).toISOString(),i=(null!=t&&t.includeTime?wY(n):Vb(n)).toISOString();return`dateTime(${e}) < dateTime(${ct(r)}) || dateTime(${e}) > dateTime(${ct(i)})`},inputComponent:cne,type:"dateTimeNotEqual"},dateTimeRange:{...Is.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:ane,groqFilter:({fieldPath:e,value:t})=>null!=t&&t.to&&null!=t&&t.from&&e?`dateTime(${e}) >= dateTime(${ct(t.from)}) && dateTime(${e}) <= dateTime(${ct(t.to)})`:null,initialValue:{includeTime:!1,to:AY().toISOString(),from:null},inputComponent:imn,type:"dateTimeRange"}},omn={defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:({fieldPath:e})=>e?`defined(${e})`:null,type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",i18nKey:"search.operator.not-defined",groqFilter:({fieldPath:e})=>e?`!defined(${e})`:null,type:"notDefined"}},smn={numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} == ${ct(t)}`:null,initialValue:null,inputComponent:Ns,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} > ${ct(t)}`:null,icon:hEe,initialValue:null,inputComponent:Ns,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} >= ${ct(t)}`:null,icon:fEe,initialValue:null,inputComponent:Ns,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} < ${ct(t)}`:null,icon:mEe,initialValue:null,inputComponent:Ns,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} <= ${ct(t)}`:null,icon:pEe,initialValue:null,inputComponent:Ns,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} != ${ct(t)}`:null,initialValue:null,inputComponent:Ns,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t?.to)&&Number.isFinite(t?.from)&&e?`${e} > ${ct(t?.from)} && ${e} < ${ct(t?.to)}`:"",initialValue:null,inputComponent:aEe,type:"numberRange"}};function Ws({onChange:e,value:t}){const{state:{fullscreen:n}}=Kt(),{t:r}=Z(),i=f.useCallback((t=>e(t.currentTarget.value||null)),[e]);return u.jsx(Vr,{fontSize:n?2:1,onChange:i,placeholder:r("search.filter-string-value-placeholder"),radius:2,value:t||""})}const lmn={portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) == ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) match ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) != ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(pt::text(${e}) match ${ct(t)})`:null,initialValue:null,inputComponent:Ws,type:"portableTextNotMatches"}},umn={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}._ref == ${ct(t._ref)}`:null,initialValue:null,inputComponent:db,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:Tl,groqFilter:({fieldPath:e,value:t})=>null!=t&&t._ref&&e?`${e}._ref != ${ct(t._ref)}`:null,initialValue:null,inputComponent:db,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:Tl,groqFilter:({value:e})=>null!=e&&e._ref?`references(${ct(e._ref)})`:null,initialValue:null,inputComponent:Lg("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:Tl,groqFilter:({value:e})=>null!=e&&e._ref?`references(${ct(e._ref)})`:null,initialValue:null,inputComponent:Lg("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:Tl,groqFilter:({value:e})=>null!=e&&e._ref?`references(${ct(e._ref)})`:null,initialValue:null,inputComponent:db,type:"referencesDocument"}},cmn={slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current == ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current match ${ct(t)}`:null,initialValue:null,inputComponent:Ws,label:"contains",type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current != ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e}.current match ${ct(t)})`:null,initialValue:null,inputComponent:Ws,type:"slugNotMatches"}},dmn={stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${ct(t)}`:null,initialValue:null,inputComponent:f5,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${ct(t)}`:null,initialValue:null,inputComponent:f5,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} match ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${ct(t)}`:null,initialValue:null,inputComponent:Ws,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e} match ${ct(t)})`:null,initialValue:null,inputComponent:Ws,type:"stringNotMatches"}},fmn={...xpn,...Opn,...Mpn,...amn,...omn,...smn,...lmn,...umn,...cmn,...dmn},hmn=Object.values(fmn);function dne(e){const t=e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0);return Math.abs(16807*t%2147483647)/2147483647}const pmn=$.text`
  font-family: ${({theme:e})=>e.sanity.fonts.text.family};
  font-weight: ${({theme:e})=>e.sanity.fonts.text.weights.medium};
  font-size: ${({theme:e})=>e.sanity.fonts.text.sizes[1].fontSize}px;
  transform: translateY(1px);
`;function mmn(e,t){const n=dne(`${e} ${t}`),r=nF.filter((e=>"gray"!==e)),i=r[Math.floor(n*r.length)],o=["300","400","500","600","700"],a=dne(n.toString()),s=o[Math.floor(a*o.length)],l=et[i][s].hex,c=e.split(/\s/g).map((e=>e.replace(/\\W/g,""))).filter(Boolean).slice(0,2).map((e=>e.charAt(0).toUpperCase())),d=fye(l,.4),f=pMt(l,.4),p=TZ(l,"readable",d)?TZ(l,"readable",f)?gMt(l):f:d;return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[u.jsx("rect",{width:32,height:32,rx:2,fill:l}),u.jsx(pmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:c})]})}const Gr="comments",gmn={locale:"en-US",namespace:Gr,resources:()=>md((()=>import("./resources.CcQAigYg.js")),__vite__mapDeps([3,1]))};function vmn(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback((e=>{r(e)}),[]),o=f.useMemo((()=>({authoringPath:n,setAuthoringPath:i})),[n,i]);return u.jsx(Dae.Provider,{value:o,children:t})}function ymn(){return f.useContext($ae)}function bmn(e){const{documentId:t,documentType:n,getCommentLink:r}=e||{},i=Jt().get(n),{title:o}=jr(),a=Ui(),s=Wr(f.useMemo((()=>t&&i?ov(a,i,t,""):we(null)),[t,a,i])),{published:l,draft:u}=s||{},c=u?.title||l?.title||"Sanity document";return{getNotificationValue:f.useCallback((({commentId:e})=>({documentTitle:c,url:r?.(e),workspaceTitle:o})),[c,r,o])}}function Di(e,t){const{currentUser:n,document:r,parent:i,value:o}=t;return"boolean"==typeof e||void 0===e?!!e:!0===e({document:r,parent:i,value:o,currentUser:n})}function fu(e,t,n){var r;if(0===t.length)return{...e||{},value:n};const[i,...o]=t,a=Vn(i)?i._key:String(i),s=null!=(r=e?.children)?r:{};return{value:e?.value,children:{...s,[a]:fu(s[a]||{},o,n)}}}const EB=20,xmn=3,wf={name:"all-fields",title:"All fields",hidden:!1};function _B(e={},t){if(!1===e?.collapsible||!1===e?.collapsable)return{collapsible:!1,collapsed:!1};const n="boolean"==typeof e?.collapsed?e.collapsed:t>=xmn||void 0;return{collapsible:!0===e?.collapsible||!0===e?.collapsable||!0===n||void 0,collapsed:n}}function yEe(e,t,n){return n.name===wf.name||void 0!==t&&(0===e.length&&n.name===wf.name||mw(t).includes(n.name))}function fne(e){return typeof e>"u"||xt(e)}function wmn(e){return typeof e>"u"||Array.isArray(e)}function Cmn(e){return typeof e>"u"||Array.isArray(e)}function Smn(e){return 0===e.length||e.every((e=>xt(e)))}function Emn(e){const t=new Set;return e.reduce(((e,n,r)=>(t.has(n._key)&&e.push([r,n._key]),t.add(n._key),e)),[])}function _mn(e){return"_key"in e}function kmn(e){return e?.every((e=>xt(e)&&_mn(e)))}function o0(e,t){return!(Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u")&&(!(!e||t)||!bt(e,t))}function hne(e){var t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,y,v;const{parent:b,field:x,index:w}=e,C=Du([...b.path,x.name]),k=mQt(x.type,b.level+1),j=b.value,S=b.comparisonValue;if(!fne(j))throw new Error("Unexpected non-object value");const E=x.group?mw(x.group):[],_=yEe(b.groups,x.group,b.selectedGroup);if(po(x.type)){const e=j?.[x.name],s=xt(S)?S?.[x.name]:void 0;if(!fne(e))return{kind:"error",key:x.name,fieldName:x.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:x.type,resolvedValueType:Bo(e),value:e}};const l={value:e,parent:b.value,document:b.document,currentUser:b.currentUser};if(Di(x.type.hidden,l))return{kind:"hidden",key:`field-${x.name}`,name:x.name,index:w};const u=b.readOnly||Di(x.type.readOnly,l),c=null==(n=null==(t=b.fieldGroupState)?void 0:t.children)?void 0:n[x.name],d=null==(i=null==(r=b.collapsedPaths)?void 0:r.children)?void 0:i[x.name],f=null==(a=null==(o=b.collapsedFieldSets)?void 0:o.children)?void 0:a[x.name],p=kB({schemaType:x.type,currentUser:b.currentUser,parent:b.value,document:b.document,value:e,changed:o0(e,s),comparisonValue:s,presence:b.presence,validation:b.validation,fieldGroupState:c,path:C,level:k,focusPath:b.focusPath,openPath:b.openPath,collapsedPaths:d,collapsedFieldSets:f,readOnly:u,changesOpen:b.changesOpen});if(null===p)return null;const h=_B(x.type.options,k),m=d?d.value:h.collapsed;return{kind:"field",key:`field-${x.name}`,name:x.name,index:w,inSelectedGroup:_,groups:E,open:ya(C,b.openPath),field:p,collapsed:m,collapsible:h.collapsible}}if(fo(x.type)){const e=j?.[x.name],t=xt(S)?S?.[x.name]:void 0;if(xx(x.type)){const n=typeof e<"u";if(n&&!wmn(e)){const t=Bo(e);return{kind:"error",key:x.name,fieldName:x.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:x.type,resolvedValueType:t,value:e}}}if(n&&!Smn(e))return{kind:"error",key:x.name,fieldName:x.name,error:{type:"MIXED_ARRAY",schemaType:x.type,value:e}};if(n&&!kmn(e))return{kind:"error",key:x.name,fieldName:x.name,error:{type:"MISSING_KEYS",value:e,schemaType:x.type}};const r=n?Emn(e):[];if(r.length>0)return{kind:"error",key:x.name,fieldName:x.name,error:{type:"DUPLICATE_KEYS",duplicates:r,schemaType:x.type}};const i=null==(l=null==(s=b.fieldGroupState)?void 0:s.children)?void 0:l[x.name],o=null==(c=null==(u=b.collapsedPaths)?void 0:u.children)?void 0:c[x.name],a=null==(f=null==(d=b.collapsedFieldSets)?void 0:d.children)?void 0:f[x.name],p=b.readOnly||Di(x.type.readOnly,{value:e,parent:b.value,document:b.document,currentUser:b.currentUser}),h=Amn({schemaType:x.type,parent:b.value,currentUser:b.currentUser,document:b.document,value:e,changed:o0(e,t),comparisonValue:t,fieldGroupState:i,focusPath:b.focusPath,openPath:b.openPath,presence:b.presence,validation:b.validation,collapsedPaths:o,collapsedFieldSets:a,level:k,path:C,readOnly:p});return null===h?null:{kind:"field",key:`field-${x.name}`,name:x.name,index:w,open:ya(C,b.openPath),inSelectedGroup:_,groups:E,collapsible:!1,collapsed:!1,field:h}}{if(!Cmn(e)){const t=Bo(e);return{kind:"error",key:x.name,fieldName:x.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:x.type,resolvedValueType:t,value:e}}}const n=null==(h=null==(p=b.fieldGroupState)?void 0:p.children)?void 0:h[x.name],r=null==(g=null==(m=b.collapsedPaths)?void 0:m.children)?void 0:g[x.name],i=null==(v=null==(y=b.collapsedFieldSets)?void 0:y.children)?void 0:v[x.name],o=b.readOnly||Di(x.type.readOnly,{value:e,parent:b.value,document:b.document,currentUser:b.currentUser}),a=Tmn({changed:o0(e,t),comparisonValue:t,schemaType:x.type,parent:b.value,currentUser:b.currentUser,document:b.document,value:e,fieldGroupState:n,focusPath:b.focusPath,openPath:b.openPath,presence:b.presence,validation:b.validation,collapsedPaths:r,collapsedFieldSets:i,level:k,path:C,readOnly:o});return null===a?null:{kind:"field",key:`field-${x.name}`,name:x.name,index:w,inSelectedGroup:_,groups:E,open:ya(C,b.openPath),collapsible:!1,collapsed:!1,field:a}}}{const e=j?.[x.name],t=xt(S)?S?.[x.name]:void 0,n={value:e,parent:b.value,document:b.document,currentUser:b.currentUser};if(Di(x.type.hidden,n))return null;const r=b.readOnly||Di(x.type.readOnly,n),i=bEe({...b,comparisonValue:t,value:e,schemaType:x.type,path:C,readOnly:r});return{kind:"field",key:`field-${x.name}`,name:x.name,index:w,open:ya(C,b.openPath),inSelectedGroup:_,groups:E,collapsible:!1,collapsed:!1,field:i}}}function kB(e,t=!0){var n;if(e.level===EB)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},i=e.readOnly||Di(e.schemaType.readOnly,r),o=e.schemaType.groups||[],a=null==(n=o.find((e=>e.default))||wf)?void 0:n.name,s=[wf,...o].flatMap((t=>{var n;const i=Di(t.hidden,r),o=t.name===((null==(n=e.fieldGroupState)?void 0:n.value)||a),s=e.changesOpen?t.name===wf.name:o,l=!!e.changesOpen&&!s;return i?[]:[{disabled:l,icon:t?.icon,name:t.name,selected:s,title:t.title}]})),l=s.find((e=>e.selected)),u=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map((e=>({single:!0,field:e})))).flatMap(((t,n)=>{var r,o,a,u;if(t.single){const r=hne({field:t.field,parent:{...e,readOnly:i,groups:s,selectedGroup:l},index:n});return r?[r]:[]}const c=t.fields.map((e=>e.name)),d=Di(t.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Bt(e.value,c)}),f=Di(t.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Bt(e.value,c)}),p=t.fields.flatMap((t=>{if(d)return[{kind:"hidden",key:`field-${t.name}`,name:t.name,index:n}];const r=hne({field:t,parent:{...e,readOnly:i||f,groups:s,selectedGroup:l},index:n});return r?[r]:[]})),h=_B(t.options,e.level),m=null!=(a=null==(o=((null==(r=e.collapsedFieldSets)?void 0:r.children)||{})[t.name])?void 0:o.value)?a:h.collapsed;return[{kind:"fieldSet",key:`fieldset-${t.name}`,_inSelectedGroup:yEe(s,t.group,l),groups:t.group?mw(t.group):[],fieldSet:{path:Du(e.path.concat(t.name)),name:t.name,title:t.title,description:t.description,hidden:!1,level:e.level+1,members:p.filter((e=>"hidden"!==e.kind)),collapsible:h?.collapsible,collapsed:m,columns:null==(u=t?.options)?void 0:u.columns}}]})),c=o.length>0,d=e.presence.filter((t=>fr(t.path,e.path))),f=d.length?d:an,p=e.validation.filter((t=>fr(t.path,e.path))).map((e=>({level:e.level,message:e.message,path:e.path}))),h=u.filter((e=>"hidden"!==e.kind));if(0===h.length&&t)return null;const m=c?s.flatMap((e=>e.name===wf.name||h.some((t=>"error"!==t.kind&&("field"===t.kind?t.groups.includes(e.name):t.groups.includes(e.name)||t.fieldSet.members.some((t=>"error"!==t.kind&&t.groups.includes(e.name))))))?e:[])):[],g=h.flatMap((e=>{if("error"===e.kind)return[e];if("field"===e.kind)return e.inSelectedGroup?[e]:[];const t=e.fieldSet.members.filter((e=>"field"!==e.kind||e.inSelectedGroup));return t.length>0?[{...e,fieldSet:{...e.fieldSet,members:t}}]:[]})),y={value:e.value,changed:o0(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:i,path:e.path,id:_n(e.path),level:e.level,focused:fr(e.path,e.focusPath),focusPath:Z4(e.path,e.focusPath),presence:f,validation:p,members:g,groups:m};return Object.defineProperty(y,"_allMembers",{value:u,enumerable:!1}),y}function Tmn(e){if(e.level===EB)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(Di(e.schemaType.hidden,t))return null;const n=e.readOnly||Di(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter((t=>fr(t.path,e.path))),o=i.length?i:an,a=e.validation.filter((t=>fr(t.path,e.path))).map((e=>({level:e.level,message:e.message,path:e.path}))),s=r.flatMap(((t,n)=>Imn({arrayItem:t,parent:e,index:n})));return{changed:e.changed||s.some((e=>"item"===e.kind&&e.item.changed)),value:e.value,readOnly:n,schemaType:e.schemaType,focused:fr(e.path,e.focusPath),focusPath:Z4(e.path,e.focusPath),path:e.path,id:_n(e.path),level:e.level,validation:a,presence:o,members:s}}function Amn(e){if(e.level===EB)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(Di(e.schemaType.hidden,t))return null;const n=e.readOnly||Di(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter((t=>fr(t.path,e.path))),o=i.length?i:an,a=e.validation.filter((t=>fr(t.path,e.path))).map((e=>({level:e.level,message:e.message,path:e.path}))),s=r.flatMap(((t,n)=>jmn({arrayItem:t,parent:e,index:n})));return{changed:e.changed||s.some((e=>"item"===e.kind&&e.item.changed)),value:e.value,readOnly:n,schemaType:e.schemaType,focused:fr(e.path,e.focusPath),focusPath:Z4(e.path,e.focusPath),path:e.path,id:_n(e.path),level:e.level,validation:a,presence:o,members:s}}function jmn(e){var t,n,r,i,o,a,s;const{arrayItem:l,parent:u,index:c}=e,d=K9(u.schemaType,l),f=l._key;if(!d){return{kind:"error",key:f,index:c,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:Bo(l),value:l,validTypes:u.schemaType.of}}}const p=Du([...u.path,{_key:f}]),h=u.level+1,m={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},g=u.readOnly||Di(u.schemaType.readOnly,m),y=null==(n=null==(t=u.fieldGroupState)?void 0:t.children)?void 0:n[f],v=null==(i=null==(r=u.collapsedPaths)?void 0:r.children)?void 0:i[f],b=null==(a=null==(o=u.collapsedFieldSets)?void 0:o.children)?void 0:a[f],x=Array.isArray(u.comparisonValue)&&u.comparisonValue.find((e=>e._key===l._key))||void 0,w=kB({schemaType:d,level:h,document:u.document,value:l,comparisonValue:x,changed:o0(l,x),path:p,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:v,collapsedFieldSets:b,presence:u.presence,validation:u.validation,fieldGroupState:y,readOnly:g},!1),C=_B(d.options,h),k=null!=(s=v?.value)?s:C.collapsed;return{kind:"item",key:f,index:c,open:ya(p,u.openPath),collapsed:k,collapsible:!0,parentSchemaType:u.schemaType,item:w}}function Imn(e){var t,n;const{arrayItem:r,parent:i,index:o}=e,a=gnn(i.schemaType,r),s=Du([...i.path,o]),l=null==(t=i.value)?void 0:t[o],u=null==(n=i.comparisonValue)?void 0:n[o],c=i.level+1,d=`${a?.name||"invalid-type"}-${String(o)}`;if(!a)return{kind:"error",key:d,index:o,error:{type:"INVALID_ITEM_TYPE",validTypes:i.schemaType.of,resolvedValueType:Bo(a),value:l}};const f=i.readOnly||Di(a.readOnly,{value:l,parent:i.value,document:i.document,currentUser:i.currentUser}),p=bEe({...i,path:s,schemaType:a,level:c,value:l,comparisonValue:u,readOnly:f});return{kind:"item",key:d,index:o,parentSchemaType:i.schemaType,open:fr(s,i.openPath),item:p}}function bEe(e){const t=e.presence.filter((t=>fr(t.path,e.path))),n=t.length?t:an,r=e.validation.filter((t=>fr(t.path,e.path))).map((e=>({level:e.level,message:e.message,path:e.path})));return{schemaType:e.schemaType,changed:o0(e.value,e.comparisonValue),value:e.value,level:e.level,id:_n(e.path),readOnly:e.readOnly,focused:fr(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function Dmn(e){return kB(e)}function xEe(e,{comparisonValue:t,value:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:o,focusPath:a,openPath:s,presence:l,validation:u,readOnly:c,changesOpen:d}){const p=Un(),h=f.useRef(null);return f.useLayoutEffect((()=>{h.current=null}),[e]),f.useMemo((()=>{const f=Dmn({schemaType:e,document:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:o,value:n,comparisonValue:t,focusPath:a,openPath:s,readOnly:c,path:Du([]),level:0,currentUser:p,presence:l,validation:u,changesOpen:d}),m=TA(h.current,f);return h.current=m,m}),[e,n,r,i,o,t,a,s,c,p,l,u,d])}function Omn(e){return po(e.schemaType)}function Rmn(e){return xx(e.schemaType)}function wEe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function Mmn(e,t){return[...t.map(((e,n)=>({type:"expandPath",path:t.slice(0,n+1)}))),...CEe(e,t)]}function CEe(e,t){return 0===t.length?[]:Omn(e)&&wEe(e)?SEe(e,t):Rmn(e)?EEe(e,t):[]}function SEe(e,t){var n,r;if(0===t.length)return[];const[i,...o]=t,a=e._allMembers.find((e=>"fieldSet"===e.kind&&e.fieldSet.members.some((e=>"field"===e.kind&&e.name===i)))),s=(a?a.fieldSet.members:e._allMembers).find((e=>null!==e&&"field"===e.kind&&e.name===i)),l=e.schemaType.fields.find((e=>e.name===i)),u=null==(n=e.groups.find((e=>e.selected)))?void 0:n.name,c=null==(r=(e.schemaType.groups||[]).find((e=>e.default)))?void 0:r.name,d=[];return u&&(u===wf.name||l&&mw(l.group).includes(u))||d.push({type:"setSelectedGroup",path:e.path,groupName:c||wf.name}),a&&d.push({type:"expandFieldSet",path:a.fieldSet.path}),s&&wEe(s.field)&&(D9(s)?d.push(...EEe(s.field,o)):pCe(s)&&d.push(...SEe(s.field,o))),d}function EEe(e,t){if(0===t.length)return[];const[n,...r]=t;if(!Vn(n))throw new Error("Expected path segment to be an object with a _key property");const i=e.members.find((e=>e.key===n._key));return i?CEe(i.item,r):[]}const $mn=/^\d+$/;function Pmn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Fmn(e){const[t,n]=e.split("==");return{[t]:Pmn(n)}}function Lmn(e){return $mn.test(e)?Number(e):e}function Nmn(e){return e.split(/[[.\]]/g).filter(Boolean).map((e=>e.includes("==")?Fmn(e):Lmn(e)))}function og(e){return Nmn(e)}function _Ee(e){return e.map(zmn)}function s4(e,t){return pr(t.map((t=>Vmn(e,t))))}const Bmn=e=>t=>!e.includes(t);function Vmn(e,t){return pr(Object.keys(t).filter(Bmn(["id","ifRevisionID","query"])).map((n=>{if("unset"===n)return t.unset.map((t=>({type:"unset",path:og(t),origin:e})));if("insert"===n){const n="before"in t.insert?"before":"after";return{type:"insert",position:n,path:og(t.insert[n]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map((r=>"set"===n?{type:"set",path:og(r),value:t[n][r],origin:e}:"inc"===n||"dec"===n?{type:n,path:og(r),value:t[n][r],origin:e}:"setIfMissing"===n?{type:"setIfMissing",path:og(r),value:t[n][r],origin:e}:"diffMatchPatch"===n?{type:n,path:og(r),value:t[n][r],origin:e}:(console.warn(new Error(`Unsupported patch type: ${n}`)),null))).filter(Boolean)})))}function zmn(e){if(e.patchType!==Kp&&e.type)throw new Error(`Patch is missing "patchType" - import and use "${e.type}()" from "sanity/form"`);if(e.patchType!==Kp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Gve(e.path||[]);if("insert"===e.type){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if("unset"===e.type)return{unset:[t]};if(!e.type)throw new Error(`Missing patch type in patch ${JSON.stringify(e)}`);return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}const Umn=f.memo((function(e){const{transform:t}=e,n=vl(),r=f.useCallback((e=>{const r=e.patches,i=t(r);n.onChange(Tt.from(i))}),[n,t]),i=f.useMemo((()=>({...n,onChange:r})),[n,r]);return u.jsx(J4.Provider,{value:i,children:e.children})}));function kEe(e,t){var n;const r=Qs(t),i=r[0];if(i&&po(e)){const t=null==(n=e?.fields)?void 0:n.find((e=>e.name===i));if(t){const e=_n(r.slice(1));return e?kEe(t.type,e):t}}}function Hmn(e,t){if("number"==typeof t)return t;const n=I8(e,t);return-1!==n&&n}function Wmn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:i}=e,o=Qs(r),a=[];let s=null;return o.forEach(((e,r)=>{var l,u,c,d,f;const p=o.slice(0,r+1),h=o.slice(0,r),m=kEe(n,_n(p)),g=e.hasOwnProperty("_key"),y=Vo(i,h),v=Vo(i,p),b={document:i,currentUser:t,parent:y,value:v};if(g&&Array.isArray(y)){const t=Hmn(y,e),n="number"==typeof t;a.push({invalid:!1===t,isArrayItem:!0,title:n?`#${Number(t)+1}`:"Unknown array item"})}else{if(null!=m&&m.type){const e=Di(m.type.hidden,b);return a.push({invalid:e,isArrayItem:!1,title:$l(m.type)}),void(s=m.type)}if(fo(s)){const t=Vo(i,h),n=t?._type,r=null==(l=s?.of)?void 0:l.find((e=>e.name===n)),o=null==(u=r?.fields)?void 0:u.find((t=>t.name===e));if(!n&&v){const t=null==(c=s?.of)?void 0:c.map((e=>e?.fields)).filter(Boolean).flat(),n=t?.find((t=>t?.name===e)),r=Di(null==(d=n?.type)?void 0:d.hidden,b);return void(n&&(a.push({invalid:r,isArrayItem:!1,title:$l(n?.type)}),s=n?.type))}if(!o)return void a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});const p=$l(o?.type),m=Di(null==(f=r?.type)?void 0:f.hidden,b),g=Di(o?.type.hidden,b),y=m||g;return a.push({invalid:y,isArrayItem:!1,title:p}),void(s=o?.type)}a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}})),a}function TEe(e){const t=f.useRef(e);return f.useMemo((()=>!bt(t.current,e)),[e])}function Mm(e){return!!e&&e?.some((e=>{var t;return Mi(e)&&(null==(t=e?.children||[])?void 0:t.some((e=>ha(e)?e.text:e.userId)))}))}function Gmn(e,t){var n,r;const i=null==(n=e?.context)?void 0:n.intent,o=null==(r=t?.context)?void 0:r.intent;if(o&&(!i||"preview"in o.params&&"preview"in i.params&&o.params.preview!==i.params.preview))return o}function uv(e){var t,n,r,i,o,a;return!!e&&!("text"!==(null==(r=null==(n=null==(t=e?.target)?void 0:t.path)?void 0:n.selection)?void 0:r.type)||null==(a=null==(o=null==(i=e?.target)?void 0:i.path)?void 0:o.selection)||!a.value)}const pne=[];function Ymn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:i,type:o}=e,a=t?.filter((e=>!e.parentCommentId));return"task"===o?a.map((e=>{const n=t?.filter((t=>t.parentCommentId===e._id));return{commentsCount:[e,...n].length,parentComment:e,replies:n,threadId:e.threadId,hasReferencedValue:!1,breadcrumbs:pne,fieldPath:""}})):"field"===o?a.map((e=>{var o,a,s;const l=Wmn({currentUser:n,documentValue:r,fieldPath:(null==(o=e.target.path)?void 0:o.field)||"",schemaType:i});let u=!1;if(uv(e)&&(u=!(null==(a=e.target.path)||!a.selection||!e.target.path.selection.value.some((e=>e.text)))),l.some((e=>e.invalid)))return;const c=t?.filter((t=>t.parentCommentId===e._id)),d=u;return{breadcrumbs:l,commentsCount:[e,...c].length,fieldPath:(null==(s=e.target.path)?void 0:s.field)||"",parentComment:e,replies:c,threadId:e.threadId,hasReferencedValue:d}})).filter(Boolean):pne}const AEe=15;function mne(e,t){const n=GT(U1(e,t)),r=Zmn(n);return{patches:H8(e,n,{margin:AEe}),levenshtein:r}}function qmn(e,t){return W8(t,e,{allowExceedingIndices:!0,margin:AEe})[0]}const l4="";function Kmn(e){return e.children.map((e=>ha(e)?e.text.replaceAll(l4," "):"")).join(l4)}const lf=["",""],gne=new RegExp(`[${lf.join("")}]`,"g"),vne=[];function jEe(e){const{value:t,comments:n}=e;if(!t||0===t.length)return vne;const r=n.filter(uv),i=[];return r.forEach((e=>{var n,r;null==(r=null==(n=e.target.path)?void 0:n.selection)||r.value.forEach((n=>{const r=t.find((e=>e._key===n._key));if(!r||!Mi(r))return;const o=n.text.replaceAll(gne,""),a=Kmn(r),{patches:s}=mne(o,n.text),l=qmn(a,s),u=l.indexOf(lf[0]),c=l.replaceAll(lf[0],"").indexOf(lf[1]),d=l.replaceAll(gne,""),f=n.text.slice(n.text.indexOf(lf[0])+1,n.text.indexOf(lf[1])),p=d.slice(u,c),{levenshtein:h}=mne(p,f),m=Math.round(p.length+f.length/2);let g=!1;if(0===p.length&&(g=!0),h>m&&(g=!0),u+1===c&&(g=!0),-1!==u&&-1!==c){let t=0,n=0,o=0,a=0;for(let e=0;e<d.length&&(d[e]===l4&&(e<=u&&(n=-1,t++),a=-1,o++),e<u&&n++,e<u+p.length&&a++,e!==u+p.length);e++);i.push({selection:{anchor:{path:[{_key:r._key},"children",{_key:r.children[t]._key}],offset:n},focus:{path:[{_key:r._key},"children",{_key:r.children[o]._key}],offset:a}},comment:e,range:{_key:r._key,text:g?"":l}})}}))})),0===i.length?vne:i}function Zmn(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case hr:n+=a.length;break;case Kn:r+=a.length;break;case Nt:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r),t}const Xmn=f.memo((function(e){const{children:t,commentId:n,currentHoveredCommentId:r,onClick:i,onHoverEnd:o,onHoverStart:a,selectedThreadId:s,threadId:l}=e,c=f.useRef(null),d=f.useRef(!1),p=f.useRef(null);f.useEffect((()=>{var e,t;const n=null==(e=c.current)?void 0:e.previousSibling,r=null==(t=c.current)?void 0:t.nextSibling;if(!n||!r)return void(d.current=!1);const[i]=Object.keys(bne("")),o=n.getAttribute(i),a=r.getAttribute(i),s=!(!o||!a||o!==a);p.current=s?o:null,d.current=s}),[]);const h=f.useCallback((()=>a(n)),[n,a]),m=f.useCallback((()=>o(null)),[o]),g=f.useCallback((()=>i(n)),[n,i]),y=r===n||r===p.current&&d.current;return u.jsx(M5e,{isAdded:!0,isHovered:y||s===l,isNested:d.current,onClick:g,onMouseEnter:h,onMouseLeave:m,ref:c,...bne(l),children:t})}));function Jmn(e){const{comments:t,currentHoveredCommentId:n,onDecorationClick:r,onDecorationHoverEnd:i,onDecorationHoverStart:o,onDecorationMoved:a,selectedThreadId:s,value:l}=e;return jEe({comments:t,value:l}).map((({selection:e,comment:t,range:l})=>({component:({children:e})=>u.jsx(Xmn,{commentId:t._id,currentHoveredCommentId:n,onClick:r,onHoverEnd:i,onHoverStart:o,selectedThreadId:s,threadId:t.threadId,children:e}),onMoved:a,selection:e,payload:{commentId:t._id,range:l}})))}function Qmn(e){const{fragment:t,value:n,selection:r}=e;if(!r)throw new Error("Selection is required");const i=r.backward?{backward:!1,anchor:r.focus,focus:r.anchor}:r;return{type:"text",value:t.map((e=>{const t=n.find((t=>t._key===e._key));if(!Mi(t))return{_key:e._key,text:""};const r=Vn(i.anchor.path[0])&&i.anchor.path[0]._key,o=Vn(i.focus.path[0])&&i.focus.path[0]._key,a=X0e([e]),s=Mi(e)?e.children[0]:void 0,l=Mi(e)?e.children[e.children.length-1]:void 0;let u="",c=-1;if(r===t._key)for(const e of t.children){if(c++,e._key===s?._key){u+=ha(e)&&e.text.slice(0,Math.max(0,i.anchor.offset))||"";break}u+=e.text}let d="";if(o===t._key)for(const e of t.children.slice(c).reverse()){if(e._key===l?._key){d=(ha(e)&&e.text.slice(i.focus.offset,e.text.length)||"")+d;break}d=e.text+d}return{_key:t._key,text:`${u}${lf[0]}${a}${lf[1]}${d}`}}))}}function egn(e,t){const n={};for(const t of e)n[t._key]={...t};for(const e of t)n[e._key]={...n[e._key],...e};return Object.values(n)}function u4(e){if(e&&"object"==typeof e&&e.hasOwnProperty("_ref"))return{...e,_weak:!0};if(Array.isArray(e))return e.map((e=>u4(e)));if(e&&"object"==typeof e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];t[n]="object"==typeof r&&null!==r?u4(r):r})),t}return e}function tgn(e){return u4(e)}async function ngn(e){const{activeTool:t,client:n,comment:r,currentUser:i,dataset:o,documentId:a,documentRevisionId:s,documentType:l,getIntent:u,getNotificationValue:c,getThreadLength:d,onCreate:f,onCreateError:p,projectId:h,createAddonDataset:m,workspace:g}=e,y=r?.id||Ca(),v=i.id,b=(d?.(r.threadId)||0)+1;let x;if("task"===r.type&&(x={_id:y,_type:"comment",authorId:v,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:g},notification:r.context.notification,tool:t?.name||""},target:{document:{_ref:a,_type:"reference",_weak:!0},documentType:l}}),"field"===r.type){const{documentTitle:e="",url:n="",workspaceTitle:i=""}=c({commentId:y})||{},d={currentThreadLength:b,documentTitle:e,url:n,workspaceTitle:i},f=u?.({id:a,type:l,path:r.fieldPath}),p=tgn(r.contentSnapshot);x={_id:y,_type:"comment",authorId:v,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:g},intent:f,notification:d,tool:t?.name||""},contentSnapshot:p,target:{documentRevisionId:s||"",path:{field:r.fieldPath,selection:r.selection},document:{_dataset:o,_projectId:h,_ref:a,_type:"crossDatasetReference",_weak:!0},documentType:l}}}if(x){if(f?.(x),!n){try{const e=await m();if(!e)throw new Error("Failed to create addon dataset client");await e.create(x)}catch(e){throw p?.(x._id,e),e}return}try{await n.create(x)}catch(e){throw p?.(x._id,e),e}}}function rgn(e,t){return`${e}-${t}`}async function ign(e){var t;const{client:n,currentUser:r,id:i,reaction:o,getComment:a,onUpdate:s}=e,l=(null==(t=a?.(i))?void 0:t.reactions)||[],u=l.filter((e=>e.userId===r.id)),c=rgn(r.id,o.shortName),d=u.find((e=>e._key===c&&"removed"!==e._optimisticState));if(d){const e=l.map((e=>e._key===d._key?{...e,_optimisticState:"removed"}:e));return s?.(i,{reactions:e}),void await n.patch(i).unset([`reactions[_key=="${c}"]`]).commit()}if(!d){const e={_key:c,addedAt:(new Date).toISOString(),shortName:o.shortName,userId:r.id},t={...e,_optimisticState:"added"},a=l.concat(t).filter((t=>!(t._key===e._key&&"removed"===t._optimisticState)));s?.(i,{reactions:a}),await n.patch(i).setIfMissing({reactions:[]}).append("reactions",[e]).commit()}}async function agn(e){const{client:t,id:n,onRemove:r}=e;r?.(n),await Promise.all([t.delete({query:`*[_type == "comment" && parentCommentId == "${n}"]`}),t.delete(n)])}const ogn=1e3,sgn={trailing:!0,leading:!1},rE=new Map;function lgn(e){if(!rE.has(e)){const t=I1(IEe,ogn,sgn);return rE.set(e,t),t}return rE.get(e)}async function IEe(e){const{client:t,id:n,comment:r,transactionId:i,onUpdate:o}=e,a=i||Ca(),s=t?.patch(n).set(r),l=t.transaction().transactionId(a).patch(s);o?.(n,r),r.status?(await l.commit(),await t.patch({query:`*[_type == "comment" && parentCommentId == "${n}"]`}).set({status:r.status}).commit()):await l.commit(),rE.delete(n)}async function ugn(e){const{id:t,comment:n,throttled:r}=e,i="message"in n,o={...n,lastEditedAt:(new Date).toISOString()},a=i?o:n;r?await lgn(t)({...e,comment:a}):await IEe({...e,comment:a})}function cgn(e){const{client:t,currentUser:n,dataset:r,documentId:i,documentRevisionId:o,documentType:a,getComment:s,getThreadLength:l,onCreate:u,onCreateError:c,onRemove:d,onTransactionStart:p,onUpdate:h,projectId:m,createAddonDataset:g,workspace:y,getCommentLink:v}=e,b=ymn(),x=Cw(f.useCallback((e=>"string"==typeof e.tool?e.tool:void 0),[])),w=w5n(),C=f.useMemo((()=>w.find((e=>e.name===x))),[x,w]),{getNotificationValue:k}=bmn({documentId:i,documentType:a,getCommentLink:v}),j=f.useCallback((async e=>{null!=n&&n.id&&await ngn({activeTool:C,client:t,comment:e,currentUser:n,dataset:r,documentId:i,documentRevisionId:o,documentType:a,getIntent:b,getNotificationValue:k,getThreadLength:l,onCreate:u,onCreateError:c,projectId:m,createAddonDataset:g,workspace:y})}),[C,t,n,r,i,o,a,b,k,l,u,c,m,g,y]),S=f.useCallback((async e=>{t&&await agn({client:t,id:e,onRemove:d})}),[t,d]),E=f.useCallback((async(e,n,r)=>{if(!t)return;const{throttled:i}=r||{},o=Ca();p(e,o),await ugn({client:t,comment:n,throttled:i,id:e,onUpdate:h,transactionId:o})}),[t,p,h]),_=f.useCallback((async(e,r)=>{!t||null==n||!n.id||await ign({client:t,currentUser:n,id:e,reaction:r,getComment:s,onUpdate:h})}),[t,n,s,h]);return f.useMemo((()=>({operation:{create:j,react:_,remove:S,update:E}})),[j,S,E,_])}function ej(){const e=f.useContext(Oae);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function dgn(){const e=f.useContext(Dae);if(!e)throw new Error("useCommentsAuthoringPath: missing context value");return e}function uh(){return f.useContext(Mae)}function fgn(){const e=f.useContext(Pae);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}const tj={behavior:"smooth",inline:"center",scrollMode:"if-needed"},hgn={...tj,block:"start"},pgn={...tj,block:"center"},mgn={...tj,block:"center"},ggn={...tj,block:"center"},vgn={comment:ggn,field:mgn,group:hgn,"inline-comment":pgn};function Hw(e){return e.replace(/[[\]_"_=.]/g,"")}function yne(e){return{"data-comments-comment-id":Hw(e)}}function ygn(e){return{"data-comments-field-id":Hw(e)}}function bgn(e){return{"data-comments-group-id":Hw(e)}}function bne(e){return{"data-comments-inline-comment-id":Hw(e)}}function TB(e){const{boundaryElement:t}=e||{},[n,r]=f.useState(null),i=f.useMemo((()=>({...vgn[n?.type||"comment"],boundary:t})),[t,n?.type]),o=f.useCallback((e=>{r({type:"comment",id:e})}),[]),a=f.useCallback((e=>{r({type:"group",id:e})}),[]),s=f.useCallback((e=>{r({type:"field",id:e})}),[]),l=f.useCallback((e=>{r({type:"inline-comment",id:e})}),[]);return f.useEffect((()=>{const e=requestAnimationFrame((()=>{if(!n)return;const{type:e,id:t}=n,r=document?.querySelector(`[data-comments-${e}-id="${Hw(t)}"]`);r&&$p(r,i)}));return()=>{cancelAnimationFrame(e)}}),[i,n]),f.useMemo((()=>({scrollToComment:o,scrollToField:s,scrollToGroup:a,scrollToInlineComment:l})),[o,s,a,l])}function AB(){const e=f.useContext(Fae);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}const xgn=_i({name:"Comment Link Copied",version:1,description:"The link to a comment is copied"}),wgn=_i({name:"Comment Viewed From Link",version:1,description:"A comment is viewed from a link"}),Cgn=_i({name:"Comment List View Changed",version:1,description:"The view of the comment list is changed"});function Sgn(){const e=Ss(),t=f.useCallback((()=>{e.log(xgn)}),[e]),n=f.useCallback((()=>{e.log(wgn)}),[e]),r=f.useCallback((t=>{e.log(Cgn,{view:t})}),[e]);return f.useMemo((()=>({commentLinkCopied:t,commentListViewChanged:r,commentViewedFromLink:n})),[t,r,n])}function jB(){return f.useContext(Lae)||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function Egn(e,t){const{enabled:n,isLoading:r,error:i}=Zw("studioComments"),{enabled:o}=Sn().document.comments,a=f.useMemo((()=>o({documentType:t,documentId:sn(e)})),[e,t,o]);return f.useMemo((()=>r||!a||i?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"}),[r,a,i,n])}function _gn(e){return e.reduce(((e,t)=>({...e,[t._id]:t})),{})}function kgn(e,t){var n;switch(t.type){case"COMMENTS_SET":{const n=_gn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,i={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||(new Date).toISOString()}};return{...e,comments:{...e.comments,...i}}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach((e=>{r[e].parentCommentId===t.id&&delete r[e]})),{...e,comments:r}}case"COMMENT_UPDATED":{const r=t.payload,i=r._id,o=e.comments[i],a=egn((null==(n=o?.reactions)?void 0:n.filter((e=>e?._optimisticState)))||[],r.reactions||[]),s={...o,...r,reactions:a};return{...e,comments:{...e.comments,[i]:s}}}default:return e}}const Tgn={comments:{}},Agn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},jgn="_createdAt",Ign="desc",Dgn=['_type == "comment"',"target.document._ref == $documentId"],Ogn="{\n  _createdAt,\n  _id,\n  authorId,\n  contentSnapshot,\n  context,\n  lastEditedAt,\n  message,\n  parentCommentId,\n  reactions,\n  status,\n  target,\n  threadId\n}",Rgn=`order(${jgn} ${Ign})`,xne=`*[${Dgn.join(" && ")}] ${Ogn} | ${Rgn}`;function Mgn(e){const{client:t,documentId:n,onLatestTransactionIdReceived:r,transactionsIdMap:i}=e,[o,a]=f.useReducer(kgn,Tgn),[s,l]=f.useState(null!==t),[u,c]=f.useState(null),d=f.useRef(!1),p=f.useMemo((()=>({documentId:sn(n)})),[n]),h=f.useCallback((async()=>{if(t)try{const e=await t.fetch(xne,p);a({type:"COMMENTS_SET",comments:e}),l(!1)}catch(e){c(e)}else l(!1)}),[t,p]),m=f.useCallback((async e=>{var t;if("welcome"===e.type&&!d.current&&(l(!0),await h(),l(!1),d.current=!0),"reconnect"===e.type&&(l(!0),d.current=!1),"mutation"===e.type){if("appear"===e.transition){const t=e.result;t&&a({type:"COMMENT_RECEIVED",payload:t})}if("disappear"===e.transition&&a({type:"COMMENT_DELETED",id:e.documentId}),"update"===e.transition){const n=e.result,o=(null==(t=e.result)?void 0:t._id)||"",s=e.transactionId,l=i.get(o),u=s===l;if(!u&&l)return;n&&(a({type:"COMMENT_UPDATED",payload:n}),u&&r(o))}}}),[h,r,i]),g=f.useMemo((()=>t?t.observable.listen(xne,p,Agn).pipe(pn((e=>(c(e),we(e))))):we()),[t,p]);return f.useEffect((()=>{const e=g.subscribe(m);return()=>{e?.unsubscribe()}}),[m,g]),{data:f.useMemo((()=>Object.values(o.comments)),[o.comments]),dispatch:a,error:u,loading:s}}const c4=[],$gn={open:c4,resolved:c4},DEe=f.memo((function(e){const{children:t,documentId:n,documentType:r,isCommentsOpen:i,onCommentsOpen:o,sortOrder:a,type:s,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isConnecting:p,onPathOpen:h}=e,m=uh(),[g,y]=f.useState("open"),{client:v,createAddonDataset:b,isCreatingDataset:x}=dj(),w=sn(n),C=fj(w,r,"low"),k=Jt().get(r),j=Un(),{name:S,dataset:E,projectId:_}=jr(),A=f.useMemo((()=>C.draft||C.published),[C.draft,C.published]),T=f.useMemo((()=>A?._rev),[A]),D=f.useMemo((()=>new Map),[]),M=f.useCallback((e=>{D.delete(e)}),[D]),{dispatch:I,data:O=c4,error:N,loading:P}=Mgn({documentId:w,client:v,transactionsIdMap:D,onLatestTransactionIdReceived:M}),R=f.useCallback(((e,t)=>{D.set(e,t)}),[D]),F=f.useCallback((e=>"upsell"===m.mode&&"resolved"===e?null:y(e)),[y,m]),L=S5e(f.useMemo((()=>({documentValue:A,permission:"read"})),[A])),$=f.useMemo((()=>{if(!k||!j)return $gn;const e=Ymn({comments:F1(O,["_createdAt"],[a]),currentUser:j,documentValue:A,schemaType:k,type:s});return{open:e.filter((e=>"open"===e.parentComment.status)),resolved:e.filter((e=>"resolved"===e.parentComment.status))}}),[j,O,A,k,a,s]),B=f.useCallback((e=>$.open.filter((t=>t.threadId===e)).length),[$.open]),V=f.useCallback((e=>O?.find((t=>t._id===e))),[O]),z=f.useCallback((e=>{var t,n;const r="createError"===(null==(n=null==(t=O?.find((t=>t._id===e._id)))?void 0:t._state)?void 0:n.type);I({type:"COMMENT_ADDED",payload:{...e,_state:r?{type:"createRetrying"}:void 0}})}),[O,I]),U=f.useCallback(((e,t)=>{I({type:"COMMENT_UPDATED",payload:{_id:e,...t}})}),[I]),H=f.useCallback(((e,t)=>{I({type:"COMMENT_UPDATED",payload:{_id:e,_state:{error:t,type:"createError"}}})}),[I]),{operation:W}=cgn(f.useMemo((()=>({client:v,currentUser:j,dataset:E,documentId:w,documentRevisionId:T,documentType:r,getComment:V,getThreadLength:B,projectId:_,schemaType:k,workspace:S,createAddonDataset:b,onCreate:z,onCreateError:H,onUpdate:U,onTransactionStart:R,getCommentLink:l})),[v,j,E,w,T,r,V,B,_,k,S,b,z,H,U,R,l])),q=f.useMemo((()=>({documentId:n,documentType:r,isCreatingDataset:x,status:g,setStatus:F,getComment:V,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isCommentsOpen:i,onCommentsOpen:o,isConnecting:p,onPathOpen:h,comments:{data:$,error:N,loading:P||x||p||!1},operation:{create:W.create,react:W.react,remove:W.remove,update:W.update},mentionOptions:L})),[n,r,x,g,F,V,l,c,d,i,o,p,h,$,N,P,W.create,W.react,W.remove,W.update,L]);return u.jsx(Oae.Provider,{value:q,children:t})})),OEe=f.memo((function(e){const{children:t,documentId:n,documentType:r}=e,i=Egn(n,r);return u.jsx(Mae.Provider,{value:i,children:t})}));f.memo((function(e){const{children:t,getIntent:n}=e;return u.jsx($ae.Provider,{value:n,children:t})}));const Pgn=1,REe="sanityStudio:comments:inspector:onboarding:dismissed:v1",Fgn=e=>{try{window.localStorage.setItem(REe,JSON.stringify(e))}catch{}},Lgn=()=>{try{const e=window.localStorage.getItem(REe);return!!e&&JSON.parse(e)}catch{return!1}};function Ngn(e){const{children:t}=e,[n,r]=f.useState(Lgn()),i=f.useCallback((()=>{r(!0),Fgn(!0)}),[r]),o=f.useMemo((()=>({setDismissed:i,isDismissed:n})),[i,n]);return u.jsx(Pae.Provider,{value:o,children:t})}const Bgn=f.memo((function(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback((e=>{bt(n,e)||r(e)}),[n]),o=f.useMemo((()=>({selectedPath:n,setSelectedPath:i})),[n,i]);return u.jsx(Fae.Provider,{value:o,children:t})})),wne={inlineIcon:(e,t,n)=>{var r,i,o,a;if(!Mi(n))return n;const s=!("span"!==(null==(r=n.children[t-1])?void 0:r._type)||null==(i=n.children[t-1])||!i.text);return{...e,hasTextRight:!("span"!==(null==(o=n.children[t+1])?void 0:o._type)||null==(a=n.children[t+1])||!a.text),hasTextLeft:s}}},Vgn=e=>e.map((e=>{if(Mi(e)&&"block"===e._type){const t=e.children.map(((t,n)=>wne[t._type]?wne[t._type](t,n,e):t));return{...e,children:t}}return e})),zgn=$(N)`
  height: 1px;
  background: var(--card-border-color);
  width: 100%;
`,Ugn=$.div`
  // Remove margin top of first element
  > div:first-child {
    margin-top: 0;
  }
  // Remove margin bottom to last box.
  > [data-ui='Box']:last-child {
    margin-bottom: 0;
  }
`,Hgn=$(L)((e=>e.accent?"\n    --card-icon-color: var(--card-accent-fg-color);\n    ":"")),MEe=$.span`
  color: var(--card-accent-fg-color);
  --card-icon-color: var(--card-accent-fg-color);
`,Wgn=$.span((({theme:e})=>{const{weights:t}=e.sanity.fonts.text;return de`
    font-weight: ${t.semibold};
  `})),Ggn=$(YF)`
  &[data-sanity-icon] {
    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */
    margin-left: ${e=>e.$hasTextLeft?"0":""};
    margin-right: ${e=>e.$hasTextRight?"0":""};
  }
`,Ygn=$.a`
  font-weight: 600;
  color: ${e=>e.useTextColor?"var(--card-muted-fg-color) !important":""};
`,qgn=$.span`
  > svg {
    display: inline;
    font-size: calc(21 / 16 * 1rem) !important;
    margin: -0.375rem 0 !important;
    *[stroke] {
      stroke: currentColor;
    }
  }
`,Kgn=e=>u.jsx(MEe,{children:e}),Cne=e=>{const[t,n]=f.useState("");return f.useEffect((()=>{const t=new AbortController,r=t.signal;return fetch(e.icon.url,{signal:r}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.text()})).then((e=>n(e))).catch((e=>{"AbortError"!==e.name&&console.error(e)})),()=>{t.abort()}}),[e.icon.url]),u.jsx(qgn,{dangerouslySetInnerHTML:{__html:t}})};function H2(e){const{children:t}=e;return u.jsx(N,{paddingX:2,marginBottom:4,children:u.jsx(L,{size:1,muted:!0,children:t})})}function Zgn(e){const{children:t}=e;return u.jsx(N,{paddingX:2,marginY:4,children:u.jsx(Ci,{size:2,as:"h2",children:t})})}const Xgn={block:{normal:({children:e})=>u.jsx(H2,{children:e}),h2:({children:e})=>u.jsx(Zgn,{children:e})},list:{bullet:({children:e})=>e,number:({children:e})=>u.jsx(u.Fragment,{children:e}),checkmarks:({children:e})=>u.jsx(u.Fragment,{children:e})},listItem:{bullet:({children:e})=>u.jsx(H2,{children:e}),number:({children:e})=>u.jsx(H2,{children:e}),checkmarks:({children:e})=>u.jsx(H2,{children:e})},marks:{strong:({children:e})=>u.jsx("strong",{children:e}),semibold:({children:e})=>u.jsx(Wgn,{children:e}),link:e=>u.jsxs(Ygn,{href:e.value.href,rel:"noopener noreferrer",target:"_blank",useTextColor:e.value.useTextColor,children:[e.children,e.value.showIcon&&u.jsx(cs,{style:{marginLeft:"2px"}})]}),accent:e=>u.jsx(MEe,{children:e.children})},types:{inlineIcon:e=>u.jsx(w1,{condition:e.value.accent,wrapper:Kgn,children:e.value.sanityIcon?u.jsx(Ggn,{symbol:e.value.sanityIcon,$hasTextLeft:e.value.hasTextLeft,$hasTextRight:e.value.hasTextRight}):u.jsx(Cne,{icon:e.value.icon})}),divider:()=>u.jsx(N,{marginY:3,children:u.jsx(N,{paddingY:3,children:u.jsx(zgn,{})})}),iconAndText:e=>u.jsxs(U,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[u.jsxs(U,{gap:2,style:{flexShrink:0},children:[u.jsx(Hgn,{size:1,accent:e.value.accent,children:e.value.sanityIcon?u.jsx(YF,{symbol:e.value.sanityIcon}):u.jsx(Cne,{icon:e.value.icon})}),u.jsx(L,{size:1,weight:"semibold",accent:e.value.accent,children:e.value.title})]}),u.jsx(L,{size:1,muted:!0,accent:e.value.accent,children:e.value.text})]})}};function nj(e){const t=f.useMemo((()=>Vgn(e.blocks)),[e.blocks]);return u.jsx(ae,{tone:"default",children:u.jsx(Ugn,{children:u.jsx(Q0e,{value:t,components:Xgn,onMissingComponent:!1})})})}const Jgn=$(me)((({theme:e})=>{const{space:t}=Ae(e);return`\n      position: absolute;\n      top: ${t[3]}px;\n      right: ${t[3]}px;\n      z-index: 20;\n      background: transparent;\n      border-radius: 9999px;\n      box-shadow: none;\n      color: ${Lc.hex};\n      --card-fg-color: ${Lc.hex};\n      :hover {\n        --card-fg-color: ${Lc.hex};\n      }\n    `})),Qgn=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 200px;
`;function IB(e){var t,n,r;const{data:i,onClose:o,onPrimaryClick:a,onSecondaryClick:s}=e;return u.jsxs(Si,{id:"upsell-dialog",onClose:o,onClickOutside:o,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,footer:{cancelButton:null!=(t=i.secondaryButton)&&t.text?{text:i.secondaryButton.text,mode:"bleed",tone:"default",iconRight:Nu,...i.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:i.secondaryButton.url},onClick:s}:void 0,confirmButton:{text:null==(n=i.ctaButton)?void 0:n.text,mode:"default",tone:"primary",...i.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:i.ctaButton.url},onClick:a}},children:[u.jsx(Jgn,{icon:Ar,mode:"bleed",tone:"default",onClick:o,tabIndex:-1,tooltipProps:null}),i.image&&u.jsx(Qgn,{src:i.image.asset.url,alt:null!=(r=i.image.asset.altText)?r:""}),u.jsx(N,{padding:3,marginTop:2,children:u.jsx(ne,{space:4,paddingBottom:2,children:u.jsx(nj,{blocks:i.descriptionText})})})]})}const zd="comments",Sne={interpolate:/{{([\s\S]+?)}}/g},Ene="www.sanity.io";function e0n(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),o=Yw(),a=Ss(),s=Zt(zt),l=f.useMemo((()=>({dialogSecondaryClicked:()=>a.log(Z0,{feature:zd,type:"modal"}),dialogPrimaryClicked:()=>a.log(K0,{feature:zd,type:"modal"}),panelViewed:e=>a.log(Y0,{feature:zd,type:"inspector",source:e}),panelDismissed:()=>a.log(q0,{feature:zd,type:"inspector"}),panelPrimaryClicked:()=>a.log(K0,{feature:zd,type:"inspector"}),panelSecondaryClicked:()=>a.log(Z0,{feature:zd,type:"inspector"})})),[a]),c=f.useCallback((()=>{l.dialogPrimaryClicked()}),[l]),d=f.useCallback((()=>{l.dialogSecondaryClicked()}),[l]),p=f.useCallback((()=>{n(!1),a.log(q0,{feature:zd,type:"modal"})}),[a]);f.useEffect((()=>{const e=s.observable.request({uri:"/journey/comments"}).subscribe({next:e=>{if(e)try{const t=B0(e.ctaButton.url,Sne);e.ctaButton.url=t({baseUrl:Ene,projectId:o});const n=B0(e.secondaryButton.url,Sne);e.secondaryButton.url=n({baseUrl:Ene,projectId:o}),i(e)}catch{}},error:()=>{}});return()=>{e.unsubscribe()}}),[s,o]);const h=f.useCallback((e=>{n(!0),a.log(Y0,{feature:zd,type:"modal",source:e})}),[a]),m=f.useMemo((()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l})),[h,t,r,l]);return u.jsxs(Lae.Provider,{value:m,children:[e.children,r&&t&&u.jsx(IB,{data:r,onClose:p,onPrimaryClick:c,onSecondaryClick:d})]})}function t0n(e){const{documentId:t,documentType:n}=e;return null!==uh().mode?u.jsx(_ne,{...e}):u.jsx(OEe,{documentId:t,documentType:n,children:u.jsx(_ne,{...e})})}function _ne(e){return uh().enabled?u.jsx(Bgn,{children:u.jsx(vmn,{children:e.renderDefault(e)})}):e.renderDefault(e)}const $y="sanity/comments",Ac="yellow",d4=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],p5={":-1:":"",":+1:":"",":eyes:":"",":heart:":"",":heavy_plus_sign:":"",":rocket:":""},n0n=$(ne)`
  width: 320px;
`;function r0n(e){const{count:t,currentUser:n,fieldTitle:r,isCreatingDataset:i,mentionOptions:o,onChange:a,onClick:s,onClose:l,onCommentAdd:c,onDiscard:d,onInputKeyDown:p,open:h,value:m}=e,{t:g}=Z(Gr),[y,v]=f.useState(null),[b,x]=f.useState(null),w=f.useRef(null),C=t>0,k=f.useCallback((()=>{h&&(l(),b?.focus())}),[b,h,l]),j=f.useCallback((()=>{c(),k()}),[k,c]),S=f.useMemo((()=>Mm(m)),[m]),E=f.useCallback((()=>{var e;S?null==(e=w.current)||e.discardDialogController.open():k()}),[k,S]),_=f.useCallback((e=>{e.isDefaultPrevented()||p&&p(e)}),[p]),A=f.useCallback((()=>{var e;null==(e=w.current)||e.discardDialogController.close()}),[]),T=f.useCallback((()=>{var e;null==(e=w.current)||e.discardDialogController.close(),k(),d()}),[k,d]),D=f.useCallback((e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),E())}),[E]);return Fn(f.useCallback((()=>{h&&E()}),[h,E]),[y]),C?u.jsx(pt,{portal:!0,placement:"top",content:g("field-button.content",{count:t}),children:u.jsx(wt,{"aria-label":g("field-button.aria-label-open"),mode:"bleed",onClick:s,padding:2,space:2,children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(L,{size:1,children:u.jsx(ek,{})}),u.jsx(L,{size:0,children:t>9?"9+":t})]})})}):u.jsx(An,{constrainSize:!0,content:u.jsx(n0n,{padding:2,space:4,children:u.jsx(Lm,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:o,onChange:a,onDiscardCancel:A,onDiscardConfirm:T,onKeyDown:_,onSubmit:j,placeholder:u.jsx(dt,{t:g,i18nKey:"compose.add-comment-input-placeholder",values:{field:r}}),readOnly:i,ref:w,value:m})}),fallbackPlacements:["bottom-end"],open:h,placement:"right-start",portal:!0,ref:v,onKeyDown:D,children:u.jsx("div",{children:u.jsx(me,{"aria-label":g("field-button.aria-label-add"),disabled:i,icon:X5,mode:"bleed",onClick:s,ref:x,selected:h,tooltipProps:{content:g("field-button.title"),placement:"top"}})})})}const tO=new Map,i0n=[],a0n={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function o0n(e){const{enabled:t,mode:n}=uh();return t?u.jsx(u0n,{...e,mode:n}):e.renderDefault(e)}const s0n=$(di.div)((({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=et[Ac][r.dark?900:50].hex;return de`
    mix-blend-mode: ${r.dark?"screen":"multiply"};
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    left: -${n[2]}px;
    bottom: -${n[2]}px;
    right: -${n[2]}px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + ${2*n[2]}px);
    height: calc(100% + ${2*n[2]}px);
    background-color: ${i};
  `})),l0n=$(ne)`
  position: relative;
`;function u0n(e){const{mode:t}=e,n=Un(),{element:r}=sm(),i=f.useRef(null),{comments:o,isCommentsOpen:a,isCreatingDataset:s,mentionOptions:l,onCommentsOpen:c,operation:d,setStatus:p,status:h}=ej(),{upsellData:m,handleOpenDialog:g}=jB(),{selectedPath:y,setSelectedPath:v}=AB(),{authoringPath:b,setAuthoringPath:x}=dgn(),{scrollToGroup:w}=TB({boundaryElement:r}),C=f.useMemo((()=>$l(e.schemaType)),[e.schemaType]),k=f.useMemo((()=>_n(e.path)),[e.path]),j=tO.get(k)||null,[S,E]=f.useState(j),_=f.useMemo((()=>b===k),[b,k]),A=f.useMemo((()=>!(!a||"form"===y?.origin||"url"===y?.origin)&&y?.fieldPath===k),[a,y?.fieldPath,y?.origin,k]),T=f.useMemo((()=>o.data.open.filter((e=>e.threadId===y?.threadId)).some((e=>uv(e.parentComment)))),[o.data.open,y?.threadId]),D=f.useMemo((()=>o.data.open.map((e=>e.fieldPath===k?e.commentsCount:0)).reduce(((e,t)=>e+t),0)||0),[o.data.open,k]),M=D>0,I=f.useCallback((()=>{E(null),tO.delete(k)}),[k]),O=f.useCallback((()=>{var n;if(M){"resolved"===h&&p("open"),x(null),c?.();const t=null==(n=o.data.open.find((t=>t.fieldPath===_n(e.path))))?void 0:n.threadId;t&&(v({threadId:t,origin:"form",fieldPath:_n(e.path)}),w(t))}else"upsell"!==t?x(_?null:k):m?g("field_action"):c?.()}),[o.data.open,g,M,_,t,c,e.path,w,x,v,p,h,k,m]),N=f.useCallback((()=>{if(S){const t=Ca(),n={type:"field",fieldPath:_n(e.path),message:S,parentCommentId:void 0,status:"open",threadId:t,reactions:i0n};d.create(n),c?.(),"resolved"===h&&p("open"),I(),v({threadId:t,origin:"form",fieldPath:_n(e.path)}),w(t)}}),[c,d,e.path,I,w,v,p,h,S]),P=f.useCallback((()=>x(null)),[x]),R=f.useCallback((e=>{E(e),tO.set(k,e)}),[k]),F=f.useMemo((()=>({button:n&&u.jsx(r0n,{count:Number(D),currentUser:n,fieldTitle:C,isCreatingDataset:s,mentionOptions:l,onChange:R,onClick:O,onClose:P,onCommentAdd:N,onDiscard:I,open:_,value:S}),hasComments:M,isAddingComment:_})),[n,D,C,s,l,R,O,P,N,I,_,S,M]);return u.jsxs(l0n,{...ygn(_n(e.path)),ref:i,children:[e.renderDefault({...e,__internal_comments:F}),u.jsx(xs,{children:A&&!T&&u.jsx(s0n,{animate:"animate",exit:"exit",initial:"initial",variants:a0n})})]})}function c0n(e){if(!e||!e.length)return null;const t=e.map((e=>e.getBoundingClientRect())),n=Math.min(...t.map((e=>e.x)))||0,r=Math.min(...t.map((e=>e.y)))||0,i=Math.max(...t.map((e=>e.right)))||0,o=Math.max(...t.map((e=>e.bottom)))||0;return{x:n,y:r,width:i-n,height:o-r,top:r,right:i,bottom:o,left:n}}function d0n(e){const{scrollElement:t,disabled:n,selector:r}=e,[i,o]=f.useState(null),a=f.useCallback((()=>{if(n)return;const e=document?.querySelectorAll(r);if(!e)return;const t=c0n(Array.from(e));o(t)}),[n,r]);return f.useEffect(a,[a]),f.useEffect((()=>{if(!n&&t)return t.addEventListener("wheel",a),()=>{t.removeEventListener("wheel",a)}}),[a,n,t]),i}function f0n(e){const{scrollElement:t,disabled:n,selector:r}=e,i=d0n({scrollElement:t,disabled:n,selector:r});return f.useMemo((()=>i?{getBoundingClientRect:()=>i}:null),[i])}function h0n(){const e=window.getSelection();let t=null;return e&&e.rangeCount>0&&(t=e.getRangeAt(0)),t?.getBoundingClientRect()||null}const p0n=$(di(An))`
  user-select: none;
`,m0n=["bottom","top"],g0n={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function v0n(e){const{disabled:t,onClick:n,onClickOutside:r,referenceElement:i}=e,[o,a]=f.useState(null),{t:s}=Z(Gr);Fn(r,[o]);const l=s("inline-add-comment-button.disabled-overlap-title"),c=s("inline-add-comment-button.title");return u.jsx(p0n,{animate:"visible",content:u.jsx(me,{"data-testid":"inline-comment-button",disabled:t,icon:t?$kn:X5,mode:"bleed",onClick:n,ref:a,text:t?l:c}),contentEditable:!1,fallbackPlacements:m0n,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:i,variants:g0n})}const y0n=["bottom","top"],b0n=di(An),x0n=$(ne)`
  width: 250px;
`,w0n={hidden:{opacity:0},visible:{opacity:1}};function C0n(e){const{currentUser:t,mentionOptions:n,onChange:r,onClickOutside:i,onDiscardConfirm:o,onSubmit:a,referenceElement:s,value:l}=e,c=f.useRef(null),[d,p]=f.useState(null),h=f.useCallback((()=>{var e;null==(e=c.current)||e.discardDialogController.close(),o()}),[o]),m=f.useCallback((()=>{var e;null==(e=c.current)||e.discardDialogController.close()}),[]);return Fn(f.useCallback((()=>{var e;Mm(l)?null==(e=c.current)||e.discardDialogController.open():i()}),[i,l]),[d]),u.jsx(b0n,{animate:"visible",content:u.jsx(x0n,{padding:2,ref:p,children:u.jsx(Lm,{currentUser:t,focusLock:!0,focusOnMount:!0,mentionOptions:n,onChange:r,onDiscardCancel:m,onDiscardConfirm:h,onSubmit:a,ref:c,value:l})}),"data-ui":"InlineCommentInputPopover",fallbackPlacements:y0n,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:s,variants:w0n})}const Ds=[],S0n="sanity.assist.instruction.prompt";function E0n(e){const{enabled:t,mode:n}=uh(),r=e.schemaType.name===S0n;return!t||r?e.renderDefault(e):u.jsx(_0n,{...e,mode:n})}const _0n=f.memo((function(e){var t,n;const{mode:r}=e,i=Un(),o=Sd(),{comments:a,getComment:s,mentionOptions:l,onCommentsOpen:c,operation:d,setStatus:p,status:h}=ej(),{setSelectedPath:m,selectedPath:g}=AB(),{scrollToComment:y,scrollToGroup:v}=TB(),{handleOpenDialog:b}=jB(),x=f.useRef(null),w=f.useRef(!1),[C,k]=f.useState(null),[j,S]=f.useState(null),[E,_]=f.useState(null),[A,T]=f.useState(null),[D,M]=f.useState(null),[I,O]=f.useState(null),[N,P]=f.useState(!1),[R,F]=f.useState(null),[L,$]=f.useState(!1),[B,V]=f.useState(Ds),z=f.useMemo((()=>_n(e.path)),[e.path]),U=f.useCallback((()=>{const e=h0n();M(e)}),[]),H=f.useCallback((()=>{T(null),M(null),_(null),S(null),P(!1),k(null)}),[]),W=f.useCallback((()=>{"upsell"!==r?_(A):b("pte")}),[A,b,r]),q=f.useCallback((()=>{H()}),[H]),G=f.useMemo((()=>a.data.open.filter((e=>e.fieldPath===z)).filter((e=>uv(e.parentComment))).map((e=>e.parentComment))),[a.data.open,z]),Y=f.useCallback((()=>x.current?Ie.getFragment(x.current):Ds),[]),K=f.useCallback((()=>{if(!E||!x.current)return;const e=Y()||Ds,t=Ie.getValue(x.current);if(!t)return;const n=Qmn({fragment:e,selection:E,value:t}),r=Ca();d.create({type:"field",contentSnapshot:e,fieldPath:z,message:j,parentCommentId:void 0,reactions:Ds,selection:n,status:"open",threadId:r}),c?.(),"resolved"===h&&p("open"),m({fieldPath:z,threadId:r,origin:"form"}),v(r),H()}),[E,Y,d,z,j,c,h,m,v,H,p]),Z=f.useCallback((e=>{var t;const n=s(e);n&&(m({fieldPath:(null==(t=n.target.path)?void 0:t.field)||"",threadId:n.threadId,origin:"form"}),c?.(),y(n._id))}),[s,c,y,m]),X=f.useCallback((e=>{const t=e?.anchor.offset!==e?.focus.offset,n=Y();null!=n&&n.every(Mi)&&t?(w.current||U(),T(e),P(!0)):P(!1)}),[Y,U]),J=f.useMemo((()=>nm(X,200)),[X]),Q=f.useCallback((()=>{w.current=!0}),[]),ee=f.useCallback((()=>{w.current=!1,U()}),[U]),te=f.useCallback((e=>{var t;const{rangeDecoration:n,newSelection:r}=e,i=null==(t=n.payload)?void 0:t.commentId;V((e=>e.map((e=>{var t;return(null==(t=e.payload)?void 0:t.commentId)===i?{...n,selection:r,payload:{...n.payload,dirty:!0}}:e}))))}),[]),re=f.useCallback((()=>{const e=B.filter((e=>{var t;return null==(t=e.payload)?void 0:t.dirty}));0!==e.length&&(e.forEach((e=>{var t,n,r,i,o;const a=null==(t=e.payload)?void 0:t.commentId,l=s(a||"");if(!l||!x.current)return;const u=Ie.getValue(x.current)||Ds,[c]=jEe({comments:[l],value:u}),f=null!=c&&c.range?[c.range]:Ds,p=c?[...(null==(r=null==(n=l.target.path)?void 0:n.selection)?void 0:r.value.filter((e=>{var t;return e._key!==(null==(t=f[0])?void 0:t._key)})).concat(f).flat())||Ds]:Ds,h={target:{...l.target,path:{...(null==(i=l.target)?void 0:i.path)||{},field:(null==(o=l.target.path)?void 0:o.field)||"",selection:{type:"text",value:p}}}};d.update(l._id,h)})),V((t=>t.map((t=>{var n,r;return null!=(r=null==(n=e.find((e=>{var n,r;return(null==(n=e.payload)?void 0:n.commentId)===(null==(r=t.payload)?void 0:r.commentId)})))?void 0:n.payload)&&r.dirty?{...t,payload:{...t.payload,dirty:!1}}:t})).filter((e=>null!==e.selection)))))}),[B,s,d]),ie=f.useCallback((e=>{if(!x.current)return Ds;const t=Ie.getValue(x.current)||Ds;return Jmn({comments:e,currentHoveredCommentId:I,onDecorationClick:Z,onDecorationHoverEnd:O,onDecorationHoverStart:O,onDecorationMoved:te,selectedThreadId:g?.threadId||null,value:t})}),[I,Z,te,g?.threadId]),oe=f.useCallback((e=>{"mutation"===e.type&&re(),"selection"===e.type&&J(e.selection)}),[J,re]),ae=f.useMemo((()=>E?{component:({children:e})=>u.jsx(M5e,{isAuthoring:!0,ref:k,children:e}),selection:E}:null),[E]),se=f.useMemo((()=>[...e?.rangeDecorations||Ds,...ae?[ae]:Ds,...B]),[B,ae,e?.rangeDecorations]),le=f.useMemo((()=>!(!A||0===B.length)&&B.some((e=>{if(!x.current)return!1;const t=Ie.isSelectionsOverlapping(x.current,A,e.selection),n=Ie.isSelectionsOverlapping(x.current,e.selection,A);return t||n}))),[B,A]),ue=L?document.body:(null==(t=o.elements)?void 0:t.documentScrollElement)||document.body,ce=L?(null==(n=o.elements)?void 0:n.documentScrollElement)||document.body:R,de=f0n({scrollElement:ue,disabled:!E||!C,selector:'[data-inline-comment-state="authoring"]'}),fe=f.useMemo((()=>D?{getBoundingClientRect:()=>D}:null),[D]);f.useEffect((()=>{if(A)return ue?.addEventListener("wheel",U),()=>{ue?.removeEventListener("wheel",U)}}),[A,ue,U]),f.useEffect((()=>{const e=ie(G);V((t=>e.map((e=>{var n;const r=t.find((t=>{var n,r;return(null==(n=t.payload)?void 0:n.commentId)===(null==(r=e.payload)?void 0:r.commentId)}));return null!=(n=r?.payload)&&n.dirty?{...e,payload:{...e.payload,dirty:r.payload.dirty}}:e}))))}),[ie,G]);const pe=!(!(A&&N&&fe)||w.current),he=!(!E||!de);return u.jsxs(u.Fragment,{children:[u.jsx(Jc,{element:ce,children:u.jsxs(xs,{children:[he&&i&&u.jsx(C0n,{currentUser:i,mentionOptions:l,onChange:S,onClickOutside:H,onDiscardConfirm:q,onSubmit:K,referenceElement:de,value:j}),pe&&!he&&u.jsx(v0n,{disabled:le,onClick:W,onClickOutside:H,referenceElement:fe})]})}),u.jsx(ne,{ref:F,onMouseDown:Q,onMouseUp:ee,children:e.renderDefault({...e,onEditorChange:oe,editorRef:x,rangeDecorations:se,onFullScreenChange:$})})]})}));function k0n(e){return iS(e.schemaType)}function T0n(e){return k0n(e)?u.jsx(E0n,{...e}):e.renderDefault(e)}const A0n="https://snty.link/comments-beta-feedback",j0n=$.span`
  margin-right: 0.2em;
`,I0n=$.a`
  white-space: nowrap;
`,D0n=$(ae)({position:"relative",zIndex:1});function O0n(){const{t:e}=Z(Gr);return u.jsx(D0n,{padding:4,children:u.jsxs(L,{muted:!0,size:1,children:[e("feature-feedback.title")," ",u.jsxs(I0n,{href:A0n,target:"_blank",rel:"noreferrer",children:[u.jsxs(j0n,{children:[e("feature-feedback.link")," "]})," ",u.jsx(Nu,{})]})]})})}const R0n=$(ae)({position:"relative",zIndex:1,lineHeight:0}),M0n=f.forwardRef((function(e,t){const{t:n}=Z(Gr),{onClose:r,onViewChange:i,view:o,mode:a}=e,s=f.useCallback((()=>i("open")),[i]),l=f.useCallback((()=>i("resolved")),[i]);return u.jsx(R0n,{ref:t,children:u.jsxs(U,{padding:2,children:[u.jsx(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:u.jsx(L,{as:"h1",size:1,weight:"medium",children:n("feature-name")})}),u.jsxs(U,{flex:"none",padding:1,gap:2,children:[u.jsx(Gt,{id:"comment-status-menu-button",button:u.jsx(me,{text:n("open"===o?"status-filter.status-open":"status-filter.status-resolved"),mode:"bleed",iconRight:ci}),menu:u.jsxs(At,{style:{width:"180px"},children:[u.jsx(qe,{iconRight:"open"===o?na:void 0,onClick:s,text:n("status-filter.status-open-full")}),u.jsx(qe,{iconRight:"resolved"===o?na:void 0,onClick:l,text:n("status-filter.status-resolved-full"),tooltipProps:"upsell"===a?{content:n("status-filter.status-resolved-full-upsell")}:void 0,disabled:"upsell"===a})]}),popover:{placement:"bottom-end"}}),u.jsx(me,{"aria-label":n("close-pane-button-text-aria-label"),icon:Ar,mode:"bleed",onClick:r,tooltipProps:{content:n("close-pane-button-text")}})]})]})})})),$0n=$(go)`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`;function P0n(e){const{enabled:t,mode:n}=uh();return t?u.jsx($0n,{children:u.jsx(F0n,{...e,mode:n})}):null}function F0n(e){const{t:t}=Z(Gr),{onClose:n,mode:r}=e,[i,o]=f.useState(!1),[a,s]=f.useState(null),[l,c]=f.useState(!1),[d,p]=f.useState(null),h=f.useRef(null),m=Un(),{comments:g,getComment:y,isCreatingDataset:v,mentionOptions:b,setStatus:x,status:w,operation:C,selectedCommentId:k,getCommentLink:j,onClearSelectedComment:S,onPathOpen:E}=ej(),_=f.useRef(k),A=f.useRef(!1),T=Ur().push,{isTopLayer:D}=Ho(),{scrollToComment:M,scrollToField:I,scrollToInlineComment:O}=TB(),{selectedPath:N,setSelectedPath:P}=AB(),{isDismissed:R,setDismissed:F}=fgn(),L=Sgn(),{upsellData:$,telemetryLogs:B}=jB(),V=f.useMemo((()=>g.data[w]),[g,w]),{loading:z}=g,H=f.useCallback((e=>{x(e),P(null),L.commentListViewChanged(e)}),[P,x,L]),W=f.useCallback((()=>{n(),P(null)}),[n,P]),q=f.useMemo((()=>j?e=>{navigator.clipboard.writeText(j(e)).then((()=>{T({closable:!0,status:"info",title:t("copy-link-success-message")})})).catch((()=>{T({closable:!0,status:"error",title:t("copy-link-error-message")})})),L.commentLinkCopied()}:void 0),[j,T,t,L]),G=f.useCallback((e=>{var t;const n=y(e);n&&C.create({type:"field",fieldPath:(null==(t=n.target.path)?void 0:t.field)||"",id:n._id,message:n.message,parentCommentId:n.parentCommentId,reactions:n.reactions||[],status:n.status,threadId:n.threadId})}),[y,C]),Y=f.useCallback((()=>{l||(o(!1),s(null))}),[l]),K=f.useCallback((e=>{if(P(e),null!=e&&e.fieldPath){const t=Qs(e.fieldPath);E?.(t),I(e.fieldPath),g.data.open.filter((t=>t.threadId===e?.threadId)).some((e=>uv(e.parentComment)))&&e.threadId&&O(e.threadId)}}),[g.data.open,E,I,O,P]),X=f.useCallback((e=>{var t;const n=(null==(t=e?.payload)?void 0:t.fieldPath)||"";C.create({type:"field",fieldPath:n,message:e.message,parentCommentId:e.parentCommentId,reactions:e.reactions,status:e.status,threadId:e.threadId}),P({fieldPath:n,origin:"inspector",threadId:e.threadId})}),[C,P]),J=f.useCallback((e=>{var t;C.create({...e,type:"field",fieldPath:(null==(t=e?.payload)?void 0:t.fieldPath)||""})}),[C]),Q=f.useCallback(((e,t)=>{C.update(e,t)}),[C]),ee=f.useCallback((e=>{var t;const n=V.find((t=>{var n;return(null==(n=t.parentComment)?void 0:n._id)===e})),r=!!(n&&(null==(t=n?.replies)?void 0:t.length)>0);o(!0),s({commentId:e,isParent:r})}),[V]),te=f.useCallback((async e=>{try{c(!0),await C.remove(e),Y()}catch(e){p(e)}finally{c(!1)}}),[Y,C]),ne=f.useCallback(((e,t)=>{var n;if(C.update(e,{status:t}),"open"===t){x("open");const t=y(e);if(!t)return;P({fieldPath:(null==(n=t.target.path)?void 0:n.field)||null,origin:"inspector",threadId:t.threadId||null}),M(e)}}),[y,C,M,P,x]),re=f.useCallback(((e,t)=>{C.react(e,t)}),[C]),ie=f.useCallback((()=>{N&&D&&P(null)}),[D,N,P]);Fn(f.useCallback((e=>{var t;e.target instanceof HTMLElement&&null!=(t=e.target)&&t.hasAttribute("data-slate-string")||ie()}),[ie]),[h.current]);const[oe,ae]=f.useState(!1);f.useEffect((()=>{if(!oe&&"upsell"===r)return ae(!0),"form"===N?.origin?B.panelViewed("field_action"):_.current?B.panelViewed("link"):B.panelViewed("document_action"),()=>{B.panelDismissed()}}),[oe,r,N?.origin,B]),f.useEffect((()=>{var e;const t=y(_.current||"");!z&&t&&!1===A.current&&(x(t.status||"open"),P({fieldPath:(null==(e=t.target.path)?void 0:e.field)||null,origin:"url",threadId:t.threadId||null}),M(t._id),A.current=!0,_.current=void 0,S?.(),L.commentViewedFromLink())}),[y,z,S,M,P,x,L]);const se=f.useMemo((()=>"upsell"===r&&$?u.jsx(vAn,{data:$,onPrimaryClick:B.panelPrimaryClicked,onSecondaryClick:B.panelSecondaryClicked}):null),[r,B.panelPrimaryClicked,B.panelSecondaryClicked,$]);return u.jsxs(f.Fragment,{children:[a&&i&&u.jsx(I5e,{...a,error:d,loading:l,onClose:Y,onConfirm:te}),u.jsxs(U,{direction:"column",flex:1,height:"fill",onClick:ie,overflow:"hidden",ref:h,children:[u.jsx(gAn,{onDismiss:F,open:!R,placement:"left-start",children:u.jsx(M0n,{onClose:W,onViewChange:H,view:w,mode:r})}),m&&u.jsx(fAn,{beforeListNode:se,comments:V,currentUser:m,error:g.error,loading:z,mentionOptions:b,mode:r,onCopyLink:q,onCreateRetry:G,onDelete:ee,onEdit:Q,onNewThreadCreate:X,onPathSelect:K,onReactionSelect:re,onReply:J,onStatusChange:ne,readOnly:v,selectedPath:N,status:w}),"default"===r&&u.jsx(O0n,{})]})]})}function L0n(){const{t:e}=Z(Gr),{enabled:t}=uh();return{hidden:!t,icon:ek,showAsAction:!0,title:e("feature-name")}}const N0n={name:$y,component:P0n,useMenuItem:L0n};function B0n(e){const{enabled:t,isLoading:n}=Zw("studioComments");return u.jsx(k_e,{children:u.jsx(Ngn,{children:u.jsx(w1,{condition:!t&&!n,wrapper:e=>u.jsx(e0n,{children:e}),children:e.renderDefault(e)})})})}const V0n=K1({name:"sanity/comments",document:{inspectors:[N0n],components:{unstable_layout:t0n}},form:{components:{field:o0n,input:T0n}},studio:{components:{layout:B0n}},i18n:{bundles:[gmn]}}),$Ee="scheduled-publishing::time-zone",m5={publish:{actionName:"Publishing",badgeColor:"primary",badgeTone:"positive"},unpublish:{actionName:"Unpublishing",badgeColor:"danger",badgeTone:"critical"}},fx={scheduled:{title:"Upcoming"},succeeded:{title:"Completed"},cancelled:{title:"Failed"}},hx=Object.keys(fx).filter((e=>!!e)),PEe=55,z0n="This document has validation warnings.",DB="This document has validation errors that should be resolved before its publish date.",U0n="This schedule failed to run.",H0n="Forbidden. Please check that your project has access to Scheduled Publishing.",s0={SMALL:"d MMM yy',' p",MEDIUM:"d MMMM yyyy',' p",LARGE:"iiii',' d MMMM yyyy',' p"},W0n={enabled:!0,inputDateTimeFormat:"dd/MM/yyyy HH:mm"},G0n="schedules",Y0n="Schedules",FEe=e=>{const{description:t,title:n}=e;return u.jsx(ae,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"critical",children:u.jsxs(U,{align:"center",gap:4,children:[u.jsx(L,{size:2,children:u.jsx(ra,{})}),u.jsxs(xn,{space:2,children:[u.jsx(L,{size:1,weight:"semibold",children:n}),t&&u.jsx(L,{size:1,children:t})]})]})})};var q0n=[{name:"Pacific/Niue",alternativeName:"Niue Time",group:["Pacific/Niue"],continentCode:"OC",continentName:"Oceania",countryName:"Niue",countryCode:"NU",mainCities:["Alofi"],rawOffsetInMinutes:-660,abbreviation:"NUT",rawFormat:"-11:00 Niue Time - Alofi"},{name:"Pacific/Midway",alternativeName:"Samoa Time",group:["Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Midway"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Midway"},{name:"Pacific/Pago_Pago",alternativeName:"Samoa Time",group:["Pacific/Pago_Pago","US/Samoa","Pacific/Samoa","Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"American Samoa",countryCode:"AS",mainCities:["Pago Pago"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Pago Pago"},{name:"Pacific/Rarotonga",alternativeName:"Cook Islands Time",group:["Pacific/Rarotonga"],continentCode:"OC",continentName:"Oceania",countryName:"Cook Islands",countryCode:"CK",mainCities:["Avarua"],rawOffsetInMinutes:-600,abbreviation:"CKT",rawFormat:"-10:00 Cook Islands Time - Avarua"},{name:"America/Adak",alternativeName:"Hawaii-Aleutian Time",group:["America/Adak","US/Aleutian","America/Atka"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Adak"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Adak"},{name:"Pacific/Honolulu",alternativeName:"Hawaii-Aleutian Time",group:["Pacific/Honolulu","US/Hawaii","Pacific/Johnston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Honolulu","East Honolulu","Pearl City","Hilo"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Honolulu, East Honolulu, Pearl City, Hilo"},{name:"Pacific/Tahiti",alternativeName:"Tahiti Time",group:["Pacific/Tahiti"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Faaa","Papeete","Punaauia"],rawOffsetInMinutes:-600,abbreviation:"TAHT",rawFormat:"-10:00 Tahiti Time - Faaa, Papeete, Punaauia"},{name:"Pacific/Marquesas",alternativeName:"Marquesas Time",group:["Pacific/Marquesas"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Marquesas"],rawOffsetInMinutes:-570,abbreviation:"MART",rawFormat:"-09:30 Marquesas Time - Marquesas"},{name:"America/Anchorage",alternativeName:"Alaska Time",group:["America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","US/Alaska"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Anchorage","Juneau","Fairbanks","Eagle River"],rawOffsetInMinutes:-540,abbreviation:"AKST",rawFormat:"-09:00 Alaska Time - Anchorage, Juneau, Fairbanks, Eagle River"},{name:"Pacific/Gambier",alternativeName:"Gambier Time",group:["Pacific/Gambier"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Gambier"],rawOffsetInMinutes:-540,abbreviation:"GAMT",rawFormat:"-09:00 Gambier Time - Gambier"},{name:"America/Los_Angeles",alternativeName:"Pacific Time",group:["America/Los_Angeles","US/Pacific"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Los Angeles","San Diego","San Jose","San Francisco"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Los Angeles, San Diego, San Jose, San Francisco"},{name:"America/Tijuana",alternativeName:"Pacific Time",group:["America/Tijuana","Mexico/BajaNorte","America/Ensenada","America/Santa_Isabel"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Tijuana","Mexicali","Ensenada","Rosarito"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Tijuana, Mexicali, Ensenada, Rosarito"},{name:"America/Vancouver",alternativeName:"Pacific Time",group:["America/Vancouver","Canada/Pacific"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Vancouver","Surrey","Okanagan","Victoria"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Vancouver, Surrey, Okanagan, Victoria"},{name:"Pacific/Pitcairn",alternativeName:"Pitcairn Time",group:["Pacific/Pitcairn"],continentCode:"OC",continentName:"Oceania",countryName:"Pitcairn",countryCode:"PN",mainCities:["Adamstown"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pitcairn Time - Adamstown"},{name:"America/Hermosillo",alternativeName:"Mexican Pacific Time",group:["America/Hermosillo","America/Mazatlan","Mexico/BajaSur"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Hermosillo","Culiacn","Ciudad Obregn","Mazatln"],rawOffsetInMinutes:-420,abbreviation:"GMT-7",rawFormat:"-07:00 Mexican Pacific Time - Hermosillo, Culiacn, Ciudad Obregn, Mazatln"},{name:"America/Edmonton",alternativeName:"Mountain Time",group:["America/Cambridge_Bay","America/Edmonton","America/Inuvik","America/Yellowknife","Canada/Mountain"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Calgary","Edmonton","Red Deer","Sherwood Park"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Calgary, Edmonton, Red Deer, Sherwood Park"},{name:"America/Ciudad_Juarez",alternativeName:"Mountain Time",group:["America/Ciudad_Juarez"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Ciudad Jurez"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Ciudad Jurez"},{name:"America/Denver",alternativeName:"Mountain Time",group:["America/Boise","America/Denver","Navajo","US/Mountain","America/Shiprock"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Denver","El Paso","Albuquerque","Colorado Springs"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Denver, El Paso, Albuquerque, Colorado Springs"},{name:"America/Phoenix",alternativeName:"Mountain Time",group:["America/Phoenix","US/Arizona","America/Creston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Phoenix","Tucson","Mesa","Chandler"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Phoenix, Tucson, Mesa, Chandler"},{name:"America/Whitehorse",alternativeName:"Yukon Time",group:["America/Creston","America/Dawson","America/Dawson_Creek","America/Fort_Nelson","America/Whitehorse","Canada/Yukon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Whitehorse","Fort St. John","Creston","Dawson"],rawOffsetInMinutes:-420,abbreviation:"YT",rawFormat:"-07:00 Yukon Time - Whitehorse, Fort St. John, Creston, Dawson"},{name:"America/Belize",alternativeName:"Central Time",group:["America/Belize"],continentCode:"NA",continentName:"North America",countryName:"Belize",countryCode:"BZ",mainCities:["Belize City","San Ignacio","San Pedro","Orange Walk"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Belize City, San Ignacio, San Pedro, Orange Walk"},{name:"America/Chicago",alternativeName:"Central Time",group:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","US/Central","US/Indiana-Starke","America/Knox_IN"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Chicago","Houston","San Antonio","Dallas"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Chicago, Houston, San Antonio, Dallas"},{name:"America/Guatemala",alternativeName:"Central Time",group:["America/Guatemala"],continentCode:"NA",continentName:"North America",countryName:"Guatemala",countryCode:"GT",mainCities:["Guatemala City","Villa Nueva","Mixco","Cobn"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Guatemala City, Villa Nueva, Mixco, Cobn"},{name:"America/Managua",alternativeName:"Central Time",group:["America/Managua"],continentCode:"NA",continentName:"North America",countryName:"Nicaragua",countryCode:"NI",mainCities:["Managua","Len","Masaya","Chinandega"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Managua, Len, Masaya, Chinandega"},{name:"America/Mexico_City",alternativeName:"Central Time",group:["America/Bahia_Banderas","America/Chihuahua","America/Merida","America/Mexico_City","America/Monterrey","Mexico/General"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Mexico City","Iztapalapa","Len de los Aldama","Puebla"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Mexico City, Iztapalapa, Len de los Aldama, Puebla"},{name:"America/Matamoros",alternativeName:"Central Time",group:["America/Matamoros","America/Ojinaga"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Reynosa","Heroica Matamoros","Nuevo Laredo","Piedras Negras"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Reynosa, Heroica Matamoros, Nuevo Laredo, Piedras Negras"},{name:"America/Costa_Rica",alternativeName:"Central Time",group:["America/Costa_Rica"],continentCode:"NA",continentName:"North America",countryName:"Costa Rica",countryCode:"CR",mainCities:["San Jos","Limn","San Francisco","Alajuela"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Jos, Limn, San Francisco, Alajuela"},{name:"America/El_Salvador",alternativeName:"Central Time",group:["America/El_Salvador"],continentCode:"NA",continentName:"North America",countryName:"El Salvador",countryCode:"SV",mainCities:["San Salvador","Soyapango","San Miguel","Santa Ana"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Salvador, Soyapango, San Miguel, Santa Ana"},{name:"America/Regina",alternativeName:"Central Time",group:["America/Regina","America/Swift_Current","Canada/Saskatchewan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Saskatoon","Regina","Prince Albert","Moose Jaw"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Saskatoon, Regina, Prince Albert, Moose Jaw"},{name:"America/Tegucigalpa",alternativeName:"Central Time",group:["America/Tegucigalpa"],continentCode:"NA",continentName:"North America",countryName:"Honduras",countryCode:"HN",mainCities:["Tegucigalpa","San Pedro Sula","La Ceiba","Choloma"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Tegucigalpa, San Pedro Sula, La Ceiba, Choloma"},{name:"America/Winnipeg",alternativeName:"Central Time",group:["America/Rankin_Inlet","America/Resolute","America/Winnipeg","Canada/Central","America/Rainy_River"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Winnipeg","Brandon","Steinbach","Kenora"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Winnipeg, Brandon, Steinbach, Kenora"},{name:"Pacific/Easter",alternativeName:"Easter Island Time",group:["Pacific/Easter","Chile/EasterIsland"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Easter"],rawOffsetInMinutes:-360,abbreviation:"EAST",rawFormat:"-06:00 Easter Island Time - Easter"},{name:"Pacific/Galapagos",alternativeName:"Galapagos Time",group:["Pacific/Galapagos"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Galapagos"],rawOffsetInMinutes:-360,abbreviation:"GALT",rawFormat:"-06:00 Galapagos Time - Galapagos"},{name:"America/Rio_Branco",alternativeName:"Acre Time",group:["America/Eirunepe","America/Rio_Branco","Brazil/Acre","America/Porto_Acre"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Rio Branco","Cruzeiro do Sul","Senador Guiomard","Sena Madureira"],rawOffsetInMinutes:-300,abbreviation:"ACT",rawFormat:"-05:00 Acre Time - Rio Branco, Cruzeiro do Sul, Senador Guiomard, Sena Madureira"},{name:"America/Bogota",alternativeName:"Colombia Time",group:["America/Bogota"],continentCode:"SA",continentName:"South America",countryName:"Colombia",countryCode:"CO",mainCities:["Bogot","Cali","Medelln","Barranquilla"],rawOffsetInMinutes:-300,abbreviation:"COT",rawFormat:"-05:00 Colombia Time - Bogot, Cali, Medelln, Barranquilla"},{name:"America/Havana",alternativeName:"Cuba Time",group:["America/Havana","Cuba"],continentCode:"NA",continentName:"North America",countryName:"Cuba",countryCode:"CU",mainCities:["Havana","Santiago de Cuba","Camagey","Holgun"],rawOffsetInMinutes:-300,abbreviation:"CST",rawFormat:"-05:00 Cuba Time - Havana, Santiago de Cuba, Camagey, Holgun"},{name:"America/Atikokan",alternativeName:"Eastern Time",group:["America/Atikokan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Atikokan"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Atikokan"},{name:"America/Cancun",alternativeName:"Eastern Time",group:["America/Cancun"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Cancn","Chetumal","Playa del Carmen","Cozumel"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cancn, Chetumal, Playa del Carmen, Cozumel"},{name:"America/Grand_Turk",alternativeName:"Eastern Time",group:["America/Grand_Turk"],continentCode:"NA",continentName:"North America",countryName:"Turks and Caicos Islands",countryCode:"TC",mainCities:["Cockburn Town"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cockburn Town"},{name:"America/Cayman",alternativeName:"Eastern Time",group:["America/Cayman"],continentCode:"NA",continentName:"North America",countryName:"Cayman Islands",countryCode:"KY",mainCities:["George Town","West Bay"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - George Town, West Bay"},{name:"America/Jamaica",alternativeName:"Eastern Time",group:["America/Jamaica","Jamaica"],continentCode:"NA",continentName:"North America",countryName:"Jamaica",countryCode:"JM",mainCities:["Kingston","New Kingston","Spanish Town","Portmore"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Kingston, New Kingston, Spanish Town, Portmore"},{name:"America/Nassau",alternativeName:"Eastern Time",group:["America/Nassau"],continentCode:"NA",continentName:"North America",countryName:"Bahamas",countryCode:"BS",mainCities:["Nassau","Lucaya","Freeport","Killarney"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Nassau, Lucaya, Freeport, Killarney"},{name:"America/New_York",alternativeName:"Eastern Time",group:["America/Detroit","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Kentucky/Louisville","America/Kentucky/Monticello","America/New_York","US/Michigan","US/East-Indiana","America/Indianapolis","America/Fort_Wayne","America/Louisville","US/Eastern"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["New York City","Brooklyn","Queens","Philadelphia"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - New York City, Brooklyn, Queens, Philadelphia"},{name:"America/Panama",alternativeName:"Eastern Time",group:["America/Panama","America/Atikokan","America/Cayman","America/Coral_Harbour"],continentCode:"NA",continentName:"North America",countryName:"Panama",countryCode:"PA",mainCities:["Panam","San Miguelito","Juan Daz","David"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Panam, San Miguelito, Juan Daz, David"},{name:"America/Port-au-Prince",alternativeName:"Eastern Time",group:["America/Port-au-Prince"],continentCode:"NA",continentName:"North America",countryName:"Haiti",countryCode:"HT",mainCities:["Port-au-Prince","Carrefour","Delmas 73","Port-de-Paix"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Port-au-Prince, Carrefour, Delmas 73, Port-de-Paix"},{name:"America/Toronto",alternativeName:"Eastern Time",group:["America/Iqaluit","America/Toronto","America/Pangnirtung","Canada/Eastern","America/Nassau","America/Montreal","America/Nipigon","America/Thunder_Bay"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Toronto","Montral","Ottawa","Mississauga"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Toronto, Montral, Ottawa, Mississauga"},{name:"America/Guayaquil",alternativeName:"Ecuador Time",group:["America/Guayaquil"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Quito","Guayaquil","Cuenca","Santo Domingo de los Colorados"],rawOffsetInMinutes:-300,abbreviation:"ECT",rawFormat:"-05:00 Ecuador Time - Quito, Guayaquil, Cuenca, Santo Domingo de los Colorados"},{name:"America/Lima",alternativeName:"Peru Time",group:["America/Lima"],continentCode:"SA",continentName:"South America",countryName:"Peru",countryCode:"PE",mainCities:["Lima","Callao","Arequipa","Trujillo"],rawOffsetInMinutes:-300,abbreviation:"PET",rawFormat:"-05:00 Peru Time - Lima, Callao, Arequipa, Trujillo"},{name:"America/Manaus",alternativeName:"Amazon Time",group:["America/Boa_Vista","America/Campo_Grande","America/Cuiaba","America/Manaus","America/Porto_Velho","Brazil/West"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Manaus","Campo Grande","Cuiab","Porto Velho"],rawOffsetInMinutes:-240,abbreviation:"AMT",rawFormat:"-04:00 Amazon Time - Manaus, Campo Grande, Cuiab, Porto Velho"},{name:"America/St_Kitts",alternativeName:"Atlantic Time",group:["America/St_Kitts"],continentCode:"NA",continentName:"North America",countryName:"Saint Kitts and Nevis",countryCode:"KN",mainCities:["Basseterre"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Basseterre"},{name:"America/Blanc-Sablon",alternativeName:"Atlantic Time",group:["America/Blanc-Sablon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Blanc-Sablon"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Blanc-Sablon"},{name:"America/Montserrat",alternativeName:"Atlantic Time",group:["America/Montserrat"],continentCode:"NA",continentName:"North America",countryName:"Montserrat",countryCode:"MS",mainCities:["Brades","Plymouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Brades, Plymouth"},{name:"America/Barbados",alternativeName:"Atlantic Time",group:["America/Barbados"],continentCode:"NA",continentName:"North America",countryName:"Barbados",countryCode:"BB",mainCities:["Bridgetown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Bridgetown"},{name:"America/Port_of_Spain",alternativeName:"Atlantic Time",group:["America/Port_of_Spain"],continentCode:"NA",continentName:"North America",countryName:"Trinidad and Tobago",countryCode:"TT",mainCities:["Chaguanas","Mon Repos","San Fernando","Port of Spain"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Chaguanas, Mon Repos, San Fernando, Port of Spain"},{name:"America/Martinique",alternativeName:"Atlantic Time",group:["America/Martinique"],continentCode:"NA",continentName:"North America",countryName:"Martinique",countryCode:"MQ",mainCities:["Fort-de-France","Le Lamentin","Le Robert","Sainte-Marie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Fort-de-France, Le Lamentin, Le Robert, Sainte-Marie"},{name:"America/St_Lucia",alternativeName:"Atlantic Time",group:["America/St_Lucia"],continentCode:"NA",continentName:"North America",countryName:"Saint Lucia",countryCode:"LC",mainCities:["Gros Islet","Castries"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gros Islet, Castries"},{name:"America/St_Barthelemy",alternativeName:"Atlantic Time",group:["America/St_Barthelemy"],continentCode:"NA",continentName:"North America",countryName:"Saint Barthelemy",countryCode:"BL",mainCities:["Gustavia"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gustavia"},{name:"America/Halifax",alternativeName:"Atlantic Time",group:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","Canada/Atlantic"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Halifax","Moncton","Sydney","Dartmouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Halifax, Moncton, Sydney, Dartmouth"},{name:"Atlantic/Bermuda",alternativeName:"Atlantic Time",group:["Atlantic/Bermuda"],continentCode:"NA",continentName:"North America",countryName:"Bermuda",countryCode:"BM",mainCities:["Hamilton"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Hamilton"},{name:"America/St_Vincent",alternativeName:"Atlantic Time",group:["America/St_Vincent"],continentCode:"NA",continentName:"North America",countryName:"Saint Vincent and the Grenadines",countryCode:"VC",mainCities:["Kingstown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kingstown"},{name:"America/Kralendijk",alternativeName:"Atlantic Time",group:["America/Kralendijk"],continentCode:"NA",continentName:"North America",countryName:"Bonaire, Saint Eustatius and Saba ",countryCode:"BQ",mainCities:["Kralendijk"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kralendijk"},{name:"America/Guadeloupe",alternativeName:"Atlantic Time",group:["America/Guadeloupe"],continentCode:"NA",continentName:"North America",countryName:"Guadeloupe",countryCode:"GP",mainCities:["Les Abymes","Baie-Mahault","Le Gosier","Petit-Bourg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Les Abymes, Baie-Mahault, Le Gosier, Petit-Bourg"},{name:"America/Marigot",alternativeName:"Atlantic Time",group:["America/Marigot"],continentCode:"NA",continentName:"North America",countryName:"Saint Martin",countryCode:"MF",mainCities:["Marigot"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Marigot"},{name:"America/Aruba",alternativeName:"Atlantic Time",group:["America/Aruba"],continentCode:"NA",continentName:"North America",countryName:"Aruba",countryCode:"AW",mainCities:["Oranjestad","Noord","Tanki Leendert","San Nicolas"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Oranjestad, Noord, Tanki Leendert, San Nicolas"},{name:"America/Lower_Princes",alternativeName:"Atlantic Time",group:["America/Lower_Princes"],continentCode:"NA",continentName:"North America",countryName:"Sint Maarten",countryCode:"SX",mainCities:["Philipsburg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Philipsburg"},{name:"America/Tortola",alternativeName:"Atlantic Time",group:["America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"British Virgin Islands",countryCode:"VG",mainCities:["Road Town"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Road Town"},{name:"America/Dominica",alternativeName:"Atlantic Time",group:["America/Dominica"],continentCode:"NA",continentName:"North America",countryName:"Dominica",countryCode:"DM",mainCities:["Roseau"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Roseau"},{name:"America/St_Thomas",alternativeName:"Atlantic Time",group:["America/St_Thomas"],continentCode:"NA",continentName:"North America",countryName:"U.S. Virgin Islands",countryCode:"VI",mainCities:["Saint Croix","Charlotte Amalie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Croix, Charlotte Amalie"},{name:"America/Grenada",alternativeName:"Atlantic Time",group:["America/Grenada"],continentCode:"NA",continentName:"North America",countryName:"Grenada",countryCode:"GD",mainCities:["Saint George's"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint George's"},{name:"America/Antigua",alternativeName:"Atlantic Time",group:["America/Antigua"],continentCode:"NA",continentName:"North America",countryName:"Antigua and Barbuda",countryCode:"AG",mainCities:["Saint Johns"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Johns"},{name:"America/Puerto_Rico",alternativeName:"Atlantic Time",group:["America/Puerto_Rico","America/Virgin","America/Anguilla","America/Antigua","America/Aruba","America/Blanc-Sablon","America/Curacao","America/Dominica","America/Grenada","America/Guadeloupe","America/Kralendijk","America/Lower_Princes","America/Marigot","America/Montserrat","America/Port_of_Spain","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"Puerto Rico",countryCode:"PR",mainCities:["San Juan","Bayamn","Carolina","Ponce"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - San Juan, Bayamn, Carolina, Ponce"},{name:"America/Santo_Domingo",alternativeName:"Atlantic Time",group:["America/Santo_Domingo"],continentCode:"NA",continentName:"North America",countryName:"Dominican Republic",countryCode:"DO",mainCities:["Santo Domingo","Santiago de los Caballeros","Santo Domingo Oeste","Santo Domingo Este"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Santo Domingo, Santiago de los Caballeros, Santo Domingo Oeste, Santo Domingo Este"},{name:"America/Anguilla",alternativeName:"Atlantic Time",group:["America/Anguilla"],continentCode:"NA",continentName:"North America",countryName:"Anguilla",countryCode:"AI",mainCities:["The Valley"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - The Valley"},{name:"America/Thule",alternativeName:"Atlantic Time",group:["America/Thule"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Thule"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Thule"},{name:"America/Curacao",alternativeName:"Atlantic Time",group:["America/Curacao"],continentCode:"NA",continentName:"North America",countryName:"Curacao",countryCode:"CW",mainCities:["Willemstad"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Willemstad"},{name:"America/La_Paz",alternativeName:"Bolivia Time",group:["America/La_Paz"],continentCode:"SA",continentName:"South America",countryName:"Bolivia",countryCode:"BO",mainCities:["La Paz","Santa Cruz de la Sierra","Cochabamba","Sucre"],rawOffsetInMinutes:-240,abbreviation:"BOT",rawFormat:"-04:00 Bolivia Time - La Paz, Santa Cruz de la Sierra, Cochabamba, Sucre"},{name:"America/Santiago",alternativeName:"Chile Time",group:["America/Santiago","Chile/Continental"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Santiago","Puente Alto","Antofagasta","Via del Mar"],rawOffsetInMinutes:-240,abbreviation:"CLT",rawFormat:"-04:00 Chile Time - Santiago, Puente Alto, Antofagasta, Via del Mar"},{name:"America/Guyana",alternativeName:"Guyana Time",group:["America/Guyana"],continentCode:"SA",continentName:"South America",countryName:"Guyana",countryCode:"GY",mainCities:["Georgetown","Linden","New Amsterdam"],rawOffsetInMinutes:-240,abbreviation:"GYT",rawFormat:"-04:00 Guyana Time - Georgetown, Linden, New Amsterdam"},{name:"America/Asuncion",alternativeName:"Paraguay Time",group:["America/Asuncion"],continentCode:"SA",continentName:"South America",countryName:"Paraguay",countryCode:"PY",mainCities:["Asuncin","Ciudad del Este","San Lorenzo","Capiat"],rawOffsetInMinutes:-240,abbreviation:"PYT",rawFormat:"-04:00 Paraguay Time - Asuncin, Ciudad del Este, San Lorenzo, Capiat"},{name:"America/Caracas",alternativeName:"Venezuela Time",group:["America/Caracas"],continentCode:"SA",continentName:"South America",countryName:"Venezuela",countryCode:"VE",mainCities:["Caracas","Maracaibo","Maracay","Valencia"],rawOffsetInMinutes:-240,abbreviation:"VET",rawFormat:"-04:00 Venezuela Time - Caracas, Maracaibo, Maracay, Valencia"},{name:"America/St_Johns",alternativeName:"Newfoundland Time",group:["America/St_Johns","Canada/Newfoundland"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["St. John's","Mount Pearl","Corner Brook","Conception Bay South"],rawOffsetInMinutes:-210,abbreviation:"NST",rawFormat:"-03:30 Newfoundland Time - St. John's, Mount Pearl, Corner Brook, Conception Bay South"},{name:"America/Argentina/Buenos_Aires",alternativeName:"Argentina Time",group:["America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Argentina/ComodRivadavia","America/Cordoba","America/Rosario","America/Jujuy","America/Mendoza"],continentCode:"SA",continentName:"South America",countryName:"Argentina",countryCode:"AR",mainCities:["Buenos Aires","Crdoba","Rosario","Mar del Plata"],rawOffsetInMinutes:-180,abbreviation:"ART",rawFormat:"-03:00 Argentina Time - Buenos Aires, Crdoba, Rosario, Mar del Plata"},{name:"America/Sao_Paulo",alternativeName:"Brasilia Time",group:["America/Araguaina","America/Bahia","America/Belem","America/Fortaleza","America/Maceio","America/Recife","America/Santarem","America/Sao_Paulo","Brazil/East"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["So Paulo","Rio de Janeiro","Belo Horizonte","Salvador"],rawOffsetInMinutes:-180,abbreviation:"BRT",rawFormat:"-03:00 Brasilia Time - So Paulo, Rio de Janeiro, Belo Horizonte, Salvador"},{name:"Antarctica/Palmer",alternativeName:"Chile Time",group:["Antarctica/Palmer","Antarctica/Rothera"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Palmer","Rothera"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Palmer, Rothera"},{name:"America/Punta_Arenas",alternativeName:"Chile Time",group:["America/Punta_Arenas"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Punta Arenas","Puerto Natales"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Punta Arenas, Puerto Natales"},{name:"Atlantic/Stanley",alternativeName:"Falkland Islands Time",group:["Atlantic/Stanley"],continentCode:"SA",continentName:"South America",countryName:"Falkland Islands",countryCode:"FK",mainCities:["Stanley"],rawOffsetInMinutes:-180,abbreviation:"FKST",rawFormat:"-03:00 Falkland Islands Time - Stanley"},{name:"America/Cayenne",alternativeName:"French Guiana Time",group:["America/Cayenne"],continentCode:"SA",continentName:"South America",countryName:"French Guiana",countryCode:"GF",mainCities:["Cayenne","Matoury","Saint-Laurent-du-Maroni","Kourou"],rawOffsetInMinutes:-180,abbreviation:"GFT",rawFormat:"-03:00 French Guiana Time - Cayenne, Matoury, Saint-Laurent-du-Maroni, Kourou"},{name:"America/Miquelon",alternativeName:"St. Pierre & Miquelon Time",group:["America/Miquelon"],continentCode:"NA",continentName:"North America",countryName:"Saint Pierre and Miquelon",countryCode:"PM",mainCities:["Saint-Pierre"],rawOffsetInMinutes:-180,abbreviation:"PM",rawFormat:"-03:00 St. Pierre & Miquelon Time - Saint-Pierre"},{name:"America/Paramaribo",alternativeName:"Suriname Time",group:["America/Paramaribo"],continentCode:"SA",continentName:"South America",countryName:"Suriname",countryCode:"SR",mainCities:["Paramaribo","Lelydorp"],rawOffsetInMinutes:-180,abbreviation:"SRT",rawFormat:"-03:00 Suriname Time - Paramaribo, Lelydorp"},{name:"America/Montevideo",alternativeName:"Uruguay Time",group:["America/Montevideo"],continentCode:"SA",continentName:"South America",countryName:"Uruguay",countryCode:"UY",mainCities:["Montevideo","Salto","Paysand","Las Piedras"],rawOffsetInMinutes:-180,abbreviation:"UYT",rawFormat:"-03:00 Uruguay Time - Montevideo, Salto, Paysand, Las Piedras"},{name:"America/Scoresbysund",alternativeName:"East Greenland Time",group:["America/Scoresbysund"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Scoresbysund"],rawOffsetInMinutes:-120,abbreviation:"EGT",rawFormat:"-02:00 East Greenland Time - Scoresbysund"},{name:"America/Noronha",alternativeName:"Fernando de Noronha Time",group:["America/Noronha","Brazil/DeNoronha"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Noronha"],rawOffsetInMinutes:-120,abbreviation:"FNT",rawFormat:"-02:00 Fernando de Noronha Time - Noronha"},{name:"Atlantic/South_Georgia",alternativeName:"South Georgia Time",group:["Atlantic/South_Georgia"],continentCode:"AN",continentName:"Antarctica",countryName:"South Georgia and the South Sandwich Islands",countryCode:"GS",mainCities:["Grytviken"],rawOffsetInMinutes:-120,abbreviation:"GST",rawFormat:"-02:00 South Georgia Time - Grytviken"},{name:"America/Nuuk",alternativeName:"West Greenland Time",group:["America/Nuuk","America/Godthab"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Nuuk"],rawOffsetInMinutes:-120,abbreviation:"WGT",rawFormat:"-02:00 West Greenland Time - Nuuk"},{name:"Atlantic/Azores",alternativeName:"Azores Time",group:["Atlantic/Azores"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Ponta Delgada"],rawOffsetInMinutes:-60,abbreviation:"AZOT",rawFormat:"-01:00 Azores Time - Ponta Delgada"},{name:"Atlantic/Cape_Verde",alternativeName:"Cape Verde Time",group:["Atlantic/Cape_Verde"],continentCode:"AF",continentName:"Africa",countryName:"Cabo Verde",countryCode:"CV",mainCities:["Praia","Mindelo","Espargos","Assomada"],rawOffsetInMinutes:-60,abbreviation:"CVT",rawFormat:"-01:00 Cape Verde Time - Praia, Mindelo, Espargos, Assomada"},{name:"Africa/Abidjan",alternativeName:"Greenwich Mean Time",group:["Africa/Abidjan","Iceland","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Nouakchott","Africa/Ouagadougou","Atlantic/Reykjavik","Atlantic/St_Helena","Africa/Timbuktu"],continentCode:"AF",continentName:"Africa",countryName:"Ivory Coast",countryCode:"CI",mainCities:["Abidjan","Abobo","Bouak","Korhogo"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Abidjan, Abobo, Bouak, Korhogo"},{name:"Africa/Bamako",alternativeName:"Greenwich Mean Time",group:["Africa/Bamako"],continentCode:"AF",continentName:"Africa",countryName:"Mali",countryCode:"ML",mainCities:["Bamako","Sikasso","Koutiala","Sgou"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bamako, Sikasso, Koutiala, Sgou"},{name:"Africa/Bissau",alternativeName:"Greenwich Mean Time",group:["Africa/Bissau"],continentCode:"AF",continentName:"Africa",countryName:"Guinea-Bissau",countryCode:"GW",mainCities:["Bissau","Gab","Bafat"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bissau, Gab, Bafat"},{name:"Africa/Conakry",alternativeName:"Greenwich Mean Time",group:["Africa/Conakry"],continentCode:"AF",continentName:"Africa",countryName:"Guinea",countryCode:"GN",mainCities:["Conakry","Camayenne","Nzrkor","Kankan"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Conakry, Camayenne, Nzrkor, Kankan"},{name:"Africa/Dakar",alternativeName:"Greenwich Mean Time",group:["Africa/Dakar"],continentCode:"AF",continentName:"Africa",countryName:"Senegal",countryCode:"SN",mainCities:["Dakar","Pikine","Touba","This"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dakar, Pikine, Touba, This"},{name:"America/Danmarkshavn",alternativeName:"Greenwich Mean Time",group:["America/Danmarkshavn"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Danmarkshavn"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Danmarkshavn"},{name:"Europe/Isle_of_Man",alternativeName:"Greenwich Mean Time",group:["Europe/Isle_of_Man"],continentCode:"EU",continentName:"Europe",countryName:"Isle of Man",countryCode:"IM",mainCities:["Douglas"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Douglas"},{name:"Europe/Dublin",alternativeName:"Greenwich Mean Time",group:["Europe/Dublin","Eire"],continentCode:"EU",continentName:"Europe",countryName:"Ireland",countryCode:"IE",mainCities:["Dublin","South Dublin","Cork","Limerick"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dublin, South Dublin, Cork, Limerick"},{name:"Africa/Freetown",alternativeName:"Greenwich Mean Time",group:["Africa/Freetown"],continentCode:"AF",continentName:"Africa",countryName:"Sierra Leone",countryCode:"SL",mainCities:["Freetown","Bo","Kenema","Koidu"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Freetown, Bo, Kenema, Koidu"},{name:"Atlantic/St_Helena",alternativeName:"Greenwich Mean Time",group:["Atlantic/St_Helena"],continentCode:"AF",continentName:"Africa",countryName:"Saint Helena",countryCode:"SH",mainCities:["Jamestown"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Jamestown"},{name:"Africa/Accra",alternativeName:"Greenwich Mean Time",group:["Africa/Accra"],continentCode:"AF",continentName:"Africa",countryName:"Ghana",countryCode:"GH",mainCities:["Kumasi","Accra","Tamale","Takoradi"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Kumasi, Accra, Tamale, Takoradi"},{name:"Africa/Lome",alternativeName:"Greenwich Mean Time",group:["Africa/Lome"],continentCode:"AF",continentName:"Africa",countryName:"Togo",countryCode:"TG",mainCities:["Lom","Sokod","Kara","Atakpam"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Lom, Sokod, Kara, Atakpam"},{name:"Europe/London",alternativeName:"Greenwich Mean Time",group:["Europe/London","GB","GB-Eire","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Belfast"],continentCode:"EU",continentName:"Europe",countryName:"United Kingdom",countryCode:"GB",mainCities:["London","Birmingham","Liverpool","Glasgow"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - London, Birmingham, Liverpool, Glasgow"},{name:"Africa/Monrovia",alternativeName:"Greenwich Mean Time",group:["Africa/Monrovia"],continentCode:"AF",continentName:"Africa",countryName:"Liberia",countryCode:"LR",mainCities:["Monrovia","Gbarnga","Buchanan","Ganta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Monrovia, Gbarnga, Buchanan, Ganta"},{name:"Africa/Nouakchott",alternativeName:"Greenwich Mean Time",group:["Africa/Nouakchott"],continentCode:"AF",continentName:"Africa",countryName:"Mauritania",countryCode:"MR",mainCities:["Nouakchott","Nouadhibou","Kiffa","Dar Naim"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Nouakchott, Nouadhibou, Kiffa, Dar Naim"},{name:"Africa/Ouagadougou",alternativeName:"Greenwich Mean Time",group:["Africa/Ouagadougou"],continentCode:"AF",continentName:"Africa",countryName:"Burkina Faso",countryCode:"BF",mainCities:["Ouagadougou","Bobo-Dioulasso","Koudougou","Saaba"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Ouagadougou, Bobo-Dioulasso, Koudougou, Saaba"},{name:"Atlantic/Reykjavik",alternativeName:"Greenwich Mean Time",group:["Atlantic/Reykjavik","Iceland"],continentCode:"EU",continentName:"Europe",countryName:"Iceland",countryCode:"IS",mainCities:["Reykjavk","Kpavogur","Hafnarfjrur","Reykjanesbr"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Reykjavk, Kpavogur, Hafnarfjrur, Reykjanesbr"},{name:"Europe/Jersey",alternativeName:"Greenwich Mean Time",group:["Europe/Jersey"],continentCode:"EU",continentName:"Europe",countryName:"Jersey",countryCode:"JE",mainCities:["Saint Helier"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Helier"},{name:"Europe/Guernsey",alternativeName:"Greenwich Mean Time",group:["Europe/Guernsey"],continentCode:"EU",continentName:"Europe",countryName:"Guernsey",countryCode:"GG",mainCities:["Saint Peter Port"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Peter Port"},{name:"Africa/Banjul",alternativeName:"Greenwich Mean Time",group:["Africa/Banjul"],continentCode:"AF",continentName:"Africa",countryName:"Gambia",countryCode:"GM",mainCities:["Serekunda","Brikama","Bununka Kunda","Sukuta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Serekunda, Brikama, Bununka Kunda, Sukuta"},{name:"Africa/Sao_Tome",alternativeName:"Greenwich Mean Time",group:["Africa/Sao_Tome"],continentCode:"AF",continentName:"Africa",countryName:"Sao Tome and Principe",countryCode:"ST",mainCities:["So Tom"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - So Tom"},{name:"Antarctica/Troll",alternativeName:"Greenwich Mean Time",group:["Antarctica/Troll"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Troll"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Troll"},{name:"Africa/Casablanca",alternativeName:"Western European Time",group:["Africa/Casablanca"],continentCode:"AF",continentName:"Africa",countryName:"Morocco",countryCode:"MA",mainCities:["Casablanca","Rabat","Fes","Tangier"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Casablanca, Rabat, Fes, Tangier"},{name:"Africa/El_Aaiun",alternativeName:"Western European Time",group:["Africa/El_Aaiun"],continentCode:"AF",continentName:"Africa",countryName:"Western Sahara",countryCode:"EH",mainCities:["Laayoune","Dakhla","Boujdour"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Laayoune, Dakhla, Boujdour"},{name:"Atlantic/Canary",alternativeName:"Western European Time",group:["Atlantic/Canary"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Las Palmas de Gran Canaria","Santa Cruz de Tenerife","La Laguna","Telde"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Las Palmas de Gran Canaria, Santa Cruz de Tenerife, La Laguna, Telde"},{name:"Europe/Lisbon",alternativeName:"Western European Time",group:["Atlantic/Madeira","Europe/Lisbon","Portugal"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Lisbon","Porto","Amadora","Braga"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Lisbon, Porto, Amadora, Braga"},{name:"Atlantic/Faroe",alternativeName:"Western European Time",group:["Atlantic/Faroe","Atlantic/Faeroe"],continentCode:"EU",continentName:"Europe",countryName:"Faroe Islands",countryCode:"FO",mainCities:["Trshavn"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Trshavn"},{name:"Africa/Windhoek",alternativeName:"Central Africa Time",group:["Africa/Windhoek"],continentCode:"AF",continentName:"Africa",countryName:"Namibia",countryCode:"NA",mainCities:["Windhoek","Rundu","Walvis Bay","Swakopmund"],rawOffsetInMinutes:60,abbreviation:"CAT",rawFormat:"+01:00 Central Africa Time - Windhoek, Rundu, Walvis Bay, Swakopmund"},{name:"Africa/Algiers",alternativeName:"Central European Time",group:["Africa/Algiers"],continentCode:"AF",continentName:"Africa",countryName:"Algeria",countryCode:"DZ",mainCities:["Algiers","Oran","Constantine","Annaba"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Algiers, Oran, Constantine, Annaba"},{name:"Europe/Amsterdam",alternativeName:"Central European Time",group:["Europe/Amsterdam"],continentCode:"EU",continentName:"Europe",countryName:"The Netherlands",countryCode:"NL",mainCities:["Amsterdam","Rotterdam","The Hague","Utrecht"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Amsterdam, Rotterdam, The Hague, Utrecht"},{name:"Europe/Andorra",alternativeName:"Central European Time",group:["Europe/Andorra"],continentCode:"EU",continentName:"Europe",countryName:"Andorra",countryCode:"AD",mainCities:["Andorra la Vella","les Escaldes"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Andorra la Vella, les Escaldes"},{name:"Europe/Belgrade",alternativeName:"Central European Time",group:["Europe/Belgrade","Europe/Ljubljana","Europe/Podgorica","Europe/Sarajevo","Europe/Skopje","Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Serbia",countryCode:"RS",mainCities:["Belgrade","Ni","Novi Sad","Zemun"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Belgrade, Ni, Novi Sad, Zemun"},{name:"Europe/Berlin",alternativeName:"Central European Time",group:["Europe/Berlin","Europe/Busingen","Arctic/Longyearbyen","Europe/Copenhagen","Europe/Oslo","Europe/Stockholm","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Germany",countryCode:"DE",mainCities:["Berlin","Hamburg","Munich","Kln"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Berlin, Hamburg, Munich, Kln"},{name:"Europe/Bratislava",alternativeName:"Central European Time",group:["Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Slovakia",countryCode:"SK",mainCities:["Bratislava","Koice","Nitra","Preov"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Bratislava, Koice, Nitra, Preov"},{name:"Europe/Brussels",alternativeName:"Central European Time",group:["Europe/Brussels","Europe/Amsterdam","Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Belgium",countryCode:"BE",mainCities:["Brussels","Antwerpen","Gent","Charleroi"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Brussels, Antwerpen, Gent, Charleroi"},{name:"Europe/Budapest",alternativeName:"Central European Time",group:["Europe/Budapest"],continentCode:"EU",continentName:"Europe",countryName:"Hungary",countryCode:"HU",mainCities:["Budapest","Debrecen","Szeged","Miskolc"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Budapest, Debrecen, Szeged, Miskolc"},{name:"Europe/Copenhagen",alternativeName:"Central European Time",group:["Europe/Copenhagen"],continentCode:"EU",continentName:"Europe",countryName:"Denmark",countryCode:"DK",mainCities:["Copenhagen","rhus","Odense","Aalborg"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Copenhagen, rhus, Odense, Aalborg"},{name:"Europe/Gibraltar",alternativeName:"Central European Time",group:["Europe/Gibraltar"],continentCode:"EU",continentName:"Europe",countryName:"Gibraltar",countryCode:"GI",mainCities:["Gibraltar"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Gibraltar"},{name:"Europe/Ljubljana",alternativeName:"Central European Time",group:["Europe/Ljubljana"],continentCode:"EU",continentName:"Europe",countryName:"Slovenia",countryCode:"SI",mainCities:["Ljubljana","Maribor","Kranj","Celje"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Ljubljana, Maribor, Kranj, Celje"},{name:"Arctic/Longyearbyen",alternativeName:"Central European Time",group:["Arctic/Longyearbyen"],continentCode:"EU",continentName:"Europe",countryName:"Svalbard and Jan Mayen",countryCode:"SJ",mainCities:["Longyearbyen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Longyearbyen"},{name:"Europe/Luxembourg",alternativeName:"Central European Time",group:["Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Luxembourg",countryCode:"LU",mainCities:["Luxembourg","Esch-sur-Alzette","Dudelange"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Luxembourg, Esch-sur-Alzette, Dudelange"},{name:"Europe/Madrid",alternativeName:"Central European Time",group:["Africa/Ceuta","Europe/Madrid"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Madrid","Barcelona","Valencia","Sevilla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Madrid, Barcelona, Valencia, Sevilla"},{name:"Europe/Monaco",alternativeName:"Central European Time",group:["Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"Monaco",countryCode:"MC",mainCities:["Monaco","Monte-Carlo"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Monaco, Monte-Carlo"},{name:"Europe/Oslo",alternativeName:"Central European Time",group:["Europe/Oslo","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Norway",countryCode:"NO",mainCities:["Oslo","Bergen","Trondheim","Stavanger"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Oslo, Bergen, Trondheim, Stavanger"},{name:"Europe/Paris",alternativeName:"Central European Time",group:["Europe/Paris","Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"France",countryCode:"FR",mainCities:["Paris","Marseille","Lyon","Toulouse"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Paris, Marseille, Lyon, Toulouse"},{name:"Europe/Podgorica",alternativeName:"Central European Time",group:["Europe/Podgorica"],continentCode:"EU",continentName:"Europe",countryName:"Montenegro",countryCode:"ME",mainCities:["Podgorica","Niki","Herceg Novi","Pljevlja"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Podgorica, Niki, Herceg Novi, Pljevlja"},{name:"Europe/Prague",alternativeName:"Central European Time",group:["Europe/Prague","Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Czechia",countryCode:"CZ",mainCities:["Prague","Brno","Ostrava","Pilsen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Prague, Brno, Ostrava, Pilsen"},{name:"Europe/Rome",alternativeName:"Central European Time",group:["Europe/Rome","Europe/San_Marino","Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Italy",countryCode:"IT",mainCities:["Rome","Milan","Naples","Turin"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Rome, Milan, Naples, Turin"},{name:"Europe/San_Marino",alternativeName:"Central European Time",group:["Europe/San_Marino"],continentCode:"EU",continentName:"Europe",countryName:"San Marino",countryCode:"SM",mainCities:["San Marino"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Marino"},{name:"Europe/Malta",alternativeName:"Central European Time",group:["Europe/Malta"],continentCode:"EU",continentName:"Europe",countryName:"Malta",countryCode:"MT",mainCities:["San Pawl il-Baar","Birkirkara","Mosta","Sliema"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Pawl il-Baar, Birkirkara, Mosta, Sliema"},{name:"Europe/Sarajevo",alternativeName:"Central European Time",group:["Europe/Sarajevo"],continentCode:"EU",continentName:"Europe",countryName:"Bosnia and Herzegovina",countryCode:"BA",mainCities:["Sarajevo","Banja Luka","Zenica","Tuzla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Sarajevo, Banja Luka, Zenica, Tuzla"},{name:"Europe/Skopje",alternativeName:"Central European Time",group:["Europe/Skopje"],continentCode:"EU",continentName:"Europe",countryName:"North Macedonia",countryCode:"MK",mainCities:["Skopje","Kumanovo","Prilep","Bitola"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Skopje, Kumanovo, Prilep, Bitola"},{name:"Europe/Stockholm",alternativeName:"Central European Time",group:["Europe/Stockholm"],continentCode:"EU",continentName:"Europe",countryName:"Sweden",countryCode:"SE",mainCities:["Stockholm","Gteborg","Malm","Uppsala"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Stockholm, Gteborg, Malm, Uppsala"},{name:"Europe/Tirane",alternativeName:"Central European Time",group:["Europe/Tirane"],continentCode:"EU",continentName:"Europe",countryName:"Albania",countryCode:"AL",mainCities:["Tirana","Durrs","Elbasan","Vlor"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tirana, Durrs, Elbasan, Vlor"},{name:"Africa/Tunis",alternativeName:"Central European Time",group:["Africa/Tunis"],continentCode:"AF",continentName:"Africa",countryName:"Tunisia",countryCode:"TN",mainCities:["Tunis","Sfax","Sousse","Kairouan"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tunis, Sfax, Sousse, Kairouan"},{name:"Europe/Vaduz",alternativeName:"Central European Time",group:["Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Liechtenstein",countryCode:"LI",mainCities:["Vaduz"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vaduz"},{name:"Europe/Vatican",alternativeName:"Central European Time",group:["Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Vatican",countryCode:"VA",mainCities:["Vatican City"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vatican City"},{name:"Europe/Vienna",alternativeName:"Central European Time",group:["Europe/Vienna"],continentCode:"EU",continentName:"Europe",countryName:"Austria",countryCode:"AT",mainCities:["Vienna","Graz","Linz","Favoriten"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vienna, Graz, Linz, Favoriten"},{name:"Europe/Warsaw",alternativeName:"Central European Time",group:["Europe/Warsaw","Poland"],continentCode:"EU",continentName:"Europe",countryName:"Poland",countryCode:"PL",mainCities:["Warsaw","d","Krakw","Wrocaw"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Warsaw, d, Krakw, Wrocaw"},{name:"Europe/Zagreb",alternativeName:"Central European Time",group:["Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Croatia",countryCode:"HR",mainCities:["Zagreb","Split","Rijeka","Osijek"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zagreb, Split, Rijeka, Osijek"},{name:"Europe/Zurich",alternativeName:"Central European Time",group:["Europe/Zurich","Europe/Busingen","Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Switzerland",countryCode:"CH",mainCities:["Zrich","Genve","Basel","Lausanne"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zrich, Genve, Basel, Lausanne"},{name:"Africa/Bangui",alternativeName:"West Africa Time",group:["Africa/Bangui"],continentCode:"AF",continentName:"Africa",countryName:"Central African Republic",countryCode:"CF",mainCities:["Bangui","Bimbo","Bgoua","Carnot"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bangui, Bimbo, Bgoua, Carnot"},{name:"Africa/Malabo",alternativeName:"West Africa Time",group:["Africa/Malabo"],continentCode:"AF",continentName:"Africa",countryName:"Equatorial Guinea",countryCode:"GQ",mainCities:["Bata","Malabo","Ebebiyin"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bata, Malabo, Ebebiyin"},{name:"Africa/Brazzaville",alternativeName:"West Africa Time",group:["Africa/Brazzaville"],continentCode:"AF",continentName:"Africa",countryName:"Republic of the Congo",countryCode:"CG",mainCities:["Brazzaville","Pointe-Noire","Dolisie","Nkayi"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Brazzaville, Pointe-Noire, Dolisie, Nkayi"},{name:"Africa/Porto-Novo",alternativeName:"West Africa Time",group:["Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Benin",countryCode:"BJ",mainCities:["Cotonou","Abomey-Calavi","Porto-Novo","Parakou"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Cotonou, Abomey-Calavi, Porto-Novo, Parakou"},{name:"Africa/Douala",alternativeName:"West Africa Time",group:["Africa/Douala"],continentCode:"AF",continentName:"Africa",countryName:"Cameroon",countryCode:"CM",mainCities:["Douala","Yaound","Bamenda","Bafoussam"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Douala, Yaound, Bamenda, Bafoussam"},{name:"Africa/Kinshasa",alternativeName:"West Africa Time",group:["Africa/Kinshasa"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Kinshasa","Kikwit","Masina","Mbandaka"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Kinshasa, Kikwit, Masina, Mbandaka"},{name:"Africa/Lagos",alternativeName:"West Africa Time",group:["Africa/Lagos","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Niamey","Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Nigeria",countryCode:"NG",mainCities:["Lagos","Kano","Ibadan","Abuja"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Lagos, Kano, Ibadan, Abuja"},{name:"Africa/Libreville",alternativeName:"West Africa Time",group:["Africa/Libreville"],continentCode:"AF",continentName:"Africa",countryName:"Gabon",countryCode:"GA",mainCities:["Libreville","Port-Gentil","Franceville","Owendo"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Libreville, Port-Gentil, Franceville, Owendo"},{name:"Africa/Luanda",alternativeName:"West Africa Time",group:["Africa/Luanda"],continentCode:"AF",continentName:"Africa",countryName:"Angola",countryCode:"AO",mainCities:["Luanda","Lubango","Huambo","Benguela"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Luanda, Lubango, Huambo, Benguela"},{name:"Africa/Ndjamena",alternativeName:"West Africa Time",group:["Africa/Ndjamena"],continentCode:"AF",continentName:"Africa",countryName:"Chad",countryCode:"TD",mainCities:["N'Djamena","Moundou","Abch","Sarh"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - N'Djamena, Moundou, Abch, Sarh"},{name:"Africa/Niamey",alternativeName:"West Africa Time",group:["Africa/Niamey"],continentCode:"AF",continentName:"Africa",countryName:"Niger",countryCode:"NE",mainCities:["Niamey","Maradi","Zinder","Tahoua"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Niamey, Maradi, Zinder, Tahoua"},{name:"Africa/Bujumbura",alternativeName:"Central Africa Time",group:["Africa/Bujumbura"],continentCode:"AF",continentName:"Africa",countryName:"Burundi",countryCode:"BI",mainCities:["Bujumbura","Gitega","Ngozi","Rumonge"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Bujumbura, Gitega, Ngozi, Rumonge"},{name:"Africa/Gaborone",alternativeName:"Central Africa Time",group:["Africa/Gaborone"],continentCode:"AF",continentName:"Africa",countryName:"Botswana",countryCode:"BW",mainCities:["Gaborone","Francistown","Mogoditshane","Maun"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Gaborone, Francistown, Mogoditshane, Maun"},{name:"Africa/Harare",alternativeName:"Central Africa Time",group:["Africa/Harare"],continentCode:"AF",continentName:"Africa",countryName:"Zimbabwe",countryCode:"ZW",mainCities:["Harare","Bulawayo","Chitungwiza","Mutare"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Harare, Bulawayo, Chitungwiza, Mutare"},{name:"Africa/Juba",alternativeName:"Central Africa Time",group:["Africa/Juba"],continentCode:"AF",continentName:"Africa",countryName:"South Sudan",countryCode:"SS",mainCities:["Juba","Winejok","Yei","Malakal"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Juba, Winejok, Yei, Malakal"},{name:"Africa/Khartoum",alternativeName:"Central Africa Time",group:["Africa/Khartoum"],continentCode:"AF",continentName:"Africa",countryName:"Sudan",countryCode:"SD",mainCities:["Khartoum","Omdurman","Nyala","Port Sudan"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Khartoum, Omdurman, Nyala, Port Sudan"},{name:"Africa/Kigali",alternativeName:"Central Africa Time",group:["Africa/Kigali"],continentCode:"AF",continentName:"Africa",countryName:"Rwanda",countryCode:"RW",mainCities:["Kigali","Gisenyi","Butare","Gitarama"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Kigali, Gisenyi, Butare, Gitarama"},{name:"Africa/Blantyre",alternativeName:"Central Africa Time",group:["Africa/Blantyre"],continentCode:"AF",continentName:"Africa",countryName:"Malawi",countryCode:"MW",mainCities:["Lilongwe","Blantyre","Mzuzu","Zomba"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lilongwe, Blantyre, Mzuzu, Zomba"},{name:"Africa/Lubumbashi",alternativeName:"Central Africa Time",group:["Africa/Lubumbashi"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Lubumbashi","Mbuji-Mayi","Kananga","Kisangani"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lubumbashi, Mbuji-Mayi, Kananga, Kisangani"},{name:"Africa/Lusaka",alternativeName:"Central Africa Time",group:["Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Zambia",countryCode:"ZM",mainCities:["Lusaka","Ndola","Kitwe","Chipata"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lusaka, Ndola, Kitwe, Chipata"},{name:"Africa/Maputo",alternativeName:"Central Africa Time",group:["Africa/Maputo","Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Mozambique",countryCode:"MZ",mainCities:["Maputo","Matola","Nampula","Beira"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Maputo, Matola, Nampula, Beira"},{name:"Europe/Athens",alternativeName:"Eastern European Time",group:["Europe/Athens"],continentCode:"EU",continentName:"Europe",countryName:"Greece",countryCode:"GR",mainCities:["Athens","Thessalonki","Ptra","Piraeus"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Athens, Thessalonki, Ptra, Piraeus"},{name:"Asia/Beirut",alternativeName:"Eastern European Time",group:["Asia/Beirut"],continentCode:"AS",continentName:"Asia",countryName:"Lebanon",countryCode:"LB",mainCities:["Beirut","Ras Bayrt","Tripoli","Sidon"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Beirut, Ras Bayrt, Tripoli, Sidon"},{name:"Europe/Bucharest",alternativeName:"Eastern European Time",group:["Europe/Bucharest"],continentCode:"EU",continentName:"Europe",countryName:"Romania",countryCode:"RO",mainCities:["Bucharest","Sector 3","Iai","Sector 6"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Bucharest, Sector 3, Iai, Sector 6"},{name:"Africa/Cairo",alternativeName:"Eastern European Time",group:["Africa/Cairo","Egypt"],continentCode:"AF",continentName:"Africa",countryName:"Egypt",countryCode:"EG",mainCities:["Cairo","Alexandria","Giza","Shubr al Khaymah"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Cairo, Alexandria, Giza, Shubr al Khaymah"},{name:"Europe/Chisinau",alternativeName:"Eastern European Time",group:["Europe/Chisinau","Europe/Tiraspol"],continentCode:"EU",continentName:"Europe",countryName:"Moldova",countryCode:"MD",mainCities:["Chisinau","Tiraspol","Bli","Bender"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Chisinau, Tiraspol, Bli, Bender"},{name:"Asia/Hebron",alternativeName:"Eastern European Time",group:["Asia/Gaza","Asia/Hebron"],continentCode:"AS",continentName:"Asia",countryName:"Palestinian Territory",countryCode:"PS",mainCities:["East Jerusalem","Gaza","Khn Ynis","Jably"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - East Jerusalem, Gaza, Khn Ynis, Jably"},{name:"Europe/Helsinki",alternativeName:"Eastern European Time",group:["Europe/Helsinki","Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Finland",countryCode:"FI",mainCities:["Helsinki","Espoo","Tampere","Oulu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Helsinki, Espoo, Tampere, Oulu"},{name:"Europe/Kaliningrad",alternativeName:"Eastern European Time",group:["Europe/Kaliningrad"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Kaliningrad","Chernyakhovsk","Sovetsk","Baltiysk"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kaliningrad, Chernyakhovsk, Sovetsk, Baltiysk"},{name:"Europe/Kyiv",alternativeName:"Eastern European Time",group:["Europe/Kyiv","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Kiev"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Kyiv","Kharkiv","Odesa","Dnipro"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kyiv, Kharkiv, Odesa, Dnipro"},{name:"Europe/Mariehamn",alternativeName:"Eastern European Time",group:["Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Aland Islands",countryCode:"AX",mainCities:["Mariehamn"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Mariehamn"},{name:"Asia/Nicosia",alternativeName:"Eastern European Time",group:["Asia/Famagusta","Asia/Nicosia","Europe/Nicosia"],continentCode:"EU",continentName:"Europe",countryName:"Cyprus",countryCode:"CY",mainCities:["Nicosia","Limassol","Larnaca","Strvolos"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Nicosia, Limassol, Larnaca, Strvolos"},{name:"Europe/Riga",alternativeName:"Eastern European Time",group:["Europe/Riga"],continentCode:"EU",continentName:"Europe",countryName:"Latvia",countryCode:"LV",mainCities:["Riga","Daugavpils","Liepja","Jelgava"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Riga, Daugavpils, Liepja, Jelgava"},{name:"Europe/Sofia",alternativeName:"Eastern European Time",group:["Europe/Sofia"],continentCode:"EU",continentName:"Europe",countryName:"Bulgaria",countryCode:"BG",mainCities:["Sofia","Plovdiv","Varna","Burgas"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Sofia, Plovdiv, Varna, Burgas"},{name:"Europe/Tallinn",alternativeName:"Eastern European Time",group:["Europe/Tallinn"],continentCode:"EU",continentName:"Europe",countryName:"Estonia",countryCode:"EE",mainCities:["Tallinn","Tartu","Narva","Prnu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tallinn, Tartu, Narva, Prnu"},{name:"Africa/Tripoli",alternativeName:"Eastern European Time",group:["Africa/Tripoli","Libya"],continentCode:"AF",continentName:"Africa",countryName:"Libya",countryCode:"LY",mainCities:["Tripoli","Benghazi","Misratah","Zliten"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tripoli, Benghazi, Misratah, Zliten"},{name:"Europe/Vilnius",alternativeName:"Eastern European Time",group:["Europe/Vilnius"],continentCode:"EU",continentName:"Europe",countryName:"Lithuania",countryCode:"LT",mainCities:["Vilnius","Kaunas","Klaipda","iauliai"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Vilnius, Kaunas, Klaipda, iauliai"},{name:"Asia/Jerusalem",alternativeName:"Israel Time",group:["Asia/Jerusalem","Israel","Asia/Tel_Aviv"],continentCode:"AS",continentName:"Asia",countryName:"Israel",countryCode:"IL",mainCities:["Jerusalem","Tel Aviv","West Jerusalem","Haifa"],rawOffsetInMinutes:120,abbreviation:"IST",rawFormat:"+02:00 Israel Time - Jerusalem, Tel Aviv, West Jerusalem, Haifa"},{name:"Africa/Johannesburg",alternativeName:"South Africa Time",group:["Africa/Johannesburg","Africa/Maseru","Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"South Africa",countryCode:"ZA",mainCities:["Johannesburg","Cape Town","Durban","Soweto"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Johannesburg, Cape Town, Durban, Soweto"},{name:"Africa/Mbabane",alternativeName:"South Africa Time",group:["Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"Eswatini",countryCode:"SZ",mainCities:["Manzini","Mbabane","Lobamba"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Manzini, Mbabane, Lobamba"},{name:"Africa/Maseru",alternativeName:"South Africa Time",group:["Africa/Maseru"],continentCode:"AF",continentName:"Africa",countryName:"Lesotho",countryCode:"LS",mainCities:["Maseru","Maputsoe","Mohale's Hoek","Mafeteng"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Maseru, Maputsoe, Mohale's Hoek, Mafeteng"},{name:"Asia/Kuwait",alternativeName:"Arabian Time",group:["Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Kuwait",countryCode:"KW",mainCities:["Al Amad","awall","As Slimyah","ab as Slim"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Al Amad, awall, As Slimyah, ab as Slim"},{name:"Asia/Bahrain",alternativeName:"Arabian Time",group:["Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Bahrain",countryCode:"BH",mainCities:["Ar Rif","Manama","Al Muharraq","Dr Kulayb"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Ar Rif, Manama, Al Muharraq, Dr Kulayb"},{name:"Asia/Baghdad",alternativeName:"Arabian Time",group:["Asia/Baghdad"],continentCode:"AS",continentName:"Asia",countryName:"Iraq",countryCode:"IQ",mainCities:["Baghdad","Al Mawil al Jaddah","Al Barah al Qadmah","Mosul"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Baghdad, Al Mawil al Jaddah, Al Barah al Qadmah, Mosul"},{name:"Asia/Qatar",alternativeName:"Arabian Time",group:["Asia/Qatar","Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Qatar",countryCode:"QA",mainCities:["Doha","Ar Rayyn","Al Mar al Atq","Al Manrah"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Doha, Ar Rayyn, Al Mar al Atq, Al Manrah"},{name:"Asia/Riyadh",alternativeName:"Arabian Time",group:["Asia/Riyadh","Antarctica/Syowa","Asia/Aden","Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Saudi Arabia",countryCode:"SA",mainCities:["Jeddah","Riyadh","Mecca","Medina"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Jeddah, Riyadh, Mecca, Medina"},{name:"Asia/Aden",alternativeName:"Arabian Time",group:["Asia/Aden"],continentCode:"AS",continentName:"Asia",countryName:"Yemen",countryCode:"YE",mainCities:["Sanaa","Aden","Al udaydah","Taiz"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Sanaa, Aden, Al udaydah, Taiz"},{name:"Asia/Amman",alternativeName:"Asia/Amman",group:["Asia/Amman"],continentCode:"AS",continentName:"Asia",countryName:"Jordan",countryCode:"JO",mainCities:["Amman","Zarqa","Irbid","Russeifa"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Amman - Amman, Zarqa, Irbid, Russeifa"},{name:"Asia/Damascus",alternativeName:"Asia/Damascus",group:["Asia/Damascus"],continentCode:"AS",continentName:"Asia",countryName:"Syria",countryCode:"SY",mainCities:["Aleppo","Damascus","Homs","Latakia"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Damascus - Aleppo, Damascus, Homs, Latakia"},{name:"Africa/Addis_Ababa",alternativeName:"East Africa Time",group:["Africa/Addis_Ababa"],continentCode:"AF",continentName:"Africa",countryName:"Ethiopia",countryCode:"ET",mainCities:["Addis Ababa","Jijiga","Gonder","Mek'ele"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Addis Ababa, Jijiga, Gonder, Mek'ele"},{name:"Indian/Antananarivo",alternativeName:"East Africa Time",group:["Indian/Antananarivo"],continentCode:"AF",continentName:"Africa",countryName:"Madagascar",countryCode:"MG",mainCities:["Antananarivo","Toamasina","Antsirabe","Mahajanga"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Antananarivo, Toamasina, Antsirabe, Mahajanga"},{name:"Africa/Asmara",alternativeName:"East Africa Time",group:["Africa/Asmara"],continentCode:"AF",continentName:"Africa",countryName:"Eritrea",countryCode:"ER",mainCities:["Asmara","Keren","Himora","Massawa"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Asmara, Keren, Himora, Massawa"},{name:"Africa/Dar_es_Salaam",alternativeName:"East Africa Time",group:["Africa/Dar_es_Salaam"],continentCode:"AF",continentName:"Africa",countryName:"Tanzania",countryCode:"TZ",mainCities:["Dar es Salaam","Mwanza","Arusha","Mbeya"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Dar es Salaam, Mwanza, Arusha, Mbeya"},{name:"Africa/Djibouti",alternativeName:"East Africa Time",group:["Africa/Djibouti"],continentCode:"AF",continentName:"Africa",countryName:"Djibouti",countryCode:"DJ",mainCities:["Djibouti","Ali Sabih","Dikhil","Tadjoura"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Djibouti, Ali Sabih, Dikhil, Tadjoura"},{name:"Africa/Kampala",alternativeName:"East Africa Time",group:["Africa/Kampala"],continentCode:"AF",continentName:"Africa",countryName:"Uganda",countryCode:"UG",mainCities:["Kampala","Gulu","Lira","Mbarara"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Kampala, Gulu, Lira, Mbarara"},{name:"Indian/Mayotte",alternativeName:"East Africa Time",group:["Indian/Mayotte"],continentCode:"AF",continentName:"Africa",countryName:"Mayotte",countryCode:"YT",mainCities:["Mamoudzou","Koungou","Labattoir","Kaouni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mamoudzou, Koungou, Labattoir, Kaouni"},{name:"Africa/Mogadishu",alternativeName:"East Africa Time",group:["Africa/Mogadishu"],continentCode:"AF",continentName:"Africa",countryName:"Somalia",countryCode:"SO",mainCities:["Mogadishu","Borama","Hargeysa","Berbera"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mogadishu, Borama, Hargeysa, Berbera"},{name:"Indian/Comoro",alternativeName:"East Africa Time",group:["Indian/Comoro"],continentCode:"AF",continentName:"Africa",countryName:"Comoros",countryCode:"KM",mainCities:["Moroni","Moutsamoudou","Fomboni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Moroni, Moutsamoudou, Fomboni"},{name:"Africa/Nairobi",alternativeName:"East Africa Time",group:["Africa/Nairobi","Africa/Addis_Ababa","Africa/Asmara","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Kampala","Africa/Mogadishu","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Africa/Asmera"],continentCode:"AF",continentName:"Africa",countryName:"Kenya",countryCode:"KE",mainCities:["Nairobi","Kakamega","Mombasa","Nakuru"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Nairobi, Kakamega, Mombasa, Nakuru"},{name:"Europe/Minsk",alternativeName:"Moscow Time",group:["Europe/Minsk"],continentCode:"EU",continentName:"Europe",countryName:"Belarus",countryCode:"BY",mainCities:["Minsk","Homyel'","Hrodna","Mahilyow"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Minsk, Homyel', Hrodna, Mahilyow"},{name:"Europe/Moscow",alternativeName:"Moscow Time",group:["Europe/Kirov","Europe/Moscow","Europe/Volgograd","W-SU"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Moscow","Saint Petersburg","Nizhniy Novgorod","Kazan"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Moscow, Saint Petersburg, Nizhniy Novgorod, Kazan"},{name:"Europe/Simferopol",alternativeName:"Moscow Time",group:["Europe/Simferopol"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Sevastopol","Simferopol","Kerch","Yevpatoriya"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Sevastopol, Simferopol, Kerch, Yevpatoriya"},{name:"Antarctica/Syowa",alternativeName:"Syowa Time",group:["Antarctica/Syowa"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Syowa"],rawOffsetInMinutes:180,abbreviation:"SYOT",rawFormat:"+03:00 Syowa Time - Syowa"},{name:"Europe/Istanbul",alternativeName:"Turkey Time",group:["Europe/Istanbul","Turkey","Asia/Istanbul"],continentCode:"AS",continentName:"Asia",countryName:"Turkey",countryCode:"TR",mainCities:["Istanbul","Ankara","Bursa","zmir"],rawOffsetInMinutes:180,abbreviation:"TRT",rawFormat:"+03:00 Turkey Time - Istanbul, Ankara, Bursa, zmir"},{name:"Asia/Tehran",alternativeName:"Iran Time",group:["Asia/Tehran","Iran"],continentCode:"AS",continentName:"Asia",countryName:"Iran",countryCode:"IR",mainCities:["Tehran","Mashhad","Isfahan","Karaj"],rawOffsetInMinutes:210,abbreviation:"IRST",rawFormat:"+03:30 Iran Time - Tehran, Mashhad, Isfahan, Karaj"},{name:"Asia/Yerevan",alternativeName:"Armenia Time",group:["Asia/Yerevan"],continentCode:"AS",continentName:"Asia",countryName:"Armenia",countryCode:"AM",mainCities:["Yerevan","Gyumri","Vanadzor","Vagharshapat"],rawOffsetInMinutes:240,abbreviation:"AMT",rawFormat:"+04:00 Armenia Time - Yerevan, Gyumri, Vanadzor, Vagharshapat"},{name:"Asia/Baku",alternativeName:"Azerbaijan Time",group:["Asia/Baku"],continentCode:"AS",continentName:"Asia",countryName:"Azerbaijan",countryCode:"AZ",mainCities:["Baku","Sumqayt","Ganja","Lankaran"],rawOffsetInMinutes:240,abbreviation:"AZT",rawFormat:"+04:00 Azerbaijan Time - Baku, Sumqayt, Ganja, Lankaran"},{name:"Asia/Tbilisi",alternativeName:"Georgia Time",group:["Asia/Tbilisi"],continentCode:"AS",continentName:"Asia",countryName:"Georgia",countryCode:"GE",mainCities:["Tbilisi","Batumi","Kutaisi","Rustavi"],rawOffsetInMinutes:240,abbreviation:"GET",rawFormat:"+04:00 Georgia Time - Tbilisi, Batumi, Kutaisi, Rustavi"},{name:"Asia/Dubai",alternativeName:"Gulf Time",group:["Asia/Dubai","Asia/Muscat","Indian/Mahe","Indian/Reunion"],continentCode:"AS",continentName:"Asia",countryName:"United Arab Emirates",countryCode:"AE",mainCities:["Dubai","Abu Dhabi","Sharjah","Al Ain City"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Dubai, Abu Dhabi, Sharjah, Al Ain City"},{name:"Asia/Muscat",alternativeName:"Gulf Time",group:["Asia/Muscat"],continentCode:"AS",continentName:"Asia",countryName:"Oman",countryCode:"OM",mainCities:["Muscat","Seeb","Bawshar","Ibr"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Muscat, Seeb, Bawshar, Ibr"},{name:"Indian/Mauritius",alternativeName:"Mauritius Time",group:["Indian/Mauritius"],continentCode:"AF",continentName:"Africa",countryName:"Mauritius",countryCode:"MU",mainCities:["Port Louis","Vacoas","Beau Bassin-Rose Hill","Curepipe"],rawOffsetInMinutes:240,abbreviation:"MUT",rawFormat:"+04:00 Mauritius Time - Port Louis, Vacoas, Beau Bassin-Rose Hill, Curepipe"},{name:"Indian/Reunion",alternativeName:"Runion Time",group:["Indian/Reunion"],continentCode:"AF",continentName:"Africa",countryName:"Reunion",countryCode:"RE",mainCities:["Saint-Denis","Saint-Paul","Saint-Pierre","Le Tampon"],rawOffsetInMinutes:240,abbreviation:"RET",rawFormat:"+04:00 Runion Time - Saint-Denis, Saint-Paul, Saint-Pierre, Le Tampon"},{name:"Europe/Samara",alternativeName:"Samara Time",group:["Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Samara","Saratov","Tolyatti","Izhevsk"],rawOffsetInMinutes:240,abbreviation:"SAMT",rawFormat:"+04:00 Samara Time - Samara, Saratov, Tolyatti, Izhevsk"},{name:"Indian/Mahe",alternativeName:"Seychelles Time",group:["Indian/Mahe"],continentCode:"AF",continentName:"Africa",countryName:"Seychelles",countryCode:"SC",mainCities:["Victoria"],rawOffsetInMinutes:240,abbreviation:"SCT",rawFormat:"+04:00 Seychelles Time - Victoria"},{name:"Asia/Kabul",alternativeName:"Afghanistan Time",group:["Asia/Kabul"],continentCode:"AS",continentName:"Asia",countryName:"Afghanistan",countryCode:"AF",mainCities:["Kabul","Hert","Mazr-e Sharf","Kandahr"],rawOffsetInMinutes:270,abbreviation:"AFT",rawFormat:"+04:30 Afghanistan Time - Kabul, Hert, Mazr-e Sharf, Kandahr"},{name:"Asia/Almaty",alternativeName:"East Kazakhstan Time",group:["Asia/Almaty","Asia/Qostanay"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Almaty","Shymkent","Karagandy","Taraz"],rawOffsetInMinutes:300,abbreviation:"ALMT",rawFormat:"+05:00 East Kazakhstan Time - Almaty, Shymkent, Karagandy, Taraz"},{name:"Indian/Kerguelen",alternativeName:"French Southern & Antarctic Time",group:["Indian/Kerguelen"],continentCode:"AN",continentName:"Antarctica",countryName:"French Southern Territories",countryCode:"TF",mainCities:["Port-aux-Franais"],rawOffsetInMinutes:300,abbreviation:"FSAT",rawFormat:"+05:00 French Southern & Antarctic Time - Port-aux-Franais"},{name:"Indian/Maldives",alternativeName:"Maldives Time",group:["Indian/Maldives","Indian/Kerguelen"],continentCode:"AS",continentName:"Asia",countryName:"Maldives",countryCode:"MV",mainCities:["Male"],rawOffsetInMinutes:300,abbreviation:"MVT",rawFormat:"+05:00 Maldives Time - Male"},{name:"Antarctica/Mawson",alternativeName:"Mawson Time",group:["Antarctica/Mawson","Antarctica/Vostok"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Mawson","Vostok"],rawOffsetInMinutes:300,abbreviation:"MAWT",rawFormat:"+05:00 Mawson Time - Mawson, Vostok"},{name:"Asia/Karachi",alternativeName:"Pakistan Time",group:["Asia/Karachi"],continentCode:"AS",continentName:"Asia",countryName:"Pakistan",countryCode:"PK",mainCities:["Karachi","Lahore","Faisalabad","Rawalpindi"],rawOffsetInMinutes:300,abbreviation:"PKT",rawFormat:"+05:00 Pakistan Time - Karachi, Lahore, Faisalabad, Rawalpindi"},{name:"Asia/Dushanbe",alternativeName:"Tajikistan Time",group:["Asia/Dushanbe"],continentCode:"AS",continentName:"Asia",countryName:"Tajikistan",countryCode:"TJ",mainCities:["Dushanbe","Isfara","Istaravshan","Klob"],rawOffsetInMinutes:300,abbreviation:"TJT",rawFormat:"+05:00 Tajikistan Time - Dushanbe, Isfara, Istaravshan, Klob"},{name:"Asia/Ashgabat",alternativeName:"Turkmenistan Time",group:["Asia/Ashgabat","Asia/Ashkhabad"],continentCode:"AS",continentName:"Asia",countryName:"Turkmenistan",countryCode:"TM",mainCities:["Ashgabat","Trkmenabat","Daoguz","Mary"],rawOffsetInMinutes:300,abbreviation:"TMT",rawFormat:"+05:00 Turkmenistan Time - Ashgabat, Trkmenabat, Daoguz, Mary"},{name:"Asia/Tashkent",alternativeName:"Uzbekistan Time",group:["Asia/Samarkand","Asia/Tashkent"],continentCode:"AS",continentName:"Asia",countryName:"Uzbekistan",countryCode:"UZ",mainCities:["Tashkent","Namangan","Samarkand","Andijon"],rawOffsetInMinutes:300,abbreviation:"UZT",rawFormat:"+05:00 Uzbekistan Time - Tashkent, Namangan, Samarkand, Andijon"},{name:"Asia/Aqtobe",alternativeName:"West Kazakhstan Time",group:["Asia/Aqtau","Asia/Aqtobe","Asia/Atyrau","Asia/Oral","Asia/Qyzylorda"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Aktobe","Kyzylorda","Oral","Atyrau"],rawOffsetInMinutes:300,abbreviation:"AQTT",rawFormat:"+05:00 West Kazakhstan Time - Aktobe, Kyzylorda, Oral, Atyrau"},{name:"Asia/Yekaterinburg",alternativeName:"Yekaterinburg Time",group:["Asia/Yekaterinburg"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yekaterinburg","Chelyabinsk","Ufa","Perm"],rawOffsetInMinutes:300,abbreviation:"YEKT",rawFormat:"+05:00 Yekaterinburg Time - Yekaterinburg, Chelyabinsk, Ufa, Perm"},{name:"Asia/Colombo",alternativeName:"India Time",group:["Asia/Colombo"],continentCode:"AS",continentName:"Asia",countryName:"Sri Lanka",countryCode:"LK",mainCities:["Colombo","Dehiwala-Mount Lavinia","Maharagama","Jaffna"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Colombo, Dehiwala-Mount Lavinia, Maharagama, Jaffna"},{name:"Asia/Kolkata",alternativeName:"India Time",group:["Asia/Kolkata","Asia/Calcutta"],continentCode:"AS",continentName:"Asia",countryName:"India",countryCode:"IN",mainCities:["Mumbai","Delhi","Bengaluru","Hyderbd"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Mumbai, Delhi, Bengaluru, Hyderbd"},{name:"Asia/Kathmandu",alternativeName:"Nepal Time",group:["Asia/Kathmandu","Asia/Katmandu"],continentCode:"AS",continentName:"Asia",countryName:"Nepal",countryCode:"NP",mainCities:["Kathmandu","Bharatpur","Ptan","Birgaj"],rawOffsetInMinutes:345,abbreviation:"NPT",rawFormat:"+05:45 Nepal Time - Kathmandu, Bharatpur, Ptan, Birgaj"},{name:"Asia/Dhaka",alternativeName:"Bangladesh Time",group:["Asia/Dhaka","Asia/Dacca"],continentCode:"AS",continentName:"Asia",countryName:"Bangladesh",countryCode:"BD",mainCities:["Dhaka","Chattogram","Khulna","Rangpur"],rawOffsetInMinutes:360,abbreviation:"BST",rawFormat:"+06:00 Bangladesh Time - Dhaka, Chattogram, Khulna, Rangpur"},{name:"Asia/Thimphu",alternativeName:"Bhutan Time",group:["Asia/Thimphu","Asia/Thimbu"],continentCode:"AS",continentName:"Asia",countryName:"Bhutan",countryCode:"BT",mainCities:["Thimphu","Phuntsholing","Tsirang","Punkha"],rawOffsetInMinutes:360,abbreviation:"BTT",rawFormat:"+06:00 Bhutan Time - Thimphu, Phuntsholing, Tsirang, Punkha"},{name:"Asia/Urumqi",alternativeName:"China Time",group:["Asia/Urumqi","Asia/Kashgar"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["rmqi","Shihezi","Korla","Aksu"],rawOffsetInMinutes:360,abbreviation:"CST",rawFormat:"+06:00 China Time - rmqi, Shihezi, Korla, Aksu"},{name:"Indian/Chagos",alternativeName:"Indian Ocean Time",group:["Indian/Chagos"],continentCode:"AS",continentName:"Asia",countryName:"British Indian Ocean Territory",countryCode:"IO",mainCities:["Chagos"],rawOffsetInMinutes:360,abbreviation:"IOT",rawFormat:"+06:00 Indian Ocean Time - Chagos"},{name:"Asia/Bishkek",alternativeName:"Kyrgyzstan Time",group:["Asia/Bishkek"],continentCode:"AS",continentName:"Asia",countryName:"Kyrgyzstan",countryCode:"KG",mainCities:["Bishkek","Osh","Jalal-Abad","Karakol"],rawOffsetInMinutes:360,abbreviation:"KGT",rawFormat:"+06:00 Kyrgyzstan Time - Bishkek, Osh, Jalal-Abad, Karakol"},{name:"Asia/Omsk",alternativeName:"Omsk Time",group:["Asia/Omsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Omsk","Tara","Kalachinsk","Isilkul"],rawOffsetInMinutes:360,abbreviation:"OMST",rawFormat:"+06:00 Omsk Time - Omsk, Tara, Kalachinsk, Isilkul"},{name:"Indian/Cocos",alternativeName:"Cocos Islands Time",group:["Indian/Cocos"],continentCode:"AS",continentName:"Asia",countryName:"Cocos Islands",countryCode:"CC",mainCities:["West Island"],rawOffsetInMinutes:390,abbreviation:"CCT",rawFormat:"+06:30 Cocos Islands Time - West Island"},{name:"Asia/Yangon",alternativeName:"Myanmar Time",group:["Asia/Yangon","Indian/Cocos","Asia/Rangoon"],continentCode:"AS",continentName:"Asia",countryName:"Myanmar",countryCode:"MM",mainCities:["Yangon","Mandalay","Nay Pyi Taw","Mawlamyine"],rawOffsetInMinutes:390,abbreviation:"MMT",rawFormat:"+06:30 Myanmar Time - Yangon, Mandalay, Nay Pyi Taw, Mawlamyine"},{name:"Indian/Christmas",alternativeName:"Christmas Island Time",group:["Indian/Christmas"],continentCode:"OC",continentName:"Oceania",countryName:"Christmas Island",countryCode:"CX",mainCities:["Flying Fish Cove"],rawOffsetInMinutes:420,abbreviation:"CXT",rawFormat:"+07:00 Christmas Island Time - Flying Fish Cove"},{name:"Antarctica/Davis",alternativeName:"Davis Time",group:["Antarctica/Davis"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Davis"],rawOffsetInMinutes:420,abbreviation:"DAVT",rawFormat:"+07:00 Davis Time - Davis"},{name:"Asia/Hovd",alternativeName:"Hovd Time",group:["Asia/Hovd"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulaangom","Khovd","lgii","Altai"],rawOffsetInMinutes:420,abbreviation:"HOVT",rawFormat:"+07:00 Hovd Time - Ulaangom, Khovd, lgii, Altai"},{name:"Asia/Bangkok",alternativeName:"Indochina Time",group:["Asia/Bangkok","Asia/Phnom_Penh","Asia/Vientiane","Indian/Christmas"],continentCode:"AS",continentName:"Asia",countryName:"Thailand",countryCode:"TH",mainCities:["Bangkok","Samut Prakan","Mueang Nonthaburi","Chon Buri"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Bangkok, Samut Prakan, Mueang Nonthaburi, Chon Buri"},{name:"Asia/Ho_Chi_Minh",alternativeName:"Indochina Time",group:["Asia/Ho_Chi_Minh","Asia/Saigon"],continentCode:"AS",continentName:"Asia",countryName:"Vietnam",countryCode:"VN",mainCities:["Ho Chi Minh City","Da Nang","Bin Ha","Cn Th"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Ho Chi Minh City, Da Nang, Bin Ha, Cn Th"},{name:"Asia/Phnom_Penh",alternativeName:"Indochina Time",group:["Asia/Phnom_Penh"],continentCode:"AS",continentName:"Asia",countryName:"Cambodia",countryCode:"KH",mainCities:["Phnom Penh","Takeo","Siem Reap","Battambang"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Phnom Penh, Takeo, Siem Reap, Battambang"},{name:"Asia/Vientiane",alternativeName:"Indochina Time",group:["Asia/Vientiane"],continentCode:"AS",continentName:"Asia",countryName:"Laos",countryCode:"LA",mainCities:["Vientiane","Savannakhet","Pakse","Thakhk"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Vientiane, Savannakhet, Pakse, Thakhk"},{name:"Asia/Novosibirsk",alternativeName:"Novosibirsk Time",group:["Asia/Barnaul","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Tomsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Novosibirsk","Krasnoyarsk","Barnaul","Tomsk"],rawOffsetInMinutes:420,abbreviation:"NOVT",rawFormat:"+07:00 Novosibirsk Time - Novosibirsk, Krasnoyarsk, Barnaul, Tomsk"},{name:"Asia/Jakarta",alternativeName:"Western Indonesia Time",group:["Asia/Jakarta","Asia/Pontianak"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jakarta","Surabaya","Bekasi","Bandung"],rawOffsetInMinutes:420,abbreviation:"WIB",rawFormat:"+07:00 Western Indonesia Time - Jakarta, Surabaya, Bekasi, Bandung"},{name:"Antarctica/Casey",alternativeName:"Australian Western Time",group:["Antarctica/Casey"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Casey"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Casey"},{name:"Australia/Perth",alternativeName:"Australian Western Time",group:["Australia/Perth","Australia/West"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Perth","Mandurah","Bunbury","Baldivis"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Perth, Mandurah, Bunbury, Baldivis"},{name:"Asia/Brunei",alternativeName:"Brunei Darussalam Time",group:["Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Brunei",countryCode:"BN",mainCities:["Bandar Seri Begawan","Sengkurong","Mentiri","Kuala Belait"],rawOffsetInMinutes:480,abbreviation:"BNT",rawFormat:"+08:00 Brunei Darussalam Time - Bandar Seri Begawan, Sengkurong, Mentiri, Kuala Belait"},{name:"Asia/Makassar",alternativeName:"Central Indonesia Time",group:["Asia/Makassar","Asia/Ujung_Pandang"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Makassar","Samarinda","Denpasar","Balikpapan"],rawOffsetInMinutes:480,abbreviation:"WITA",rawFormat:"+08:00 Central Indonesia Time - Makassar, Samarinda, Denpasar, Balikpapan"},{name:"Asia/Macau",alternativeName:"China Time",group:["Asia/Macau","Asia/Macao"],continentCode:"AS",continentName:"Asia",countryName:"Macao",countryCode:"MO",mainCities:["Macau","Taipa","Luhuan","Lai Chi Van"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Macau, Taipa, Luhuan, Lai Chi Van"},{name:"Asia/Shanghai",alternativeName:"China Time",group:["Asia/Shanghai","PRC","Asia/Chongqing","Asia/Harbin","Asia/Chungking"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["Shanghai","Beijing","Shenzhen","Guangzhou"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Shanghai, Beijing, Shenzhen, Guangzhou"},{name:"Asia/Hong_Kong",alternativeName:"Hong Kong Time",group:["Asia/Hong_Kong","Hongkong"],continentCode:"AS",continentName:"Asia",countryName:"Hong Kong",countryCode:"HK",mainCities:["Hong Kong","New Territories","Kowloon","Hong Kong Island"],rawOffsetInMinutes:480,abbreviation:"HKT",rawFormat:"+08:00 Hong Kong Time - Hong Kong, New Territories, Kowloon, Hong Kong Island"},{name:"Asia/Irkutsk",alternativeName:"Irkutsk Time",group:["Asia/Irkutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Irkutsk","Ulan-Ude","Bratsk","Angarsk"],rawOffsetInMinutes:480,abbreviation:"IRKT",rawFormat:"+08:00 Irkutsk Time - Irkutsk, Ulan-Ude, Bratsk, Angarsk"},{name:"Asia/Kuala_Lumpur",alternativeName:"Malaysia Time",group:["Asia/Kuala_Lumpur","Asia/Kuching","Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Malaysia",countryCode:"MY",mainCities:["Kuala Lumpur","Petaling Jaya","Klang","Johor Bahru"],rawOffsetInMinutes:480,abbreviation:"MYT",rawFormat:"+08:00 Malaysia Time - Kuala Lumpur, Petaling Jaya, Klang, Johor Bahru"},{name:"Asia/Manila",alternativeName:"Philippine Time",group:["Asia/Manila"],continentCode:"AS",continentName:"Asia",countryName:"Philippines",countryCode:"PH",mainCities:["Quezon City","Davao","Manila","Caloocan City"],rawOffsetInMinutes:480,abbreviation:"PHT",rawFormat:"+08:00 Philippine Time - Quezon City, Davao, Manila, Caloocan City"},{name:"Asia/Singapore",alternativeName:"Singapore Time",group:["Asia/Singapore","Singapore","Asia/Kuala_Lumpur"],continentCode:"AS",continentName:"Asia",countryName:"Singapore",countryCode:"SG",mainCities:["Singapore","Ulu Bedok","Bedok New Town","Tampines Estate"],rawOffsetInMinutes:480,abbreviation:"SGT",rawFormat:"+08:00 Singapore Time - Singapore, Ulu Bedok, Bedok New Town, Tampines Estate"},{name:"Asia/Taipei",alternativeName:"Taipei Time",group:["Asia/Taipei","ROC"],continentCode:"AS",continentName:"Asia",countryName:"Taiwan",countryCode:"TW",mainCities:["Taipei","Kaohsiung","Taichung","Tainan"],rawOffsetInMinutes:480,abbreviation:"TWT",rawFormat:"+08:00 Taipei Time - Taipei, Kaohsiung, Taichung, Tainan"},{name:"Asia/Ulaanbaatar",alternativeName:"Ulaanbaatar Time",group:["Asia/Choibalsan","Asia/Ulaanbaatar","Asia/Ulan_Bator"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulan Bator","Erdenet","Darhan","Mrn"],rawOffsetInMinutes:480,abbreviation:"ULAT",rawFormat:"+08:00 Ulaanbaatar Time - Ulan Bator, Erdenet, Darhan, Mrn"},{name:"Australia/Eucla",alternativeName:"Australian Central Western Time",group:["Australia/Eucla"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Eucla"],rawOffsetInMinutes:525,abbreviation:"ACWST",rawFormat:"+08:45 Australian Central Western Time - Eucla"},{name:"Asia/Dili",alternativeName:"East Timor Time",group:["Asia/Dili"],continentCode:"OC",continentName:"Oceania",countryName:"Timor Leste",countryCode:"TL",mainCities:["Dili","Maliana","Suai","Likis"],rawOffsetInMinutes:540,abbreviation:"TLT",rawFormat:"+09:00 East Timor Time - Dili, Maliana, Suai, Likis"},{name:"Asia/Jayapura",alternativeName:"Eastern Indonesia Time",group:["Asia/Jayapura"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jayapura","Ambon","Sorong","Ternate"],rawOffsetInMinutes:540,abbreviation:"WIT",rawFormat:"+09:00 Eastern Indonesia Time - Jayapura, Ambon, Sorong, Ternate"},{name:"Asia/Tokyo",alternativeName:"Japan Time",group:["Asia/Tokyo","Japan"],continentCode:"AS",continentName:"Asia",countryName:"Japan",countryCode:"JP",mainCities:["Tokyo","Yokohama","Osaka","Nagoya"],rawOffsetInMinutes:540,abbreviation:"JST",rawFormat:"+09:00 Japan Time - Tokyo, Yokohama, Osaka, Nagoya"},{name:"Asia/Pyongyang",alternativeName:"Korean Time",group:["Asia/Pyongyang"],continentCode:"AS",continentName:"Asia",countryName:"North Korea",countryCode:"KP",mainCities:["Pyongyang","Hamhng","Nampo","Sunchn"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Pyongyang, Hamhng, Nampo, Sunchn"},{name:"Asia/Seoul",alternativeName:"Korean Time",group:["Asia/Seoul","ROK"],continentCode:"AS",continentName:"Asia",countryName:"South Korea",countryCode:"KR",mainCities:["Seoul","Busan","Incheon","Daegu"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Seoul, Busan, Incheon, Daegu"},{name:"Pacific/Palau",alternativeName:"Palau Time",group:["Pacific/Palau"],continentCode:"OC",continentName:"Oceania",countryName:"Palau",countryCode:"PW",mainCities:["Ngerulmud"],rawOffsetInMinutes:540,abbreviation:"PWT",rawFormat:"+09:00 Palau Time - Ngerulmud"},{name:"Asia/Chita",alternativeName:"Yakutsk Time",group:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Chita","Yakutsk","Blagoveshchensk","Belogorsk"],rawOffsetInMinutes:540,abbreviation:"YAKT",rawFormat:"+09:00 Yakutsk Time - Chita, Yakutsk, Blagoveshchensk, Belogorsk"},{name:"Australia/Adelaide",alternativeName:"Australian Central Time",group:["Australia/Adelaide","Australia/Broken_Hill","Australia/South","Australia/Yancowinna"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Adelaide","Adelaide Hills","Mount Gambier","Morphett Vale"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Adelaide, Adelaide Hills, Mount Gambier, Morphett Vale"},{name:"Australia/Darwin",alternativeName:"Australian Central Time",group:["Australia/Darwin","Australia/North"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Darwin","Alice Springs","Palmerston"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Darwin, Alice Springs, Palmerston"},{name:"Australia/Brisbane",alternativeName:"Australian Eastern Time",group:["Australia/Brisbane","Australia/Lindeman","Australia/Queensland"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Brisbane","Gold Coast","Logan City","Townsville"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Brisbane, Gold Coast, Logan City, Townsville"},{name:"Australia/Sydney",alternativeName:"Australian Eastern Time",group:["Antarctica/Macquarie","Australia/Hobart","Australia/Melbourne","Australia/Sydney","Australia/Tasmania","Australia/Currie","Australia/Victoria","Australia/ACT","Australia/NSW","Australia/Canberra"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Sydney","Melbourne","Canberra","Newcastle"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Sydney, Melbourne, Canberra, Newcastle"},{name:"Pacific/Guam",alternativeName:"Chamorro Time",group:["Pacific/Guam","Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Guam",countryCode:"GU",mainCities:["Dededo Village","Yigo Village","Tamuning-Tumon-Harmon Village","Tamuning"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Dededo Village, Yigo Village, Tamuning-Tumon-Harmon Village, Tamuning"},{name:"Pacific/Saipan",alternativeName:"Chamorro Time",group:["Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Northern Mariana Islands",countryCode:"MP",mainCities:["Saipan"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Saipan"},{name:"Pacific/Chuuk",alternativeName:"Chuuk Time",group:["Pacific/Chuuk","Pacific/Truk","Pacific/Yap"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Chuuk"],rawOffsetInMinutes:600,abbreviation:"CHUT",rawFormat:"+10:00 Chuuk Time - Chuuk"},{name:"Antarctica/DumontDUrville",alternativeName:"Dumont-dUrville Time",group:["Antarctica/DumontDUrville"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["DumontDUrville"],rawOffsetInMinutes:600,abbreviation:"DDUT",rawFormat:"+10:00 Dumont-dUrville Time - DumontDUrville"},{name:"Pacific/Port_Moresby",alternativeName:"Papua New Guinea Time",group:["Pacific/Port_Moresby","Antarctica/DumontDUrville","Pacific/Chuuk","Pacific/Yap","Pacific/Truk"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Port Moresby","Lae","Mount Hagen","Popondetta"],rawOffsetInMinutes:600,abbreviation:"PGT",rawFormat:"+10:00 Papua New Guinea Time - Port Moresby, Lae, Mount Hagen, Popondetta"},{name:"Asia/Vladivostok",alternativeName:"Vladivostok Time",group:["Asia/Ust-Nera","Asia/Vladivostok"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Khabarovsk","Vladivostok","Khabarovsk Vtoroy","Komsomolsk-on-Amur"],rawOffsetInMinutes:600,abbreviation:"VLAT",rawFormat:"+10:00 Vladivostok Time - Khabarovsk, Vladivostok, Khabarovsk Vtoroy, Komsomolsk-on-Amur"},{name:"Australia/Lord_Howe",alternativeName:"Lord Howe Time",group:["Australia/Lord_Howe","Australia/LHI"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Lord Howe"],rawOffsetInMinutes:630,abbreviation:"LHST",rawFormat:"+10:30 Lord Howe Time - Lord Howe"},{name:"Pacific/Bougainville",alternativeName:"Bougainville Time",group:["Pacific/Bougainville"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Arawa"],rawOffsetInMinutes:660,abbreviation:"BST",rawFormat:"+11:00 Bougainville Time - Arawa"},{name:"Pacific/Kosrae",alternativeName:"Kosrae Time",group:["Pacific/Kosrae","Pacific/Pohnpei"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Kosrae","Palikir - National Government Center"],rawOffsetInMinutes:660,abbreviation:"KOST",rawFormat:"+11:00 Kosrae Time - Kosrae, Palikir - National Government Center"},{name:"Pacific/Noumea",alternativeName:"New Caledonia Time",group:["Pacific/Noumea"],continentCode:"OC",continentName:"Oceania",countryName:"New Caledonia",countryCode:"NC",mainCities:["Nouma","Mont-Dore","Dumba"],rawOffsetInMinutes:660,abbreviation:"NCT",rawFormat:"+11:00 New Caledonia Time - Nouma, Mont-Dore, Dumba"},{name:"Pacific/Norfolk",alternativeName:"Norfolk Island Time",group:["Pacific/Norfolk"],continentCode:"OC",continentName:"Oceania",countryName:"Norfolk Island",countryCode:"NF",mainCities:["Kingston"],rawOffsetInMinutes:660,abbreviation:"NFT",rawFormat:"+11:00 Norfolk Island Time - Kingston"},{name:"Asia/Sakhalin",alternativeName:"Sakhalin Time",group:["Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yuzhno-Sakhalinsk","Magadan","Korsakov","Kholmsk"],rawOffsetInMinutes:660,abbreviation:"SAKT",rawFormat:"+11:00 Sakhalin Time - Yuzhno-Sakhalinsk, Magadan, Korsakov, Kholmsk"},{name:"Pacific/Guadalcanal",alternativeName:"Solomon Islands Time",group:["Pacific/Guadalcanal","Pacific/Pohnpei","Pacific/Ponape"],continentCode:"OC",continentName:"Oceania",countryName:"Solomon Islands",countryCode:"SB",mainCities:["Honiara"],rawOffsetInMinutes:660,abbreviation:"SBT",rawFormat:"+11:00 Solomon Islands Time - Honiara"},{name:"Pacific/Efate",alternativeName:"Vanuatu Time",group:["Pacific/Efate"],continentCode:"OC",continentName:"Oceania",countryName:"Vanuatu",countryCode:"VU",mainCities:["Port-Vila"],rawOffsetInMinutes:660,abbreviation:"VUT",rawFormat:"+11:00 Vanuatu Time - Port-Vila"},{name:"Pacific/Fiji",alternativeName:"Fiji Time",group:["Pacific/Fiji"],continentCode:"OC",continentName:"Oceania",countryName:"Fiji",countryCode:"FJ",mainCities:["Nasinu","Suva","Lautoka","Nadi"],rawOffsetInMinutes:720,abbreviation:"FJT",rawFormat:"+12:00 Fiji Time - Nasinu, Suva, Lautoka, Nadi"},{name:"Pacific/Tarawa",alternativeName:"Gilbert Islands Time",group:["Pacific/Tarawa","Pacific/Funafuti","Pacific/Majuro","Pacific/Wake","Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Tarawa"],rawOffsetInMinutes:720,abbreviation:"GILT",rawFormat:"+12:00 Gilbert Islands Time - Tarawa"},{name:"Pacific/Majuro",alternativeName:"Marshall Islands Time",group:["Pacific/Kwajalein","Pacific/Majuro","Kwajalein"],continentCode:"OC",continentName:"Oceania",countryName:"Marshall Islands",countryCode:"MH",mainCities:["Majuro","Kwajalein","RMI Capitol"],rawOffsetInMinutes:720,abbreviation:"MHT",rawFormat:"+12:00 Marshall Islands Time - Majuro, Kwajalein, RMI Capitol"},{name:"Pacific/Nauru",alternativeName:"Nauru Time",group:["Pacific/Nauru"],continentCode:"OC",continentName:"Oceania",countryName:"Nauru",countryCode:"NR",mainCities:["Yaren"],rawOffsetInMinutes:720,abbreviation:"NRT",rawFormat:"+12:00 Nauru Time - Yaren"},{name:"Pacific/Auckland",alternativeName:"New Zealand Time",group:["Pacific/Auckland","NZ","Antarctica/McMurdo","Antarctica/South_Pole"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Auckland","Wellington","Christchurch","Manukau City"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - Auckland, Wellington, Christchurch, Manukau City"},{name:"Antarctica/McMurdo",alternativeName:"New Zealand Time",group:["Antarctica/McMurdo"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["McMurdo"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - McMurdo"},{name:"Asia/Kamchatka",alternativeName:"Petropavlovsk-Kamchatski Time",group:["Asia/Anadyr","Asia/Kamchatka"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Petropavlovsk-Kamchatsky","Yelizovo","Vilyuchinsk","Anadyr"],rawOffsetInMinutes:720,abbreviation:"PETT",rawFormat:"+12:00 Petropavlovsk-Kamchatski Time - Petropavlovsk-Kamchatsky, Yelizovo, Vilyuchinsk, Anadyr"},{name:"Pacific/Funafuti",alternativeName:"Tuvalu Time",group:["Pacific/Funafuti"],continentCode:"OC",continentName:"Oceania",countryName:"Tuvalu",countryCode:"TV",mainCities:["Funafuti"],rawOffsetInMinutes:720,abbreviation:"TVT",rawFormat:"+12:00 Tuvalu Time - Funafuti"},{name:"Pacific/Wake",alternativeName:"Wake Island Time",group:["Pacific/Wake"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Wake"],rawOffsetInMinutes:720,abbreviation:"WAKT",rawFormat:"+12:00 Wake Island Time - Wake"},{name:"Pacific/Wallis",alternativeName:"Wallis & Futuna Time",group:["Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Wallis and Futuna",countryCode:"WF",mainCities:["Mata-Utu"],rawOffsetInMinutes:720,abbreviation:"WFT",rawFormat:"+12:00 Wallis & Futuna Time - Mata-Utu"},{name:"Pacific/Chatham",alternativeName:"Chatham Time",group:["Pacific/Chatham","NZ-CHAT"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Chatham"],rawOffsetInMinutes:765,abbreviation:"CHAST",rawFormat:"+12:45 Chatham Time - Chatham"},{name:"Pacific/Apia",alternativeName:"Apia Time",group:["Pacific/Apia"],continentCode:"OC",continentName:"Oceania",countryName:"Samoa",countryCode:"WS",mainCities:["Apia"],rawOffsetInMinutes:780,abbreviation:"WST",rawFormat:"+13:00 Apia Time - Apia"},{name:"Pacific/Kanton",alternativeName:"Phoenix Islands Time",group:["Pacific/Kanton","Pacific/Enderbury"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kanton"],rawOffsetInMinutes:780,abbreviation:"PHOT",rawFormat:"+13:00 Phoenix Islands Time - Kanton"},{name:"Pacific/Fakaofo",alternativeName:"Tokelau Time",group:["Pacific/Fakaofo"],continentCode:"OC",continentName:"Oceania",countryName:"Tokelau",countryCode:"TK",mainCities:["Fakaofo"],rawOffsetInMinutes:780,abbreviation:"TKT",rawFormat:"+13:00 Tokelau Time - Fakaofo"},{name:"Pacific/Tongatapu",alternativeName:"Tonga Time",group:["Pacific/Tongatapu"],continentCode:"OC",continentName:"Oceania",countryName:"Tonga",countryCode:"TO",mainCities:["Nukualofa"],rawOffsetInMinutes:780,abbreviation:"TOT",rawFormat:"+13:00 Tonga Time - Nukualofa"},{name:"Pacific/Kiritimati",alternativeName:"Line Islands Time",group:["Pacific/Kiritimati"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kiritimati"],rawOffsetInMinutes:840,abbreviation:"LINT",rawFormat:"+14:00 Line Islands Time - Kiritimati"}];function K0n({alternativeName:e,mainCities:t,rawOffsetInMinutes:n,currentTimeOffsetInMinutes:r},{useCurrentOffset:i=!1}={}){return`${Z0n(i?r:n).padStart(6,"+")} ${e} - ${t.join(", ")}`}function Z0n(e){const t=Math.abs(e),[n,r]=[Math.floor(t/60),t%60].map((e=>e.toString().padStart(2,"0")));return`${e>=0?"+":"-"}${`${n}:${r}`}`}const X0n=/^[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?$/,J0n={year:0,month:1,day:2,hour:3,minute:4,second:5};function Q0n(e){return!(!e||!e.match(X0n))}function e1n(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,a,s,l,u]=r;return[a,i,o,s,l,u]}function t1n(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:i}=n[e],o=J0n[t];typeof o<"u"&&(r[o]=parseInt(i,10))}return r}function n1n(e){return new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function r1n(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function i1n(e){if(!Q0n(e))return!1;const t=new Date(Date.now());let n;try{n=n1n(e)}catch{return!1}const[r,i,o,a,s,l]=n.formatToParts?t1n(n,t):e1n(n,t);let u=+t;const c=u%1e3;return u-=c>=0?c:1e3+c,(r1n({year:r,month:i,day:o,hour:a,minute:s,second:l,millisecond:0})-u)/6e4}function a1n(e){return q0n.reduce((function(e,t){const n=i1n(t.name);if(!1===n)return e;const r={...t,currentTimeOffsetInMinutes:n};return e.push({...r,currentTimeFormat:K0n(r,{useCurrentOffset:!0})}),e}),[]).sort(((e,t)=>o1n(e,t)||kne(e.alternativeName,t.alternativeName)||kne(e.mainCities[0],t.mainCities[0])))}function o1n(e,t){return e.currentTimeOffsetInMinutes-t.currentTimeOffsetInMinutes}function kne(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):0}function Tne(e,t,n){var r=u1n(e,n.timeZone,n.locale);return r.formatToParts?s1n(r,t):l1n(r,t)}function s1n(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if("timeZoneName"===n[r].type)return n[r].value}function l1n(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function u1n(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function c1n(e,t){var n=p1n(t);return n.formatToParts?f1n(n,e):h1n(n,e)}var d1n={year:0,month:1,day:2,hour:3,minute:4,second:5};function f1n(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=d1n[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}function h1n(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var nO={};function p1n(e){if(!nO[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"06/25/2014 00:00:00"===t;nO[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return nO[e]}function OB(e,t,n,r,i,o,a){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,o,a),s}var Ane=36e5,m1n=6e4,rO={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function rj(e,t,n){var r,i,o;if(!e||(r=rO.timezoneZ.exec(e)))return 0;if(r=rO.timezoneHH.exec(e))return jne(o=parseInt(r[1],10))?-o*Ane:NaN;if(r=rO.timezoneHHMM.exec(e)){o=parseInt(r[2],10);var a=parseInt(r[3],10);return jne(o,a)?(i=Math.abs(o)*Ane+a*m1n,"+"===r[1]?-i:i):NaN}if(y1n(e)){t=new Date(t||Date.now());var s=f4(n?t:g1n(t),e);return-(n?s:v1n(t,s,e))}return NaN}function g1n(e){return OB(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function f4(e,t){var n=c1n(e,t),r=OB(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),o=i%1e3;return r-(i-=o>=0?o:1e3+o)}function v1n(e,t,n){var r=e.getTime()-t,i=f4(new Date(r),n);if(t===i)return t;r-=i-t;var o=f4(new Date(r),n);return i===o?i:Math.max(i,o)}function jne(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var Ine={};function y1n(e){if(Ine[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ine[e]=!0,!0}catch{return!1}}var b1n=6e4,x1n={X:function(e,t,n,r){var i=iO(r.timeZone,e);if(0===i)return"Z";switch(t){case"X":return Dne(i);case"XXXX":case"XX":return xg(i);default:return xg(i,":")}},x:function(e,t,n,r){var i=iO(r.timeZone,e);switch(t){case"x":return Dne(i);case"xxxx":case"xx":return xg(i);default:return xg(i,":")}},O:function(e,t,n,r){var i=iO(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+w1n(i,":");default:return"GMT"+xg(i,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return Tne("short",e,r);default:return Tne("long",e,r)}}};function iO(e,t){var n=e?rj(e,t,!0)/b1n:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function g5(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function xg(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+g5(Math.floor(i/60),2)+n+g5(Math.floor(i%60),2)}function Dne(e,t){return e%60==0?(e>0?"-":"+")+g5(Math.abs(e)/60,2):xg(e,t)}function w1n(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t;return n+String(i)+a+g5(o,2)}var C1n=x1n,LEe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,aO=36e5,One=6e4,S1n=2,so={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:LEe};function v5(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?S1n:ODt(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=E1n(e),o=_1n(i.date,r),a=o.year,s=k1n(o.restDateString,a);if(isNaN(s))return new Date(NaN);if(s){var l,u=s.getTime(),c=0;if(i.time&&(c=T1n(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(l=rj(i.timeZone||n.timeZone,new Date(u+c)),isNaN(l))return new Date(NaN)}else l=sZ(new Date(u+c)),l=sZ(new Date(u+c+l));return new Date(u+c+l)}return new Date(NaN)}function E1n(e){var t,n={},r=so.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=so.datePattern.exec(e))?(n.date=r[1],t=r[2]):(n.date=null,t=e),t){var i=so.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}function _1n(e,t){var n,r=so.YYY[t],i=so.YYYYY[t];if(n=so.YYYY.exec(e)||i.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=so.YY.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function k1n(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=so.MM.exec(e))return r=new Date(0),Mne(t,i=parseInt(n[1],10)-1)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=so.DDD.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return I1n(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(n=so.MMDD.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return Mne(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=so.Www.exec(e))return $ne(t,o=parseInt(n[1],10)-1)?Rne(t,o):new Date(NaN);if(n=so.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return $ne(t,o,l)?Rne(t,o,l):new Date(NaN)}return null}function T1n(e){var t,n,r;if(t=so.HH.exec(e))return oO(n=parseFloat(t[1].replace(",",".")))?n%24*aO:NaN;if(t=so.HHMM.exec(e))return oO(n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")))?n%24*aO+r*One:NaN;if(t=so.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return oO(n,r,i)?n%24*aO+r*One+1e3*i:NaN}return null}function Rne(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var A1n=[31,28,31,30,31,30,31,31,30,31,30,31],j1n=[31,29,31,30,31,30,31,31,30,31,30,31];function NEe(e){return e%400==0||e%4==0&&e%100!=0}function Mne(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=NEe(e);if(r&&n>j1n[t]||!r&&n>A1n[t])return!1}return!0}function I1n(e,t){if(t<1)return!1;var n=NEe(e);return!(n&&t>366||!n&&t>365)}function $ne(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function oO(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}var D1n=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function O1n(e,t,n){var r=String(t),i=n||{},o=r.match(D1n);if(o){var a=v5(i.originalDate||e,i);r=o.reduce((function(e,t){if("'"===t[0])return e;var n=e.indexOf(t),r="'"===e[n-1],o=e.replace(t,"'"+C1n[t[0]](a,t,null,i)+"'");return r?o.substring(0,n-1)+o.substring(n+1):o}),r)}return l3t(e,r,i)}function h4(e,t,n){var r=v5(e,n),i=rj(t,r,!0),o=new Date(r.getTime()-i),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}function BEe(e,t,n,r){var i=$ve(r);return i.timeZone=t,i.originalDate=e,O1n(h4(e,t),n,i)}function R1n(e,t,n){if("string"==typeof e&&!e.match(LEe)){var r=$ve(n);return r.timeZone=t,v5(e,r)}var i=v5(e,n),o=OB(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),a=rj(t,new Date(o));return new Date(o+a)}const Jo=e=>{const{body:t,title:n}=e;return u.jsxs(ne,{paddingY:1,space:3,children:[u.jsxs(xn,{space:2,children:[u.jsx(da,{}),n&&u.jsx(L,{size:2,weight:"semibold",children:n})]}),t&&u.jsx(L,{size:1,children:t})]})},p4="scheduled-publishing:";function ij(e){const t=`${p4}${e}`;return fa&&fa.enabled(t)?fa(t):fa(p4)}function M1n(e){return!("object"!=typeof e||!e)&&("statusCode"in e&&"response"in e)}function wg(e){let t;return M1n(e)?t=403===e.response.statusCode?H0n:e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}fa(p4);const $1n=ij("useScheduleOperation"),fb=a1n().map((e=>({abbreviation:e.abbreviation,alternativeName:e.alternativeName,mainCities:e.mainCities.join(", "),name:e.name,namePretty:e.name.replaceAll("_"," "),offset:e.currentTimeFormat.split(" ")[0],value:`${e.currentTimeFormat} ${e.abbreviation} ${e.name}`})));function m4(){return fb.find((e=>e.name===Intl.DateTimeFormat().resolvedOptions().timeZone))||fb.find((e=>"GMT"===e.abbreviation))||fb[0]}function Pne(){const e=localStorage.getItem($Ee);try{if(e)return JSON.parse(e)}catch{}return m4()}const Ia=()=>{const e=f.useMemo((()=>Pne()),[]),[t,n]=f.useState(e),r=Ur();f.useEffect((()=>{const e=()=>{n(Pne())};return window.addEventListener("timeZoneEventUpdate",e),()=>{window.removeEventListener("timeZoneEventUpdate",e)}}),[]);const i=f.useCallback((({date:e,format:n=s0.LARGE,includeTimeZone:r,prefix:i})=>{let o=n;return i&&(o=`'${i}'${n}`),r&&(o=`${n} (zzzz)`),BEe(e,t.name,o)}),[t.name]),o=f.useCallback((()=>h4(new Date,t.name)),[t.name]),a=f.useCallback((e=>{$1n("handleNewValue:",e),n((t=>{try{t.name!==e.name&&(localStorage.setItem($Ee,JSON.stringify(e)),window.dispatchEvent(new Event("timeZoneEventUpdate"))),r.push({closable:!0,description:u.jsx(Jo,{body:`${e.alternativeName} (${e.namePretty})`,title:"Time zone updated"}),duration:15e3,status:"info"})}catch(e){console.error(e),r.push({closable:!0,description:u.jsx(Jo,{body:wg(e),title:"Unable to update time zone"}),status:"error"})}return e}))}),[r]),s=f.useCallback((e=>h4(e,t.name)),[t.name]),l=f.useCallback((e=>R1n(e,t.name)),[t.name]);return{formatDateTz:i,getCurrentZoneDate:o,setTimeZone:a,timeZone:t,utcToCurrentZoneDate:s,zoneDateToUtc:l}},P1n=$.span((({theme:e})=>de`
    color: ${e.sanity.color.base.fg};
    font-weight: 500;
    margin-left: 1em;
  `)),F1n=$.span((({theme:e})=>de`
    color: ${e.sanity.color.input.default.readOnly.fg};
    margin-left: 1em;
  `)),L1n=e=>{const{onClose:t}=e,{setTimeZone:n,timeZone:r}=Ia(),[i,o]=f.useState(r),a=f.useCallback((e=>{const t=fb.find((t=>t.value===e));o(t)}),[]),s=f.useCallback((()=>{o(m4())}),[]),l=f.useCallback((()=>{i&&n(i),t?.()}),[t,i,n]),c=i?.name!==r.name,d=f.useMemo((()=>i?.name===m4().name),[i]),p=f.useCallback((e=>u.jsx(ae,{as:"button",padding:3,children:u.jsxs(L,{size:1,textOverflow:"ellipsis",children:[u.jsxs("span",{children:["GMT",e.offset]}),u.jsx(P1n,{children:e.alternativeName}),u.jsx(F1n,{children:e.mainCities})]})})),[]),h=f.useCallback(((e,t)=>t?`${t.alternativeName} (${t.namePretty})`:""),[]);return u.jsx(Si,{footer:{confirmButton:{text:"Update time zone",disabled:!c||!i,onClick:l,tone:"primary"}},header:"Select time zone",id:"time-zone",onClose:t,width:1,children:u.jsxs(ne,{padding:4,space:5,children:[u.jsx(L,{size:1,children:"The selected time zone will change how dates are represented in schedules."}),u.jsxs(ne,{space:3,children:[u.jsxs(U,{align:"center",justify:"space-between",children:[u.jsxs(xn,{space:2,children:[u.jsx(L,{size:1,weight:"semibold",children:"Time zone"}),d&&u.jsx(L,{muted:!0,size:1,children:"local time"})]}),!d&&u.jsx(L,{size:1,weight:"medium",children:u.jsx("a",{onClick:s,style:{cursor:"pointer"},children:"Select local time zone"})})]}),u.jsx(Tk,{fontSize:2,icon:ea,id:"timezone",onChange:a,openButton:!0,options:fb,padding:4,placeholder:"Search for a city or time zone",popover:{boundaryElement:document.querySelector("body"),constrainSize:!0,placement:"bottom-start"},renderOption:p,renderValue:h,tabIndex:-1,value:i?.value})]})]})})};function VEe(){const[e,t]=f.useState(!1),n=f.useCallback((()=>{t(!1)}),[]);return{visible:e,show:f.useCallback((()=>{t(!0)}),[]),hide:n}}function N1n(){const{visible:e,show:t,hide:n}=VEe();return{DialogTimeZone:e?L1n:null,dialogProps:{onClose:n,visible:e},dialogTimeZoneShow:t,hide:n}}const zEe=e=>{const{useElementQueries:t}=e,{timeZone:n}=Ia(),{DialogTimeZone:r,dialogProps:i,dialogTimeZoneShow:o}=N1n();return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(pt,{content:`Displaying schedules in ${n.alternativeName} (GMT${n.offset})`,portal:!0,children:u.jsx("div",{children:t?u.jsxs(u.Fragment,{children:[u.jsx(N,{className:"button-small",children:u.jsx(me,{icon:Bg,mode:"bleed",onClick:o,text:`${n.abbreviation}`})}),u.jsx(N,{className:"button-large",children:u.jsx(me,{icon:Bg,mode:"bleed",onClick:o,text:`${n.alternativeName} (${n.namePretty})`})})]}):u.jsx(me,{icon:Bg,mode:"bleed",onClick:o,text:`${n.alternativeName} (${n.namePretty})`})})})]})},UEe=$(_k)`
  .button-small {
    display: block;
  }
  .button-large {
    display: none;
  }

  &[data-eq-min~='2'] {
    .button-small {
      display: none;
    }
    .button-large {
      display: block;
    }
  }
`,Cf=()=>{},Lo=Cf(),sO=Object,On=e=>e===Lo,yu=e=>"function"==typeof e,Vf=(e,t)=>({...e,...t}),B1n=e=>yu(e.then),W2=new WeakMap;let V1n=0;const px=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,o;if(sO(e)!==e||r||n==RegExp)i=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(i=W2.get(e),i)return i;if(i=++V1n+"~",W2.set(e,i),n==Array){for(i="@",o=0;o<e.length;o++)i+=px(e[o])+",";W2.set(e,i)}if(n==sO){i="#";const t=sO.keys(e).sort();for(;!On(o=t.pop());)On(e[o])||(i+=o+":"+px(e[o])+",");W2.set(e,i)}}return i},Oc=new WeakMap,lO={},G2={},RB="undefined",aj=typeof window!=RB,g4=typeof document!=RB,z1n=()=>aj&&typeof window.requestAnimationFrame!=RB,HEe=(e,t)=>{const n=Oc.get(e);return[()=>!On(t)&&e.get(t)||lO,r=>{if(!On(t)){const i=e.get(t);t in G2||(G2[t]=i),n[5](t,Vf(i,r),i||lO)}},n[6],()=>!On(t)&&t in G2?G2[t]:!On(t)&&e.get(t)||lO]};let v4=!0;const U1n=()=>v4,[y4,b4]=aj&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Cf,Cf],H1n=()=>{const e=g4&&document.visibilityState;return On(e)||"hidden"!==e},W1n=e=>(g4&&document.addEventListener("visibilitychange",e),y4("focus",e),()=>{g4&&document.removeEventListener("visibilitychange",e),b4("focus",e)}),G1n=e=>{const t=()=>{v4=!0,e()},n=()=>{v4=!1};return y4("online",t),y4("offline",n),()=>{b4("online",t),b4("offline",n)}},Y1n={isOnline:U1n,isVisible:H1n},q1n={initFocus:W1n,initReconnect:G1n},Fne=!Ke.useId,mx=!aj||"Deno"in window,K1n=e=>z1n()?window.requestAnimationFrame(e):setTimeout(e,1),uO=mx?f.useEffect:f.useLayoutEffect,cO=typeof navigator<"u"&&navigator.connection,Lne=!mx&&cO&&(["slow-2g","2g"].includes(cO.effectiveType)||cO.saveData),MB=e=>{if(yu(e))try{e=e()}catch{e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?px(e):"",t]};let Z1n=0;const x4=()=>++Z1n,WEe=0,GEe=1,YEe=2,X1n=3;var ry={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function qEe(...e){const[t,n,r,i]=e,o=Vf({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{});let a=o.populateCache;const s=o.rollbackOnError;let l=o.optimisticData;const u=o.throwOnError;if(yu(n)){const e=n,r=[],i=t.keys();for(const n of i)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(c))}return c(n);async function c(n){const[i]=MB(n);if(!i)return;const[c,d]=HEe(t,i),[f,p,h,m]=Oc.get(t),g=()=>{const e=f[i];return(yu(o.revalidate)?o.revalidate(c().data,n):!1!==o.revalidate)&&(delete h[i],delete m[i],e&&e[0])?e[0](2).then((()=>c().data)):c().data};if(e.length<3)return g();let y,v=r;const b=x4();p[i]=[b,0];const x=!On(l),w=c(),C=w.data,k=w._c,j=On(k)?C:k;if(x&&(l=yu(l)?l(j,C):l,d({data:l,_c:j})),yu(v))try{v=v(j)}catch(e){y=e}if(v&&B1n(v)){if(v=await v.catch((e=>{y=e})),b!==p[i][0]){if(y)throw y;return v}y&&x&&(e=>"function"==typeof s?s(e):!1!==s)(y)&&(a=!0,d({data:j,_c:Lo}))}if(a&&!y)if(yu(a)){const e=a(v,j);d({data:e,error:Lo,_c:Lo})}else d({data:v,error:Lo,_c:Lo});if(p[i][1]=x4(),Promise.resolve(g()).then((()=>{d({_c:Lo})})),!y)return v;if(u)throw y}}const Nne=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},J1n=(e,t)=>{if(!Oc.has(e)){const n=Vf(q1n,t),r={},i=qEe.bind(Lo,e);let o=Cf;const a={},s=(e,t)=>{const n=a[e]||[];return a[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},l=(t,n,r)=>{e.set(t,n);const i=a[t];if(i)for(const e of i)e(n,r)},u=()=>{if(!Oc.has(e)&&(Oc.set(e,[r,{},{},{},i,l,s]),!mx)){const t=n.initFocus(setTimeout.bind(Lo,Nne.bind(Lo,r,0))),i=n.initReconnect(setTimeout.bind(Lo,Nne.bind(Lo,r,1)));o=()=>{t&&t(),i&&i(),Oc.delete(e)}}};return u(),[e,i,u,o]}return[e,Oc.get(e)[4]]},Q1n=(e,t,n,r,i)=>{const o=n.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!On(o)&&a>o||setTimeout(r,s,i)},evn=(e,t)=>px(e)==px(t),[KEe,tvn]=J1n(new Map),nvn=Vf({onLoadingSlow:Cf,onSuccess:Cf,onError:Cf,onErrorRetry:Q1n,onDiscarded:Cf,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Lne?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Lne?5e3:3e3,compare:evn,isPaused:()=>!1,cache:KEe,mutate:tvn,fallback:{}},Y1n),rvn=(e,t)=>{const n=Vf(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:a}=t;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=Vf(i,a))}return n},ivn=f.createContext({}),avn="$inf$",ZEe=aj&&window.__SWR_DEVTOOLS_USE__,ovn=ZEe?window.__SWR_DEVTOOLS_USE__:[],svn=()=>{ZEe&&(window.__SWR_DEVTOOLS_REACT__=Ke)},lvn=e=>yu(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],uvn=()=>Vf(nvn,f.useContext(ivn)),cvn=e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=MB(t),[,,,i]=Oc.get(KEe);if(r.startsWith(avn))return n(...e);const o=i[r];return On(o)?n(...e):(delete i[r],o)}),r),dvn=ovn.concat(cvn),fvn=e=>function(...t){const n=uvn(),[r,i,o]=lvn(t),a=rvn(n,o);let s=e;const{use:l}=a,u=(l||[]).concat(dvn);for(let e=u.length;e--;)s=u[e](s);return s(r,i||a.fetcher||null,a)},hvn=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};svn();const Bne=Ke.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),dO={dedupe:!0},pvn=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:a,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:d,keepPreviousData:p}=n,[h,m,g,y]=Oc.get(r),[v,b]=MB(e),x=f.useRef(!1),w=f.useRef(!1),C=f.useRef(v),k=f.useRef(t),j=f.useRef(n),S=()=>j.current,E=()=>S().isVisible()&&S().isOnline(),[_,A,T,D]=HEe(r,v),M=f.useRef({}).current,I=On(a)?n.fallback[v]:a,O=(e,t)=>{for(const n in M){const r=n;if("data"===r){if(!(i(e[r],t[r])||On(e[r])&&i(z,t[r])))return!1}else if(t[r]!==e[r])return!1}return!0},N=f.useMemo((()=>{const e=!(!v||!t)&&(On(s)?!S().isPaused()&&!o&&(!!On(l)||l):s),n=t=>{const n=Vf(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=_(),i=D(),a=n(r),u=r===i?a:n(i);let c=a;return[()=>{const e=n(_());return O(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>u]}),[r,v]),P=y3t.useSyncExternalStore(f.useCallback((e=>T(v,((t,n)=>{O(n,t)||e()}))),[r,v]),N[0],N[1]),R=!x.current,F=h[v]&&h[v].length>0,L=P.data,$=On(L)?I:L,B=P.error,V=f.useRef($),z=p?On(L)?V.current:L:$,U=!(F&&!On(B))&&(R&&!On(s)?s:!S().isPaused()&&(o?!On($)&&l:On($)||l)),H=!!(v&&t&&R&&U),W=On(P.isValidating)?H:P.isValidating,q=On(P.isLoading)?H:P.isLoading,G=f.useCallback((async e=>{const t=k.current;if(!v||!t||w.current||S().isPaused())return!1;let r,o,a=!0;const s=e||{},l=!g[v]||!s.dedupe,u=()=>Fne?!w.current&&v===C.current&&x.current:v===C.current,c={isValidating:!1,isLoading:!1},d=()=>{A(c)},f=()=>{const e=g[v];e&&e[1]===o&&delete g[v]},p={isValidating:!0};On(_().data)&&(p.isLoading=!0);try{if(l&&(A(p),n.loadingTimeout&&On(_().data)&&setTimeout((()=>{a&&u()&&S().onLoadingSlow(v,n)}),n.loadingTimeout),g[v]=[t(b),x4()]),[r,o]=g[v],r=await r,l&&setTimeout(f,n.dedupingInterval),!g[v]||g[v][1]!==o)return l&&u()&&S().onDiscarded(v),!1;c.error=Lo;const e=m[v];if(!On(e)&&(o<=e[0]||o<=e[1]||0===e[1]))return d(),l&&u()&&S().onDiscarded(v),!1;const s=_().data;c.data=i(s,r)?s:r,l&&u()&&S().onSuccess(r,v,n)}catch(e){f();const t=S(),{shouldRetryOnError:n}=t;t.isPaused()||(c.error=e,l&&u()&&(t.onError(e,v,t),(!0===n||yu(n)&&n(e))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||E())&&t.onErrorRetry(e,v,t,(e=>{const t=h[v];t&&t[0]&&t[0](ry.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,d(),!0}),[v,r]),Y=f.useCallback(((...e)=>qEe(r,C.current,...e)),[]);if(uO((()=>{k.current=t,j.current=n,On(L)||(V.current=L)})),uO((()=>{if(!v)return;const e=G.bind(Lo,dO);let t=0;const n=hvn(v,h,((n,r={})=>{if(n==ry.FOCUS_EVENT){const n=Date.now();S().revalidateOnFocus&&n>t&&E()&&(t=n+S().focusThrottleInterval,e())}else if(n==ry.RECONNECT_EVENT)S().revalidateOnReconnect&&E()&&e();else{if(n==ry.MUTATE_EVENT)return G();if(n==ry.ERROR_REVALIDATE_EVENT)return G(r)}}));return w.current=!1,C.current=v,x.current=!0,A({_k:b}),U&&(On($)||mx?e():K1n(e)),()=>{w.current=!0,n()}}),[v]),uO((()=>{let e;function t(){const t=yu(u)?u(_().data):u;t&&-1!==e&&(e=setTimeout(n,t))}function n(){_().error||!c&&!S().isVisible()||!d&&!S().isOnline()?t():G(dO).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[u,c,d,v]),f.useDebugValue(z),o&&On($)&&v){if(!Fne&&mx)throw new Error("Fallback data is required when using suspense in SSR.");k.current=t,j.current=n,w.current=!1;const e=y[v];if(!On(e)){const t=Y(e);Bne(t)}if(!On(B))throw B;{const e=G(dO);On(z)||(e.status="fulfilled",e.value=!0),Bne(e)}}return{mutate:Y,get data(){return M.data=!0,z},get error(){return M.error=!0,B},get isValidating(){return M.isValidating=!0,W},get isLoading(){return M.isLoading=!0,q}}},mvn=fvn(pvn);function gvn({children:e}){const{enabled:t,isLoading:n}=Zw("scheduledPublishing"),{scheduledPublishing:r}=jr(),i=r.enabled,o=f.useMemo((()=>!i||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"}),[t,n,i]);return u.jsx(dae.Provider,{value:o,children:e})}function $m(){const e=f.useContext(dae);if(!e)throw new Error("useScheduledPublishingEnabled must be used within a ScheduledPublishingEnabledProvider");return e}function Xp(e){return e?.executedAt||e?.executeAt}function w4({reverseOrder:e}={reverseOrder:!1}){return function(t,n){const r=Xp(t),i=Xp(n);return r===i?0:null===r?1:null===i?-1:(r>i?1:-1)*(e?-1:1)}}const iy=ij("useScheduleOperation");function vvn(){const e=Zt({apiVersion:"2022-09-01"});return f.useMemo((()=>yvn(e)),[e])}function yvn(e){const{dataset:t,projectId:n}=e.config();function r({scheduleId:r}){return iy("_delete:",r),e.request({method:"DELETE",uri:`/schedules/${n}/${t}/${r}`})}return{create:function({date:r,documentId:i}){iy("_create:",i);const o=new Date(r);return o.setSeconds(0),o.setMilliseconds(0),e.request({body:{documents:[{documentId:i}],executeAt:o,name:o},method:"POST",uri:`/schedules/${n}/${t}`})},delete:r,deleteMultiple:function({scheduleIds:e}){iy("_deleteMultiple:",e);const t=e.map((e=>r({scheduleId:e})));return Promise.allSettled(t)},publish:function({scheduleId:r}){return iy("_publish:",r),e.request({method:"POST",uri:`/schedules/${n}/${t}/${r}/publish`})},update:function({documentSchedule:r,scheduleId:i}){return iy("_update:",i,r),e.request({body:r,method:"PATCH",uri:`/schedules/${n}/${t}/${i}`})}}}var Cc=(e=>(e.create="scheduleCreate",e.delete="scheduleDelete",e.deleteMultiple="scheduleDeleteMultiple",e.publish="schedulePublish",e.update="scheduleUpdate",e))(Cc||{});function Vne(e,t){return`${t} ${e}${1===t?"":"s"}`}const ay=(e,t)=>new CustomEvent(e,t);function Ww(){const e=Ur(),{formatDateTz:t}=Ia(),n=vvn();return{createSchedule:async function({date:r,displayToast:i=!0,documentId:o}){try{const a=await n.create({date:r,documentId:o});window.dispatchEvent(ay("scheduleCreate",{detail:{date:r,documentId:o}})),i&&null!=a&&a.executeAt&&e.push({closable:!0,description:u.jsx(Jo,{body:t({date:new Date(a.executeAt),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule created"}),duration:15e3,status:"success"})}catch(t){i&&e.push({closable:!0,description:u.jsx(Jo,{body:wg(t),title:"Unable to create schedule"}),duration:15e3,status:"error"})}},deleteSchedule:async function({displayToast:t=!0,schedule:r}){try{await n.delete({scheduleId:r?.id}),window.dispatchEvent(ay("scheduleDelete",{detail:{scheduleId:r?.id}})),t&&e.push({closable:!0,description:u.jsx(Jo,{title:"Schedule deleted"}),status:"success"})}catch(n){t&&e.push({closable:!0,description:u.jsx(Jo,{body:wg(n),title:"Unable to delete schedule"}),duration:15e3,status:"error"})}},deleteSchedules:async function({displayToast:t=!0,schedules:r}){try{const i=r.map((e=>e.id)),o=await n.deleteMultiple({scheduleIds:i}),{fulfilledIds:a,rejectedReasons:s}=o.reduce(((e,t,n)=>("fulfilled"===t.status&&e.fulfilledIds.push(r[n].id),"rejected"===t.status&&e.rejectedReasons.push(`[${r[n].id}]: ${t.reason}`),e)),{fulfilledIds:[],rejectedReasons:[]}),l=a.length,c=s.length;a?.length>0&&window.dispatchEvent(ay("scheduleDeleteMultiple",{detail:{scheduleIds:a}})),t&&(a?.length>0&&e.push({closable:!0,description:u.jsx(Jo,{title:`${Vne("schedule",l)} deleted`}),status:"success"}),s?.length>0&&e.push({closable:!0,description:u.jsx(Jo,{body:s?.toString(),title:`Unable to delete ${Vne("schedule",c)}`}),duration:15e3,status:"error"}))}catch(n){t&&e.push({closable:!0,description:u.jsx(Jo,{body:wg(n),title:"Unable to delete schedules"}),duration:15e3,status:"error"})}},publishSchedule:async function({displayToast:t=!0,schedule:r}){try{const i=r.id;await n.publish({scheduleId:i}),window.dispatchEvent(ay("schedulePublish",{detail:{scheduleId:i}})),t&&e.push({closable:!0,description:u.jsx(Jo,{title:"Document published"}),status:"success"})}catch(n){t&&e.push({closable:!0,description:u.jsx(Jo,{body:wg(n),title:"Unable to publish schedule"}),duration:15e3,status:"error"})}},updateSchedule:async function({date:r,displayToast:i=!0,scheduleId:o}){try{await n.update({documentSchedule:{executeAt:r},scheduleId:o}),window.dispatchEvent(ay("scheduleUpdate",{detail:{date:r,scheduleId:o}})),i&&e.push({closable:!0,description:u.jsx(Jo,{body:t({date:new Date(r),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule updated"}),duration:15e3,status:"success"})}catch(t){i&&e.push({closable:!0,description:u.jsx(Jo,{body:wg(t),title:"Unable to update schedule"}),duration:15e3,status:"error"})}}}}function bvn(){const e=Zt({apiVersion:"2022-09-01"}),{dataset:t,projectId:n}=e.config();return`/schedules/${n}/${t}`}function xvn(e){const t=Zt({apiVersion:"2022-09-01"});return f.useCallback((()=>t.request({query:e.params,method:"GET",uri:e.url})),[t,e])}const wvn=[];function oj({documentId:e,state:t}={}){const{mode:n}=$m(),r=f.useMemo((()=>({refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:"default"===n?1e4:void 0,revalidateIfStale:"default"===n,revalidateOnReconnect:"default"===n})),[n]),i=bvn(),o=f.useMemo((()=>({params:{documentIds:e,state:t},url:i})),[i,e,t]),a=xvn(o),{data:s,error:l,mutate:u}=mvn(o,a,r),c=f.useCallback((e=>{u((t=>{var n;return{schedules:null==(n=t?.schedules)?void 0:n.filter((t=>t.id!==e.detail.scheduleId))}}),!0)}),[u]),d=f.useCallback((e=>{u((t=>{var n;return{schedules:null==(n=t?.schedules)?void 0:n.filter((t=>!e.detail.scheduleIds.includes(t.id)))}}),!0)}),[u]),p=f.useCallback((e=>{u((t=>{const n=t?.schedules||[],r=n.findIndex((t=>t.id===e.detail.scheduleId));return{schedules:[...n.slice(0,r),{...n[r],executeAt:(new Date).toISOString(),state:"succeeded"},...n.slice(r+1)]}}),!0)}),[u]),h=f.useCallback((e=>{u((t=>{const n=t?.schedules||[],r=n.findIndex((t=>t.id===e.detail.scheduleId));return{schedules:[...n.slice(0,r),{...n[r],executeAt:e.detail.date},...n.slice(r+1)]}}),!0)}),[u]);f.useEffect((()=>(window.addEventListener(Cc.delete,c),window.addEventListener(Cc.deleteMultiple,d),window.addEventListener(Cc.publish,p),window.addEventListener(Cc.update,h),()=>{window.removeEventListener(Cc.delete,c),window.removeEventListener(Cc.deleteMultiple,d),window.removeEventListener(Cc.publish,p),window.removeEventListener(Cc.update,h)})),[c,d,p,h]);const m=f.useMemo((()=>{var e;return null==(e=s?.schedules)?void 0:e.sort(w4())}),[s?.schedules]);return{error:l,isInitialLoading:!l&&!s,schedules:m||wvn}}const Cvn=[];function Svn({children:e,value:t}){const[n,r]=f.useState(t.sortBy||"executeAt"),{utcToCurrentZoneDate:i}=Ia(),o=f.useCallback((e=>function(t){const n=Xp(t);if(!n)return!1;const r=new Date(n);return Wa(i(r),e)}),[i]),a=f.useCallback((e=>function(t){return t.state===e}),[]),s=f.useMemo((()=>t.schedules.filter((e=>t.selectedDate?o(t.selectedDate)(e):a(t.scheduleState)(e))).sort(((e,r)=>{if("createdAt"===n)return e[n]<r[n]?1:-1;if("executeAt"===n){return w4({reverseOrder:!("scheduled"===t.scheduleState||t.selectedDate)})(e,r)}return 1}))||[]),[a,t.schedules,t.scheduleState,t.selectedDate,n,o]),l=f.useCallback((e=>t.schedules.filter(o(e)).sort(w4())),[t.schedules,o]);return u.jsx(hae.Provider,{value:{activeSchedules:s,schedules:t.schedules||Cvn,schedulesByDate:l,scheduleState:t.scheduleState,selectedDate:t.selectedDate,setSortBy:r,sortBy:n},children:e})}function Gw(){const e=f.useContext(hae);if(void 0===e)throw new Error("useSchedules must be used within a SchedulesProvider");return e}function XEe(e,t){return f.useMemo((()=>e.filter((e=>e.state===t))),[e,t])}const Evn=e=>{const{selected:t,schedules:n,state:r}=e,i=XEe(n,r).length,o=i>0,a="cancelled"===r,{href:s,onClick:l}=K8({state:{state:r}});return u.jsx(wt,{as:"a",href:s,mode:"bleed",onClick:l,selected:t,tone:a?"critical":"default",padding:2,children:u.jsxs(U,{gap:2,align:"center",children:[u.jsx(L,{size:1,weight:"medium",children:fx[r].title}),o&&u.jsx(L,{size:0,children:i})]})})},_vn=e=>{const{onClearDate:t,selectedDate:n}=e,{navigate:r}=wo(),{schedules:i,scheduleState:o}=Gw(),a=e=>{r(e)},s=XEe(i,o);return u.jsxs(u.Fragment,{children:[u.jsxs(N,{display:["block","block","none"],children:[n&&u.jsx(me,{iconRight:Ar,onClick:t,text:xu(n,"d MMMM yyyy"),tone:"primary"}),o&&u.jsx(Gt,{button:u.jsx(me,{iconRight:BF,mode:"ghost",text:`${fx[o].title} (${s?.length||0})`,tone:"default"}),id:"state",menu:u.jsx(At,{style:{minWidth:"175px"},children:hx.map((e=>u.jsx(qe,{iconRight:e===o?na:void 0,onClick:a.bind(void 0,{state:e}),text:fx[e].title},e)))}),placement:"bottom"})]}),u.jsxs(N,{display:["none","none","block"],children:[n&&u.jsx(me,{iconRight:Ar,onClick:t,text:xu(n,"d MMMM yyyy"),tone:"primary"}),o&&u.jsx(U,{gap:2,children:hx.map((e=>u.jsx(Evn,{schedules:i,selected:o===e,state:e},e)))})]})]})},kvn=$.img((e=>{const{media:t}=Ae(e.theme);return de`
    object-fit: cover;
    ${Dt(t,e.$direction,(e=>({width:"row"===e?"50%":"100%",height:"row"===e?"auto":"180px"})))}
  `})),Tvn=$(N)`
  margin: auto 0;
`,Avn=[3,3,5];function $B(e){var t;const{data:n,onPrimaryClick:r,onSecondaryClick:i,layout:o="vertical"}=e,a=["column","column","horizontal"===o?"row":"column"];return u.jsx(ae,{radius:3,overflow:"hidden",border:!0,children:u.jsxs(U,{direction:a,gap:2,children:[n.image&&u.jsx(kvn,{src:n.image.asset.url,alt:null!=(t=n.image.asset.altText)?t:"",$direction:a}),u.jsxs(Tvn,{paddingX:3,paddingY:"horizontal"===o?Avn:3,children:[u.jsx(ne,{space:4,children:u.jsx(nj,{blocks:n.descriptionText})}),u.jsxs(U,{gap:2,justify:"flex-end",marginTop:5,children:[n.secondaryButton.text&&u.jsx(me,{mode:"bleed",text:n.secondaryButton.text,tone:"primary",iconRight:Nu,...n.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:n.secondaryButton.url},onClick:i}),u.jsx(me,{text:n.ctaButton.text,tone:"primary",...n.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:n.ctaButton.url},onClick:r})]})]})]})})}function Yw(){return Sn().projectId}const Y0=_i({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),q0=_i({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),K0=_i({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),Z0=_i({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),Ud="scheduled_publishing",zne={interpolate:/{{([\s\S]+?)}}/g},Une="www.sanity.io";function jvn(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),o=Yw(),a=Ss(),s=Zt(zt),l=f.useMemo((()=>({dialogSecondaryClicked:()=>a.log(Z0,{feature:Ud,type:"modal"}),dialogPrimaryClicked:()=>a.log(K0,{feature:Ud,type:"modal"}),panelViewed:e=>a.log(Y0,{feature:Ud,type:"inspector",source:e}),panelDismissed:()=>a.log(q0,{feature:Ud,type:"inspector"}),panelPrimaryClicked:()=>a.log(K0,{feature:Ud,type:"inspector"}),panelSecondaryClicked:()=>a.log(Z0,{feature:Ud,type:"inspector"})})),[a]),c=f.useCallback((()=>{l.dialogPrimaryClicked()}),[l]),d=f.useCallback((()=>{l.dialogSecondaryClicked()}),[l]),p=f.useCallback((()=>{n(!1),a.log(q0,{feature:Ud,type:"modal"})}),[a]);f.useEffect((()=>{const e=s.observable.request({uri:"/journey/scheduled-publishing"}).subscribe({next:e=>{if(e)try{const t=B0(e.ctaButton.url,zne);e.ctaButton.url=t({baseUrl:Une,projectId:o});const n=B0(e.secondaryButton.url,zne);e.secondaryButton.url=n({baseUrl:Une,projectId:o}),i(e)}catch{}},error:()=>{}});return()=>{e.unsubscribe()}}),[s,o]);const h=f.useCallback((e=>{n(!0),a.log(Y0,{feature:Ud,type:"modal",source:e})}),[a]),m=f.useMemo((()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l})),[h,t,r,l]);return u.jsxs(fae.Provider,{value:m,children:[e.children,r&&t&&u.jsx(IB,{data:r,onClose:p,onPrimaryClick:c,onSecondaryClick:d})]})}function JEe(){return f.useContext(fae)}const Ivn=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M54 26C54 28.7614 49.0751 31 43 31C36.9249 31 32 28.7614 32 26C32 23.2386 36.9249 7 43 7C49.0751 7 54 23.2386 54 26Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M65 71.5V57M65 71.5L60.5789 69.0132M65 71.5L60.5789 73.9868M65 57L57 52.5L54 54.1875M65 57V42.5M65 57L57 47M65 57L58.1586 60.8483M65 57L60.5789 67.5M65 42.5L57 38L54 39.6875M65 42.5L57 47M65 42.5V27.5M57 47L65 27.5M57 47L54 39.6875M57 47L54 45.3125M57 47L54 50.75M57 23L65 27.5M57 23L54 24.6875V39.6875M57 23V60M65 27.5L57 32L54 30.3125",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M54 76C54 78.7614 49.0751 81 43 81C36.9249 81 32 78.7614 32 76M54 76H60.5V63L54 57M54 76V57M32 76H25V63L32 57M32 76V57M32 26V57M54 26V57M54 45C54 47.7614 49.0751 50 43 50V35C49.0751 35 54 32.7614 54 30",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M43 45.5701H44.8976L45.8465 43.1981L46.9679 42.7335L49.3162 43.7399L50.658 42.3981L49.6516 40.0499L50.1161 38.9284L52.4882 37.9795V36.0819L50.1161 35.1331L49.6516 34.0116M47.1334 34.9653C47.5197 35.5597 47.7441 36.269 47.7441 37.0307C47.7441 39.1268 46.0449 40.826 43.9488 40.826C43.6212 40.826 43.3033 40.7845 43 40.7064",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M63.5464 78.6739L64.9606 78.0321L67.4355 78.5135L68.6174 78.2913L69.6174 77.1566H71.6174L72.6174 78.2913L73.7994 78.5135L76.2743 78.0321L77.6885 78.6739M63.5464 78.6739L64.607 79.7972L64.1174 80.3336L63.5464 80.4373M63.5464 78.6739V80.4373M77.6885 78.6739L76.6278 79.7972L77.1174 80.3336L77.6885 80.4373M77.6885 78.6739V80.4373M63.5464 80.4373L61.6174 80.7875V81.6952L64.1174 82.1491L64.607 82.6855L63.5464 83.8088L64.9606 84.4506L67.4355 83.9693L68.6174 84.1915L69.6174 85.3261H71.6174L72.6174 84.1915L73.7994 83.9693L76.2743 84.4506L77.6885 83.8088L76.6278 82.6855L77.1174 82.1491L79.6174 81.6952V80.7875L77.6885 80.4373",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M79.6174 81.4647V84.7162L77.6885 85.0664M76.2743 87.4716L77.6885 86.8298V85.0664M76.2743 87.4716L73.7994 86.9902L72.6174 87.2124L71.6174 88.3471M76.2743 87.4716V84.7162M61.6174 81.4647V84.7162L63.5464 85.0664M71.6174 88.3471H69.6174M71.6174 88.3471V85.3261M69.6174 88.3471L68.6174 87.2124L67.4355 86.9902L64.9606 87.4716M69.6174 88.3471V85.3261M64.9606 87.4716L64.2535 87.1507L63.5464 86.8298V85.0664M64.9606 87.4716V84.6825M63.5464 84.039V85.0664M77.6885 84.039V85.0664",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M73.6174 81.2412C73.6174 81.9932 72.2743 82.6028 70.6174 82.6028C68.9606 82.6028 67.6174 81.9932 67.6174 81.2412C67.6174 80.4892 68.9606 79.8796 70.6174 79.8796C72.2743 79.8796 73.6174 80.4892 73.6174 81.2412Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M90 85.3616C90 86.1136 88.6569 86.7232 87 86.7232C85.3431 86.7232 84 86.1136 84 85.3616M90 85.3616C90 84.6096 88.6569 84 87 84C85.3431 84 84 84.6096 84 85.3616M90 85.3616V87.3616C90 88.1136 88.6569 88.7232 87 88.7232C85.3431 88.7232 84 88.1136 84 87.3616V85.3616",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M82 89.8648C82 90.3425 81.3284 90.7297 80.5 90.7297C79.6716 90.7297 79 90.3425 79 89.8648M82 89.8648C82 89.3872 81.3284 89 80.5 89C79.6716 89 79 89.3872 79 89.8648M82 89.8648V91.1352C82 91.6128 81.3284 92 80.5 92C79.6716 92 79 91.6128 79 91.1352V89.8648",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M52.7555 46.7289L52.5381 45.0136L51.2951 44.6903L50.2695 46.0824L49.4558 46.1956L48.0892 45.1364L46.9817 45.7867L47.2408 47.4962L46.7455 48.1517L45.0302 48.3691L44.7069 49.612M51.1084 47.9593C49.8968 47.6442 48.6622 48.2485 48.1434 49.3385",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M39 80.5L38 83.5C38 84.8807 40.2386 86 43 86C45.7614 86 48 84.8807 48 83.5L47 80.5",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32 77L31 80C31 81.3807 33.2386 82.5 36 82.5C36.9107 82.5 37.7646 82.3783 38.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M54 77L55 80C55 81.3807 52.7614 82.5 50 82.5C49.0893 82.5 48.2354 82.3783 47.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Hne=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35 84.5L41.7308 67H50V69.5M65 84.5L58.2692 67M32 65H42.5H50H57.5H81V23H19V65H24",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M84 16V23H16V16M84 16H16M84 16L82 14H18L16 16",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65H18L17 67H83L82 65H32",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("circle",{cx:"50",cy:"72",r:"2",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 63C24 61.8954 24.8954 61 26 61H30C31.1046 61 32 61.8954 32 63V67H24V63Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65C24 63.8954 24.8954 63 26 63H30C31.1046 63 32 63.8954 32 65V67H24V65Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28 44.9975C31.0617 44.62 33.5601 42.4793 35.2478 39.995C36.199 38.5947 36.9116 37.0761 36.9653 35.3597C36.9973 34.3355 36.8332 33.1459 35.8944 32.5454C35.3035 32.1675 34.4935 32.0285 33.8044 32.0022C32.7788 31.9631 32.1643 32.4357 31.8489 33.4197C30.3123 38.2145 33.0184 42.7025 36.3911 45.8977C38.1152 47.531 40.0746 48.9275 42.1179 50.1294C43.9867 51.2287 46.003 52.2595 48.1189 52.7885C48.9466 52.9954 50.4951 53.3913 51.3211 52.954C52.3579 52.4051 51.8285 49.7323 51.7091 48.9809C51.3862 46.9486 50.7293 45.0311 49.8726 43.1662C49.3791 42.0918 48.7948 40.8004 47.9999 39.8967C47.4959 39.3237 47.1331 39.4889 47.1101 40.2278C47.0699 41.5204 47.5768 42.7535 48.3103 43.7973C50.633 47.1024 54.4924 49.4656 58.2792 50.6985C59.9643 51.2471 61.8953 51.7306 63.6853 51.6193C65.3845 51.5137 65.6225 50.1321 65.7287 48.655C65.9958 44.9405 64.9629 40.7695 62.6403 37.7963C61.615 36.4839 60.3547 35.6334 58.6879 35.4476C57.7554 35.3437 56.665 35.3303 55.7391 35.5097C54.8073 35.6903 54.0162 36.297 54.3371 37.3462C54.6464 38.3572 55.8044 39.0666 56.6444 39.5759C57.983 40.3876 59.4813 40.9898 61.0262 41.2624C63.2658 41.6576 65.1745 41.1715 67.141 40.1346C67.9966 39.6835 68.8825 39.1795 69.4379 38.3861",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),Dvn=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35.5034 34.5961C35.6531 34.1763 35.8628 33.792 36.1352 33.4478C37.6813 31.4827 40.9503 31.2145 44.9898 32.3554M35.5034 34.5961L24.12 78.5806C23.4656 81.1092 26.1309 83.2083 28.4357 81.9796L68.4485 60.6484M35.5034 34.5961C34.2315 38.1622 37.2902 44.2842 43.0792 50.0342M68.4485 60.6484C68.8174 60.4078 69.1391 60.118 69.4084 59.7777C70.9736 57.7883 70.4521 54.4677 68.3472 50.7308M68.4485 60.6484C65.1795 62.7806 58.1999 61.0522 51.0413 56.4338M49.3164 55.2667C48.6043 54.7622 47.8933 54.2299 47.1867 53.6707C46.3331 52.9953 45.5161 52.3044 44.7387 51.6037M49.3164 55.2667C49.8913 55.674 50.4669 56.0632 51.0413 56.4338M49.3164 55.2667C52.3445 53.1871 58.7283 49.8329 66.4965 47.8874M51.0413 56.4338C55.9305 53.432 62.4593 51.6876 68.3472 50.7308M43.0792 50.0342C43.6098 50.5612 44.1634 51.0852 44.7387 51.6037M43.0792 50.0342C44.4006 45.7138 45.8116 38.387 44.9898 32.3554M44.7387 51.6037C47.6743 44.2968 48.7135 38.3712 48.6643 33.6916M63.9622 36.487C63.2905 34.23 62.35 29.5386 63.9622 28.8293C65.9774 27.9426 68.5569 33.5045 70.8139 32.2148C73.0709 30.9251 69.4435 27.7814 70.8139 25.2019C72.1842 22.6224 79.6002 28.4262 81.2123 23.4285C82.502 19.4304 79.7614 16.6574 78.2298 15.7708M66.4965 47.8874C70.7697 46.8171 75.462 46.1731 80.2449 46.4019L80.2449 49.7068C77.5329 49.6936 73.1535 49.9498 68.3472 50.7308M66.4965 47.8874C64.45 45.1054 61.6564 42.2264 58.3003 39.5859C55.0633 37.039 51.7429 35.0416 48.6643 33.6916M48.6643 33.6916C48.5822 25.8794 45.4671 21.5396 43.0792 20.043L39.941 23.4285C42.9851 25.0774 44.4569 28.4441 44.9898 32.3554",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32.2094 47.3001C31.0515 50.5465 34.6857 56.6214 40.9597 61.5862C47.2404 66.5562 53.9958 68.696 56.8839 66.8122",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.8867 60.1903C28.1245 62.3275 30.5169 66.3267 34.6472 69.595C38.7818 72.8669 43.229 74.2755 45.1303 73.0354",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M26.2718 70.2225C25.8147 71.5039 27.2491 73.9016 29.7254 75.8611C32.2044 77.8228 34.8707 78.6673 36.0106 77.9238",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.0529 44.1724C29.5354 43.1981 32.3735 40.6904 31.8652 38.4538C31.2298 35.6581 22.8425 38.9622 22.7155 36.5477C22.5884 34.1331 27.0361 30.575 26.909 28.6688C26.7819 26.7626 18.6489 30.8291 18.6489 26.8896C18.6489 23.738 21.36 22.1029 22.7155 21.6793",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"21.8833",y:"50.1122",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 21.8833 50.1122)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"16.0527",y:"36.722",width:"3.03077",height:"3.03077",transform:"rotate(4.36851 16.0527 36.722)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"27.9448",y:"22.8353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 27.9448 22.8353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"53.7065",y:"33.443",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 53.7065 33.443)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"67.3447",y:"13.743",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 67.3447 13.743)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"74.9219",y:"54.6584",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 74.9219 54.6584)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"70.3755",y:"66.7814",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 70.3755 66.7814)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"77.9526",y:"78.9045",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 77.9526 78.9045)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"82.4985",y:"62.2353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 82.4985 62.2353)",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),Ovn=e=>{const{scheduleState:t,selectedDate:n}=e;let r,i,o;switch(t){case"succeeded":i="When a scheduled document is successfully published it moves to this list view.",o="No completed scheduled publications ... yet",r=Ivn;break;case"cancelled":i="Schedules can fail for several reasons, for example when their documents are deleted. When they do, they show up here.",o="No failed scheduled publications",r=Dvn;break;case"scheduled":i="When editing a document, create a new scheduled publication from the menu next to the Publish button.",o="No upcoming scheduled publications",r=Hne}return n&&(i="No schedules for this date.",o=xu(n,"d MMMM yyyy"),r=Hne),u.jsx(ae,{paddingX:6,paddingBottom:8,paddingTop:7,radius:2,shadow:1,children:u.jsxs(ne,{space:4,children:[u.jsx(U,{justify:"center",children:r&&u.jsx(r,{})}),u.jsxs(ne,{space:4,children:[o&&u.jsx(Ci,{align:"center",size:1,children:o}),i&&u.jsx(L,{align:"center",size:1,children:i})]})]})})},Rvn=e=>!0===e.liveEdit;function Mvn(e,t,n,r){return Ni([Rvn(t)?we({snapshot:null}):e.observeForPreview({_type:"reference",_ref:Vi(n)},t),e.observeForPreview({_type:"reference",_ref:sn(n)},t)]).pipe(fe((([e,t])=>({draft:e.snapshot?{title:r,...e.snapshot||{}}:null,isLoading:!1,published:t.snapshot?{title:r,...t.snapshot||{}}:null}))),xi({draft:null,isLoading:!0,published:null}))}function sj(e){var t;return null==(t=e.documents)?void 0:t[0]}function QEe(e){var t;return null==(t=sj(e))?void 0:t.documentId.replaceAll("drafts.","")}function $vn(e,t){const n=Ui(),[r,i]=f.useState({});return f.useEffect((()=>{if(!t)return;const r=Mvn(n,t,e,"").subscribe((e=>{i(e)}));return()=>{r?.unsubscribe()}}),[n,t,e]),r}function Jt(){return Sn().schema}function e_e(e){const t=sj(e),n=Jt(),r=t.documentType;return f.useMemo((()=>{if(r)return n.get(r)}),[r,n])}function Pvn(e){const t=Jt();return f.useMemo((()=>t.get(e)),[e,t])}const Fvn=$(_k)`
  .date-small {
    display: inline;
  }
  .date-medium {
    display: none;
  }
  .date-large {
    display: none;
  }

  &[data-eq-min~='1'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: inline;
    }
    .date-large {
      display: none;
    }
  }

  &[data-eq-min~='2'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: none;
    }
    .date-large {
      display: inline;
    }
  }
`;function Lvn({children:e,value:t}){return u.jsx(cae.Provider,{value:t,children:e})}function Nvn(){const e=f.useContext(cae);if(void 0===e)throw new Error("useDocumentActionProps must be used within a DocumentActionPropsProvider");return e}function t_e(e){const[t,n]=f.useState(!1),[r,i]=f.useState(e&&null!=e&&e.executeAt?{date:e.executeAt}:null);return{formData:r,isDirty:t,onFormChange:f.useCallback((t=>{const r=e?.executeAt&&new Date(e.executeAt).getTime()===new Date(t?.date).getTime();i(t),n(!r)}),[e?.executeAt])}}function Bvn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,customValidation:o,onSelect:a,selected:s}=e,l=f.useMemo((()=>!o||o(Vb(t))),[t,o]),c=f.useCallback((()=>{l&&a(t)}),[t,l,a]);return u.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:u.jsx(ae,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",disabled:!l,role:"button",tabIndex:-1,onClick:c,padding:3,radius:2,selected:s,tone:i||s?"primary":"default",children:u.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Vvn=["January","February","March","April","May","June","July","August","September","October","November","December"],zvn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Uvn=hw(0,24),Hvn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wvn=[1,2,3,4,5,6],Gvn=e=>{const t=AT(e);return TT({start:t,end:IT(t)})},Yvn=e=>e.map((e=>[e,...Wvn.map((t=>Fr(e,t)))])),qvn=e=>Yvn(Gvn(e)).map((e=>({number:jT(e[0]),days:e})));function Kvn(e){const{getCurrentZoneDate:t}=Ia(),{customValidation:n}=e;return u.jsx(N,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Rn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[zvn.map((e=>u.jsx(N,{paddingY:2,children:u.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:e})},e))),qvn(e.date).map(((r,i)=>r.days.map(((r,o)=>{const a=e.focused&&Wa(r,e.focused),s=e.selected&&Wa(r,e.selected),l=Wa(r,t()),c=e.focused&&DT(r,e.focused);return u.jsx(Bvn,{date:r,focused:a,isCurrentMonth:c,isToday:l,customValidation:n,onSelect:e.onSelect,selected:s},`${i}-${o}`)}))))]})})}const Zvn={dayPresets:!1,timePresets:!1},Xvn=({onChange:e,...t})=>{const n=f.useCallback((t=>{const n=parseInt(t.currentTarget.value,10);isNaN(n)||e(n)}),[e]);return u.jsx(GA,{...t,onChange:n,inputMode:"numeric"})},Jvn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Qvn=f.forwardRef((function(e,t){const{getCurrentZoneDate:n,zoneDateToUtc:r}=Ia(),{selectTime:i,onFocusedDateChange:o,selectedDate:a=n(),focusedDate:s=a,timeStep:l=1,onSelect:c,customValidation:d,...p}=e,h=f.useCallback((e=>o(r(e))),[o,r]),m=f.useCallback((e=>h(U0e(f8(s,e),1))),[s,h]),g=f.useCallback((e=>m(Number(e.currentTarget.value))),[m]),y=f.useCallback((e=>h(fw(s,e))),[s,h]),v=f.useCallback((e=>h(H0e(s,e))),[s,h]),b=f.useCallback((e=>{c(r(Wc(fp(e,a.getHours()),a.getMinutes())))}),[c,a,r]),x=f.useCallback((e=>{const t=Number(e.currentTarget.value);c(r(Wc(a,t)))}),[c,a,r]),w=f.useCallback((e=>{const t=Number(e.currentTarget.value);c(r(fp(a,t)))}),[c,a,r]);f.useCallback(((e,t)=>{c(r(fp(Wc(a,t),e)))}),[c,a,r]);const C=f.useRef(null);f.useImperativeHandle(t,(()=>C.current));const k=f.useCallback((()=>{var e,t;null==(t=null==(e=C.current)?void 0:e.querySelector('[data-focused="true"]'))||t.focus()}),[C]),j=f.useCallback((e=>{var t,n;if(Hvn.includes(e.key)){if(e.preventDefault(),e.currentTarget.hasAttribute("data-calendar-grid"))return void k();"ArrowUp"===e.key&&o(r(Fr(s,-7))),"ArrowDown"===e.key&&o(r(Fr(s,7))),"ArrowLeft"===e.key&&o(r(Fr(s,-1))),"ArrowRight"===e.key&&o(r(Fr(s,1))),null==(n=null==(t=C.current)?void 0:t.querySelector("[data-preserve-focus]"))||n.focus()}}),[r,C,k,o,s]);f.useEffect((()=>{k()}),[k]),f.useEffect((()=>{var e;null!=(e=document.activeElement)&&e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&k()}),[C,k,s]);const S=f.useCallback((()=>c(new Date)),[c]);return u.jsxs(N,{"data-ui":"Calendar",...p,ref:C,children:[u.jsxs(N,{padding:2,children:[u.jsxs(U,{children:[u.jsx(N,{flex:1,children:u.jsx(eyn,{moveFocusedDate:y,onChange:g,value:s?.getMonth()})}),u.jsx(N,{marginLeft:2,children:u.jsx(tyn,{moveFocusedDate:y,onChange:v,value:s.getFullYear()})})]}),u.jsxs(N,{"data-calendar-grid":!0,onKeyDown:j,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(Kvn,{date:s,focused:s,customValidation:d,onSelect:b,selected:a}),Jvn]})]}),i&&u.jsxs(N,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(U,{align:"center",children:[u.jsxs(U,{align:"center",flex:1,children:[u.jsx(N,{children:u.jsx(rl,{"aria-label":"Select hour",value:a?.getHours(),onChange:w,children:Uvn.map((e=>u.jsx("option",{value:e,children:`${e}`.padStart(2,"0")},e)))})}),u.jsx(N,{paddingX:1,children:u.jsx(L,{children:":"})}),u.jsx(N,{children:u.jsx(rl,{"aria-label":"Select minutes",value:a?.getMinutes(),onChange:x,children:hw(0,60,l).map((e=>u.jsx("option",{value:e,children:`${e}`.padStart(2,"0")},e)))})})]}),u.jsx(N,{marginLeft:2,children:u.jsx(wt,{text:"Set to current time",mode:"bleed",onClick:S})})]}),Zvn.timePresets]})]})}));function eyn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback((()=>t(-1)),[t]),o=f.useCallback((()=>t(1)),[t]);return u.jsxs(U,{flex:1,children:[u.jsx(wt,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:yd,paddingX:2,radius:0}),u.jsx(N,{flex:1,children:u.jsx(rl,{radius:0,value:r,onChange:n,children:Vvn.map(((e,t)=>u.jsx("option",{value:t,children:e},t)))})}),u.jsx(wt,{"aria-label":"Go to next month",mode:"bleed",icon:Aa,onClick:o,paddingX:2,radius:0})]})}function tyn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback((()=>t(-12)),[t]),o=f.useCallback((()=>t(12)),[t]);return u.jsxs(U,{children:[u.jsx(wt,{"aria-label":"Previous year",onClick:i,mode:"bleed",icon:yd,paddingX:2,radius:0}),u.jsx(Xvn,{value:r,onChange:n,radius:0,style:{width:65}}),u.jsx(wt,{"aria-label":"Next year",onClick:o,mode:"bleed",icon:Aa,paddingX:2,radius:0})]})}const nyn=f.forwardRef((function(e,t){const{utcToCurrentZoneDate:n}=Ia(),{value:r=new Date,onChange:i,customValidation:o,...a}=e,[s,l]=f.useState(),c=f.useCallback((e=>{i(e),l(void 0)}),[i]);return u.jsx(Qvn,{...a,ref:t,selectedDate:n(r),onSelect:c,focusedDate:n(s||r),onFocusedDateChange:l,customValidation:o})})),ryn=f.forwardRef((function(e,t){const{value:n,inputValue:r,customValidation:i,onInputChange:o,onChange:a,selectTime:s,timeStep:l,...c}=e,[d,p]=f.useState(null),h=f.useRef(null),m=f.useRef(null);f.useImperativeHandle(t,(()=>h.current));const[g,y]=f.useState(!1),v=Sd();Fn((()=>y(!1)),[d]);const b=f.useCallback((()=>{var e,t;null==(e=h.current)||e.focus(),null==(t=h.current)||t.select()}),[h]),x=f.useCallback((e=>{"Escape"===e.key&&y(!1)}),[]),w=f.useCallback((()=>y(!0)),[]),C=u.jsx(N,{style:{padding:"5px"},children:u.jsx(wt,{ref:m,icon:da,mode:"bleed",padding:2,onClick:w,style:{display:"block"},"data-testid":"select-date-button"})});return u.jsx(GA,{ref:h,...c,value:r,onChange:o,suffix:g?u.jsx(nl,{zOffset:1e3,children:u.jsx(An,{constrainSize:!0,content:u.jsx(N,{overflow:"auto",children:u.jsx(fl,{onDeactivation:b,children:u.jsx(nyn,{selectTime:s,timeStep:l,onKeyUp:x,value:n,onChange:a,customValidation:i})})}),"data-testid":"date-input-dialog",fallbackPlacements:["bottom","bottom-start","top-end","top","top-start"],floatingBoundary:v.element,open:!0,placement:"bottom-end",portal:!0,radius:2,ref:p,children:C})}):C})})),iyn=f.forwardRef((function(e,t){const{value:n,markers:r,title:i,description:o,placeholder:a,parseInputValue:s,formatInputValue:l,deserialize:c,serialize:d,selectTime:p,timeStep:h,readOnly:m,level:g,onChange:y,customValidation:v,...b}=e,[x,w]=f.useState(null);f.useEffect((()=>{w(null)}),[n]);const{zoneDateToUtc:C}=Ia(),k=typeof n>"u",j=f.useCallback((e=>{const t=e.currentTarget.value,n=""===t?null:s(t);null===n?(y(null),k&&x&&w(null)):n.isValid?y(d(C(n.date))):w(t)}),[k,C,x,d,y,s]),S=f.useCallback((e=>{y(e?d(e):null)}),[d,y]),E=f.useRef(null);f.useImperativeHandle(t,(()=>E.current));const _=f.useId(),A=x?s(x):n?c(n):null,T=x||(null!=A&&A.isValid?l(A.date):n),D=f.useMemo((()=>r.map((e=>{var t,n;return{level:e.level,path:e.path,message:null!=(n=e.message)?n:null==(t=e.item)?void 0:t.message}}))),[r]);return u.jsx(Im,{validation:null!=A&&A.error?[...D,{level:"error",message:A.error,path:[]}]:D,title:i,level:g,description:o,inputId:_,children:m?u.jsx(Vr,{value:T,readOnly:!0}):u.jsx(ryn,{...b,id:_,selectTime:p,timeStep:h,placeholder:a||`e.g. ${l(new Date)}`,ref:E,value:A?.date,inputValue:T||"",readOnly:!!m,onInputChange:j,onChange:S,customValidity:A?.error,customValidation:v})})}));function ayn(e){return e instanceof Date&&!isNaN(e.valueOf())}function oyn(e={}){return{customValidation:e.customValidation||function(){return!0},customValidationMessage:e.customValidationMessage||"Invalid date.",calendarTodayLabel:e.calendarTodayLabel||"Today",timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function n_e(e){return e.toISOString()}function syn(e){const t=new Date(e);return ayn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function lyn(e,t){if(!t||1===t)return e;const n=V0e(e),r=M0e(n),i=r%t;return n_e(0!==i?Wc(n,r-i):n)}const uyn=f.forwardRef((function(e,t){const{type:n,onChange:r,...i}=e,{title:o,description:a,placeholder:s}=n,{scheduledPublishing:l}=jr(),c=l.inputDateTimeFormat,{getCurrentZoneDate:d,timeZone:p}=Ia(),{customValidation:h,customValidationMessage:m,timeStep:g}=oyn(n.options),y=f.useCallback((e=>{let t=e;null!==t&&g>1&&(t=lyn(t,g)),r(t)}),[r,g]),v=f.useCallback((e=>BEe(e,p.name,`${c}`)),[c,p.name]),b=f.useCallback((e=>{const t=d8(e,`${c}`,d());return nd(t)?h(t)?{isValid:!0,date:t}:{isValid:!1,error:m}:{isValid:!1,error:`Invalid date. Must be in the format "${c}"`}}),[h,m,d,c]);return u.jsx(iyn,{...i,onChange:y,ref:t,selectTime:!0,timeStep:g,title:o,description:a,placeholder:s,serialize:n_e,deserialize:syn,formatInputValue:v,customValidation:h,parseInputValue:b})})),cyn=e=>{const{onChange:t,value:n}=e,{getCurrentZoneDate:r}=Ia(),[i,o]=f.useState();return u.jsx(ne,{space:4,children:u.jsx(ae,{children:u.jsx(uyn,{level:0,markers:[],onChange:e=>{e&&t&&(t({date:e}),o(e))},type:{name:"date",options:{customValidation:e=>e>r(),customValidationMessage:"Date cannot be in the past."},title:"Date and time"},value:void 0===i?n?.date:i})})})};function r_e(e){const{onChange:t,value:n}=e;return u.jsxs(ne,{space:4,children:[e.children,u.jsx(cyn,{onChange:t,value:n})]})}const i_e=e=>{const{title:t}=e;return u.jsx(UEe,{children:u.jsxs(U,{align:"center",children:[t,u.jsx("input",{style:{opacity:0,position:"absolute",width:0},tabIndex:-1,type:"button"}),u.jsx(N,{marginLeft:2,style:{marginTop:"-1em",marginBottom:"-1em"},children:u.jsx(zEe,{useElementQueries:!0})})]})})},dyn=e=>{const{onClose:t,schedule:n}=e,{updateSchedule:r}=Ww(),{formData:i,isDirty:o,onFormChange:a}=t_e(n),s=f.useCallback((()=>{null!=i&&i.date&&r({date:i.date,scheduleId:n.id}).then(t)}),[n.id,r,t,i?.date]);return u.jsx(Si,{footer:{confirmButton:{text:"Update",disabled:!o,onClick:s}},header:u.jsx(i_e,{title:"Edit schedule"}),id:"time-zone",onClose:t,width:1,children:u.jsx(r_e,{onChange:a,value:i})})};function a_e(e){const{visible:t,show:n,hide:r}=VEe();return{DialogScheduleEdit:t?dyn:null,dialogProps:{onClose:r,schedule:e,visible:t},dialogScheduleEditShow:n,hide:r}}const fyn=[];function ol({currentUser:e,context:t}){const{t:n}=Z(),r=jm({style:"short",type:"unit"}),i=e?.roles||fyn,o=f.useCallback((()=>u.jsx(u.Fragment,{children:r.formatToParts(i.map((e=>e.title||Tn(e.name)))).map(((e,t)=>"element"===e.type?u.jsx("code",{children:e.value},`${e.value}-${t}`):u.jsx(f.Fragment,{children:e.value},`${e.value}-${t}`)))})),[i,r]);return u.jsxs(N,{children:[u.jsxs(xn,{space:2,children:[u.jsx(L,{size:0,children:u.jsx(Zc,{})}),u.jsx(L,{size:1,weight:"medium",children:n("insufficient-permissions-message.title")})]}),u.jsx(xn,{marginTop:4,children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:n,context:t})})}),u.jsx(xn,{marginTop:4,marginBottom:1,children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"insufficient-permissions-message.roles",t:n,components:{Roles:o}})})})]})}const Y2=e=>{const{currentUser:t,hasPermission:n,icon:r,onClick:i,permissionsOperationLabel:o,title:a,tone:s,disabled:l}=e;return u.jsx(pt,{content:u.jsx(N,{paddingX:2,paddingY:1,children:u.jsx(ol,{currentUser:t,context:o})}),disabled:n,placement:"left",portal:!0,children:u.jsx("div",{children:u.jsx(qe,{disabled:!n||l,icon:r,onClick:i,text:a,tone:s})})})},hyn=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o}=e,{mode:a}=$m(),s=sj(i),l=Un(),[c,d]=ic({id:s.documentId,type:o?.name,permission:"publish"}),{deleteSchedule:f,publishSchedule:p}=Ww(),h=!(d||null!=c&&c.granted),m=()=>{f({schedule:i}).then((()=>n?.()))};return l?u.jsxs(u.Fragment,{children:[t?.edit&&u.jsx(Y2,{currentUser:l,hasPermission:!h,icon:da,onClick:()=>{r?.()},permissionsOperationLabel:"edit-schedules",title:"Edit schedule",disabled:"upsell"===a}),t?.execute&&u.jsx(Y2,{currentUser:l,hasPermission:!h,icon:Jh,onClick:()=>{p({schedule:i})},permissionsOperationLabel:"execute-schedules",title:"Publish now",disabled:"upsell"===a}),t?.delete&&u.jsx(Y2,{currentUser:l,hasPermission:!h,icon:Br,onClick:m,permissionsOperationLabel:"delete-schedules",title:"Delete schedule",tone:"critical",disabled:"upsell"===a}),t?.clear&&u.jsx(Y2,{currentUser:l,hasPermission:!h,icon:Wf,onClick:m,permissionsOperationLabel:"delete-schedules",title:"Clear completed schedule",disabled:"upsell"===a})]}):null},o_e=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o}=e;return u.jsx(Gt,{button:u.jsx(ai,{}),id:"contextMenu",menu:u.jsx(At,{children:u.jsx(hyn,{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o})}),placement:"left",popover:{portal:!0,tone:"default"}})},s_e={validation:[],isValidating:!1};function pyn(e=s_e.validation){const t=e.filter(Y4).length>0,n=e.filter(Vie).length>0;let r="default";return n&&(r="default"),t&&(r="critical"),{markers:e,validationTone:r,hasError:t,hasWarning:n}}function lj(e){return f.useMemo((()=>pyn(e)),[e])}const myn={validation:[],isValidating:!1};function cv(e,t){const n=_s();return Wr(f.useMemo((()=>n.pair.validation(e,t)),[t,n.pair,e]),myn)}const gyn=1500;function vyn({schedule:e,updateValidation:t}){const n=e_e(e),r=QEe(e);return r&&null!=n&&n.name?u.jsx(yyn,{id:r,schemaName:n.name,updateValidation:t}):null}function yyn({id:e,schemaName:t,updateValidation:n}){const[r,i]=f.useState(!1);return f.useEffect((()=>{const e=setTimeout((()=>{i(!0)}),gyn);return()=>{clearTimeout(e)}}),[]),r?u.jsx(byn,{id:e,schemaName:t,updateValidation:n}):null}function byn({id:e,schemaName:t,updateValidation:n}){const r=cv(e,t);return f.useEffect((()=>{r.isValidating||n(r)}),[n,r]),null}function uj(e){return f.useMemo((()=>e?e.replaceAll("drafts.",""):void 0),[e])}const Wne=$(L)`
  white-space: initial;
`,xyn={error:"critical",warning:"caution",info:"primary"};function fO(e){var t,n;const{marker:r,onClick:i,path:o,truncate:a}=e,s=f.useCallback((()=>{i&&i(r.path)}),[r.path,i]),l=xyn[r?.level]||void 0,c=null!=(n=r.message)?n:null==(t=r.item)?void 0:t.message,d=u.jsxs(U,{children:[u.jsx(N,{children:u.jsxs(L,{size:1,children:["error"===r.level&&u.jsx(ra,{}),"warning"===r.level&&u.jsx(or,{}),"info"===r.level&&u.jsx(bd,{})]})}),u.jsxs(ne,{space:2,flex:1,paddingLeft:3,children:[o&&u.jsx(Wne,{size:1,weight:"semibold",children:o}),c&&u.jsx(Wne,{muted:!0,size:1,textOverflow:a?"ellipsis":void 0,children:c})]})]});return u.jsx(lm,{padding:1,onClick:s,radius:2,tone:l,children:u.jsx(N,{padding:2,children:d})})}function wyn(e){const{documentType:t,kind:n,validation:r,onFocus:i,onClose:o,truncate:a}=e,s=r.filter(Y4),l=r.filter(Vie),c=r.filter(FTe),d=f.useCallback(((e=[])=>{i&&i(e),o&&o()}),[i,o]),p=e=>{const n=t&&t.fields,r=n&&n.find((t=>t.name===e[0]));return r&&r.type.title||""},h=s.length>0,m=l.length>0,g=c.length>0;return h||m||g?u.jsxs(Xr,{width:0,"data-kind":n,"data-testid":"validation-list",children:[h&&s.map(((e,t)=>u.jsx(fO,{truncate:a,path:p(e.path),marker:e,onClick:d},t))),m&&l.map(((e,t)=>u.jsx(fO,{truncate:a,path:p(e.path),marker:e,onClick:d},t))),g&&c.map(((e,t)=>u.jsx(fO,{truncate:a,path:p(e.path),marker:e,onClick:d},t)))]}):null}const Cyn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0,placement:"bottom-end"};function l_e(e){const{type:t,markers:n,menuHeader:r,documentId:i}=e,o=wo(),{hasError:a,hasWarning:s}=lj(n),l=a||s?"visible":"hidden",c=f.useId()||"",d=uj(i),p=f.useCallback((e=>{d&&o.navigateIntent("edit",{id:d,path:encodeURIComponent(_n(e))})}),[o,d]);return u.jsx(Gt,{id:c||"",button:u.jsx(me,{tooltipProps:{content:"Show validation issues"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:a?ra:or,style:{visibility:l},tone:a?"critical":"default"}),menu:u.jsx(At,{padding:1,children:u.jsx(Xr,{width:0,children:u.jsxs(ne,{space:1,children:[r??null,u.jsx(wyn,{documentType:t,validation:n,onFocus:p})]})})}),popover:Cyn})}const Syn=e=>{const{date:t,useElementQueries:n}=e,{formatDateTz:r}=Ia(),i=Wyt(t,new Date,{addSuffix:!0}),o=r({date:t,format:s0.LARGE}),a=r({date:t,format:s0.MEDIUM}),s=r({date:t,format:s0.SMALL});return u.jsx(L,{size:1,textOverflow:"ellipsis",children:u.jsx(pt,{content:i,portal:!0,children:u.jsx("span",{children:n?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"date-small",children:s}),u.jsx("span",{className:"date-medium",children:a}),u.jsx("span",{className:"date-large",children:o})]}):o})})})},Eyn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0},Gne=e=>{const{stateReason:t}=e;return u.jsx(Gt,{id:"stateReason",button:u.jsx(me,{tooltipProps:{content:"Schedule failed"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:ra,tone:"critical"}),menu:u.jsx(At,{padding:1,children:u.jsxs(Xr,{padding:2,width:0,children:[u.jsx(L,{size:1,children:U0n}),u.jsxs(U,{gap:3,marginTop:4,padding:1,children:[u.jsx(L,{size:1,style:{color:bp[700].hex},children:u.jsx(ra,{})}),u.jsx(L,{size:1,style:{color:bp[700].hex},weight:"medium",children:t})]})]})}),popover:Eyn})},_yn=e=>{const{id:t}=e;return u.jsx(gs,{user:t,withTooltip:!0})},kyn=$(N)`
  width: 9px;
`,PB=e=>{const{children:t,contextMenu:n,linkComponent:r,onClick:i,previewState:o,publishedDocumentId:a,schedule:s,schemaType:l,useElementQueries:c}=e,{mode:d}=$m(),[p,h]=f.useState(s_e),{validation:m}=p,{hasError:g,validationTone:y}=lj(m),{formatDateTz:v}=Ia(),b=Xp(s),x=b?new Date(b):null;return u.jsx(ae,{padding:1,radius:2,shadow:1,tone:y,style:"upsell"===d&&"scheduled"===s.state?{opacity:.7}:void 0,children:u.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[u.jsx(pt,{delay:{open:400},placement:"bottom-end",content:u.jsx(J0,{draft:o?.draft,published:o?.published}),disabled:!(null!=o&&o.draft||null!=o&&o.published),children:u.jsx(ae,{__unstable_focusRing:!0,as:r||void 0,"data-as":i||r?"a":void 0,flex:1,onClick:i,padding:1,radius:2,tabIndex:0,tone:y,children:u.jsxs(U,{align:"center",gap:3,justify:"flex-start",paddingLeft:t?0:[1,2],children:[t&&u.jsx(N,{style:{flexBasis:"auto",flexGrow:1},children:t}),"unpublish"===s.action&&u.jsx(U,{style:{flexShrink:0},children:u.jsx(ja,{fontSize:0,mode:"outline",tone:m5[s.action].badgeTone,children:s.action})}),u.jsx(N,{display:["block","none"],style:{flexShrink:0,width:"90px"},children:u.jsx(ne,{space:2,children:x?u.jsxs(u.Fragment,{children:[u.jsx(L,{size:1,children:v({date:x,format:"dd/MM/yyyy"})}),u.jsx(L,{size:1,children:v({date:x,format:"p"})})]}):u.jsx(L,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})})}),u.jsx(N,{display:["none","block"],style:{flexShrink:0,maxWidth:"250px",width:t?"35%":"auto"},children:x?u.jsx(Syn,{date:x,useElementQueries:c}):u.jsx(L,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})}),!t&&u.jsx(N,{style:{visibility:"hidden"},children:u.jsx(Ta,{isPlaceholder:!0})}),u.jsxs(U,{align:"center",style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(N,{display:["none","none","block"],marginX:3,style:{flexShrink:0},children:u.jsx(_yn,{id:s?.author})}),u.jsx(N,{display:["none","block"],marginX:[2,2,3],style:{flexShrink:0},children:null!=o&&o.draft||null!=o&&o.published?u.jsx(iv,{draft:o?.draft,published:o?.published}):u.jsx(kyn,{})})]})]})})}),u.jsxs(U,{justify:"center",style:{width:"38px"},children:["scheduled"===s.state&&u.jsxs(N,{children:[u.jsx(vyn,{schedule:s,updateValidation:h}),u.jsx(l_e,{markers:m,type:l,documentId:a,menuHeader:u.jsx(N,{padding:2,children:u.jsx(L,{size:1,children:g?DB:z0n})})})]}),"cancelled"===s.state&&u.jsx(Gne,{stateReason:s.stateReason})]}),"cancelled"===s.state&&u.jsx(Gne,{stateReason:s.stateReason}),n&&u.jsx(N,{style:{flexShrink:0},paddingRight:2,children:n})]})})},Tyn=e=>{const{schedule:t,schemaType:n}=e,{DialogScheduleEdit:r,dialogProps:i,dialogScheduleEditShow:o}=a_e(t),{onComplete:a}=Nvn(),s=f.useMemo((()=>QEe(t)),[t]);return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(PB,{contextMenu:u.jsx(o_e,{actions:{delete:!0,edit:!0},onDelete:a,onEdit:o,schedule:t,schemaType:n}),onClick:o,publishedDocumentId:s,schedule:t,schemaType:n})]})},Ayn=e=>{const{onDelete:t,schedule:n}=e,{deleteSchedule:r}=Ww();return u.jsx(Gt,{button:u.jsx(ai,{}),id:"contextMenu",menu:u.jsx(At,{children:u.jsx(qe,{icon:Br,onClick:()=>{r({schedule:n}).then((()=>t?.()))},text:"Delete schedule",tone:"critical"})}),placement:"left",popover:{portal:!0,tone:"default"}})},jyn=({schedule:e})=>u.jsx(PB,{contextMenu:u.jsx(Ayn,{schedule:e}),schedule:e,useElementQueries:!0,children:u.jsx(Ta,{icon:Gs,layout:"default",subtitle:u.jsx("em",{children:"It may have been deleted"}),title:u.jsx("em",{style:{color:bp[600].hex},children:"Document not found"})})}),Iyn=e=>{const{previewState:t,schedule:n,schemaType:r}=e,i=t.draft||t.published,o="succeeded"===n.state,a="scheduled"===n.state,{DialogScheduleEdit:s,dialogProps:l,dialogScheduleEditShow:c}=a_e(n),d=uj(i?._id),p=f.useMemo((()=>{const e=f.forwardRef(((e,t)=>u.jsx(ml,{...e,intent:"edit",params:{type:r.name,id:i&&sn(i?._id)},ref:t})));return e.displayName="LinkComponent",e}),[r,i]);return u.jsxs(u.Fragment,{children:[s&&u.jsx(s,{...l}),u.jsx(PB,{contextMenu:u.jsx(o_e,{actions:{clear:o,delete:!o,edit:a,execute:a},onEdit:c,schedule:n,schemaType:r}),linkComponent:p,previewState:t,publishedDocumentId:d,schedule:n,schemaType:r,useElementQueries:!0,children:t.isLoading?u.jsx(Ta,{icon:r?.icon,isPlaceholder:t.isLoading,layout:"default"}):u.jsx(av,{layout:"default",schemaType:r,value:i})})]})},u_e=e=>{const{schedule:t,type:n}=e,r=sj(t),i=e_e(t),o=$vn(r?.documentId,i),a=!(o.draft||o.published||o.isLoading),s=f.useMemo((()=>!i||a?u.jsx(jyn,{schedule:t}):"document"===n?u.jsx(Tyn,{schedule:t,schemaType:i}):"tool"===n?u.jsx(Iyn,{previewState:o,schedule:t,schemaType:i}):null),[a,n,o,t,i]);return u.jsx(Fvn,{children:s})},Dyn=200;function Oyn(e){const{item:{content:t,virtualRow:n},measureElement:r}=e,i=f.useMemo((()=>({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${n.start}px)`})),[n]);return u.jsx(N,{"data-index":n.index,paddingBottom:2,ref:r,style:i,children:"string"==typeof t?u.jsx(Myn,{content:t}):u.jsx(Ryn,{schedule:t})},n.key)}function Ryn({schedule:e}){const[t,n]=f.useState(u.jsx($yn,{}));return f.useEffect((()=>{let t=!0;const r=setTimeout((()=>{t&&n(u.jsx(u_e,{schedule:e,type:"tool"}))}),Dyn);return()=>{t=!1,clearTimeout(r)}}),[e]),t}function Myn({content:e}){return u.jsx(U,{align:"flex-end",paddingBottom:2,paddingTop:4,children:u.jsx(m1,{muted:!0,size:1,children:e})})}function $yn(){return u.jsx(ae,{padding:1,radius:2,shadow:1,children:u.jsx(ae,{padding:1,children:u.jsx(Ta,{isPlaceholder:!0})})})}function Yne(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}const Pyn=()=>{const{activeSchedules:e,scheduleState:t,sortBy:n}=Gw(),{measureElement:r,virtualList:i,totalSize:o,containerRef:a}=Fyn(e,n),{deleteSchedules:s}=Ww();return f.useEffect((()=>{var e;null==(e=a?.current)||e.scrollTo(0,0)}),[t,n,a]),u.jsxs(N,{paddingBottom:6,paddingTop:1,paddingX:4,ref:a,style:{position:"relative",overflowX:"hidden",overflowY:"auto",height:"100%",boxSizing:"border-box"},children:[u.jsx(N,{style:{height:`${o}px`,width:"100%",position:"relative"},children:i.map((e=>u.jsx(Oyn,{item:e,measureElement:r},e.key)))}),"succeeded"===t&&u.jsx(U,{justify:"center",marginTop:6,children:u.jsx(me,{icon:Wf,mode:"ghost",onClick:()=>{s({schedules:e||[]})},text:"Clear all completed schedules"})})]})};function Fyn(e,t){const n=f.useRef(null),r=f.useMemo((()=>{const n=[];return e.forEach(((r,i)=>{if("executeAt"==t){const t=Xp(e[i-1]),o=i>0&&t?Yne(t):null,a=Xp(r),s=a?Yne(a):null;s!==o&&n.push(s||"No date specified")}n.push(r)})),n}),[e,t]),i=v6({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>50,overscan:5}),o=i.getVirtualItems().map((e=>{const t=r[e.index];return{content:t,key:"string"==typeof t?t:t.id,virtualRow:e}}));return{containerRef:n,measureElement:i.measureElement,totalSize:i.getTotalSize(),virtualList:o}}const qne=$(Xr)`
  width: auto;
`,Lyn=()=>{const{activeSchedules:e,selectedDate:t,scheduleState:n}=Gw(),{upsellData:r,telemetryLogs:i}=JEe(),{mode:o}=$m(),a="upsell"===o&&"scheduled"===n;return u.jsxs(N,{style:{height:"100%"},children:["upsell"===o&&r&&u.jsx(qne,{width:1,padding:4,paddingBottom:1,children:u.jsx($B,{layout:"horizontal",data:r,onPrimaryClick:i.panelPrimaryClicked,onSecondaryClick:i.panelSecondaryClicked})}),0===e.length?u.jsx(qne,{width:1,padding:4,paddingTop:4,children:u.jsx(Ovn,{scheduleState:n,selectedDate:t})}):u.jsxs(u.Fragment,{children:[a&&u.jsx(ae,{margin:4,marginBottom:2,padding:3,tone:"caution",radius:3,shadow:1,children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(L,{size:1,children:u.jsx(or,{})}),u.jsx(L,{size:1,children:"Your scheduled documents won't be published automatically unless you upgrade your plan. You can still publish them manually."})]})}),u.jsx(N,{paddingTop:a?0:4,children:u.jsx(Pyn,{})})]})]})},Nyn=()=>{const{setSortBy:e,sortBy:t}=Gw();return u.jsx(Gt,{button:u.jsx(ai,{}),id:"sort",menu:u.jsxs(At,{style:{minWidth:"250px"},children:[u.jsx(qe,{icon:m0,iconRight:"createdAt"===t?na:void 0,onClick:()=>e("createdAt"),text:"Sort by time added"}),u.jsx(qe,{icon:m0,iconRight:"executeAt"===t?na:void 0,onClick:()=>e("executeAt"),text:"Sort by time scheduled"})]})})},hO=e=>{const{mode:t="default",selected:n}=e;return u.jsx(N,{style:{..."default"===t?{background:Ny[n?100:300].hex}:{},..."failed"===t?{background:bp[500].hex}:{},borderRadius:"2px",height:"2px",width:"100%"}})};function Byn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:o,selected:a}=e,{schedulesByDate:s}=Gw(),l=s(t),c=f.useCallback((()=>{o(a?void 0:t)}),[t,o,a]);let d;i||a?d="primary":(Dvt(t),d="default");const p=l.length>0,{completed:h,failed:m,upcoming:g}=f.useMemo((()=>({completed:l.filter((e=>"succeeded"===e.state)),failed:l.filter((e=>"cancelled"===e.state)),upcoming:l.filter((e=>"scheduled"===e.state))})),[l]);return u.jsx("div",{"aria-selected":a,"data-ui":"CalendarDay",children:u.jsx(pt,{content:u.jsx(Vyn,{date:t,schedules:l}),disabled:!p,portal:!0,children:u.jsxs(ae,{"aria-label":t.toDateString(),"aria-pressed":a,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:c,paddingX:3,paddingY:4,radius:2,selected:a,style:{position:"relative"},tone:d,children:[u.jsx(L,{size:1,style:{opacity:a||r?1:.35,textAlign:"center"},children:a?u.jsx(Ar,{}):t.getDate()}),u.jsx(N,{style:{bottom:2,left:2,position:"absolute",right:2},children:u.jsxs(U,{align:"center",gap:1,justify:"center",children:[h.length>0&&u.jsx(hO,{selected:a}),g.length>0&&u.jsx(hO,{selected:a}),m.length>0&&u.jsx(hO,{mode:"failed",selected:a})]})})]})})})}function Vyn(e){const{date:t,schedules:n=[]}=e,{formatDateTz:r}=Ia(),i=n.reduce(((e,t)=>(e[t.state].push(t),e)),{cancelled:[],succeeded:[],scheduled:[]});return u.jsxs(N,{padding:3,children:[u.jsx(N,{marginBottom:4,children:u.jsx(L,{size:1,weight:"medium",children:xu(t,"d MMMM yyyy")})}),u.jsx(ne,{space:3,children:Object.keys(i).map((e=>{const t=i[e];return 0===t.length?null:u.jsxs(ne,{space:2,children:[u.jsx(m1,{muted:!0,size:0,children:fx[e].title}),u.jsx(ne,{space:1,children:t.filter((e=>e.executeAt)).map((e=>{const t=Xp(e);return t?u.jsxs(xn,{space:2,children:[u.jsx(N,{style:{width:"60px"},children:u.jsx(L,{size:1,weight:"regular",children:r({date:new Date(t),format:"p"})})}),u.jsx(U,{align:"center",style:{flexShrink:0,opacity:"unpublish"===e.action?1:0},children:u.jsx(ja,{fontSize:0,mode:"outline",tone:m5[e.action].badgeTone,children:e.action})})]},e.id):null}))})]},e)}))})]})}const zyn=["January","February","March","April","May","June","July","August","September","October","November","December"],Uyn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hyn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wyn=[1,2,3,4,5,6],Gyn=e=>{const t=AT(e);return TT({start:t,end:IT(t)})},Yyn=e=>e.map((e=>[e,...Wyn.map((t=>Fr(e,t)))])),qyn=e=>Yyn(Gyn(e)).map((e=>({number:jT(e[0]),days:e})));function Kyn(e){const{getCurrentZoneDate:t}=Ia();return u.jsx(N,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Rn,{style:{gridGap:"1px",gridTemplateColumns:"repeat(7, 1fr)"},children:[Uyn.map((e=>u.jsx(ae,{paddingY:3,children:u.jsx(m1,{size:1,style:{textAlign:"center"},children:e.slice(0,1)})},e))),qyn(e.date).map(((n,r)=>n.days.map(((n,i)=>{const o=e.focused&&Wa(n,e.focused),a=e.selected&&Wa(n,e.selected),s=Wa(n,t()),l=e.focused&&DT(n,e.focused);return u.jsx(Byn,{date:n,focused:o,isCurrentMonth:l,isToday:s,onSelect:e.onSelect,selected:a},`${r}-${i}`)}))))]})})}const Zyn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Xyn=f.forwardRef((function(e,t){const{focusedDate:n,onFocusedDateChange:r,onSelect:i,selectedDate:o,...a}=e,{zoneDateToUtc:s}=Ia(),l=f.useCallback((e=>r(s(e))),[r,s]),c=f.useCallback((e=>l(fw(n,e))),[n,l]),d=f.useCallback((e=>{if(e){const t=s(Wc(fp(e,e.getHours()),e.getMinutes()));i(t),r(t)}else i(void 0)}),[i,s,r]),p=f.useRef(null);f.useImperativeHandle(t,(()=>p.current));const h=f.useCallback((()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.querySelector('[data-focused="true"]'))||t.focus()}),[p]),m=f.useCallback((e=>{var t,i;if(Hyn.includes(e.key)){if(e.preventDefault(),e.currentTarget.hasAttribute("data-calendar-grid"))return void h();"ArrowUp"===e.key&&r(s(Fr(n,-7))),"ArrowDown"===e.key&&r(s(Fr(n,7))),"ArrowLeft"===e.key&&r(s(Fr(n,-1))),"ArrowRight"===e.key&&r(s(Fr(n,1))),null==(i=null==(t=p.current)?void 0:t.querySelector("[data-preserve-focus]"))||i.focus()}}),[p,h,r,n,s]);f.useEffect((()=>{h()}),[h]),f.useEffect((()=>{var e;null!=(e=document.activeElement)&&e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&h()}),[p,h,n]);const g=f.useCallback((()=>{const e=new Date;i(e),r(e)}),[i,r]),y=f.useCallback((()=>c(-1)),[c]),v=f.useCallback((()=>c(1)),[c]);return u.jsxs(N,{"data-ui":"Calendar",...a,ref:p,children:[u.jsx(U,{align:"center",paddingLeft:4,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:"55px",position:"sticky",top:0},children:u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsxs(L,{weight:"medium",size:1,children:[zyn[n?.getMonth()]," ",n?.getFullYear()]}),u.jsx(U,{paddingRight:3,gap:2,children:u.jsxs(Sa,{children:[u.jsx(me,{icon:yd,mode:"bleed",onClick:y,tooltipProps:{content:"Previous month"}}),u.jsx(me,{icon:Aa,mode:"bleed",onClick:v,tooltipProps:{content:"Next month"}})]})})]})}),u.jsx(N,{children:u.jsxs(N,{"data-calendar-grid":!0,onKeyDown:m,overflow:"hidden",paddingBottom:1,paddingX:1,tabIndex:0,children:[u.jsx(Kyn,{date:n,focused:n,onSelect:d,selected:o}),Zyn]})}),u.jsx(N,{flex:1,style:{borderBottom:"1px solid var(--card-border-color)"},children:u.jsx(me,{mode:"bleed",onClick:g,width:"fill",text:"Today"})})]})})),Jyn=e=>{const{onSelect:t,selectedDate:n}=e,{getCurrentZoneDate:r,utcToCurrentZoneDate:i}=Ia(),[o,a]=f.useState(n||r()),s=f.useCallback((e=>{a(i(e))}),[i]);return u.jsx(Xyn,{focusedDate:o,onFocusedDateChange:s,onSelect:t,selectedDate:n})},Kne=$(N)`
  flex-direction: column;
  &:not(:last-child) {
    border-right: 1px solid var(--card-border-color);
  }
`,Qyn=[],Zne="yyyy-MM-dd";function ebn(){const e=wo(),{sanity:t}=p1(),{error:n,isInitialLoading:r,schedules:i=Qyn}=oj(),o=f.useRef(),a=e.state.state,s=e.state.date?d8(e.state.date,Zne,new Date):void 0;f.useEffect((()=>{e.state.state&&(o.current=e.state.state)}),[e.state.state]),tbn(e,a,s);const{formatDateTz:l}=Ia(),c=f.useMemo((()=>({schedules:i,scheduleState:a,selectedDate:s})),[i,a,s]);return u.jsx(Svn,{value:c,children:u.jsx(U,{direction:"column",height:"fill",flex:1,overflow:"hidden",children:u.jsxs(U,{flex:1,height:"fill",children:[u.jsx(Kne,{display:["none",null,null,"flex"],style:{position:"sticky",top:0,width:"350px"},children:u.jsx(Jyn,{onSelect:t=>{t?e.navigate({date:l({date:t,format:Zne})}):e.navigate({state:o?.current||hx[0]})},selectedDate:s})}),u.jsxs(Kne,{display:"flex",flex:1,overflow:"hidden",children:[u.jsx(UEe,{style:{background:t.color.card.enabled.bg,position:"sticky",top:0,zIndex:1},children:u.jsx(U,{align:"center",paddingLeft:4,paddingRight:3,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:"55px"},children:u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsx(_vn,{onClearDate:()=>{e.navigate({state:o?.current||hx[0]})},selectedDate:s}),u.jsxs(U,{align:"center",gap:1,children:[u.jsx(zEe,{useElementQueries:!0}),u.jsx(Nyn,{})]})]})})}),u.jsxs(U,{direction:"column",flex:1,children:[n&&u.jsx(N,{paddingTop:4,paddingX:4,children:u.jsx(FEe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."})}),u.jsx(N,{flex:1,children:r?u.jsx(N,{padding:4,children:u.jsx(L,{muted:!0,children:"Loading..."})}):u.jsx(Lyn,{})})]})]})]})})})}function tbn(e,t,n){f.useEffect((()=>{!t&&!n&&e.navigate({state:hx[0]},{replace:!0})}),[n,e,t])}const nbn=e=>{const{buttonText:t="Action",disabled:n,icon:r,onAction:i,onComplete:o,tone:a="positive"}=e;return u.jsxs(U,{width:"full",gap:3,justify:"flex-end",children:[u.jsx(me,{mode:"bleed",onClick:o,text:"Cancel"}),i&&u.jsx(me,{disabled:n,icon:r,onClick:i,text:t,tone:a})]})};function rbn({id:e,schemaType:t}){return u.jsxs(ne,{space:4,children:[u.jsxs(L,{size:1,children:["Schedule this document to be published at any time in the future.",u.jsx("br",{}),"Any edits in the meantime will be added to the scheduled document."]}),u.jsx(L,{size:1,children:"Visit the Schedules page to get an overview of all schedules."}),u.jsx(ibn,{id:e,type:t})]})}function ibn({id:e,type:t}){const n=uj(e),r=Pvn(t),i=cv(n,t),{hasError:o}=lj(i.validation);return o?u.jsx(ae,{padding:2,radius:1,shadow:1,tone:"critical",children:u.jsxs(U,{gap:1,align:"center",children:[u.jsx(l_e,{markers:i.validation,type:r,documentId:n}),u.jsx(L,{size:1,children:DB})]})}):null}const abn=e=>{const{schedules:t}=e;return u.jsx(ne,{space:4,children:0===t.length?u.jsx(N,{children:u.jsx(L,{size:1,children:"No schedules"})}):u.jsx(ne,{space:2,children:t.map((e=>u.jsx(u_e,{schedule:e,type:"document"},e.id)))})})},obn=ij("ScheduleAction"),Xne=e=>{const{draft:t,id:n,liveEdit:r,onComplete:i,published:o,type:a}=e,s=Un(),[l,c]=ic({id:n,type:a,permission:"publish"}),{createSchedule:d}=Ww(),{enabled:p,mode:h}=$m(),{handleOpenDialog:m}=JEe(),[g,y]=f.useState(!1),{formData:v,onFormChange:b}=t_e(),{error:x,isInitialLoading:w,schedules:C}=oj({documentId:n,state:"scheduled"});obn("schedules",C);const k=C&&C.length>0,j=null!==t||null!==o,S=!(c||null!=l&&l.granted),E=f.useCallback((()=>{"upsell"===h?m("document_action"):y(!0)}),[h,m]),_=f.useCallback((()=>{null!=v&&v.date&&d({date:v.date,documentId:n}).then(i)}),[i,d,n,v?.date]),A=k?"Edit Schedule":"Schedule";if(S)return{disabled:!0,icon:da,label:A,title:u.jsx(ol,{currentUser:s,context:"edit-schedules"})};let T="This document doesn't exist yet";j&&(T=null),w&&(T="Loading schedules"),r&&(T="Live Edit is enabled for this content type and publishing happens automatically as you make changes");const D={content:x?u.jsx(FEe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."}):u.jsx(Lvn,{value:e,children:k?u.jsx(abn,{schedules:C}):u.jsx(r_e,{onChange:b,value:v,children:u.jsx(rbn,{id:n,schemaType:a})})}),footer:!k&&u.jsx(nbn,{buttonText:"Schedule",disabled:!(null!=v&&v.date),icon:Q5,onAction:_,onComplete:i,tone:"primary"}),header:u.jsx(i_e,{title:A}),onClose:i,type:"dialog"};return p?{dialog:g&&D,disabled:w||!j||r,label:A,icon:da,onHandle:E,title:T&&u.jsx(N,{style:{maxWidth:"315px"},children:T})}:null};function sbn(e){return e.findIndex((e=>"publish"===e.action))<0?[Xne,...e]:e.flatMap((e=>"publish"===e.action?[e,Xne]:e))}const lbn=ij("ScheduledBadge"),ubn=e=>{const{schedules:t}=oj({documentId:e.id,state:"scheduled"});lbn("schedules",t);const n=t?.[0];if(!n||!n.executeAt)return null;const r=xu(new Date(n.executeAt),s0.LARGE);return{color:m5[n.action].badgeColor,label:"Scheduled",title:`${m5[n.action].actionName} on ${r} (local time)`}};function cbn(e){return[...e,ubn]}function dbn(e){const{id:t,markers:n}=e,r=uj(t),{hasError:i}=lj(n),{schedules:o}=oj({documentId:r,state:"scheduled"}),{mode:a}=$m();return o.length>0?u.jsxs(N,{marginBottom:4,children:["upsell"===a&&u.jsx(ae,{tone:"caution",padding:3,radius:3,shadow:1,marginBottom:3,children:u.jsxs(U,{align:"center",gap:3,padding:1,children:[u.jsx(L,{muted:!0,size:1,children:u.jsx(or,{})}),u.jsx(L,{muted:!0,size:1,weight:"medium",children:"Scheduled publishing is not available on your current plan"})]})}),u.jsx(ae,{padding:3,radius:1,shadow:1,tone:i?"critical":"primary",style:"upsell"===a?{opacity:.7}:void 0,children:u.jsxs(ne,{space:2,children:[u.jsxs(U,{align:"center",gap:3,marginBottom:1,padding:1,children:[u.jsx(L,{muted:!0,size:1,children:u.jsx(da,{})}),u.jsxs(L,{muted:!0,size:1,children:[u.jsx("span",{style:{fontWeight:600},children:"Upcoming schedule"})," (local time)"]})]}),u.jsx(ne,{space:2,children:o.map((e=>{if(!e.executeAt)return null;const t=xu(new Date(e.executeAt),s0.LARGE);return u.jsxs(xn,{space:2,children:[u.jsx(L,{muted:!0,size:1,children:t}),u.jsx(U,{style:{opacity:"unpublish"===e.action?1:0},children:u.jsx(ja,{fontSize:0,mode:"outline",children:e.action})})]},e.id)}))}),i&&u.jsx(N,{marginTop:3,children:u.jsx(L,{muted:!0,size:1,weight:"regular",children:DB})})]})})]}):null}function fbn(e){const{value:t,validation:n,children:r}=e,i=t,o=f.useMemo((()=>n.map((e=>({level:e.level,path:e.path,item:{message:e.message},message:e.message})))),[n]);return u.jsxs(u.Fragment,{children:[null!=i&&i._id?u.jsx(dbn,{id:i._id,markers:o}):null,r]})}const hbn=e=>{const{schemaType:t}=e;return"document"===c_e(t).name?u.jsx(fbn,{...e,children:e.renderDefault(e)}):e.renderDefault(e)};function c_e(e){return e.type?c_e(e.type):e}function pbn(e){const{enabled:t,mode:n}=$m();return t?u.jsx(w1,{condition:"upsell"===n,wrapper:e=>u.jsx(jvn,{children:e}),children:e.renderDefault(e)}):e.renderDefault(e)}function mbn(e){return u.jsx(gvn,{children:u.jsx(pbn,{...e})})}const d_e="sanity/scheduled-publishing",gbn=K1({name:d_e,document:{actions:e=>sbn(e),badges:e=>cbn(e)},form:{components:{input:hbn}},studio:{components:{layout:mbn}},tools:e=>[...e,{name:G0n,title:Y0n,icon:da,component:ebn,router:qi.create("/",[qi.create("/state/:state"),qi.create("/date/:date")])}]}),gr="tasks",vbn={locale:"en-US",namespace:gr,resources:()=>md((()=>import("./resources2.UR8dHy_q.js")),__vite__mapDeps([4,1]))};function ybn({children:e}){var t;const{enabled:n,isLoading:r}=Zw("sanityTasks"),i=null==(t=jr().tasks)?void 0:t.enabled,o=f.useMemo((()=>!i||r?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"}),[n,r,i]);return u.jsx(Eae.Provider,{value:o,children:e})}function bl(){return f.useContext(Eae)}function bbn({children:e,isLastPane:t}){return u.jsx(_ae.Provider,{value:t,children:e})}function xbn(){return f.useContext(_ae)}function wbn(e){const[t,n]=f.useState(null),r=S5e({documentValue:t,permission:"read"}),i=f.useMemo((()=>({mentionOptions:r,selectedDocument:t,setSelectedDocument:n})),[r,t,n]);return u.jsx(kae.Provider,{value:i,children:e.children})}function qw(){const e=f.useContext(kae);if(!e)throw new Error("useMentionUser must be used within a MentionUserProvider");return e}const Cbn=_i({name:"Task Created",version:1,description:"A task is created"}),Sbn=_i({name:"Task Status Changed",version:1,description:"Task status changed"}),Ebn=_i({name:"Task Duplicated",version:1,description:"A task is duplicated"}),_bn=_i({name:"Task Removed",version:1,description:"A task is removed"}),kbn=_i({name:"Task Link Copied",version:1,description:"The link to a task is copied"}),Tbn=_i({name:"Task Link Opened",version:1,description:"User visited the studio through a link with a task"}),f_e={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function Abn(e,t){switch(t.type){case"TOGGLE_TASKS_VIEW":return!1===t.payload?{...f_e,isOpen:t.payload}:{...e,isOpen:t.payload};case"CREATE_TASK":return{...e,viewMode:"create",selectedTask:Ca()};case"EDIT_TASK":return{...e,viewMode:"edit",selectedTask:t.payload.id};case"EDIT_DRAFT":return{...e,viewMode:"draft",selectedTask:t.payload.id};case"DUPLICATE_TASK":return{...e,viewMode:"duplicate",selectedTask:Ca(),duplicateTaskValues:t.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...e,viewMode:"list",activeTabId:t.payload};case"NAVIGATE_TO_LIST":return{...e,viewMode:"list"};default:return e}}const jbn=({children:e})=>{const[t,n]=f.useReducer(Abn,f_e),r=wo(),i=Ur(),o=Ss(),a=f.useCallback((e=>{switch(e.type){case"list":n({type:"NAVIGATE_TO_LIST"});break;case"create":n({type:"CREATE_TASK"});break;case"edit":n({type:"EDIT_TASK",payload:{id:e.id}});break;case"duplicate":n({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:e.duplicateTaskValues}});break;case"draft":n({type:"EDIT_DRAFT",payload:{id:e.id}})}}),[]),s=f.useCallback((e=>{n({type:"SET_ACTIVE_TAB",payload:e})}),[]),l=f.useCallback((()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!1})}),[]),c=f.useCallback((()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!0})}),[]),d=f.useCallback((()=>{const e=new URL(window.location.href);e.searchParams.set("sidebar","tasks"),e.searchParams.set("viewMode",t.viewMode),t.selectedTask&&e.searchParams.set("selectedTask",t.selectedTask),navigator.clipboard.writeText(e.toString()).then((()=>{i.push({closable:!0,status:"info",title:"Copied link to clipboard"}),o.log(kbn)})).catch((()=>{i.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})}))}),[t.selectedTask,t.viewMode,o,i]),p=new URLSearchParams(r.state._searchParams).toString();return f.useEffect((()=>{if(p){const e=new URLSearchParams(p);if("tasks"!==e.get("sidebar"))return;n({type:"TOGGLE_TASKS_VIEW",payload:!0});const t=e.get("viewMode"),r=e.get("selectedTask");"edit"===t&&r&&(n({type:"EDIT_TASK",payload:{id:r}}),o.log(Tbn))}}),[p,o]),u.jsx(Tae.Provider,{value:{state:t,setViewMode:a,setActiveTab:s,handleCloseTasks:l,handleOpenTasks:c,handleCopyLinkToTask:d},children:e})};function ks(){return f.useContext(Tae)||{state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null}}function Ibn(e){return e.reduce(((e,t)=>({...e,[t._id]:t})),{})}function Dbn(e,t){switch(t.type){case"TASKS_SET":{const n=Ibn(t.tasks);return{...e,tasks:n}}case"TASK_ADDED":{const n=t.payload,r=n,i={[n._id]:{...e.tasks[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||(new Date).toISOString()}};return{...e,tasks:{...e.tasks,...i}}}case"TASK_RECEIVED":{const n=t.payload;return{...e,tasks:{...e.tasks,[n._id]:n}}}case"TASK_DELETED":{const{[t.id]:n,...r}=e.tasks;return{...e,tasks:r}}case"TASK_UPDATED":{const n=t.payload,r=n._id,i={...e.tasks[r],...n};return{...e,tasks:{...e.tasks,[r]:i}}}default:return e}}const Obn={tasks:{}},Rbn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},Mbn="_createdAt",$bn="desc",Pbn=['_type == "tasks.task"'],Fbn="{\n  ...,\n}",Lbn=`order(${Mbn} ${$bn})`,Jne=`*[${Pbn.join(" && ")}] ${Fbn} | ${Lbn}`;function Nbn(e){const{client:t}=dj(),{documentId:n}=e,[r,i]=f.useReducer(Dbn,Obn),[o,a]=f.useState(null!==t),[s,l]=f.useState(null),u=f.useMemo((()=>({documentId:n?sn(n):null})),[n]),c=f.useCallback((async()=>{if(t)try{const e=await t.fetch(Jne,u);i({type:"TASKS_SET",tasks:e}),a(!1)}catch(e){l(e)}else a(!1)}),[t,u]),d=f.useCallback((async e=>{if("welcome"===e.type&&(a(!0),await c(),a(!1)),"reconnect"===e.type&&a(!0),"mutation"===e.type){if("appear"===e.transition){const t=e.result;t&&i({type:"TASK_RECEIVED",payload:t})}if("disappear"===e.transition&&i({type:"TASK_DELETED",id:e.documentId}),"update"===e.transition){const t=e.result;t&&i({type:"TASK_UPDATED",payload:t})}}}),[c]),p=f.useMemo((()=>t?t.observable.listen(Jne,u,Rbn).pipe(pn((e=>(l(e),we(e))))):we()),[t,u]);return f.useEffect((()=>{const e=p.subscribe(d);return()=>{e?.unsubscribe()}}),[d,p]),{data:f.useMemo((()=>Object.values(r.tasks)),[r.tasks]),dispatch:i,error:s,isLoading:o}}const Bbn=[];function Vbn(e){const{children:t}=e,[n,r]=f.useState(null),{data:i=Bbn,isLoading:o}=Nbn({}),a=f.useMemo((()=>nm(r,1e3)),[]),s=f.useMemo((()=>({activeDocument:n,setActiveDocument:a,isLoading:o,data:i??[]})),[n,i,o,a]);return u.jsx(Aae.Provider,{value:s,children:t})}function Pm(){return f.useContext(Aae)||{activeDocument:null,setActiveDocument:()=>null,data:[],isLoading:!1}}const Hd="tasks",Qne={interpolate:/{{([\s\S]+?)}}/g},ere="www.sanity.io",zbn="2024-04-19";function Ubn(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),o=Yw(),a=Ss(),s=Zt({apiVersion:zbn}),l=f.useMemo((()=>({dialogSecondaryClicked:()=>a.log(Z0,{feature:Hd,type:"modal"}),dialogPrimaryClicked:()=>a.log(K0,{feature:Hd,type:"modal"}),panelViewed:e=>a.log(Y0,{feature:Hd,type:"inspector",source:e}),panelDismissed:()=>a.log(q0,{feature:Hd,type:"inspector"}),panelPrimaryClicked:()=>a.log(K0,{feature:Hd,type:"inspector"}),panelSecondaryClicked:()=>a.log(Z0,{feature:Hd,type:"inspector"})})),[a]),c=f.useCallback((()=>{l.dialogPrimaryClicked()}),[l]),d=f.useCallback((()=>{l.dialogSecondaryClicked()}),[l]),p=f.useCallback((()=>{n(!1),a.log(q0,{feature:Hd,type:"modal"})}),[a]);f.useEffect((()=>{const e=s.observable.request({uri:"/journey/tasks"}).subscribe({next:e=>{if(e)try{const t=B0(e.ctaButton.url,Qne);e.ctaButton.url=t({baseUrl:ere,projectId:o});const n=B0(e.secondaryButton.url,Qne);e.secondaryButton.url=n({baseUrl:ere,projectId:o}),i(e)}catch{}},error:()=>{}});return()=>{e.unsubscribe()}}),[s,o]);const h=f.useCallback((e=>{n(!0),a.log(Y0,{feature:Hd,type:"modal",source:e})}),[a]),m=f.useMemo((()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l})),[h,t,r,l]);return u.jsxs(jae.Provider,{value:m,children:[e.children,r&&t&&u.jsx(IB,{data:r,onClose:p,onPrimaryClick:c,onSecondaryClick:d})]})}function h_e(){return f.useContext(jae)||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function Hbn(){const{handleOpenTasks:e,setViewMode:t}=ks(),{enabled:n,mode:r}=bl(),{handleOpenDialog:i}=h_e(),o=f.useCallback((()=>{"upsell"===r?i("document_action"):(e(),t({type:"create"}))}),[e,t,r,i]),{t:a}=Z(gr);return n?{icon:Tx,label:a("actions.create.text"),title:a("actions.create.text"),group:["paneActions"],onHandle:o}:null}function Wbn(e){const{documentId:t,documentType:n}=e,r=xbn(),{setActiveDocument:i}=Pm();return f.useEffect((()=>(t&&r&&n&&i?.({documentId:sn(t),documentType:n}),()=>{r&&i?.(null)})),[t,n,r,i]),null}function Gbn(e){const{enabled:t}=bl();return t?u.jsx(Wbn,{...e}):null}function Ybn(e){var t,n;const r=null==(t=e.value)?void 0:t._id,i=null==(n=e.value)?void 0:n._type;return u.jsxs(u.Fragment,{children:[u.jsx(Gbn,{documentId:r,documentType:i}),e.renderDefault(e)]})}const qbn=$.div`
  position: relative;
  [data-ui='Badge'] {
    position: absolute;
    top: -2px;
    right: -2px;
  }
`;function Kbn(){const{data:e,activeDocument:t}=Pm(),{handleOpenTasks:n,setActiveTab:r}=ks(),i=om(),o=f.useMemo((()=>null!=t&&t.documentId?e.filter((e=>{var n;return(null==(n=e.target)?void 0:n.document._ref)===t.documentId&&"open"===e.status&&e.createdByUser})):[]),[t,e]),a=f.useCallback((()=>{n(),r("document")}),[n,r]),{t:s}=Z(gr);return 0===o.length?null:i<3?u.jsxs(qbn,{children:[u.jsx(me,{mode:"bleed",icon:Tx,size:"large",onClick:a,tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:o.length})}}),u.jsx(ja,{tone:"primary",fontSize:0,children:o.length})]}):u.jsx(me,{mode:"bleed",tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:o.length})},text:s("document.footer.open-tasks.text",{count:o.length}),onClick:a})}function p_e({documentId:e,documentType:t,dataset:n,projectId:r}){return{documentType:t,document:{_ref:sn(e),_type:"crossDatasetReference",_dataset:n,_projectId:r,_weak:!0}}}function y5(e){if(!e)return[];const t=[];return e?.forEach((e=>{Mi(e)&&e.children.forEach((e=>{"mention"===e._type&&"string"==typeof e.userId&&!t.includes(e.userId)&&t.push(e.userId)}))})),t}const m_e="2024-03-05",X0=[{value:"open",title:"To Do",icon:u.jsx(wp,{})},{value:"closed",title:"Done",icon:u.jsx(Wf,{})}],Zbn=["title","status","assignedTo","dueBy","target","description"],Xbn=12e4;function Jbn(e){const t=[];for(const n of e){const e=t[t.length-1];if(e)if(Zbn.includes(n.field)){if(e.author===n.author&&e.field===n.field){const t=new Date(e.timestamp),r=new Date(n.timestamp);if(Math.abs(t.getTime()-r.getTime())<=Xbn){e.to=n.to,e.timestamp=n.timestamp;continue}}t.push(n)}else t.push(n);else t.push(n)}return t}function Qbn(e){const{_rev:t,...n}=e;return n}function exn(e,t,n){let r=Qbn(e);const i=[];let o=r;for(const e of t){const{timestamp:t,effects:a}=e,s=a[e.documentIDs[0]];!s||!s.revert||(o=e5(r,s.revert),n.forEach((n=>{o?.[n]!==r?.[n]&&i.push({field:n,from:o?.[n],to:r?.[n],timestamp:t,author:e.author})})),r=o)}const a=i.sort(((e,t)=>e.timestamp.localeCompare(t.timestamp))),s=a.findIndex((e=>"createdByUser"===e.field));return Jbn(a.slice(s+1))}function txn(e){var t;const[n,r]=f.useState([]),i=Zt({apiVersion:m_e}),{dataset:o,token:a}=i.config(),s=sn(null!=(t=e?._id)?t:""),l=i.getUrl(`/data/history/${o}/transactions/${s}?tag=sanity.studio.tasks.history&effectFormat=mendoza&excludeContent=true&includeIdentifiedDocumentsOnly=true&reverse=true`),u=f.useCallback((async e=>{try{if(!s)return;const t=[],n=(await zSe(l,a)).getReader();let i;for(;i=await n.read(),!i.done;){if("error"in i.value)throw new Error(i.value.error.description||i.value.error.type);t.push(i.value)}const o=["createdByUser","title","description","dueBy","assignedTo","status","target"],u=await exn(e,[...t],o);r(u)}catch(e){console.error("Failed to fetch and parse activity log",e)}}),[l,a,s]);return f.useEffect((()=>{u(e)}),[u,e._rev]),{changes:n}}function FB(e){var t;const{documentId:n,documentType:r}=e||{},i=Jt().get(r),o=Ui(),a=Wr(f.useMemo((()=>n&&i?ov(o,i,n,""):we(null)),[n,o,i])),s=null==(t=a?.isLoading)||t,{published:l,draft:u}=a||{},c=u?.title||l?.title,d=u?.subtitle||l?.subtitle,p=u?.description||l?.description;return{isLoading:s,value:{title:c,subtitle:d,media:u?.media||l?.media,description:p}}}function g_e(){const{client:e,createAddonDataset:t}=dj(),n=Un(),r=f.useCallback((async r=>{if(!n)throw new Error("No current user found. Unable to create task.");const i={...r,authorId:n.id,_type:"tasks.task"};if(!e)try{const e=await t();if(!e)throw new Error("No addon client found. Unable to create task.");return await e.create(i)}catch(e){throw e}try{return await e.create(i)}catch(e){throw e}}),[e,t,n]),i=f.useCallback((async(t,n)=>{try{if(!e)throw new Error("No client. Unable to create task.");return await e.patch(t).set(n).commit()}catch(e){throw e}}),[e]),o=f.useCallback((async t=>{try{if(!e)throw new Error("No client. Unable to create task.");await e.delete(t)}catch(e){throw e}}),[e]);return f.useMemo((()=>({create:r,edit:i,remove:o})),[r,i,o])}function v_e({id:e,onError:t,onRemoved:n}){const[r,i]=f.useState("idle"),[o,a]=f.useState(!1),[s,l]=f.useState(null),u=g_e();return{removeStatus:r,showDialog:o,error:s,handleRemove:f.useCallback((async()=>{try{i("loading"),await u.remove(e),n?.(),i("idle"),await new Promise((e=>setTimeout(e,300))),a(!1)}catch(e){t?.(e.message),l(e.message),i("error")}finally{i("idle")}}),[e,u,t,n]),handleOpenDialog:f.useCallback((()=>{a(!0)}),[a]),handleCloseDialog:f.useCallback((()=>{a(!1)}),[a])}}const nxn={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},rxn={minimal:!0,useTemporalPhrase:!0},LB=$.strong`
  font-weight: 600;
`,NB=$.span`
  white-space: nowrap;
`;function y_e(e){const t=new Date(e),n=Js(nxn).format(t);return{timeAgo:Jp(t||"",rxn),formattedDate:n}}function b_e({userId:e}){const[t,n]=nc(e);return n?u.jsx(Jn,{style:{width:"15ch"}}):u.jsx(LB,{children:t?.displayName})}const ixn={month:"short",day:"numeric"};function tre({date:e}){const t=new Date(e),n=Js(ixn).format(t);return u.jsx(LB,{children:u.jsx(NB,{children:n})})}const axn=$.span`
  > a {
    color: var(--card-fg-muted-color);
    text-decoration: underline;
    text-underline-offset: 1px;
    font-weight: 600;
  }
`;function oxn({target:e}){const t=Jt(),n=e.document._ref,r=e.documentType,i=t.get(r),{isLoading:o,value:a}=FB({documentId:n,documentType:r});return o?u.jsx(Jn,{style:{width:"15ch"}}):i?u.jsx(axn,{children:u.jsx(ml,{intent:"edit",params:{id:n,type:r},children:a?.title})}):null}function sxn(e){var t,n;switch(e.field){case"status":{const r=null==(t=X0.find((t=>t.value===e.to)))?void 0:t.title;return{text:"changed status to",icon:(null==(n=X0.find((t=>t.value===e.to)))?void 0:n.icon)||u.jsx(wp,{}),changeTo:u.jsx(LB,{children:r})}}case"target":return e.to?{text:"set target content to",icon:u.jsx(cs,{}),changeTo:u.jsx(oxn,{target:e.to})}:{text:"removed target content",icon:u.jsx(cs,{}),changeTo:void 0};case"dueBy":return e.from?e.to?{text:"changed the due date to",icon:u.jsx(da,{}),changeTo:u.jsx(tre,{date:e.to})}:{text:"removed the due date",icon:u.jsx(da,{}),changeTo:void 0}:{text:"set the due date to",icon:u.jsx(da,{}),changeTo:u.jsx(tre,{date:e.to})};case"assignedTo":return e.to?{text:"assigned to",icon:u.jsx(g0,{}),changeTo:u.jsx(b_e,{userId:e.to})}:{text:"unassigned this task",icon:u.jsx(g0,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:u.jsx(Ou,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:u.jsx(Ou,{}),changeTo:void 0};default:return{text:"",icon:u.jsx(wp,{})}}}const lxn=f.memo((function(e){const{activity:t}=e,{formattedDate:n,timeAgo:r}=y_e(t.timestamp),{icon:i,text:o,changeTo:a}=sxn(t);return u.jsxs(U,{gap:1,children:[u.jsx(N,{marginTop:1,marginLeft:1,marginRight:3,children:u.jsx(N,{marginRight:1,children:u.jsx(L,{children:i})})}),u.jsxs(L,{muted:!0,size:1,children:[u.jsx(b_e,{userId:t.author})," ",o," ",a," "," ",u.jsx(pt,{content:n,placement:"top-end",children:u.jsx(NB,{children:u.jsx("time",{dateTime:n,children:r})})})]})]})}),((e,t)=>e.activity.timestamp===t.activity.timestamp)),nre=$.div((e=>{var t,n;const r=Ae(e.theme);return de`
      min-height: ${null==(t=r.avatar.sizes[e.$size])?void 0:t.size}px;
      min-width: ${null==(n=r.avatar.sizes[e.$size])?void 0:n.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      ${e.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":""};
      ${e.$removeBg?"--card-avatar-gray-bg-color: transparent;":""}
    `})),uxn=$(Hu)((e=>{var t,n;const r=Ae(e.theme);return de`
    height: ${null==(t=r.avatar.sizes[e.$size])?void 0:t.size}px;
    width: ${null==(n=r.avatar.sizes[e.$size])?void 0:n.size}px;
    border-radius: 50%;
  `}));function dv(e){const{user:t,size:n=0,border:r=!0}=e,[i,o]=nc(t?.id||"");return o?u.jsx(uxn,{$size:n,animated:!0}):t&&i?u.jsx(pt,{content:i.displayName,disabled:!e.withTooltip,portal:!0,fallbackPlacements:["top","top-start"],placement:"top-end",children:u.jsx(nre,{$size:n,$removeBg:!(null==i||!i.imageUrl),children:u.jsx(gs,{user:i,size:n,...null!=i&&i.imageUrl?{color:void 0}:{},...e.withTooltip?{title:null}:{}})})}):u.jsx(nre,{$size:n,$border:r,children:u.jsx(L,{size:n,children:u.jsx(g0,{})})})}const cxn=$(U)`
  height: 100%;
`,dxn=$.div`
  width: 100%;
`;function BB({avatarPaddingTop:e=1,userId:t,children:n}){return u.jsxs(U,{children:[u.jsx(N,{marginRight:3,paddingTop:e,children:u.jsx(dv,{user:{id:t},size:0})}),u.jsx(cxn,{align:"center",flex:1,children:u.jsx(dxn,{children:n})})]})}function fxn(e){const{mentionOptions:t,currentUser:n,onSubmit:r}=e,{mode:i}=bl(),[o,a]=f.useState(null),s=f.useRef(null),l=f.useMemo((()=>Mm(o)),[o]),c=f.useCallback((e=>{a(e)}),[]),d=f.useCallback((()=>{l&&(r(o),a(null))}),[l,r,o]),p=f.useCallback((()=>{var e;null==(e=s.current)||e.discardDialogController.close()}),[]),h=f.useCallback((()=>{var e;null==(e=s.current)||e.discardDialogController.close(),a(null)}),[]),m=f.useCallback((e=>{var t,n;"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),l?null==(t=s.current)||t.discardDialogController.open():(null==(n=s.current)||n.discardDialogController.close(),a(null)))}),[l]),{t:g}=Z(gr);return u.jsx(BB,{userId:n.id,avatarPaddingTop:3,children:u.jsx(ae,{tone:"transparent",radius:3,padding:2,children:u.jsx(Lm,{withAvatar:!1,currentUser:n,expandOnFocus:!0,mentionOptions:t,onChange:c,onDiscardConfirm:h,onDiscardCancel:p,onKeyDown:m,onSubmit:d,readOnly:"upsell"===i,placeholder:g("upsell"===i?"panel.comment.placeholder.upsell":"panel.comment.placeholder"),ref:s,value:o})})})}const hxn={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},pxn=$.div((e=>{const t=Ae(e.theme);return de`
    [data-ui='CommentsListItem'] {
      padding-right: ${t.space[2]}px;
    }

    // Increase the padding when the comment input is focused
    [data-ui='CommentInputEditableWrap']:focus-within {
      padding-bottom: ${t.space[2]}px;
    }
  `}));function mxn(e){const{parentComment:t}=e,{mode:n}=bl();return u.jsx(BB,{userId:t.authorId,avatarPaddingTop:3,children:u.jsx(pxn,{children:u.jsx(F5e,{...e,avatarConfig:hxn,canReply:!0,isSelected:!1,mode:n??"default"})})})}const gxn=$(Jn)`
  max-width: 15ch;
  width: '100%';
`,vxn=f.memo((function(e){var t;const{createdAt:n,authorId:r}=e,[i,o]=nc(r),{timeAgo:a,formattedDate:s}=y_e(n),{t:l}=Z(gr);return u.jsx(BB,{userId:r,children:u.jsx(U,{align:"center",paddingTop:1,children:u.jsxs(L,{size:1,muted:!0,children:[u.jsxs("strong",{style:{fontWeight:600},children:[o?u.jsx(gxn,{}):null!=(t=i?.displayName)?t:l("panel.activity.unknown-user")," "]}),l("panel.activity.created-fragment")," "," ",u.jsx(pt,{content:s,placement:"top-end",children:u.jsx(NB,{children:u.jsx("time",{dateTime:n,children:a})})})]})})})}),((e,t)=>e.createdAt===t.createdAt));function yxn(e){var t,n;const{value:r,onChange:i,path:o,currentUserId:a}=e,s=null!=(t=r.subscribers)&&t.includes(a)?"Unsubscribe":"Subscribe",l=f.useCallback((()=>{const e=r.subscribers||[];e.includes(a)||i(lt(e.concat(a),o)),e.includes(a)&&i(lt(e.filter((e=>e!==a)),o))}),[r.subscribers,a,i,o]);return u.jsxs(U,{gap:1,align:"center",children:[u.jsx(me,{mode:"bleed",text:s,onClick:l}),r.subscribers&&(null==(n=r.subscribers)?void 0:n.length)>0&&u.jsx(xxn,{subscriberIds:r.subscribers})]})}const bxn=[];function xxn(e){const{subscriberIds:t}=e,n=f.useMemo((()=>t?.filter(Boolean)||bxn),[t]);return u.jsx(xs,{initial:!1,children:u.jsx(Ux,{maxLength:3,size:0,children:n.map((e=>u.jsx(di.div,{exit:{opacity:0,translateX:"2px",scale:.9},animate:{opacity:1,translateX:0,scale:1,transition:{type:"just",duration:.2}},initial:{opacity:0,translateX:"2px",scale:.9},children:u.jsx(dv,{user:{id:e},size:0})},e)))})})}const pO=[],wxn={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},Cxn=$(di(ne))``;function Sxn(e){const{value:t,onChange:n,path:r,activityData:i=[]}=e,o=Un(),{title:a,basePath:s}=jr(),{comments:l,mentionOptions:c,operation:d,getComment:p}=ej(),[h,m]=f.useState(null),[g,y]=f.useState(null),[v,b]=f.useState(!1),x=l.loading,w=l.data.open,C=f.useCallback(((e,n)=>{const r=new URL(`${window.location.origin}${s?`${s}/`:""}`);r.searchParams.set("sidebar","tasks"),r.searchParams.set("selectedTask",t?._id),r.searchParams.set("viewMode","edit"),r.searchParams.set("commentId",n);const i=y5(e),o=Array.from(new Set([...t.subscribers||[],...i]));return{documentTitle:t.title||"Sanity task",url:r.toString(),workspaceTitle:a,subscribers:o}}),[s,t?._id,t.title,a,t.subscribers]),k=f.useCallback((e=>{const t=Ca(),r=C(e,t),i={id:t,type:"task",message:e,parentCommentId:void 0,reactions:pO,status:"open",threadId:Ca(),context:{notification:r}};n(lt(r.subscribers,["subscribers"])),d.create(i)}),[d,C,n]),j=f.useCallback((e=>{const t=Ca(),r=C(e.message,t);n(lt(r.subscribers,["subscribers"])),d.create({id:t,type:"task",message:e.message,parentCommentId:e.parentCommentId,reactions:pO,status:"open",threadId:e.threadId,context:{notification:r}})}),[d,C,n]),S=f.useCallback((e=>{const t=p(e);if(!t)return;const r=C(t.message,t._id);n(lt(r.subscribers,["subscribers"])),d.create({type:"task",id:t._id,message:t.message,parentCommentId:t.parentCommentId,reactions:t.reactions||pO,status:t.status,threadId:t.threadId,context:{notification:r}})}),[p,d,C,n]),E=f.useCallback(((e,t)=>{d.react(e,t)}),[d]),_=f.useCallback((e=>m(e)),[]),A=f.useCallback((()=>m(null)),[]),T=f.useCallback((async e=>{try{b(!0),y(null),await d.remove(e),m(null)}catch(e){y(e)}finally{b(!1)}}),[d]),D=f.useCallback(((e,t)=>{d.update(e,t)}),[d]),M=f.useMemo((()=>{const e=i.map((e=>({_type:"activity",payload:e,timestamp:e.timestamp}))),t=w.map((e=>({_type:"comment",payload:e,timestamp:e.parentComment._createdAt})));return e.concat(t).sort(((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()))}),[i,w]),{t:I}=Z(gr),O=f.useMemo((()=>{var e;const t=w.find((e=>{var t;return(null==(t=e.parentComment)?void 0:t._id)===h}));return!!(t&&(null==(e=t?.replies)?void 0:e.length)>0)}),[h,w]);return u.jsxs(u.Fragment,{children:[h&&u.jsx(I5e,{commentId:h,error:g,isParent:O,loading:v,onClose:A,onConfirm:T}),u.jsxs(ne,{space:5,children:[u.jsxs(U,{align:"center",children:[u.jsx(N,{flex:1,children:u.jsx(L,{size:2,weight:"semibold",children:I("panel.activity.title")})}),o?.id&&u.jsx(yxn,{currentUserId:o.id,value:t,onChange:n,path:r})]}),x&&u.jsx(wn,{showText:!0,title:"Loading activity"}),u.jsx(xs,{children:!x&&u.jsxs(Cxn,{animate:"visible",initial:"hidden",space:4,variants:wxn,children:[t.createdByUser&&u.jsx(ne,{paddingBottom:1,children:u.jsx(vxn,{createdAt:t.createdByUser,authorId:t.authorId})}),o&&u.jsxs(ne,{space:4,marginTop:1,children:[M.map((e=>"activity"===e._type?u.jsx(lxn,{activity:e.payload},e.timestamp):u.jsx(mxn,{currentUser:o,mentionOptions:c,onCreateRetry:S,onDelete:_,onEdit:D,onReactionSelect:E,onReply:j,parentComment:e.payload.parentComment,replies:e.payload.replies},e.payload.parentComment._id))),u.jsx(fxn,{currentUser:o,mentionOptions:c,onSubmit:k})]})]})})]})]})}function Exn(e){const{user:t,onSelect:n,pressed:r}=e,{t:i}=Z(gr),o=f.useCallback((()=>n(t.id)),[t,n]);return u.jsx(lm,{onClick:o,padding:1,disabled:!t.granted,pressed:r,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:2,flex:1,children:[u.jsx(dv,{user:t.id?t:void 0,size:1}),u.jsx(L,{size:1,textOverflow:"ellipsis",title:t.displayName,children:t.displayName})]}),!t.granted&&u.jsx(ja,{fontSize:1,mode:"outline",children:i("form.input.assignee.unauthorized.text")})]})})}const _xn=$(At)`
  width: 308px;
  border-radius: 3px;
`,kxn=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Txn={id:"",displayName:"No assignee",granted:!0};function Axn({onSelect:e,value:t=""}){const[n,r]=f.useState(""),{mentionOptions:i}=qw(),o=f.useRef(null),a=[Txn].concat(i.data||[]),s=f.useCallback((e=>{r(e.currentTarget.value)}),[]),l=f.useMemo((()=>{var e;if(!n)return a||[];const t=R0(n).toLocaleLowerCase(),r=a?.map((e=>({...e,searchName:R0(e.displayName||"").toLocaleLowerCase()})));return(null==(e=r?.filter((e=>e?.searchName.includes(t))))?void 0:e.sort(((e,n)=>{const r=e.searchName.startsWith(t),i=n.searchName.startsWith(t);return r&&!i?-1:!r&&i?1:0})))||[]}),[a,n]),c=f.useCallback((n=>u.jsx(Exn,{user:n,onSelect:e,pressed:n.id===t},n.id)),[e,t]),d=f.useCallback((e=>{var t;e.target!==o.current&&(kxn.includes(e.key)||null==(t=o.current)||t.focus())}),[]),{t:p}=Z(gr);return i.loading?u.jsx(Xr,{width:0,children:u.jsx(wn,{showText:!0})}):u.jsxs("div",{onKeyDown:d,children:[u.jsx(Vr,{placeholder:p("form.input.assignee.search.placeholder"),autoFocus:!0,border:!1,onChange:s,value:n,fontSize:1,icon:g0,ref:o,name:"assigneeSearch",autoComplete:"off"}),u.jsx("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:0===l.length?u.jsx(N,{padding:3,children:u.jsx(L,{align:"center",size:1,muted:!0,children:p("form.input.assignee.search.no-users.text")})}):l.map(c)})]})}function x_e(e){const{onSelect:t,menuButton:n,value:r}=e;return u.jsx(Gt,{button:n,id:"assign-user-menu",menu:u.jsx(_xn,{children:u.jsx(Axn,{onSelect:t,value:r})}),popover:{placement:"bottom",fallbackPlacements:["bottom"],portal:!0,constrainSize:!0}})}const jxn=$(ae)((e=>de`
    &[data-as='button'] {
      border: 1px solid var(--card-border-color);
      &:focus-within {
        border: 1px solid var(--card-focus-ring-color);
      }
      --card-muted-fg-color: ${Ae(e.theme).color.input.default.enabled.placeholder};
    }
  `));function Ixn(e){const{value:t,onChange:n}=e,{mentionOptions:r}=qw(),i=f.useMemo((()=>{var e;return null==(e=r.data)?void 0:e.find((e=>e.id===t))}),[r.data,t]),o=f.useCallback((e=>n(lt(e))),[n]),{t:a}=Z(gr),s=f.useMemo((()=>{if(t){if(r.loading)return u.jsx(Jn,{animated:!0,style:{width:"10ch"}});if(i)return i.displayName||i.email;if(!i)return a("form.input.assignee.user-not-found.text")}return a("form.input.assignee.search.placeholder")}),[r.loading,i,t,a]);return u.jsx(x_e,{onSelect:o,value:t,menuButton:u.jsx(jxn,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:1,flex:1,children:[u.jsx(dv,{user:i,size:1,border:!1}),u.jsx(L,{size:1,textOverflow:"ellipsis",muted:!i,children:s})]}),t&&i&&!i.granted&&u.jsx(ja,{fontSize:1,mode:"outline",children:a("form.input.assignee.unauthorized.text")})]})})})}const Dxn=$(wt)`
  padding: 3px 6px;
`;function Oxn(e){const{value:t,onChange:n,path:r}=e,i=Nw(["subscribers"]),{mentionOptions:o}=qw(),a=f.useMemo((()=>{var e;return null==(e=o.data)?void 0:e.find((e=>e.id===t))}),[o.data,t]),{t:s}=Z(gr),l=f.useCallback((e=>{n(lt(e,r)),i&&!i.includes(e)&&e&&n(lt([...i,e],["subscribers"]))}),[n,r,i]),c=f.useMemo((()=>{if(t){if(o.loading)return u.jsx(Jn,{animated:!0,style:{width:"10ch"}});if(a)return a.displayName||a.email;if(!a)return s("form.input.assignee.user-not-found.text")}return s("form.input.assignee.no-user-assigned.text")}),[o.loading,a,t,s]);return u.jsx(x_e,{onSelect:l,value:t,menuButton:u.jsx(Dxn,{mode:"ghost",padding:0,children:u.jsx(pt,{content:s(t?"form.input.assignee.user-assigned.tooltip":"form.input.assignee.no-user-assigned.tooltip"),children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:2,flex:1,children:[u.jsx(dv,{user:a,size:0}),u.jsx(N,{children:u.jsx(L,{size:1,textOverflow:"ellipsis",children:c})})]}),t&&a&&!a.granted&&u.jsx(ja,{fontSize:1,mode:"outline",children:s("form.input.assignee.unauthorized.text")})]})})})})}const Rxn=e=>$1(e,eh),Mxn=e=>fT(e,eh);function $xn(e){var t;const{value:n,onChange:r,path:i}=e,{t:o}=Z(),{t:a}=Z(gr),[s,l]=f.useState(!1),[c,d]=f.useState(null),p=f.useRef(null),h=Js({dateStyle:"long"}),m=f.useMemo((()=>{if(!n)return{short:"----",full:"----"};const e=h.format(new Date(n)),[t]=e.split(",");return{short:t,full:e}}),[h,n]);Fn((()=>l(!1)),[c]);const g=f.useCallback((e=>{"Escape"===e.key&&l(!1)}),[]),y=f.useCallback((()=>l((e=>!e))),[]),v=f.useMemo((()=>X9(o)),[o]),b=f.useCallback((e=>{r(e?lt(Rxn(e),i):ft(i)),l(!1)}),[r,i]),x=Mxn(n),w=f.useCallback((()=>{var e;null==(e=p.current)||e.focus()}),[p]),C=(null==(t=x?.date)?void 0:t.getFullYear())===(new Date).getFullYear();return u.jsx(An,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:d,content:u.jsx(N,{overflow:"auto",children:u.jsxs(fl,{onDeactivation:w,children:[u.jsx(f2e,{calendarLabels:v,selectTime:!1,timeStep:1,onKeyUp:g,value:x.date,onChange:b}),n&&u.jsx(U,{justify:"flex-start",padding:3,paddingTop:0,children:u.jsx(me,{mode:"bleed",text:a("form.input.date.buttons.remove.text"),onClick:()=>b(null),tone:"critical"})})]})}),open:s,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:u.jsx(me,{icon:da,mode:"ghost",text:C?m.short:m.full,onClick:y,ref:p,tooltipProps:{content:a(n?"form.input.date.buttons.tooltip":"form.input.date.buttons.empty.tooltip")}})})}const Pxn=$(L)`
  word-break: break-word;
`;function Fxn(e){const{children:t}=e;return u.jsx(N,{paddingTop:2,paddingBottom:3,children:u.jsx(Pxn,{size:1,children:t})})}const Lxn=e=>{const{children:t}=e;return u.jsx(Fxn,{children:t})},Nxn=$.div((e=>{const t=Ae(e.theme),n="edit"===e.$mode?t.space[1]:t.space[3],r="edit"===e.$mode?120:200;return de`
    /* select CommentInputEditableWrap and change the padding */
    [data-ui='CommentInputEditableWrap'] {
      overflow: hidden;
      padding: ${"edit"===e.$mode?`${n}px 0px`:`${n}px ${t.space[2]}px`};
      min-height: ${Math.max(e.$minHeight+n,r)}px !important;
    }
    #comment-input-root {
      box-shadow: ${"edit"===e.$mode?"none":""};
    }
    [data-ui='CommentInputActions'] {
      display: none !important;
    }
  `}));function Bxn(e){const{value:t,mode:n,inputProps:{onChange:r}}=e,i=t,o=Un(),{mentionOptions:a}=qw(),s=f.useCallback((e=>r(lt(e))),[r]),[l,c]=f.useState(null),[d,p]=f.useState(200),h=f.useCallback((e=>{const t=e.querySelector('[role="textbox"]');if(!t)return;const n=t.scrollHeight;p(n)}),[]),m=f.useCallback((e=>{e&&f.startTransition((()=>{c(e)}))}),[]),{t:g}=Z(gr);return f.useEffect((()=>{l&&h(l)}),[i,h,l]),o?u.jsx(Nxn,{$mode:n,ref:m,$minHeight:d,children:u.jsx(Lm,{expandOnFocus:!1,currentUser:o,mentionOptions:a,onChange:s,value:i??[],withAvatar:!1,placeholder:g("form.input.description.placeholder"),onDiscardConfirm:()=>null,renderBlock:Lxn})}):null}const w_e=$.div((e=>de`
    // Reset the padding of the field header content box
    [data-ui='fieldHeaderContentBox'] {
      padding: 0;
      label {
        font-weight: ${Ae(e.theme).font.text.weights.regular};
      }
    }
  `));function rre(e){return u.jsx(w_e,{children:e.renderDefault(e)})}const Vxn=f.forwardRef((function(e,t){var n;const{t:r}=Z(gr),{value:i,options:o,...a}=e,s=o.find((e=>e.value===i)),l=null==(n=X0.find((e=>e.value===i)))?void 0:n.icon;return u.jsx(me,{...a,ref:t,tooltipProps:{content:r("form.input.status.button.tooltip")},icon:l,text:s?.title||i,tone:"default",mode:"ghost"})}));function zxn(e){const{value:t,onChange:n,options:r,path:i}=e,o=Ss(),a=f.useCallback((e=>{n(lt(e,i)),o.log(Sbn,{from:t,to:e})}),[n,i,o,t]);return u.jsx(Gt,{button:u.jsx(Vxn,{value:t,options:r}),id:"reference-menuButton",menu:u.jsx(At,{children:r.map((e=>{var n;const r=t===e.value,i=null==(n=X0.find((t=>t.value===e.value)))?void 0:n.icon;return u.jsx(qe,{icon:"string"==typeof e.value&&i||wp,text:e.title||e.value,pressed:r,iconRight:r&&u.jsx(na,{}),onClick:()=>a(e.value)},e.title)}))})})}function Uxn(){return u.jsx("div",{children:"Config errors"})}function VB({children:e}){return u.jsx(m5e,{LoadingComponent:wn,ConfigErrorsComponent:Uxn,children:e})}const Hxn=$(ae)((e=>de`
    &:focus {
      border: 1px solid var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      border: 1px solid var(--card-focus-ring-color);
    }
    &:hover {
      border-color: ${Ae(e.theme).color.input.default.hovered.border};
    }
  `)),Wxn=$(L)((e=>`\n      color: ${Ae(e.theme).color.input.default.enabled.placeholder};\n      margin-left: 3px;\n  `)),Gxn=$(ae)`
  position: relative;
  [data-ui='show-on-hover'] {
    opacity: 0;
    position: absolute;
    right: 6px;
    top: 4px;
    display: flex;
  }
  &:focus-within,
  &:hover {
    padding-right: 36px;
    /* Hides the preview status dot, the button will take it's position. */
    [data-testid='compact-preview__status'] {
      opacity: 0;
    }
    [data-ui='show-on-hover'] {
      transition: opacity 200ms;
      opacity: 1;
    }
  }
`,Yxn=$(ml)((()=>de`
    text-decoration: none;
    width: 100%;
    overflow: hidden;
    cursor: pointer;
    &:focus {
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
  `));function qxn(e){const{value:t,handleRemove:n}=e,r=t.document._ref,i=t.documentType,o=Jt().get(t.documentType),a=sv(r),{t:s}=Z(gr),l=f.useMemo((()=>f.forwardRef((function(e,t){return u.jsx(Yxn,{...e,intent:"edit",params:{id:r,type:i},ref:t})}))),[r,i]);return o?u.jsx(Gxn,{border:!0,radius:2,children:u.jsxs(U,{gap:1,align:"center",justify:"space-between",children:[u.jsx(ae,{as:l,radius:2,"data-as":"button",children:u.jsx(oEe,{documentId:t.document._ref,layout:"compact",presence:a,schemaType:o,showBadge:!1})}),u.jsx("div",{"data-ui":"show-on-hover",children:u.jsx(me,{icon:Ar,mode:"bleed",onClick:n,tooltipProps:{content:s("form.input.target.buttons.remove.text")}})})]})}):u.jsx(L,{children:s("form.input.target.error.schema-not-found")})}function Kxn(e){const[t,n]=f.useState(!1),{dataset:r,projectId:i}=jr(),{mode:o,inputProps:{onChange:a},value:s}=e,l=s,c=f.useCallback((e=>{a(lt(p_e({documentId:e._id,documentType:e._type,dataset:r,projectId:i})))}),[r,i,a]),d=f.useCallback((()=>{a(ft())}),[a]),p=f.useCallback((()=>{n(!0)}),[n]),h=f.useCallback((()=>{n(!1)}),[n]),m=f.useCallback((e=>{("Enter"===e.key||" "===e.key)&&n(!0)}),[]),{t:g}=Z(gr);return u.jsx(ae,{borderBottom:"edit"===o,paddingBottom:"edit"===o?4:0,children:u.jsx(w_e,{children:u.jsx(nl,{zOffset:100,children:u.jsxs(VB,{children:[u.jsxs(ne,{space:2,children:["create"===o&&u.jsx(N,{"data-ui":"fieldHeaderContentBox",children:u.jsx(E9,{description:e.description,inputId:e.inputId,title:e.title,validation:e.validation,deprecated:void 0})}),l?u.jsx(qxn,{value:l,handleRemove:d}):u.jsx(Hxn,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:p,onKeyDown:m,tabIndex:0,children:u.jsxs(U,{gap:1,justify:"flex-start",align:"center",children:[u.jsx(N,{paddingX:1,children:u.jsx(L,{size:1,children:u.jsx(Nl,{})})}),u.jsx(Wxn,{size:1,children:g("form.input.target.search.placeholder")})]})})]}),u.jsx(YB,{children:u.jsx(q_e,{open:t,onClose:h,onItemSelect:c,disableIntentLink:!0})})]})})})})}const Zxn=$.div((e=>`\n      display: grid;\n      grid-template-columns: 1fr;\n      padding-top: ${Ae(e.theme).space[3]}px;\n    `)),Xxn=$.textarea((e=>{const{color:t,font:n}=Ae(e.theme);return de`
    resize: none;
    overflow: hidden;
    appearance: none;
    background: none;
    border: 0;
    padding: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${n.text.family};
    font-weight: ${n.text.weights.semibold};
    font-size: ${n.text.sizes[3].fontSize}px;
    line-height: ${n.text.sizes[3].lineHeight}px;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;
    transition: height 500ms;
    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    color: ${t.input.default.enabled.fg};

    &::placeholder {
      color: ${t.input.default.enabled.placeholder};
    }
  `}));function C_e(e){const{value:t,onChange:n,placeholder:r,path:i}=e,o=f.useRef(null);f.useEffect((()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${o.current.scrollHeight}px`)}),[t]);const a=f.useCallback((e=>{const t=e.currentTarget.value;return t||n(ft(i)),n(lt(t.replace(/\n/g,""),i))}),[n,i]);return u.jsx(Zxn,{children:u.jsx(Xxn,{ref:o,autoFocus:!t,value:t,placeholder:r,onChange:a,rows:1})})}function Jxn(e){const{value:t,inputProps:n}=e,{onChange:r,schemaType:i}=n;return u.jsx(C_e,{value:t,onChange:r,placeholder:i.placeholder})}const Qxn=e=>{const t=e.subscribers||[];return y5(e.description).forEach((e=>{t.includes(e)||t.push(e)})),e.assignedTo&&(t.includes(e.assignedTo)||t.push(e.assignedTo)),t};function ewn(e){const[t,n]=f.useState(!1),{onChange:r}=e,{setViewMode:i,setActiveTab:o}=ks(),a=Ur(),s=Ss(),[l,c]=f.useState(!1),d=f.useCallback((()=>c((e=>!e))),[]),p=e.value,h=f.useCallback((()=>{i({type:"list"})}),[i]),{handleRemove:m,removeStatus:g}=v_e({id:p._id,onRemoved:h}),{t:y}=Z(gr),{data:v}=Pm(),b=v.find((e=>e._id===p._id));f.useEffect((()=>{t&&null!=b&&b.createdByUser&&(s.log(Cbn),a.push({closable:!0,status:"success",title:y("form.status.success")}),n(!1),l?i({type:"create"}):o("subscribed"))}),[t,b?.createdByUser]),f.useEffect((()=>{let e=null;return t&&(e=setTimeout((()=>{n(!1),a.push({closable:!0,status:"error",title:y("form.status.error.creation-failed")})}),1e4)),()=>{e&&clearTimeout(e)}}),[t]);const x=f.useCallback((async()=>{n(!0),null!=p&&p.title?r([lt(Qxn(p),["subscribers"]),lt((new Date).toISOString(),["createdByUser"])]):a.push({closable:!0,status:"error",title:y("form.status.error.title-required")})}),[p,r,y,a]);return u.jsxs(u.Fragment,{children:[e.renderDefault(e),u.jsx(N,{paddingY:5,children:u.jsxs(U,{paddingTop:1,gap:4,children:[p._rev&&u.jsx(me,{onClick:m,mode:"bleed",icon:Br,tooltipProps:{content:y("buttons.discard.text")},disabled:"loading"===g,loading:"loading"===g}),u.jsxs(U,{align:"center",gap:2,justify:"flex-end",flex:1,children:[u.jsx(kk,{onChange:d,checked:l}),u.jsx(L,{size:1,muted:!0,children:y("form.input.create-more.text")})]}),u.jsx(me,{text:y("buttons.create.text"),onClick:x,disabled:t,loading:t})]})})]})}function twn(e){const{handleCloseDialog:t,handleRemove:n,removeStatus:r,showDialog:i}=e,{t:o}=Z(gr);return i?u.jsx(Si,{id:"remove-task",header:o("dialog.remove-task.title"),onClose:t,footer:{cancelButton:{text:o("dialog.remove-task.buttons.cancel.text"),onClick:t},confirmButton:{text:o("dialog.remove-task.buttons.confirm.text"),tone:"critical",onClick:n,loading:"loading"===r}},children:u.jsx(ne,{space:3,children:u.jsx(L,{as:"p",children:o("dialog.remove-task.body")})})}):null}const nwn=$(U)((e=>{const t=Ae(e.theme);return de`
    column-gap: ${t.space[2]}px;
    row-gap: ${t.space[3]}px;
  `}));function rwn({id:e,value:t}){const{setViewMode:n,handleCopyLinkToTask:r}=ks(),{mode:i}=bl(),o=Ss(),a=v_e({id:e,onRemoved:f.useCallback((()=>{n({type:"list"}),o.log(_bn)}),[n,o])}),s=f.useCallback((()=>{n({type:"duplicate",duplicateTaskValues:t}),o.log(Ebn)}),[n,o,t]),{t:l}=Z(gr);return u.jsxs(u.Fragment,{children:[u.jsx(N,{paddingTop:3,children:u.jsx(Gt,{id:"edit-task-menu",button:u.jsx(ai,{}),popover:{placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},menu:u.jsxs(At,{children:[u.jsx(qe,{text:l("menuitem.duplicate.text"),icon:Ll,onClick:s,tooltipProps:"upsell"===i?{content:l("menuitem.duplicate.upsell-tooltip")}:void 0,disabled:"upsell"===i}),u.jsx(qe,{text:l("menuitem.copylink.text"),icon:cs,onClick:r}),u.jsx(rr,{}),u.jsx(qe,{text:l("menuitem.delete.text"),icon:Br,onClick:a.handleOpenDialog,tone:"critical"})]})})}),u.jsx(twn,{...a})]})}function iwn(e){var t,n,r,i,o,a;const s=e.schemaType.fields.find((e=>"status"===e.name)),l=e.value,c=Un(),{t:d}=Z(gr),p=txn(l).changes,h=f.useCallback((t=>{const n=l.subscribers||[];e.onChange(t),c&&(n.includes(c.id)||e.onChange(lt([...n,c.id],["subscribers"])))}),[c,e,l.subscribers]);if(!s)throw new Error("Status field not found");return null!=(t=e.value)&&t._id?u.jsxs(u.Fragment,{children:[u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(ne,{flex:1,children:u.jsx(C_e,{onChange:h,value:null==(n=e.value)?void 0:n.title,path:["title"],placeholder:d("form.input.title.placeholder")})}),u.jsx(rwn,{id:null==(r=e.value)?void 0:r._id,value:l})]}),u.jsx(ae,{borderTop:!0,marginTop:3,children:u.jsx(nwn,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:u.jsxs(Sa,{children:[u.jsx(zxn,{value:null==(i=e.value)?void 0:i.status,path:["status"],onChange:h,options:s.type.options.list}),u.jsx(Oxn,{value:null==(o=e.value)?void 0:o.assignedTo,onChange:h,path:["assignedTo"]}),u.jsx($xn,{value:null==(a=e.value)?void 0:a.dueBy,onChange:h,path:["dueBy"]})]})})}),e.renderDefault(e),u.jsx(DEe,{documentId:l._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:u.jsx(VB,{children:u.jsx(ae,{borderTop:!0,paddingTop:4,marginTop:4,paddingBottom:6,children:u.jsx(Sxn,{value:l,onChange:e.onChange,path:["subscribers"],activityData:p})})})})]}):u.jsx(wn,{})}function awn(e){const t=e.value,n=Un(),r=f.useCallback((e=>{if(!n||e.some((e=>"subscribers"===e.path[0]))||e.some((e=>"context"===e.path[0]&&"notification"===e.path[1])))return e;const r=t.subscribers||[],i=[...r],o=e.find((e=>"assignedTo"===e.path[0]));o&&"set"===o.type&&"string"==typeof o.value&&!i.includes(o.value)&&i.push(o.value),i.includes(n.id)||i.push(n.id);const a=e.find((e=>"description"===e.path[0]&&"set"===e.type));if(a){const e=y5(t.description);y5("set"===a.type?a.value:void 0).filter((t=>!e.includes(t))).forEach((e=>{i.includes(e)||i.push(e)}))}return i.length!==r.length&&e.push(lt(i,["subscribers"])),e}),[n,t.subscribers,t.description]);return u.jsx(Umn,{transform:r,children:u.jsx(iwn,{...e})})}function own(e,t,n=""){let r=window.location.origin;t&&(r+=t),n&&(r+=`/${n}`);const i=new URL(`${r}/`);return i.searchParams.set("sidebar","tasks"),i.searchParams.set("selectedTask",e),i.searchParams.set("viewMode","edit"),i.toString()}function swn(e){var t,n,r,i;const{inputProps:o}=e,{onChange:a}=o,s=Cw(f.useCallback((e=>"string"==typeof e.tool?e.tool:void 0),[])),{target:l,_id:u,context:c,_rev:d}=Nw([]),{title:p,basePath:h}=jr(),m=Zt(zt),g=f.useMemo((()=>iw(m)),[m]),y=null!=(n=null==(t=l?.document)?void 0:t._ref)?n:"",v=null!=(r=l?.documentType)?r:"",{isLoading:b,value:x}=FB({documentId:y,documentType:v}),w=x?.title||null,C=P1(x?.media)?g.image(x.media).width(96).height(96).url():null,k=f.useMemo((()=>{var e;const t=null==(e=c?.notification)?void 0:e.url;return{url:t&&Es?t:own(u,h,s),workspaceTitle:p,targetContentImageUrl:C,targetContentTitle:w}}),[null==(i=c?.notification)?void 0:i.url,u,h,s,p,C,w]);return f.useEffect((()=>{y&&v&&b||d&&(l0(c?.notification,k)||a(lt(k,["notification"])))}),[d,c,y,v,k,b,a]),null}function lwn(e){return u.jsx(VB,{children:u.jsx(swn,{...e})})}const ire=e=>ji({type:"object",name:"target",title:"Target",components:{field:t=>u.jsx(Kxn,{...t,mode:e})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:({id:e,type:t})=>`intent/edit/id=${e};type=${t}/`,to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),are=e=>ji({type:"array",name:"description",title:"Description",components:{field:t=>u.jsx(Bxn,{...t,mode:e})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]}),uwn=e=>Cx({type:"document",name:"tasks.task",liveEdit:!0,components:{input:"edit"===e?awn:ewn},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:Jxn},hidden:"edit"===e},..."edit"===e?[ire(e),are(e)]:[are(e),ire(e)],{type:"string",name:"assignedTo",title:"Assign to",placeholder:"Select assignee",components:{field:rre,input:Ixn},hidden:"edit"===e},{type:"date",name:"dueBy",title:"Deadline",placeholder:"yyyy-mm-dd",components:{field:rre},hidden:"edit"===e},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:X0.map((e=>({value:e.value,title:e.title})))},hidden:!0},{type:"object",name:"context",components:{field:lwn},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]});function cwn({children:e,mode:t,addonDataset:n}){const r=Zt({apiVersion:m_e}).config().apiHost,i=Sn(),o=f.useMemo((()=>({basePath:"",dataset:n,name:`addon-dataset-${n}`,projectId:i.projectId,apiHost:r,schema:{types:[uwn(t)]}})),[i.projectId,t,r,n,""]),{workspaces:a}=f.useMemo((()=>__e(o,{basePath:""})),[o,""]),s=p5e(a[0]);return s?u.jsx($Ce,{workspace:s,children:u.jsx(zA,{source:s.unstable_sources[0],children:u.jsx(WSe,{children:e})})}):null}function dwn(e){const{client:t,ready:n,createAddonDataset:r}=dj(),i=t?.config().dataset;return f.useEffect((()=>{!i&&n&&r()}),[i,n,r]),i?u.jsx(cwn,{...e,addonDataset:i}):u.jsx(wn,{})}function fwn(e){const{documentType:t="tasks.task",documentId:n,initialValue:r={}}=e,i=Jt().get(t);if(!i)throw new Error(`Schema type for '${t}' not found`);const{validation:o}=cv(n,t),a=ba(o),[s,l]=f.useState([]),[u,c]=f.useState([]),[d,p]=f.useState(),[h,m]=f.useState(),[g,y]=f.useState(),[v]=f.useState([]),b=f.useCallback((e=>{l(e)}),[l]),x=f.useCallback((()=>{l([])}),[]),w=f.useCallback(((e,t)=>{p((n=>fu(n,e,t)))}),[]),C=f.useCallback(((e,t)=>{m((n=>fu(n,e,t)))}),[]),k=f.useCallback(((e,t)=>y((n=>fu(n,e,t)))),[]),{patch:j}=xl(n,t),S=f.useRef((()=>{throw new Error("Nope")}));S.current=e=>{j.execute(_Ee(e.patches),r)};const E=f.useCallback((e=>S.current(e)),[]),_=g5e(n,t),A=fj(n,t),T=A?.draft||A?.published||r,D=xEe(i,{value:T,comparisonValue:T,readOnly:!1,changesOpen:!1,presence:v,focusPath:s,openPath:u,collapsedPaths:d,collapsedFieldSets:h,fieldGroupState:g,validation:a}),M=A.ready&&"connected"===_,I=f.useMemo((()=>eCe()),[]);return null!==D&&M?{id:"root",onChange:E,__internal_patchChannel:I,__internal_fieldActions:void 0,onPathFocus:b,onPathOpen:c,onPathBlur:x,onFieldGroupSelect:k,onSetFieldSetCollapsed:C,onSetPathCollapsed:w,collapsedPaths:d,collapsedFieldSets:h,focusPath:D.focusPath,changed:D.changed,focused:D.focused,groups:D.groups,validation:D.validation,members:D.members,presence:D.presence,schemaType:i,value:D.value}:{loading:!0}}const hwn={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,delay:.2}}},pwn=$(di.div)((e=>`\n    // Update spacing for the form builder\n    & > [data-ui='Stack'] {\n      grid-gap: ${ke(Ae(e.theme).space[4])};\n    }\n`)),mwn=({documentId:e,initialValue:t})=>{var n,r;const i=fwn({documentType:"tasks.task",documentId:e,initialValue:t}),{setSelectedDocument:o}=qw(),a=i.loading||null==(n=i.value)?void 0:n.target,s=null==(r=a?.document)?void 0:r._ref,l=a?.documentType;return f.useEffect((()=>{o(s&&l?{_id:s,_type:l}:null)}),[s,l,o]),u.jsx(N,{children:i.loading?u.jsx(wn,{showText:!0}):u.jsx(pwn,{id:"wrapper",initial:"hidden",animate:"visible",variants:hwn,children:u.jsx(iSe,{...i})})})};function gwn(){const e=Un(),{activeDocument:t}=Pm(),{dataset:n,projectId:r}=jr(),{state:{selectedTask:i,viewMode:o,duplicateTaskValues:a}}=ks(),s=f.useMemo((()=>{if(e&&i){if("duplicate"===o)return{...a,title:`${a?.title} (copy)`,createdByUser:void 0,_id:i,_type:"tasks.task",authorId:e.id,status:"open"};if("create"===o)return{_id:i,_type:"tasks.task",authorId:e.id,status:"open",subscribers:[e.id],target:t?p_e({documentId:t.documentId,documentType:t.documentType,dataset:n,projectId:r}):void 0}}}),[t,e,n,a,r,i,o]);return e?i?u.jsx(wbn,{children:u.jsx(dwn,{mode:"edit"===o?"edit":"create",children:u.jsx(mwn,{documentId:i,currentUser:e,initialValue:s})})}):null:u.jsx(wn,{showText:!0,title:"Loading current user"})}const vwn={open:{assigned:{heading:"empty-state.status.list.open.assigned.heading",text:"empty-state.status.list.open.assigned.text"},document:{heading:"empty-state.status.list.open.document.heading",text:""},subscribed:{heading:"empty-state.status.list.open.subscribed.heading",text:"empty-state.status.list.open.subscribed.text"}},closed:{assigned:{heading:"empty-state.status.list.closed.assigned.heading",text:"empty-state.status.list.closed.assigned.text"},document:{heading:"empty-state.status.list.closed.document.heading",text:""},subscribed:{heading:"empty-state.status.list.closed.subscribed.heading",text:"empty-state.status.list.closed.subscribed.text"}}};function ywn({status:e}){const{state:{activeTabId:t}}=ks(),{t:n}=Z(gr),{heading:r,text:i}=vwn[e][t];return u.jsxs(ne,{space:3,children:[u.jsx(L,{size:1,weight:"semibold",children:n(r)}),u.jsx(L,{size:1,children:n(i)})]})}const bwn={assigned:{heading:"empty-state.list.assigned.heading",text:"empty-state.list.assigned.text"},subscribed:{heading:"empty-state.list.subscribed.heading",text:"empty-state.list.subscribed.text"},document:{heading:"empty-state.list.document.heading",text:"empty-state.list.document.text"},noActiveDocument:{heading:"empty-state.list.no-active-document.heading",text:"empty-state.list.no-active-document.text"}},xwn=$.div`
  max-width: 268px;
  margin: 0 auto;
  height: 100%;
  margin-top: 40%;
`,ore=$(L)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  animation: fadeIn 0.2s ease-in-out;
`;function wwn(){const{activeDocument:e}=Pm(),{mode:t}=bl(),{state:{activeTabId:n},setViewMode:r}=ks(),i=e||"document"!==n?n:"noActiveDocument",{heading:o,text:a}=bwn[i],{t:s}=Z(gr),l=f.useCallback((()=>{r({type:"create"})}),[r]);return u.jsx(xwn,{children:u.jsxs(U,{direction:"column",gap:3,align:"center",flex:1,justify:"center",children:[u.jsx(ore,{size:1,weight:"semibold",children:s(o)},i),u.jsx(N,{paddingBottom:6,paddingTop:1,children:u.jsx(ore,{size:1,align:"center",children:s(a)},i)}),"upsell"!==t&&u.jsx(me,{icon:Qi,text:s("empty-state.list.create-new"),onClick:l})]})})}const Cwn=$(ml)((e=>`\n  text-decoration: underline;\n  text-decoration-color: ${Ae(e.theme).color.input.default.enabled.border};\n  text-underline-offset: 2px;\n`));function Swn({documentId:e,documentType:t}){const n=Jt().get(t),{isLoading:r,value:i}=FB({documentId:e,documentType:t}),o=f.useMemo((()=>f.forwardRef((function(n,r){return u.jsx(Cwn,{...n,intent:"edit",params:{id:e,type:t},ref:r})}))),[e,t]);return n?u.jsxs(U,{align:"center",gap:2,children:[u.jsx(L,{size:1,children:u.jsx(Nl,{})}),r?u.jsx(Jn,{size:1,muted:!0}):u.jsx(L,{size:1,as:o,weight:"medium",style:{maxWidth:"20ch"},textOverflow:"ellipsis",children:i?.title||"Untitled"})]}):null}function Ewn(e){const t=g_e(),{documentId:n,status:r}=e,[i,o]=f.useState("closed"===r),[a,s]=f.useState(!1),l=f.useCallback((async e=>{const r=e.target.checked;o(r),s(!0);try{r?await t.edit(n,{status:"closed"}):r||await t.edit(n,{status:"open"})}catch(e){console.error("An error occurred while updating the task status",e)}finally{s(!1)}}),[n,t]);return u.jsx(U,{children:a?u.jsx("div",{style:{height:"17px",width:"17px"},children:u.jsx(qf,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):u.jsx(Kf,{onChange:l,checked:i,disabled:a})})}const _wn=$(wt)`
  width: 100%;
  max-width: 100%;
`,kwn=$(U)`
  /* Checkbox width is 17px and first row gap is 12px. */
  margin-left: 29px;
`;function Twn(e){var t;if(null!=(t=e?.document)&&t._ref)return{_ref:e?.document._ref,_type:e?.documentType}}function Awn({dueBy:e}){const t=Js({dateStyle:"medium"}),n=Js({month:"short",day:"numeric"}),r=Js({weekday:"long"}),i=f.useMemo((()=>{const i=new Date(e);return{fullDate:t.format(i),monthAndDay:n.format(i),day:r.format(i),isDueByToday:Kbt(i),isDueThisWeek:qbt(i)}}),[r,e,t,n]),{fullDate:o,monthAndDay:a,day:s,isDueByToday:l,isDueThisWeek:c}=i;return u.jsx(pt,{content:o,children:u.jsx(ae,{tone:l?"critical":"transparent",padding:1,radius:2,children:u.jsx(U,{align:"center",gap:2,children:u.jsx(L,{as:"time",size:1,dateTime:e,muted:!0,children:l?"Today":c?s:a})})})})}function jwn(e){const{assignedTo:t,title:n,dueBy:r,target:i,onSelect:o,documentId:a,status:s}=e,l=f.useMemo((()=>Twn(i)),[i]);return u.jsxs(ne,{space:3,children:[u.jsxs(U,{align:"center",gap:1,children:[u.jsx(N,{children:u.jsx(Ewn,{documentId:a,status:s})}),u.jsx(U,{flex:1,children:u.jsx(_wn,{onClick:o,mode:"bleed",padding:2,children:u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n||"Untitled"})})}),u.jsx(dv,{user:t?{id:t}:void 0,withTooltip:!0})]}),(r||l)&&u.jsxs(kwn,{align:"center",gap:2,paddingX:0,children:[r&&u.jsx(Awn,{dueBy:r}),l&&u.jsx(N,{marginLeft:1,children:u.jsx(Swn,{documentId:l._ref,documentType:l._type})})]})]})}const Iwn=[],Dwn=e=>{const t=X0.find((t=>t.value===e));return t?.title},Own=$(U)`
  [data-ui='summary-icon'] {
    transition: transform 0.2s;
    transform: rotate(-90deg);
  }
  &[open] [data-ui='summary-icon'] {
    transform: rotate(0);
  }
  > summary::-webkit-details-marker {
    display: none;
  }
`,Rwn=$(N)`
  list-style: none;
`;function sre(e){const{status:t,tasks:n,onTaskSelect:r}=e;return u.jsxs(Own,{forwardedAs:"details",direction:"column",open:"open"===t,children:[u.jsx(Rwn,{forwardedAs:"summary",children:u.jsxs(U,{align:"center",gap:1,paddingY:1,children:[u.jsx(L,{size:1,weight:"medium",muted:!0,children:Dwn(t)}),u.jsx(L,{muted:!0,size:1,children:u.jsx(ci,{"data-ui":"summary-icon"})})]})}),u.jsx(ne,{space:4,marginTop:4,paddingBottom:5,children:n?.length>0?n.map(((e,t)=>{const i=t<n.length-1;return u.jsxs(f.Fragment,{children:[u.jsx(jwn,{documentId:e._id,title:e.title,dueBy:e.dueBy,assignedTo:e.assignedTo,target:e.target,onSelect:()=>r(e._id),status:e.status}),i&&u.jsx(rr,{})]},e._id)})):u.jsx(ywn,{status:t})})]})}function Mwn(e){var t,n;const{items:r=Iwn,onTaskSelect:i}=e,o=f.useMemo((()=>r.reduce(((e,t)=>(e[t.status]||(e[t.status]=[]),e[t.status].push(t),e)),{})),[r]),a=(null==(t=o.open)?void 0:t.length)>0,s=(null==(n=o.closed)?void 0:n.length)>0;return u.jsx(ne,{space:4,flex:1,children:a||s?u.jsxs(u.Fragment,{children:[u.jsx(sre,{status:"open",tasks:o.open,onTaskSelect:i}),u.jsx(sre,{status:"closed",tasks:o.closed,onTaskSelect:i})]}):u.jsx(wwn,{})})}function $wn(){const{upsellData:e,telemetryLogs:{panelPrimaryClicked:t,panelSecondaryClicked:n}}=h_e();return e?u.jsx(Xr,{width:1,children:u.jsx(N,{marginBottom:6,children:u.jsx($B,{data:e,onPrimaryClick:t,onSecondaryClick:n})})}):null}const Pwn="https://snty.link/tasks-feedback",Fwn=$.span`
  margin-right: 0.2em;
`,Lwn=$.a`
  white-space: nowrap;
  > [data-sanity-icon] {
    --card-icon-color: var(--card-link-color);
  }
`;function Nwn(e){return u.jsxs(Lwn,{href:Pwn,target:"_blank",rel:"noreferrer",children:[u.jsx(Fwn,{children:e.children})," ",u.jsx(Nu,{})]})}function Bwn(){const{t:e}=Z(gr);return u.jsx(N,{padding:4,children:u.jsx(L,{muted:!0,size:1,children:u.jsx(dt,{i18nKey:"list.feedback.text",t:e,components:{Link:Nwn}})})})}const Vwn={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function zwn({activeTabId:e,onChange:t}){const{t:n}=Z(gr),r=f.useMemo((()=>[{id:"assigned",label:n("tab.assigned.label")},{id:"subscribed",label:n("tab.subscribed.label")},{id:"document",label:n("tab.document.label")}]),[n]),i=f.useCallback((e=>{t(e.id)}),[t]);return u.jsx(b1,{space:2,style:Vwn,children:r.map((t=>u.jsx(kb,{"aria-controls":`${t.id}-panel`,id:`${t.id}-tab`,onClick:()=>i(t),selected:t.id===e,children:u.jsx(L,{size:1,weight:"medium",children:t.label})},`${t.id}-tab`)))})}const Uwn=$.div((e=>`\n    height: 25px;\n    width: 1px;\n    background-color: ${Ae(e.theme).color.input.default.enabled.border};\n  `));function Hwn(e){const{items:t}=e,{state:n,setViewMode:r}=ks(),{selectedTask:i}=n,o=t.filter((e=>"open"===e.status)),a=o.findIndex((e=>e._id===i)),s=f.useCallback((()=>{const e=a>0?o[a-1]._id:o[o.length-1]._id;r({type:"edit",id:e})}),[a,o,r]),l=f.useCallback((()=>{const e=a<o.length-1?o[a+1]._id:o[0]._id;r({type:"edit",id:e})}),[a,o,r]),{t:c}=Z(gr);return o.length?u.jsx(Sa,{children:u.jsxs(U,{gap:1,align:"center",children:[u.jsx(me,{tooltipProps:{content:c("buttons.previous.tooltip")},mode:"bleed",icon:yd,onClick:s}),u.jsx(pt,{content:c("panel.navigation.tooltip"),children:u.jsx(N,{paddingY:2,children:u.jsxs(L,{size:1,children:[a+1," / ",o.length]})})}),u.jsx(me,{tooltipProps:{content:c("buttons.next.tooltip")},mode:"bleed",icon:Aa,onClick:l}),u.jsx(Uwn,{})]})}):null}const Wwn={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0},Gwn=$(At)`
  width: 220px;
`;function Ywn(e){const{isSelected:t,item:n,onSelect:r}=e,i=f.useCallback((()=>{r(n._id)}),[n._id,r]),o=t?na:void 0,a=n.title||"Untitled";return u.jsx(qe,{iconRight:o,onClick:i,pressed:t,selected:t,text:a})}function qwn(){const{data:e}=Pm(),{state:t,setViewMode:n}=ks(),{viewMode:r,selectedTask:i}=t,o=Un(),a=f.useMemo((()=>null!=o&&o.id?e.filter((e=>{const t=e.authorId===o.id,n=!e.createdByUser,a=e._updatedAt!==e._createdAt,s="create"!==r||e._id!==i;return t&&n&&s&&a})):[]),[e,i,o?.id,r]),s=f.useCallback((e=>{n({type:"draft",id:e})}),[n]),{t:l}=Z(gr);return a.length?u.jsx(Gt,{button:u.jsx(me,{text:l("buttons.draft.text"),mode:"ghost",iconRight:ci}),id:"edit-task-menu",menu:u.jsxs(Gwn,{children:[u.jsx(N,{padding:3,children:u.jsx(L,{size:1,weight:"semibold",children:l("panel.drafts.title")})}),u.jsx(rr,{}),a?.map((e=>u.jsx(Ywn,{isSelected:i===e._id,item:e,onSelect:s},e._id)))]}),popover:Wwn}):null}function Kwn(e){const{items:t}=e,{mode:n}=bl(),{state:r,setViewMode:i,handleCloseTasks:o}=ks(),{viewMode:a,activeTabId:s}=r,l=f.useCallback((()=>{i({type:"create"})}),[i]),c=f.useCallback((()=>{i({type:"list"})}),[i]),{t:d}=Z(gr);return u.jsxs(U,{justify:"space-between",align:"center",gap:1,children:[u.jsx(U,{align:"center",flex:1,children:"list"===a?u.jsx(N,{padding:2,children:u.jsx(L,{size:2,weight:"semibold",children:d("panel.title")})}):u.jsxs(u.Fragment,{children:[u.jsx(wt,{mode:"bleed",space:2,padding:2,onClick:c,children:u.jsx(L,{size:1,children:d("panel.title")})}),u.jsx(Aa,{}),u.jsx(N,{paddingX:2,children:u.jsx(L,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:"create"===a||"draft"===a?d("panel.create.title"):s})})]})}),("create"===a||"draft"===a)&&u.jsx(qwn,{}),"edit"===a&&u.jsx(Hwn,{items:t}),u.jsxs(U,{gap:1,children:["list"===a&&u.jsx(me,{icon:Qi,onClick:l,mode:"bleed",text:d("buttons.new.text"),disabled:"upsell"===n,tooltipProps:"upsell"===n?{content:d("buttons.new.upsell-tooltip")}:void 0}),u.jsx(me,{tooltipProps:{content:d("panel.close.tooltip")},iconRight:Ar,mode:"bleed",onClick:o})]})]})}const Zwn=$(ae)`
  flex: 1;
  flex-direction: column;
`,Xwn=$(ne)`
  border-bottom: 1px solid var(--card-border-color);
`,Jwn=$(U)`
  overflow-y: scroll;
  overflow-x: hidden;
`;function Qwn(){const{mode:e}=bl(),{activeDocument:t,data:n,isLoading:r}=Pm(),{state:i,setActiveTab:o,setViewMode:a}=ks(),{activeTabId:s,viewMode:l,selectedTask:c}=i,d=Un(),p=f.useCallback((e=>a({type:"edit",id:e})),[a]),h=f.useMemo((()=>n.filter((e=>{var n,r;return!!e.createdByUser&&("assigned"===s?e.assignedTo===d?.id:"subscribed"===s?d?.id&&(null==(n=e.subscribers)?void 0:n.includes(d.id)):"document"===s&&(t?.documentId&&(null==(r=e.target)?void 0:r.document._ref)===t.documentId))}))),[t?.documentId,s,n,d]),m=f.useMemo((()=>"list"!==l?u.jsx(gwn,{},c):r?u.jsx(U,{align:"center",justify:"center",children:u.jsx(qf,{})}):u.jsxs(u.Fragment,{children:["upsell"===e&&u.jsx($wn,{}),u.jsx(Mwn,{items:h,onTaskSelect:p})]})),[h,r,p,c,l,e]);return u.jsxs(Zwn,{display:"flex",height:"fill",flex:1,overflow:"hidden",children:[u.jsxs(Xwn,{space:3,padding:3,sizing:"border",children:[u.jsx(Kwn,{items:h}),"list"===l&&!r&&u.jsx(zwn,{activeTabId:s,onChange:o})]}),u.jsx(Jwn,{direction:"column",flex:1,overflow:"auto",padding:3,paddingTop:4,paddingX:4,sizing:"border",children:m}),"list"===l&&u.jsx(Bwn,{})]})}function eCn(){const{enabled:e}=bl();return e?u.jsx(Qwn,{}):null}const tCn={hidden:{opacity:0},visible:{opacity:1}},nCn={duration:.2},S_e=1,E_e=2,rCn=$(U)((({theme:e})=>de`
    min-height: 100%;

    @media (max-width: ${e.sanity.media[2]}px) {
      position: relative;
    }
  `)),iCn=$(di(go))((({theme:e})=>{const t=e.sanity.media;return de`
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 360px;
    border-left: 1px solid var(--card-border-color);
    box-sizing: border-box;
    overflow: hidden;

    box-shadow:
      0px 6px 8px -4px var(--card-shadow-umbra-color),
      0px 12px 17px -1px var(--card-shadow-penumbra-color);

    @media (max-width: ${t[2]}px) {
      bottom: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    @media (max-width: ${t[S_e]}px) {
      border-left: 0;
      min-width: 100%;
      left: 0;
    }
  `}));function aCn(e){const t=om(),{state:{isOpen:n}}=ks(),r=t<=S_e&&n;return u.jsxs(rCn,{sizing:"border",height:"fill",children:[u.jsx(N,{flex:1,height:"fill",overflow:r?"hidden":"auto",children:e.renderDefault(e)}),u.jsx(xs,{initial:!1,children:n&&u.jsx(iCn,{animate:"visible",zOffset:100,height:"fill",initial:"hidden",transition:nCn,variants:tCn,children:u.jsx(eCn,{})})})]})}function oCn(e){const{enabled:t}=bl();return t?u.jsx(aCn,{...e}):e.renderDefault(e)}const sCn=e=>{const{enabled:t,mode:n}=bl();return t?u.jsx(k_e,{children:u.jsx(w1,{condition:"upsell"===n,wrapper:e=>u.jsx(Ubn,{children:e}),children:u.jsx(Vbn,{children:u.jsx(jbn,{children:e.renderDefault(e)})})})}):e.renderDefault(e)};function lCn(e){return u.jsx(ybn,{children:u.jsx(sCn,{...e})})}const uCn=[];function cCn(e){const{handleOpenTasks:t,handleCloseTasks:n,state:{isOpen:r}}=ks(),{t:i}=Z(gr),o=f.useCallback((()=>{r?n():t()}),[r,t,n]),a=f.useMemo((()=>[...e?.__internal_actions||uCn,{icon:LF,location:"topbar",name:"tasks-topbar",onAction:o,selected:r,title:i("actions.open.text")},{icon:Tx,location:"sidebar",name:"tasks-sidebar",onAction:o,selected:r,title:i("actions.open.text")}]),[o,r,e?.__internal_actions,i]);return e.renderDefault({...e,__internal_actions:a})}function dCn(e){const{enabled:t}=bl();return t?u.jsx(cCn,{...e}):e.renderDefault(e)}const fCn="sanity/tasks",hCn=K1({name:"sanity/tasks",__internal_tasks:{footerAction:u.jsx(Kbn,{})},document:{actions:e=>[...e,Hbn].filter(Boolean)},studio:{components:{layout:lCn,navbar:dCn,activeToolLayout:oCn}},form:{components:{input:e=>{var t;return"root"===e.id&&"document"===(null==(t=e.schemaType.type)?void 0:t.name)?u.jsx(Ybn,{...e}):e.renderDefault(e)}}},i18n:{bundles:[vbn]}}),pCn=[V0n(),hCn(),gbn()];function mCn(e,t){return pCn.filter((n=>n.name===d_e?e.scheduledPublishing.enabled&&!(null==t||!t.length):n.name!==fCn||e.tasks.enabled))}function gCn(e){return{tasks:{enabled:!0,...e.unstable_tasks,...e.tasks},scheduledPublishing:{...W0n,...e.scheduledPublishing}}}function vCn({config:e,context:t}){return io({propertyName:"schema.types",config:e,context:t,initialValue:[],reducer:_hn})}class cj extends Error{constructor(e){super("SchemaError"),this.schema=e,this.name="SchemaError"}}const yCn=e=>"error"===e.severity;function bCn(e,t,n=""){return ta.isValidElementType(e)?f.createElement(e):f.isValidElement(e)?e:mmn(t,n)}const mO=new WeakMap;function __e(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Hs({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=SCn(t?.basePath),r=Array.isArray(e)?e:[e];try{RHt({workspaces:r})}catch(e){throw new Hs({name:"",type:"workspace",causes:[e.message]})}return{type:"prepared-config",workspaces:r.map((e=>{if(mO.has(e))return mO.get(e);const t=gCn(e),{unstable_sources:r=[],...i}=e,o=[i,...r].map((({plugins:e,...n})=>({...n,plugins:[...e??[],...mCn(t,e)]}))).map((e=>{const{projectId:t,dataset:n}=e;let r;try{r=vCn({config:e,context:{projectId:t,dataset:n}})}catch(t){throw new Hs({name:e.name,type:"source",causes:[t]})}const i=Ttn({name:e.name,types:r}),o=i._validation,a=o?.filter((e=>e.problems.some(yCn)));if(o&&null!=a&&a.length)throw new cj(i);const s=xCn(e),l=Yhn(e),u=s.state.pipe(fe((({client:t,authenticated:n,currentUser:r})=>CCn({config:e,client:t,currentUser:r,schema:i,authenticated:n,auth:s,i18n:l}))),Bi(1));return{name:e.name,projectId:e.projectId,dataset:e.dataset,title:e.title||Tn(e.name),auth:s,schema:i,i18n:l.source,source:u}})),a=i.title||Tn(i.name),s={type:"workspace-summary",auth:o[0].auth,basePath:ECn(n,i.basePath),dataset:i.dataset,schema:o[0].schema,i18n:o[0].i18n,customIcon:!!i.icon,icon:bCn(i.icon,a,`${i.projectId} ${i.dataset}`),name:i.name||"default",projectId:i.projectId,theme:i.theme||kp,title:a,subtitle:i.subtitle,__internal:{sources:o},__internal_serverDocumentActions:e.__internal_serverDocumentActions,...t};return mO.set(e,s),s}))}}function xCn(e){if(WWt(e.auth))return e.auth;const t=e.unstable_clientFactory||Jhe,{projectId:n,dataset:r,apiHost:i}=e;return KWt({apiHost:i,...e.auth,clientFactory:t,dataset:r,projectId:n})}function wCn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:i,requestTagPrefix:o="sanity.studio"}=n.config();return cNt(`${`${i.replace(/\/+$/,"")}/socket/${r}`.replace(/^http/,"ws")}?tag=${o}`,t.token?{token$:t.token}:{})}function CCn({config:e,client:t,currentUser:n,schema:r,authenticated:i,auth:o,i18n:a}){var s,l,u,c,d,f,p;const{dataset:h,projectId:m}=e,g=wCn(t,o),y=[],v={},b=e=>{if(!e||!e.apiVersion)throw new Error("Missing required `apiVersion` option");return v[e.apiVersion]||(v[e.apiVersion]=t.withConfig(e)),v[e.apiVersion]},x={client:t,getClient:b,currentUser:n,dataset:h,projectId:m,schema:r,i18n:a.source},w=t;let C,k;x.client=[...Object.keys(t),...Object.keys(w.__proto__)].reduce(((e,n)=>{const r=Object.hasOwnProperty.call(t,n)?w[n]:w.__proto__[n];return Object.defineProperty(e,n,{get:()=>(console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),r)})}),{});try{C=io({config:e,context:x,propertyName:"schema.templates",reducer:Ahn,initialValue:r.getTypeNames().filter((e=>!/^sanity\./.test(e))).map((e=>r.get(e))).filter(wi).filter((e=>{var t;return"document"===(null==(t=e.type)?void 0:t.name)})).map((e=>({id:e.name,schemaType:e.name,title:e.title||e.name,icon:e.icon,value:e.initialValue||{_type:e.name}})))})}catch(t){throw new Hs({name:e.name,type:"source",causes:[t]})}try{k=io({config:e,context:x,initialValue:[],propertyName:"tools",reducer:Thn})}catch(t){throw new Hs({name:e.name,type:"source",causes:[t]})}if(k.some((({name:e})=>"tool"===e)))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const j=C.filter((e=>{var t;return!(null!=(t=e.parameters)&&t.length)})).map((e=>({templateId:e.id,description:e.description,icon:e.icon,title:e.title}))),S=C.reduce(((e,t)=>(e.set(t.id,t),e)),new Map),E=t=>{const{schemaType:n}=t,i=io({config:e,context:{...x,creationContext:t},initialValue:j,propertyName:"document.resolveNewDocumentOptions",reducer:Rhn}),o=[];if(o.length)throw new Hs({name:e.name,type:"source",causes:o});return i.map(((e,t)=>{const n=S.get(e.templateId);if(!n)throw new Error(`Could not find template with ID \`${e.templateId}\``);const i=r.get(n.schemaType);if(!i)throw new Error(`Could not find matching schema type \`${n.schemaType}\` for template \`${n.id}\``);const o=e.title||n.title,a=i?.title===o||null==i?void 0:i.title;return{id:`${e.templateId}-${t}`,templateId:e.templateId,type:"initialValueTemplateItem",title:o,i18n:e.i18n||n.i18n,subtitle:e.subtitle||a,description:e.description||n.description,icon:e.icon||n.icon||i?.icon,initialDocumentId:e.initialDocumentId,parameters:e.parameters,schemaType:n.schemaType}})).filter((e=>{var r;return!n||"document"===t.type||n===(null==(r=S.get(e.templateId))?void 0:r.schemaType)}))};let _;try{_=E({type:"global"})}catch(e){y.push(e)}if(y.length)throw new Hs({name:e.name,type:"source",causes:y});return{type:"source",name:e.name,title:e.title||Tn(e.name),schema:r,getClient:b,dataset:h,projectId:m,tools:k,currentUser:n,authenticated:i,templates:C,auth:o,i18n:a.source,__internal_tasks:Nhn({config:e}),document:{actions:t=>io({config:e,context:{...x,...t},initialValue:Shn,propertyName:"document.actions",reducer:Ohn}),badges:t=>io({config:e,context:{...x,...t},initialValue:Chn,propertyName:"document.badges",reducer:Dhn}),unstable_fieldActions:t=>io({config:e,context:{...x,...t},initialValue:WHt,propertyName:"document.unstable_fieldActions",reducer:HHt}),inspectors:t=>io({config:e,context:{...x,...t},initialValue:an,propertyName:"document.inspectors",reducer:Fhn}),resolveProductionUrl:t=>io({config:e,context:{...x,...t},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:khn}),resolveNewDocumentOptions:E,unstable_languageFilter:t=>io({config:e,context:{...x,...t},initialValue:Ehn,propertyName:"document.unstable_languageFilter",reducer:Phn}),unstable_comments:{enabled:t=>nne({context:t,config:e,initialValue:!0})},comments:{enabled:t=>nne({context:t,config:e,initialValue:!0})}},form:{file:{assetSources:io({config:e,context:x,initialValue:[tEe],propertyName:"formBuilder.file.assetSources",reducer:Mhn}),directUploads:void 0===(null==(l=null==(s=e.form)?void 0:s.file)?void 0:l.directUploads)||e.form.file.directUploads},image:{assetSources:io({config:e,context:x,initialValue:[nEe],propertyName:"formBuilder.image.assetSources",reducer:$hn}),directUploads:void 0===(null==(c=null==(u=e.form)?void 0:u.image)?void 0:c.directUploads)||e.form.image.directUploads}},search:{filters:Qhn,operators:hmn,unstable_partialIndexing:{enabled:Bhn({config:e,initialValue:null!=(p=null==(f=null==(d=e.search)?void 0:d.unstable_partialIndexing)?void 0:f.enabled)&&p})},enableLegacySearch:io({config:e,context:x,reducer:Vhn,propertyName:"enableLegacySearch",initialValue:!0})},__internal:{bifur:g,i18next:a.i18next,staticInitialValueTemplateItems:_,options:e},features:{beta:{treeArrayEditing:{enabled:Lhn({config:e,initialValue:!1})}}}}}function SCn(e){const t=e||"";if("string"!=typeof t||t.length>0&&!t.startsWith("/"))throw new Hs({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return"/"===t?"":t}function ECn(e,t){return`/${[e,t||""].map((e=>e.replace(/^\/+/g,"").replace(/\/+$/g,""))).filter(Boolean).join("/")}`}function _Cn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}=e;return f.useMemo((()=>({projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a})),[t,n,r,i,o,a])}function kCn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}=e;return{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}}function TCn({config:e,children:t,basePath:n}){const{workspaces:r}=f.useMemo((()=>__e(e,{basePath:n})),[e,n]);return u.jsx(Sae.Provider,{value:r,children:t})}function ACn({children:e,history:t}){return u.jsx(wae.Provider,{value:t,children:e})}function jCn(){const e=f.useContext(wae);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const ICn=f.memo((function({children:e,history:t,activeWorkspace:n,setActiveWorkspace:r}){const i=f.useMemo((()=>({activeWorkspace:n,setActiveWorkspace:r})),[n,r]);return u.jsx(mae.Provider,{value:i,children:u.jsx(ACn,{history:t,children:e})})}));function DCn(e){const t=e.map((e=>e.basePath.slice(1).split("/"))).reduce(((e,t)=>{for(let n=0;n<e.length;n++){if(e[n]!==t[n].toLowerCase())return e.slice(0,n)}return e}));return new RegExp(`^${function e([t,...n]){return t?`(\\/${O7(t)}${e(n)}(\\/|$))?`:""}(t)}$`,"i")}function OCn({pathname:e,workspaces:t,basePathRegex:n}){const[r]=t;for(const{workspace:n,basePath:r,basePathRegex:i}of t)if(i.test(e)||"/"===r)return{type:"match",workspace:n};return"/"===e||n.test(e)?{type:"redirect",pathname:r.basePath}:{type:"not-found"}}function RCn(e){return f.useMemo((()=>MCn(e)),[e])}function MCn(e){return e.map((e=>{const t=e.basePath||"/";return{workspace:e,name:e.name,basePath:t,basePathRegex:new RegExp(`^${O7(t)}(\\/|$)`,"i")}}))}function $Cn(e,t){const n=RCn(t),r=f.useMemo((()=>DCn(n)),[n]),[i]=f.useState((()=>e.location.pathname)),o=f.useMemo((()=>({subscribe:t=>e.listen(t),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>i,selector:e=>OCn({basePathRegex:r,pathname:e,workspaces:n}),isEqual:(e,t)=>{if(e.type!==t.type)return!1;switch(e.type){case"match":return e.workspace===t.workspace;case"redirect":return e.pathname===t.pathname;case"not-found":return!0;default:throw new Error(`Unknown type: ${e.type}`)}}})),[r,e,i,n]);return D7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,o.isEqual)}const PCn=()=>typeof document>"u"?U6t():z6t();function FCn({children:e,LoadingComponent:t,NotFoundComponent:n,unstable_history:r}){const i=Iw(),o=f.useMemo((()=>r||PCn()),[r]),a=f.useCallback((e=>{const t=i.find((t=>t.name===e));t&&o.push(t.basePath)}),[o,i]),s=f.useCallback((()=>{a(i[0].name)}),[a,i]),l=$Cn(o,i);switch(f.useEffect((()=>{"redirect"===l.type&&o.replace(l.pathname)}),[o,l]),l.type){case"match":return u.jsx(ICn,{activeWorkspace:l.workspace,history:o,setActiveWorkspace:a,children:e});case"redirect":return u.jsx(t,{});case"not-found":return u.jsx(n,{onNavigateToDefaultWorkspace:s});default:throw new Error(`Unknown type: ${l.type}`)}}function Fm(){const e=f.useContext(mae);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}const gO="v2023-11-13";function k_e(e){const{children:t}=e,{dataset:n,projectId:r}=jr(),i=Zt(zt),[o,a]=f.useState(null),[s,l]=f.useState(!1),[c,d]=f.useState(!1),p=f.useCallback((async()=>{var e;const t=await i.withConfig({apiVersion:gO}).request({uri:`/projects/${r}/datasets?datasetProfile=comments&addonFor=${n}`,tag:"sanity.studio"});return null==(e=t?.[0])?void 0:e.name}),[n,i,r]),h=f.useCallback((e=>i.withConfig({apiVersion:gO,dataset:e,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0})),[i,r]),m=f.useCallback((async()=>{l(!0);try{const e=await p();if(e){const t=h(e);return a(t),l(!1),t}}catch{}try{const e=await i.withConfig({apiVersion:gO}).request({uri:`/comments/${n}/setup`,method:"POST"}),t=e?.datasetName;if(!t)return l(!1),null;const r=h(t);return a(r),r}catch(e){throw e}finally{l(!1)}}),[n,p,h,i]);f.useEffect((()=>{p().then((e=>{if(!e)return;const t=h(e);a(t)})).finally((()=>{d(!0)}))}),[p,h]);const g=f.useMemo((()=>({client:o,createAddonDataset:m,isCreatingDataset:s,ready:c})),[o,m,s,c]);return u.jsx(gae.Provider,{value:g,children:t})}function dj(){const e=f.useContext(gae);if(!e)throw new Error("useAddonDataset: missing context value");return e}function T_e(){return oNe()?"dark":"light"}function A_e({children:e,scheme:t}){const n=T_e();return u.jsx(Eb,{scheme:"system"===t?n:t,theme:kp,children:e})}const lre="sanityStudio:ui:colorScheme";function LCn({children:e,onSchemeChange:t,scheme:n}){return n?u.jsx(BCn,{scheme:n,onSchemeChange:t,children:e}):u.jsx(NCn,{onSchemeChange:t,children:e})}function NCn({children:e,onSchemeChange:t}){const n=f.useMemo((()=>{let e;const t=new Set;return{subscribe:n=>(e||(e=ure(localStorage.getItem(lre))||"system"),t.add(n),()=>{t.delete(n)}),getSnapshot:()=>e,setSnapshot:n=>{e=ure(n);for(const e of t)e()},getServerSnapshot:()=>"system"}}),[]),r=f.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return f.useEffect((()=>{"function"==typeof t&&t(r),localStorage.setItem(lre,r)}),[t,r]),u.jsx(I5.Provider,{value:n.setSnapshot,children:u.jsx(D5.Provider,{value:r,children:u.jsx(A_e,{scheme:r,children:e})})})}function ure(e){switch(e){case"dark":case"light":return e;default:return"system"}}function BCn({children:e,onSchemeChange:t,scheme:n}){return u.jsx(I5.Provider,{value:"function"==typeof t&&t,children:u.jsx(D5.Provider,{value:n,children:u.jsx(A_e,{scheme:n,children:e})})})}function j_e(){const e=f.useContext(I5);if(null===e)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function I_e(){const e=f.useContext(D5);if(null===e)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function Md(){const e=I_e(),t=T_e();return"system"===e?t:e}function D_e(e,t){const n=I_e();return f.useMemo((()=>[{title:t("user-menu.color-scheme.system-title"),name:"system",label:t("user-menu.color-scheme.system-description"),selected:"system"===n,onSelect:()=>e("system"),icon:CF},{title:t("user-menu.color-scheme.dark-title"),name:"dark",label:t("user-menu.color-scheme.dark-description"),selected:"dark"===n,onSelect:()=>e("dark"),icon:MF},{title:t("user-menu.color-scheme.light-title"),name:"light",label:t("user-menu.color-scheme.light-description"),selected:"light"===n,onSelect:()=>e("light"),icon:HF}]),[n,e,t])}function O_e(e){return e.reduce(((e,t)=>(e[t.type]=t,e)),{})}function zf(e,t){return t?e[t]:void 0}function VCn(e,t){var n;return null==(n=zf(e,t))?void 0:n.initialValue}function C4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:(null==(n=e?.operators.find((e=>"item"===e.type)))?void 0:n.name)||""}}function Sh({fieldDefinitions:e,filterDefinitions:t,filters:n,operatorDefinitions:r}){return n.filter((n=>Kw({filter:n,filterDefinitions:t,fieldDefinitions:e,operatorDefinitions:r}))).map((n=>{var i;return null==(i=zf(r,n.operatorType))?void 0:i.groqFilter({fieldPath:zCn({filter:n,fieldDefinitions:e,filterDefinitions:t}),value:n?.value})})).filter((e=>!WIt(e))).filter(wi).join(" && ")}function cd(e,t){return null!=t&&t.fieldId?e[t.fieldId]:void 0}function lo(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Eh({fieldDefinitions:e,filters:t,types:n}){const r=n.map((e=>e.name)),i=Object.values(e).filter((e=>t.map((e=>e?.fieldId)).includes(e.id))).filter((e=>e.documentTypes.length>0)).map((e=>e.documentTypes)),o=R_(...i),a=[];return r.length>0&&a.push(r),o.length>0&&a.push(o),R_(...a).sort()}function zCn({filter:e,fieldDefinitions:t,filterDefinitions:n}){const r=cd(t,e),i=lh(n,e.filterName);if(i)switch(i.type){case"field":return r?.fieldPath;case"pinned":return i?.fieldPath;default:return}}function Kw({filter:e,filterDefinitions:t,fieldDefinitions:n,operatorDefinitions:r}){const i=lh(t,e.filterName),o=zf(r,e.operatorType),a=cd(n,e);return!(!i||!o||e.fieldId&&!a||"field"===i.type&&(null==a||!a.fieldPath||!e.fieldId||!o.groqFilter({fieldPath:a.fieldPath,value:e.value}))||"pinned"===i.type&&!o.groqFilter({fieldPath:i.fieldPath,value:e.value}))}const UCn=aa("escape"),HCn=500,WCn=$.div`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`;function zB({anchorElement:e,children:t,onClose:n}){const{isTopLayer:r}=Ho();mo(f.useCallback((e=>{UCn(e)&&r&&n()}),[r,n]));const i=GCn(e||null);return u.jsxs(u.Fragment,{children:[u.jsx(WCn,{onClick:n}),u.jsx(fl,{autoFocus:!1,returnFocus:!0,children:u.jsx(ae,{display:"flex",overflow:"hidden",radius:lv,style:{maxHeight:`min(calc(100vh - ${i}px - ${zw}px - ${a4}px), ${HCn}px`,zIndex:1},children:u.jsx(U,{children:t})})})]})}function vO(e){const t=e.getBoundingClientRect();return t.y+t.height+zw}function GCn(e){const[t,n]=f.useState(e&&vO(e)),r=f.useCallback((()=>{e&&n(vO(e))}),[e]);return f.useEffect((()=>{e&&n(vO(e))}),[e]),f.useEffect((()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r))),[r]),t}const YCn=$(N)`
  border-bottom: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,qCn=$(U)`
  box-sizing: border-box;
`,R_e=f.forwardRef((function({ariaInputLabel:e,onChange:t,onClear:n,typeFilter:r},i){const{state:{fullscreen:o}}=Kt(),{t:a}=Z();return u.jsx(YCn,{children:u.jsx(qCn,{align:"center",flex:1,padding:1,children:u.jsx(SB,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":e,autoComplete:"off",border:!1,clearButton:!!r,fontSize:o?2:1,icon:ea,muted:!0,onChange:t,onClear:n,placeholder:a("search.filter-placeholder"),ref:i,spellCheck:!1,radius:2,value:r})})})}));function KCn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,schema:r,titleFilter:i,types:o,t:a}){const s=Object.values(t).filter((e=>QCn(e,i))).map((e=>{const t=lh(n,e.filterName);return t?C4(t,e.id):null})).filter(wi),l=XCn({fieldDefinitions:t,filterDefinitions:n,titleFilter:i});return 0===e.length?[...l,...gx({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:a("search.filter-all-fields-header"),id:"field"})]:[...l,...ZCn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:s,schema:r,types:o,t:a})]}function gx({fieldDefinitions:e,filterDefinitions:t,filters:n,id:r,headerTitle:i,tone:o}){const a={title:i||"",tone:o||"default",type:"header"},s=n.map((n=>({fieldDefinition:cd(e,n),filterDefinition:lh(t,n.filterName),filter:n,group:r,tone:o||"default",type:"filter"})));return s.length>0?[...i?[a]:[],...s]:[]}function ZCn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:r,schema:i,types:o,t:a}){const s=r.filter((n=>{const r=cd(t,n);return n2n(e,r)}));return[...e.length>1&&o.length>1?gx({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:a("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],...e.map((e=>{const t=i.get(e);return{title:t?.title||Tn(t?.name)||"(Unknown type)",documentType:e}})).sort(((e,t)=>e.title.localeCompare(t.title))).map((({documentType:e,title:i})=>{const o=r.filter((n=>{const r=cd(t,n);return JCn([e],r)}));return gx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:i,headerTitle:i})})).flat()]}function XCn({fieldDefinitions:e,filterDefinitions:t,titleFilter:n}){const r=Object.values(t).filter(t2n).filter((e=>cre(e,n))).map((e=>C4(e))),i=Object.values(t).filter(e2n).filter((e=>cre(e,n))).reduce(((e,t)=>(e[t.group]=e[t.group]||[],e[t.group].push(C4(t)),e)),{});return[...gx({fieldDefinitions:e,filterDefinitions:t,filters:r,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap((([n,r])=>gx({fieldDefinitions:e,filterDefinitions:t,filters:r,headerTitle:n,id:n,tone:"primary"})))]}function JCn(e,t){return t?.documentTypes.some((t=>e.includes(t)))}function QCn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function cre(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function e2n(e){return"pinned"===e.type&&typeof e?.group<"u"}function t2n(e){return"pinned"===e.type&&typeof e?.group>"u"}function n2n(e,t){return 0===Rp(e,t?.documentTypes||[]).length}function M_e({filter:e,maxLength:t}){const{state:{definitions:n}}=Kt(),r=f.useMemo((()=>{const t=lh(n.filters,e.filterName);switch(t?.type){case"field":{const t=cd(n.fields,e);return null!=t&&t.titlePath?t.titlePath[t.titlePath.length-1]:null}case"pinned":return t.title;default:return null}}),[n,e]);return r?t&&r.length>t?u.jsxs("span",{children:[r.slice(0,t),""]}):u.jsx("span",{children:r}):null}function r2n({filter:e}){var t;const{state:{definitions:n}}=Kt(),r=null==(t=lh(n.filters,e.filterName))?void 0:t.icon;return r?f.createElement(r):u.jsx(Gs,{})}function $_e({filter:e}){var t;const{state:{definitions:n}}=Kt(),r=cd(n.fields,e);return u.jsxs(ne,{space:2,children:[r?.titlePath&&(null==(t=r.titlePath)?void 0:t.length)>1&&u.jsx(N,{marginLeft:4,children:u.jsx(L,{muted:!0,size:0,children:r.titlePath.slice(0,-1).map(((e,t)=>u.jsxs(f.Fragment,{children:[u.jsx("span",{children:e}),t!==r.titlePath.length-2&&u.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:u.jsx(Aa,{})})]},t)))})}),u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(N,{style:{flexShrink:0},children:u.jsx(L,{size:1,children:u.jsx(r2n,{filter:e})})}),u.jsx(L,{size:1,weight:"medium",children:u.jsx(M_e,{filter:e})})]})]})}function P_e(e){return f.isValidElement(e)?i2n(_Pt(e)):"string"==typeof e?e:""}function i2n(e){var t;return(null==(t=(new DOMParser).parseFromString(e,"text/html"))?void 0:t.body.textContent)||""}const yO=10;function a2n({children:e,fieldDefinition:t,filterDefinition:n,visible:r}){const{state:{documentTypesNarrowed:i}}=Kt(),{t:o}=Z(),a=Jt(),s=f.useMemo((()=>null!=t&&t.documentTypes?t.documentTypes.map((e=>{const t=a.get(e);return t?.title||Tn(t?.name)})).filter(wi).sort():[]),[t?.documentTypes,a]),l=f.useMemo((()=>{if(null!=t&&t.documentTypes){const e=t.documentTypes.map((e=>{const n=a.get(e);if(n){const e=XA(n,t.fieldPath);return e?.type.description&&P_e(e?.type.description)}return null})).filter(wi).sort(),n=Fi(e);if(1===n.length)return n[0]}}),[t?.documentTypes,t?.fieldPath,a]);return u.jsx(pt,{content:u.jsx(ae,{tone:"default",radius:2,style:{maxWidth:"250px"},children:u.jsxs(ne,{space:4,children:[t&&u.jsxs(ne,{space:3,children:[u.jsx(L,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-name")}),u.jsx(Nr,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:t?.name})]}),l&&u.jsxs(ne,{space:3,children:[u.jsx(L,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-description")}),u.jsx(L,{muted:!0,size:1,children:iQ(l,256)})]}),n?.description&&u.jsx(L,{muted:!0,size:1,children:iQ(n.description,256)}),!i.length&&s.length>0&&u.jsxs(ne,{space:2,children:[u.jsxs(U,{align:"center",gap:1,children:[u.jsx(L,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-used-in-document-types")}),u.jsx(ae,{padding:1,radius:2,tone:"transparent",children:u.jsx(L,{size:1,muted:!0,children:s.length})})]}),u.jsxs(L,{size:1,weight:"regular",muted:!0,children:[s.slice(0,10).join(", "),s?.length>10?` +${s.length-10} more`:""]})]})]})}),disabled:!r,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}const o2n=f.memo((function({item:e,onClose:t,...n}){const{dispatch:r,state:{filters:i}}=Kt(),o=f.useCallback((()=>{r({filter:e.filter,type:"TERMS_FILTERS_ADD"}),t?.()}),[r,e.filter,t]),a=!!i.find((t=>lo(t)===lo(e.filter))),s=!(!e.fieldDefinition&&!e.filterDefinition.description);return u.jsx(N,{...n,children:u.jsx(wt,{disabled:a,fontSize:1,justify:"flex-start",mode:"bleed",onClick:a?void 0:o,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:e?.tone,children:u.jsx(a2n,{fieldDefinition:e.fieldDefinition,filterDefinition:e.filterDefinition,visible:s,children:u.jsx(N,{padding:3,children:u.jsx($_e,{filter:e.filter})})})})})})),s2n=f.memo((function({item:e}){return u.jsx(N,{paddingTop:1,children:u.jsx(ae,{borderBottom:!0,paddingX:2,paddingY:3,tone:e?.tone,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:e.title})})})})),l2n={width:"300px"};function u2n({onClose:e}){const[t,n]=f.useState(null),[r,i]=f.useState(""),{t:o}=Z(),a=f.useCallback((e=>i(e.currentTarget.value)),[i]),s=f.useCallback((()=>i("")),[]),l=Jt(),{state:{documentTypesNarrowed:c,definitions:d,filters:p,terms:{types:h}}}=Kt(),m=f.useMemo((()=>KCn({documentTypesNarrowed:c,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:r,types:h,t:o})),[c,d.fields,d.filters,l,r,h,o]),g=f.useCallback((t=>"filter"===t.type?u.jsx(o2n,{item:t,onClose:e,paddingBottom:1}):"header"===t.type?u.jsx(s2n,{item:t}):null),[e]),y=f.useCallback((e=>{const t=m[e];return"filter"!==t.type||!!p.find((e=>lo(e)===lo(t.filter)))}),[m,p]),v=f.useCallback((e=>{const t=m[e];switch(t.type){case"filter":return[...t.group?[t.group]:[],lo(t.filter)].join("-");case"header":return`${t.type}-${t.title}`;default:return e}}),[m]);return u.jsxs(U,{direction:"column",style:l2n,children:[u.jsx(R_e,{ariaInputLabel:o("search.filter-by-title-aria-label"),onChange:a,onClear:s,ref:n,typeFilter:r}),u.jsxs(U,{children:[m.length>0&&u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:o("search.filters-aria-label",{count:m.length}),autoFocus:"input",getItemDisabled:y,getItemKey:v,inputElement:t,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:g}),0==m.length&&u.jsx(N,{padding:3,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:o("search.filter-no-matches-found",{filter:r})})})]})]})}function dre(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),[i,o]=f.useState(null),{t:a}=Z(),{state:{fullscreen:s}}=Kt(),l=f.useCallback((()=>t(!1)),[]),c=f.useCallback((()=>t(!0)),[]);return Fn(l,[n,i]),u.jsx(An,{__unstable_margins:[zw,0,0,0],content:u.jsx(zB,{anchorElement:n,onClose:l,children:u.jsx(u2n,{onClose:l})}),open:e,placement:"bottom-start",radius:lv,ref:o,portal:!0,children:u.jsx(me,{icon:Qi,mode:"bleed",onClick:c,size:s?"large":"default",ref:r,selected:e,text:a("search.action.add-filter")})})}const c2n=f.memo((function({selected:e,type:t,...n}){var r,i;const{dispatch:o}=Kt(),a=f.useCallback((()=>{o({type:"TERMS_TYPE_ADD",schemaType:t})}),[o,t]),s=f.useCallback((()=>{o({type:"TERMS_TYPE_REMOVE",schemaType:t})}),[o,t]),l=f.useCallback((()=>{e?s():a()}),[a,s,e]);return u.jsx(N,{...n,children:u.jsx(me,{iconRight:e&&na,justify:"flex-start",mode:"bleed",onClick:l,width:"fill",size:"large",tabIndex:-1,text:null!=(i=t.title)?i:t.name,tone:e?"primary":"default"},null!=(r=t.title)?r:t.name)})})),d2n=$(N)`
  border-top: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,f2n={width:"250px"};function h2n(){const[e,t]=f.useState(null),[n,r]=f.useState(""),i=f.useRef(null),{t:o}=Z(),a=Jt(),{dispatch:s,state:{terms:{types:l}}}=Kt(),[c,d]=f.useState(l),p=m2n(a,l,c,n),h=f.useCallback((e=>r(e.currentTarget.value)),[r]),m=f.useCallback((()=>r("")),[]),g=f.useCallback((()=>{var e,t;d([]),s({type:"TERMS_TYPES_CLEAR"}),null==(e=i?.current)||e.focusInputElement(),null==(t=i?.current)||t.scrollToIndex(0)}),[s]),y=f.useCallback((e=>{const t=p[e];switch(t.type){case"divider":return`${t.type}-${e}`;case"header":return`${t.type}-${t.title}`;case"item":return`${t.type}-${t.item.name}`;default:return e}}),[p]),v=f.useCallback((e=>"divider"===e.type?u.jsx(N,{paddingY:1,children:u.jsx(rr,{})}):"header"===e.type?u.jsx(N,{margin:2,padding:1,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:e.title})}):"item"===e.type?u.jsx(c2n,{paddingBottom:1,selected:e.selected,type:e.item}):null),[]),b=f.useCallback((e=>"item"!==p[e].type),[p]),x=f.useCallback((e=>{const t=p[e];return"item"===t.type&&t.selected}),[p]);return u.jsxs(U,{direction:"column",style:f2n,children:[u.jsx(R_e,{ariaInputLabel:o("search.action.filter-by-document-type-aria-label"),onChange:h,onClear:m,ref:t,typeFilter:n}),u.jsxs(U,{children:[p.length>0&&u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:o("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:y,inputElement:e,itemHeight:37,items:p,overscan:20,padding:1,paddingBottom:0,ref:i,renderItem:v}),!p.length&&u.jsx(N,{padding:3,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:o("search.document-types-no-matches-found",{filter:n})})})]}),!n&&l.length>0&&u.jsx(p2n,{onClick:g,selectedTypes:l})]})}function p2n({onClick:e,selectedTypes:t}){const{t:n}=Z();return u.jsx(d2n,{padding:1,children:u.jsx(ne,{children:u.jsx(me,{"aria-label":n("search.action.clear-type-filters-aria-label"),"data-name":"type-filter-button",disabled:0===t.length,mode:"bleed",onClick:e,text:n("search.action.clear-type-filters-label"),tone:"primary"})})})}function m2n(e,t,n,r){return f.useMemo((()=>{const[i,o]=FN(upn(e,r),(e=>n.includes(e))),a=i.length>0,s=i.length>0,l=[];return a&&l.push({title:"Selected",type:"header"}),i.forEach((e=>l.push({item:e,selected:t.includes(e),type:"item"}))),a&&s&&l.push({type:"divider"}),o.forEach((e=>l.push({item:e,selected:t.includes(e),type:"item"}))),l}),[e,t,n,r])}const g2n=["top-start","bottom-start"];function v2n(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),[i,o]=f.useState(null),{state:{fullscreen:a,terms:{types:s}}}=Kt(),{t:l}=Z(),c=f.useCallback((()=>t(!1)),[]),d=f.useCallback((()=>t(!0)),[]);Fn(c,[n,i]);const p=f.useMemo((()=>dEe({types:s,t:l})),[s,l]);return u.jsx(An,{__unstable_margins:[zw,0,0,0],content:u.jsx(zB,{anchorElement:n,onClose:c,children:u.jsx(h2n,{})}),open:e,placement:"bottom-start",fallbackPlacements:g2n,portal:!0,radius:lv,ref:o,children:u.jsx(me,{iconRight:ci,mode:"ghost",onClick:d,size:a?"large":"default",ref:r,selected:e,text:p,tone:"default"})})}const bO=$(N)`
  flex-shrink: ${({$flexShrink:e=0})=>e};
`;function F_e({filter:e,fontSize:t=1,showContent:n=!0}){const{t:r}=Z(),{state:{definitions:i,fullscreen:o}}=Kt(),a=zf(i.operators,e.operatorType),s=a?.buttonValueComponent,l=e.value,c=f.useMemo((()=>({Field:()=>u.jsx(bO,{$flexShrink:o?1:0,children:u.jsx(Nr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:u.jsx(M_e,{filter:e,maxLength:o?25:40})})}),Operator:({children:e})=>n?u.jsx(bO,{$flexShrink:0,children:u.jsx(Nr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"regular",children:e})}):null,Value:({children:e})=>n?u.jsx(bO,{$flexShrink:1,children:u.jsx(Nr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:s?u.jsx(s,{value:l}):e})}):null})),[e,t,o,n,s,l]);if(null!=a&&a.descriptionKey||console.warn("Missing `descriptionKey` for operator `%s`",e.operatorType),!n||null==a||!a.descriptionKey){const e=c.Field;return u.jsx(U,{align:"center",gap:1,children:u.jsx(e,{})})}return u.jsx(U,{align:"center",gap:1,children:u.jsx(dt,{t:r,i18nKey:a?.descriptionKey,components:c,values:y2n(e)})})}function y2n(e){const t={};return"number"==typeof e.value&&(t.count=e.value),xO(e.value)&&(t.value=e.value),xt(e.value)&&"from"in e.value&&xO(e.value.from)&&(t.from=e.value.from),xt(e.value)&&"to"in e.value&&xO(e.value.to)&&(t.to=e.value.to),t}function xO(e){return"string"==typeof e||"number"==typeof e}function b2n(e){const{t:t}=Z();return u.jsx(N,{...e,children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(Nr,{tone:"critical",children:u.jsx(ra,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Nr,{size:1,tone:"critical",weight:"medium",children:t("search.error.display-filter-title")}),u.jsx(Nr,{size:1,tone:"critical",children:t("search.error.display-filter-description")})]})]})})}function x2n({onClick:e,operator:t,selected:n}){const r=f.useCallback((()=>e(t.type)),[e,t.type]),{t:i}=Z();return u.jsx(qe,{onClick:r,pressed:n,tone:"default",text:i(t.nameKey),iconRight:t?.icon})}function w2n({filter:e,operator:t}){var n;const r=f.useId(),{t:i}=Z(),{dispatch:o,state:a}=Kt(),s=null==(n=lh(a.definitions.filters,e.filterName))?void 0:n.operators,l=f.useCallback((t=>{o({filterKey:lo(e),operatorType:t,type:"TERMS_FILTERS_SET_OPERATOR"})}),[o,e]);return!t||!s||s.length<=1?null:u.jsx(xn,{children:u.jsx(Gt,{button:u.jsx(me,{mode:"ghost",iconRight:ci,text:i(t.nameKey)}),id:r||"",menu:u.jsx(At,{children:s.map(((e,n)=>{if("item"===e.type){const r=zf(a.definitions.operators,e.name);return r?u.jsx(x2n,{onClick:l,operator:r,selected:t.type===e.name},n):null}return"divider"===e.type?u.jsx(rr,{},n):null}))}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function C2n({filter:e}){const[t,n]=f.useState(null),{dispatch:r,state:{definitions:i,fullscreen:o}}=Kt(),a=lh(i.filters,e.filterName),s=zf(i.operators,e.operatorType),l=cd(i.fields,e),c=lo(e),d=f.useCallback((()=>{r({filterKey:lo(e),type:"TERMS_FILTERS_REMOVE"})}),[r,e]),p=f.useCallback((e=>{r({filterKey:c,type:"TERMS_FILTERS_SET_VALUE",value:e})}),[r,c]),h=f.useCallback((e=>{n(e)}),[]),m=s?.inputComponent;return t?u.jsx(b2n,{padding:4}):u.jsx(v1,{onCatch:h,children:u.jsx(fl,{autoFocus:!Tm,returnFocus:!0,children:u.jsxs(U,{direction:"column-reverse",children:[m&&u.jsx(ae,{borderTop:!0,padding:3,children:u.jsx(m,{fieldDefinition:l,onChange:p,value:e.value},e.operatorType)}),u.jsx(ae,{padding:3,children:u.jsxs(ne,{space:3,children:[u.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[u.jsx(N,{paddingLeft:1,paddingRight:2,paddingY:1,children:u.jsx($_e,{filter:e})}),o&&u.jsx(me,{icon:Br,mode:"bleed",onClick:d,tone:"critical",tooltipProps:{content:"Remove filter"}})]}),a?.description&&u.jsx(ae,{border:!0,padding:3,radius:2,tone:"transparent",children:u.jsx(L,{muted:!0,size:1,children:a.description})}),u.jsx(w2n,{filter:e,operator:s})]})})]})})})}const S2n=$(U)`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`;function E2n({filter:e}){return u.jsxs(S2n,{direction:"column",children:[u.jsx(C2n,{filter:e}),sEe]})}const _2n=$(wt)`
  border-radius: ${({theme:e})=>`0 ${ke(e.sanity.radius[2])} ${ke(e.sanity.radius[2])} 0`};
`,k2n=$(ae)`
  position: absolute;
  right: 0;
`,T2n=$.div`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`,A2n=$(wt)`
  border: none;
  width: 100%;
`;function j2n({filter:e,initialOpen:t}){const[n,r]=f.useState(t),[i,o]=f.useState(null),[a,s]=f.useState(null),{dispatch:l,state:{definitions:c,fullscreen:d}}=Kt(),{t:p}=Z(),h=f.useCallback((()=>r(!1)),[]),m=f.useCallback((()=>r(!0)),[]),g=f.useCallback((()=>l({filterKey:lo(e),type:"TERMS_FILTERS_REMOVE"})),[l,e]),y=f.useCallback((e=>{["Backspace","Delete"].includes(e.key)&&g()}),[g]);Fn(h,[i,a]);const v=Kw({fieldDefinitions:c.fields,filter:e,filterDefinitions:c.filters,operatorDefinitions:c.operators});return u.jsx(An,{__unstable_margins:[zw,0,0,0],content:u.jsx(zB,{anchorElement:i,onClose:h,children:u.jsx(E2n,{filter:e})}),constrainSize:!0,open:n,overflow:"auto",placement:"bottom-start",portal:!0,radius:lv,ref:s,children:u.jsxs(T2n,{children:[u.jsx(ae,{__unstable_focusRing:!0,display:"flex",radius:2,tone:v?"primary":"transparent",children:u.jsx(A2n,{mode:"bleed",onClick:m,onKeyDown:y,paddingLeft:d?3:2,paddingRight:d?3:5,paddingY:d?3:2,ref:o,children:u.jsx(F_e,{filter:e,showContent:v})})}),!d&&u.jsx(k2n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:v?"primary":"transparent",children:u.jsx(_2n,{"aria-label":p("search.action.remove-filter-aria-label"),fontSize:1,icon:Ar,mode:"bleed",onClick:g,onKeyDown:y,padding:2,radius:2})})]})})}function UB({showTypeFilter:e=!0}){const{dispatch:t,state:{filters:n,fullscreen:r,lastAddedFilter:i,terms:{types:o}}}=Kt(),{t:a}=Z(),s=f.useRef(!1),l=f.useCallback((()=>{e&&t({type:"TERMS_TYPES_CLEAR"}),t({type:"TERMS_FILTERS_CLEAR"})}),[t,e]),c=n.length>0||e&&o.length>0;f.useEffect((()=>{s.current=!0}),[]);const d=i&&lo(i),p=()=>u.jsx(me,{mode:"bleed",onClick:l,size:r?"large":"default",text:a("search.action.clear-filters"),tone:"critical"});return u.jsxs(u.Fragment,{children:[u.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[u.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[e&&u.jsx(v2n,{}),n?.map((e=>{const t=lo(e);return u.jsx(j2n,{filter:e,initialOpen:s.current&&d===t},t)})),!r&&u.jsx(dre,{})]}),c&&!r&&u.jsx(p,{})]}),r&&u.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[u.jsx(dre,{}),c&&u.jsx(p,{})]}),sEe]})}const I2n=Hf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,D2n=$(s1)`
  animation: ${I2n} 500ms linear infinite;
`,O2n=$.div`
  line-height: 0;
  position: relative;
`,HB=f.forwardRef((function({ariaInputLabel:e,onClose:t},n){const r=f.useRef(!1),{t:i}=Z(),{dispatch:o,state:{filters:a,filtersVisible:s,fullscreen:l,result:{loading:c},terms:d}}=Kt(),{types:p,query:h}=d,m=Uw({terms:d}),g=i(e||m?"search.search-results-aria-label":"search.recent-searches-aria-label"),y=f.useCallback((()=>o({type:"FILTERS_VISIBLE_SET",visible:!s})),[o,s]),v=f.useCallback((e=>o({type:"TERMS_QUERY_SET",query:e.currentTarget.value})),[o]),b=f.useCallback((()=>{o({type:"TERMS_QUERY_SET",query:""})}),[o]);f.useEffect((()=>{l||o({type:"FILTERS_VISIBLE_SET",visible:!0})}),[o,l]),f.useEffect((()=>{r.current=!0}),[]);const x=a.length>0||p.length>0;return u.jsx(ae,{flex:"none",children:u.jsxs(U,{align:"center",flex:1,gap:l?2:1,padding:l?2:1,children:[l&&u.jsx(me,{"aria-label":i("search.action.close-search-aria-label"),icon:r1,mode:"bleed",onClick:t,size:"large",tooltipProps:{content:i("search.action.close-search-aria-label")}}),u.jsx(N,{flex:1,children:u.jsx(SB,{__unstable_disableFocusRing:!0,$background:l,$smallClearButton:l,"aria-label":g,autoComplete:"off",border:!1,clearButton:!!h,fontSize:[2,2,1],icon:c?D2n:ea,onChange:v,onClear:b,placeholder:i("search.placeholder"),radius:2,ref:n,spellCheck:!1,value:h})}),l&&u.jsx(O2n,{children:u.jsx(Xw,{"aria-expanded":s,"aria-label":i("search.action.toggle-filters-aria-label",{context:s?"hide":"show"}),icon:tk,mode:"bleed",onClick:y,selected:s,size:"large",tone:x?"primary":void 0,tooltipProps:{content:i("search.action.toggle-filters-label",{context:s?"hide":"show"})}})})]})})})),R2n=aa("mod+k"),M2n=aa("escape");function $2n({open:e,onClose:t,onOpen:n}){const{isTopLayer:r}=Ho(),i=f.useCallback((()=>{t?.()}),[t]);mo(f.useCallback((t=>{R2n(t)&&(t.preventDefault(),e?i():n?.()),M2n(t)&&e&&r&&i()}),[i,r,e,n]))}function L_e({children:e,hasValidTerms:t,onClose:n,onOpen:r,open:i}){const o=f.useRef(!1),{dispatch:a,searchCommandList:s,setOnClose:l,state:{result:u}}=Kt(),c=f.useCallback((()=>{var e;a({index:null!=(e=s?.getTopIndex())?e:-1,type:"LAST_ACTIVE_INDEX_SET"}),n()}),[a,n,s]);return $2n({onClose:c,onOpen:r,open:i}),f.useEffect((()=>{l(c)}),[c,l]),f.useEffect((()=>{(!t||u.loaded)&&o.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})}),[a,t,u.loaded]),f.useEffect((()=>{!t&&o.current&&!i&&a({type:"ORDERING_RESET"})}),[a,t,i]),f.useEffect((()=>{null!=o&&o.current||(o.current=!0)}),[]),e}const P2n=3;function N_e(e,t){var n;const r=JA(e).map((e=>e.name)),{documentTypes:i,objectTypes:o}=((null==(n=e._original)?void 0:n.types)||[]).filter((e=>!fre(e)||r.includes(e.name))).filter((e=>"slug"!==e.name)).filter((e=>!e.name.startsWith("sanity."))).reduce(((e,t)=>(fre(t)&&(e.documentTypes[t.name]=t),z_e(t)&&(e.objectTypes[t.name]=t),e)),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}};return L2n(Jhn(t),i,o)}function B_e(e){return e.reduce(((e,t)=>(e[t.id]=t,e)),{})}function F2n(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function L2n(e,t,n){function r({acc:i,defType:o,depth:a=0,documentType:s,prevFieldPath:l,prevTitlePath:u}){var c;const d=a<=P2n,f=o.name.startsWith("_"),p=null!=o&&o.title?P_e(o.title):Tn(o.name),h=l?`${l}.${o.name}`:o.name,m=u?[...u,p]:[p];if(!d)return;const g=n[o.type],y=t[o.type],v=z_e(o)?o:null,b=y||g||v;b?null==(c=b?.fields)||c.forEach((e=>r({acc:i,defType:e,depth:a+1,documentType:s,prevFieldPath:h,prevTitlePath:m}))):e.includes(o.type)&&i.push({documentTypes:s&&!f?[s]:[],fieldPath:h,filterName:U2n(o),id:"",name:o.name,titlePath:m,title:p,type:o.type})}return Object.values(t).reduce(((e,t)=>{const n=t.fields.reduce(((e,n)=>(r({acc:e,defType:n,documentType:t.name}),e)),[]);return e.push(...n),e}),[]).reduce(((e,t)=>{const n=e.findIndex((e=>e.fieldPath===t.fieldPath&&e.title===t.title&&e.type===t.type));return n>-1?e[n]={...e[n],documentTypes:[...e[n].documentTypes,...t.documentTypes]}:e.push(t),e}),[]).map(N2n).sort(H2n)}function N2n(e){return{...e,id:F2n(e)}}function B2n(e){var t;return!!V_e(e)&&(e.of.every((e=>["boolean","number","string"].includes(e.type)))&&!(null==(t=e.options)||!t.list)&&e.options.list.length>0)}function V_e(e){return"array"===e.type}function fre(e){return"document"===e.type}function z_e(e){return"object"===e.type}function V2n(e){return"string"===e.type}function z2n(e){var t;return!(!V2n(e)||null==(t=e.options)||!t.list)&&e.options.list.length>0}function U2n(e){if(z2n(e))return"stringList";if(V_e(e)){if(e.of.some((e=>"reference"===e.type)))return"arrayReferences";if(e.of.find((e=>"block"===e.type)))return"portableText";if(B2n(e))return"arrayList"}return e.type}function H2n(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}const U_e=2,W2n="studio.search.recent",oy={version:U_e,recentSearches:[]};function G2n(){const e=YSe(),t=Zt(zt),{dataset:n}=t.config(),r=f.useMemo((()=>`${W2n}.${n}`),[n]),[i,o]=f.useState(oy),a=f.useMemo((()=>e.getKey(r)),[e,r]);f.useEffect((()=>{const t=a.pipe(xi(oy),fe((t=>t?t?.version!==U_e?(e.setKey(r,oy),oy):t:oy))).subscribe({next:o});return()=>t?.unsubscribe()}),[a,e,r]);const s=f.useCallback((t=>{o(t),e.setKey(r,t)}),[e,r]);return f.useMemo((()=>[i,s]),[s,i])}const Y2n=5,H_e=2;function WB(){const[e,t]=G2n(),n=Jt(),{search:{operators:r,filters:i}}=Sn(),{fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s}=f.useMemo((()=>({fieldDefinitions:B_e(N_e(n,i)),filterDefinitions:iEe(i),operatorDefinitions:O_e(r)})),[i,r,n]);return{addSearch:(r,i)=>{const l=(i||[]).map((e=>({fieldId:e.fieldId,filterName:e.filterName,operatorType:e.operatorType,value:e.value}))).filter((e=>Kw({fieldDefinitions:o,filter:e,filterDefinitions:a,operatorDefinitions:s}))),u={created:(new Date).toISOString(),filters:l,terms:{query:r.query.trim(),typeNames:r.types.map((e=>e.name))}},c={version:H_e,recentSearches:[u,...e.recentSearches.filter((e=>!bt(pa(e,"created"),pa(u,"created"))))].slice(0,Y2n)};return t(c),sy({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:c,setStoredSearch:t})},getRecentSearches:()=>sy({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t}),removeSearch:()=>{const r={...e,recentSearches:[]};return t(r),sy({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:r,setStoredSearch:t})},removeSearchAtIndex:r=>{if(r<0||r>e.recentSearches.length)return sy({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t});const i={...e,recentSearches:[...e.recentSearches.slice(0,r),...e.recentSearches.slice(r+1)]};return t(i),sy({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:i,setStoredSearch:t})}}}function sy({schema:e,fieldDefinitions:t,filterDefinitions:n,operatorDefinitions:r,storedSearch:i,setStoredSearch:o}){return q2n({studioSchema:e,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:r,storedSearch:i,setStoredSearch:o}).recentSearches.filter((e=>!!e.terms)).map(((t,n)=>({__recent:{index:n,timestamp:new Date(t.created).getTime()},filters:t.filters,query:t.terms.query,types:t.terms.typeNames.map((t=>e.get(t))).filter((e=>!(!e||"object"!==e.jsonType)))})))}function q2n({fieldDefinitions:e,filterDefinitions:t,operatorDefinitions:n,studioSchema:r,storedSearch:i,setStoredSearch:o}){const a=JA(r).map((e=>e.name)),s=i.recentSearches.filter((r=>r.terms.typeNames.every((e=>a.includes(e)))&&r.filters.every((r=>Kw({fieldDefinitions:e,filter:r,filterDefinitions:t,operatorDefinitions:n}))))),l={version:H_e,recentSearches:s};return l.recentSearches.length<i.recentSearches.length&&o(l),l}function K2n(){const{t:e}=Z();return u.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:u.jsx(xn,{space:3,children:u.jsx(L,{muted:!0,children:u.jsx(dt,{t:e,i18nKey:"search.instructions",components:{ControlsIcon:()=>u.jsx(tk,{style:{padding:"0 0.25rem"}},0)}})})})})}function Z2n({availableCharacters:e,types:t}){const{t:n}=Z(),r=f.useMemo((()=>dEe({availableCharacters:e,types:t,t:n})),[e,t,n]);return u.jsx(ae,{border:!0,padding:2,radius:2,children:u.jsx(L,{muted:!0,size:1,children:r})})}const X2n=$(ae)`
  cursor: default;
`;function J2n({filter:e}){return u.jsx(X2n,{border:!0,padding:2,radius:2,tone:"primary",children:u.jsx(F_e,{filter:e})})}const Q2n=40,W_e=$(wt)`
  border-radius: ${({theme:e})=>ke(e.sanity.radius[2])};
  cursor: default;
  width: 100%;
`,eSn=$(N)`
  flex-shrink: 3;
`,tSn=$(U)`
  flex-shrink: 2;
`,nSn=$.div`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    ${W_e}:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`;function rSn({index:e,maxVisibleTypePillChars:t=Q2n,value:n,...r}){var i;const{dispatch:o}=Kt(),a=WB(),s=t-n.query.length,l=f.useCallback((()=>{o({type:"TERMS_SET",filters:n?.filters,terms:n}),a&&a?.addSearch(n,n?.filters)}),[o,a,n]),c=f.useCallback((t=>{t.stopPropagation(),a&&a?.removeSearchAtIndex(e)}),[e,a]);return u.jsx(N,{...r,children:u.jsx(W_e,{mode:"bleed",onClick:l,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:u.jsxs(U,{align:"stretch",children:[u.jsxs(xn,{paddingY:2,children:[u.jsx(L,{muted:!0,size:1,children:u.jsx(Q5,{})}),u.jsx(L,{children:""})]}),u.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[n.query&&u.jsx(tSn,{align:"center",paddingY:2,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:n.query})}),n.types.length>0&&u.jsx(eSn,{children:u.jsx(Z2n,{availableCharacters:s,types:n.types})}),null==(i=n?.filters)?void 0:i.map(((e,t)=>u.jsx(J2n,{filter:e},t)))]}),u.jsx(U,{align:"center",children:u.jsx(nSn,{onClick:c,children:u.jsx(U,{padding:2,children:u.jsx(L,{size:1,children:u.jsx(Ar,{})})})})})]})})})}const iSn=36,aSn=20,oSn=40,sSn=$(ae)`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`;function G_e({inputElement:e}){const{dispatch:t,state:{filtersVisible:n,fullscreen:r}}=Kt(),i=WB(),o=f.useMemo((()=>i?.getRecentSearches()),[i]),a=f.useRef(null),{t:s}=Z(),l=f.useCallback((()=>{var e;i&&i.removeSearch(),null==(e=a?.current)||e.focusInputElement()}),[i]),c=om(),d=f.useMemo((()=>c<2?aSn:oSn),[c]),p=f.useCallback(((e,{virtualIndex:t})=>u.jsx(rSn,{index:t,maxVisibleTypePillChars:d,paddingBottom:1,value:e})),[d]),h=!!o.length;return u.jsx(sSn,{borderTop:h||!h&&!n&&r,flex:1,children:o.length>0?u.jsxs(u.Fragment,{children:[u.jsx(N,{paddingBottom:2,paddingTop:4,paddingX:3,children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:s("search.recent-searches-label")})}),u.jsx(N,{children:u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:s("search.recent-searches-aria-label"),inputElement:e,initialIndex:0,itemHeight:iSn,items:o,paddingX:2,paddingY:1,renderItem:p})}),u.jsx(N,{paddingBottom:2,paddingTop:1,paddingX:2,children:u.jsx(me,{mode:"bleed",onClick:l,tone:"default",text:s("search.action.clear-recent-searches"),muted:!0})})]}):!n&&r&&u.jsx(K2n,{})})}function lSn(){const{t:e}=Z();return u.jsx(Xr,{width:0,children:u.jsxs(ne,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[u.jsx(L,{align:"center",muted:!0,size:1,weight:"medium",children:e("search.no-results-title")}),u.jsx(L,{align:"center",muted:!0,size:1,children:e("search.no-results-help-description")})]})})}const uSn=$(L)`
  &:not([data-muted]) {
    &[data-tone='default'] {
      --card-fg-color: var(--card-badge-default-fg-color);
    }
    &[data-tone='primary'] {
      --card-fg-color: var(--card-badge-primary-fg-color);
    }
    &[data-tone='positive'] {
      --card-fg-color: var(--card-badge-positive-fg-color);
    }
    &[data-tone='caution'] {
      --card-fg-color: var(--card-badge-caution-fg-color);
    }
    &[data-tone='critical'] {
      --card-fg-color: var(--card-badge-critical-fg-color);
    }
  }

  &[data-dimmed] {
    opacity: 0.3;
  }
`,Nr=f.forwardRef((function(e,t){const{tone:n,dimmed:r,muted:i,...o}=e;return u.jsx(uSn,{"data-ui":"TextWithTone","data-dimmed":r?"":void 0,"data-muted":i?"":void 0,"data-tone":n,muted:i,ref:t,...o})}));function cSn(){const{t:e}=Z();return u.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[u.jsx(N,{marginBottom:1,children:u.jsx(Nr,{tone:"critical",children:u.jsx(or,{})})}),u.jsx(Nr,{size:2,tone:"critical",weight:"medium",children:e("search.error.unspecified-error-title")}),u.jsx(Nr,{size:1,tone:"critical",children:e("search.error.unspecified-error-help-description")})]})}const GB=({enableLegacySearch:e})=>({createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",...e?{sort:{direction:"desc",field:"_updatedAt"}}:{},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}}),dSn=$(U)`
  box-sizing: border-box;
`;function hre(e){return"divider"===e.type}function fSn({ordering:e}){const{t:t}=Z(),{dispatch:n,state:{ordering:r}}=Kt(),i=f.useCallback((()=>{n({ordering:e,type:"ORDERING_SET"})}),[n,e]),o=f.useMemo((()=>bt(r,e)),[r,e]);return u.jsx(qe,{onClick:i,pressed:o,tone:"default",text:t(e.titleKey)})}function hSn(){const{t:e}=Z(),{enableLegacySearch:t=!1}=jr().search,{state:{ordering:n}}=Kt(),r=f.useId(),i=f.useMemo((()=>{const e=GB({enableLegacySearch:t});return[e.relevance,{type:"divider"},e.createdAsc,e.createdDesc,{type:"divider"},e.updatedAsc,e.updatedDesc]}),[t]),o=i.find((e=>bt(n,e)&&!hre(e)));return o?u.jsx(ae,{borderBottom:!0,children:u.jsx(dSn,{align:"center",flex:1,padding:2,children:u.jsx(Gt,{button:u.jsx(me,{mode:"bleed",icon:m0,text:e(o.titleKey)}),id:r||"",menu:u.jsx(At,{children:i.map(((e,t)=>hre(e)?u.jsx(rr,{},t):u.jsx(fSn,{ordering:e},t)))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}const pSn=$(ae)`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`;function mSn({data:e}){const{score:t}=e;let n="default";t<=.1?n="critical":t>=.5&&(n="primary");const r=e.stories.filter((e=>e.score>0));return u.jsx(u.Fragment,{children:u.jsx(pt,{content:u.jsx(ne,{space:2,children:r.length?u.jsx(u.Fragment,{children:r.map((e=>u.jsxs(xn,{space:3,children:[u.jsx(ni,{size:0,weight:"medium",children:e.path}),u.jsx(ni,{size:0,children:e.why})]},e.path)))}):u.jsx(ni,{size:0,children:"No matches"})}),placement:"bottom-start",portal:!0,children:u.jsx(pSn,{padding:1,shadow:1,tone:n,children:u.jsxs(ni,{size:0,children:["score: ",t]})})})})}const gSn=57,vSn=4,ySn=$(U)`
  opacity: ${({$loading:e})=>e?.5:1};
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`;function Y_e({disableIntentLink:e,inputElement:t,onItemSelect:n}){const{dispatch:r,onClose:i,setSearchCommandList:o,state:{debug:a,filters:s,fullscreen:l,lastActiveIndex:c,result:d,terms:p}}=Kt(),{t:h}=Z(),m=WB(),g=!!d.hits.length,y=!d.hits.length&&d.loaded,v=d.error,b=f.useCallback((()=>{m&&m.addSearch(p,s),i?.()}),[s,i,m,p]),x=f.useCallback((()=>{r({type:"PAGE_INCREMENT"})}),[r]),w=f.useCallback((t=>u.jsxs(u.Fragment,{children:[u.jsx(bB,{disableIntentLink:e,documentId:sn(t.hit._id)||"",documentType:t.hit._type,onClick:b,onItemSelect:n,paddingY:1}),a&&u.jsx(mSn,{data:t})]})),[a,e,b,n]);return u.jsx(U,{children:u.jsx(ae,{borderTop:l||!!(v||g||y),flex:1,children:u.jsxs(U,{direction:"column",height:"fill",children:[g&&u.jsx(hSn,{}),u.jsx(ySn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?u.jsx(cSn,{}):u.jsxs(u.Fragment,{children:[g&&u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:h("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:c,inputElement:t,itemHeight:gSn,items:d.hits,overscan:vSn,onEndReached:x,paddingX:2,paddingY:1,ref:o,renderItem:w}),y&&u.jsx(lSn,{})]})})]})})})}const pre={duration:.4,type:"spring"},bSn={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},xSn={open:{opacity:1},closed:{opacity:0}},mre=12,wSn=$(di(ae))`
  background-color: var(--card-backdrop-color);
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`,CSn=$(di(ae))`
  display: flex !important;
  flex-direction: column;
  left: 50%;
  max-height: min(
    calc(100vh - ${12}vh - ${a4}px),
    ${735}px
  );
  position: absolute;
  top: ${12}vh;
  width: min(calc(100vw - ${2*a4}px), ${800}px);
`;function q_e({disableFocusLock:e,disableIntentLink:t,onClose:n,onItemSelect:r,onOpen:i,open:o}){const[a,s]=f.useState(null),l=f.useRef(null),{isTopLayer:c,zIndex:d}=Ho();Z();const{onClose:p,state:{filtersVisible:h,terms:m}}=Kt(),g=Uw({terms:m});return Fn(f.useCallback((()=>{c&&p&&o&&p()}),[c,p,o]),[l.current]),u.jsx(L_e,{hasValidTerms:g,onClose:n,onOpen:i,open:o,children:u.jsx(xs,{children:o&&u.jsx(Zf,{children:u.jsxs(fl,{autoFocus:!Tm,disabled:e,returnFocus:!0,children:[u.jsx(wSn,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:d},transition:pre,variants:xSn}),u.jsxs(CSn,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:lv,ref:l,shadow:2,style:{zIndex:d},transition:pre,variants:bSn,children:[u.jsx(HB,{onClose:n,ref:s}),h&&u.jsx(ae,{borderTop:!0,flex:"none",children:u.jsx(UB,{})}),g?u.jsx(Y_e,{inputElement:a,onItemSelect:r,disableIntentLink:t}):u.jsx(G_e,{inputElement:a})]})]})})})})}function K_e(e){return typeof e.__recent<"u"}const S4="core:studio:navbar:search:";function SSn(e){const t=`${S4}${e}`;return fa&&fa.enabled(t)?fa(t):fa(S4)}function ESn(){return!(typeof window>"u")&&window.location.hash.slice(1).split(";").includes(ipn)}function _Sn({currentUser:e,fullscreen:t,definitions:n,pagination:r,enableLegacySearch:i}){return{currentUser:e,debug:ESn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:t,lastActiveIndex:-1,ordering:GB({enableLegacySearch:i}).relevance,...r,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:n,enableLegacySearch:i}}fa(S4);const kSn=SSn("reducer");function TSn(e,t){var n,r;let i="";switch(t.type.startsWith("SEARCH_REQUEST")&&(i=""),t.type.startsWith("RECENT_SEARCHES")&&(i=""),kSn(i,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:GB({enableLegacySearch:e.enableLegacySearch}).relevance,terms:_h(e.terms),result:{...e.result,hasLocal:!1}};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:_h(e.terms),result:{...e.result,hasLocal:!1}};case"PAGE_INCREMENT":return{...e,cursor:null!=(n=e.nextCursor)?n:e.cursor,nextCursor:null,terms:_h(e.terms)};case"SEARCH_CLEAR":return{...e,cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,nextCursor:null!=(r=t.nextCursor)?r:null,result:{...e.result,error:null,hasLocal:!0,hits:e.result.hasLocal?ASn([...e.result.hits,...t.hits]):t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const n={...t.filter,value:VCn(e.definitions.operators,t.filter.operatorType)},r=[...e.filters,n];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,lastAddedFilter:n,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_CLEAR":{const t=[];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:t,types:e.terms.types}),filters:t,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:t,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_REMOVE":{const n=e.filters.findIndex((e=>lo(e)===t.filterKey)),r=[...e.filters.slice(0,n),...e.filters.slice(n+1)];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_OPERATOR":{const n=e.filters.find((e=>lo(e)===t.filterKey)),r=zf(e.definitions.operators,n?.operatorType),i=zf(e.definitions.operators,t.operatorType),o=i?.initialValue,a=r?.inputComponent!=i?.inputComponent,s=e.filters.map((e=>lo(e)===t.filterKey?{...e,operatorType:t.operatorType,...a?{value:o}:{}}:e));return{...e,filters:s,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:s,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_VALUE":{const n=e.filters.map((e=>lo(e)===t.filterKey?{...e,value:t.value}:e));return{...e,filters:n,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:n,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_QUERY_SET":return{...e,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:_h({...e.terms,query:t.query})};case"TERMS_SET":{const n=t.filters||[],r=[...e.terms.types||[],...t.terms.types].sort(o4);return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:n,types:r}),filters:n,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:{...t.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:n,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const n=[...e.terms.types||[],t.schemaType].sort(o4),r=Eh({fieldDefinitions:e.definitions.fields,filters:[],types:n}),i=e.filters.filter((t=>{const n=cd(e.definitions.fields,t);return!n||(0===n.documentTypes.length||r.every((e=>n.documentTypes.findIndex((t=>t===e))>-1)))}));return{...e,documentTypesNarrowed:r,filters:i,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:_h({...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:n})}}case"TERMS_TYPE_REMOVE":{const n=(e.terms.types||[]).filter((e=>e!==t.schemaType));return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:n}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:_h({...e.terms,types:n})}}case"TERMS_TYPES_CLEAR":{const t=[];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:t}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:_h({...e.terms,types:[]})}}default:return e}}function _h(e){if(K_e(e)){const{__recent:t,...n}=e;return n}return e}function ASn(e){const t=e.reduce(((e,t)=>{const n=sn(t.hit._id);return{...e,[n]:t}}),{});return Object.values(t)}function YB({children:e,fullscreen:t}){const n=f.useRef(null),[r,i]=f.useState(null),o=Jt(),a=Un(),{search:{operators:s,filters:l,enableLegacySearch:c}}=Sn(),{fieldDefinitions:d,filterDefinitions:p,operatorDefinitions:h}=f.useMemo((()=>({fieldDefinitions:B_e(N_e(o,l)),filterDefinitions:iEe(l),operatorDefinitions:O_e(s)})),[l,s,o]),m=f.useMemo((()=>_Sn({currentUser:a,fullscreen:t,definitions:{fields:d,operators:h,filters:p},pagination:{cursor:null,nextCursor:null},enableLegacySearch:c})),[a,d,p,t,h,c]),[g,y]=f.useReducer(TSn,m),{documentTypesNarrowed:v,filters:b,ordering:x,cursor:w,result:C,terms:k}=g,j=f.useRef(!1),S=f.useRef(m.ordering),E=f.useRef(m.cursor),_=f.useRef(m.terms),{handleSearch:A,searchState:T}=uEe({initialState:{...C,terms:k},onComplete:e=>y({...e,type:"SEARCH_REQUEST_COMPLETE"}),onError:e=>y({error:e,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>y({type:"SEARCH_REQUEST_START"}),schema:o}),D=Uw({terms:k}),M=v.map((e=>o.get(e))),I=b.filter((e=>Kw({fieldDefinitions:d,filter:e,filterDefinitions:p,operatorDefinitions:h}))),O=f.useCallback((e=>{n.current=e}),[]);return f.useEffect((()=>{var e,t;const n=!bt(x,S.current),r=w!==E.current,i=!bt(k,_.current);if(n||r||i){let n="findability-sort:";(null!=x&&x.customMeasurementLabel||x.sort)&&(n+=x?.customMeasurementLabel||`${null==(e=x.sort)?void 0:e.field} ${null==(t=x.sort)?void 0:t.direction}`),A({options:{comments:[...K_e(k)?[`findability-recent-search:${k.__recent.index}`]:[],`findability-selected-types:${k.types.length}`,n,"findability-source: global",`findability-filter-count:${I.length}`],limit:apn,skipSortByScore:x.ignoreScore,...x.sort?{sort:[x.sort]}:{},cursor:w||void 0},terms:{...k,...M?{types:M}:{}}}),E.current=w}S.current=x,_.current=k}),[I.length,b,M,A,D,x,T.terms,k,w]),f.useEffect((()=>{!D&&null!=j&&j.current&&C.hits.length>0&&y({type:"SEARCH_CLEAR"}),j.current=!0}),[y,D,C.hits,k.query,k.types]),u.jsx(bae.Provider,{value:{dispatch:y,onClose:n?.current,searchCommandList:r,setSearchCommandList:i,setOnClose:O,state:{...g,fullscreen:t}},children:e})}const gre=f.forwardRef((function({onClick:e},t){const{t:n}=Z();return u.jsx(me,{"aria-label":n("search.action-open-aria-label"),"data-testid":"studio-search",icon:ea,tooltipProps:{content:n("search.button.tooltip"),hotkeys:[opn,"k".toUpperCase()],portal:!0},onClick:e,mode:"bleed",ref:t})})),jSn=$(ae)`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`,ISn=$(N)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`;function DSn({onClose:e,onOpen:t,open:n}){const[r,i]=f.useState(null),o=Md(),{state:{filtersVisible:a,terms:s}}=Kt(),l=Uw({terms:s});return u.jsx(L_e,{hasValidTerms:l,onClose:e,onOpen:t,open:n,children:n&&u.jsx(Zf,{children:u.jsx(fl,{autoFocus:!Tm,returnFocus:!0,children:u.jsx(ISn,{children:u.jsxs(jSn,{display:"flex",height:"fill",scheme:o,tone:"default",children:[u.jsx(HB,{onClose:e,ref:i}),a&&u.jsx(ae,{borderTop:!0,flex:"none",children:u.jsx(UB,{})}),l?u.jsx(Y_e,{inputElement:r}):u.jsx(G_e,{inputElement:r})]})})})})})}function OSn(e){const{activeTool:t}=e;return f.createElement(t.component,{tool:t})}function RSn(){return u.jsx(ae,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(Xr,{width:0,children:u.jsx(ae,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(U,{children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsxs(ne,{flex:1,marginLeft:3,space:3,children:[u.jsx(L,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),u.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),u.jsx(L,{as:"p",muted:!0,size:1,children:u.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function MSn(e){const{reason:t="Redirecting"}=e;return u.jsx(ae,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(Xr,{width:0,children:u.jsx(ae,{padding:4,radius:2,shadow:1,tone:"primary",children:u.jsxs(U,{children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(rk,{})})}),u.jsx(ne,{flex:1,marginLeft:3,space:3,children:u.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function $Sn(e){const{toolName:t}=e;return u.jsx(ae,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(Xr,{width:0,children:u.jsx(ae,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(U,{children:[u.jsx(N,{children:u.jsx(L,{size:1,children:u.jsx(or,{})})}),u.jsx(ne,{flex:1,marginLeft:3,space:3,children:u.jsxs(L,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",u.jsx("code",{children:t})]})})]})})})})})}const Z_e=()=>{if(typeof document>"u"||!("querySelectorAll"in document))return!1;const e=document.querySelectorAll('script[type="importmap"]');return Array.from(e).some((e=>!!e.textContent&&"sanity"in(JSON.parse(e.textContent).imports||{})))},fv="3.48.1";function X_e(e){let t,n=[];const r=Hbe(e),i=async e=>r.send(e),o=async()=>{await Promise.all(n.map(i)).catch((e=>{console.error("Failed to send buffered events from transport: ",e)}))};return{flush:async()=>r.flush(),send:async e=>t?i(e):(typeof t>"u"&&n.push(e),{}),setConsent:async e=>{t=e,e&&await o(),n=[]}}}const J_e="https://8914c8dde7e1ebce191f15af8bf6b7b9@sentry.sanity.io/4507342122123264",PSn=!("__sanityErrorChannel"in Xxe),b5=Z1&&!!localStorage.getItem("SANITY_DEBUG_ERROR_REPORTING"),FSn=typeof window<"u",vre={dsn:J_e,release:fv,environment:"production",debug:b5,enabled:FSn&&!Es,transport:X_e},yre=[Mbe(),Rbe(),qbe({eventTarget:!1}),Ybe({console:!1}),Kbe({onerror:!0,onunhandledrejection:!0}),Jbe(),$be(),USn(),Xbe()];function LSn(){let e,t;function n(e){return!!e&&"setConsent"in e&&"function"==typeof e.setConsent}return{initialize:function(){var n;if(e||!b5&&!Z_e()||!b5&&PSn)return;const r=SFt(),i=r&&(null==(n=Li())?void 0:n.getOptions().dsn)===J_e;return r&&!i?(e=Li(),void(t=Lu())):i?(e=new zbe({...vre,stackParser:Wbe,integrations:yre,beforeSend:bre,transport:X_e}),t=new sd,t.setClient(e),void e.init()):(B6t({...vre,defaultIntegrations:!1,integrations:yre,beforeSend:bre}),e=Li(),void(t=Lu()))},reportError:function(t,n={}){if(!e)return console.warn("[reportError] called before reporter is initialized, skipping"),null;const{reactErrorInfo:r={},errorBoundary:i}=n,{componentStack:o}=r,a={};o&&(a.react={componentStack:o});const s={handled:"no"};i&&(s.errorBoundary=i);let l=null;return bbe((()=>{if(o&&Q_e(t)){const e=new Error(t.message);e.name=`${i||"ErrorBoundary"} ${t.name}`,e.stack=o,VSn(t,e)}l=_be(t,{mechanism:{handled:!1},captureContext:{contexts:a,tags:s}})})),l?{eventId:l}:null},enable:function(){const t=e?.getTransport();n(t)&&t.setConsent(!0)},disable:function(){const t=e?.getTransport();n(t)&&t.setConsent(!1)}}}const NSn=Object.prototype.toString;function Q_e(e){switch(NSn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return BSn(e,Error)}}function BSn(e,t){try{return e instanceof t}catch{return!1}}function VSn(e,t){const n=new WeakMap;!function e(t,r){if(!n.has(t)){if(Q_e(t.cause))return n.set(t,!0),void e(t.cause,r);t.cause=r}}(e,t)}function zSn(e){var t;for(const n of(null==(t=e.exception)?void 0:t.values)||[])n.mechanism&&(n.mechanism.handled=!1)}function bre(e){return zSn(e),e}function USn(){const e=[];return{name:"SanityDedupe",processEvent(t){if(t.type)return t;try{if(HSn(t,e))return b5&&console.warn("[sanity/sentry] Dropping error from being reported because it is a duplicate"),null}catch{}return e.length>10&&e.shift(),e.push(t),t}}}function HSn(e,t){for(const n of t){const t=xre(e),r=xre(n);if(t&&r&&t!==r)continue;const i=Math.floor(e.timestamp||0),o=Math.floor(n.timestamp||0);if(Math.abs(i-o)<300)return!0}return!1}function xre(e){if(e.message)return e.message;if(e.exception)for(const t of e.exception.values||[])if(t.value)return t.value}const x5=LSn(),WSn="https://www.sanity.io/docs/workspaces",e5e=ah((e=>Ni(e.map((e=>e.auth.state.pipe(fe((t=>[e.name,t])))))).pipe(fe((e=>Object.fromEntries(e)))))),E4={"logged-in":"","logged-out":"Signed out","no-access":""},GSn=$.div`
  width: ${e=>"small"===e.$size?"25px":"41px"};
  height: ${e=>"small"===e.$size?"25px":"41px"};

  svg {
    width: 100%;
    height: 100%;
  }
`,qB=({icon:e,size:t="small"})=>{const n=f.useMemo((()=>t5e(e)),[e]);return u.jsx(GSn,{$size:t,children:n})},t5e=e=>ta.isValidElementType(e)?f.createElement(e):f.isValidElement(e)?e:void 0;function wre(e){const{state:t,subtitle:n,selected:r,title:i,icon:o,iconRight:a}=e,s=f.useMemo((()=>t5e(a)),[a]);return u.jsxs(U,{align:"center",flex:"none",gap:3,children:[u.jsx(qB,{icon:o,size:"small"}),u.jsxs(ne,{flex:1,space:2,children:[u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:i}),n&&u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&E4[t]&&u.jsx(N,{paddingLeft:1,children:u.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:E4[t]})}),(r||s)&&u.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&u.jsx(L,{children:u.jsx(na,{})}),s&&u.jsx(L,{muted:!0,children:s})]})]})}const Cre=[{url:"https://slack.sanity.io/",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],YSn=$(L)`
  a {
    color: inherit;
  }
`;function Sre(e){const{children:t,footer:n,header:r}=e;return Z(),u.jsxs(ne,{space:6,children:[u.jsx(ae,{border:!0,radius:3,overflow:"auto",children:u.jsxs(ne,{children:["object"==typeof r&&u.jsx(N,{children:r}),"string"==typeof r&&u.jsx(N,{paddingY:4,children:u.jsx(Ci,{align:"center",size:1,children:r})}),u.jsx(N,{paddingX:1,children:u.jsx(ae,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&u.jsx(N,{children:n})]})}),u.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[u.jsx(L,{size:3,children:u.jsx(rxe,{})}),u.jsx(U,{align:"center",gap:2,children:Cre.map(((e,t)=>u.jsxs(f.Fragment,{children:[u.jsx(YSn,{muted:!0,size:1,children:u.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),t<Cre.length-1&&u.jsx(L,{size:1,muted:!0,children:""})]},e.title)))})]})]})}function qSn(){var e;const t=Iw(),{activeWorkspace:n,setActiveWorkspace:r}=Fm(),[i]=e5e(t),[o,a]=f.useState(n?.name||null),s=1===t.length?t[0]:t.find((e=>e.name===o)),l=null==(e=s?.auth)?void 0:e.LoginComponent,c=f.useCallback((()=>a(null)),[]),{t:d}=Z();return i?l&&s?u.jsxs(ne,{space:2,children:[t.length>1&&u.jsx(U,{children:u.jsx(me,{icon:r1,mode:"bleed",onClick:c,text:d("workspaces.action.choose-another-workspace")})}),u.jsx(Sre,{header:u.jsx(N,{padding:3,children:u.jsx(wre,{icon:s.icon,title:s.title,subtitle:s?.subtitle})}),children:u.jsx(ne,{padding:2,paddingBottom:3,paddingTop:4,children:u.jsx(l,{projectId:s.projectId,redirectPath:window.location.pathname.startsWith(s.basePath)?`${window.location.pathname}${window.location.search}`:s.basePath},o)})})]}):u.jsx(Sre,{header:d("workspaces.choose-your-workspace-label"),footer:u.jsx(ne,{padding:1,children:u.jsx(me,{as:"a",href:WSn,icon:Qi,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:d("workspaces.action.add-workspace")})}),children:u.jsx(ne,{space:1,paddingX:1,paddingY:2,children:t.map((e=>{const t=i[e.name].authenticated?"logged-in":e.auth.LoginComponent?"logged-out":"no-access";return u.jsx(ae,{as:"button",radius:2,padding:2,onClick:()=>{"logged-in"===t&&e.name!==n.name&&r(e.name),"logged-out"===t&&a(e.name)},children:u.jsx(wre,{icon:e?.icon,iconRight:Aa,state:t,subtitle:e?.subtitle,title:e?.title||e.name})},e.name)}))})}):u.jsx(wn,{showText:!0})}const KSn=$(At)`
  max-width: 350px;
  min-width: 250px;
`,ZSn={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end"};function n5e(){const e=Iw(),{activeWorkspace:t,setActiveWorkspace:n}=Fm(),[r]=e5e(e),{navigateUrl:i}=wo(),{t:o}=Z();if(!(e.length>1))return null;const a=!r;return u.jsx(Gt,{button:u.jsx(U,{children:u.jsx(pt,{content:o("workspaces.select-workspace-tooltip"),disabled:a,portal:!0,children:u.jsx(wt,{disabled:a,mode:"bleed",padding:2,width:"fill",children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(N,{children:u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:t.title})}),u.jsx(L,{size:1,children:u.jsx(ci,{})})]})})})}),id:"workspace-menu",menu:!a&&r?u.jsx(KSn,{children:e.map((e=>{const o=r[e.name].authenticated?"logged-in":e.auth.LoginComponent?"logged-out":"no-access",a=e.name===t.name;return u.jsx(qe,{badgeText:E4[o],iconRight:a?na:void 0,onClick:()=>{"logged-in"===o&&e.name!==t.name&&n(e.name),"logged-out"===o&&i({path:e.basePath})},pressed:a,preview:u.jsx(qB,{icon:e.icon,size:"small"}),selected:a,__unstable_subtitle:e.subtitle,__unstable_space:1,text:e?.title||e.name},e.name)}))}):void 0,popover:ZSn})}function r5e(){return u.jsx(ae,{height:"fill",overflow:"auto",paddingX:4,children:u.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:u.jsx(Xr,{width:0,children:u.jsx(qSn,{})})})})}function XSn(){return u.jsx(u.Fragment,{children:"TODO: implement config errors screen"})}const JSn=$.label`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`;function QSn(e){const{projectId:t}=e,n=window.location.origin,r=f.useMemo((()=>{const e=new URL(`https://sanity.io/manage/project/${t}/api`);return e.searchParams.set("cors","add"),e.searchParams.set("origin",n),e.searchParams.set("credentials",""),e.toString()}),[n,t]);return f.useEffect((()=>{const e=()=>{window.location.reload()};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e)}}),[]),u.jsx(ae,{height:"fill",children:u.jsx(Si,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:{confirmButton:{text:"Continue",iconRight:Nu,as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},children:u.jsxs(ne,{space:4,children:[u.jsxs(L,{children:["To access your content, you need to ",u.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),u.jsx(JSn,{"aria-hidden":"true",children:"CORS URL to be added"}),u.jsx(Vr,{value:n,readOnly:!0})]})})})}function i5e(){const[e,t]=f.useState(null),[n,r]=f.useState(null);if(n)throw n;const{activeWorkspace:i}=Fm(),o=f.useCallback((()=>{var e,t;null==(t=(e=i.auth).logout)||t.call(e)}),[i]);f.useEffect((()=>{const e=i.auth.state.subscribe({next:({currentUser:e})=>{t(e)},error:r});return()=>{e.unsubscribe()}}),[i]);const a=dwe(e?.provider),s=a?` through ${a}`:"";return u.jsx(ae,{height:"fill",children:u.jsx(Si,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:{confirmButton:{text:"Sign out",onClick:o,tone:"default"}},children:u.jsxs(ne,{space:4,children:[u.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),u.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",u.jsxs("strong",{children:[e?.name," (",e?.email,")"]}),s,"."]})]})})})}function eEn(e){return u.jsx(ae,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:u.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:u.jsxs(ne,{space:4,children:[u.jsx(Ci,{as:"h1",children:"Workspace not found"}),u.jsx(xn,{children:u.jsx(me,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}function tEn(e){return e.map((e=>"type"===e.kind?`${e.name||"<unnamed>"}(${e.type})`:"property"===e.kind?e.name:null)).filter(Boolean).join(" > ")}function nEn(e){const t=e._validation,n=t?.filter((e=>e.problems.some((e=>"warning"===e.severity))));0!==n?.length&&(console.groupCollapsed(` Schema has ${n?.length} warnings`),n?.forEach((e=>{const t=tEn(e.path);console.group(`%cAt ${t}`,"color: #FF7636"),e.problems.forEach((e=>{console.log(e.message)})),console.groupEnd()})),console.groupEnd())}const rEn={error:"critical",warning:"caution"},Ere=$.code`
  && {
    background: none;
    color: inherit;
  }
`,iEn=$(L)`
  white-space: pre-line;
`;function a5e(e){const{problemGroups:t}=e;Z();const n=f.useMemo((()=>{const e=[];for(const n of t)for(const t of n.problems)e.push({group:n,problem:t});return e}),[t]);return u.jsx(ne,{as:"ul",space:4,children:n.map((({group:e,problem:t},n)=>{const r="error"===t.severity,i="warning"===t.severity,o=aEn(e);return u.jsxs(ae,{border:!0,padding:4,radius:2,tone:rEn[t.severity],children:[u.jsxs(U,{children:[u.jsx(N,{marginRight:3,children:u.jsxs(L,{muted:!0,size:1,children:[r&&u.jsx(ra,{}),i&&u.jsx(or,{})]})}),u.jsx(N,{flex:1,children:u.jsx(L,{size:1,weight:"medium",children:o?u.jsxs(u.Fragment,{children:[ym(o.type),' type "',o.name,'"']}):null})})]}),u.jsx(N,{marginTop:4,children:u.jsx(ae,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx(e6,{separator:u.jsx(L,{muted:!0,size:1,children:""}),children:e.path.map(((e,t)=>{if("type"===e.kind){const n=`${oEn(e.name||`<anonymous ${e.type}>`)}:${e.type}`;return u.jsx(L,{title:n,size:1,textOverflow:"ellipsis",children:u.jsx(Ere,{children:n})},t)}return"property"===e.kind?u.jsx(L,{title:e.name,size:1,textOverflow:"ellipsis",children:u.jsx(Ere,{children:e.name})},t):null}))})})}),u.jsx(N,{as:"ul",marginTop:4,children:u.jsx(N,{as:"li",children:u.jsxs(ne,{space:3,children:[u.jsx(iEn,{muted:!0,size:1,children:t.message}),t.helpId&&u.jsx(L,{muted:!0,size:1,children:u.jsx("a",{href:Zde(t.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},n)}))})}function aEn(e){const t=e.path[0];return"type"===t.kind?{name:t.name||`<anonymous ${t.type}>`,type:t.type}:null}function oEn(e){return null!=e&&e.startsWith("<unnamed_type_@_index")?`[${e.slice(1,-1).split("_")[4]}]`:e}function sEn({schema:e}){var t;const n=(null==(t=e._validation)?void 0:t.filter((e=>e.problems.some((e=>"error"===e.severity)))))||[];return f.useEffect((()=>nEn(e)),[e]),u.jsx(ae,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:u.jsx(Xr,{width:1,children:u.jsxs(ne,{space:5,children:[u.jsx(Ci,{as:"h1",children:"Schema errors"}),u.jsx(a5e,{problemGroups:n})]})})})}const _re={componentStack:null,error:null,eventId:null};function o5e({children:e,heading:t="An error occured"}){const[{error:n,eventId:r},i]=f.useState(_re),o=xt(n)&&"string"==typeof n.message&&n.message,a=xt(n)&&"string"==typeof n.stack&&n.stack,s=f.useCallback((()=>i(_re)),[]),l=f.useCallback((e=>{const t=x5.reportError(e.error,{reactErrorInfo:e.info,errorBoundary:"StudioErrorBoundary"});i({error:e.error,componentStack:e.info.componentStack,eventId:t?.eventId||null})}),[]);return fxe(s),n instanceof wA?u.jsx(QSn,{projectId:n?.projectId}):n instanceof cj?u.jsx(sEn,{schema:n.schema}):n?u.jsx(ae,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:u.jsx(Xr,{width:3,children:u.jsxs(ne,{space:4,children:[u.jsx(Ci,{children:t}),u.jsx("div",{children:u.jsx(me,{onClick:s,text:"Retry",tone:"default"})}),u.jsx(ae,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:u.jsxs(ne,{space:4,children:[o&&u.jsx(ni,{size:1,children:u.jsxs("strong",{children:["Error: ",o]})}),a&&u.jsx(ni,{size:1,children:a}),r&&u.jsxs(ni,{size:1,children:["Event ID: ",r]})]})})]})})}):u.jsx(v1,{onCatch:l,children:e})}const lEn=$(ae)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`;function uEn(){const e=gEn();return u.jsx(e,{})}function cEn(){var e;const{name:t,title:n,tools:r}=jr(),i=wo(),o=Cw(f.useCallback((e=>"string"==typeof e.tool?e.tool:void 0),[])),a=f.useMemo((()=>r.find((e=>e.name===o))),[o,r]),[s,l]=f.useState(!1),[c,d]=f.useState(null),[p,h]=f.useState(!1),m=f.useMemo((()=>{const e=n||Tn(t);return o?`${Tn(o)} | ${e}`:e}),[o,t,n]),g=!(null==a||!a.controlsDocumentTitle);f.useEffect((()=>{g||(document.title=m)}),[m,g]);const y=f.useCallback((e=>{l(e)}),[]),v=f.useCallback((e=>{h(e)}),[]),b=f.useMemo((()=>({searchFullscreenOpen:s,searchFullscreenPortalEl:c,searchOpen:p,onSearchFullscreenOpenChange:y,onSearchOpenChange:v})),[s,c,p,y,v]),x=mEn(),w=vEn(),C=!a&&("desk"===o||!o)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some((e=>"structure"===e.name));return f.useEffect((()=>{C&&i.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})}),[C,i]),u.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[u.jsx(xae.Provider,{value:b,children:u.jsx(x,{})}),C&&u.jsx(MSn,{}),0===r.length&&u.jsx(RSn,{}),r.length>0&&!a&&o&&!C&&u.jsx($Sn,{toolName:o}),s&&u.jsx(lEn,{ref:d,overflow:"auto"}),u.jsx(o5e,{heading:`The ${a?.name} tool crashed`,children:u.jsx(ae,{flex:1,hidden:s,children:a&&o&&u.jsx(QRt,{scope:o,__unsafe_disableScopedSearchParams:null==(e=a.router)?void 0:e.__unsafe_disableScopedSearchParams,children:u.jsx(f.Suspense,{fallback:u.jsx(wn,{showText:!0}),children:u.jsx(w,{activeTool:a})})})})},a?.name)]})}function dEn(e){var t,n;return null==(n=null==(t=e.studio)?void 0:t.components)?void 0:n.toolMenu}function fEn(e){var t,n;return null==(n=null==(t=e.studio)?void 0:t.components)?void 0:n.navbar}function hEn(e){var t,n;return null==(n=null==(t=e.studio)?void 0:t.components)?void 0:n.layout}function pEn(e){var t,n;return null==(n=null==(t=e.studio)?void 0:t.components)?void 0:n.activeToolLayout}function s5e(){return gl({defaultComponent:M_n,pick:dEn})}function mEn(){return gl({defaultComponent:T_n,pick:fEn})}function gEn(){return gl({defaultComponent:cEn,pick:hEn})}function vEn(){return gl({defaultComponent:OSn,pick:pEn})}function yEn(){var e;const t=(null==(e=Jt()._validation)?void 0:e.filter((e=>e.problems.some((e=>"warning"===e.severity)))))||[],n=Md(),{t:r}=Z(),i=f.useId(),[o,a]=f.useState(!1),[s,l]=f.useState(null),c=f.useCallback((()=>a(!0)),[]),d=f.useCallback((()=>{a(!1),s&&s.focus()}),[s]);return 0===t.length?null:u.jsxs(u.Fragment,{children:[u.jsx(Xw,{icon:or,mode:"bleed",onClick:c,ref:l,selected:o,tone:"caution","aria-label":r("configuration-issues.button.label"),tooltipProps:{scheme:n,content:r("configuration-issues.button.tooltip")}}),o&&u.jsx(Si,{header:"Configuration issues",width:2,onClickOutside:d,onClose:d,scheme:n,id:i,children:u.jsxs(ne,{space:4,children:[u.jsxs(ne,{space:3,children:[u.jsxs(L,{as:"h2",size:1,weight:"medium",children:["Found ",t.length," schema warnings"]})," ",u.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),u.jsx(a5e,{problemGroups:t})]})})]})}const l5e=_i({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),bEn=_i({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),kre=_i({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function Py({showOnLoad:e,dialogId:t}){return e&&"free-upgrade-popover"===t.toLowerCase()?"trialStarted":e&&"trial-ending-popover"===t.toLowerCase()?"trialEndingSoon":e&&"project-downgraded-to-free"===t.toLowerCase()?"trialEnded":e||"after-trial-upgrade"!==t.toLowerCase()?"trialActive":"postTrial"}const xEn=$(me)`
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 20;
  background: transparent;
  border-radius: 9999px;
  box-shadow: none;
  color: white;
  --card-fg-color: white;
  :hover {
    --card-fg-color: white;
  }
`,wEn=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 196px;
`,CEn=$(Si)`
  > [data-ui='DialogCard'] {
    max-width: 22.5rem;
  }
`;function SEn({onClose:e,onOpenNext:t,onOpenUrlCallback:n,content:r,open:i}){var o,a,s,l,c;function d(){e("xClick")}const f=Md();return i?u.jsxs(CEn,{id:"free-trial-modal",onClose:e,onClickOutside:function(){e("outsideClick")},padding:!1,__unstable_hideCloseButton:!0,scheme:f,footer:{cancelButton:null!=(o=r.secondaryButton)&&o.text?{text:r.secondaryButton.text,mode:"bleed",tone:"default",onClick:d}:void 0,confirmButton:{text:null==(a=r.ctaButton)?void 0:a.text,mode:"default",tone:"primary",..."openUrl"===(null==(s=r.ctaButton)?void 0:s.action)?{href:r.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:n}:{onClick:"openNext"===(null==(l=r.ctaButton)?void 0:l.action)?t:function(){e("ctaClicked")}}}},children:[u.jsx(xEn,{icon:Ar,mode:"bleed",tone:"default",onClick:d,tabIndex:-1,tooltipProps:null}),r.image&&u.jsx(wEn,{src:r.image.asset.url,alt:null!=(c=r.image.asset.altText)?c:""}),u.jsxs(U,{padding:3,direction:"column",children:[u.jsx(N,{paddingX:2,marginTop:3,children:u.jsx(Ci,{size:2,children:r.headingText})}),u.jsx(N,{marginTop:4,paddingBottom:3,children:u.jsx(nj,{blocks:r.descriptionText})})]})]}):null}const EEn=$.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,_En=({daysLeft:e,totalDays:t})=>{const n=t-e,r=Math.round(n/t*100),i=2*Math.PI*10,o=i*((100-r)/100),a=21.2;return u.jsx(ae,{children:u.jsx(EEn,{children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 21.2 21.2",style:{transform:"rotate(-90deg)"},children:[u.jsx("circle",{r:10,cx:a/2,cy:a/2,fill:"transparent",strokeWidth:1.2,stroke:r>75?uE[600].hex:Kae[400].hex}),u.jsx("circle",{r:10,cx:a/2,cy:a/2,fill:"transparent",strokeWidth:1.2,stroke:"var(--card-border-color)",strokeDasharray:i,strokeDashoffset:o})]})})})},kEn=f.forwardRef((function({toggleShowContent:e,daysLeft:t,totalDays:n},r){const{t:i}=Z();return u.jsxs(me,{mode:"bleed",onClick:e,ref:r,tooltipProps:{content:t?i("free-trial.tooltip.days-count",{count:t}):i("free-trial.tooltip.trial-finished")},children:[u.jsx(L,{size:0,children:u.jsx(J5,{})}),t>0&&u.jsx(_En,{daysLeft:t,totalDays:n})]})})),TEn=f.forwardRef((function({toggleShowContent:e,daysLeft:t},n){const{t:r}=Z();return u.jsx(me,{ref:n,icon:J5,justify:"flex-start",mode:"bleed",size:"large",onClick:e,text:t?r("user-menu.action.free-trial",{count:t}):r("user-menu.action.free-trial-finished")})})),AEn=()=>{const e=f.useContext(vae);if(!e)throw new Error("useFreeTrial must be used within a FreeTrialProvider");return e},jEn=$.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`;function IEn({content:e,handleClose:t,handleOpenNext:n}){var r,i,o,a,s;return u.jsx(ae,{radius:3,overflow:"hidden",width:0,children:u.jsxs(Xr,{width:0,children:[e.image&&u.jsx(jEn,{src:e.image.asset.url,alt:null!=(r=e.image.asset.altText)?r:""}),u.jsxs(U,{padding:3,direction:"column",children:[u.jsx(N,{paddingX:2,marginTop:3,children:u.jsx(Ci,{size:1,children:e.headingText})}),u.jsx(N,{marginTop:4,children:u.jsx(nj,{blocks:e.descriptionText})})]}),u.jsxs(U,{width:"full",gap:3,justify:"flex-end",padding:3,children:[(null==(i=e.secondaryButton)?void 0:i.text)&&u.jsx(me,{mode:"bleed",text:e.secondaryButton.text,tone:"default",onClick:()=>t("xClick")}),u.jsx(me,{mode:"default",tooltipProps:null,text:null==(o=e.ctaButton)?void 0:o.text,autoFocus:!0,tone:"primary",..."openUrl"===(null==(a=e.ctaButton)?void 0:a.action)?{href:e.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:"openNext"===(null==(s=e.ctaButton)?void 0:s.action)?n:()=>t("ctaClicked")}})]})]})})}function u5e({type:e}){const{data:t,showDialog:n,showOnLoad:r,toggleShowContent:i}=AEn(),o=Md(),a=Ss(),[s,l]=f.useState(null),[c,d]=f.useState(!1);f.useEffect((()=>{s&&d(!0)}),[s]);const p=f.useCallback((()=>i(!0)),[i]),h=f.useCallback((()=>{s?.focus(),i(!1)}),[i,s]),m=f.useCallback((e=>n=>{const i=t?.showOnLoad||t?.showOnClick;i&&a.log(bEn,{dialogId:i.id,dialogRevision:i._rev,dialogType:e,source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Py({showOnLoad:r,dialogId:i.id}),dialogDismissAction:n}),h()}),[t,h,r,a]),g=f.useCallback((e=>()=>{const n=t?.showOnLoad||t?.showOnClick;n&&a.log(kre,{dialogId:n.id,dialogRevision:n._rev,dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Py({showOnLoad:r,dialogId:n.id}),dialogCtaType:"openURL"===e?"upgrade":"learnMore"}),p()}),[t,p,a,r]),y=f.useCallback((()=>{null!=t&&t.showOnLoad&&a.log(kre,{dialogId:t.showOnLoad.id,dialogRevision:t.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Py({showOnLoad:!0,dialogId:t.showOnLoad.id}),dialogCtaType:"learnMore"}),p()}),[t?.showOnLoad,t?.daysLeft,p,a]),v=f.useCallback((()=>{null!=t&&t.showOnClick&&a.log(l5e,{dialogId:t.showOnClick.id,dialogRevision:t.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Py({showOnLoad:!0,dialogId:t.showOnClick.id})}),p()}),[t?.showOnClick,t?.daysLeft,a,p]);if(null==t||!t.id)return null;const b=r?t.showOnLoad:t.showOnClick;if(!b)return null;const x="sidebar"===e?u.jsx(TEn,{toggleShowContent:v,daysLeft:t.daysLeft,ref:l}):u.jsx(kEn,{toggleShowContent:v,daysLeft:t.daysLeft,totalDays:t.totalDays,ref:l});return"popover"===b?.dialogType?u.jsx(An,{open:n&&c,size:0,scheme:o,radius:3,portal:!0,placement:"sidebar"===e?"top":"bottom-end",content:u.jsx(IEn,{content:b,handleClose:m("popover"),handleOpenNext:y}),children:x}):u.jsxs(u.Fragment,{children:[x,u.jsx(SEn,{content:b,onClose:m("modal"),onOpenNext:g("openNext"),onOpenUrlCallback:g("openURL"),open:n})]})}const DEn=({children:e})=>{var t;const n=wo(),[r,i]=f.useState(null),[o,a]=f.useState(!1),[s,l]=f.useState(!1),c=Zt({apiVersion:"2023-12-11"}),d=Ss();f.useEffect((()=>{const e=r?.showOnLoad;o&&s&&e&&d.log(l5e,{dialogId:e.id,dialogRevision:e._rev,dialogTrialStage:Py({showOnLoad:s,dialogId:e.id}),dialogTrigger:s?"auto":"fromClick",dialogType:e.dialogType,source:"studio",trialDaysLeft:r.daysLeft})}),[o,r,s,d]);const p=new URLSearchParams(n.state._searchParams).toString();f.useEffect((()=>{const e=new URLSearchParams(p),t=new URLSearchParams;t.append("studioVersion",fv);const n=e.get("trialState");n&&t.append("trialState",n);const r=e.get("seenBefore");r&&t.append("seenBefore",r);const o=t.get("trialState")?"/journey/trial/override":"/journey/trial",s=c.observable.request({url:`${o}?${t.toString()}`}).subscribe((e=>{i(e),null!=e&&e.showOnLoad&&(l(!0),a(!0))}),(()=>{}));return()=>{s.unsubscribe()}}),[c,p]);const h=f.useCallback(((e=!1)=>{var t;s?(l(!1),a(e),null!=(t=r?.showOnLoad)&&t.id&&c.request({url:`/journey/trial/${r?.showOnLoad.id}`,method:"POST"})):a((e=>!e))}),[c,s,null==(t=r?.showOnLoad)?void 0:t.id]);return u.jsx(vae.Provider,{value:{data:r,showDialog:o,toggleShowContent:h,showOnLoad:s},children:e})};function OEn(){return u.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"100%",height:"100%",fill:"#EC5446"}),u.jsx("path",{d:"M10.1637 8.5498C10.1637 11.3854 11.9461 13.0725 15.5143 13.9622L19.2955 14.8235C22.6725 15.5855 24.729 17.4783 24.729 20.5619C24.7553 21.9053 24.3107 23.2168 23.4698 24.2765C23.4698 21.1999 21.8499 19.5376 17.9425 18.538L14.2299 17.7086C11.257 17.0423 8.9623 15.4863 8.9623 12.1368C8.94666 10.8433 9.36932 9.58143 10.1637 8.5498Z",fill:"white"}),u.jsx("path",{d:"M21.1463 19.8069C22.7591 20.8206 23.4662 22.2384 23.4662 24.2729C22.1313 25.953 19.7861 26.8958 17.0297 26.8958C12.3899 26.8958 9.1427 24.6521 8.42111 20.7533H12.8769C13.4506 22.5432 14.9695 23.3726 16.9972 23.3726C19.4722 23.3726 21.1175 22.0753 21.1499 19.7998",fill:"#F8B1AA"}),u.jsx("path",{d:"M12.4801 12.7536C11.7436 12.3236 11.1394 11.7057 10.7316 10.9656C10.3238 10.2255 10.1276 9.3907 10.1638 8.54984C11.4518 6.88396 13.6923 5.8667 16.4235 5.8667C21.1499 5.8667 23.8848 8.31945 24.5595 11.7717H20.2732C19.8006 10.4107 18.6172 9.35089 16.4596 9.35089C14.1541 9.35089 12.5811 10.6694 12.4909 12.7536",fill:"#F8B1AA"})]})}const Tre=25,c5e=2,REn=$(ae).attrs({overflow:"hidden",radius:2})`
  height: ${25}px;
  width: ${25}px;
`,MEn=$(ae)`
  border-radius: ${({theme:e})=>ke(e.sanity.radius[2])};
  display: flex;
  outline: none;
  text-decoration: none;
  &:focus-visible {
    box-shadow: ${({theme:e})=>NA({base:e.sanity.color.base,focusRing:{...e.sanity.focusRing,offset:1}})};
  }
`;function d5e(){const e=Iw(),{activeWorkspace:t}=Fm(),{href:n,onClick:r}=K8({state:{}}),i=e.length>1;return u.jsx(MEn,{as:"a",href:n,onClick:r,children:u.jsxs(U,{align:"center",children:[u.jsx(REn,{children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:i||t.customIcon?u.jsx(qB,{icon:t.icon,size:"small"}):u.jsx(OEn,{})})}),!i&&u.jsx(N,{paddingX:2,children:u.jsx(L,{size:1,weight:"medium",children:t.title})})]})})}function $En({setScheme:e}){const{t:t}=Z(),n=D_e(e,t);return u.jsx(ae,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:u.jsx(ne,{as:"ul",space:1,children:n.map((({icon:e,label:t,name:n,onSelect:r,selected:i,title:o})=>u.jsx(ne,{as:"li",children:u.jsx(me,{"aria-label":t,icon:e,iconRight:i&&u.jsx(na,{}),justify:"flex-start",mode:"bleed",onClick:r,selected:i,size:"large",text:o})},n)))})})}function PEn(){return i9(),null}function FEn(){const{currentUser:e,projectId:t}=jr(),n=!(!e||!Qxe(e,"administrator")),{t:r}=Z();return u.jsx(ae,{borderTop:!0,flex:"none",padding:2,children:u.jsxs(ne,{as:"ul",space:1,children:[u.jsx(ne,{as:"li",children:u.jsx(u5e,{type:"sidebar"})}),u.jsx(ne,{as:"li",children:u.jsx(me,{"aria-label":r("user-menu.action.manage-project-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}`,icon:kx,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.manage-project")})}),n&&u.jsx(ne,{as:"li",children:u.jsx(me,{"aria-label":r("user-menu.action.invite-members-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}/members`,icon:Ix,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.invite-members")})})]})})}const Are={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},LEn={open:{opacity:1},closed:{opacity:0}},NEn={open:{x:"0%"},closed:{x:"-100%"}},BEn=$(go)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,VEn=$(di(ae))`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`,zEn=$(di(ae))`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`,UEn=f.memo((function(e){const{__internal_actions:t,activeToolName:n,isOpen:r,onClose:i,tools:o}=e,a=j_e(),{auth:s,currentUser:l}=jr(),c=Iw(),d=s5e(),{t:p}=Z(),h=f.useCallback((e=>{"Escape"===e.key&&i()}),[i]),m=f.useCallback((e=>{e?.(),i()}),[i]),g=f.useMemo((()=>{var e;return null==(e=t?.filter((e=>"sidebar"===e.location)))?void 0:e.map((e=>u.jsx(me,{icon:e?.icon,justify:"flex-start",mode:"bleed",onClick:()=>m(e.onAction),selected:e.selected,size:"large",text:e.title,width:"fill"},e.name)))}),[t,m]);return u.jsx(xs,{children:r&&u.jsx(fl,{returnFocus:!0,children:u.jsxs(BEn,{onKeyDown:h,children:[u.jsx(VEn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:i,transition:Are,variants:LEn}),u.jsxs(zEn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Are,variants:NEn,children:[u.jsx(ae,{borderBottom:!0,children:u.jsxs(ne,{space:3,padding:3,children:[u.jsxs(U,{align:"center",children:[u.jsx(U,{flex:1,align:"center",paddingRight:2,children:u.jsxs(U,{flex:1,align:"center",children:[u.jsx(gs,{size:1,user:"me"}),u.jsx(N,{flex:1,marginLeft:3,title:l?.name||l?.email,children:u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:l?.name||l?.email})})]})}),u.jsx(me,{icon:Ar,mode:"bleed",onClick:i,tooltipProps:{content:p("user-menu.close-menu")}})]}),c.length>1&&u.jsxs(U,{flex:1,gap:1,children:[u.jsx(d5e,{}),u.jsx(n5e,{})]})]})}),u.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[u.jsx(ae,{flex:"none",padding:2,children:u.jsx(d,{activeToolName:n,closeSidebar:i,context:"sidebar",isSidebarOpen:r,tools:o})}),u.jsxs(U,{direction:"column",children:[g&&u.jsx(ae,{flex:"none",padding:2,children:u.jsx(ne,{space:1,children:g})}),a&&u.jsx($En,{setScheme:a}),u.jsx(PEn,{}),u.jsx(FEn,{})]})]}),s.logout&&u.jsx(ae,{flex:"none",padding:2,borderTop:!0,children:u.jsx(ne,{children:u.jsx(me,{iconRight:lk,justify:"flex-start",mode:"bleed",onClick:s.logout,size:"large",text:p("user-menu.action.sign-out")})})})]})]})})})}));function HEn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every((e=>n.includes(e)))}function WEn(e,t,n){const r=t.title.toLowerCase(),i=n.title.toLowerCase(),o=e.trim().toLowerCase();return r.startsWith(o)&&!i.startsWith(o)?-1:i.startsWith(o)&&!r.startsWith(o)?1:r.includes(o)&&!i.includes(o)?-1:i.includes(o)&&!r.includes(o)?1:0}function GEn(e,t,n){return e.map((e=>({...e,title:n({...e,title:e?.title||e.id}).title}))).sort(((e,t)=>e.title.localeCompare(t.title))).filter((e=>HEn(t,e))).sort(((e,n)=>WEn(t,e,n)))}const YEn=$(An)((()=>de`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `)),qEn=$(Si)((()=>de`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `)),jre=$(U)``,KEn=$(ae)`
  min-height: max-content;
`,ZEn=$(ae)`
  min-height: max-content;
`,XEn=$(U)((e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `})),f5e=33;function JEn(e){const{option:t,currentUser:n,onClick:r,preview:i}=e,o=f.useMemo((()=>({template:t.templateId,type:t.schemaType})),[t.schemaType,t.templateId]),{onClick:a,href:s}=ww({intent:"create",params:o}),l=f.useCallback((e=>{a(e),r(t)}),[a,r,t]),{title:c}=ec(t);return u.jsx(pt,{disabled:t.hasPermission,portal:!0,content:u.jsx(ol,{currentUser:n,context:"create-document"}),children:u.jsx("div",{children:u.jsx(ae,{as:t.hasPermission?"a":"button","data-testid":`create-new-${t.templateId}`,disabled:!t.hasPermission,href:s,marginBottom:1,onClick:l,padding:"inline"===i?3:4,radius:2,children:u.jsx(L,{size:"inline"===i?1:void 0,children:c})})})},t.id)}const Ire=$(U)`
  min-height: 100px;
`;function Dre(e){const{currentUser:t,loading:n,onDocumentClick:r,options:i,preview:o,searchQuery:a,textInputElement:s}=e,{t:l}=Z(),c=i.length>0&&!n,d=f.useCallback((()=>{r()}),[r]),p=f.useCallback((e=>{var t;return!1===(null==(t=i[e])?void 0:t.hasPermission)}),[i]),h=f.useCallback((e=>u.jsx(JEn,{currentUser:t,onClick:d,option:e,preview:o},e.id)),[t,d,o]);return n?u.jsx(wn,{showText:!0}):!c&&a?u.jsx(Ire,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(L,{align:"center",muted:!0,size:1,children:u.jsx(dt,{t:l,i18nKey:"new-document.no-results",values:{searchQuery:a}})})}):c?u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:l("new-document.new-document"),autoFocus:Tm?void 0:"input",getItemDisabled:p,inputElement:s,itemHeight:f5e,items:i,overscan:5,padding:"inline"===o?1:2,paddingBottom:0,renderItem:h}):u.jsx(Ire,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(L,{align:"center",muted:!0,size:1,children:l("new-document.no-document-types-found")})})}const QEn=10;function e_n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:i}=e,[o,a]=f.useState(!1),[s,l]=f.useState(""),[c,d]=f.useState(null),[p,h]=f.useState(null),[m,g]=f.useState(null),[y,v]=f.useState(null),{t:b}=Z(),x=xA(i),w=Md(),C=Un(),k=Jt(),j=i.length>0,S=!t||!j,E=b("new-document.filter-placeholder"),_=b("new-document.title"),A=b("new-document.open-dialog-aria-label"),T=f.useMemo((()=>i.filter((e=>{const t=k.get(e.schemaType);return t&&!Hie(t)}))),[i,k]),D=f.useMemo((()=>GEn(T,s,x)),[T,s,x]),M=f.useCallback((e=>{l(e.currentTarget.value)}),[]),I=f.useCallback((()=>a((e=>!e))),[]),O=f.useCallback((()=>{a(!1),l(""),m?.focus()}),[m]),N=f.useCallback((e=>{"ArrowDown"===e.key&&!o&&a(!0)}),[o]),P=f.useCallback((e=>{("Escape"===e.key||"Tab"===e.key)&&o&&O()}),[O,o]);Fn((()=>{o&&O()}),[m,p,c]);const R=f.useMemo((()=>({currentUser:C,loading:r,onDocumentClick:I,options:D,searchQuery:s,preview:"popover"===n?"inline":"default",textInputElement:y})),[C,D,I,r,n,y,s]),F=f.useMemo((()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:s,disabled:r,icon:ea,onChange:M,placeholder:E,ref:v})),[M,r,E,s]),$=f.useMemo((()=>({"aria-label":A,"data-testid":"new-document-button",disabled:S||r,icon:Qi,text:b("new-document.button"),mode:"ghost",onClick:I,ref:g,selected:o})),[S,I,r,o,A,b]),B=f.useMemo((()=>j?t?u.jsx(L,{size:1,children:b("new-document.create-new-document-label")}):u.jsx(ol,{currentUser:C,context:"create-any-document"}):u.jsx(L,{size:1,children:b("new-document.no-document-types-label")})),[t,C,j,b]),V=f.useMemo((()=>({content:B,disabled:r||o,scheme:w})),[r,o,w,B]);return"dialog"===n?u.jsxs(u.Fragment,{children:[u.jsx(pt,{...V,children:u.jsx("div",{children:u.jsx(me,{...$})})}),o&&u.jsx(qEn,{header:_,id:"create-new-document-dialog",onClickOutside:O,onClose:O,ref:h,scheme:w,width:1,children:u.jsxs(jre,{direction:"column",flex:1,height:"fill",children:[u.jsx(ZEn,{padding:2,borderBottom:!0,children:u.jsx(Vr,{"data-testid":"new-document-button-search-input",...F})}),u.jsx(U,{direction:"column",overflow:"hidden",children:u.jsx(Dre,{...R})})]})})]}):u.jsx(YEn,{constrainSize:!0,onKeyDown:P,open:o,portal:!0,radius:3,ref:d,scheme:w,content:u.jsxs(jre,{direction:"column",flex:1,forwardedAs:fl,height:"fill",returnFocus:!0,children:[u.jsx(KEn,{sizing:"border",children:u.jsx(ne,{children:u.jsx(ae,{borderBottom:!0,padding:1,children:u.jsx(Vr,{...F,fontSize:1,radius:1})})})}),u.jsx(XEn,{$itemHeight:f5e,$maxDisplayedItems:QEn,direction:"column",overflow:"hidden",children:u.jsx(Dre,{...R})})]}),children:u.jsx("div",{children:u.jsx(pt,{...V,children:u.jsx("div",{children:u.jsx(me,{...$,"aria-expanded":o,"aria-haspopup":"true",onKeyDown:N})})})})})}function t_n(){const{__internal:{staticInitialValueTemplateItems:e}}=Sn(),[t,n]=pB({templateItems:e});return{canCreateDocument:t?.some((t=>e.some((e=>e.id===t.id))))||!1,loading:n,options:f.useMemo((()=>e.map((e=>{var n;return{...e,title:e?.title||e.id,hasPermission:(null==(n=t?.find((t=>t.id===e.id)))?void 0:n.granted)||!1}}))),[t,e])}}const n_n=f.memo((function(e){const{presence:t,focused:n,onFocus:r}=e,[i,o]=f.useState(null),{t:a}=Z(),s=F1(t.locations||[],["lastActiveAt"],["desc"]).find((e=>e.documentId)),l=!(null==s||!s.documentId);f.useEffect((()=>{n&&i&&(i.focus(),i.setAttribute("data-selected","")),n||null==i||i.removeAttribute("data-selected")}),[i,n]);const c=f.useCallback((()=>{r(t.user.id)}),[r,t.user.id]),d=f.useMemo((()=>f.forwardRef((function(e,t){return null!=s&&s.path?u.jsx(ml,{...e,intent:"edit",params:{id:s?.documentId,path:_n(s?.path)},ref:t}):null}))),[s]);return u.jsx(qe,{as:s?d:"div","data-as":"a",disabled:!l,onFocus:c,preview:u.jsx(gs,{size:1,user:t.user},t.user.id),ref:o,text:t.user.displayName,tooltipProps:l?void 0:{content:a("presence.not-in-a-document"),placement:"left"}})})),r_n=$(At)`
  max-width: 260px;
`,i_n=$(ne)`
  position: sticky;
  bottom: 0;
  background-color: var(--card-bg-color);
`;function a_n(){const e=Qfn(),{projectId:t}=jr(),n=Md(),{t:r}=Z(),i=e.length>0,[o,a]=f.useState(),s=f.useCallback((e=>{a(e)}),[]),l=f.useCallback((()=>{a("")}),[]),c=f.useCallback((()=>{a("")}),[]),d=f.useMemo((()=>u.jsx(Xw,{icon:Ix,"aria-label":r("presence.aria-label"),mode:"bleed",tone:i?"positive":void 0,tooltipProps:{content:r("presence.tooltip-content")}})),[i,r]),p=f.useMemo((()=>({constrainSize:!0,fallbackPlacements:["bottom"],placement:"bottom",portal:!0,scheme:n})),[n]);return u.jsx(Gt,{button:d,"aria-label":r("presence.aria-label"),id:"global-presence-menu",menu:u.jsxs(r_n,{children:[i&&e.map((e=>u.jsx(n_n,{focused:o===e.user.id,onFocus:s,presence:e},e.user.id))),!i&&u.jsx(N,{padding:3,children:u.jsxs(ne,{space:3,children:[u.jsx(L,{weight:"medium",size:1,children:r("presence.no-one-else-title")}),u.jsx(L,{size:1,muted:!0,children:r("presence.no-one-else-description")})]})}),u.jsxs(i_n,{space:1,children:[u.jsx(rr,{}),u.jsx(qe,{as:"a",href:`https://sanity.io/manage/project/${t}`,iconRight:kx,onFocus:l,rel:"noopener noreferrer",target:"_blank",text:r("presence.action.manage-members")})]})]}),onClose:c,popover:p})}function o_n(e,t){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:[`sanity@${fv}`],locale:t},tag:"module.version-check",json:!0})}function s_n(){const e=Zt({apiVersion:"1"}),t=oh().id;return Jxe(f.useMemo((()=>o_n(e,t)),[e,t]))}function l_n({error:e,isLoading:t,value:n}){var r;const i=null==(r=n?.resources)?void 0:r.sectionArray,o=n?.latestVersion,{t:a}=Z();if(t)return u.jsx(wn,{showText:!0});const s=u.jsxs(u.Fragment,{children:[u.jsx(qe,{as:"a",text:a("help-resources.action.join-our-community"),href:"https://www.sanity.io/exchange/community",target:"_blank"}),u.jsx(qe,{as:"a",text:a("help-resources.action.help-and-support"),href:"https://www.sanity.io/contact/support",target:"_blank"}),u.jsx(qe,{as:"a",text:a("help-resources.action.contact-sales"),href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),u.jsx(rr,{})]});return u.jsxs(u.Fragment,{children:[(void 0===n||e)&&u.jsx("div",{children:s}),!e&&i?.map((e=>e?u.jsx(u_n,{subSection:e},e._key):null)),u.jsxs(N,{padding:3,children:[u.jsx(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:a("help-resources.studio-version",{studioVersion:fv})}),!e&&o&&u.jsx(N,{paddingTop:2,children:u.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:a("help-resources.latest-sanity-version",{latestVersion:o})})})]})]})}function u_n({subSection:e}){var t;return u.jsxs(u.Fragment,{children:[null==(t=e?.items)?void 0:t.map((e=>{if(!e||!e.title)return null;switch(e._type){case"externalLink":return e.url?u.jsx(qe,{as:"a",tone:"default",text:e.title,href:e.url,target:"_blank"},e._key):null;case"internalAction":return e.type?"show-welcome-modal"===e.type&&u.jsx(qe,{text:e.title},e._key):null;default:return null}})),u.jsx(rr,{})]})}const c_n=$(At)`
  max-width: 300px;
  min-width: 200px;
`;function d_n(){const{t:e}=Z(),{value:t,error:n,isLoading:r}=s_n();return u.jsx(Gt,{button:u.jsx(me,{"aria-label":e("help-resources.title"),icon:Cp,mode:"bleed",tooltipProps:{content:e("help-resources.title")}}),id:"menu-button-resources",menu:u.jsx(c_n,{"data-testid":"menu-button-resources",children:u.jsx(l_n,{error:n,isLoading:r,value:t})}),popover:{constrainSize:!0}})}function f_n(){return i9(),null}function h_n({setScheme:e}){const{t:t}=Z(),n=D_e(e,t);return u.jsxs(u.Fragment,{children:[u.jsx(rr,{}),n.map((({icon:e,label:t,name:n,onSelect:r,selected:i,title:o})=>u.jsx(qe,{"aria-label":t,icon:e,onClick:r,pressed:i,text:o,iconRight:i&&u.jsx(na,{}),"data-testid":`color-scheme-${n}`},n)))]})}const p_n=$.div`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`,m_n=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("g",{clipPath:"url(#clip0)",children:[u.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),u.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),u.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),u.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),g_n=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("g",{clipPath:"url(#clip0)",children:u.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),v_n=u.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),u.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),u.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),y_n=({provider:e})=>{const t=e?.startsWith("saml-");return u.jsxs(p_n,{"data-logo":t?"saml":e,children:["google"===e&&m_n,"github"===e&&g_n,"sanity"===e&&u.jsx(ixe,{}),t&&v_n]})};function b_n(){const{currentUser:e,projectId:t}=jr(),n=!(!e||!Qxe(e,"administrator")),{t:r}=Z();return u.jsxs(u.Fragment,{children:[u.jsx(rr,{}),u.jsx(qe,{as:"a","aria-label":r("user-menu.action.manage-project-aria-label"),href:`https://sanity.io/manage/project/${t}`,target:"_blank",text:r("user-menu.action.manage-project"),icon:kx}),n&&u.jsx(qe,{as:"a","aria-label":r("user-menu.action.invite-members-aria-label"),href:`https://sanity.io/manage/project/${t}/members`,target:"_blank",text:r("user-menu.action.invite-members"),icon:Ix})]})}const x_n=$(At)`
  min-width: 200px;
  max-width: 300px;
`,w_n=$(N)`
  position: relative;
  min-width: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
  min-height: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
`;function C_n(){const{currentUser:e,auth:t}=jr(),n=Md(),r=j_e(),i=dwe(e?.provider),{t:o}=Z(),a=f.useMemo((()=>({placement:"bottom",portal:!0,preventOverflow:!0,scheme:n,constrainSize:!0})),[n]);return u.jsx(Gt,{button:u.jsx(wt,{mode:"bleed",padding:0,radius:"full",children:u.jsx(gs,{size:1,user:"me"})}),id:"user-menu",menu:u.jsxs(x_n,{"data-testid":"user-menu",children:[u.jsx(ae,{padding:2,children:u.jsxs(U,{align:"center",children:[u.jsx(pt,{disabled:!i,portal:!0,content:o("user-menu.login-provider",{providerTitle:i}),children:u.jsxs(w_n,{marginRight:3,children:[u.jsx(gs,{size:2,user:"me"}),e?.provider&&u.jsx(y_n,{provider:e.provider})]})}),u.jsxs(ne,{space:2,flex:1,children:[u.jsx(L,{size:1,weight:"medium",textOverflow:"ellipsis",children:e?.name}),u.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e?.email})]})]})}),r&&u.jsx(h_n,{setScheme:r}),u.jsx(f_n,{}),u.jsx(b_n,{}),t.logout&&u.jsxs(u.Fragment,{children:[u.jsx(rr,{}),u.jsx(qe,{iconRight:lk,text:o("user-menu.action.sign-out"),disabled:!t.logout,...t.logout&&{onClick:t.logout}})]})]}),popover:a})}const S_n=[],E_n=$(go)`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`,__n=$(ae)`
  line-height: 0;
`,k_n=$(Rn)`
  grid-template-columns: auto auto auto;
  @media screen and (min-width: ${({theme:e})=>`${e.sanity.media[3]}px`}) {
    grid-template-columns: 1fr auto 1fr;
  }
`;function T_n(e){const{__internal_actions:t=S_n}=e,{name:n,tools:r}=jr(),i=Cw(),o=om(),a="string"==typeof i.tool?i.tool:void 0,s=t_n(),{t:l}=Z(),{onSearchFullscreenOpenChange:c,onSearchOpenChange:d,searchFullscreenOpen:p,searchFullscreenPortalEl:h,searchOpen:m}=f.useContext(xae),g=s5e(),[y,v]=f.useState(!1),b=f.useRef(i),x=f.useRef(n);f.useEffect((()=>{(b.current.tool!==i.tool||n!==x.current)&&v(!1),b.current=i,x.current=n}),[n,i]);const[w,C]=f.useState(null),[k,j]=f.useState(null),S=f.useMemo((()=>({resources:o>1,collapsedPresenceMenu:o<=1,loginStatus:o>1,searchFullscreen:o<=1,configIssues:o>1&&Es,newDocumentFullscreen:o<=1,tools:o>=3})),[o]);f.useEffect((()=>{c(p)}),[p,c]),f.useEffect((()=>{S.searchFullscreen?d(!1):c(!1)}),[c,d,S.searchFullscreen]);const E=f.useCallback((()=>{d(!0)}),[d]),_=f.useCallback((()=>{c(!0)}),[c]),A=f.useCallback((()=>{d(!1)}),[d]),T=f.useCallback((()=>{c(!1),k?.focus()}),[c,k]),D=f.useCallback((()=>{v(!1),w?.focus()}),[w]),M=f.useCallback((()=>{v(!0)}),[]),I=f.useMemo((()=>{var e;return S.tools?null==(e=t?.filter((e=>"topbar"===e.location)))?void 0:e.map((e=>u.jsx(me,{iconRight:e?.icon,mode:"bleed",onClick:e?.onAction,selected:e.selected,text:e.title},e.name))):null}),[t,S.tools]);return u.jsx(DEn,{children:u.jsxs(E_n,{zOffset:100,"data-search-open":p,children:[u.jsx(__n,{borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:u.jsxs(k_n,{gap:1,children:[u.jsx(Sa,{children:u.jsxs(U,{align:"center",gap:2,justify:"flex-start",children:[u.jsxs(U,{align:"center",gap:2,children:[!S.tools&&u.jsx(me,{mode:"bleed",icon:RF,onClick:M,ref:C,tooltipProps:{content:l("user-menu.open-menu"),placement:"bottom"}}),u.jsxs(U,{gap:1,children:[u.jsx(d5e,{}),u.jsx(n5e,{})]})]}),u.jsx(e_n,{...s,modal:S.newDocumentFullscreen?"dialog":"popover"}),!S.searchFullscreen&&u.jsx(gre,{onClick:E,ref:j})]})}),u.jsx(U,{align:"center",justify:"center",children:S.tools&&u.jsx(g,{activeToolName:a,closeSidebar:D,context:"topbar",isSidebarOpen:!1,tools:r})}),u.jsx(Sa,{children:u.jsxs(U,{align:"center",gap:1,justify:"flex-end",children:[u.jsxs(U,{gap:1,children:[u.jsx(nl,{children:u.jsx(YB,{fullscreen:S.searchFullscreen,children:u.jsx(Jc,{element:document.body,children:S.searchFullscreen?u.jsx(y1,{element:h,children:u.jsx(DSn,{onClose:T,onOpen:_,open:p})}):u.jsx(q_e,{onClose:A,onOpen:E,open:m})})})}),S.tools&&u.jsx(u5e,{type:"topbar"}),S.configIssues&&u.jsx(yEn,{}),S.resources&&u.jsx(d_n,{}),u.jsx(a_n,{}),S.searchFullscreen&&u.jsx(gre,{onClick:_,ref:j}),I]}),S.tools&&u.jsx(N,{flex:"none",marginLeft:1,children:u.jsx(C_n,{})})]})})]})}),!S.tools&&u.jsx(UEn,{__internal_actions:t,activeToolName:a,isOpen:y,onClose:D,tools:r})]})})}function A_n(e){return!!e}const j_n=$(Z2e)`
  list-style: none;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
`,I_n=$(U)`
  opacity: 0;
  height: 0.1px;
  overflow: hidden;
`,D_n=f.forwardRef((function(e,t){const{children:n,gap:r,menuButtonProps:i,disableRestoreFocusOnClose:o,onMenuClose:a,collapsed:s,...l}=e,[c,d]=f.useState(null),[p,h]=f.useState([]),[m,g]=f.useState(!1),y=f.useMemo((()=>f.Children.toArray(n).filter(A_n)),[n]),v=f.useMemo((()=>s||!m?null:y.filter((e=>!p.some((t=>t.key===e.key))))),[y,s,p,m]),b=f.useMemo((()=>({root:c,threshold:1,rootMargin:"1px"})),[c]),x=f.useMemo((()=>i?.button||u.jsx(ai,{})),[i]),w=f.useMemo((()=>s?y:y.filter((({key:e})=>p.find((t=>t.key===e))))),[y,p,s]),C=f.useCallback(((e,t)=>{const n=p.some((e=>e.key===t.key));m||g(!0);const r=e.isIntersecting;!n&&!r&&h((e=>[...e,t])),n&&r&&h((e=>e.filter((e=>e.key!==t.key))))}),[p,m,g,h]);return u.jsxs(U,{direction:"column",ref:t,sizing:"border",style:{position:"relative"},...l,children:[u.jsxs(U,{justify:"center",gap:r,flex:1,children:[v,(p.length>0||s)&&u.jsx(eB,{disableRestoreFocusOnClose:o,menuButton:x,menuButtonProps:i,menuOptions:w,onMenuClose:a})]}),u.jsxs(I_n,{justify:"flex-start",gap:r,ref:d,"data-hidden":!0,"aria-hidden":"true",children:[f.cloneElement(x,{disabled:!0,"aria-hidden":!0}),y?.map((e=>u.jsx(j_n,{options:b,onIntersectionChange:t=>C(t[0],e),children:f.cloneElement(e,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},`${e.key}_observer`)))]})]})})),h5e=f.forwardRef((function(e,t){const{name:n,...r}=e,i=Cw(f.useCallback((()=>({tool:n,[n]:void 0})),[n]));return u.jsx(qT,{state:i,...r,ref:t})}));function O_n(e){const{activeToolName:t,tools:n}=e,r=Md(),[i,o]=f.useState(null);T5e({rootElement:i,navigation:["arrows"]});const a=f.useMemo((()=>({popover:{constrainSize:!0,portal:!0,scheme:r}})),[r]),s=f.useMemo((()=>n.map(((e,n)=>{const r=e?.title||Tn(e.name),i=f.forwardRef((function(t,n){return u.jsx(h5e,{...t,ref:n,name:e.name,children:t.children})}));return u.jsx(me,{as:i,"data-as":"a",mode:"bleed",selected:t===e.name,text:r},`${e.name}-${n}`)}))),[t,n]);return u.jsx(U,{justify:"center",marginX:4,children:u.jsx(D_n,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:a,ref:o,children:s})})}function R_n(e){const{activeToolName:t,isVisible:n,tools:r}=e;return f.useMemo((()=>u.jsx(ne,{as:"ul",space:1,children:r.map((e=>{const r=e?.title||Tn(e.name),i=f.forwardRef((function(t,n){return u.jsx(h5e,{...t,ref:n,name:e.name,children:t.children})}));return u.jsx(ne,{as:"li",children:u.jsx(me,{as:i,justify:"flex-start",mode:"bleed",selected:t===e.name,size:"large",tabIndex:n?0:-1,text:r})},e.name)}))})),[t,n,r])}function M_n(e){const{context:t,isSidebarOpen:n,tools:r,...i}=e;return r.length<=1?null:"sidebar"===t?u.jsx(R_n,{isVisible:n,tools:r,...i}):u.jsx(O_n,{tools:r,...i})}const Ore=12,$_n=4;function P_n(e){const t=encodeURIComponent(e);return`url("data:image/svg+xml,%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='${t}' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='${t}' stroke-linecap='round'/%3E%3C/svg%3E%0A")`}const F_n=yDe((e=>{const{color:t,font:n}=Ae(e.theme);return de`
    ::-webkit-resizer {
      background-image: ${P_n(t.icon)};
      background-repeat: no-repeat;
      background-position: bottom right;
    }

    ::-webkit-scrollbar {
      width: ${12}px;
      height: ${12}px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-clip: content-box;
      background-color: var(--card-border-color, ${t.border});
      border: ${4}px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: var(--card-muted-fg-color, ${t.muted.fg});
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    *::selection {
      background-color: ${M5(t.focusRing,.3)};
    }

    html {
      background-color: ${t.bg};
    }

    body {
      scrollbar-gutter: stable;
    }

    #sanity {
      font-family: ${n.text.family};
    }

    b {
      font-weight: ${n.text.weights.medium};
    }

    strong {
      font-weight: ${n.text.weights.medium};
    }
  `})),Rre=Xxe.__sanityErrorChannel;function L_n(){const{push:e}=Ur();return f.useEffect((()=>{if(Rre)return Rre.subscribe((t=>{t.error&&(N_n(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))}))}),[e]),null}function N_n(e){return e instanceof cj||e instanceof wA||e instanceof Hs}function B_n({children:e,AuthenticateComponent:t=r5e,LoadingComponent:n=wn,NotAuthenticatedComponent:r=i5e}){const[i,o]=f.useState(null);if(i)throw i;const[a,s]=f.useState("loading"),{activeWorkspace:l}=Fm();return f.useEffect((()=>{var e,t;null==(t=(e=l.auth).handleCallbackUrl)||t.call(e).catch(o)}),[l.auth]),f.useEffect((()=>{const e=l.auth.state.subscribe({next:({authenticated:e,currentUser:t})=>{var n;0!==(null==(n=t?.roles)?void 0:n.length)?s(e?"logged-in":"logged-out"):s("unauthorized")},error:o});return()=>{e.unsubscribe()}}),[l]),"loading"===a?u.jsx(n,{}):"unauthorized"===a?u.jsx(r,{}):"logged-out"===a?u.jsx(t,{}):u.jsx(u.Fragment,{children:e})}const V_n={toast:[100,11e3]};async function z_n(e){return e.request({uri:"/intake/telemetry-status"})}function U_n(){const e=Zt().withConfig(zt);return f.useEffect((()=>{!async function(){try{const t=await z_n(e);"granted"===t?.status?x5.enable():x5.disable()}catch(e){console.error("Error fetching telemetry status",e)}}()}),[e]),null}const H_n=typeof __SANITY_STAGING__<"u"&&!0===__SANITY_STAGING__,W_n="v1",G_n=H_n?"https://sanity-cdn.work":"https://sanity-cdn.com",Y_n=`${G_n}/${W_n}/modules/`,q_n=async(e,t)=>{try{const n=Date.now()/1e3;return(await fetch(`${Y_n}${e}/default/^${t}/t${n}`,{headers:{accept:"application/json"}})).json().then((e=>e.packageVersion))}catch(t){return void console.error("Failed to fetch latest version for package",e,"Error:",t)}},K_n=async e=>{const t=await Promise.all(Object.entries(e).map((async([e,t])=>[e,await q_n(e,t)])));return Object.fromEntries(t)},Z_n=3e4,X_n=18e5,wO={sanity:fv};function J_n({children:e}){const t=Ur(),{t:n}=Z(),r=f.useRef(null),i=Z_e(),o=f.useCallback((()=>{t.push({id:"new-package-available",title:n("package-version.new-package-available.title"),description:u.jsxs(ne,{space:2,paddingBottom:2,children:[u.jsx(N,{children:n("package-version.new-package-available.description")}),u.jsx(N,{children:u.jsx(wt,{"aria-label":n("package-version.new-package-available.reload-button"),onClick:()=>{window.location.reload()},text:n("package-version.new-package-available.reload-button"),tone:"primary"})})]}),closable:!0,status:"info",duration:20736e5})}),[t,n]);return f.useEffect((()=>{if(!i)return;const e=()=>{r.current&&r.current+X_n>Date.now()||K_n(wO).then((e=>{r.current=Date.now(),e&&Object.entries(e).some((([e,t])=>!(!t||!wO[e])&&s9t.gt(t,wO[e])))&&o()}))};e();const t=setInterval(e,Z_n);return()=>clearInterval(t)}),[i,o]),u.jsx(u.Fragment,{children:e})}const Q_n=sIt();function e5n(e){const t=Zt({apiVersion:"v2023-12-18"}),n=t.config().projectId,r=f.useMemo((()=>hIt(Q_n,{flushInterval:3e4,resolveConsent:()=>t.request({uri:"/intake/telemetry-status"}),sendEvents:e=>t.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:n,batch:e}}),sendBeacon:e=>navigator.sendBeacon(t.getUrl("/intake/batch"),JSON.stringify({projectId:n,batch:e}))})),[t,n]);return f.useEffect((()=>{r.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},studioVersion:fv,plugins:z1(e.config).flatMap((e=>{var t;return(null==(t=e.plugins)?void 0:t.flatMap((e=>({name:e.name||"<unnamed>"}))))||[]}))})}),[e.config,r.logger]),u.jsx(h9t,{store:r,children:e.children})}kp.fonts.code.family,kp.fonts.text.family,my[500].hex,Ny[500].hex,Ny[500].hex,Ny[500].hex,bp[500].hex,my[500].hex,HO[500].hex,uE[500].hex,my[500].hex,my[500].hex,HO[500].hex,uE[500].hex,bp[500].hex;const q2=aoe(),t5n=e=>!0===e.__themer;function Mre(e){var t,n;return{...q2,v2:e.v2,fonts:t5n(e)?q2.fonts:null!=(t=e.fonts)?t:q2.fonts,color:null!=(n=e.color)?n:q2.color}}function n5n({children:e}){const t=Fm().activeWorkspace.theme;if(t.__legacy){const n=t.__dark?"dark":"light";return u.jsx(I5.Provider,{value:!1,children:u.jsx(D5.Provider,{value:n,children:u.jsx(Eb,{scheme:n,theme:Mre(t),children:u.jsx(nl,{children:e})})})})}return u.jsx(Eb,{theme:Mre(t),children:u.jsx(nl,{children:e})})}function r5n(e){const{basePath:t="/",tools:n}=e,r=qi.create("/:tool",(e=>{let t=n.find((t=>t.name===e.tool));return!t&&"desk"===e.tool&&(t=n.find((e=>"structure"===e.name))),t?qi.scope(t.name,"/",t.router):qi.create("/")}));return qi.create(t,[qi.intents("/intent"),r])}function KB(e){const t={}.toolSwitcher||{},n=t.order||[],r=t.hidden||[];if(!n.length&&!r.length)return e;const i=e.reduce(((e,t)=>{const r=t.title||"<unknown>";if(!t.name)return console.warn(`Tool "${r}" does not have the required "name" property`),e;if(e[t.name]){const n=e[t.name].tool.title;return console.warn(`Tools with duplicate name "${t.name}" found ("${r}" and "${n}")`),e}const i=n.indexOf(t.name);return e[t.name]={tool:t,index:-1===i?1/0:i},e}),{}),o=e.filter((e=>-1===r.indexOf(e.name)));return o.sort(((e,t)=>{const n=i[e.name],r=i[t.name],o=n?n.index:1/0,a=r?r.index:1/0;return o===a?0:o-a})),o}$(U)``,$(N).attrs({padding:4})``;const i5n=["template"],a5n=["mode"];function o5n(e,t){const n=KB(e)[0];return t&&!t.tool&&n?Object.assign({},t,{tool:n.name}):t}function s5n(e,t){return t&&(KB(e).find((e=>e.name===t.space))?{...t,tool:t.space,space:void 0}:t)}function l5n(e,t){return o5n(e,s5n(e,t))}function u5n(e,t,n){var r;const{intent:i,params:o,payload:a}=n;if("string"!=typeof i)throw new Error("intent must be a string");if(!xt(o))throw new Error("intent params must be a string");const s=KB(e),l=null!=t&&t.tool?s.find((e=>e.name===t.tool)):null,u=l?s.filter((e=>e!==l)):s;let c=[];"create"===i?c=i5n:"edit"===i&&(c=a5n);const{tool:d}=(l?[l,...u]:s).reduce(((e,n)=>{if(!n||"function"!=typeof n.canHandleIntent)return e;const r=n.canHandleIntent(i,o,t&&t[n.name]);if("boolean"==typeof r)return r&&e.score<0?{score:0,tool:n}:e;if(!xt(r))return e;const a=c.reduce(((e,t)=>t in o&&!0===r[t]?e+1:e),0);return a>e.score?{score:a,tool:n}:e}),{score:-1,tool:null});if(null!=d&&d.getIntentState){const e=d.getIntentState(i,o,t&&t[d.name],a),{_searchParams:n,...s}=e,l={...t,tool:d.name,[d.name]:s};return null!=(r=d.router)&&r.__unsafe_disableScopedSearchParams?l._searchParams=n:s._searchParams=n,{type:"state",isNotFound:!1,state:l}}return{type:"intent",isNotFound:!0,intent:{name:i,params:o}}}function c5n(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function d5n({children:e,LoadingComponent:t,workspace:n}){const{basePath:r,tools:i}=n,o=jCn(),a=f.useMemo((()=>r5n({basePath:r,tools:i})),[r,i]),[s,l]=f5n(o,a,i);return s?u.jsx(XRt,{onNavigate:l,router:a,state:s,children:e}):u.jsx(t,{})}function f5n(e,t,n){var r;const i=f.useMemo((()=>{const n=t.getBasePath(),r=new RegExp(`^${O7(n)}(\\/|$)`,"i");return{subscribe:t=>e.listen(t),getSnapshot:()=>`${e.location.pathname}${e.location.search||""}`,getServerSnapshot:()=>null,selector:e=>"string"==typeof e&&(e=>"/"===n||r.test(e))(e)?c5n(t,e):null}}),[e,t]),o=D7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,bt),a=f.useRef(o);f.useEffect((()=>{var r;if("state"===o?.type&&(null==(r=o.state)||!r.intent)){const r=l5n(n,o.state);r&&r!==o.state&&e.replace(t.encode(r))}}),[o?.state,o?.type,e,t,n]),f.useEffect((()=>{const r=$re(o,t,n,a);r?e.replace(r):a.current=o}),[o,e,t,n]);const s=f.useMemo((()=>({path:r,replace:o})=>{const s=$re(i.selector(r),t,n,a),l="string"==typeof s?s:r;o?e.replace(l):e.push(l)}),[e,t,i,n]);return[null!=(r=o?.state)?r:null,s]}function $re(e,t,n,r){var i,o;if("state"===e?.type&&null!=(i=e.state)&&i.intent){const i=u5n(n,"state"===(null==(o=r.current)?void 0:o.type)?r.current.state:{},e.state);if("state"===i?.type)return t.encode(i.state)}return null}function p5e(e){const[t,n]=f.useState(null);if(t)throw t;const[r,i]=f.useState(null);return f.useEffect((()=>{const t=Ni(e.__internal.sources.map((({source:e})=>e.pipe(pn((e=>{if(e instanceof Hs)return we(e);throw e})))))).pipe(fe((t=>{const n=t.filter((e=>e instanceof Hs));if(n.length)throw new Hs({name:e.name,causes:n,type:"workspace"});return t})),fe((([t,...n])=>({...e,...t,unstable_sources:[t,...n],type:"workspace"})))).subscribe({next:i,error:n});return()=>t.unsubscribe()}),[e]),r}function h5n({children:e,LoadingComponent:t}){const{activeWorkspace:n}=Fm(),r=p5e(n);return r?u.jsx($Ce,{workspace:r,children:u.jsx(zA,{source:r.unstable_sources[0],children:u.jsx(d5n,{LoadingComponent:t,workspace:r,children:e})})}):u.jsx(t,{})}function m5e({ConfigErrorsComponent:e,...t}){const[{error:n},r]=f.useState({error:null});if(n)throw n;return u.jsx(v1,{onCatch:r,children:u.jsx(h5n,{...t})})}function p5n({children:e,config:t,basePath:n,onSchemeChange:r,scheme:i,unstable_history:o,unstable_noAuthBoundary:a}){x5.initialize();const s=u.jsx(m5e,{LoadingComponent:wn,ConfigErrorsComponent:XSn,children:u.jsx(e5n,{config:t,children:u.jsx(uWt,{children:u.jsxs(J_n,{children:[u.jsx(U_n,{}),u.jsx(WSe,{children:e})]})})})});return u.jsx(LCn,{onSchemeChange:r,scheme:i,children:u.jsxs(Fde,{paddingY:7,zOffset:V_n.toast,children:[u.jsx(L_n,{}),u.jsx(o5e,{children:u.jsx(TCn,{config:t,basePath:n,children:u.jsx(FCn,{unstable_history:o,NotFoundComponent:eEn,LoadingComponent:wn,children:u.jsx(n5n,{children:u.jsx(_Gt,{children:a?s:u.jsx(B_n,{LoadingComponent:wn,AuthenticateComponent:r5e,NotAuthenticatedComponent:i5e,children:s})})})})})})]})})}function m5n(e){const{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_globalStyles:o,unstable_history:a,unstable_noAuthBoundary:s}=e;return u.jsxs(p5n,{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_history:a,unstable_noAuthBoundary:s,children:[o&&u.jsx(F_n,{}),u.jsx(uEn,{})]})}function Zt(e){const t=Sn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}Sp.registerLanguage(DPt),Sp.registerLanguage(xMe),Sp.registerLanguage(RPt),Sp.registerLanguage($Pt),Sp.registerLanguage(FPt);const Pre="connecting";function g5e(e,t){const n=_s();return Wr(f.useMemo((()=>n.pair.documentEvents(e,t).pipe(fe((e=>e.type)),fe((e=>"reconnect"!==e)),ht((e=>e?we("connected"):ri(200).pipe(qk("reconnecting")))),xi(Pre),mr())),[t,n.pair,e]),Pre)}function v5e(){return Sn().dataset}function xl(e,t){const n=_s();return Wr(f.useMemo((()=>n.pair.editOperations(e,t)),[t,n.pair,e]))}function y5e(e,t){const n=_s();return Wr(f.useMemo((()=>n.pair.operationEvents(e,t)),[t,n.pair,e]))}function fj(e,t,n="default"){const r=_s();return Wr(f.useMemo((()=>{if("low"===n){const n=r.pair.editState(e,t).pipe(ho());return kn(n.pipe(xa(1)),n.pipe(khe(1),T6((()=>ri(1e3)))))}return r.pair.editState(e,t)}),[t,r.pair,n,e]))}const _4=[],Fre={enabled:!0,error:null,features:_4,isLoading:!0};function g5n({versionedClient:e}){return e.observable.request({uri:"/features",tag:"features"})}const CO=new Map;function Zw(e){const t=Zt(zt),{projectId:n}=Sn();if(!CO.get(n)){const e=g5n({versionedClient:t}).pipe(Bi());CO.set(n,e)}return Wr(f.useMemo((()=>(CO.get(n)||we(_4)).pipe(fe(((t=[])=>({isLoading:!1,enabled:!(null==t||!t.includes(e)),features:t,error:null}))),xi(Fre),pn((e=>we({isLoading:!1,enabled:!1,features:_4,error:e}))))),[e,n]),Fre)}const Lre=5e3,v5n=2e4,b5e=6e4,Nre=60*b5e,x5e={month:"short",day:"numeric"},w5e={...x5e,year:"numeric"},y5n={...w5e,hour:"numeric",minute:"numeric"};function Jp(e,t={}){const n=b5n(e,t),[,r]=f.useReducer((e=>e+1),0);return f.useEffect((()=>{let e;return null!==n.refreshInterval&&function t(n){e=window.setTimeout((()=>{r(),e=window.setTimeout((()=>t(n)),n)}),n)}(n.refreshInterval),()=>{null!==e&&clearTimeout(e)}}),[r,n.refreshInterval]),n.timestamp}function b5n(e,t={}){const{t:n}=Z(),r=oh().id,{timeZone:i,minimal:o}=t,a=e instanceof Date?e:new Date(e),s=!!t.useTemporalPhrase,l=f.useCallback((function(e,t){const n="day"===t&&1===Math.abs(e),i="week"===t&&1===Math.abs(e);return s||n?Dc.relativeTimeFormat(r,{style:o&&!i?"short":"long",numeric:"auto"}).format(e,t):Dc.numberFormat(r,{style:"unit",unit:t,unitDisplay:o?"short":"long"}).format(Math.abs(e))}),[r,s,o]);if(!a.getTime())return{timestamp:"",refreshInterval:null};const u=t.relativeTo||Date.now(),c=_0e(u,a),d=Yvt(u,a);if(c||d)return t.minimal&&0===d?{timestamp:Dc.dateTimeFormat(r,{...x5e,timeZone:i}).format(a),refreshInterval:null}:t.minimal?{timestamp:Dc.dateTimeFormat(r,{...w5e,timeZone:i}).format(a),refreshInterval:null}:{timestamp:Dc.dateTimeFormat(r,{...y5n,timeZone:i}).format(a),refreshInterval:null};const p=Gvt(a,u);if(p)return{timestamp:l(p,"week"),refreshInterval:Nre};const h=E0e(a,u);if(h)return{timestamp:l(h,"day"),refreshInterval:Nre};const m=zvt(a,u);if(m)return{timestamp:l(m,"hour"),refreshInterval:b5e};const g=Uvt(a,u);if(g)return{timestamp:l(g,"minute"),refreshInterval:v5n};const y=k0e(a,u);return Math.abs(y)>10?{timestamp:l(y,"second"),refreshInterval:Lre}:{timestamp:n("relative-time.just-now"),refreshInterval:Lre}}const x5n={isSyncing:!0},Bre={isSyncing:!1};function C5e(e,t){const n=_s();return Wr(f.useMemo((()=>n.pair.consistencyStatus(e,t).pipe(fe((e=>e?Bre:x5n)))),[n.pair,t,e]),Bre)}function hv(){return Sn().templates}function w5n(){return Sn().tools}const Vre={data:[],error:null,loading:!0};let zre=null;function S5e(e){const{documentValue:t,permission:n}=e,r=Jfn(),i=mB(),o=Zt(zt),[a,s]=f.useState(Vre),l=f.useMemo((()=>{const e=r.get().pipe(fe((e=>{var t;return null==(t=e.members)?void 0:t.filter((e=>!e.isRobot))}))).pipe(ht((async e=>{const t=e.map((({id:e})=>e));return await i.getUsers(t)})),fe((e=>e.map((e=>({displayName:e.displayName,id:e.id,granted:!1})))))),a=zre;return hJe([e,a?we(a):o.observable.fetch('*[_type == "system.group"]')]).pipe(kt((async([e,r])=>{a||(zre=r);const i=e?.map((async e=>{const i=[...r.map((t=>t.members.includes(e.id)?t.grants:[]))].flat(),{granted:o}=await BSe(e.id,i,n,t);return{...e,granted:o}}));return await Promise.all(i||[])}))).pipe(fe((e=>({error:null,loading:!1,data:Qf(e,"displayName")}))))}),[o.observable,t,r,i,n]);return f.useEffect((()=>{const e=bi(we(Vre),l).subscribe({next:s,error:e=>{s({data:[],error:e,loading:!1})}});return()=>{e.unsubscribe()}}),[l]),a}const SO=$(L)`
  white-space: nowrap;
`;function J0({absoluteDate:e,draft:t,published:n,singleLine:r}){const{t:i}=Z(),o=t&&"_updatedAt"in t?t._updatedAt:"",a=n&&"_updatedAt"in n?n._updatedAt:"",s=Js({dateStyle:"medium",timeStyle:"short"}),l=o&&s.format(new Date(o)),c=a&&s.format(new Date(a)),d=Jp(o||"",{minimal:!0,useTemporalPhrase:!0}),f=Jp(a||"",{minimal:!0,useTemporalPhrase:!0}),p=e?c:f,h=e?l:d;return u.jsxs(U,{align:r?"center":"flex-start","data-testid":"pane-footer-document-status",direction:r?"row":"column",gap:2,wrap:"nowrap",children:[!p&&u.jsx(SO,{size:1,weight:"medium",children:i("document-status.not-published")}),p&&u.jsx(SO,{size:1,weight:"medium",children:i("document-status.published",{date:p})}),h&&u.jsx(SO,{muted:!0,size:1,wrap:"nowrap",children:i("document-status.edited",{date:h})})]})}const Ure=new WeakMap;let C5n=0;function Hre(e){const t=Ure.get(e);if(t)return t;const n=`${e.name||e.displayName||"<anonymous>"}-${C5n++}`;return Ure.set(e,n),n}function S5n(e){const t=f.useRef(void 0);return ed(e,t.current)||(t.current=e),[t.current]}function E5n(e,t){f.useEffect(e,S5n(t))}const _5n=f.memo((function(e){const{hook:t,args:n,id:r,onNext:i,onReset:o,onRequestUpdate:a}=e,s=t({...n,onComplete:()=>{o(r)}});return E5n((()=>(i(r,s),a(),()=>{i(r,null),a()})),s),null}),((e,t)=>e.args===t.args)),k5n=e=>{const t=Date.now();return setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,Date.now()-t)})}),1)},T5n=e=>clearTimeout(e),A5n=typeof requestIdleCallback>"u"?k5n:requestIdleCallback,j5n=typeof cancelIdleCallback>"u"?T5n:cancelIdleCallback,I5n={trailing:!0};function E5e(e){const{hooks:t,args:n,children:r,group:i,onReset:o}=e,a=f.useRef({}),[s,l]=f.useState(0),[c,d]=f.useState({}),p=f.useRef(null),h=ZUt(f.useCallback((()=>{p.current&&j5n(p.current),p.current=A5n((()=>{p.current=null,l((e=>e+1))}))}),[]),60,I5n),m=f.useCallback(((e,t)=>{if(null===t||i&&!(t?.group||["default"]).includes(i))delete a.current[e];else{const n=a.current[e];a.current[e]={...n,value:t}}}),[i]),g=f.useCallback((e=>{d((t=>({...t,[e]:(t[e]||0)+1}))),o&&o()}),[o]),y=f.useMemo((()=>t.map((e=>Hre(e)))),[t]),v=f.useMemo((()=>y.map((e=>{var t;return null==(t=a.current[e])?void 0:t.value})).filter(wi)),[y,s]);return u.jsxs(u.Fragment,{children:[t.map((e=>{const t=Hre(e),r=c[t]||0;return u.jsx(_5n,{hook:e,id:t,args:n,onNext:m,onRequestUpdate:h,onReset:g},`${t}-${r}`)})),r({states:v})]})}const D5n=$(Xr)((e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return Dt(r,e.$width,(e=>({width:"auto"===e?"none":ke(n[e]),maxWidth:"100%"})))})),O5n=f.forwardRef((function(e,t){const{width:n,...r}=e,i=je(n);return u.jsx(D5n,{...r,"data-ui":"PopoverContainer",$width:i,ref:t})})),R5n=$(An)((()=>de`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `)),M5n=$(go)((e=>{const t=e.theme.sanity.radius[3];return de`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: ${t}px;
    border-top-right-radius: ${t}px;
  `}));function $5n(e){const{children:t,header:n,onClose:r,referenceElement:i,containerRef:o,width:a}=e,s=f.useCallback((()=>{r(),i?.focus()}),[r,i]);return u.jsx(R5n,{portal:!0,constrainSize:!0,content:u.jsx(O5n,{width:a,children:u.jsx(fl,{autoFocus:!0,children:u.jsxs(ne,{ref:o,children:[u.jsx(M5n,{children:u.jsx(N,{padding:2,paddingLeft:4,children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(N,{flex:1,children:u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:n})}),u.jsx(me,{icon:Ar,mode:"bleed",onClick:s,tooltipProps:{content:"Close"}})]})})}),u.jsx(N,{padding:4,children:t})]})})}),open:!0,referenceElement:i})}const P5n=$(ae)((()=>de`
    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `)),gp=f.forwardRef((function(e,t){const{children:n,selected:r,as:i,...o}=e;return u.jsx(P5n,{"data-ui":"PreviewCard",...o,forwardedAs:i,ref:t,selected:r,children:u.jsx(sAe.Provider,{value:{selected:r},children:n})})})),F5n=$(gp)`
  /* this is a hack to avoid layout jumps while previews are loading
there's probably better ways of solving this */
  min-height: 36px;
`,ia={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}},_5e=$.span((e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:i}=e,o=t.width||0,a=t.width||0,s=ia[n].icon;return de`
    position: relative;
    width: ${i?"100%":ke(o)};
    height: ${i?"100%":ke(a)};
    min-width: ${i?void 0:ke(o)};
    border-radius: ${({theme:e})=>ke(e.sanity.radius[r])};
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      // Shared styles for SVG icons
      color: var(--card-icon-color);
      display: block;
      flex: 1;

      // Specific styles for non Sanity icons
      &:not([data-sanity-icon]) {
        height: 1em;
        width: 1em;
        max-width: 1em;
        max-height: 1em;
      }

      // Specific styles for Sanity icons
      &[data-sanity-icon] {
        display: block;
        font-size: calc(${s} / 16 * 1em);
      }
    }

    & > span[data-border] {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.1;
      border-radius: inherit;
      pointer-events: none;
    }
  `}));function pv(e){const{border:t=!0,dimensions:n,layout:r,media:i,radius:o=1,responsive:a=!1,styles:s}=e;return u.jsxs(_5e,{$dimensions:n,$layout:r,$radius:o,$responsive:a,className:s?.media,"data-testid":"Media",children:[L5n({dimensions:n,layout:r,media:i}),t&&u.jsx("span",{"data-border":!0})]})}function L5n(e){const{dimensions:t,layout:n,media:r,styles:i}=e;return ta.isValidElementType(r)?f.createElement(r,{dimensions:t,layout:n}):"string"==typeof r?u.jsx(L,{as:"span",className:i?.mediaString,size:1,children:r}):f.isValidElement(r)?r:null}function N5n(e,t,n){return ta.isValidElementType(e)?f.createElement(e,{layout:t,dimensions:n}):"string"==typeof e?u.jsx("div",{children:e}):e}function Ri(e,t,n){return"string"==typeof e?e:ta.isValidElementType(e)?f.createElement(e,{layout:t}):e||n}_5e.displayName="MediaWrapper";const B5n={...ia.compact.media,aspect:1,fit:"crop",dpr:$u()},Wre=$(U)`
  height: ${ke(ia.compact.media.height)};
  box-sizing: content-box;
`,V5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(160)};
  width: 80%;
`;function z5n(e){const{children:t,isPlaceholder:n,media:r,status:i,title:o}=e,{t:a}=Z(),s=i&&u.jsx(N,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:Ri(i,"compact")});return n?u.jsx(Wre,{align:"center","data-testid":"default-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(Hu,{animated:!0,radius:2,style:ia.compact.media}),u.jsx(ne,{"data-testid":"compact-preview__heading",flex:1,space:2,children:u.jsx(V5n,{})}),s]})}):u.jsxs(Wre,{align:"center","data-testid":"compact-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:[u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(pv,{border:!1,dimensions:B5n,layout:"compact",media:r}),u.jsx(ne,{"data-testid":"compact-preview__header",flex:1,space:2,children:u.jsxs(L,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[o&&Ri(o,"compact"),!o&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("preview.default.title-fallback")})]})}),s]}),t&&u.jsx(N,{marginLeft:1,children:t})]})}const U5n={...ia.default.media,aspect:1,fit:"crop",dpr:$u()},Gre=$(U)`
  height: ${ke(ia.default.media.height)};
  box-sizing: content-box;
`,H5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(160)};
  width: 80%;
`,W5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(120)};
  width: 60%;
`;function k5e(e){const{title:t,subtitle:n,media:r,status:i,isPlaceholder:o,children:a,styles:s}=e,{t:l}=Z(),c=kct(s?.root,!!n&&s?.hasSubtitle),d=i&&u.jsx(N,{className:s?.status,"data-testid":"default-preview__status",children:Ri(i,"default")});return o?u.jsx(Gre,{align:"center",className:s?.placeholder,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(N,{flex:"none",children:u.jsx(Hu,{animated:!0,radius:1,style:ia.default.media})}),u.jsxs(ne,{"data-testid":"default-preview__heading",flex:1,space:2,children:[u.jsx(H5n,{}),u.jsx(W5n,{})]}),u.jsx(N,{flex:"none",padding:1,children:d})]})}):u.jsx(Gre,{align:"center",className:c,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(N,{flex:"none",children:u.jsx(pv,{dimensions:U5n,layout:"default",media:r,styles:s})}),u.jsxs(ne,{className:s?.heading,"data-testid":"default-preview__header",flex:1,space:2,children:[u.jsxs(L,{className:s?.title,size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[t&&Ri(t,"default"),!t&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("preview.default.title-fallback")})]}),n&&u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:s?.subtitle,children:Ri(n,"default")})]}),u.jsx(N,{flex:"none",padding:1,children:d}),a&&u.jsx("div",{className:s?.children,children:a})]})})}const Yre=$(U).attrs({align:"center"})`
  height: ${ke(ia.detail.media.height)};
`,G5n=$(N)`
  white-space: nowrap;
`,Y5n=$(Hu).attrs({animated:!0,radius:2})`
  width: ${ke(ia.detail.media.width)};
  height: ${ke(ia.detail.media.height)};
`,q5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(160)}; /* 80% of 200px */
  width: 80%;
`,K5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(120)}; /* 60% of 200px */
  width: 60%;
`,Z5n=$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(180)}; /* 90% of 200px */
  width: 90%;
`,X5n=$(L)((({theme:e})=>{const{fonts:t}=e.sanity;return de`
    & > span {
      max-height: ${ke(2*t.text.sizes[1].lineHeight)};

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: ${2};
      -webkit-box-orient: vertical;
    }
  `})),J5n={...ia.detail.media,fit:"crop",aspect:1,dpr:$u()};function Q5n(e){const{title:t,subtitle:n,description:r,mediaDimensions:i=J5n,media:o,status:a,children:s,isPlaceholder:l}=e,{t:c}=Z(),d=a&&u.jsx(G5n,{marginLeft:3,paddingRight:1,children:Ri(a,"detail")});return l?u.jsx(Yre,{"data-testid":"detail-preview",paddingLeft:o?2:3,paddingRight:2,paddingY:2,children:u.jsxs(U,{align:"center",flex:1,gap:3,children:[o&&u.jsx(Y5n,{"data-testid":"detail-preview__media"}),u.jsx(U,{align:"center","data-testid":"detail-preview__header",flex:1,children:u.jsxs(ne,{flex:1,space:2,children:[u.jsx(q5n,{}),u.jsx(K5n,{}),r&&u.jsx(N,{marginTop:1,children:u.jsx(Z5n,{})})]})}),d]})}):u.jsx(Yre,{"data-testid":"detail-preview",paddingLeft:o?2:3,paddingRight:2,paddingY:2,children:u.jsxs(U,{align:"center",flex:1,gap:3,children:[o&&u.jsx(pv,{dimensions:i,layout:"detail",media:o}),u.jsxs(U,{align:"center","data-testid":"detail-preview__header",flex:1,children:[u.jsxs(ne,{flex:1,space:2,children:[u.jsxs(L,{textOverflow:"ellipsis",size:1,style:{color:"inherit"},weight:"medium",children:[t&&Ri(t,"detail"),!t&&u.jsx(u.Fragment,{children:c("preview.default.title-fallback")})]}),n&&u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ri(n,"detail")}),r&&u.jsx(N,{marginTop:1,children:u.jsx(X5n,{muted:!0,size:1,children:Ri(r,"detail")})})]}),d]}),s]})})}const El=43,ZB=3,ekn=$.svg`
  width: ${El}px;
  height: ${El}px;
  transform: rotate(-90deg);
`,tkn=$.circle((({theme:e})=>{const{color:t}=e.sanity;return de`
    fill: none;
    stroke: ${et.gray[t.dark?900:100].hex};
    stroke-width: ${ZB}px;
  `})),nkn=$.circle((({theme:e})=>{const{color:t}=e.sanity;return de`
    fill: none;
    stroke: ${et.blue[t.dark?400:500].hex};
    stroke-width: ${ZB}px;
    transition: stroke-dashoffset 75ms;
  `}));function rkn(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=El/2-ZB/2,i=2*Math.PI*r,o=(100-n)/100*i,a=`${El/2} ${El/2} ${El} ${El}`;return u.jsxs(ekn,{viewBox:a,children:[u.jsx(tkn,{cx:El,cy:El,r:r}),u.jsx(nkn,{cx:El,cy:El,r:r,style:{strokeDasharray:i,strokeDashoffset:`${o}px`}})]})}const ikn=.5,akn=$(ae)`
  overflow: hidden;
  overflow: clip;
`,okn=$(ae)((({theme:e})=>{const{color:t}=e.sanity;return de`
    height: ${.5}rem;
    background: ${et.blue[t.dark?400:500].hex};
    transition: transform 75ms;
  `}));function skn(e){const{value:t}=e;return u.jsx(akn,{radius:5,children:u.jsx(okn,{radius:5,style:{transform:`translate3d(${t-100}%, 0, 0)`}})})}const lkn=$(N)`
  position: relative;
`,ukn=$(U).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`,ckn=$(Hu).attrs({animated:!0,radius:2})`
  width: 100%;
  height: 100%;
`,dkn=$(U).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`,fkn=$(ne).attrs({space:2})`
  max-width: ${ke(200)};
`,hkn={...ia.media.media,aspect:1,fit:"crop",dpr:$u()};function pkn(e){const{media:t,mediaDimensions:n=hkn,children:r,isPlaceholder:i,progress:o=-1,subtitle:a,title:s,withBorder:l=!0,withRadius:c=!0}=e,d=n.aspect||1,p=f.useMemo((()=>({paddingBottom:100/d+"%"})),[d]),h=f.useMemo((()=>s&&a?u.jsxs(fkn,{children:[s&&u.jsx(L,{align:"center",size:1,weight:"medium",children:Ri(s,"media")}),a&&u.jsx(L,{align:"center",muted:!0,size:1,children:Ri(a,"media")})]}):null),[a,s]);return u.jsx(N,{padding:2,children:u.jsxs(lkn,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[u.jsx("div",{style:p}),u.jsx(pt,{content:h,disabled:!h,placement:"top",portal:!0,children:u.jsxs(ukn,{children:[i?u.jsx(ckn,{}):u.jsx(pv,{border:l,dimensions:n,layout:"media",media:t,radius:c?1:0,responsive:!0}),"number"==typeof o&&o>-1&&u.jsx(dkn,{children:u.jsx(rkn,{value:o})})]})}),r]})})}const mkn=$(U).attrs({align:"center"})`
  height: ${ke(ia.block.media.height)};
  white-space: nowrap;
  position: relative;
  z-index: 1;
`,gkn=$(ae)`
  overflow: hidden;
  position: relative;
  padding-bottom: ${({$ratio:e})=>e}%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,vkn=$(N).attrs({overflow:"hidden"})`
  border-radius: ${({theme:e})=>e.sanity.radius[1]}px;
`,ykn={...ia.blockImage.media,fit:"fillmax",dpr:$u()},bkn=e=>{const{height:t,width:n}=e;return t&&n?t/n*100:1};function xkn(e){const{actions:t,title:n,subtitle:r,description:i,fallbackTitle:o="Untitled",mediaDimensions:a=ykn,media:s,children:l,status:c}=e;return u.jsxs(vkn,{children:[u.jsxs(ne,{children:[u.jsxs(mkn,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[u.jsxs(ne,{flex:1,space:2,children:[(n||o)&&u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?Ri(n,"block"):o}),r&&u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ri(r,"block")})]}),u.jsxs(U,{gap:1,paddingLeft:1,children:[c&&u.jsx(N,{paddingX:2,paddingY:3,children:Ri(c,"block")}),t]})]}),u.jsx(gkn,{$ratio:bkn(a),__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:u.jsx(pv,{border:!1,dimensions:a,layout:"blockImage",media:s,radius:0,responsive:!0})})]}),i&&u.jsx(N,{paddingX:2,paddingY:3,children:u.jsx(L,{muted:!0,size:1,children:Ri(i,"block")})}),l&&u.jsx("div",{children:l})]})}const wkn={...ia.block.media,aspect:1,fit:"crop",dpr:$u()},Ckn=$(U).attrs({align:"center"})`
  min-height: ${ke(ia.block.media.height)};
`;function Skn(e){const{actions:t,title:n,subtitle:r,description:i,mediaDimensions:o=wkn,media:a,status:s,children:l}=e;return u.jsxs(ne,{"data-testid":"block-preview",space:1,children:[u.jsxs(Ckn,{"data-testid":"block-preview__header",children:[a&&u.jsx(pv,{dimensions:o,layout:"block",media:a}),u.jsxs(N,{flex:1,paddingLeft:a?2:1,children:[u.jsx(L,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?Ri(n,"block"):"Untitled"}),r&&u.jsx(N,{marginTop:2,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ri(r,"block")})}),i&&u.jsx(N,{marginTop:3,children:u.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ri(i,"block")})})]}),u.jsxs(U,{gap:1,paddingLeft:1,children:[s&&u.jsx(N,{paddingX:2,paddingY:3,children:Ri(s,"block")}),t]})]}),l&&u.jsx("div",{"data-testid":"block-preview__children",children:l})]})}const Ekn=$.span`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`,_kn=$.span`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: ${({theme:e})=>ke(e.sanity.radius[1])};
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: ${({theme:e})=>ke(e.sanity.radius[1])};
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`,kkn=$(L).attrs({forwardedAs:"span"})((({theme:e})=>{const t=e.sanity.fonts.text,n=t.sizes[1];return de`
    font-size: calc(${n.fontSize} / 16 * 1em);
    font-weight: ${t.weights.medium};
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: ${n.lineHeight/n.fontSize};
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `})),Tkn={...ia.inline.media,fit:"crop",aspect:1,dpr:$u()};function Akn(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:i=Tkn}=e;return u.jsxs(Ekn,{"data-testid":"inline-preview",children:[r&&u.jsxs(_kn,{"data-testid":"inline-preview-media",children:[N5n(r,"inline",i),u.jsx("span",{})]}),u.jsx(kkn,{"data-testid":"inline-preview-title",size:1,children:Ri(t,"inline",n)})]})}ia.default.media,$u(),$(N)`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`,$(U).attrs({align:"center"})`
  height: ${ke(ia.default.media.height)};
`,$(Jn).attrs({animated:!0,radius:1})`
  max-width: ${ke(160)};
  width: 80%;
`,$(Jn).attrs({animated:!0,radius:1,size:1})`
  max-width: ${ke(120)};
  width: 60%;
`;const jkn=["aria-hidden","disabled","href"],Ikn='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Dkn(e){return[...e.querySelectorAll(Ikn)].filter((e=>!e.hasAttribute("disabled")&&"true"!==e.getAttribute("aria-hidden")))}function T5e(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:i=["arrows"],pause:o=!1,rootElement:a}=e,[s,l]=f.useState(-1),[u,c]=f.useState([]),d=u.length,p=d-1,h="horizontal"===t?"ArrowRight":"ArrowDown",m="horizontal"===t?"ArrowLeft":"ArrowUp",g=f.useCallback((()=>{if(a){const e=Dkn(a);c(e)}}),[a]),y=f.useCallback((e=>{l(e)}),[]),v=f.useCallback((e=>{if(o)return;const t=()=>{e.preventDefault(),l((e=>{const t=(e+p)%d;return r||t!==p?t:e}))},n=()=>{e.preventDefault(),l((e=>{const t=(e+1)%d;return r||0!==t?t:e}))};"Tab"===e.key&&i.includes("tab")&&(e.shiftKey?t():n()),i.includes("arrows")&&(e.key===m&&t(),e.key===h&&n())}),[o,m,i,h,p,d,r]);f.useEffect((()=>{g()}),[g,n,t]),f.useEffect((()=>{const e=new MutationObserver(g);return a&&e.observe(a,{childList:!0,subtree:!0,attributeFilter:jkn}),()=>{e.disconnect()}}),[u,g,a]),f.useEffect((()=>{var e;u.forEach(((e,t)=>{t===s?(e.setAttribute("tabIndex","0"),e.setAttribute("aria-selected","true"),e.focus(),e.onfocus=()=>y(t),e.onblur=()=>y(-1)):(e.setAttribute("tabIndex","-1"),e.setAttribute("aria-selected","false"),e.onfocus=()=>y(t))})),-1===s&&u&&(null==(e=u["last"===n?p:0])||e.setAttribute("tabIndex","0"))}),[u,s,y,n,p]),f.useEffect((()=>(a?.addEventListener("keydown",v),()=>{a?.removeEventListener("keydown",v)})),[v,a])}const Okn=$(me)`
  position: relative;
  // The children in button is rendered inside a span, we need to absolutely position it.
  & > span:nth-child(2) {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 0;
  }
`,Rkn=$.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),Xw=f.forwardRef((function(e,t){const{disabled:n,icon:r,"aria-label":i,mode:o="bleed",text:a,tone:s,...l}=e,c=p1(),d=s&&c.sanity.color.solid[s],p=f.useMemo((()=>({backgroundColor:d?.enabled.bg})),[d]);return u.jsx(Okn,{"data-ui":"StatusButton",...l,"aria-label":i,disabled:!!n,mode:o,ref:t,text:a,icon:r,children:s&&u.jsx(Rkn,{style:p})})})),XB=f.forwardRef((function({children:e,content:t,disabled:n,...r},i){return u.jsx(pt,{...r,content:t,disabled:n||!t,ref:i,children:u.jsx("div",{children:e})})})),A5e=f.forwardRef(((e,t)=>{const{push:n}=Ur();return f.useImperativeHandle(t,(()=>({push:n}))),null}));function j5e(){return f.useContext(uAe)}function dd({children:e,zOffset:t}){const n=j5e()[t];return u.jsx(nl,{zOffset:n,children:e})}function Mkn(e){return{thread:{title:e("delete-thread.title"),body:e("delete-thread.body"),confirmButtonText:e("delete-thread.confirm")},comment:{title:e("delete-comment.title"),body:e("delete-comment.body"),confirmButtonText:e("delete-comment.confirm")}}}function I5e(e){const{isParent:t,onClose:n,commentId:r,onConfirm:i,loading:o,error:a}=e,{t:s}=Z(Gr),l=Mkn(s),{title:c,body:d,confirmButtonText:p}=l[t?"thread":"comment"],h=f.useCallback((()=>{i(r)}),[r,i]);return u.jsx(Si,{footer:{cancelButton:{onClick:n},confirmButton:{loading:o,onClick:h,text:p,tone:"critical"}},header:c,id:"delete-comment-dialog",onClose:n,width:0,children:u.jsxs(ne,{space:4,children:[u.jsx(L,{size:1,children:d}),a&&u.jsx(Nr,{tone:"critical",children:s("delete-dialog.error")})]})})}A5e.displayName="ImperativeToast";const $kn=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"})]})}));f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})}));const Pkn=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})})),D5e=f.forwardRef((function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"})]})})),Fkn=f.forwardRef((function(e,t){return u.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})})),qre=$(qL)`
  svg > ellipse {
    stroke: transparent;
  }
`,Lkn=/[^\p{Alpha}\p{White_Space}]/gu,Nkn=new RegExp("\\p{White_Space}+","u");function Bkn(e){const t=e.replace(Lkn,"").split(Nkn);return 1===t.length?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function hj(e){const{user:t,...n}=e,r=t,i=f.useMemo((()=>Bkn(r?.displayName||"")),[r?.displayName]);return r?u.jsx(qre,{initials:i,src:r?.imageUrl,title:r?.displayName,...n}):u.jsx(qre,{...n})}const Cg=$.div((e=>{var t;const n=Ae(e.theme),{$size:r=1}=e;return de`
    min-width: ${null==(t=n.avatar.sizes[r])?void 0:t.size}px;
  `})),Vkn=ji({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),zkn=ji({type:"block",name:"block",of:[Vkn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),Ukn=Wie({type:"array",name:"body",of:[zkn]}),Hkn=j8.compile({name:"comments",types:[Ukn]}),Wkn=Hkn.get("body"),Gkn=$.span((({theme:e})=>{var t,n,r;const{regular:i}=(null==(t=e.sanity.fonts)?void 0:t.text.weights)||{},{hovered:o}=(null==(n=e.sanity.color)?void 0:n.card)||{},{bg:a}=(null==(r=e.sanity.color.selectable)?void 0:r.caution.pressed)||{};return de`
    font-weight: ${i};
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: ${o.bg};
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: ${a};
    }
  `}));function O5e(e){const{selected:t,userId:n}=e,[r,i]=nc(n),o=Un();return!r||i?u.jsx(Jn,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}):u.jsx(pt,{portal:!0,content:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(U,{children:u.jsx(hj,{user:r})}),u.jsx(L,{size:1,children:r.displayName})]}),children:u.jsxs(Gkn,{"data-selected":t,"data-active":o?.id===n,children:["@",r.displayName]})})}const Ykn=$(L)`
  word-break: break-word;
`;function Zo(e){const{children:t}=e;return u.jsx(Ykn,{size:1,children:t})}const qkn=e=>{const{children:t}=e;return u.jsx(Zo,{children:t})},Kkn=e=>{const{children:t,value:n,selected:r}=e;return"mention"===n._type&&n.userId?u.jsx(O5e,{selected:r,userId:n?.userId}):t},Zkn=9999999;function Xkn(e){const{t:t}=Z(Gr),{onClose:n,onConfirm:r}=e,i=f.useCallback((e=>{e.stopPropagation(),n()}),[n]),o=f.useCallback((e=>{e.stopPropagation(),r()}),[r]);return u.jsx(GL,{tone:"default",children:u.jsx(OE,{zOffset:Zkn,children:u.jsx(Si,{header:t("discard.header"),id:"discard-comment-dialog",onClose:n,width:0,onClickOutside:n,footer:{cancelButton:{onClick:i},confirmButton:{onClick:o,text:t("discard.button-confirm"),tone:"critical"}},children:u.jsx(L,{size:1,children:t("discard.text")})})})})}const Jkn=$(U)``,Qkn={width:"50%"};function eTn(e){const{user:t,onSelect:n}=e,[r]=nc(t.id),{t:i}=Z(Gr),o=u.jsx(hj,{user:r,status:t.granted?void 0:"inactive"}),a=r?u.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):u.jsx(Jn,{size:1,style:Qkn}),s=f.useCallback((()=>{n(t.id)}),[n,t.id]);return u.jsx(ae,{as:"button",disabled:!t.granted,onClick:s,padding:2,radius:2,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(Jkn,{align:"center",gap:2,flex:1,children:[o,u.jsx(N,{children:a})]}),!t.granted&&u.jsx(ja,{fontSize:1,mode:"outline",children:i("mentions.unauthorized-user")})]})})}const Kre=[],tTn=$(ne)({maxWidth:"220px"}),Zre=41,nTn=4,rTn=7,iTn=$(U)({maxHeight:315.5}),aTn=f.forwardRef((function(e,t){const{t:n}=Z(Gr),{loading:r,onSelect:i,options:o=[],inputElement:a}=e,[s,l]=f.useState(""),c=f.useRef(null);f.useImperativeHandle(t,(()=>({setSearchTerm(e){l(e)}})),[]);const d=f.useCallback((e=>u.jsx(eTn,{user:e,onSelect:i})),[i]),p=f.useCallback((e=>{var t;return!(null!=(t=o?.[e])&&t.granted)}),[o]),h=f.useMemo((()=>{var e;if(!s)return o||Kre;const t=R0(s).toLocaleLowerCase(),n=o?.map((e=>({...e,displayName:R0(e.displayName||"").toLocaleLowerCase()})));return(null==(e=n?.filter((e=>{var n;return null==(n=e?.displayName)?void 0:n.includes(t)})))?void 0:e.sort(((e,n)=>{var r,i;const o=null==(r=e.displayName)?void 0:r.startsWith(t),a=null==(i=n.displayName)?void 0:i.startsWith(t);return o&&!a?-1:!o&&a?1:0})))||Kre}),[o,s]);if(r)return u.jsx(tTn,{children:u.jsx(wn,{showText:!0})});const m=a||void 0;return u.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[0===h.length&&u.jsx(N,{padding:5,children:u.jsx(L,{align:"center",size:1,muted:!0,children:n("mentions.no-users-found")})}),h.length>0&&u.jsx(iTn,{direction:"column",flex:1,overflow:"hidden",children:u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:n("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:p,inputElement:m,itemHeight:41,items:h,padding:1,ref:c,renderItem:d})})]})}));function R5e(){const e=f.useContext(Rae);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}const oTn={passive:!0};function sTn(e){const{disabled:t,rootElement:n}=e,[r,i]=f.useState(null),o=f.useMemo((()=>r?{getBoundingClientRect:()=>r}:null),[r]),a=f.useCallback((()=>{if(t)return void i(null);const e=window.getSelection();if(!e||!e.isCollapsed||0===e.rangeCount)return;const r=e.getRangeAt(0);if(null==n||!n.contains(r.commonAncestorContainer))return void i(null);const o=r?.getBoundingClientRect();o&&i(o)}),[t,n]);return f.useEffect((()=>(document.addEventListener("selectionchange",a,oTn),()=>{document.removeEventListener("selectionchange",a)})),[a]),o}const lTn=["bottom","top"],uTn={outline:"none"},Xre=[],cTn=$.span((e=>{const{color:t}=Ae(e.theme);return de`
    color: ${t.input.default.enabled.placeholder};
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `})),dTn=$(An)((({theme:e})=>{const{space:t,radius:n}=e.sanity;return de`
    &[data-placement='bottom'] {
      transform: translateY(${t[1]}px);
    }

    &[data-placement='top'] {
      transform: translateY(-${t[1]}px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: ${n[3]}px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `}));function fTn(e){const{t:t}=Z(Gr),{focusLock:n,onFocus:r,onBlur:i,onKeyDown:o,onSubmit:a,placeholder:s=t("compose.create-comment-placeholder"),renderBlock:l}=e,[c,d]=f.useState(null),p=f.useRef(null),h=f.useRef(null),m=f.useRef(null),g=bm(),{canSubmit:y,closeMentions:v,insertMention:b,mentionOptions:x,mentionsMenuOpen:w,mentionsSearchTerm:C,onBeforeInput:k,value:j}=R5e(),S=sTn({disabled:!w,rootElement:p.current}),E=f.useCallback((()=>u.jsx(cTn,{children:s})),[s]);Fn(f.useCallback((()=>{w&&v()}),[v,w]),[c]);const _=f.useCallback((e=>{switch(e.key){case"Enter":if(e.shiftKey)break;if(w){e.preventDefault(),e.stopPropagation(),v();break}a&&y&&(e.preventDefault(),e.stopPropagation(),a());break;case"Escape":case"ArrowLeft":case"ArrowRight":w&&(e.preventDefault(),e.stopPropagation(),v())}o&&o(e)}),[y,v,w,o,a]),A=f.useMemo((()=>{if(g)return;const e=(j||Xre).slice(-1)[0],t=Mi(e)?e.children.slice(-1)[0]:void 0;if(!t)return;const n={path:[{_key:e._key},"children",{_key:t._key}],offset:ha(t)?t.text.length:0};return{focus:n,anchor:n}}),[j,g]);f.useEffect((()=>{var e;null==(e=m.current)||e.setSearchTerm(C)}),[C]),f.useEffect((()=>{w&&g&&!bt(g.anchor,g.focus)&&v()}),[w,v,g]);const T=u.jsx(aTn,{inputElement:h.current,loading:x.loading,onSelect:b,options:x.data||Xre,ref:m});return u.jsxs("div",{ref:p,children:[u.jsx(dTn,{arrow:!1,constrainSize:!0,content:T,disabled:!w,fallbackPlacements:lTn,open:w,placement:"bottom",ref:d,referenceElement:S}),u.jsx(Eve,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:k,onBlur:i,onFocus:r,onKeyDown:_,ref:h,renderBlock:l,renderChild:Kkn,renderPlaceholder:E,selection:A,style:uTn,tabIndex:n?0:void 0})]})}const iE=$(N)`
  max-height: 20vh;
  overflow-y: auto;
`,hTn=$(rr)({height:20,width:1});function EO(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const pTn=$(ae)((({theme:e})=>{const{color:t,input:n,radius:r}=Ae(e);return de`
    border-radius: ${r[2]}px;
    box-shadow: var(--input-box-shadow);

    --input-box-shadow: ${EO({color:t.input.default.enabled.border,width:n.border.width})};

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      ${iE} {
        min-height: 1em;
      }

      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */
      --input-box-shadow: ${EO({color:"var(--card-focus-ring-color)",width:n.border.width})};
    }

    &:focus-within {
      ${iE} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      ${iE} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
    &:hover {
      --input-box-shadow: ${EO({color:t.input.default.hovered.border,width:n.border.width})};
    }
  `})),mTn=$.div((e=>{var t;return`\n    min-height: ${null==(t=Ae(e.theme).avatar.sizes[1])?void 0:t.size}px;\n    display: flex;\n    align-items: center;\n  `}));function gTn(e){const{avatarSize:t=1,currentUser:n,focusLock:r,onBlur:i,onFocus:o,onKeyDown:a,onSubmit:s,placeholder:l,renderBlock:c,withAvatar:d}=e,[p]=nc(n.id),{canSubmit:h,expandOnFocus:m,focused:g,hasChanges:y,insertAtChar:v,openMentions:b,readOnly:x}=R5e(),{t:w}=Z(Gr),C=d?u.jsx(mTn,{children:u.jsx(hj,{user:p,size:t})}):null,k=f.useCallback((e=>{e.stopPropagation(),v(),b()}),[v,b]);return u.jsxs(U,{align:"flex-start",gap:2,children:[C,u.jsx(pTn,{id:"comment-input-root","data-expand-on-focus":m&&!h?"true":"false","data-focused":g?"true":"false",flex:1,sizing:"border",tone:x?"transparent":"default",children:u.jsxs(ne,{children:[u.jsx(iE,{"data-ui":"CommentInputEditableWrap",paddingX:1,paddingY:2,sizing:"border",children:u.jsx(fTn,{focusLock:r,onBlur:i,onFocus:o,onKeyDown:a,onSubmit:s,placeholder:l,renderBlock:c})}),u.jsx(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:u.jsxs(Sa,{children:[u.jsx(me,{"aria-label":w("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:x,icon:Pkn,mode:"bleed",type:"button",onClick:k,tooltipProps:{content:w("compose.mention-user-tooltip")}}),s&&u.jsxs(u.Fragment,{children:[u.jsx(hTn,{}),u.jsx(me,{"aria-label":w("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!h||!y||x,icon:Fkn,mode:y&&h?"default":"bleed",onClick:s,tone:y&&h?"primary":"default",tooltipProps:{content:w("compose.send-comment-tooltip")}})]})]})})]})})]})}function vTn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:i=!1,mentionOptions:o,onMentionMenuOpenChange:a,value:s,readOnly:l}=e,c=zi(),[d,p]=f.useState(!1),[h,m]=f.useState(""),[g,y]=f.useState(null),v=f.useMemo((()=>Mm(s)),[s]),b=TEe(s),x=f.useCallback((()=>{l||Ie.focus(c)}),[c,l]),w=f.useCallback((()=>{p(!1),m(""),y(null)}),[]),C=f.useCallback((()=>{p(!0),m(""),p(!0),y(Ie.getSelection(c))}),[c]),k=f.useCallback((e=>{const t=Ie.getSelection(c),n=t?t.focus.offset:0,r=Ie.focusChild(c),i=ha(r)&&r||void 0,o="insertText"===e.inputType,a="deleteContentBackward"===e.inputType,s=o&&"@"===e.data,l=i?.text.slice(0,Math.max(0,n)).lastIndexOf("@")||0,u=" "===i?.text.slice(n-1,n),d=o&&" "===e.data&&!h;if(s&&(n<1||u))C();else if(d||a&&(1===i?.text.length||l===(i?.text.length||0)-1))w();else if(ha(r)){let t=r.text.slice(l+1,n);o&&(t+=e.data),a&&(t=t.slice(0,Math.max(0,t.length-1))),m(t)}}),[w,c,h,C]),j=f.useCallback((()=>{p(!0),Ie.focus(c),Ie.insertChild(c,c.schemaTypes.span,{text:"@"}),y(Ie.getSelection(c))}),[c]);Ja(d,(()=>a?.(d)));const S=f.useCallback((e=>{var t;const n=c.schemaTypes.inlineObjects.find((e=>"mention"===e.name)),[r,i]=g&&Ie.findByPath(c,g.focus.path)||[];if(r&&ha(r)&&i&&n){Ie.focus(c);const o=null==(t=Ie.getSelection(c))?void 0:t.focus.offset;typeof o<"u"&&(Ie.delete(c,{anchor:{path:i,offset:r.text.lastIndexOf("@")},focus:{path:i,offset:o}},{mode:"selected"}),Ie.insertChild(c,n,{userId:e}),Ie.insertChild(c,c.schemaTypes.span,{text:" "}))}}),[c,g]),E=f.useMemo((()=>({canSubmit:v,closeMentions:w,editor:c,expandOnFocus:n,focused:r,focusEditor:x,focusOnMount:i,hasChanges:b,insertAtChar:j,insertMention:S,mentionOptions:o,mentionsMenuOpen:d,mentionsSearchTerm:h,onBeforeInput:k,openMentions:C,readOnly:!!l,value:s})),[v,w,c,n,r,x,i,b,j,S,o,d,h,k,C,l,s]);return u.jsx(Rae.Provider,{value:E,children:t})}const _O=[],yTn={behavior:"smooth",block:"center",inline:"center"},Lm=f.forwardRef((function(e,t){const{avatarSize:n,currentUser:r,expandOnFocus:i,focusLock:o=!1,focusOnMount:a,mentionOptions:s,onBlur:l,onChange:c,onDiscardCancel:d,onDiscardConfirm:p,onFocus:h,onKeyDown:m,onMentionMenuOpenChange:g,onSubmit:y,placeholder:v,readOnly:b,renderBlock:x=qkn,value:w=_O,withAvatar:C=!0}=e,[k,j]=f.useState(!1),S=f.useRef(null),E=f.useRef(null),[_,A]=f.useState(!1),T=f.useRef(null),D=f.useRef(null),M=f.useRef(null),[I,O]=f.useState(D_()),N=f.useCallback((()=>{requestAnimationFrame((()=>{S.current&&Ie.focus(S.current)}))}),[]),P=f.useCallback((()=>{O(D_())}),[]),R=f.useCallback((e=>{if("ready"===e.type&&a&&N(),"focus"===e.type&&j(!0),"blur"===e.type&&j(!1),"patch"===e.type&&S.current){const e=Ie.getValue(S.current);c(e||_O)}}),[a,c,N]),F=f.useCallback((()=>{var e;null==(e=E.current)||e.scrollIntoView(yTn)}),[]),L=f.useCallback((()=>{y?.(),P(),N(),F()}),[y,N,P,F]),$=f.useCallback((()=>{p(),P()}),[p,P]),B=f.useMemo((()=>({open:()=>{A(!0)},close:()=>{A(!1),N()}})),[N]);f.useImperativeHandle(t,(()=>({focus:N,blur(){S.current&&Ie.blur(S.current)},scrollTo:F,reset:P,discardDialogController:B})),[B,N,P,F]);const V=f.useCallback((e=>{if(!o)return;const t=e.target,n=M.current;n&&t===T.current?JL(n):n&&t===D.current&&Ap(n)}),[o]);return u.jsxs(u.Fragment,{children:[_&&d&&u.jsx(Xkn,{onClose:d,onConfirm:$}),u.jsx(ne,{ref:E,"data-testid":"comment-input",onFocus:V,children:u.jsx(Ie,{onChange:R,readOnly:b,ref:S,schemaType:Wkn,value:w||_O,children:u.jsxs(vTn,{expandOnFocus:i,focused:k,focusOnMount:a,mentionOptions:s,onMentionMenuOpenChange:g,readOnly:b,value:w,children:[o&&u.jsx("div",{ref:T,tabIndex:0}),u.jsx(ne,{ref:M,children:u.jsx(gTn,{avatarSize:n,currentUser:r,focusLock:o,onBlur:l,onFocus:h,onKeyDown:m,onSubmit:y&&L,placeholder:v,renderBlock:x,withAvatar:C})}),o&&u.jsx("div",{ref:D,tabIndex:0})]})},I)})]})})),bTn=$.span((({theme:e})=>{var t;const n=null==(t=e.sanity.v2)?void 0:t.color._dark,r=et[Ac][n?800:100].hex,i=et[Ac][n?700:300].hex,o=et[Ac][n?700:200].hex,a=et[Ac][n?600:400].hex;return de`
    box-sizing: border-box;
    transition:
      background-color 100ms ease,
      border-color 100ms ease;

    // Make sure that child elements appropriately blend with the
    // background of the highlight span
    * {
      mix-blend-mode: ${n?"screen":"multiply"};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {
      background-color: ${r};
      border-bottom: 2px solid ${i};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {
      background-color: ${et[Ac][n?700:200].hex};
      border-bottom: 2px solid ${et[Ac][n?600:400].hex};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {
      background-color: ${o};
      border-bottom: 2px solid ${a};
    }

    &[data-inline-comment-state='authoring'] {
      background-color: ${r};
      border-bottom: 2px solid ${i};
    }
  `})),M5e=f.forwardRef((function(e,t){const{children:n,isAdded:r,isAuthoring:i,isHovered:o,isNested:a,...s}=e;return u.jsx(bTn,{...s,"data-hovered":o?"true":"false","data-inline-comment-nested":a?"true":"false","data-inline-comment-state":r?"added":i?"authoring":void 0,ref:t,children:n})})),xTn=$(ne)((()=>de`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `)),wTn=[],CTn={block:{normal:({children:e})=>u.jsx(Zo,{children:e}),h1:({children:e})=>u.jsx(Zo,{children:e}),h2:({children:e})=>u.jsx(Zo,{children:e}),h3:({children:e})=>u.jsx(Zo,{children:e}),h4:({children:e})=>u.jsx(Zo,{children:e}),h5:({children:e})=>u.jsx(Zo,{children:e}),h6:({children:e})=>u.jsx(Zo,{children:e}),blockquote:({children:e})=>u.jsx(Zo,{children:e}),code:({children:e})=>u.jsx(Zo,{children:e})},list:{bullet:({children:e})=>e,number:({children:e})=>u.jsx(u.Fragment,{children:e}),checkmarks:({children:e})=>u.jsx(u.Fragment,{children:e})},listItem:{bullet:({children:e})=>u.jsx(Zo,{children:e}),number:({children:e})=>u.jsx(Zo,{children:e}),checkmarks:({children:e})=>u.jsx(Zo,{children:e})},marks:{strong:({children:e})=>u.jsx(u.Fragment,{children:e}),em:({children:e})=>u.jsx(u.Fragment,{children:e}),code:({children:e})=>u.jsx(u.Fragment,{children:e}),underline:({children:e})=>u.jsx(u.Fragment,{children:e}),strikeThrough:({children:e})=>u.jsx(u.Fragment,{children:e}),link:({children:e})=>u.jsx(u.Fragment,{children:e})},types:{mention:e=>{var t;return u.jsx(O5e,{userId:null==(t=e?.value)?void 0:t.userId,selected:!1})}}};function STn(e){const{blocks:t}=e;return u.jsx(xTn,{children:u.jsx(Q0e,{value:t||wTn,components:CTn})})}const ly=3,JB=$(L)`
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', 'EmojiOne Color', 'Android Emoji', sans-serif;
`,ETn=6;function _Tn(e){const{options:t,onSelect:n}=e,{t:r}=Z(Gr),[i,o]=f.useState([]),[a,s]=f.useState(null),[l,c]=f.useState(0),d=f.useCallback((e=>{const t=i.length;"ArrowRight"===e.key&&c((e=>(e+1)%t)),"ArrowLeft"===e.key&&c((e=>(e-1+t)%t))}),[i.length]),p=f.useCallback((e=>{const r=i.indexOf(e.currentTarget);c(r),n(t[r])}),[i,n,t]);return f.useEffect((()=>{if(a){const e=a.querySelectorAll("button");o(Array.from(e))}}),[a]),f.useEffect((()=>{i.length>0&&i[l].focus()}),[i,l]),u.jsx(Rn,{columns:ETn,gap:1,onKeyDown:d,ref:s,role:"menu",children:t.map((e=>{const t=p5[e.shortName];return u.jsx(wt,{"aria-label":r("reactions.react-with-aria-label",{reactionName:e.title||e.shortName}),mode:"bleed",onClick:p,padding:2,role:"menuitem",tabIndex:-1,children:u.jsx(JB,{align:"center",size:2,children:t})},e.shortName)}))})}const kTn=["top","bottom"];function $5e(e){const{onMenuClose:t,onMenuOpen:n,onSelect:r,options:i,readOnly:o,renderMenuButton:a,mode:s}=e,[l,c]=f.useState(null),[d,p]=f.useState(null),[h,m]=f.useState(!1),{t:g}=Z(Gr),y=f.useCallback((()=>{const e=!h;m(e),e?n?.():t?.()}),[t,n,h]),v=f.useCallback((()=>{h&&(m(!1),t?.())}),[h,t]),b=f.useCallback((()=>{h&&(v(),l?.focus())}),[l,v,h]),x=f.useCallback((e=>{const{key:t,shiftKey:n}=e;(n&&"Tab"===t||"Escape"===t||"Tab"===t)&&b()}),[b]);Fn(v,[d,l]);const w=f.useCallback((e=>{r(e),v()}),[v,r]),C=f.useMemo((()=>{const e=a({open:h,tooltipContent:g("upsell"===s?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:g});return f.cloneElement(e,{"aria-expanded":h,"aria-haspopup":"true",disabled:o||"upsell"===s,id:"reactions-menu-button",onClick:y,ref:c})}),[y,h,o,a,g,s]);return u.jsx(An,{constrainSize:!0,content:u.jsx(ae,{"aria-labelledby":"reactions-menu-button",onKeyDown:x,padding:1,radius:3,tone:"default",children:u.jsx(_Tn,{onSelect:w,options:i})}),fallbackPlacements:kTn,open:h,placement:"bottom",portal:!0,ref:p,tone:"default",children:C})}const TTn=1,ATn=$(ne)`
  max-width: 180px;
`,jTn=$.div`
  display: inline-block;
`,Ng=$(L).attrs({size:1})`
  display: inline-block !important;

  & > span {
    white-space: break-spaces;
  }
`,ITn=$(N)`
  line-height: 1;
  text-align: center;
`,Jre=/^\S+/;function Qre(e){const{currentUserId:t,isFirst:n,userId:r}=e,[i]=nc(r),{t:o}=Z(Gr);return t===r?o("reactions.user-list.you",{context:n?"leading":void 0,replace:{name:i?.displayName}}):i?.displayName||o("reactions.user-list.unknown-user-fallback-name")}function DTn(e){const{children:t,...n}=e;return u.jsx(pt,{content:u.jsx(RTn,{...n}),placement:"bottom",portal:!0,children:u.jsx("div",{children:t})})}function OTn({currentUserId:e,userIds:t}){const n=jm({style:"long",type:"conjunction"});if(0===t.length)return null;const r=n.formatToParts(t),i=[];for(let t=0;t<r.length;t++){const n=r[t];if("literal"===n.type){i.push(u.jsx(Ng,{children:n.value},`literal-${t}`));continue}const o=r[t+1];if(o&&"literal"===o.type&&Jre.test(o.value)){const[r=""]=o.value.match(Jre)||[];i.push(u.jsxs(jTn,{children:[u.jsx(Ng,{weight:"medium",children:u.jsx(Qre,{currentUserId:e,isFirst:0===t,userId:n.value})}),u.jsx(Ng,{children:r})]},n.value)),o.value=o.value.slice(r.length)}else i.push(u.jsx(Ng,{weight:"medium",children:u.jsx(Qre,{currentUserId:e,isFirst:0===t,userId:n.value})},n.value))}return i}function RTn(e){const{currentUser:t,reactionName:n,userIds:r}=e,{t:i}=Z(Gr),o=f.useCallback((()=>t?u.jsx(OTn,{currentUserId:t.id,userIds:r}):null),[t,r]);return u.jsxs(ATn,{padding:1,children:[u.jsx(U,{justify:"center",paddingBottom:2,paddingTop:1,children:u.jsx(JB,{size:4,children:p5[n]})}),u.jsx(ITn,{children:u.jsx(dt,{t:i,i18nKey:"reactions.users-reacted-with-reaction",values:{reactionName:n},components:{UserList:o,ReactionName:()=>u.jsx(Ng,{muted:!0,children:n}),Text:({children:e})=>u.jsxs(u.Fragment,{children:[u.jsx(Ng,{muted:!0,children:e})," ",u.jsx("wbr",{})," "]})}})})]})}const eie=$(ae)`
  background: none;
`;function MTn(e){const t=e.reduce(((e,t)=>{const{shortName:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.entries(t).sort((([t],[n])=>e.findIndex((e=>e.shortName===t))-e.findIndex((e=>e.shortName===n))))}const $Tn=({open:e,tooltipContent:t})=>u.jsx(wt,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:e,children:u.jsx(U,{paddingX:3,paddingY:2,children:u.jsx(pt,{animate:!0,content:t,disabled:e,children:u.jsx(L,{size:1,children:u.jsx(D5e,{})})})})}),PTn=f.memo((function(e){const{currentUser:t,onSelect:n,reactions:r,readOnly:i,mode:o}=e,a=f.useCallback((e=>{const t=d4.find((t=>t.shortName===e));t&&n(t)}),[n]),s=f.useMemo((()=>r.filter((e=>e.userId===t?.id)).map((e=>e.shortName))),[t?.id,r]),l=f.useMemo((()=>MTn(r).filter((([e])=>p5[e]))),[r]),c=f.useRef(Object.keys(Object.fromEntries(l))),d=f.useMemo((()=>{const e=l.sort((([e],[t])=>{const n=c.current.indexOf(e),r=c.current.indexOf(t);return-1===n?1:-1===r?-1:n-r}));return c.current=e.map((([e])=>e)),e}),[l]);return u.jsx(U,{align:"center",gap:1,wrap:"wrap",children:u.jsxs(Sa,{children:[d.map((([e,n])=>{const r=s.includes(e),l=n.map((e=>e.userId)),c=p5[e];return u.jsx(DTn,{currentUser:t,reactionName:e,userIds:l,children:u.jsx(eie,{tone:"default",children:u.jsx(wt,{disabled:i||"upsell"===o,mode:"ghost",onClick:()=>a(e),padding:2,radius:"full",selected:r,tone:r?"primary":"default",children:u.jsxs(U,{align:"center",gap:1,children:[u.jsx(JB,{size:1,children:c}),u.jsx(L,{size:0,weight:r?"semibold":"medium",children:n?.length})]})})})},e)})),u.jsx(eie,{tone:"default",children:u.jsx($5e,{mode:o,onSelect:e=>a(e.shortName),options:d4,readOnly:i,renderMenuButton:$Tn})})]})})})),FTn=({open:e,tooltipContent:t,t:n})=>u.jsx(me,{"aria-label":n("list-item.context-menu-add-reaction-aria-label"),icon:D5e,mode:"bleed",selected:e,tooltipProps:{content:t}}),LTn={placement:"bottom-end"},NTn=$(ae)`
  &:empty {
    display: none;
  }
`;function BTn(e){const{canDelete:t,canEdit:n,isParent:r,mode:i,onCopyLink:o,onDeleteStart:a,onEditStart:s,onMenuClose:l,onMenuOpen:c,onReactionSelect:d,onStatusChange:f,readOnly:p,status:h}=e,m=!!(o||a||s),{t:g}=Z(Gr),y=!!(t||n||o);return u.jsx(Sa,{children:u.jsx(U,{children:u.jsxs(NTn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[d&&u.jsx($5e,{mode:i,onMenuClose:l,onMenuOpen:c,onSelect:d,options:d4,readOnly:p,renderMenuButton:FTn}),r&&f&&u.jsx(me,{"aria-label":g("open"===h?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:p,icon:"open"===h?Wf:gb,mode:"bleed",onClick:f,tooltipProps:{content:g("open"===h?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),y&&u.jsx(Gt,{id:"comment-actions-menu",button:u.jsx(ai,{"aria-label":g("list-item.open-menu-aria-label"),disabled:p,hidden:!m}),onOpen:c,onClose:l,menu:u.jsxs(At,{children:[u.jsx(qe,{hidden:!n,icon:Ou,onClick:s,text:g("list-item.edit-comment"),tooltipProps:"upsell"===i?{content:g("list-item.edit-comment-upsell")}:void 0,disabled:"upsell"===i}),u.jsx(qe,{hidden:!t,icon:Br,onClick:a,text:g("list-item.delete-comment"),tone:"critical"}),o&&u.jsx(rr,{hidden:!t&&!n}),u.jsx(qe,{hidden:!o,icon:cs,onClick:o,text:g("list-item.copy-link")})]}),popover:LTn})]})})})}function VTn(e,t=250){return e.length<=t?e:`${e.slice(0,t)}...`}const zTn=$(N).attrs({marginLeft:1,marginRight:2})`
  &:not([data-hidden]) {
    display: inline;
  }
`,UTn=$(ne)((({theme:e,$hasReferencedValue:t})=>{var n;const r=null==(n=e.sanity.v2)?void 0:n.color._dark,i=t?Ac:"gray";return de`
    border-left: 2px solid ${r?et[i][700].hex:et[i][300].hex};
    word-break: break-word;
  `}));function HTn(e){const{hasReferencedValue:t,value:n}=e,{t:r}=Z(Gr),i=r("list-item.missing-referenced-value-tooltip-content"),o=f.useMemo((()=>{if(Array.isArray(n)&&n?.filter(Mi).length>0){const e=n?.map(X0e).join(" ");return VTn(e)}return null}),[n]);return o?u.jsx(UTn,{$hasReferencedValue:!!t,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:u.jsx(U,{align:"flex-start",children:u.jsxs(L,{size:1,muted:!0,children:[!t&&u.jsx(pt,{content:i,children:u.jsx(zTn,{children:u.jsx(DF,{})})}),o]})})}):null}const tie=e=>e.stopPropagation(),Fy=$(N)``,WTn={width:"50%"},GTn=[],nie=$(L)((({theme:e})=>{const t=e.sanity.color.dark;return de`
    min-width: max-content;
    --card-fg-color: ${et.gray[t?200:800].hex};
    color: var(--card-fg-color);
  `})),YTn=$(U)((e=>{var t;return de`
    min-height: ${null==(t=Ae(e.theme).avatar.sizes[e.$size])?void 0:t.size}px;
  `})),qTn=$(L)((({theme:e})=>{const t=e.sanity.color.dark;return de`
    --card-fg-color: ${et.gray[t?200:800].hex};
    color: var(--card-fg-color);
  `})),KTn=$(ne)`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`,ZTn=$(U)((e=>{var t;return de`
    min-height: ${null==(t=Ae(e.theme).avatar.sizes[e.$size])?void 0:t.size}px;
  `})),XTn=$(ae)`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`,JTn=$(ne)((({theme:e})=>{const{space:t}=e.sanity;return de`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      ${Fy} {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(${t[1]}px, -${t[1]}px);
      }

      ${Fy} {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        ${Fy} {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      ${Fy} {
        opacity: 1;
      }
    }
  `})),QTn={useTemporalPhrase:!0};function rie(e){var t;const{avatarSize:n=1,canDelete:r,canEdit:i,comment:o,currentUser:a,hasError:s,hasReferencedValue:l,intent:c,isParent:d,isRetrying:p,mentionOptions:h,mode:m,onCopyLink:g,onCreateRetry:y,onDelete:v,onEdit:b,onInputKeyDown:x,onReactionSelect:w,onStatusChange:C,readOnly:k,withAvatar:j=!0}=e,{_createdAt:S,authorId:E,message:_,_id:A,lastEditedAt:T}=o,[D]=nc(E),{t:M}=Z(Gr),[I,O]=f.useState(_),[P,R]=f.useState(!1),[F,$]=f.useState(null),B=f.useRef(_),[V,z]=f.useState(!1),H=f.useRef(null),W=TEe(I),q=f.useMemo((()=>Mm(I)),[I]),G=f.useMemo((()=>{var e;return((null==(e=o?.reactions)?void 0:e.filter((e=>"removed"!==e?._optimisticState)))||GTn).filter((e=>"userId"in e&&"shortName"in e))}),[o?.reactions]),Y=!(null==G||!G.length),K=S?new Date(S):new Date,X=T?new Date(T):null,J=Jp(K,QTn),Q=Js({dateStyle:"full",timeStyle:"medium"}),ee=Q.format(K),te=X?Q.format(X):null,re=s||p;f.useEffect((()=>{P||(B.current=_,O(_))}),[P,_]);const ie=f.useCallback((()=>z(!0)),[]),oe=f.useCallback((()=>z(!1)),[]),ae=f.useCallback((()=>g?.(A)),[A,g]),se=f.useCallback((e=>{e.stopPropagation(),y?.(A)}),[A,y]),le=f.useCallback((()=>v(A)),[A,v]),ue=f.useCallback((()=>{R(!1),O(B.current)}),[]),ce=f.useCallback((()=>{var e;q&&W?null==(e=H.current)||e.discardDialogController.open():ue()}),[ue,W,q]),de=f.useCallback((e=>{e.isDefaultPrevented()||("Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),ce()),x&&x(e))}),[x,ce]),fe=f.useCallback((()=>{var e;null==(e=H.current)||e.discardDialogController.close()}),[]),pe=f.useCallback((()=>{var e;null==(e=H.current)||e.discardDialogController.close(),ue()}),[ue]),he=f.useCallback((e=>{w?.(A,e)}),[A,w]),me=f.useCallback((()=>{b(A,{message:I}),R(!1)}),[A,b,I]),ge=f.useCallback((()=>{C?.(A,"open"===o.status?"resolved":"open")}),[A,o.status,C]),ye=f.useCallback((()=>{R((e=>!e))}),[]),ve=f.useCallback((()=>z(!1)),[]),be=f.useCallback((()=>{W||ue()}),[ue,W]),xe=f.useCallback((e=>{"Escape"===e.key&&!W&&ue()}),[ue,W]);Ja(P,ve),Fn(be,[F]);const we=null!=D&&D.displayName?u.jsx(L,{size:1,weight:"medium",textOverflow:"ellipsis",title:D.displayName,children:D.displayName}):u.jsx(Jn,{size:1,style:WTn});return u.jsxs(JTn,{"data-menu-open":V?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:xe,ref:$,space:4,children:[u.jsxs(KTn,{space:1,"data-muted":re,children:[u.jsxs(YTn,{align:"center",gap:3,flex:1,$size:n,children:[j&&u.jsx(hj,{user:D,size:n}),u.jsxs(U,{direction:"column",gap:2,paddingY:c?2:0,children:[u.jsx(U,{align:"center",paddingBottom:null!=(t=o.context)&&t.intent?0:1,sizing:"border",flex:1,children:u.jsxs(U,{align:"flex-end",gap:2,children:[u.jsx(N,{flex:1,children:we}),!re&&u.jsxs(U,{align:"center",gap:1,children:[u.jsx(nie,{muted:!0,size:0,children:u.jsx("time",{dateTime:K.toISOString(),title:ee,children:J})}),te&&X&&u.jsx(nie,{muted:!0,size:0,title:te,children:u.jsxs("time",{dateTime:X.toISOString(),title:te,children:["(",M("list-item.layout-edited"),")"]})})]})]})}),c&&u.jsx(N,{flex:1,children:u.jsx(qTn,{muted:!0,size:0,textOverflow:"ellipsis",children:u.jsx(dt,{t:M,i18nKey:"list-item.layout-context",values:{title:c.title,intent:"edit"},components:{IntentLink:({children:e})=>c?u.jsx(ml,{params:c.params,intent:c.name,children:e}):void 0}})})})]}),!P&&!re&&u.jsx(Fy,{"data-root-menu":d?"true":"false",onClick:tie,children:u.jsx(BTn,{canDelete:r,canEdit:i,isParent:d,mode:m,onCopyLink:g?ae:void 0,onDeleteStart:le,onEditStart:ye,onMenuClose:oe,onMenuOpen:ie,onReactionSelect:he,onStatusChange:C?ge:void 0,readOnly:k,status:o.status})})]}),uv(o)&&!(null==o||!o.contentSnapshot)&&u.jsxs(U,{gap:3,marginBottom:3,children:[j&&u.jsx(Cg,{$size:n}),u.jsx(HTn,{hasReferencedValue:l,value:o?.contentSnapshot})]}),P&&u.jsxs(U,{align:"flex-start",gap:2,children:[j&&u.jsx(Cg,{$size:n}),u.jsx(ne,{flex:1,children:u.jsx(Lm,{currentUser:a,focusOnMount:!0,mentionOptions:h,onChange:O,onDiscardCancel:fe,onDiscardConfirm:pe,onKeyDown:de,onSubmit:me,readOnly:k,ref:H,value:I,withAvatar:!1})})]}),!P&&u.jsxs(U,{gap:3,children:[j&&u.jsx(Cg,{$size:n}),u.jsx(STn,{blocks:_})]}),Y&&u.jsxs(U,{gap:3,marginTop:2,children:[j&&u.jsx(Cg,{$size:n}),u.jsx(N,{onClick:tie,children:u.jsx(PTn,{currentUser:a,mode:m,onSelect:he,reactions:G,readOnly:k})})]})]}),re&&u.jsxs(ZTn,{gap:3,$size:n,children:[j&&u.jsx(Cg,{$size:n}),u.jsxs(U,{align:"center",gap:1,flex:1,children:[u.jsxs(L,{muted:!0,size:1,children:[s&&M("list-item.layout-failed-sent"),p&&M("list-item.layout-posting")]}),u.jsx(U,{hidden:p,children:u.jsx(XTn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:se,padding:1,radius:2,tone:"primary",children:u.jsx(L,{size:1,muted:!0,children:M("list-item.layout-retry")})})})]})]})]})}const P5e=$(ae).attrs({padding:3,radius:3,sizing:"border"})((e=>{const{theme:t}=e,n=t.sanity.color.dark,r=et[Ac][n?900:50].hex;return de`
      background-color: ${et.gray[n?900:50].hex};

      &[data-active='true'] {
        background-color: ${r};
      }
    `})),sg=[],uy=5,eAn={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},tAn=$(P5e)((()=>de`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 2px var(--card-focus-ring-color);
    }

    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `)),nAn=$(me)((({theme:e})=>{const{medium:t}=e.sanity.fonts.text.weights;return de`
    font-weight: ${t};
  `})),rAn=$.button`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`,F5e=f.memo((function(e){var t,n,r,i,o;const{avatarConfig:a=eAn,canReply:s,currentUser:l,hasReferencedValue:c,innerPadding:d,isSelected:p,mentionOptions:h,mode:m,onCopyLink:g,onCreateRetry:y,onDelete:v,onEdit:b,onKeyDown:x,onPathSelect:w,onReactionSelect:C,onReply:k,onStatusChange:j,parentComment:S,readOnly:E,replies:_=sg}=e,{t:A}=Z(Gr),[T,D]=f.useState(sg),[M,I]=f.useState(!0),O=f.useRef(!1),N=f.useRef(null),{isTopLayer:P}=Ho(),R=f.useMemo((()=>Mm(T)),[T]),[F,L]=f.useState(!1),$=f.useCallback((()=>L(!0)),[]),B=f.useCallback((()=>L(!1)),[]),V=f.useCallback((()=>{var e;const t={message:T,parentCommentId:S._id,status:S?.status||"open",threadId:S.threadId,reactions:sg,payload:{fieldPath:(null==(e=S.target.path)?void 0:e.field)||""}};k?.(t),D(sg)}),[k,S._id,S?.status,null==(t=S.target.path)?void 0:t.field,S.threadId,T]),z=f.useCallback((()=>{var e;R?null==(e=N.current)||e.discardDialogController.open():D(sg)}),[R]),H=f.useCallback((e=>{e.isDefaultPrevented()||"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),z())}),[z]),W=f.useCallback((()=>{var e;null==(e=N.current)||e.discardDialogController.close()}),[]),q=f.useCallback((()=>{var e,t;D(sg),null==(e=N.current)||e.discardDialogController.close(),null==(t=N.current)||t.focus()}),[]),G=f.useCallback((e=>{var t;e.stopPropagation(),P&&w?.({fieldPath:(null==(t=S.target.path)?void 0:t.field)||"",origin:"inspector",threadId:S.threadId})}),[P,w,null==(n=S.target.path)?void 0:n.field,S.threadId]),Y=f.useCallback((e=>{e.stopPropagation(),I(!1),O.current=!0}),[]),K=f.useMemo((()=>M?_?.slice(-5):_),[_,M]),X=f.useMemo((()=>!!_&&_.length>5),[_]),J=f.useMemo((()=>`${_?.length-5} more ${_?.length-5==1?"comment":"comments"}`),[_?.length]);f.useEffect((()=>{_.length>5&&!O.current&&I(!0)}),[_]);const Q=f.useMemo((()=>K.map((e=>{var t,n;return u.jsx(ne,{as:"li",...yne(e._id),children:u.jsx(rie,{avatarSize:a.avatarSize,canDelete:e.authorId===l.id,canEdit:e.authorId===l.id,comment:e,currentUser:l,hasError:"createError"===(null==(t=e._state)?void 0:t.type),isRetrying:"createRetrying"===(null==(n=e._state)?void 0:n.type),intent:Gmn(S,e),mentionOptions:h,mode:m,onCopyLink:g,onCreateRetry:y,onDelete:v,onEdit:b,onInputKeyDown:H,onReactionSelect:C,readOnly:E,withAvatar:a.threadCommentsAvatar})},e._id)}))),[a.threadCommentsAvatar,a.avatarSize,l,H,h,g,y,v,b,C,S,E,K,m]);return u.jsxs(tAn,{"data-active":p?"true":"false","data-hovered":F?"true":"false","data-testid":"comments-list-item","data-ui":"CommentsListItem",onClick:G,onMouseEnter:$,onMouseLeave:B,children:[u.jsx(rAn,{"data-ui":"GhostButton","aria-label":A("list-item.go-to-field-button.aria-label")}),u.jsxs(ne,{as:"ul",padding:d,paddingBottom:s?void 0:1,space:4,children:[u.jsx(ne,{as:"li",...yne(S._id),children:u.jsx(rie,{avatarSize:a.avatarSize,canDelete:S.authorId===l.id,canEdit:S.authorId===l.id,comment:S,currentUser:l,hasError:"createError"===(null==(r=S._state)?void 0:r.type),hasReferencedValue:c,intent:null==(i=S.context)?void 0:i.intent,isParent:!0,isRetrying:"createRetrying"===(null==(o=S._state)?void 0:o.type),mentionOptions:h,mode:m,onCopyLink:g,onCreateRetry:y,onDelete:v,onEdit:b,onInputKeyDown:x,onReactionSelect:C,onStatusChange:j,readOnly:E,withAvatar:a.parentCommentAvatar})}),X&&!O.current&&u.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[u.jsx(Cg,{}),u.jsx(nAn,{iconRight:ci,mode:"bleed",onClick:Y,text:J})]}),Q,s&&u.jsx(Lm,{avatarSize:a.avatarSize,currentUser:l,expandOnFocus:!0,mentionOptions:h,onChange:D,onDiscardCancel:W,onDiscardConfirm:q,onKeyDown:H,onSubmit:V,placeholder:A("upsell"===m?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:E||"upsell"===m,ref:N,value:T,withAvatar:a.replyAvatar})]})]})}));function iAn(e){return{open:{title:e("list-status.empty-state-open-title"),message:e("list-status.empty-state-open-text")},resolved:{title:e("list-status.empty-state-resolved-title"),message:e("list-status.empty-state-resolved-text")}}}function aAn(e){const{status:t,error:n,loading:r,hasNoComments:i}=e,{t:o}=Z(Gr),a=iAn(o);return n?u.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:u.jsx(U,{align:"center",children:u.jsx(L,{size:1,muted:!0,children:o("list-status.error")})})}):r?u.jsx(wn,{showText:!0,title:o("list-status.loading")}):i?u.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:u.jsx(Xr,{width:0,padding:4,children:u.jsxs(ne,{space:3,children:[u.jsx(L,{align:"center",size:1,muted:!0,weight:"medium",children:a[t].title}),u.jsx(L,{align:"center",size:1,muted:!0,children:a[t].message})]})})}):null}const kO=[];function oAn(e){const{currentUser:t,fieldTitle:n,mentionOptions:r,mode:i,onBlur:o,onFocus:a,onKeyDown:s,onNewThreadCreate:l,readOnly:c}=e,{t:d}=Z(Gr),[p,h]=f.useState(kO),m=f.useRef(null),g=f.useCallback((()=>{l?.(p),h(kO)}),[l,p]),y=f.useMemo((()=>Mm(p)),[p]),v=f.useCallback((()=>{var e;y&&(null==(e=m.current)||e.discardDialogController.open())}),[y]),b=f.useCallback((e=>{e.isDefaultPrevented()||("Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),v()),s&&s(e))}),[s,v]),x=f.useCallback((()=>{var e,t;h(kO),null==(e=m.current)||e.discardDialogController.close(),null==(t=m.current)||t.focus()}),[]),w=f.useCallback((()=>{var e;null==(e=m.current)||e.discardDialogController.close()}),[]),C="upsell"===i?d("compose.add-comment-input-placeholder-upsell"):u.jsx(dt,{t:d,i18nKey:"compose.add-comment-input-placeholder",values:{field:n}});return u.jsx(Lm,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:h,onDiscardCancel:w,onDiscardConfirm:x,onKeyDown:b,onFocus:a,onSubmit:g,placeholder:C,readOnly:c||"upsell"===i,ref:m,value:p})}const sAn=$(U)`
  min-height: 25px;
`,lAn=$(wt)((({theme:e})=>de`
    --card-fg-color: ${e.sanity.color.base.fg};

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `));function uAn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:i,fieldPath:o,isSelected:a,mentionOptions:s,mode:l,onNewThreadCreate:c,onPathSelect:d,readOnly:p}=e,{t:h}=Z(Gr),m=f.useCallback((e=>{const t={message:e,parentCommentId:void 0,status:"open",threadId:Ca(),reactions:[],payload:{fieldPath:o}};c?.(t)}),[c,o]),g=f.useCallback((e=>{e.stopPropagation(),d?.({fieldPath:o,origin:"inspector",threadId:null})}),[o,d]),y=f.useCallback((e=>{e.stopPropagation(),0!==e.detail&&d?.({fieldPath:o,origin:"inspector",threadId:null})}),[o,d]),v=f.useMemo((()=>t?.map((e=>e.title))||[]),[t]),b=v[v.length-1];return u.jsxs(ne,{space:2,children:[u.jsx(sAn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:u.jsx(ne,{flex:1,children:u.jsx(U,{align:"center",children:u.jsx(lAn,{"aria-label":h("list-item.breadcrumb-button-go-to-field-aria-label",{field:b}),mode:"bleed",onClick:g,padding:2,space:2,children:u.jsx(EHt,{maxLength:3,titlePath:v})})})})}),n&&u.jsx(P5e,{onClick:y,"data-active":a,children:u.jsx(oAn,{currentUser:i,fieldTitle:b,mentionOptions:s,mode:l,onNewThreadCreate:m,readOnly:p})}),u.jsx(ne,{space:2,children:r})]})}function cAn(e){return e.reduce(((e,t)=>{const n=t.fieldPath;return e[n]||(e[n]=[]),e[n].push(t),e}),{})}const dAn=f.forwardRef((function(e,t){const{beforeListNode:n,comments:r,currentUser:i,error:o,loading:a,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:p,onEdit:h,onNewThreadCreate:m,onPathSelect:g,onReactionSelect:y,onReply:v,onStatusChange:b,readOnly:x,selectedPath:w,status:C}=e,[k,j]=f.useState(null),S=f.useMemo((()=>Object.entries(cAn(r))),[r]),E=!a&&!o&&S.length>0;return u.jsxs(U,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:j,sizing:"border",children:["upsell"!==l&&u.jsx(aAn,{error:o,hasNoComments:0===S.length,loading:a,status:C}),(E||n)&&u.jsxs(ne,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:t,children:[n,u.jsx(Jc,{element:k,children:S?.map((([e,t])=>{const n=t[0].breadcrumbs,r=t[0].threadId,o=w?.fieldPath===e&&!w.threadId;return u.jsx(ne,{as:"li",paddingTop:3,...bgn(r),children:u.jsx(uAn,{breadcrumbs:n,canCreateNewThread:"open"===C,currentUser:i,fieldPath:e,isSelected:o,mentionOptions:s,mode:l,onNewThreadCreate:m,onPathSelect:g,readOnly:x,children:t.map((e=>{var t,n,r;const o=e.replies.slice().reverse(),a="open"===C&&"createError"!==(null==(t=e.parentComment._state)?void 0:t.type)&&"createRetrying"!==(null==(n=e.parentComment._state)?void 0:n.type),f=w?.threadId===e.parentComment.threadId&&w?.fieldPath===(null==(r=e.parentComment.target.path)?void 0:r.field);return u.jsx(F5e,{canReply:a,currentUser:i,hasReferencedValue:e.hasReferencedValue,isSelected:f,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:p,onEdit:h,onPathSelect:g,onReactionSelect:y,onReply:v,onStatusChange:b,parentComment:e.parentComment,readOnly:x,replies:o},e.parentComment._id)}))},e)},e)}))})]})]})})),fAn=f.memo(dAn),hAn=$(N)`
  max-width: 280px;
`,pAn=Hf`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,mAn=$(An)`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: ${pAn} 200ms 500ms forwards;
`;function gAn(e){const{onDismiss:t}=e,{t:n}=Z(Gr);return u.jsx(mAn,{content:u.jsx(hAn,{padding:4,children:u.jsxs(ne,{space:3,children:[u.jsx(L,{weight:"medium",size:1,children:n("onboarding.header")}),u.jsx(L,{size:1,children:n("onboarding.body")}),u.jsx(U,{justify:"flex-end",marginTop:2,children:u.jsx(me,{text:n("onboarding.dismiss"),tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}function vAn(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r}=e;return u.jsx(Xr,{width:1,children:u.jsx(N,{marginBottom:6,children:u.jsx($B,{data:t,onPrimaryClick:n,onSecondaryClick:r})})})}var yAn=Jge,bAn=A8,xAn=bAn((function(e,t,n){return t=t.toLowerCase(),e+(n?yAn(t):t)})),wAn=xAn;const iie=Be(wAn);var CAn=A8,SAn=CAn((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),EAn=SAn;const _An=Be(EAn);var aie=Object.getOwnPropertySymbols,kAn=Object.prototype.hasOwnProperty,TAn=Object.prototype.propertyIsEnumerable;function AAn(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function jAn(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch{return!1}}var IAn=jAn()?Object.assign:function(e,t){for(var n,r,i=AAn(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))kAn.call(n,a)&&(i[a]=n[a]);if(aie){r=aie(n);for(var s=0;s<r.length;s++)TAn.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},K2=IAn,DAn={};function Cl(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var oie="mixins";function OAn(e,t,n){var r=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},o={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},a={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)l(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=K2({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=K2({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=c(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=K2({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(Cl(!(n in a),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return Cl("DEFINE_MANY_MERGED"===(o.hasOwnProperty(n)?o[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=c(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function s(e,t){var n=i.hasOwnProperty(t)?i[t]:null;m.hasOwnProperty(t)&&Cl("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&Cl("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function l(e,n){if(n){Cl("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),Cl(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var l in n.hasOwnProperty(oie)&&a.mixins(e,n.mixins),n)if(n.hasOwnProperty(l)&&l!==oie){var u=n[l],f=r.hasOwnProperty(l);if(s(f,l),a.hasOwnProperty(l))a[l](e,u);else{var p=i.hasOwnProperty(l);if("function"==typeof u&&!p&&!f&&!1!==n.autobind)o.push(l,u),r[l]=u;else if(f){var h=i[l];Cl(p&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,l),"DEFINE_MANY_MERGED"===h?r[l]=c(r[l],u):"DEFINE_MANY"===h&&(r[l]=d(r[l],u))}else r[l]=u}}}}function u(e,t){for(var n in Cl(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(Cl(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function c(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return u(i,n),u(i,r),i}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){return t.bind(e)}var p={componentDidMount:function(){this.__isMounted=!0}},h={componentWillUnmount:function(){this.__isMounted=!1}},m={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},g=function(){};return K2(g.prototype,e.prototype,m),function(e){var t=function(e,r,i){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=f(e,i)}}(this),this.props=e,this.context=r,this.refs=DAn,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;Cl("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o};for(var o in t.prototype=new g,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,t)),l(t,p),l(t,e),l(t,h),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),Cl(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),i)t.prototype[o]||(t.prototype[o]=null);return t}}var RAn=OAn,w5=f,MAn=RAn;if(typeof w5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var $An=(new w5.Component).updater,pj=MAn(w5.Component,w5.isValidElement,$An),PAn=Date.now||FAn;function FAn(){return(new Date).getTime()}var sie=PAn,LAn=function(e,t,n){var r,i,o,a,s;function l(){var u=sie()-a;u<t&&u>0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))}return null==t&&(t=100),function(){o=this,i=arguments,a=sie();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},NAn=BAn;function BAn(e){for(var t=VAn(e),n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,l=r,u=i,c=o;n=$a(n,r,i,o,t[a+0],7,-680876936),o=$a(o,n,r,i,t[a+1],12,-389564586),i=$a(i,o,n,r,t[a+2],17,606105819),r=$a(r,i,o,n,t[a+3],22,-1044525330),n=$a(n,r,i,o,t[a+4],7,-176418897),o=$a(o,n,r,i,t[a+5],12,1200080426),i=$a(i,o,n,r,t[a+6],17,-1473231341),r=$a(r,i,o,n,t[a+7],22,-45705983),n=$a(n,r,i,o,t[a+8],7,1770035416),o=$a(o,n,r,i,t[a+9],12,-1958414417),i=$a(i,o,n,r,t[a+10],17,-42063),r=$a(r,i,o,n,t[a+11],22,-1990404162),n=$a(n,r,i,o,t[a+12],7,1804603682),o=$a(o,n,r,i,t[a+13],12,-40341101),i=$a(i,o,n,r,t[a+14],17,-1502002290),n=Pa(n,r=$a(r,i,o,n,t[a+15],22,1236535329),i,o,t[a+1],5,-165796510),o=Pa(o,n,r,i,t[a+6],9,-1069501632),i=Pa(i,o,n,r,t[a+11],14,643717713),r=Pa(r,i,o,n,t[a+0],20,-373897302),n=Pa(n,r,i,o,t[a+5],5,-701558691),o=Pa(o,n,r,i,t[a+10],9,38016083),i=Pa(i,o,n,r,t[a+15],14,-660478335),r=Pa(r,i,o,n,t[a+4],20,-405537848),n=Pa(n,r,i,o,t[a+9],5,568446438),o=Pa(o,n,r,i,t[a+14],9,-1019803690),i=Pa(i,o,n,r,t[a+3],14,-187363961),r=Pa(r,i,o,n,t[a+8],20,1163531501),n=Pa(n,r,i,o,t[a+13],5,-1444681467),o=Pa(o,n,r,i,t[a+2],9,-51403784),i=Pa(i,o,n,r,t[a+7],14,1735328473),n=Fa(n,r=Pa(r,i,o,n,t[a+12],20,-1926607734),i,o,t[a+5],4,-378558),o=Fa(o,n,r,i,t[a+8],11,-2022574463),i=Fa(i,o,n,r,t[a+11],16,1839030562),r=Fa(r,i,o,n,t[a+14],23,-35309556),n=Fa(n,r,i,o,t[a+1],4,-1530992060),o=Fa(o,n,r,i,t[a+4],11,1272893353),i=Fa(i,o,n,r,t[a+7],16,-155497632),r=Fa(r,i,o,n,t[a+10],23,-1094730640),n=Fa(n,r,i,o,t[a+13],4,681279174),o=Fa(o,n,r,i,t[a+0],11,-358537222),i=Fa(i,o,n,r,t[a+3],16,-722521979),r=Fa(r,i,o,n,t[a+6],23,76029189),n=Fa(n,r,i,o,t[a+9],4,-640364487),o=Fa(o,n,r,i,t[a+12],11,-421815835),i=Fa(i,o,n,r,t[a+15],16,530742520),n=La(n,r=Fa(r,i,o,n,t[a+2],23,-995338651),i,o,t[a+0],6,-198630844),o=La(o,n,r,i,t[a+7],10,1126891415),i=La(i,o,n,r,t[a+14],15,-1416354905),r=La(r,i,o,n,t[a+5],21,-57434055),n=La(n,r,i,o,t[a+12],6,1700485571),o=La(o,n,r,i,t[a+3],10,-1894986606),i=La(i,o,n,r,t[a+10],15,-1051523),r=La(r,i,o,n,t[a+1],21,-2054922799),n=La(n,r,i,o,t[a+8],6,1873313359),o=La(o,n,r,i,t[a+15],10,-30611744),i=La(i,o,n,r,t[a+6],15,-1560198380),r=La(r,i,o,n,t[a+13],21,1309151649),n=La(n,r,i,o,t[a+4],6,-145523070),o=La(o,n,r,i,t[a+11],10,-1120210379),i=La(i,o,n,r,t[a+2],15,718787259),r=La(r,i,o,n,t[a+9],21,-343485551),n=Sf(n,s),r=Sf(r,l),i=Sf(i,u),o=Sf(o,c)}return Z2(n)+Z2(r)+Z2(i)+Z2(o)}var lie="0123456789abcdef";function QB(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function k4(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function C5(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function Sf(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Z2(e){var t,n="";for(t=0;t<=3;t++)n+=lie.charAt(e>>8*t+4&15)+lie.charAt(e>>8*t&15);return n}function VAn(e){var t,n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;r[t>>2]|=128<<(8*e.length+t)%4*8;var i=8*e.length;return r[16*n-2]=255&i,r[16*n-2]|=(i>>>8&255)<<8,r[16*n-2]|=(i>>>16&255)<<16,r[16*n-2]|=(i>>>24&255)<<24,r}function zAn(e,t){return e<<t|e>>>32-t}function mj(e,t,n,r,i,o){return Sf(zAn(Sf(Sf(t,e),Sf(r,o)),i),n)}function $a(e,t,n,r,i,o,a){return mj(QB(C5(t,n),C5(~t,r)),e,t,i,o,a)}function Pa(e,t,n,r,i,o,a){return mj(QB(C5(t,r),C5(n,~r)),e,t,i,o,a)}function Fa(e,t,n,r,i,o,a){return mj(k4(k4(t,n),r),e,t,i,o,a)}function La(e,t,n,r,i,o,a){return mj(k4(n,QB(t,~r)),e,t,i,o,a)}var UAn=Math.ceil(10*Math.random()),HAn=function(){return++UAn},eV=function(e){return Object.prototype.toString.call(e).slice(8,-1)},WAn=eV;function GAn(e){var t=WAn(e);return"Object"!==t&&"Array"!==t}var L5e=GAn,YAn=f,qAn=pj,X2=YAn.createElement,KAn=qAn({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return X2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return X2("span",null,e.string.split(e.highlight).map((function(e,t){return X2("span",{key:t},t>0?X2("span",{className:"json-inspector__hl"},r):null,e)})))}}),ZAn=f,XAn=pj,JAn=NAn,QAn=HAn,N5e=eV,aE=L5e,ejn=KAn,Os=ZAn.createElement,tjn=".root.",B5e=XAn({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+QAn(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return Os("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},Os("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),Os("label",{className:"json-inspector__line",htmlFor:e,onClick:r},Os("div",{className:"json-inspector__flatpath"},n.path),Os("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=N5e(e);switch(t){case"Array":var n=e.length;return Os("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[] ":"[] ")+njn(n));case"Object":var r=Object.keys(e).length;return Os("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{} ":"{} ")+rjn(r));default:return Os("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!aE(n)?Object.keys(n).map((function(r){var i=n[r],o=!this.state.original||!!e.verboseShowOriginal&&e.query;return Os(B5e,{data:i,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:o?e.getOriginal:null,key:ijn(r,i),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return aE(e.data)||this.state.original||!e.getOriginal||!e.query||TO(this.keypath(),e.query)?null:Os("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?Os(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!TO(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(tjn.length)},data:function(){return this.state.original||this.props.data},format:function(e){return Os(ejn,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),aE(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!TO(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function njn(e){return e+(1===e?" item":" items")}function rjn(e){return e+(1===e?" property":" properties")}function ijn(e,t){return aE(t)?e+":"+JAn(String(t)):e+"["+N5e(t)+"]"}function TO(e,t){return-1!==e.indexOf(t)}var ajn=B5e,V5e=function(){},ojn=f,sjn=pj,ljn=ojn.createElement,ujn=V5e,cjn=sjn({getDefaultProps:function(){return{onChange:ujn}},render:function(){return ljn("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),z5e=function(e){return 0===Object.keys(e).length},djn=Object.keys,fjn=L5e,hjn=z5e,pjn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return oE(e,r,t);var i;if(!n[r])for(var o=r.length-1;o>0;o-=1)if(i=r.substr(0,o),n[i]){n[r]=oE(n[i],r,t);break}return n[r]||(n[r]=oE(e,r,t)),n[r]}};function oE(e,t,n){return djn(e).reduce((function(r,i){var o,a=e[i];return fjn(a)?(AO(t,i,n)||AO(t,a,n))&&(r[i]=a):AO(t,i,n)?r[i]=a:(o=oE(a,t,n),hjn(o)||Object.assign(r,mjn(i,o))),r}),{})}function AO(e,t,n){if(t){var r=String(t),i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),-1!==r.indexOf(i)}}function mjn(e,t){var n={};return n[e]=t,n}var gjn=eV,jO=".";function T4(e,t){var n=t.split(jO),r=n.shift();if(!r)return e;var i=gjn(e);return"Array"===i&&e[uie(r)]?T4(e[uie(r)],n.join(jO)):"Object"===i&&e[r]?T4(e[r],n.join(jO)):void 0}function uie(e){return parseInt(e,10)}var vjn=T4,yjn=f,bjn=pj,xjn=LAn,cy=yjn.createElement,wjn=ajn,Cjn=cjn,Sjn=pjn,Ejn=z5e,_jn=vjn,kjn=V5e,Tjn=bjn({getDefaultProps:function(){return{data:null,search:Cjn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:kjn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=""!==t.query&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,i=n&&Ejn(r);return cy("div",{className:"json-inspector "+e.className},this.renderToolbar(),i?cy("div",{className:"json-inspector__not-found"},"Nothing found"):cy(wjn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return cy("div",{className:"json-inspector__toolbar"},cy(e,{onChange:xjn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:Sjn(e,t)})},getOriginal:function(e){return _jn(this.props.data,e)}});const Ajn=Be(Tjn);class jjn{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}var Ijn=jjn;const Djn=Be(Ijn);var gj={},Ojn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},Rjn=Ojn,cie={"text/plain":"Text","text/html":"Url",default:"Text"},Mjn="Copy to clipboard: #{key}, Enter";function $jn(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Pjn(e,t){var n,r,i,o,a,s,l=!1;t||(t={}),n=t.debug||!1;try{if(i=Rjn(),o=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),typeof r.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=cie[t.format]||cie.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),r=$jn("message"in t?t.message:Mjn),window.prompt(r,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var Fjn=Pjn;function A4(e){return(A4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(gj,"__esModule",{value:!0}),gj.CopyToClipboard=void 0;var J2=U5e(f),Ljn=U5e(Fjn),Njn=["text","onCopy","options","children"];function U5e(e){return e&&e.__esModule?e:{default:e}}function die(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?die(Object(n),!0).forEach((function(t){tV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):die(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bjn(e,t){if(null==e)return{};var n,r,i=Vjn(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vjn(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function zjn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ujn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hjn(e,t,n){return t&&Ujn(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wjn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j4(e,t)}function j4(e,t){return(j4=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gjn(e){var t=qjn();return function(){var n,r=S5(e);if(t){var i=S5(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yjn(this,n)}}function Yjn(e,t){if(t&&("object"===A4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H5e(e)}function H5e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qjn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function S5(e){return(S5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W5e=function(){Wjn(t,J2.default.PureComponent);var e=Gjn(t);function t(){var n;zjn(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tV(H5e(n=e.call.apply(e,[this].concat(i))),"onClick",(function(e){var t=n.props,r=t.text,i=t.onCopy,o=t.children,a=t.options,s=J2.default.Children.only(o),l=(0,Ljn.default)(r,a);i&&i(r,l),s&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e)})),n}return Hjn(t,[{key:"render",value:function(){var e=this.props;e.text,e.onCopy,e.options;var t=e.children,n=Bjn(e,Njn),r=J2.default.Children.only(t);return J2.default.cloneElement(r,fie(fie({},n),{},{onClick:this.onClick}))}}]),t}();gj.CopyToClipboard=W5e,tV(W5e,"defaultProps",{onCopy:void 0,options:void 0});var Kjn=gj,I4=Kjn.CopyToClipboard;I4.CopyToClipboard=I4;var Zjn=I4;const Xjn=Be(Zjn);var Jjn=vd,Qjn=bs,eIn="[object Number]";function tIn(e){return"number"==typeof e||Qjn(e)&&Jjn(e)==eIn}var nIn=tIn;const rIn=Be(nIn);function iIn(){return{accessor:(e,t)=>"function"==typeof e?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ef(e,t){return"function"==typeof e?e(t):e}function vs(e,t){return n=>{t.setState((t=>({...t,[e]:Ef(n,t[e])})))}}function vj(e){return e instanceof Function}function aIn(e){return Array.isArray(e)&&e.every((e=>"number"==typeof e))}function oIn(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const i=t(e);null!=i&&i.length&&r(i)}))};return r(e),n}function Et(e,t,n){let r,i=[];return o=>{let a;n.key&&n.debug&&(a=Date.now());const s=e(o);if(s.length===i.length&&!s.some(((e,t)=>i[t]!==e)))return r;let l;if(i=s,n.key&&n.debug&&(l=Date.now()),r=t(...s),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-a))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,n?.key)}return r}}function _t(e,t,n,r){return{debug:()=>{var n;return null!=(n=e?.debugAll)?n:e[t]},key:!1,onChange:r}}function sIn(e,t,n,r){const i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:Et((()=>[e,n,t,i]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),_t(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(i,n,t,e)}),{}),i}function lIn(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let l,u=null!=(i=null!=(o=a.id)?o:s?"function"==typeof String.prototype.replaceAll?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)?i:"string"==typeof a.header?a.header:void 0;if(a.accessorFn?l=a.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const e of s.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[a.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:l,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Et((()=>[!0]),(()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),_t(e.options,"debugColumns")),getLeafColumns:Et((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=c.columns)&&t.length){return e(c.columns.flatMap((e=>e.getLeafColumns())))}return[c]}),_t(e.options,"debugColumns"))};for(const t of e._features)null==t.createColumn||t.createColumn(c,e);return c}const Na="debugHeaders";function hie(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(i,e)})),i}const uIn={createTable:e=>{e.getHeaderGroups=Et((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>{var o,a;const s=null!=(o=r?.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],l=null!=(a=i?.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return Q2(t,[...s,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=i&&i.includes(e.id)))),...l],e)}),_t(e.options,Na)),e.getCenterHeaderGroups=Et((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>Q2(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=i&&i.includes(e.id)))),e,"center")),_t(e.options,Na)),e.getLeftHeaderGroups=Et((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var i;return Q2(t,null!=(i=r?.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],e,"left")}),_t(e.options,Na)),e.getRightHeaderGroups=Et((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var i;return Q2(t,null!=(i=r?.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],e,"right")}),_t(e.options,Na)),e.getFooterGroups=Et((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,Na)),e.getLeftFooterGroups=Et((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,Na)),e.getCenterFooterGroups=Et((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,Na)),e.getRightFooterGroups=Et((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,Na)),e.getFlatHeaders=Et((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,Na)),e.getLeftFlatHeaders=Et((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,Na)),e.getCenterFlatHeaders=Et((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,Na)),e.getRightFlatHeaders=Et((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,Na)),e.getCenterLeafHeaders=Et((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,Na)),e.getLeftLeafHeaders=Et((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,Na)),e.getRightLeafHeaders=Et((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,Na)),e.getLeafHeaders=Et((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,i,o,a,s,l;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(o=null==(a=t[0])?void 0:a.headers)?o:[],...null!=(s=null==(l=n[0])?void 0:l.headers)?s:[]].map((e=>e.getLeafHeaders())).flat()}),_t(e.options,Na))}};function Q2(e,t,n,r){var i,o;let a=0;const s=function(e,t){void 0===t&&(t=1),a=Math.max(a,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)}),0)};s(e);let l=[];const u=(e,t)=>{const i={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},o=[];e.forEach((e=>{const a=[...o].reverse()[0];let s,l=!1;if(e.column.depth===i.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),a&&a?.column===s)a.subHeaders.push(e);else{const i=hie(n,s,{id:[r,t,s.id,e?.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${o.filter((e=>e.column===s)).length}`:void 0,depth:t,index:o.length});i.subHeaders.push(e),o.push(i)}i.headers.push(e),e.headerGroup=i})),l.push(i),t>0&&u(o,t-1)},c=t.map(((e,t)=>hie(n,e,{depth:a,index:t})));u(c,a-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(i=null==(o=l[0])?void 0:o.headers)?i:[]),l}const nV=(e,t,n,r,i,o,a)=>{let s={id:t,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>oIn(s.subRows,(e=>e.subRows)),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:Et((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>sIn(e,s,t,t.id)))),_t(e.options,"debugRows")),_getAllCellsByColumnId:Et((()=>[s.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),_t(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];null==n||null==n.createRow||n.createRow(s,e)}return s},cIn={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},G5e=(e,t,n)=>{var r,i;const o=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return!(null==(i=e.getValue(t))||null==(i=i.toString())||null==(i=i.toLowerCase())||!i.includes(o))};G5e.autoRemove=e=>Pl(e);const Y5e=(e,t,n)=>{var r;return!(null==(r=e.getValue(t))||null==(r=r.toString())||!r.includes(n))};Y5e.autoRemove=e=>Pl(e);const q5e=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===n?.toLowerCase()};q5e.autoRemove=e=>Pl(e);const K5e=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};K5e.autoRemove=e=>Pl(e)||!(null!=e&&e.length);const Z5e=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Z5e.autoRemove=e=>Pl(e)||!(null!=e&&e.length);const X5e=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));X5e.autoRemove=e=>Pl(e)||!(null!=e&&e.length);const J5e=(e,t,n)=>e.getValue(t)===n;J5e.autoRemove=e=>Pl(e);const Q5e=(e,t,n)=>e.getValue(t)==n;Q5e.autoRemove=e=>Pl(e);const rV=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};rV.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,i="number"!=typeof n?parseFloat(n):n,o=null===t||Number.isNaN(r)?-1/0:r,a=null===n||Number.isNaN(i)?1/0:i;if(o>a){const e=o;o=a,a=e}return[o,a]},rV.autoRemove=e=>Pl(e)||Pl(e[0])&&Pl(e[1]);const Tc={includesString:G5e,includesStringSensitive:Y5e,equalsString:q5e,arrIncludes:K5e,arrIncludesAll:Z5e,arrIncludesSome:X5e,equals:J5e,weakEquals:Q5e,inNumberRange:rV};function Pl(e){return null==e||""===e}const dIn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:vs("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return"string"==typeof r?Tc.includesString:"number"==typeof r?Tc.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?Tc.equals:Array.isArray(r)?Tc.arrIncludes:Tc.weakEquals},e.getFilterFn=()=>{var n,r;return vj(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:Tc[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),i=t?.find((t=>t.id===e.id)),o=Ef(n,i?i.value:void 0);var a;if(pie(r,o,e))return null!=(a=t?.filter((t=>t.id!==e.id)))?a:[];const s={id:e.id,value:o};var l;return i?null!=(l=t?.map((t=>t.id===e.id?s:t)))?l:[]:null!=t&&t.length?[...t,s]:[s]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=Ef(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if(pie(t.getFilterFn(),e.value,t))return!1}return!0}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function pie(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||typeof t>"u"||"string"==typeof t&&!t}const fIn=(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),hIn=(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},pIn=(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},mIn=(e,t,n)=>{let r,i;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))})),[r,i]},gIn=(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)})),n)return r/n},vIn=(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!aIn(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),i=n.sort(((e,t)=>e-t));return n.length%2!=0?i[r]:(i[r-1]+i[r])/2},yIn=(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),bIn=(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,xIn=(e,t)=>t.length,IO={sum:fIn,min:hIn,max:pIn,extent:mIn,mean:gIn,median:vIn,unique:yIn,uniqueCount:bIn,count:xIn},wIn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:vs("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...t??[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return"number"==typeof r?IO.sum:"[object Date]"===Object.prototype.toString.call(r)?IO.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return vj(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:IO[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};function CIn(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));return"remove"===n?r:[...t.map((t=>e.find((e=>e.id===t)))).filter(Boolean),...r]}const SIn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:vs("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Et((e=>[hb(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=hb(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=hb(t,n);return(null==(r=i[i.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=Et((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let i=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return CIn(i,t,n)}),_t(e.options,"debugTable"))}},DO=()=>({left:[],right:[]}),EIn={getInitialState:e=>({columnPinning:DO(),...e}),getDefaultOptions:e=>({onColumnPinningChange:vs("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,i,o,a,s,l;return"right"===n?{left:(null!=(o=e?.left)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(a=e?.right)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(s=e?.left)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=e?.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=e?.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(i=e?.right)?i:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,i;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(i=t.options.enableColumnPinning)?i:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:i}=t.getState().columnPinning,o=n.some((e=>r?.includes(e))),a=n.some((e=>i?.includes(e)));return o?"left":!!a&&"right"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[i])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Et((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...t??[],...n??[]];return e.filter((e=>!r.includes(e.column.id)))}),_t(t.options,"debugRows")),e.getLeftVisibleCells=Et((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>(t??[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})))),_t(t.options,"debugRows")),e.getRightVisibleCells=Et((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>(t??[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})))),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?DO():null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:DO())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var i,o;return t?!(null==(n=r[t])||!n.length):!!(null!=(i=r.left)&&i.length||null!=(o=r.right)&&o.length)},e.getLeftLeafColumns=Et((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(t??[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),_t(e.options,"debugColumns")),e.getRightLeafColumns=Et((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(t??[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Et((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...t??[],...n??[]];return e.filter((e=>!r.includes(e.id)))}),_t(e.options,"debugColumns"))}},eS={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},OO=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),_In={getDefaultColumnDef:()=>eS,getInitialState:e=>({columnSizing:{},columnSizingInfo:OO(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:vs("columnSizing",e),onColumnSizingInfoChange:vs("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:eS.minSize,null!=(r=o??e.columnDef.size)?r:eS.size),null!=(i=e.columnDef.maxSize)?i:eS.maxSize)},e.getStart=Et((e=>[e,hb(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),_t(t.options,"debugColumns")),e.getAfter=Et((e=>[e,hb(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return o=>{if(!r||!i||(null==o.persist||o.persist(),RO(o)&&o.touches&&o.touches.length>1))return;const a=e.getSize(),s=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=RO(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var r,i;const o="rtl"===t.options.columnResizeDirection?-1:1,a=(n-(null!=(r=e?.startOffset)?r:0))*o,s=Math.max(a/(null!=(i=e?.startSize)?i:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*s,0))/100})),{...e,deltaOffset:a,deltaPercentage:s}})),("onChange"===t.options.columnResizeMode||"end"===e)&&t.setColumnSizing((e=>({...e,...u}))))},d=e=>c("move",e),f=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},p=n||typeof document<"u"?document:null,h={moveHandler:e=>d(e.clientX),upHandler:e=>{p?.removeEventListener("mousemove",h.moveHandler),p?.removeEventListener("mouseup",h.upHandler),f(e.clientX)}},m={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;p?.removeEventListener("touchmove",m.moveHandler),p?.removeEventListener("touchend",m.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),f(null==(t=e.touches[0])?void 0:t.clientX)}},g=!!kIn()&&{passive:!1};RO(o)?(p?.addEventListener("touchmove",m.moveHandler,g),p?.addEventListener("touchend",m.upHandler,g)):(p?.addEventListener("mousemove",h.moveHandler,g),p?.addEventListener("mouseup",h.upHandler,g)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?OO():null!=(n=e.initialState.columnSizingInfo)?n:OO())},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let tS=null;function kIn(){if("boolean"==typeof tS)return tS;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return tS=e,tS}function RO(e){return"touchstart"===e.type}const TIn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:vs("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:n??!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const i=e.columns;return null==(n=i.length?i.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Et((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),_t(t.options,"debugRows")),e.getVisibleCells=Et((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),_t(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>Et((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function hb(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const AIn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},jIn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:vs("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(o=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||o)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Tc.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return vj(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:Tc[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},IIn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:vs("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{t??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!(!Object.keys(t).length||e.getRowModel().flatRows.some((e=>!e.getIsExpanded())))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var i;const o=!0===r||!(null==r||!r[e.id]);let a={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{a[e]=!0})):a=r,n=null!=(i=n)?i:!o,!o&&n)return{...a,[e.id]:!0};if(o&&!n){const{[e.id]:t,...n}=a;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(i=e.subRows)||!i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},D4=0,O4=10,MO=()=>({pageIndex:0,pageSize:10}),DIn={getInitialState:e=>({...e,pagination:{...MO(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:vs("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>Ef(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?MO():null!=(n=e.initialState.pagination)?n:MO())},e.setPageIndex=t=>{e.setPagination((n=>{let r=Ef(t,n.pageIndex);const i=typeof e.options.pageCount>"u"||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,Ef(t,e.pageSize)),r=e.pageSize*e.pageIndex,i=Math.floor(r/n);return{...e,pageIndex:i,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let i=Ef(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof i&&(i=Math.max(-1,i)),{...n,pageCount:i}})),e.getPageOptions=Et((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},$O=()=>({top:[],bottom:[]}),OIn={getInitialState:e=>({rowPinning:$O(),...e}),getDefaultOptions:e=>({onRowPinningChange:vs("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],a=i?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],s=new Set([...a,e.id,...o]);t.setRowPinning((e=>{var t,r,i,o,a,l;return"bottom"===n?{top:(null!=(i=e?.top)?i:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:[...(null!=(o=e?.bottom)?o:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)]}:"top"===n?{top:[...(null!=(a=e?.top)?a:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)],bottom:(null!=(l=e?.bottom)?l:[]).filter((e=>!(null!=s&&s.has(e))))}:{top:(null!=(t=e?.top)?t:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:(null!=(r=e?.bottom)?r:[]).filter((e=>!(null!=s&&s.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return"function"==typeof r?r(e):null==(n=r??i)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some((e=>r?.includes(e))),a=n.some((e=>i?.includes(e)));return o?"top":!!a&&"bottom"},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=null==(n="top"===i?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=o?.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?$O():null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:$O())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var i,o;return t?!(null==(n=r[t])||!n.length):!!(null!=(i=r.top)&&i.length||null!=(o=r.bottom)&&o.length)},e._getPinnedRows=(t,n,r)=>{var i;return(null==(i=e.options.keepPinnedRows)||i?(n??[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(n??[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=Et((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),_t(e.options,"debugRows")),e.getBottomRows=Et((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),_t(e.options,"debugRows")),e.getCenterRows=Et((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...t??[],...n??[]]);return e.filter((e=>!r.has(e.id)))}),_t(e.options,"debugRows"))}},RIn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:vs("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):i.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach((t=>{R4(i,t.id,r,!0,e)})),i})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Et((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?PO(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Et((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?PO(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Et((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?PO(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!(!t.length||!Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection((o=>{var a;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const s={...o};return R4(s,e.id,n,null==(a=r?.selectChildren)||a,t),s}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return iV(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===M4(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===M4(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},R4=(e,t,n,r,i)=>{var o;const a=i.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(o=a.subRows)&&o.length&&a.getCanSelectSubRows()&&a.subRows.forEach((t=>R4(e,t.id,n,r,i)))};function PO(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(e,t){return e.map((e=>{var t;const a=iV(e,n);if(a&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:o(e.subRows)}),a)return e})).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function iV(e,t){var n;return null!=(n=t[e.id])&&n}function M4(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let i=!0,o=!1;return e.subRows.forEach((e=>{if((!o||i)&&(e.getCanSelect()&&(iV(e,t)?o=!0:i=!1),e.subRows&&e.subRows.length)){const n=M4(e,t);"all"===n?o=!0:("some"===n&&(o=!0),i=!1)}})),i?"all":!!o&&"some"}const $4=/([0-9]+)/gm,MIn=(e,t,n)=>eke(Uf(e.getValue(n)).toLowerCase(),Uf(t.getValue(n)).toLowerCase()),$In=(e,t,n)=>eke(Uf(e.getValue(n)),Uf(t.getValue(n))),PIn=(e,t,n)=>aV(Uf(e.getValue(n)).toLowerCase(),Uf(t.getValue(n)).toLowerCase()),FIn=(e,t,n)=>aV(Uf(e.getValue(n)),Uf(t.getValue(n))),LIn=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},NIn=(e,t,n)=>aV(e.getValue(n),t.getValue(n));function aV(e,t){return e===t?0:e>t?1:-1}function Uf(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function eke(e,t){const n=e.split($4).filter(Boolean),r=t.split($4).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),i=parseInt(e,10),o=parseInt(t,10),a=[i,o].sort();if(isNaN(a[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(a[1]))return isNaN(i)?-1:1;if(i>o)return 1;if(o>i)return-1}}return n.length-r.length}const dy={alphanumeric:MIn,alphanumericCaseSensitive:$In,text:PIn,textCaseSensitive:FIn,datetime:LIn,basic:NIn},BIn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:vs("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=t?.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return dy.datetime;if("string"==typeof n&&(r=!0,n.split($4).length>1))return dy.alphanumeric}return r?dy.text:dy.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof n?.getValue(e.id)?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return vj(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:dy[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&null!==n;t.setSorting((a=>{const s=a?.find((t=>t.id===e.id)),l=a?.findIndex((t=>t.id===e.id));let u,c=[],d=o?n:"desc"===i;var f;(u=null!=a&&a.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=a&&a.length&&l!==a.length-1?"replace":s?"toggle":"replace","toggle"===u&&(o||i||(u="remove")),"add"===u)?(c=[...a,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(f=t.options.maxMultiSortColCount)?f:Number.MAX_SAFE_INTEGER))):c="toggle"===u?a.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?a.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}];return c}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),a=e.getIsSorted();return a?!!(a===o||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===a?"asc":"desc"):o},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},VIn=[uIn,TIn,SIn,EIn,cIn,dIn,AIn,jIn,BIn,wIn,IIn,DIn,OIn,RIn,_In];function zIn(e){var t,n;const r=[...VIn,...null!=(t=e._features)?t:[]];let i={_features:r};const o=i._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(i))),{});let a={...null!=(n=e.initialState)?n:{}};i._features.forEach((e=>{var t;a=null!=(t=null==e.getInitialState?void 0:e.getInitialState(a))?t:a}));const s=[];let l=!1;const u={_features:r,options:{...o,...e},initialState:a,_queue:e=>{s.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;s.length;)s.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{i.setState(i.initialState)},setOptions:e=>{const t=Ef(e,i.options);i.options=(e=>i.options.mergeOptions?i.options.mergeOptions(o,e):{...o,...e})(t)},getState:()=>i.options.state,setState:e=>{null==i.options.onStateChange||i.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==i.options.getRowId?void 0:i.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?i.getPrePaginationRowModel():i.getRowModel()).rowsById[e];if(!n&&(n=i.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:Et((()=>[i.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...i._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),_t(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Et((()=>[i._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const o=lIn(i,e,r,n),a=e;return o.columns=a.columns?t(a.columns,o,r+1):[],o}))};return t(e)}),_t(e,"debugColumns")),getAllFlatColumns:Et((()=>[i.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),_t(e,"debugColumns")),_getAllFlatColumnsById:Et((()=>[i.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),_t(e,"debugColumns")),getAllLeafColumns:Et((()=>[i.getAllColumns(),i._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),_t(e,"debugColumns")),getColumn:e=>i._getAllFlatColumnsById()[e]};Object.assign(i,u);for(let e=0;e<i._features.length;e++){const t=i._features[e];null==t||null==t.createTable||t.createTable(i)}return i}function UIn(){return e=>Et((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,o){void 0===i&&(i=0);const a=[];for(let l=0;l<t.length;l++){const u=nV(e,e._getRowId(t[l],l,o),t[l],l,i,void 0,o?.id);var s;if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows)u.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=u.originalSubRows)&&s.length&&(u.subRows=r(u.originalSubRows,i+1,u))}return a};return n.rows=r(t),n}),_t(e.options,"debugTable","getRowModel",(()=>e._autoResetPageIndex())))}function HIn(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function WIn(e,t,n){return n.options.filterFromLeafRows?GIn(e,t,n):YIn(e,t,n)}function GIn(e,t,n){var r;const i=[],o={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let c=0;c<e.length;c++){var u;let d=e[c];const f=nV(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(f.columnFilters=d.columnFilters,null!=(u=d.subRows)&&u.length&&r<a){if(f.subRows=s(d.subRows,r+1),d=f,t(d)&&!f.subRows.length){l.push(d),o[d.id]=d,i.push(d);continue}if(t(d)||f.subRows.length){l.push(d),o[d.id]=d,i.push(d);continue}}else d=f,t(d)&&(l.push(d),o[d.id]=d,i.push(d))}return l};return{rows:s(e),flatRows:i,rowsById:o}}function YIn(e,t,n){var r;const i=[],o={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let c=0;c<e.length;c++){let d=e[c];if(t(d)){var u;if(null!=(u=d.subRows)&&u.length&&r<a){const e=nV(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=s(d.subRows,r+1),d=e}l.push(d),i.push(d),o[d.id]=d}}return l};return{rows:s(e),flatRows:i,rowsById:o}}function qIn(){return e=>Et((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r)return;const o=r.getFilterFn();o&&i.push({id:t.id,filterFn:o,resolvedValue:null!=(n=null==o.resolveFilterValue?void 0:o.resolveFilterValue(t.value))?n:t.value})}));const a=(n??[]).map((e=>e.id)),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));let u,c;r&&s&&l.length&&(a.push("__global__"),l.forEach((e=>{var t;o.push({id:e.id,filterFn:s,resolvedValue:null!=(t=null==s.resolveFilterValue?void 0:s.resolveFilterValue(r))?t:r})})));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},i.length)for(let e=0;e<i.length;e++){u=i[e];const t=u.id;n.columnFilters[t]=u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}if(o.length){for(let e=0;e<o.length;e++){c=o[e];const t=c.id;if(c.filterFn(n,t,c.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return WIn(t.rows,(e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0}),e)}),_t(e.options,"debugTable","getFilteredRowModel",(()=>e._autoResetPageIndex())))}function KIn(e){return e=>Et((()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded]),((t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:i}=t;let{rows:o,flatRows:a,rowsById:s}=n;const l=r*i,u=l+r;let c;o=o.slice(l,u),c=e.options.paginateExpandedRows?{rows:o,flatRows:a,rowsById:s}:HIn({rows:o,flatRows:a,rowsById:s}),c.flatRows=[];const d=e=>{c.flatRows.push(e),e.subRows.length&&e.subRows.forEach(d)};return c.rows.forEach(d),c}),_t(e.options,"debugTable"))}function tke(e,t){return e?ZIn(e)?f.createElement(e,t):e:null}function ZIn(e){return XIn(e)||"function"==typeof e||JIn(e)}function XIn(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function JIn(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function QIn(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=f.useState((()=>({current:zIn(t)}))),[r,i]=f.useState((()=>n.current.initialState));return n.current.setOptions((t=>({...t,...e,state:{...r,...e.state},onStateChange:t=>{i(t),null==e.onStateChange||e.onStateChange(t)}}))),n.current}const Mt="structure",eDn={locale:"en-US",namespace:Mt,resources:()=>md((()=>import("./resources3.fw_M-6lk.js")),__vite__mapDeps([5,1]))};function nke(e){const{document:t}=e,n=Jt().get(t._type),{t:r}=Z(Mt),{error:i,value:o}=Vw({schemaType:n,value:t});return n?i?u.jsx(u.Fragment,{children:r("doc-title.error.text",{errorMessage:i.message})}):u.jsx(u.Fragment,{children:o?.title||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:r("doc-title.fallback.text")})}):u.jsx("code",{children:r("doc-title.unknown-schema-type.text",{schemaType:t._type})})}const rke=$(N)`
  margin-left: auto;
`,tDn=$.details`
  flex: none;

  &[open] ${rke} {
    transform: rotate(180deg);
  }
`,nDn=$.summary`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`,rDn=$.table`
  width: 100%;
  text-align: left;
  padding: 0 ${({theme:e})=>ke(e.sanity.space[2])};
  border-collapse: collapse;

  th {
    padding: ${({theme:e})=>ke(e.sanity.space[1])};
  }

  td {
    padding: 0 ${({theme:e})=>ke(e.sanity.space[1])};
  }

  tr > *:last-child {
    text-align: right;
  }
`,iDn=$(U)`
  min-height: 33px;
`,mie=e=>{const{t:t}=Z(Mt),n=e.totalCount-e.references.length;return n?u.jsx(N,{padding:2,children:u.jsxs(xn,{space:2,children:[u.jsx(L,{size:1,muted:!0,children:t("confirm-delete-dialog.other-reference-count.title",{count:n})}),u.jsx(pt,{portal:!0,placement:"top",content:t("confirm-delete-dialog.other-reference-count.tooltip"),children:u.jsx(L,{size:1,muted:!0,children:u.jsx(bd,{})})})]})}):null};function ike(e){const{icon:t,layout:n,presence:r,schemaType:i,value:o}=e,a=xt(o.title)&&f.isValidElement(o.title)||BT(o.title)||rIn(o.title)?o.title:null,s=f.useMemo((()=>ov(e.documentPreviewStore,i,o._id,a)),[e.documentPreviewStore,i,a,o._id]),{draft:l,published:c,isLoading:d}=Wr(s,{draft:null,isLoading:!0,published:null}),p=d?null:u.jsx(Sa,{children:u.jsxs(U,{align:"center",gap:3,children:[r&&r.length>0&&u.jsx(w9,{presence:r}),u.jsx(iv,{draft:l,published:c})]})}),h=u.jsx(J0,{draft:l,published:c});return u.jsx(Ta,{...oB({value:o,draft:l,published:c}),isPlaceholder:d,icon:t,layout:n,status:p,tooltip:h})}const ake=f.forwardRef((function(e,t){const{routerPanesState:n,groupIndex:r}=f.useContext(O5),i=f.useMemo((()=>n.slice(0,r)),[r,n]),o=f.useMemo((()=>({panes:i})),[i]);return u.jsx(qT,{...e,ref:t,state:o})}));function Nm(){const e=f.useContext(Bae);if(!e)throw new Error("PaneLayout: missing context value");return e}const oke=f.forwardRef((function(e,t){const{childId:n,childPayload:r,childParameters:i,...o}=e,{routerPanesState:a,groupIndex:s}=f.useContext(O5);return u.jsx(qT,{...o,ref:t,state:{panes:[...a.slice(0,s+1),[{id:n,params:i,payload:r}]]}})})),aDn=f.forwardRef((function(e,t){const{routerPanesState:n,groupIndex:r,siblingIndex:i}=f.useContext(O5),{params:o,payload:a,...s}=e,l=ba(o),c=ba(a),d=f.useMemo((()=>{const e=n[r],t=e[i],o={...t,params:l??t.params,payload:c??t.payload},a=[...e.slice(0,i),o,...e.slice(i+1)];return{panes:[...n.slice(0,r),a,...n.slice(r+1)]}}),[n,r,l,c,i]);return u.jsx(qT,{ref:t,...s,state:d})})),oDn=f.forwardRef((function({documentId:e,documentType:t,parentRefPath:n,children:r,template:i,...o},a){return u.jsx(oke,{...o,ref:a,childId:e,childPayload:i?.params,childParameters:{type:t,parentRefPath:_n(n),...i&&{template:i?.id}},children:r})}));function ac(){return f.useContext(O5)}const gie=[];function sDn(e){const{onClick:t,type:n,value:r}=e,i=sv(sn(r?._id)),o=Ui(),{ReferenceChildLink:a}=ac(),s=f.useCallback((function(e){return u.jsx(a,{documentId:r?._id,documentType:n?.name,parentRefPath:gie,...e})}),[a,n?.name,r?._id]);return u.jsx(gp,{__unstable_focusRing:!0,as:s,"data-as":"a",onClick:t,radius:2,children:u.jsx(ike,{documentPreviewStore:o,icon:n?.icon,layout:"compact",presence:i?.length>0?i:gie,schemaType:n,value:r})})}function lDn({crossDatasetReferences:e,internalReferences:t,documentTitle:n,totalCount:r,action:i,datasetNames:o,hasUnknownDatasetNames:a,onReferenceLinkClick:s}){const l=Jt(),c=Ur(),{t:d}=Z(Mt),p=f.useCallback((e=>{const t=l.get(e._type);return t?u.jsx(sDn,{type:t,value:e,onClick:s}):u.jsx(N,{padding:2,children:u.jsx(Ta,{icon:Gs,title:d("confirm-delete-dialog.preview-item.preview-unavailable.title"),subtitle:d("confirm-delete-dialog.preview-item.preview-unavailable.subtitle",{documentId:e._id}),layout:"default"})})}),[l,d,s]);if(0===t?.totalCount&&0===e?.totalCount)return u.jsx(L,{as:"p",size:1,children:u.jsx(dt,{t:d,i18nKey:"confirm-delete-dialog.confirmation.text",context:i,components:{DocumentTitle:()=>u.jsx("strong",{children:n})}})});const h=[...o,...a?["unavailable"]:[]],m=d("confirm-delete-dialog.cdr-summary.subtitle",{count:h.length,datasets:h.join(", "),context:a&&h.length?"unavailable":""});return u.jsxs(U,{direction:"column",gap:4,children:[u.jsx(ae,{padding:3,radius:2,tone:"caution",flex:"none",children:u.jsxs(U,{children:[u.jsx(L,{"aria-hidden":"true",size:1,children:u.jsx(or,{})}),u.jsx(N,{flex:1,marginLeft:3,children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"confirm-delete-dialog.referring-document-count.text",components:{DocumentTitle:()=>n},t:d,values:{count:r}})})})]})}),u.jsx(N,{flex:"none",children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"confirm-delete-dialog.referring-documents-descriptor.text",t:d,context:i,components:{DocumentTitle:()=>n}})})}),u.jsx(ae,{radius:2,shadow:1,flex:"auto",padding:2,children:u.jsxs(U,{direction:"column",children:[t.totalCount>0&&u.jsxs(ne,{as:"ul",marginBottom:2,space:2,"data-testid":"internal-references",children:[t?.references.map((e=>u.jsx(N,{as:"li",children:p(e)},e._id))),t.totalCount>t.references.length&&u.jsx(N,{as:"li",padding:3,children:u.jsx(mie,{...t})})]}),e.totalCount>0&&u.jsxs(tDn,{"data-testid":"cross-dataset-references",style:{borderTop:t.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[u.jsx(nDn,{children:u.jsx(ae,{as:"a",marginTop:t.totalCount>0?2:0,radius:2,shadow:1,paddingY:1,children:u.jsxs(U,{align:"center",gap:3,paddingX:3,paddingY:1,children:[u.jsx(L,{size:1,children:u.jsx(nk,{})}),u.jsxs(ne,{space:2,children:[u.jsx(L,{textOverflow:"ellipsis",size:1,children:d("confirm-delete-dialog.cdr-summary.title",{count:h.length,documentCount:d("confirm-delete-dialog.cdr-summary.document-count",{count:e.totalCount})})}),u.jsx(L,{title:m,textOverflow:"ellipsis",size:1,muted:!0,children:m})]}),u.jsx(rke,{children:u.jsx(L,{muted:!0,size:1,children:u.jsx(ci,{})})})]})})}),u.jsxs(N,{overflow:"auto",paddingTop:2,children:[u.jsxs(rDn,{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:u.jsx(L,{muted:!0,size:1,style:{minWidth:"5rem"},weight:"medium",children:d("confirm-delete-dialog.cdr-table.project-id.label")})}),u.jsx("th",{children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.dataset.label")})}),u.jsx("th",{children:u.jsx(L,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.document-id.label")})})]})}),u.jsx("tbody",{children:e.references.filter((e=>"projectId"in e)).map((({projectId:e,datasetName:t,documentId:n},r)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(L,{size:1,children:e})}),u.jsx("td",{children:u.jsx(L,{size:1,children:t||"unavailable"})}),u.jsx("td",{children:u.jsxs(iDn,{align:"center",gap:2,justify:"flex-end",children:[u.jsx(L,{textOverflow:"ellipsis",size:1,children:n||"unavailable"}),n&&u.jsx(Xjn,{text:n,onCopy:()=>{c.push({title:d("confirm-delete-dialog.cdr-table.id-copied-toast.title"),status:"success"})},children:u.jsx(me,{mode:"bleed",icon:Ll,tooltipProps:{content:d("confirm-delete-dialog.cdr-table.copy-id-button.tooltip")}})})]})})]},`${n}-${r}`)))})]}),u.jsx(mie,{...e})]})]})]})}),u.jsx(N,{flex:"none",children:u.jsx(L,{size:1,children:u.jsx(dt,{i18nKey:"confirm-delete-dialog.referential-integrity-disclaimer.text",t:d,context:i,components:{DocumentTitle:()=>n}})})})]})}function uDn(e){return!("object"!=typeof e||!e)&&("statusCode"in e&&"response"in e)}const cDn=5e3;let FO;const ske=()=>(FO||(FO=Ka(document,"visibilitychange").pipe(xi(null),fe((()=>"visible"===document.visibilityState)),mr(),ht((e=>e?ri(0,cDn):Zn)),Bi({refCount:!0,bufferSize:1}))),FO);function dDn(e,{versionedClient:t}){const n=Vi(e),r=sn(e),i={uri:t.getDataUrl("doc",`${n},${r}`),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return t.observable.request(i).pipe(fe((({omitted:e})=>{const t=e.filter((e=>"existence"===e.reason));if(2!==t.length)return 0===t.length||t.some((e=>e.id===n))?r:n})))}function fDn(e,t){const{versionedClient:n}=t;return ske().pipe(ht((()=>dDn(e,t))),ht((e=>{if(!e)return we({totalCount:0,references:[]});const t=n.config().dataset;return n.observable.request({url:`/data/references/${t}/documents/${e}/to?excludeInternalReferences=true&excludePaths=true`,tag:"use-referring-documents.external"}).pipe(pn((e=>{if(uDn(e)&&404===e.statusCode)return we({totalCount:0,references:[]});throw e})))})))}const hDn=ah((([e,t])=>t.listenQuery({fetch:'{"references":*[references($documentId)][0...100]{_id,_type},"totalCount":count(*[references($documentId)])}',listen:"*[references($documentId)]"},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3}))),pDn=ah((([e,t])=>ske().pipe(ht((()=>fDn(e,{versionedClient:t}))))));function mDn(e){const t=Zt(zt),n=_s(),r=sn(e),[i,o]=hDn(f.useMemo((()=>[r,n]),[n,r])),[a,s]=pDn(f.useMemo((()=>[r,t]),[r,t])),l=f.useMemo((()=>Array.from(new Set(a?.references.map((e=>e.projectId)).filter(Boolean))).sort()),[a?.references]),u=f.useMemo((()=>Array.from(new Set(a?.references.map((e=>e?.datasetName||"")).filter((e=>!!e&&""!==e)))).sort()),[a?.references]),c=f.useMemo((()=>!(null==a||!a.references.some((e=>"string"!=typeof e.datasetName)))),[a?.references]);return{totalCount:(i?.totalCount||0)+(a?.totalCount||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:c,internalReferences:i,crossDatasetReferences:a,isLoading:o||s}}const gDn=$(N)`
  box-sizing: border-box;
`,vDn=$(U).attrs({align:"center",direction:"column",justify:"center"})`
  height: 110px;
`;function yDn({id:e,type:t,action:n="delete",onCancel:r,onConfirm:i}){const{t:o}=Z(Mt),a=`deletion-confirmation-${f.useId()}`,{internalReferences:s,crossDatasetReferences:l,isLoading:c,totalCount:d,projectIds:p,datasetNames:h,hasUnknownDatasetNames:m}=mDn(e),g=u.jsx(nke,{document:f.useMemo((()=>({_id:e,_type:t})),[e,t])}),y=!c;return u.jsx(Si,{width:1,id:a,header:o("confirm-delete-dialog.header.text",{context:n}),footer:{cancelButton:{onClick:r,text:o("confirm-delete-dialog.cancel-button.text")},confirmButton:y?{text:o(d>0?"confirm-delete-dialog.confirm-anyway-button.text":"confirm-delete-dialog.confirm-button.text",{context:n}),onClick:i}:void 0},onClose:r,onClickOutside:r,children:u.jsx(gDn,{children:l&&s&&!c?u.jsx(lDn,{crossDatasetReferences:l,internalReferences:s,documentTitle:g,isLoading:c,totalCount:d,action:n,projectIds:p,datasetNames:h,hasUnknownDatasetNames:m,onReferenceLinkClick:r}):u.jsx(vDn,{"data-testid":"loading-container",children:u.jsx(wn,{showText:!0,title:o("confirm-delete-dialog.loading.text")})})})})}function oV(e){const{t:t}=Z(Mt),n=f.useId(),[r,i]=f.useState(null),o=f.useCallback((()=>i(null)),[]);return r?u.jsx(Si,{id:`dialog-error-${n}`,"data-testid":"confirm-delete-error-dialog",header:t("confirm-delete-dialog.error.title.text"),footer:{confirmButton:{text:t("confirm-delete-dialog.error.retry-button.text"),onClick:o,tone:"default"}},onClose:e.onCancel,children:u.jsx(N,{padding:4,children:u.jsx(L,{size:1,children:t("confirm-delete-dialog.error.message.text")})})}):u.jsx(v1,{onCatch:i,children:u.jsx(yDn,{...e})})}function lke({children:e,ms:t=0}){const[n,r]=f.useState(t<=0);return f.useEffect((()=>{if(t<=0)return;const e=setTimeout((()=>r(!0)),t);return()=>{clearTimeout(e)}}),[t]),n&&e?"function"==typeof e?e():e:u.jsx(u.Fragment,{})}const bDn=!1,pb=51,vx=204,xDn=$(go)`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`;function wDn({disabled:e,element:t}){const{resize:n}=Nm(),[r,i]=f.useState(!1),o=f.useCallback((e=>{if(!t)return;i(!0),e.preventDefault();const r=e.pageX;n("start",t,0);const o=e=>{e.preventDefault();const i=e.pageX-r;n("move",t,i)},a=e=>{e.preventDefault(),i(!1),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a),n("end",t,0)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",a)}),[t,n]);return u.jsx(xDn,{"data-disabled":e?"":void 0,"data-dragging":r?"":void 0,onMouseDown:o})}const CDn=$(ae)`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`,Jw=f.forwardRef((function(e,t){var n,r,i;const{children:o,currentMinWidth:a,currentMaxWidth:s,flex:l=1,id:c,minWidth:d,maxWidth:p,selected:h=!1,...m}=e,[g,y]=f.useState(null),{collapse:v,collapsed:b,expand:x,expandedElement:w,mount:C,panes:k}=Nm(),j=k.find((e=>e.element===g)),S=j&&k.indexOf(j),E="number"==typeof S?k[S+1]:void 0,_=S===k.length-1,A=!b&&(j?.collapsed||!1),T=E?.collapsed||!1,D=f.useRef(null),M=null!=(n=j?.flex)?n:l,I=null!=(r=j?.currentMinWidth)?r:a,O=null!=(i=j?.currentMaxWidth)?i:s;f.useImperativeHandle(t,(()=>D.current));const N=f.useCallback((e=>{y(e),D.current=e}),[]);f.useEffect((()=>{if(g)return C(g,{currentMinWidth:a,currentMaxWidth:s,flex:l,id:c,minWidth:d,maxWidth:p})}),[a,s,l,c,d,p,C,g]);const P=f.useCallback((()=>{g&&v(g)}),[v,g]),R=f.useCallback((()=>{g&&x(g)}),[x,g]),F=f.useMemo((()=>({collapse:P,collapsed:!b&&A,expand:R,index:S,isLast:_,rootElement:g})),[A,P,R,_,b,S,g]),L=f.useMemo((()=>{if(!b)return A?pb:0===I||_?d||vx:I||d||vx}),[A,I,_,b,d]),$=f.useMemo((()=>A?pb:b&&_?void 0:_?p?O??p:void 0:O??p),[A,O,_,b,p]),B=b&&!_,V=f.useMemo((()=>!_&&!b&&u.jsx(dd,{zOffset:"paneResizer",children:u.jsx(wDn,{disabled:A||T,element:g})})),[A,_,b,T,g]),z=f.useMemo((()=>({flex:M,minWidth:L,maxWidth:$===1/0?void 0:$})),[M,L,$]);return u.jsxs(u.Fragment,{children:[u.jsx(dd,{zOffset:"pane",children:u.jsx(Nae.Provider,{value:F,children:u.jsx(bbn,{isLastPane:_,children:u.jsxs(CDn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:B,id:c,overflow:b?void 0:"hidden",...m,"data-pane-collapsed":A?"":void 0,"data-pane-index":S,"data-pane-selected":h?"":void 0,ref:N,style:z,children:[bDn,u.jsx(Jc,{element:g,children:!B&&u.jsx(U,{direction:"column",height:"fill",children:o})})]})})})}),V]})})),uke=$(ae)`
  position: relative;
  outline: none;
`;function $d(){const e=f.useContext(Nae);if(!e)throw new Error("Pane: missing context value");return e}uke.displayName="PaneContent__root";const Qw=f.forwardRef((function(e,t){const{as:n,children:r,overflow:i,padding:o,...a}=e,{collapsed:s}=$d(),{collapsed:l}=Nm();return u.jsx(uke,{"data-testid":"pane-content",forwardedAs:n,...a,flex:1,hidden:s,overflow:l?void 0:i,padding:o,ref:t,tone:"inherit",children:r})})),SDn={constrainSize:!0,placement:"left-start",portal:!0};function E5(e){const{disabled:t,isAfterGroup:n,node:r}=e,i=xA("i18n"in r?r:void 0);if("divider"===r.type)return u.jsx(rr,{});const{title:o}=i(r);return"group"===r.type?0===r.children.length?null:r.expanded?u.jsxs(u.Fragment,{children:[n&&u.jsx(rr,{}),r.children.map(((e,n)=>{var i;return u.jsx(E5,{disabled:t||!!r.disabled,isAfterGroup:"group"===(null==(i=r.children[n-1])?void 0:i.type),node:e},e.key)}))]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(rr,{}),u.jsx(i6,{disabled:t,icon:r.icon,popover:SDn,text:o,children:r.children.map(((e,n)=>{var i;return u.jsx(E5,{disabled:t||!!r.disabled,isAfterGroup:"group"===(null==(i=r.children[n-1])?void 0:i.type),node:e},e.key)}))})]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(rr,{}),u.jsx(EDn,{disabled:t,node:r})]})}function EDn(e){const{node:t}=e;return t.intent?u.jsx(kDn,{...e,intent:t.intent}):u.jsx(_Dn,{...e})}function _Dn(e){var t;const{disabled:n,node:r}=e,i="object"==typeof r.disabled&&u.jsx(L,{size:1,children:r.disabled.reason}),{title:o}=ec(r);return u.jsx(XB,{content:i,placement:"left",children:u.jsx(qe,{disabled:n||!!r.disabled,hotkeys:null==(t=r.hotkey)?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&na,onClick:r.onAction,pressed:r.selected,text:o,tone:r.tone})})}function kDn(e){var t;const{disabled:n,intent:r,node:i}=e,o="object"==typeof i.disabled&&u.jsx(L,{size:1,children:i.disabled.reason}),a=ww({intent:r.type,params:r.params}),s=f.useCallback((e=>{a.onClick(e),i.onAction()}),[a,i]),{title:l}=ec(i);return u.jsx(XB,{content:o,placement:"left",children:u.jsx(qe,{as:"a",disabled:n||!!i.disabled,hotkeys:null==(t=i.hotkey)?void 0:t.split("+"),href:a.href,icon:i.icon,iconRight:i.selected?na:void 0,onClick:s,pressed:i.selected,text:l,tone:i.tone})})}const TDn={constrainSize:!0,placement:"bottom",portal:!0};function P4(e,t){return e.some((e=>"item"===e.type&&e.tone===t||"group"===e.type&&P4(e.children,t)))}function cke(e){const{nodes:t,actionsNodes:n}=e,r=f.useId(),i=P4(t,"critical"),o=P4(t,"caution");return u.jsx(Gt,{button:u.jsx(ai,{tone:i?"critical":o?"caution":void 0,"data-testid":"pane-context-menu-button"}),id:r,menu:u.jsxs(At,{children:[n&&u.jsxs(u.Fragment,{children:[n,u.jsx(rr,{})]}),t.map(((e,n)=>{var r;const i="group"===(null==(r=t[n-1])?void 0:r.type);return u.jsx(E5,{isAfterGroup:i,node:e},e.key)}))]}),popover:TDn})}const ADn=$(go)`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-border-color);
  }
`,jDn=$(ae)`
  padding-bottom: env(safe-area-inset-bottom);
`,IDn=f.forwardRef((function(e,t){const{children:n,padding:r}=e,{collapsed:i}=$d();return u.jsx(dd,{zOffset:"paneFooter",children:u.jsx(ADn,{"data-testid":"pane-footer",hidden:i,ref:t,children:u.jsx(jDn,{tone:"inherit",children:u.jsx(N,{padding:r,children:n})})})})})),DDn=$(go)((({$border:e})=>de`
    line-height: 0;
    position: sticky;
    top: 0;

    &:not([data-collapsed]):after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      border-bottom: 1px solid ${e?"var(--card-border-color)":"transparent"};
      opacity: 1;
    }
  `)),ODn=$(U)`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`,RDn=$(ae)((({theme:e})=>{const{fg:t,bg:n}=e.sanity.color.card.enabled;return de`
    background-color: ${n};

    [data-ui='Text'] {
      color: ${t};
    }
  `})),MDn=$(Jn)`
  width: 66%;
  max-width: 175px;
`,$Dn=$(L)`
  cursor: default;
  outline: none;
`,PDn=$(N)((({theme:e})=>{const{color:t,space:n}=e.sanity;return de`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: ${n[3]}px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, ${zL(t.base.bg,0)}, var(--card-bg-color));
      width: ${n[3]}px;
      pointer-events: none;
    }
  `})),yj=f.forwardRef((function(e,t){const{actions:n,backButton:r,border:i,contentAfter:o,loading:a,subActions:s,tabs:l,tabIndex:c,title:d}=e,{collapse:p,collapsed:h,expand:m,rootElement:g}=$d(),y=Tp(g||null),v=f.useMemo((()=>({width:h?y?.height||window.innerHeight:void 0})),[h,y]),b=f.useCallback((()=>{h||p()}),[p,h]),x=f.useCallback((()=>{h&&m()}),[h,m]);return u.jsx(nl,{zOffset:100,children:u.jsx(DDn,{$border:i,"data-collapsed":h?"":void 0,"data-testid":"pane-header",ref:t,children:u.jsx(dd,{zOffset:"paneHeader",children:u.jsxs(ae,{"data-collapsed":h?"":void 0,tone:"inherit",children:[u.jsxs(ODn,{gap:1,onClick:x,padding:3,paddingBottom:h?3:2,sizing:"border",style:v,children:[r&&u.jsx(N,{flex:"none",children:r}),u.jsxs(RDn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",onClick:b,paddingLeft:r?1:2,padding:2,tabIndex:c,children:[a&&u.jsx(MDn,{animated:!0,radius:1,size:1}),!a&&u.jsx($Dn,{size:1,textOverflow:"ellipsis",weight:"semibold",children:d})]}),n&&u.jsx(U,{align:"center",hidden:h,children:u.jsx(dd,{zOffset:"paneHeader",children:n})})]}),!(h||!l&&!s)&&u.jsxs(U,{align:"center",hidden:h,overflow:"auto",paddingBottom:3,paddingX:3,children:[u.jsx(PDn,{flex:1,marginRight:s?3:0,children:l}),s&&s]}),!h&&o&&o]})})})})}));function dke(e){var t;if(!e.disabled)return{disabledReason:void 0,ariaLabel:void 0,isDisabled:!1};return{disabledReason:"object"==typeof e.disabled?e.disabled.reason:void 0,ariaLabel:"object"==typeof e.disabled&&"string"==typeof(null==(t=e.disabled)?void 0:t.reason)?e.disabled.reason:"This is disabled",isDisabled:!!e.disabled}}function fke(e){const{node:t}=e;return"item"===t.type?u.jsx(FDn,{node:t}):"group"===t.type?u.jsx(NDn,{node:t}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function FDn(e){const{node:t}=e,{title:n}=ec(t),{t:r}=Z();if(t.intent)return u.jsx(LDn,{...e,intent:t.intent});const{disabledReason:i,ariaLabel:o,isDisabled:a}=dke(t);return u.jsx(Xw,{disabled:a,icon:t.icon,onClick:t.onAction,selected:t.selected,tone:t.tone,"aria-label":o||n||r("status-button.aria-label"),tooltipProps:{hotkeys:!a&&t.hotkey?t.hotkey.split("+"):void 0,content:a?i:n}})}function LDn(e){const{intent:t,node:n}=e,r=ww({intent:t.type,params:t.params}),{t:i}=Z(),o=f.useCallback((e=>{r.onClick(e),n.onAction()}),[r,n]),{disabledReason:a,ariaLabel:s,isDisabled:l}=dke(n);return u.jsx(Xw,{forwardedAs:"a",disabled:l,href:r.href,icon:n.icon,onClick:o,selected:n.selected,tone:n.tone,"aria-label":s||n.title||i("status-button.aria-label"),tooltipProps:{hotkeys:!l&&n.hotkey?n.hotkey.split("+"):void 0,content:l?a:n.title,placement:"bottom",portal:!0}})}function NDn(e){var t;const{node:n}=e,{title:r}=ec(n);return u.jsx(Gt,{button:u.jsx(me,{disabled:!!n.disabled,icon:null!=(t=n.icon)?t:Gs,label:r,mode:"bleed",tooltipProps:{content:n.title,portal:!0}}),id:f.useId(),menu:u.jsx(At,{children:n.children.map(((e,t)=>{var r;return u.jsx(E5,{disabled:!!n.disabled,isAfterGroup:"group"===(null==(r=n.children[t-1])?void 0:r.type),node:e},e.key)}))})})}const BDn=$(ae)`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`;function VDn(e,t,n,r){var i,o;const a=e.left.flex+e.right.flex,s=e.left.width+e.right.width,l=null!=(i=t.minWidth)?i:vx,u=null!=(o=n.minWidth)?o:vx,c=Math.min(t.maxWidth||1/0,s-u),d=Math.min(n.maxWidth||1/0,s-l);let f=l-e.left.width;const p=e.right.width-d;f<p&&(f=p);let h=e.right.width-u;const m=c-e.left.width;h>m&&(h=m);const g=Math.min(Math.max(r,f),h),y=e.left.width+g,v=e.right.width-g;return{leftFlex:y/s*a,leftW:y,rightFlex:v/s*a,rightW:v}}function zDn(e,t){const n=[];let r=t;for(;r!==e;){const t=r.parentElement;if(!t)return n;const i=Array.from(t.childNodes).indexOf(r);if(n.unshift(i),t===e)return n;r=t}return n}const vie=[];function UDn(e,t){const n=new WeakMap;for(const r of t)n.set(r,zDn(e,r));t.sort(((e,t)=>{const r=n.get(e)||vie,i=n.get(t)||vie,o=Math.max(r.length,i.length);for(let e=0;e<o;e+=1){const t=r[e]||-1,n=i[e]||-1;if(t!==n)return t-n}return 0}))}function HDn(){const e=[],t=[],n=new WeakMap,r=new Set,i={};let o=null,a=0,s=null,l=new Map,u=!1;function c(e){r.delete(e),s=e,d()}return{collapse:function(e){r.add(e),s===e&&(s=null),d()},expand:c,mount:function(e,r){return n.set(e,{...r,original:r}),t.push(e),o&&UDn(o,t),c(e),()=>{const r=t.indexOf(e);r>-1&&t.splice(r,1),n.delete(e),d()}},resize:function(e,r,o){var a,s,c,f;const p=t.indexOf(r),h=n.get(r);if(!h)return;const m=t[p+1],g=n.get(m);if(g){if("start"===e&&(u=!0,i.left={element:r,flex:h.flex||1,width:r.offsetWidth},i.right={element:m,flex:g.flex||1,width:m.offsetWidth},d()),"move"===e&&i.left&&i.right){l=new Map;const{leftW:e,rightW:t,leftFlex:n,rightFlex:a}=VDn(i,h,g,o);l.set(r,{flex:n,width:e}),l.set(m,{flex:a,width:t}),d()}if("end"===e){u=!1;const e=l.get(r),t=l.get(m);n.set(r,{...h,currentMinWidth:0,currentMaxWidth:null!=(a=h.maxWidth)?a:1/0,flex:null!=(s=e?.flex)?s:h.flex}),n.set(m,{...g,currentMinWidth:0,currentMaxWidth:null!=(c=h.maxWidth)?c:1/0,flex:null!=(f=t?.flex)?f:g.flex}),l=new Map,delete i.left,delete i.right,d()}}},setRootElement:function(e){o=e},setRootWidth:function(e){a=e,d()},subscribe:function(t){return e.push(t),()=>{const n=e.push(t);n>-1&&e.splice(n,1)}}};function d(){var i,o,c,d;if(!a)return;const f=[];for(const e of t)e!==s&&f.unshift(e);s&&f.unshift(s);const p=new WeakMap,h=f.length,m=f[0];let g=a-(h-1)*pb;for(const e of f){const t=n.get(e);if(!t)continue;const a=t.currentMinWidth||t.minWidth||vx,s=e===m,u=r.has(e),f=!s&&(u||a>g),h=l.get(e);p.set(e,{element:e,collapsed:f,currentMinWidth:null!=(i=h?.width)?i:t.currentMinWidth,currentMaxWidth:null!=(o=h?.width)?o:t.currentMaxWidth,flex:null!=(d=null!=(c=h?.flex)?c:t.flex)?d:1}),g-=f?pb:a-pb}const y=[];for(const e of t){const t=p.get(e);t&&y.push(t)}for(const n of e)n({expandedElement:s||t[t.length-1]||null,panes:y,resizing:u})}}function WDn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:i,...o}=e,a=f.useMemo((()=>HDn()),[]),[s,l]=f.useState(null),c=Tp(s),d=c?.width||0,p=void 0!==d&&n?d<n:void 0,[h,m]=f.useState({expandedElement:null,panes:[],resizing:!1});f.useEffect((()=>a.setRootElement(s)),[a,s]),f.useEffect((()=>a.setRootWidth(d)),[a,d]),f.useEffect((()=>a.subscribe(m)),[a]),f.useEffect((()=>{void 0!==p&&(p&&r&&r(),!p&&i&&i())}),[p,r,i]);const g=f.useMemo((()=>({collapse:a.collapse,collapsed:p,expand:a.expand,expandedElement:h.expandedElement,mount:a.mount,panes:h.panes,resize:a.resize,resizing:h.resizing})),[p,a,h.expandedElement,h.panes,h.resizing]);return u.jsx(Bae.Provider,{value:g,children:u.jsx(BDn,{"data-ui":"PaneLayout",...o,"data-collapsed":p?"":void 0,"data-resizing":h.resizing?"":void 0,"data-mounted":d?"":void 0,ref:l,children:t})})}function sV(e){return("item"===e.type||"group"===e.type)&&e.renderAsButton}const hke=UEt(sV);function pke(e){var t,n;const{fieldActions:r=[],menuItems:i,menuItemGroups:o}=e,a=[];let s=0;for(let e=0;e<r.length;e+=1){const t=r[e];a.push(mke(t,`${e}-${t.type}`))}s+=a.length;const l=[];for(const e of o)l.find((t=>t.key===e.id))||l.push({type:"group",key:e.id,children:[],expanded:!0,renderAsButton:!1,title:e.title,i18n:e.i18n});const u=[];for(let r=0;r<i.length;r+=1){const o=i[r];let a=o.group&&l.find((e=>e.key===o.group));o.group&&!a&&(a={type:"group",key:o.group,expanded:!0,icon:o.icon,title:o.group,children:[],renderAsButton:!1},l.push(a)),a?a.children.push({type:"item",key:`${s+r}-item`,hotkey:o.shortcut,icon:o.icon,intent:o.intent,onAction:()=>e.actionHandler(o),renderAsButton:null!=(t=o.showAsAction)&&t,selected:o.selected,title:o.title,i18n:o.i18n,tone:o.tone}):u.push({type:"item",key:`${s+r}-item`,hotkey:o.shortcut,icon:o.icon,intent:o.intent,onAction:()=>e.actionHandler(o),renderAsButton:null!=(n=o.showAsAction)&&n,selected:o.selected,title:o.title,i18n:o.i18n,tone:o.tone})}return[...u,...l,...a]}function mke(e,t){var n,r,i;return"divider"===e.type?{type:"divider",key:t}:"group"===e.type?{type:"group",key:t,children:e.children.map(((e,n)=>mke(e,`${t}-${n}-${e.type}`))),disabled:e.disabled,expanded:null==(n=e.expanded)||n,icon:e.icon,title:e.title,i18n:e.i18n,renderAsButton:null!=(r=e.renderAsButton)&&r}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:null!=(i=e.renderAsButton)&&i,selected:e.selected,title:e.title,i18n:e.i18n,tone:e.tone}}const GDn=f.forwardRef((function(e,t){const{intent:n,...r}=e,i=f.useMemo((()=>f.forwardRef((function(e,t){return u.jsx(ml,{...e,intent:n.type,params:n.params,ref:t})}))),[n]);return e.disabled?u.jsx(me,{...r,as:"a",role:"link","aria-disabled":"true"}):u.jsx(me,{...r,as:i,"data-as":"a",ref:t})}));function LO({reveal:e,context:t,loading:n,children:r}){const i=Un(),{t:o}=Z(Mt);return e?u.jsx(pt,{content:n?o("insufficient-permissions-message-tooltip.loading-text"):u.jsx(ol,{context:t,currentUser:i}),portal:!0,children:u.jsx("div",{children:r})}):u.jsx(u.Fragment,{children:r})}const YDn={constrainSize:!0,placement:"bottom",portal:!0},yie=(e,t,n)=>{var r;const i=null==(r=t.find((e=>e.id===n.templateId)))?void 0:r.schemaType;if(!i)return null;const o={template:n.templateId,type:i,id:n.initialDocumentId};return{type:"create",params:n.parameters?[o,n.parameters]:o}};function qDn({templateItems:e}){Jt();const t=hv(),{t:n}=Z(Mt),r=xA([...e,...t]),[i,o]=pB({templateItems:e}),a=f.useMemo((()=>!o&&i?.every((e=>!e.granted))),[o,i]),s=f.useMemo((()=>i?i.reduce(((e,t)=>(e[t.id]=t,e)),{}):{}),[i]);if(a)return u.jsx(LO,{context:"create-document-type",reveal:!0,loading:o,children:u.jsx(me,{"aria-label":n("pane-header.disabled-created-button.aria-label"),icon:Qi,"data-testid":"action-intent-button",disabled:!0,mode:"bleed",tooltipProps:null})});if(1===e.length){const i=e[0],a=s[i.id],l=!(null!=a&&a.granted),c=yie(0,t,i);return c?u.jsx(LO,{reveal:l,loading:o,context:"create-document-type",children:u.jsx(GDn,{"aria-label":r(i).title,icon:i.icon||Qi,intent:c,mode:"bleed",disabled:l,"data-testid":"action-intent-button",tooltipProps:l?null:{content:n("pane-header.create-new-button.tooltip")}})}):null}return u.jsx(Gt,{button:u.jsx(me,{icon:Qi,mode:"bleed","data-testid":"multi-action-intent-button",tooltipProps:{content:n("pane-header.create-new-button.tooltip")}}),id:"create-menu",menu:u.jsx(At,{children:e.map(((e,i)=>{const a=s[e.id],l=!(null!=a&&a.granted),c=yie(0,t,e),d=t.find((t=>t.id===e.templateId));if(!d||!c)return null;const p=f.forwardRef(((e,t)=>l?u.jsx("button",{type:"button",disabled:!0,...e,ref:t}):u.jsx(ml,{...e,intent:c.type,params:c.params,ref:t})));p.displayName="Link";const{title:h}=r({...e,title:e.title||r(d).title});return u.jsx(LO,{context:"create-document-type",reveal:l,loading:o,children:u.jsx(qe,{as:p,"data-as":l?"button":"a",text:h,"aria-label":l?n("pane-header.disabled-created-button.aria-label"):h,disabled:l,"data-testid":`action-intent-button-${i}`})},e.id)}))}),popover:YDn})}function KDn(e){return null!=e}const ZDn=e=>{const t=e=>"object"==typeof e&&e?Array.isArray(e)?e.map(t):Object.entries(e).sort((([e],[t])=>e.localeCompare(t,"en"))):e;return JSON.stringify(t((n=e,JSON.parse(JSON.stringify(n)))));var n},gke=f.memo((function(e){const{initialValueTemplateItems:t=an,menuItems:n=an,menuItemGroups:r=an,actionHandlers:i=PUt}=e,o=hv(),a=f.useCallback((e=>{if("string"==typeof e.action&&!(e.action in i))return console.warn("No handler for action:",e.action),!1;const t="function"==typeof e.action?e.action:"string"==typeof e.action?i[e.action]:null;return!!t&&(t(e.params),!0)}),[i]),s=f.useMemo((()=>pke({actionHandler:a,menuItemGroups:r,menuItems:n.filter((e=>{var t;return"create"!==(null==(t=e.intent)?void 0:t.type)}))})),[a,r,n]),l=f.useMemo((()=>s.filter(sV)),[s]),c=f.useMemo((()=>s.filter(hke)),[s]),d=f.useMemo((()=>n.map(((e,t)=>{var n;if("create"!==(null==(n=e.intent)?void 0:n.type))return null;const{params:r}=e.intent;if(!r)return null;const i=Array.isArray(r)?r[0]:r,a=Array.isArray(r)?r[1]:void 0,s=i.template||i.type;if(!s)return null;const l=o.find((e=>e.id===s));if(!l)return null;return{item:e,template:l,templateParams:a,menuItemIndex:t,initialDocumentId:i.id}})).filter(KDn).map((({initialDocumentId:e,item:t,template:n,menuItemIndex:r,templateParams:i})=>({id:`menuItem${r}`,initialDocumentId:e,templateId:n.id,type:"initialValueTemplateItem",title:t.title||n.title,i18n:t.i18n||n.i18n,icon:t.icon,description:n.description,parameters:i,schemaType:n.schemaType})))),[n,o]),p=f.useMemo((()=>Mf([...d,...t],(e=>ZDn([e.initialDocumentId,e.templateId,e.parameters])))),[d,t]);return u.jsxs(U,{gap:1,children:[p.length>0&&u.jsx(qDn,{templateItems:p}),l.map((e=>u.jsx(fke,{node:e},e.key))),c.length>0&&u.jsx(cke,{nodes:c})]})}));function XDn(e){const{t:t}=Z(Mt),{layout:n,value:r}=e;return u.jsx(Ta,{title:u.jsx("em",{children:u.jsx(dt,{t:t,i18nKey:"pane-item.missing-schema-type.title",components:{Code:"code"},values:{documentType:r._type}})}),subtitle:u.jsx(dt,{t:t,i18nKey:"pane-item.missing-schema-type.subtitle",components:{Code:"code"},values:{documentId:r._id}}),media:()=>u.jsx(or,{}),layout:n})}function bie(e,t,n){return!1!==e&&(e||t&&t.icon||n||!1)}function vke(e){const{icon:t,id:n,layout:r="default",pressed:i,schemaType:o,selected:a,title:s,value:l,margin:c,marginBottom:d,marginTop:p}=e,h=Jt(),m=Ui(),{ChildLink:g}=ac(),y=sv(n),v=!!(o&&o.name&&h.get(o.name)),[b,x]=f.useState(!1),w=f.useMemo((()=>l&&PTe(l)?o&&v?u.jsx(ike,{documentPreviewStore:m,icon:bie(t,o,Nl),layout:r,schemaType:o,value:l,presence:y}):u.jsx(XDn,{value:l}):u.jsx(Ta,{status:u.jsx(N,{style:{opacity:.5},children:u.jsx(L,{muted:!0,size:1,children:u.jsx(Aa,{})})}),icon:bie(t,o,TF),layout:"compact",title:s})),[m,v,t,r,o,s,l,y]),C=f.useMemo((()=>function(e){return u.jsx(g,{...e,childId:n})}),[g,n]),k=f.useCallback((e=>{e.metaKey?x(!1):x(!0)}),[]);return f.useEffect((()=>x(!1)),[a]),u.jsx(gp,{"data-testid":`pane-item-${s}`,__unstable_focusRing:!0,as:C,"data-as":"a",margin:c,marginBottom:d,marginTop:p,onClick:k,pressed:i,radius:2,selected:a||b,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const bj=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:i,group:o}=e;return u.jsx(E5e,{onReset:i,hooks:t,args:r,group:o,children:n})},JDn=e=>{const{badges:t,children:n,badgeProps:r,...i}=e;return u.jsx(E5e,{...i,hooks:t,args:r,children:n})};function yke(e){const{children:t,currentMinWidth:n,flex:r,minWidth:i,paneKey:o,title:a="Error",tone:s="critical"}=e;return u.jsxs(Jw,{currentMinWidth:n,flex:r,id:o,minWidth:i,tone:s,children:[u.jsx(yj,{title:a}),u.jsx(Qw,{overflow:"auto",children:u.jsx(N,{paddingX:4,paddingY:5,children:t})})]})}function QDn(e){const t=we(null);return kn(...[{ms:300,messageKey:"panes.resolving.default-message"},{ms:5e3,messageKey:"panes.resolving.slow-resolve-message"}].map((e=>t.pipe(qk("messageKey"in e?{messageKey:e.messageKey}:{message:e.message}),Che(e.ms)))))}const e3n="panes.resolving.default-message",t3n=$(U)`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`,lV=f.memo((e=>{const{delay:t=300,flex:n,message:r=QDn,minWidth:i,paneKey:o,path:a,selected:s,title:l,tone:c}=e,{t:d}=Z(Mt),p=f.useMemo((()=>"function"==typeof r?r(a?a.split(";"):[]):r),[r,a]),[h,m]=f.useState((()=>"string"==typeof p?p:d(e3n)));f.useEffect((()=>{if("object"!=typeof p||"function"!=typeof p.subscribe)return;const e=p.subscribe((e=>{m("messageKey"in e?d(e.messageKey):e.message)}));return()=>e.unsubscribe()}),[p,d]);const[g,y]=f.useState(null),[v,b]=f.useState(!1);return f.useEffect((()=>{if(g)return S7e((()=>b(!0)))}),[g]),u.jsx(Jw,{flex:n,id:o,minWidth:i,selected:s,tone:c,children:u.jsx(Qw,{children:u.jsx(t3n,{align:"center","data-mounted":v?"":void 0,direction:"column",height:"fill",justify:"center",ref:y,children:u.jsx(wn,{showText:!0,title:l||h})})})})}));function vr(){const e=f.useContext(Vae);if(!e)throw new Error("DocumentPane: missing context value");return e}function n3n(e){const{children:t,documentId:n,documentType:r}=e;return u.jsx(OEe,{documentId:n,documentType:r,children:u.jsx(r3n,{documentId:n,documentType:r,children:t})})}function r3n(e){const{children:t,documentId:n,documentType:r}=e,{enabled:i}=uh(),{connectionState:o,onPathOpen:a,inspector:s,openInspector:l}=vr(),{params:c,setParams:d,createPathWithParams:p}=ac(),h=c?.comment,m=f.useRef(c);f.useLayoutEffect((()=>{m.current=c}),[c]);const g=f.useCallback((e=>{const t=p({...m.current,comment:e,inspect:$y});return`${window.location.origin}${t}`}),[p]),y=f.useCallback((()=>{d({...m.current,comment:void 0})}),[d]),v=f.useCallback((()=>{s?.name!==$y&&l($y)}),[s?.name,l]);return i?u.jsx(DEe,{documentId:n,documentType:r,getCommentLink:g,isCommentsOpen:s?.name===$y,isConnecting:"connecting"===o,onClearSelectedComment:y,onCommentsOpen:v,onPathOpen:a,selectedCommentId:h,sortOrder:"desc",type:"field",children:t}):u.jsx(u.Fragment,{children:t})}lV.displayName="LoadingPane";const bke=!1,i3n={},a3n=Symbol("LOADING_PANE"),xke="documentPanelPortalElement";function ch(){const e=f.useContext(Uae);if(!e)throw new Error("StructureTool: missing context value");return e}const o3n=320,s3n=600,F4=320,l3n=540,u3n={},L4="inspect:",c3n=[{id:"inspectors"},{id:"links"}],N4="sanity/structure/history",d3n="sanity/structure/validation";function f3n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:i}=e,o=r.length,a=f.useRef(o),[s,l]=f.useState((()=>Array.from(new Array(o)))),c=f.useRef(s);f.useEffect((()=>{if(a.current!==o){const e=Array.from(new Array(o));for(let t=0;t<o;t++)e[t]=c.current[t];a.current=o,l((()=>(c.current=e,e)))}}),[o]);const d=f.useCallback(((e,t)=>{l((n=>{const r=[...n];return r[e]=t,c.current=r,r}))}),[]);f.useEffect((()=>{i(s.filter(Boolean))}),[s,i]);const p=f.useMemo((()=>r.map(((e,r)=>e.useMenuItem?[h3n({documentId:t,documentType:n,index:r,setMenuItem:d,useMenuItem:e.useMenuItem}),e.name]:[()=>null,""]))),[t,n,r,d]);return u.jsx(u.Fragment,{children:p.map((([e,t])=>t&&u.jsx(e,{},t)))})}function h3n({documentId:e,documentType:t,index:n,setMenuItem:r,useMenuItem:i}){return f.memo((function(){const o=ba(i({documentId:e,documentType:t}));return f.useEffect((()=>{r(n,o)}),[o]),null}))}function uV(){const{connectionState:e,schemaType:t,title:n,value:r}=vr(),i=!!r&&"connecting"!==e,{error:o,value:a}=Vw({enabled:i,schemaType:t,value:r});return"connecting"===e?{error:void 0,title:void 0}:n?{error:void 0,title:n}:r?o?{error:`Error: ${o.message}`,title:void 0}:{error:void 0,title:a?.title}:{error:void 0,title:`New ${t?.title||t?.name}`}}const p3n=["patch","commit"],m3n=f.memo((function(){const{push:e}=Ur(),{documentId:t,documentType:n}=vr(),{title:r}=uV(),i=y5e(t,n),o=f.useRef(i),a=ac(),{t:s}=Z(Mt),l=r||s("panes.document-operation-results.operation-undefined-title"),c=l.length>25?`${l.slice(0,25)}...`:l;return f.useEffect((()=>{if(!i||i===o.current)return;let t;return"error"===i.type&&e({closable:!0,duration:3e4,status:"error",title:s("panes.document-operation-results.operation-error",{context:i.op}),description:u.jsxs("details",{children:[u.jsx("summary",{children:s("panes.document-operation-results.error.summary.title")}),i.error.message]})}),"success"===i.type&&!p3n.includes(i.op)&&e({closable:!0,status:"success",title:u.jsx(dt,{context:i.op,i18nKey:"panes.document-operation-results.operation-success",t:s,values:{title:c},components:{Strong:"strong"}})}),"success"===i.type&&"delete"===i.op&&(t=setTimeout((()=>a.closeCurrentAndAfter()),0)),o.current=i,()=>clearTimeout(t)}),[i,a,e,s,c]),null})),g3n=$(ae)({position:"relative",zIndex:1,lineHeight:0});function cV(e){const{as:t,children:n,closeButtonLabel:r,onClose:i,title:o,...a}=e,{t:s}=Z(Mt);return u.jsxs(g3n,{...a,as:t,children:[u.jsxs(U,{padding:2,children:[u.jsx(N,{flex:1,padding:3,children:u.jsx(L,{as:"h1",size:1,weight:"medium",children:o})}),u.jsx(N,{flex:"none",padding:1,children:u.jsx(me,{"aria-label":r,icon:Ar,mode:"bleed",onClick:i,tooltipProps:{content:s("document-inspector.close-button.tooltip")}})})]}),n]})}const v3n=$.div`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function y3n(e){const{onResize:t,onResizeStart:n}=e,r=f.useRef(0),i=f.useCallback((e=>{e.preventDefault(),r.current=e.pageX,n();const i=e=>{e.preventDefault(),t(e.pageX-r.current)},o=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",o)}),[t,n]);return u.jsxs(v3n,{onMouseDown:i,children:[u.jsx("span",{}),u.jsx("span",{})]})}const b3n=$(N)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function x3n(e){const{as:t,children:n,minWidth:r,maxWidth:i,...o}=e,[a,s]=f.useState(null),l=f.useRef(),[c,d]=f.useState(),p=f.useCallback((()=>{l.current=a?.offsetWidth}),[a]),h=f.useCallback((e=>{const t=l.current;t&&d(Math.min(Math.max(t-e,r),i))}),[r,i]),m=f.useMemo((()=>c?{flex:"none",width:c}:{minWidth:r,maxWidth:i}),[r,i,c]);return u.jsxs(b3n,{as:t,...o,ref:s,style:m,children:[n,u.jsx(y3n,{onResize:h,onResizeStart:p})]})}function w3n(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:i}=$d(),{closeInspector:o,inspector:a}=vr(),{features:s}=ch(),l=f.useCallback((()=>{a&&o(a.name)}),[o,a]);if(i||!a)return null;const c=f.createElement(a.component,{onClose:l,documentId:t,documentType:n});return s.resizablePanes?u.jsx(x3n,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:540,minWidth:F4,children:c}):u.jsx(N,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:c})}const C3n="studio.structure-tool";function B4(e,t,n){const r=YSe(),[i,o]=f.useState(n),a=[C3n,e,t].filter(Boolean).join("."),s=f.useMemo((()=>r.getKey(a)),[r,a]);f.useEffect((()=>{const e=s.pipe(xi(n),fe((e=>null===e?n:e))).subscribe({next:o});return()=>e?.unsubscribe()}),[n,a,s]);const l=f.useCallback((e=>{e!==i&&(o(e),r.setKey(a,e))}),[r,a,i]);return f.useMemo((()=>[i,l]),[l,i])}const Sg={id:"parsed",title:"document-inspector.view-mode.parsed"},Eg={id:"raw",title:"document-inspector.view-mode.raw-json"},S3n=[Sg,Eg],_5=new Djn({maxSize:1e3});function wke(e,t){const n=_5.get(e);return void 0===n?(_5.set(e,Array.isArray(t)||xt(t)),wke(e,t)):n}function E3n(e){const{path:t}=e,n=_5.get(t);void 0!==n&&_5.set(t,!n)}function Cke(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function xie(e){Cke(e.currentTarget)}function _3n(e){65===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),Cke(e.currentTarget))}function k3n(e){return xt(e)&&a0(e._id)&&a0(e._type)}const T3n=$.div((({theme:e})=>{const{color:t,fonts:n,space:r}=e.sanity;return de`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${n.code.family};
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${ke(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${ke(r[3])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: ' ';
      margin-left: calc(0 - ${ke(r[4])} + 3px);
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: ' ';
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${ke(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${t.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${t.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${ke(r[3])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${t.syntax.string};
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${t.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${t.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `}));function A3n(e){const{onChange:t,query:n}=e,r=f.useCallback((e=>t(e.target.value)),[t]),{t:i}=Z(Mt);return u.jsx(Vr,{icon:ea,onChange:r,placeholder:i("document-inspector.search.placeholder"),radius:2,value:n||""})}function j3n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=vr(),i=`${r}_inspect_`,[o,a]=B4("inspect-view-mode",null,"parsed"),s=S3n.find((e=>e.id===o)),l=f.useCallback((()=>{a(Sg.id)}),[a]),c=f.useCallback((()=>{a(Eg.id)}),[a]),{t:d}=Z(Mt);return u.jsx(Si,{bodyHeight:"fill",id:`${i}dialog`,header:k3n(t)?u.jsx(dt,{t:d,i18nKey:"document-inspector.dialog.title",components:{DocumentTitle:()=>u.jsx("em",{children:u.jsx(nke,{document:t})})}}):u.jsx("em",{children:d("document-inspector.dialog.title-no-value")}),onClose:n,onClickOutside:n,padding:!1,width:2,children:u.jsxs(U,{direction:"column",height:"fill",children:[u.jsx(ae,{padding:3,paddingTop:0,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:u.jsxs(b1,{space:1,children:[u.jsx(kb,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${Sg.id}`,label:d(Sg.title),onClick:l,selected:s===Sg}),u.jsx(kb,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${Eg.id}`,label:d(Eg.title),onClick:c,selected:s===Eg})]})}),u.jsxs(Mde,{"aria-labelledby":`${i}tab-${o}`,flex:1,id:`${i}tabpanel`,overflow:"auto",padding:4,style:{outline:"none"},children:[s===Sg&&u.jsx(T3n,{children:u.jsx(Ajn,{data:t,isExpanded:wke,onClick:E3n,search:A3n,filterOptions:{ignoreCase:!0}})}),s===Eg&&u.jsx(ni,{language:"json",tabIndex:0,onKeyDown:_3n,onDoubleClick:xie,onFocus:xie,size:1,children:JSON.stringify(t,null,2)})]})]})})}function V4({size:e}){return u.jsx(me,{"aria-hidden":!0,disabled:!0,size:e,style:{pointerEvents:"none",visibility:"hidden",width:0},text:"-"})}function xj(e){const{action:t,content:n,icon:r,tone:i="transparent",...o}=e;return u.jsx(ae,{borderBottom:!0,paddingX:4,paddingY:2,tone:i,...o,children:u.jsxs(U,{align:"center",gap:3,children:[r&&u.jsx(L,{size:0,children:u.jsx(r,{})}),u.jsx(U,{align:"center",flex:1,gap:2,paddingY:3,children:n}),u.jsx(V4,{}),t&&u.jsx(me,{as:t?.as,mode:"ghost",onClick:t?.onClick,text:t.text,tone:t.tone||"default"})]})})}function I3n({revisionId:e}){const{documentId:t,documentType:n}=vr(),{restore:r}=xl(t,n),{navigateIntent:i}=wo(),o=f.useCallback((()=>{e&&(r.execute(e),i("edit",{id:t,type:n}))}),[t,n,i,r,e]),{t:a}=Z(Mt);return u.jsx(xj,{action:e?{onClick:o,text:a("banners.deleted-document-banner.restore-button.text")}:void 0,content:u.jsx(L,{size:1,weight:"medium",children:a("banners.deleted-document-banner.text")}),"data-testid":"deleted-document-banner",icon:o1})}function D3n(){const{schemaType:e}=vr(),{t:t}=Z(Mt);return Hie(e)?u.jsx(xj,{content:u.jsxs(L,{size:1,weight:"medium",children:[u.jsx(dt,{t:t,i18nKey:"banners.deprecated-document-type-banner.text"})," ",e.deprecated.reason]}),"data-testid":"deprecated-document-type-banner",icon:ra}):null}function O3n({granted:e,requiredPermission:t}){const n=Un(),r=jm({style:"short"}),{t:i}=Z(Mt);if(e)return null;const o=(n?.roles||[]).map((e=>e.title)),a=r.formatToParts(o).map((e=>"element"===e.type?u.jsx("code",{children:e.value},e.value):e.value));return u.jsx(xj,{content:u.jsx(L,{size:1,weight:"medium",children:u.jsx(dt,{t:i,i18nKey:"banners.permission-check-banner.missing-permission",components:{Roles:()=>u.jsx(u.Fragment,{children:a})},values:{count:a.length,roles:o},context:t})}),"data-testid":"permission-check-banner",icon:o1})}const Ske=f.memo((()=>{var e,t,n,r,i,o,a;const s=Ui(),{params:l,groupIndex:c,routerPanesState:d,replaceCurrent:p,BackLink:h}=ac(),m=null==(e=d[c])?void 0:e[0].id,g=d[c-1],y=g?.[0],v=y?.id,b=!(null==(t=y?.params)||!t.rev),x=f.useMemo((()=>l?.parentRefPath&&Qs(l.parentRefPath)||null),[l?.parentRefPath]),{t:w}=Z(Mt),C=Wr(f.useMemo((()=>{const e=x?.[0];if(!v||!e||!x)return we({loading:!1});const t=sn(v),n=Qs(e),r=n.findIndex((e=>"object"==typeof e&&"_key"in e));return bi(we({loading:!0}),s.unstable_observePathsDocumentPair(t,-1===r?n:n.slice(0,r)).pipe(A6(750),fe((({draft:e,published:t})=>{var n;return{loading:!1,result:{availability:{draft:e.availability,published:t.availability},refValue:null==(n=e1(e.snapshot||t.snapshot,x))?void 0:n._ref}}}))))}),[s,v,x]),{loading:!0}),k=f.useCallback((()=>{var e;C.loading||null!=(e=C.result)&&e.refValue&&p({id:C.result.refValue,params:l})}),[C.loading,C.result,p,l]);return v&&x&&!b&&!C.loading&&(null!=(n=C.result)&&n.availability.draft.available||null!=(r=C.result)&&r.availability.published.available)&&(null==(i=C.result)?void 0:i.refValue)!==m?u.jsx(xj,{action:null!=(o=C.result)&&o.refValue?{onClick:k,icon:rm,text:w("banners.reference-changed-banner.reason-changed.reload-button.text")}:{as:h,icon:Ar,text:w("banners.reference-changed-banner.reason-removed.close-button.text")},"data-testid":"reference-changed-banner",content:u.jsx(L,{size:1,weight:"medium",children:null!=(a=C.result)&&a.refValue?w("banners.reference-changed-banner.reason-changed.text"):w("banners.reference-changed-banner.reason-removed.text")}),icon:or,tone:"caution"}):null}));Ske.displayName="ReferenceChangedBanner";const R3n=$(ne)`
  ${({theme:e})=>de`
      @supports not (container-type: inline-size) {
        display: none !important;
      }

      container-type: inline-size;

      [data-heading] {
        font-size: ${e.sanity.fonts.heading.sizes[4].fontSize}px;
        line-height: ${e.sanity.fonts.heading.sizes[4].lineHeight}px;
        overflow-wrap: break-word;
        text-wrap: pretty;
      }

      @container (max-width: 560px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[3].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[3].lineHeight}px;
        }
      }

      @container (max-width: 420px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[2].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[2].lineHeight}px;
        }
      }
    `}
`,M3n=({documentId:e,schemaType:t,title:n})=>{var r;const i=e===t.name,{t:o}=x1(Mt);return!1===t.__experimental_formPreviewTitle?null:u.jsxs(R3n,{marginBottom:6,space:4,children:[!i&&u.jsx(L,{muted:!0,size:1,children:null!=(r=t.title)?r:t.name}),u.jsx(Ci,{as:"h2","data-heading":!0,muted:!n,"data-testid":"document-panel-document-title",children:n??o("document-view.form-view.form-title-fallback")})]})};function $3n(e){const t=f.useRef();return f.useEffect((()=>{t.current=e}),[e]),t.current}const P3n=20736e5;function F3n(e){const t=Ur(),n=$3n(e.enabled);f.useEffect((()=>{!n&&e.enabled&&t.push({...e,duration:P3n}),n&&!e.enabled&&t.push({...e,duration:.01})}),[e,t,n])}const L3n=e=>e.preventDefault(),N3n=f.forwardRef((function(e,t){var n;const{hidden:r,margins:i}=e,{collapsedFieldSets:o,collapsedPaths:a,displayed:s,editState:l,documentId:c,documentType:d,fieldActions:p,onChange:h,validation:m,ready:g,formState:y,onFocus:v,connectionState:b,onBlur:x,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:k,onSetActiveFieldGroup:j,openPath:S}=vr(),E=_s(),_=sv(c),{title:A}=uV(),T=f.useMemo((()=>eCe()),[]),D=null==(n=l?.transactionSyncLock)?void 0:n.enabled,{t:M}=Z(Mt);F3n({id:`sync-lock-${c}`,status:"warning",enabled:D,title:M("document-view.form-view.sync-lock-toast.title"),description:M("document-view.form-view.sync-lock-toast.description")}),f.useEffect((()=>{const e=E.pair.documentEvents(c,d).pipe(qn((e=>{"mutation"===e.type&&T.publish(B3n(e)),"rebase"===e.type&&T.publish(V3n(e))}))).subscribe();return()=>{e.unsubscribe()}}),[c,E,d,T]);const I=!(null==s||!s._rev);f.useEffect((()=>{I&&T.publish({type:"mutation",patches:[],snapshot:s})}),[I]);const[O,P]=f.useState(null),[R,F]=f.useState(!1);f.useEffect((()=>{!R&&g&&(null==y||!y.focusPath.length)&&O&&(F(!0),Ap(O))}),[R,O,y?.focusPath.length,g]);const $=f.useCallback((e=>{P(e),"function"==typeof t?t(e):t&&(t.current=e)}),[t]);return u.jsx(Xr,{hidden:r,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:u.jsx(tv,{margins:i,children:u.jsx(N,{as:"form",onSubmit:L3n,ref:$,children:"connecting"===b?u.jsx(lke,{ms:300,children:u.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[u.jsx(qf,{muted:!0}),u.jsx(N,{marginTop:3,children:u.jsx(L,{align:"center",muted:!0,size:1,children:M("document-view.form-view.loading")})})]})}):null===y||r?u.jsx(N,{padding:2,children:u.jsx(L,{children:M("document-view.form-view.form-hidden")})}):u.jsxs(u.Fragment,{children:[u.jsx(M3n,{documentId:c,schemaType:y.schemaType,title:A}),u.jsx(iSe,{__internal_fieldActions:p,__internal_patchChannel:T,changed:y.changed,collapsedFieldSets:o,collapsedPaths:a,focused:y.focused,focusPath:y.focusPath,groups:y.groups,id:"root",members:y.members,onChange:h,onFieldGroupSelect:j,onPathBlur:x,onPathFocus:v,onPathOpen:C,onSetFieldSetCollapsed:k,onSetPathCollapsed:w,openPath:S,presence:_,readOnly:"reconnecting"===b||y.readOnly,schemaType:y.schemaType,validation:m,value:y.value})]})})})})}));function B3n(e){const t=e.mutations.map((e=>e.patch)).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:s4(e.origin,t)}}function V3n(e){const t=e.remoteMutations.map((e=>e.patch)).filter(Boolean),n=e.localMutations.map((e=>e.patch)).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:s4("remote",t).concat(s4("local",n))}}const z3n=$(N)({position:"relative"}),U3n=$(bA)((({$disabled:e})=>e?{height:"100%"}:de`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `)),H3n=function(e){const{footerHeight:t,headerHeight:n,isInspectOpen:r,rootElement:i,setDocumentPanelPortalElement:o}=e,{activeViewId:a,displayed:s,documentId:l,editState:c,inspector:d,value:p,views:h,ready:m,schemaType:g,permissions:y,isPermissionsLoading:v,isDeleting:b,isDeleted:x,timelineStore:w}=vr(),{collapsed:C}=Nm(),{collapsed:k}=$d(),j=Sd(),{features:S}=ch(),E=f.useRef(null),[_,A]=f.useState(null),T=f.useRef(null),D=p._createdAt?"update":"create",M=f.useMemo((()=>h.find((e=>e.id===a))||h[0]||{type:"form"}),[a,h]),I=S.splitPanes&&E.current||j.element,O=f.useMemo((()=>C?[n||0,0,t?t+2:2,0]:[0,0,2,0]),[C,t,n]),N="form"!==M.type,P=f.useMemo((()=>"component"===M.type&&M.component&&f.createElement(M.component,{document:{draft:c?.draft||null,displayed:s||p,historical:s,published:c?.published||null},documentId:l,options:M.options,schemaType:g})),[M,s,l,c?.draft,c?.published,g,p]),R=Zi(w,(e=>e.lastNonDeletedRevId));f.useEffect((()=>{null!=_&&_.scrollTo&&_.scrollTo(0,0)}),[l,_]),f.useEffect((()=>{I&&o(I)}),[I,o]);const F=f.useMemo((()=>r?u.jsx(j3n,{value:s||p}):null),[r,s,p]),L=!(k||!d);return u.jsx(Qw,{children:u.jsxs(U,{height:"fill",children:[(S.resizablePanes||!L)&&u.jsx(z3n,{flex:2,overflow:"hidden",children:u.jsx(y1,{element:I,__unstable_elements:{documentScrollElement:_},children:u.jsx(Jc,{element:_,children:u.jsxs(W0,{scrollElement:_,containerElement:T,children:["form"===M.type&&!v&&m&&u.jsxs(u.Fragment,{children:[u.jsx(O3n,{granted:!(null==y||!y.granted),requiredPermission:D}),!b&&x&&u.jsx(I3n,{revisionId:R}),u.jsx(Ske,{}),u.jsx(D3n,{})]}),u.jsxs(U3n,{$disabled:C||!1,"data-testid":"document-panel-scroller",ref:A,children:[u.jsx(N3n,{hidden:N,margins:O,ref:T},l+(m?"_ready":"_pending")),P]}),F,u.jsx("div",{"data-testid":"document-panel-portal",ref:E})]})})})}),L&&u.jsx(Jc,{element:i,children:u.jsx(w3n,{documentId:l,documentType:g.name,flex:1})})]})})},Eke=["left","bottom"],W3n={small:0,medium:1,large:2,full:"auto"};function G3n(e){const{dialog:t,referenceElement:n}=e;return u.jsx(Uu,{content:u.jsx(Y3n,{dialog:t}),fallbackPlacements:Eke,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Y3n(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:i,confirmButtonText:o,message:a,onCancel:s,onConfirm:l,tone:c}=t,{t:d}=Z(Mt),{isTopLayer:p}=Ho(),[h,m]=f.useState(null),g=f.useCallback((()=>{p&&s()}),[p,s]),y=f.useCallback((e=>{"Escape"===e.key&&p&&s()}),[p,s]);return Fn(g,[h]),mo(y),u.jsxs(U,{direction:"column",ref:m,style:{minWidth:304,maxWidth:400},children:[u.jsx(N,{flex:1,overflow:"auto",padding:4,children:u.jsx(L,{children:a})}),u.jsx(N,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:u.jsxs(Rn,{columns:2,gap:2,children:[u.jsx(wt,{"data-testid":"confirm-dialog-cancel-button",icon:n,onClick:s,mode:"ghost",text:r||d("confirm-dialog.cancel-button.fallback-text")}),u.jsx(wt,{"data-testid":"confirm-dialog-confirm-button",icon:i,onClick:l,text:o||d("confirm-dialog.confirm-button.fallback-text"),tone:c})]})})]})}function q3n(e){const{dialog:t}=e,n=f.useId(),r=t.footer&&u.jsx(N,{paddingX:4,paddingY:3,children:t.footer});return u.jsx(dd,{zOffset:"fullscreen",children:u.jsx(Ak,{animate:!0,__unstable_hideCloseButton:!1===t.showCloseButton,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:void 0===t.width?1:W3n[t.width],children:u.jsx(N,{padding:4,children:t.content})})})}function K3n(e){const{dialog:t,referenceElement:n}=e;return u.jsx(Uu,{content:u.jsx(Z3n,{dialog:t}),fallbackPlacements:Eke,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Z3n(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:i}=Ho(),[o,a]=f.useState(null),s=f.useCallback((()=>{i&&r()}),[i,r]),l=f.useCallback((e=>{"Escape"===e.key&&i&&r()}),[i,r]);return Fn(s,[o]),mo(l),u.jsx("div",{ref:a,children:n})}function wie(e){const{children:t}=e,{element:n,elements:r}=Sd(),i=r?.[xke]||n;return u.jsx(y1,{element:i,children:t})}function dV(e){const{dialog:t,referenceElement:n=null}=e,r=f.useId();if("confirm"===t.type)return u.jsx(G3n,{dialog:t,referenceElement:n});if("popover"===t.type)return u.jsx(K3n,{dialog:t,referenceElement:n});if("dialog"===t.type||!t.type)return u.jsx(wie,{children:u.jsx(q3n,{dialog:t})});if("custom"===t.type)return u.jsx(wie,{children:t?.component});const i=t;return console.warn(`Unsupported modal type ${i.type}`),u.jsx(Si,{id:r,onClose:i.onClose,onClickOutside:i.onClose,width:1,children:i.content||u.jsxs(L,{size:1,children:["Unexpected modal type (",u.jsx("code",{children:i.type}),")"]})})}function _ke({actionStates:e,children:t,referenceElement:n}){const[r,i]=f.useState(-1),o=e[r],a=f.useCallback((e=>{i(e)}),[]);return u.jsxs(u.Fragment,{children:[o&&o.dialog&&u.jsx(dd,{zOffset:"paneFooter",children:u.jsx(dV,{dialog:o.dialog,referenceElement:n})}),t({handleAction:a})]})}function X3n(e){const{actionStates:t,disabled:n}=e,r=f.useId(),[i,o]=f.useState(null),a=f.useMemo((()=>({placement:"top-end",portal:!0,preventOverflow:!0})),[]),{t:s}=Z(Mt);return u.jsx(_ke,{actionStates:t,referenceElement:i,children:({handleAction:e})=>u.jsx(Gt,{id:`${r}-action-menu`,button:u.jsx(ai,{"aria-label":s("buttons.action-menu-button.aria-label"),disabled:n,"data-testid":"action-menu-button",size:"large",tooltipProps:{content:s("buttons.action-menu-button.tooltip")}}),menu:u.jsx(At,{padding:1,children:t.map(((t,r)=>u.jsx(kke,{actionState:t,disabled:n,index:r,onAction:e},r)))}),popover:a,ref:o})})}function kke(e){const{actionState:t,disabled:n,index:r,onAction:i}=e,{onHandle:o}=t,a=f.useCallback((()=>{i(r),o&&o()}),[r,i,o]),s=f.useMemo((()=>t.shortcut?String(t.shortcut).split("+").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))):void 0),[t.shortcut]);return u.jsx(qe,{"data-testid":`action-${t.label.replace(" ","")}`,disabled:n||!!t.disabled,hotkeys:s,icon:t.icon,onClick:a,text:t.label,tone:t.tone,...t.disabled&&{tooltipProps:{content:t.title}}})}const J3n={NOTHING_TO_DELETE:"action.delete.disabled.nothing-to-delete",NOT_READY:"action.delete.disabled.not-ready"},Tke=({id:e,type:t,draft:n,onComplete:r})=>{const{setIsDeleting:i}=vr(),{delete:o}=xl(e,t),[a,s]=f.useState(!1),[l,c]=f.useState(!1),{t:d}=Z(Mt),p=f.useCallback((()=>{c(!1),r()}),[r]),h=f.useCallback((()=>{s(!0),c(!1),i(!0),o.execute(),r()}),[o,r,i]),m=f.useCallback((()=>{c(!0)}),[]),[g,y]=ic({id:e,type:t,permission:"delete"}),v=Un();return y||null!=g&&g.granted?{tone:"critical",icon:Br,disabled:a||!!o.disabled||y,title:o.disabled&&d(J3n[o.disabled])||"",label:d(a?"action.delete.running.label":"action.delete.label"),shortcut:"Ctrl+Alt+D",onHandle:m,dialog:l&&{type:"custom",component:u.jsx(oV,{action:"delete",id:n?._id||e,type:t,onCancel:p,onConfirm:h})}}:{tone:"critical",icon:Br,disabled:!0,label:d("action.delete.label"),title:u.jsx(ol,{context:"delete-document",currentUser:v})}};Tke.action="delete";const Q3n={NO_CHANGES:"action.discard-changes.disabled.no-change",NOT_PUBLISHED:"action.discard-changes.disabled.not-published",NOT_READY:"action.discard-changes.disabled.not-ready"},Ake=({id:e,type:t,published:n,liveEdit:r,onComplete:i})=>{const{discardChanges:o}=xl(e,t),[a,s]=f.useState(!1),[l,c]=ic({id:e,type:t,permission:"discardDraft"}),d=Un(),{t:p}=Z(Mt),h=f.useCallback((()=>{o.execute(),i()}),[o,i]),m=f.useCallback((()=>{s(!0)}),[]),g=f.useMemo((()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:h,message:p("action.discard-changes.confirm-dialog.confirm-discard-changes")}),[h,a,i,p]);return!n||r?null:c||null!=l&&l.granted?{tone:"critical",icon:Ru,disabled:!!o.disabled||c,title:o.disabled&&Q3n[o.disabled]||"",label:p("action.discard-changes.label"),onHandle:m,dialog:g}:{tone:"critical",icon:Ru,disabled:!0,label:p("action.discard-changes.label"),title:u.jsx(ol,{context:"discard-changes",currentUser:d})}};Ake.action="discardChanges";const eOn={NOTHING_TO_DUPLICATE:"action.duplicate.disabled.nothing-to-duplicate",NOT_READY:"action.duplicate.disabled.not-ready"},jke=({id:e,type:t,onComplete:n})=>{const r=_s(),{duplicate:i}=xl(e,t),{navigateIntent:o}=wo(),[a,s]=f.useState(!1),[l,c]=ic({id:e,type:t,permission:"duplicate"}),{t:d}=Z(Mt),p=Un(),h=f.useCallback((async()=>{const a=Ca();s(!0);const l=eJe(r.pair.operationEvents(e,t).pipe(jt((e=>"duplicate"===e.op&&"success"===e.type))));i.execute(a),await l,o("edit",{id:a,type:t}),n()}),[r.pair,i,e,o,n,t]);return c||null!=l&&l.granted?{icon:Ll,disabled:a||!!i.disabled||c,label:d(a?"action.duplicate.running.label":"action.duplicate.label"),title:i.disabled?d(eOn[i.disabled]):"",onHandle:h}:{icon:Ll,disabled:!0,label:d("action.duplicate.label"),title:u.jsx(ol,{context:"duplicate-document",currentUser:p})}};jke.action="duplicate";const fV=({id:e,type:t,revision:n,onComplete:r})=>{const{restore:i}=xl(e,t),o=y5e(e,t),{navigateIntent:a}=wo(),s=f.useRef(o),[l,u]=f.useState(!1),{t:c}=Z(Mt),d=f.useCallback((()=>{i.execute(n),r()}),[i,n,r]);f.useEffect((()=>{!o||o===s.current||("success"===o.type&&"restore"===o.op&&a("edit",{id:e,type:t}),s.current=o)}),[o,e,a,t]);const p=f.useCallback((()=>{u(!0)}),[]),h=f.useMemo((()=>l?{type:"confirm",tone:"critical",onCancel:r,onConfirm:d,message:c("action.restore.confirm.message")}:null),[d,l,r,c]),m="@initial"===n;return void 0===n?null:{label:c("action.restore.label"),color:"primary",onHandle:p,title:c(m?"action.restore.disabled.cannot-restore-initial":"action.restore.tooltip"),icon:uk,dialog:h,disabled:m}};fV.action="restore";const tOn=_i({name:"Document Published",version:1,description:'User clicked the "Publish" button in the document pane'}),nOn={LIVE_EDIT_ENABLED:"action.publish.live-edit.publish-disabled",ALREADY_PUBLISHED:"action.publish.already-published.no-time-ago.tooltip",NO_CHANGES:"action.publish.no-changes.tooltip",NOT_READY:"action.publish.disabled.not-ready"};function rOn(e,t,n){return"ALREADY_PUBLISHED"===e&&t?u.jsx(iOn,{publishedAt:t}):n(nOn[e])}function iOn({publishedAt:e}){const{t:t}=Z(Mt),n=Jp(e,{useTemporalPhrase:!0});return u.jsx("span",{children:t("action.publish.already-published.tooltip",{timeSincePublished:n})})}const Ike=e=>{var t;const{id:n,type:r,liveEdit:i,draft:o,published:a}=e,[s,l]=f.useState(null),{publish:c}=xl(n,r),d=cv(n,r),p=C5e(n,r),{changesOpen:h,onHistoryOpen:m,documentId:g,documentType:y}=vr(),v=fj(g,y),{t:b}=Z(Mt),x=(v?.draft||v?.published||{})._rev,w=d.validation.some(Y4),[C,k]=f.useState(!1),j=p.isSyncing,S=d.isValidating,[E,_]=ic({id:n,type:r,permission:"publish"}),A=Un(),T=c.disabled?rOn(c.disabled,(a||{})._updatedAt,b)||"":w?b("action.publish.validation-issues.tooltip"):"",D=!!o,M=f.useCallback((()=>{c.execute(),l("publishing")}),[c]);f.useEffect((()=>{const e=!1===d.isValidating&&d.revision!==x;!C||j||!e||(w||M(),k(!1))}),[j,M,w,C,d.revision,x,S,d.isValidating]),f.useEffect((()=>{const e="publishing"===s&&!D;e&&h&&m();const t=e?"published":null,n=setTimeout((()=>{l(t)}),e?200:4e3);return()=>clearTimeout(n)}),[h,s,D,m]);const I=Ss(),O=f.useCallback((()=>{I.log(tOn,{publishedImmediately:!(null!=o&&o._createdAt),previouslyPublished:!!a}),p.isSyncing||d.isValidating||d.revision!==x?k(!0):M()}),[I,o?._createdAt,a,p.isSyncing,d.isValidating,d.revision,x,M]);if(i)return{tone:"default",icon:Jh,label:b("action.publish.live-edit.label"),title:b("action.publish.live-edit.tooltip"),disabled:!0};if(!(_||null!=E&&E.granted))return{tone:"default",icon:Jh,label:"Publish",title:u.jsx(ol,{context:"publish-document",currentUser:A}),disabled:!0};const N=!!(C||null!=(t=v?.transactionSyncLock)&&t.enabled||"publishing"===s||"published"===s||w||c.disabled);return{disabled:N||_,tone:"default",label:b("published"===s?"action.publish.published.label":C||"publishing"===s?"action.publish.running.label":"action.publish.draft.label"),icon:Jh,title:C?b("action.publish.waiting"):"published"===s||"publishing"===s?null:T,shortcut:N||C?null:"Ctrl+Alt+P",onHandle:O}};Ike.action="publish";const aOn={NOT_PUBLISHED:"action.unpublish.disabled.not-published",NOT_READY:"action.unpublish.disabled.not-ready",LIVE_EDIT_ENABLED:"action.unpublish.disabled.live-edit-enabled"},Dke=({id:e,type:t,draft:n,onComplete:r,liveEdit:i})=>{const{unpublish:o}=xl(e,t),[a,s]=f.useState(!1),[l,c]=ic({id:e,type:t,permission:"unpublish"}),d=Un(),{t:p}=Z(Mt),h=f.useCallback((()=>{s(!1),r()}),[r]),m=f.useCallback((()=>{s(!1),o.execute(),r()}),[r,o]),g=f.useMemo((()=>a?{type:"dialog",onClose:r,content:u.jsx(oV,{id:n?._id||e,type:t,action:"unpublish",onCancel:h,onConfirm:m})}:null),[n,e,h,m,a,r,t]);return i?null:c||null!=l&&l.granted?{tone:"critical",icon:vb,disabled:!!o.disabled||c,label:p("action.unpublish.label"),title:o.disabled?p(aOn[o.disabled]):"",onHandle:()=>s(!0),dialog:g}:{tone:"critical",icon:vb,label:"Unpublish",title:u.jsx(ol,{context:"unpublish-document",currentUser:d}),disabled:!0}};function Oke(e){var t,n,r;const{disabled:i,showMenu:o,states:a}=e,{__internal_tasks:s,schemaType:l,openPath:c}=vr(),[d,...p]=a,[h,m]=f.useState(null),g=null==(r=null==(n=null==(t=Sn().features)?void 0:t.beta)?void 0:n.treeArrayEditing)?void 0:r.enabled,y=f.useMemo((()=>!!g&&WP(l,c)),[g,c,l]),v=f.useMemo((()=>d&&(d.title||d.shortcut)?u.jsxs(U,{style:{maxWidth:300},align:"center",gap:3,children:[d.title&&u.jsx(L,{size:1,children:d.title}),d.shortcut&&u.jsx(Wx,{fontSize:1,style:{marginTop:-4,marginBottom:-4},keys:String(d.shortcut).split("+").map((e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()))})]}):null),[d]);return u.jsxs(U,{align:"center",gap:1,children:[s&&s.footerAction,d&&u.jsx(nl,{zOffset:200,children:u.jsx(pt,{disabled:!v,content:v,placement:"top",children:u.jsx(ne,{children:u.jsx(me,{"data-testid":`action-${d.label}`,disabled:i||!!d.disabled||y,icon:d.icon,onClick:d.onHandle,ref:m,size:"large",text:d.label,tone:d.tone||"primary"})})})}),o&&p.length>0&&u.jsx(X3n,{actionStates:p,disabled:i}),d&&d.dialog&&u.jsx(dV,{dialog:d.dialog,referenceElement:h})]})}Dke.action="unpublish";const oOn=f.memo((function(){const{actions:e,connectionState:t,documentId:n,editState:r}=vr(),i=f.useMemo((()=>(e??[]).filter((e=>!hV(e)))),[e]);return 0!==i.length&&r?u.jsx(bj,{actions:i,actionProps:r,group:"default",children:({states:e})=>u.jsx(Oke,{disabled:"connected"!==t,showMenu:i.length>1,states:e},n)}):null})),sOn=f.memo((function(){const{actions:e,connectionState:t,editState:n,timelineStore:r}=vr(),i=Zi(r,(e=>e.revTime)),o=i?.id||"",a=(n?.draft||n?.published||{})._rev===o,s=f.useMemo((()=>({...n||{},revision:o})),[n,o]),l=f.useMemo((()=>(e??[]).filter(hV).slice(-1)),[e]);return u.jsx(bj,{actions:l,actionProps:s,group:"default",children:({states:e})=>u.jsx(Oke,{disabled:"connected"!==t||!!a,showMenu:!1,states:e})})}));function hV(e){return e.action===fV.action}const lOn={create:mE,delete:Br,discardDraft:Ar,initial:mE,editDraft:Ou,editLive:Ou,publish:Jh,unpublish:vb};function uOn(e){return lOn[e]}const cOn=$(ne)`
  max-width: 200px;
`,dOn=$(U)`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`,fOn=$(N)((({$visible:e})=>de`
    opacity: 0;
    pointer-events: none;

    ${e&&de`
      opacity: 1;
      pointer-events: auto;
    `}
  `)),Rke={initial:"timeline.operation.created-initial",create:"timeline.operation.created",publish:"timeline.operation.published",editLive:"timeline.operation.edited-live",editDraft:"timeline.operation.edited-draft",unpublish:"timeline.operation.unpublished",discardDraft:"timeline.operation.draft-discarded",delete:"timeline.operation.deleted"},sE=$(U)((({theme:e})=>{var t;return de`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: ${null==(t=e.sanity.color.base.skeleton)?void 0:t.from};
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `})),hOn=$(wt)((({$selected:e,$disabled:t})=>de`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] ${sE}::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] ${sE}::before {
      height: 50%;
    }

    ${e&&de`
      ${sE}::before {
        background: transparent;
      }
    `}

    ${t&&de`
      cursor: not-allowed;
    `}
  `)),pOn=$(N)`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`,mOn=$(N)`
  min-width: 1rem;
  margin-left: ${({theme:e})=>`-${ke(e.sanity.space[1])}`};
`;function gOn({maxLength:e,userIds:t}){return u.jsx(Ux,{maxLength:e,children:t.map((e=>u.jsx(gs,{user:e,withTooltip:!0},e)))})}const Cie={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function vOn({chunk:e,isFirst:t,isLast:n,isLatest:r,isSelected:i,onSelect:o,timestamp:a,type:s}){const{t:l}=Z("studio"),c=uOn(s),d=Array.from(e.authors),p="delete"!==s,h=Js({dateStyle:"medium",timeStyle:"short"}),m=f.useMemo((()=>{const e=new Date(a);return h.format(e)}),[a,h]),g=f.useCallback((t=>{t.preventDefault(),t.stopPropagation(),p&&o(e)}),[o,e,p]);return u.jsx(hOn,{$selected:i,$disabled:!p,"data-testid":"timeline-item-button","data-chunk-id":e.id,"data-first":!!t||void 0,"data-last":!!n||void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:g,padding:0,radius:2,tone:i?"primary":Cie[e.type],children:u.jsx(N,{paddingX:2,children:u.jsxs(U,{align:"stretch",children:[u.jsx(sE,{align:"center",children:u.jsx(pOn,{padding:2,children:u.jsx(L,{size:2,children:c&&f.createElement(c)})})}),u.jsxs(ne,{space:2,margin:2,children:[r&&u.jsx(U,{children:u.jsx(ae,{padding:1,radius:2,shadow:1,tone:i?"primary":Cie[e.type],children:u.jsx(L,{muted:!0,size:0,weight:"medium",children:l("timeline.latest")})})}),u.jsx(N,{children:u.jsx(L,{size:1,weight:"medium",children:l(Rke[s])||u.jsx("code",{children:s})})}),u.jsx(mOn,{paddingX:1,children:u.jsx(L,{as:"time",size:0,muted:!0,dateTime:a,children:m})})]}),u.jsx(U,{flex:1,justify:"flex-end",align:"center",children:u.jsx(gOn,{maxLength:3,userIds:d})})]})})})}const z4=({chunks:e,disabledBeforeFirstChunk:t,hasMoreChunks:n,lastChunk:r,onLoadMore:i,onSelect:o,firstChunk:a})=>{const[s,l]=f.useState(!1),{t:c}=Z("studio"),d=f.useMemo((()=>e.filter((e=>!t||!a||e.index<a.index))),[e,t,a]),p=f.useMemo((()=>null!=r&&r.id?d.findIndex((e=>e.id===r.id)):-1),[r?.id,d]),h=f.useCallback(((e,{activeIndex:r})=>{const i=0===r,a=d&&r===d.length-1||!1;return u.jsxs(N,{paddingBottom:a?1:0,paddingTop:i?1:0,paddingX:1,children:[u.jsx(vOn,{chunk:e,isFirst:i,isLast:a,isLatest:0===r&&!t,isSelected:r===p,onSelect:o,timestamp:e.endTimestamp,type:e.type}),r===d.length-1&&n&&u.jsx(wn,{})]})}),[t,d,n,o,p]);return f.useEffect((()=>l(!0)),[]),u.jsxs(fOn,{$visible:!p||s,"data-ui":"timeline",children:[0===d.length&&u.jsxs(cOn,{padding:3,space:3,children:[u.jsx(L,{size:1,weight:"medium",children:c("timeline.error.no-document-history-title")}),u.jsx(L,{muted:!0,size:1,children:c("timeline.error.no-document-history-description")})]}),d.length>0&&u.jsx(dOn,{direction:"column",children:u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:c("timeline.list.aria-label"),autoFocus:"list",initialIndex:p,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:h,wrapAround:!1})})]})};function yOn(){const{t:e}=Z("studio");return u.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[u.jsx(Nr,{tone:"critical",children:u.jsx(ra,{})}),u.jsxs(ne,{space:4,children:[u.jsx(Nr,{size:1,tone:"critical",weight:"medium",children:e("timeline.error.load-document-changes-title")}),u.jsx(Nr,{size:1,tone:"critical",children:e("timeline.error.load-document-changes-description")})]})]})}z4.displayName="Timeline";const bOn=$(An)`
  overflow: hidden;
  overflow: clip;
`;function Mke({chunk:e,mode:t,placement:n}){const{setTimelineRange:r,setTimelineMode:i,timelineError:o,ready:a,timelineStore:s}=vr(),[l,c]=f.useState(!1),[d,p]=f.useState(null),[h,m]=f.useState(null),g=Ur(),y=Zi(s,(e=>e.chunks)),v=Zi(s,(e=>e.isLoading)),b=Zi(s,(e=>e.hasMoreChunks)),x=Zi(s,(e=>e.realRevChunk)),w=Zi(s,(e=>e.sinceTime)),{t:C}=Z("studio"),k=f.useCallback((()=>{i(t),c(!0)}),[t,i]),j=f.useCallback((()=>{i("closed"),c(!1)}),[i]),S=f.useCallback((()=>{l&&j()}),[j,l]),E=f.useCallback((e=>{l&&("Escape"===e.key||"Tab"===e.key)&&(j(),d?.focus())}),[d,j,l]);Fn(S,[d,h]),mo(E);const _=f.useCallback((e=>{try{const[t,n]=s.findRangeForRev(e);i("closed"),r(t,n)}catch(e){g.push({closable:!0,description:e.message,status:"error",title:C("timeline.error.unable-to-load-revision")})}}),[i,r,C,s,g]),A=f.useCallback((e=>{try{const[t,n]=s.findRangeForSince(e);i("closed"),r(t,n)}catch(e){g.push({closable:!0,description:e.message,status:"error",title:C("timeline.error.unable-to-load-revision")})}}),[i,r,C,s,g]),T=f.useCallback((()=>{v||s.loadMore()}),[v,s]),D=o?u.jsx(yOn,{}):u.jsxs(u.Fragment,{children:["rev"===t&&u.jsx(z4,{chunks:y,firstChunk:x,hasMoreChunks:b,lastChunk:x,onLoadMore:T,onSelect:_}),"since"===t&&u.jsx(z4,{chunks:y,disabledBeforeFirstChunk:!0,firstChunk:x,hasMoreChunks:b,lastChunk:w,onLoadMore:T,onSelect:A})]}),M={timestamp:{dateStyle:"medium",timeStyle:"short"}},I=e?C(Rke[e.type],{context:"timestamp",timestamp:new Date(e?.endTimestamp),formatParams:M}):C("timeline.latest-revision"),O=e?C("timeline.since",{timestamp:new Date(e?.endTimestamp),formatParams:M}):C("timeline.since-version-missing");return u.jsx(bOn,{"data-testid":"timeline-menu",constrainSize:!0,content:l&&D,"data-ui":"versionMenu",open:l,placement:n,portal:!0,ref:m,children:u.jsx(me,{"data-testid":l?"timeline-menu-close-button":"timeline-menu-open-button",disabled:!a,mode:"bleed",iconRight:ci,onClick:l?j:k,ref:p,selected:l,style:{maxWidth:"100%"},text:a?"rev"===t?I:O:C("timeline.loading-history")})})}function xOn(){const{activeViewId:e,paneKey:t,views:n}=vr(),r=`${t}tabpanel`;return u.jsx(b1,{space:1,children:n.map(((n,i)=>{var o;return u.jsx(wOn,{icon:n.icon,id:`${t}tab-${n.id}`,isActive:e===n.id,label:n.title,tabPanelId:r,viewId:0===i?null:null!=(o=n.id)?o:null},n.id)}))})}function wOn(e){const{icon:t,id:n,isActive:r,label:i,tabPanelId:o,viewId:a,...s}=e,{ready:l}=vr(),{setView:c}=ac(),d=f.useCallback((()=>c(a)),[c,a]);return u.jsx(kb,{...s,"aria-controls":o,disabled:!l,icon:t,id:n,label:i,onClick:d,selected:r})}function COn(){const{connectionState:e,schemaType:t,title:n,value:r}=vr(),i=!!r&&"connecting"!==e,{error:o,value:a}=Vw({enabled:i,schemaType:t,value:r}),{t:s}=Z(Mt);return"connecting"===e?u.jsx(u.Fragment,{}):n?u.jsx(u.Fragment,{children:n}):r?o?u.jsx(u.Fragment,{children:s("panes.document-header-title.error.text",{error:o.message})}):u.jsx(u.Fragment,{children:a?.title||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:s("panes.document-header-title.untitled.text")})}):u.jsx(u.Fragment,{children:s("panes.document-header-title.new.text",{schemaType:t?.title||t?.name})})}const SOn=f.memo(f.forwardRef((function(e,t){const{menuItems:n}=e,{actions:r,editState:i,onMenuAction:o,onPaneClose:a,onPaneSplit:s,menuItemGroups:l,schemaType:c,timelineStore:d,connectionState:p,views:h,unstable_languageFilter:m}=vr(),{features:g}=ch(),{index:y,BackLink:v,hasGroupSiblings:b}=ac(),{actions:x}=x9(),[w,C]=f.useState(null),k=f.useMemo((()=>(r??[]).filter((e=>!hV(e)))),[r]),j=f.useMemo((()=>pke({actionHandler:o,fieldActions:x,menuItems:n,menuItemGroups:l})),[o,x,l,n]),S=f.useMemo((()=>j.filter(sV)),[j]),E=f.useMemo((()=>j.filter(hke)),[j]),_=h.length>1,A=Zi(d,(e=>e.revTime)),{collapsed:T,isLast:D}=$d(),M=D&&!T?-1:0,I=g.splitViews&&s&&h.length>1,O=I&&b,N=g.backButton&&y>0,P=!O&&!N&&!!v,{t:R}=Z(Mt);return u.jsx(Sa,{children:u.jsx(yj,{border:!0,ref:t,loading:"connecting"===p,title:u.jsx(COn,{}),tabs:_&&u.jsx(xOn,{}),tabIndex:M,backButton:N&&u.jsx(me,{as:v,"data-as":"a",icon:r1,mode:"bleed",tooltipProps:{content:R("pane-header.back-button.text")}}),subActions:u.jsx(Mke,{chunk:A,mode:"rev",placement:"bottom-end"}),actions:u.jsxs(U,{align:"center",gap:1,children:[m.length>0&&u.jsx(u.Fragment,{children:m.map(((e,t)=>f.createElement(e,{key:`language-filter-${t}`,schemaType:c})))}),S.map((e=>u.jsx(fke,{node:e},e.key))),i&&u.jsx(bj,{actions:k,actionProps:i,group:"paneActions",children:({states:e})=>u.jsx(_ke,{actionStates:e,referenceElement:w,children:({handleAction:t})=>u.jsx("div",{ref:C,children:u.jsx(cke,{nodes:E,actionsNodes:e.length>0?e.map(((e,n)=>u.jsx(kke,{actionState:e,disabled:!!e.disabled,index:n,onAction:t},e.label))):void 0},"context-menu")})})}),I&&u.jsx(me,{"aria-label":R("buttons.split-pane-button.aria-label"),icon:VF,mode:"bleed",onClick:s,tooltipProps:{content:R("buttons.split-pane-button.tooltip")}},"split-pane-button"),O&&u.jsx(me,{icon:Ar,mode:"bleed",onClick:a,tooltipProps:{content:R("buttons.split-pane-close-button.title")}},"close-view-button"),P&&u.jsx(me,{icon:Ar,mode:"bleed",tooltipProps:{content:R("buttons.split-pane-close-group-button.title")},as:v},"close-view-button")]})})})}))),EOn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function _On({states:e}){return 0===e.length?null:u.jsx(xn,{space:1,children:e.map(((e,t)=>u.jsx(pt,{content:e.title,disabled:!e.title,placement:"top",portal:!0,children:u.jsx(ja,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:e.color?EOn[e.color]:void 0,style:{whiteSpace:"nowrap"},children:e.label})},String(t))))})}function kOn(){const{badges:e,editState:t}=vr();return t&&e?u.jsx(JDn,{badges:e,badgeProps:t,children:({states:e})=>u.jsx(_On,{states:e})}):null}const TOn=$(di.path)`
  transform-origin: center;
`,AOn=e=>u.jsx(di.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),jOn=e=>u.jsx(TOn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),IOn=e=>u.jsx(di.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),DOn=Hf`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`,OOn=$.g`
  transform-origin: center;

  &[data-rotate] {
    animation: ${DOn} 1s ease-in-out infinite;
  }
`,ROn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},MOn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},$On={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},POn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}};function FOn(e){const{status:t}=e;return t?u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"animated-status-icon",children:u.jsxs(di.g,{variants:ROn,initial:t,animate:t,children:[u.jsxs(OOn,{"data-rotate":"changes"===t?void 0:"",children:[u.jsx(jOn,{variants:$On,initial:t,animate:t}),u.jsx(AOn,{variants:MOn,initial:t,animate:t})]}),u.jsx(IOn,{variants:POn,initial:t,animate:t})]})}):null}const LOn={saved:{i18nKey:"status-bar.document-status-pulse.status.saved.text",tone:"positive"},syncing:{i18nKey:"status-bar.document-status-pulse.status.syncing.text",tone:"default"}},NOn=e=>{const{status:t}=e,{t:n}=Z(Mt);if("saved"!==t&&"syncing"!==t)return null;const r=LOn[t];return u.jsxs(U,{align:"center",gap:2,children:[u.jsx(Nr,{size:1,tone:r.tone,children:u.jsx(FOn,{status:t})}),u.jsx(L,{muted:!0,size:1,children:n(r.i18nKey)})]})},BOn=1e3,VOn=3e3;function zOn({singleLine:e}){const{documentId:t,documentType:n,editState:r,value:i}=vr(),[o,a]=f.useState(null),s=C5e(t,n),l=i?._updatedAt;return f.useEffect((()=>{if("syncing"===o&&!s.isSyncing){const e=setTimeout((()=>a("saved")),BOn);return()=>clearTimeout(e)}if("saved"===o){const e=setTimeout((()=>a(null)),VOn);return()=>clearTimeout(e)}}),[o,l,s.isSyncing]),f.useLayoutEffect((()=>{a(null)}),[t]),f.useLayoutEffect((()=>{s.isSyncing&&a("syncing")}),[s.isSyncing,l]),o?u.jsx(NOn,{status:o||void 0}):u.jsx(pt,{content:u.jsx(J0,{absoluteDate:!0,draft:r?.draft,published:r?.published}),placement:"top",children:u.jsxs(U,{align:"center",gap:3,children:[u.jsx(iv,{draft:r?.draft,published:r?.published}),u.jsx(J0,{draft:r?.draft,published:r?.published,singleLine:e})]})})}function UOn({element:e,onResize:t}){f.useLayoutEffect((()=>(e&&ix.observe(e,t),()=>{e&&ix.unobserve(e)})),[e,t])}const HOn=480;function WOn(e){const{actionsBoxRef:t}=e,{editState:n,timelineStore:r}=vr(),i=Zi(r,(e=>e.onOlderRevision)),[o,a]=f.useState(null),[s,l]=f.useState(null);UOn({element:s,onResize:f.useCallback((e=>{a(e.contentRect.width<HOn)}),[])});const c=n?.ready&&"boolean"==typeof o;return u.jsx(U,{direction:"column",ref:l,sizing:"border",children:c&&u.jsxs(U,{align:"stretch",gap:1,justify:"space-between",paddingY:2,paddingLeft:4,paddingRight:3,children:[u.jsxs(U,{align:"center",flex:1,gap:o?2:3,wrap:"wrap",paddingRight:3,children:[u.jsxs(U,{align:"center",children:[u.jsx(zOn,{singleLine:!o}),u.jsx(V4,{size:"large"})]}),u.jsx(kOn,{})]}),u.jsxs(U,{align:"flex-start",justify:"flex-end",ref:t,style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(V4,{size:"large"}),i?u.jsx(sOn,{}):u.jsx(oOn,{})]})]})})}function GOn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:i,id:o,onActionStart:a,onKeyDown:s,rootRef:l,states:c,...d}=e,p=c[n],h=f.useCallback((e=>{const t=c.filter((t=>t.shortcut&&aa(t.shortcut,e))),n=t[0];if(t.length>1&&console.warn(`Keyboard shortcut conflict: More than one document action matches the shortcut "${n.shortcut}"`),n&&!n.disabled&&n.onHandle)return e.preventDefault(),n.onHandle(),void a(c.indexOf(n));s&&s(e)}),[a,s,c]);return f.createElement(r,{id:o,onKeyDown:h,tabIndex:-1,...d,ref:l},[i,p&&p.dialog&&u.jsx(dd,{zOffset:"paneFooter",children:u.jsx(dV,{dialog:p.dialog,referenceElement:t})})])}const $ke=f.memo((e=>{const{actionsBoxElement:t,as:n="div",children:r,...i}=e,{actions:o,editState:a}=vr(),[s,l]=f.useState(-1),c=f.useCallback((e=>{l(e)}),[]),d=f.useMemo((()=>a&&{...a,onComplete:()=>{},revision:void 0}),[a]);return d&&o?u.jsx(bj,{actionProps:d,actions:o,children:({states:e})=>u.jsx(GOn,{...i,activeIndex:s,actionsBoxElement:t,as:n,onActionStart:c,states:e,children:r})}):null}));function YOn({currentInspector:e,hasValue:t,inspectors:n,inspectorMenuItems:r}){return n.map(((n,i)=>{var o;const a=r[i];return!a||a.hidden?null:{action:`${L4}${n.name}`,group:a.showAsAction?void 0:"inspectors",icon:a.icon,isDisabled:!t,selected:e?.name===n.name,shortcut:null==(o=a.hotkeys)?void 0:o.join("+"),showAsAction:a.showAsAction,title:a.title,tone:a.tone}})).filter(Boolean)}function qOn({hasValue:e,t:t}){return{action:"inspect",group:"inspectors",title:t("document-inspector.menu-item.title"),icon:IF,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function KOn({previewUrl:e,t:t}){return e?{action:"production-preview",group:"links",title:t("production-preview.menu-item.title"),icon:Bg,shortcut:"Ctrl+Alt+O"}:null}function ZOn(e){const t=YOn(e),n=[KOn(e)].filter(Boolean);return[...t,qOn(e),...n]}$ke.displayName="DocumentActionShortcuts";const XOn=e=>xt(e)&&"string"==typeof e._id&&"string"==typeof e._type;function Pke(e){const{resolveProductionUrl:t}=Sn().document,n=f.useMemo((()=>new Hk(void 0)),[]);f.useEffect((()=>{n.next(e)}),[n,e]);return Wr(f.useMemo((()=>n.asObservable().pipe(mr(),A6(500),ht((e=>XOn(e)?Qn(t({document:e})):we(void 0))),mr(),pn((e=>{const t=xt(e)&&"string"==typeof e.message?e.message:"Unknown error";throw new Error(`An error was thrown while trying to get your preview url: ${t}`)})))),[t,n]))}function JOn(e){const{documentType:t,value:n,currentMinWidth:r,paneKey:i,minWidth:o}=e,{t:a}=Z();return u.jsx(yke,{currentMinWidth:r,flex:2.5,minWidth:o,paneKey:i,title:u.jsx(dt,{t:a,i18nKey:"panes.document-pane.document-unknown-type.title",values:{documentType:t}}),tone:"caution",children:u.jsxs(ne,{space:4,children:[t&&u.jsx(L,{as:"p",children:u.jsx(dt,{t:a,i18nKey:"panes.document-pane.document-unknown-type.text",values:{documentType:t}})}),!t&&u.jsx(L,{as:"p",children:a("panes.document-pane.document-unknown-type.without-schema.text")}),Es]})})}const Sie=[],Eie=["fixed","fixed","absolute"],QOn=$(SHt)`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`;function eRn(){const{changesOpen:e,documentId:t,documentType:n,fieldActions:r,inspectOpen:i,inspector:o,inspectors:a,onFocus:s,onHistoryOpen:l,onMenuAction:c,onPathOpen:d,paneKey:p,schemaType:h,value:m}=vr(),{features:g}=ch(),{t:y}=x1(Mt),{collapsed:v}=Nm(),b=j5e(),x=Pke(m),[w,C]=f.useState(null),[k,j]=f.useState(null),[S,E]=f.useState(null),[_,A]=f.useState(null),[T,D]=f.useState(null),[M,I]=f.useState([]),[O,N]=f.useState([]),P=Tp(k),R=Tp(S),F=P?.height,L=R?.height,$=s3n+(o?F4:0),B=o3n+(o?F4:0),V=f.useMemo((()=>a?.find((e=>e.name===o?.name))),[a,o?.name]),z=!!m,H=f.useMemo((()=>ZOn({currentInspector:V,features:g,hasValue:z,inspectorMenuItems:M,inspectors:a,previewUrl:x,t:y})),[V,g,z,M,a,x,y]),W=f.useCallback((e=>{for(const t of H)if(t.shortcut&&aa(t.shortcut,e))return e.preventDefault(),e.stopPropagation(),void c(t)}),[c,H]),q=f.useCallback((e=>{d(e),s(e)}),[d,s]);return h?u.jsxs(u.Fragment,{children:[a.length>0&&u.jsx(f3n,{documentId:t,documentType:n,inspectors:a,onMenuItems:I}),r.length>0&&h&&u.jsx($w,{actions:r,documentId:t,documentType:n,onActions:N,path:Sie,schemaType:h}),u.jsx(Mw,{actions:O,path:Sie,children:u.jsxs($ke,{actionsBoxElement:_,as:Jw,currentMinWidth:$,"data-testid":"document-pane",flex:2.5,id:p,minWidth:B,onKeyUp:W,rootRef:C,children:[u.jsx(SOn,{ref:E,menuItems:H}),u.jsx(OE,{position:Eie,zOffset:b.paneDialog,children:u.jsx(U,{direction:"column",flex:1,height:v?void 0:"fill",children:u.jsx(QOn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:l,onSetFocus:q,children:u.jsx(H3n,{footerHeight:F||null,headerHeight:L||null,isInspectOpen:i,rootElement:w,setDocumentPanelPortalElement:D})})})}),u.jsx(y1,{__unstable_elements:{[xke]:T},children:u.jsx(OE,{position:Eie,zOffset:b.portal,children:u.jsx(IDn,{ref:j,children:u.jsx(Sa,{children:u.jsx(WOn,{actionsBoxRef:A})})})})}),u.jsx(m3n,{})]})})]}):u.jsx(JOn,{currentMinWidth:$,documentType:n,minWidth:B,paneKey:p,value:m})}function tRn(e){var t,n;return null==(n=null==(t=e.document)?void 0:t.components)?void 0:n.unstable_layout}function nRn(){return gl({pick:tRn,defaultComponent:eRn})}function rRn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn(`Conflicting templates: URL says "${t.urlTemplate}", structure node says "${r}". Using "${r}".`);const i=r||t.urlTemplate,o=e.filter((e=>e.schemaType===t.documentType)),a={...t.templateParams,..."object"==typeof n&&n||{}};let s=i;return!i&&1===o.length&&(s=o[0].id),{templateName:s,templateParams:a}}const pV=f.memo((e=>{const{children:t,index:n,pane:r,paneKey:i,onFocusPath:o}=e,a=Jt(),s=hv(),{__internal_tasks:l,document:{actions:c,badges:d,unstable_fieldActions:p,unstable_languageFilter:h,inspectors:m}}=Sn(),g=vB(),y=ac(),v=y.setParams,{features:b}=ch(),{push:x}=Ur(),{options:w,menuItemGroups:C=c3n,title:k=null,views:j=[]}=r,S=ba(w),E=S.id,_=sn(E),A=w.type,T=ba(y.params)||u3n,D=ba(y.payload),{templateName:M,templateParams:I}=f.useMemo((()=>rRn(s,{documentType:A,templateName:S.template,templateParams:S.templateParameters,panePayload:D,urlTemplate:T.template})),[A,S,T,D,s]),O=ba(Ddn({documentId:_,documentType:A,templateName:M,templateParams:I})),{patch:N}=xl(_,A),P=fj(_,A),{validation:R}=cv(_,A),F=g5e(_,A),L=a.get(A),$=P?.draft||P?.published||O.value,[B,V]=f.useState(!1),z=f.useMemo((()=>c({schemaType:A,documentId:_})),[c,_,A]),U=f.useMemo((()=>d({schemaType:A,documentId:_})),[d,_,A]),H=f.useMemo((()=>h({schemaType:A,documentId:_})),[_,A,h]),W=ba(R),q=ba(j),[G,Y]=f.useState((()=>T.path?Qs(T.path):an)),K=f.useRef([]),X=T.view||q[0]&&q[0].id||null,[J,Q]=f.useState("closed"),[ee,te]=f.useState(null);f.useEffect((()=>{T.prefersLatestPublished&&P.published&&v({...pa(T,"prefersLatestPublished"),rev:`${P.published._updatedAt}/${P.published._rev}`})}),[P,v,T]);const ne=Ffn({documentId:_,documentType:A,onError:te,rev:T.rev,since:T.since}),re=Zi(ne,(e=>e.onOlderRevision)),ie=Zi(ne,(e=>e.revTime)),oe=Zi(ne,(e=>e.sinceAttributes)),ae=Zi(ne,(e=>e.timelineDisplayed)),se=Zi(ne,(e=>e.timelineReady)),le=Zi(ne,(e=>e.isPristine)),ue=f.useMemo((()=>!!se&&!(null!=P&&P.draft||null!=P&&P.published||le)),[P?.draft,P?.published,le,se]),ce=Pke($),[de,fe]=f.useState([]);f.useEffect((()=>{const e=g.documentPresence(_).subscribe((e=>{fe(e)}));return()=>{e.unsubscribe()}}),[_,g]);const pe=f.useMemo((()=>m({documentId:_,documentType:A})),[_,A,m]),[he,me]=f.useState((()=>T.inspect||null)),ge=f.useRef(T.inspect);f.useEffect((()=>{ge.current!==T.inspect&&(ge.current=T.inspect,me(T.inspect||null))}),[T.inspect]);const ye=pe?.find((e=>e.name===he)),ve=pe.find((e=>e.name===N4)),be=ye?.name===N4,{t:xe}=Z(Mt),we="on"===T.inspect,Ce=be?oe:P?.published||null,ke=f.useMemo((()=>L?p({documentId:_,documentType:A,schemaType:L}):[]),[_,A,p,L]),je="connected"===F&&P.ready&&(se||!!ee),Se=f.useMemo((()=>re?ae||{_id:$._id,_type:$._type}:$),[re,ae,$]),Ee=f.useCallback(((e,t)=>{v({...T,since:e,rev:t||void 0})}),[T,v]),_e=f.useCallback((e=>{dt.current||(Y(an),K.current!==an&&(K.current=an,o?.(an)))}),[o,Y]),Ae=f.useRef((()=>{throw new Error("Nope")}));Ae.current=e=>{N.execute(_Ee(e.patches),O.value)};const Te=f.useCallback((e=>Ae.current(e)),[]),De=f.useCallback((e=>{var t,n,r,i;const o=e&&pe.find((t=>t.name===e));if(!e||o){if(ye){if(o){const e=null!=(n=null==(t=o.onClose)?void 0:t.call(o,{params:T}))?n:{params:T};return me(null),ge.current=void 0,void v({...e.params,inspect:void 0})}if(ye){const e=null!=(i=null==(r=ye.onClose)?void 0:r.call(ye,{params:T}))?i:{params:T};me(null),ge.current=void 0,v({...e.params,inspect:void 0})}}}else console.warn(`No inspector named "${e}"`)}),[ye,pe,T,v]),Me=f.useCallback(((e,t)=>{var n,r,i,o;const a=pe.find((t=>t.name===e));if(!a)return void console.warn(`No inspector named "${e}"`);if(ye?.name===a.name)return void v({...T,...t,inspect:a.name});let s=T;ye&&(s=(null!=(r=null==(n=a.onClose)?void 0:n.call(a,{params:s}))?r:{params:s}).params);const l=null!=(o=null==(i=a.onOpen)?void 0:i.call(a,{params:s}))?o:{params:s};me(a.name),ge.current=a.name,v({...l.params,...t,inspect:a.name})}),[ye,pe,T,v]),Ie=f.useCallback((()=>{ve&&De(ve.name)}),[De,ve]),Oe=f.useCallback((()=>{b.reviewChanges&&ve&&Me(ve.name)}),[b.reviewChanges,Me,ve]),Ne=f.useCallback((()=>y.closeCurrent()),[y]),Pe=f.useCallback((()=>y.duplicateCurrent()),[y]),Re=f.useCallback(((e=!we)=>{v(e?{...T,inspect:"on"}:pa(T,"inspect"))}),[we,T,v]),Fe=f.useCallback((e=>{if("production-preview"===e.action&&ce)return window.open(ce),!0;if("inspect"===e.action)return Re(!0),!0;if("reviewChanges"===e.action)return Oe(),!0;if("string"==typeof e.action&&e.action.startsWith(L4)){const t=e.action.slice(L4.length),n=pe.find((e=>e.name===t));if(n)return n.name===he?De(n.name):Me(n.name),!0}return!1}),[De,Oe,he,pe,Me,ce,Re]),Le=f.useCallback((()=>Re(!1)),[Re]),[$e,Be]=f.useState([]),[Ve,ze]=f.useState(),[Ue,He]=f.useState(),[We,qe]=f.useState(),Ge=f.useCallback(((e,t)=>{He((n=>fu(n,e,t)))}),[]),Ye=f.useCallback(((e,t)=>{qe((n=>fu(n,e,t)))}),[]),Ke=f.useCallback(((e,t)=>ze((n=>fu(n,e,t)))),[]),Ze=$._createdAt?"update":"create",Xe=!(null==L||!L.liveEdit),Je=$._id?$._id:"dummy-id",Qe=f.useMemo((()=>({...$,_id:Xe?sn(Je):Vi(Je)})),[Xe,$,Je]),[et,tt]=Ldn({document:Qe,permission:Ze}),nt=!(null!=$&&$._id),rt=f.useMemo((()=>{var e;const t=!(tt||null!=et&&et.granted),n=!MG(L,"update"),r=nt&&!MG(L,"create"),i="reconnecting"===F,o=null==(e=P.transactionSyncLock)?void 0:e.enabled;return!je||null!==ie||t||n||r||i||o||B||ue}),[F,P.transactionSyncLock,nt,ue,B,tt,et?.granted,je,ie,L]),it=xEe(L,{value:Se,readOnly:rt,comparisonValue:Ce,focusPath:G,openPath:$e,collapsedPaths:Ue,presence:de,validation:W,collapsedFieldSets:We,fieldGroupState:Ve,changesOpen:be}),ot=f.useRef(it);ot.current=it;const at=f.useCallback((e=>{Mmn(ot.current,e).forEach((e=>{"expandPath"===e.type&&He((t=>fu(t,e.path,!1))),"expandFieldSet"===e.type&&qe((t=>fu(t,e.path,!1))),"setSelectedGroup"===e.type&&ze((t=>fu(t,e.path,e.groupName)))})),Be(e)}),[ot]),st=f.useCallback(((e,t)=>{g.setLocation([{type:"document",documentId:_,path:e,lastActiveAt:(new Date).toISOString(),selection:t?.selection}])}),[_,g]),lt=f.useMemo((()=>I1(st,1e3,{leading:!0,trailing:!0})),[st]),ut=f.useCallback(((e,t)=>{Y(e),l0(K.current,e)||(at(e.slice(0,-1)),K.current=e,o?.(e)),lt(e,t)}),[o,at,lt]),ct=f.useMemo((()=>({actions:z,activeViewId:X,badges:U,changesOpen:be,closeInspector:De,collapsedFieldSets:We,collapsedPaths:Ue,compareValue:Ce,connectionState:F,displayed:Se,documentId:_,documentIdRaw:E,documentType:A,editState:P,fieldActions:ke,focusPath:G,inspector:ye||null,inspectors:pe,__internal_tasks:l,onBlur:_e,onChange:Te,onFocus:ut,onPathOpen:at,onHistoryClose:Ie,onHistoryOpen:Oe,onInspectClose:Le,onMenuAction:Fe,onPaneClose:Ne,onPaneSplit:Pe,onSetActiveFieldGroup:Ke,onSetCollapsedPath:Ge,onSetCollapsedFieldSet:Ye,openInspector:Me,openPath:$e,index:n,inspectOpen:we,validation:W,menuItemGroups:C||[],paneKey:i,previewUrl:ce,ready:je,schemaType:L,isPermissionsLoading:tt,permissions:et,setTimelineMode:Q,setTimelineRange:Ee,setIsDeleting:V,isDeleting:B,isDeleted:ue,timelineError:ee,timelineMode:J,timelineStore:ne,title:k,value:$,views:q,formState:it,unstable_languageFilter:H})),[l,z,X,U,be,De,We,Ue,Ce,F,ye,Se,_,E,A,P,ke,G,it,_e,Te,ut,Ie,Oe,Le,Fe,Ye,Ge,Ne,Pe,Ke,n,we,pe,ue,B,tt,H,C,Me,$e,i,et,ce,je,L,at,Ee,ee,J,ne,k,W,$,q]);f.useEffect((()=>{"reconnecting"===F&&x({id:"sanity/structure/reconnecting",status:"warning",title:xe("panes.document-pane-provider.reconnecting.title")})}),[F,x,xe]);const dt=f.useRef(!1);return f.useEffect((()=>{var e;if(je&&T.path){const{path:t,...n}=T,r=XTe(null==(e=ot.current)?void 0:e.value,Qs(t));dt.current=!0,l0(K.current,r)||(Y(r),at(r),K.current=r,o?.(r));const i=setTimeout((()=>{dt.current=!1}),0);return y.setParams(n),()=>clearTimeout(i)}}),[T,_,o,at,je,y]),u.jsx(Vae.Provider,{value:ct,children:t})}));pV.displayName="DocumentPaneProvider";const Fke=f.memo((function(e){const{name:t}=Sn();return u.jsx(zA,{name:e.pane.source||t,children:u.jsx(iRn,{...e})})}));function iRn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:i}=Sn().document,o=ac(),a=aRn(n.options,o.params),{documentType:s,isLoaded:l}=jdn(a.id,a.type),c=nRn(),d=f.useMemo((()=>i({type:"document",documentId:a.id,schemaType:a.type})),[a.id,a.type,i]),[p,h]=pB({templateItems:d}),m=l&&!h,g=f.useMemo((()=>m&&s&&a.type!==s?oRn(e,a,s):e),[e,s,m,a]),{ReferenceChildLink:y,handleEditReference:v,groupIndex:b,routerPanesState:x}=o,w=(null==(t=x[b+1])?void 0:t[0].params)||{},C=x.length,{parentRefPath:k}=w,j=f.useMemo((()=>k?{path:Qs(k),state:b>=C-1?"none":b>=C-2?"selected":"pressed"}:{path:[],state:"none"}),[k,b,C]),{t:S}=Z(Mt);return"*"!==a.type||m?s?u.jsx(pV,{...g,children:u.jsx(lJt,{EditReferenceLinkComponent:y,onEditReference:v,initialValueTemplateItems:p,activePath:j,children:u.jsx(n3n,{documentId:a.id,documentType:a.type,children:u.jsx(c,{documentId:a.id,documentType:a.type})})})},`${s}-${a.id}`):u.jsx(yke,{flex:2.5,minWidth:320,paneKey:r,title:S("panes.document-pane.document-not-found.title"),children:u.jsx(ne,{space:4,children:u.jsx(L,{as:"p",children:u.jsx(dt,{t:S,i18nKey:"panes.document-pane.document-not-found.text",values:{id:a.id},components:{Code:({children:e})=>u.jsx("code",{children:e})}})})})}):u.jsx(lV,{flex:2.5,minWidth:320,paneKey:r,title:S("panes.document-pane.document-not-found.loading")})}function aRn(e,t={}){const n=hv();return f.useMemo((()=>{if(e.type&&"*"!==e.type)return e;const r=e.template||t.template,i=r?n.find((e=>e.id===r)):void 0,o=i?.schemaType;return o?{...e,type:o}:e}),[e,t.template,n])}function oRn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}const _ie=100,U4=2e3,Lke={by:[{field:"_updatedAt",direction:"desc"}]},Nke={},sRn=$(N)`
  position: relative;
`,lRn=$(N)`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`,uRn=[...Array(30).keys()];function cRn(e){const{layout:t}=e;return u.jsx(ne,{paddingX:3,paddingY:2,paddingTop:0,space:1,children:uRn.map((e=>u.jsx(Ta,{isPlaceholder:!0,layout:t},e)))})}function dRn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:i,hasSearchQuery:o,isActive:a,isLazyLoading:s,isLoading:l,items:c,layout:d,loadingVariant:p,onListChange:h,onRetry:m,paneTitle:g,searchInputElement:y,showIcons:v}=e,b=Jt(),{collapsed:x}=Nm(),{collapsed:w,index:C}=$d(),[k,j]=f.useState(!1),{t:S}=Z(Mt),E=f.useCallback((()=>{l||s||!k||h()}),[s,l,h,k]);f.useEffect((()=>{if(w)return;const e=setTimeout((()=>{j(!0)}),0);return()=>{clearTimeout(e)}}),[w,c]);const _=f.useCallback(((e,{activeIndex:n})=>{const r=sn(e._id),o=t===r,l=!a&&o,f=a&&o,p=n===c.length-1,h=p&&s,m=p&&i;return u.jsxs(u.Fragment,{children:[u.jsx(vke,{icon:!1!==v&&void 0,id:r,layout:d,marginBottom:1,pressed:l,schemaType:b.get(e._type),selected:f,value:e}),h&&u.jsx(wn,{}),m&&u.jsx(N,{marginY:1,paddingX:3,paddingY:4,children:u.jsx(L,{align:"center",muted:!0,size:1,children:S("panes.document-list-pane.max-items.text",{limit:U4})})})]})}),[t,a,c.length,d,b,v,i,s,S]),A=f.useMemo((()=>o?u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(Xr,{width:1,children:u.jsx(N,{paddingX:4,paddingY:5,children:u.jsx(L,{align:"center",muted:!0,children:S("panes.document-list-pane.no-documents.text")})})})}):u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(Xr,{width:1,children:u.jsx(N,{paddingX:4,paddingY:5,children:u.jsx(L,{align:"center",muted:!0,children:S(r?"panes.document-list-pane.no-documents-of-type.text":"panes.document-list-pane.no-matching-documents.text")})})})})),[r,o,S]),T=f.useMemo((()=>{if(!k)return null;if(n)return u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(Xr,{width:1,children:u.jsxs(ne,{paddingX:4,paddingY:5,space:4,children:[u.jsx(Ci,{as:"h3",children:S("panes.document-list-pane.error.title")}),u.jsx(L,{as:"p",children:u.jsx(dt,{t:S,i18nKey:"panes.document-list-pane.error.text",values:{error:n.message},components:{Code:({children:e})=>u.jsx("code",{children:e})}})}),m&&u.jsx(N,{children:u.jsx(me,{icon:rm,onClick:m,text:S("panes.document-list-pane.error.retry-button.text"),tone:"primary"})})]})})});if(!l&&0===c.length)return A;if("initial"===p&&l)return u.jsx(lke,{ms:300,children:u.jsx(cRn,{layout:d})});if("spinner"===p&&l)return null;const e=`${C}-${w}`;return u.jsx(sRn,{overflow:"hidden",height:"fill",children:u.jsx(lRn,{children:u.jsx(Qu,{activeItemDataAttr:"data-hovered",ariaLabel:g,canReceiveFocus:!0,inputElement:y,itemHeight:51,items:c,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,paddingBottom:1,paddingX:3,renderItem:_,wrapAround:!1},e)})})}),[w,n,E,C,l,c,d,p,m,_,y,k]);return u.jsx(Qw,{"data-testid":"document-list-pane",overflow:x||"initial"===p?"hidden":"auto",children:T})}function fRn(e){return yA(e).map((e=>({...e.draft||e.published,hasPublished:!!e.published,hasDraft:!!e.draft})))}function hRn(e,t){const n=e.by.map((e=>{if(e.mapWith)return e;const n=pRn(t,e.field);return n?gRn(n,"datetime")?{...e,mapWith:"dateTime"}:"string"===n.jsonType?{...e,mapWith:"lower"}:e:e}));return n.every(((t,n)=>t===e.by[n]))?e:{...e,by:n}}function pRn(e,t){const n=Qs(t);let r=e;for(const e of n){if(!r)return;if("string"==typeof e){r=mRn(r,e);continue}if(!Vn(e)&&!ss(e)||"array"!==r.jsonType)return;const[t,n]=r.of||[];if(n||!t)return;if(!Iu(t)){r=t;continue}const[i,o]=t.to||[];if(o||!i)return;r=i}return r}function mRn(e,t){if(!("fields"in e))return;const n=e.fields.find((e=>e.name===t));return n?n.type:void 0}function gRn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}function _g(e){switch(e.type){case"OpCall":{const{left:t,right:n}=e;switch(e.op){case"==":return"AccessAttribute"!==t.type||"_type"!==t.name||t.base?"AccessAttribute"!==n.type||"_type"!==n.name||n.base||"Value"!==t.type||"string"!=typeof t.value?null:new Set([t.value]):"Value"!==n.type||"string"!=typeof n.value?null:new Set([n.value]);case"in":{if("AccessAttribute"!==t.type||"_type"!==t.name||t.base||"Array"!==n.type)return null;const e=new Set;for(const t of n.elements){if(t.isSplat||"Value"!==t.value.type||"string"!=typeof t.value.value)return null;e.add(t.value.value)}return e.size?e:null}default:return null}}case"Group":return _g(e.base);case"Or":{const t=_g(e.left);if(!t)return null;const n=_g(e.right);return n?new Set([...t,...n]):null}case"And":{const t=_g(e.left),n=_g(e.right);return t||n?new Set([...t||[],...n||[]]):null}default:return null}}function mV(e,t={}){try{const n=_g(oge(e,{params:t}));return n?Array.from(n).sort():null}catch{return null}}const vRn=["_id","_type","_createdAt","_updatedAt","_rev"];function H4(e,t,n=!1){const[r,...i]=t;if(!("fields"in e))return"";const o=e.fields.find((e=>e.name===r));if(!o){if(!vRn.includes(r)){const t=`The current ordering config targeted the nonexistent field "${r}" on schema type "${e.name}". It should be one of ${e.fields.map((e=>e.name)).join(", ")}`;if(n)throw new Error(t);console.warn(t)}return""}if("to"in o.type&&"reference"===o.type.name){const e=o.type.to;return`${r}->{${e.map((e=>H4(e,i))).join(",")}}`}const a=i.length>0&&H4(o.type,i),s=a?`{${a}}`:"";return i.length>0?`${r}${s}`:r}function Bke(e,t,n=!1){return t.map((t=>H4(e,t.field.split("."),n))).join(", ")}function yRn(e){const{client:t,schema:n,sort:r,limit:i,params:o,filter:a,searchQuery:s,staticTypeNames:l,maxFieldDepth:u,enableLegacySearch:c}=e,d=r.by,f=r?.extendedProjection,p=Pi((()=>t.listen(`*[${a}]`,o,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"}))).pipe(kt(((e,t)=>0===t&&"welcome"!==e.type?Rf((()=>new Error("reconnect"===e.type?"Could not establish EventSource connection":`Received unexpected type of first event "${e.type}"`))):we(e))),ho()),[h,m]=k6(p,(e=>"welcome"===e.type));return kn(h.pipe(xa(1)),m.pipe(Tb(1e3,al,{leading:!0,trailing:!0}))).pipe(K7((e=>(l?we(l):t.observable.fetch(`array::unique(*[${a}][]._type)`,o)).pipe(kt((p=>{const h=ICe(n,l||[]).filter((e=>!!p.includes(e.name)&&(Bke(e,r.by,!0),!0))),m=FA(h,t,{filter:a,params:o,enableLegacySearch:c,maxDepth:u}),g=()=>m({query:s||"",types:h},{__unstable_extendedProjection:f,comments:["findability-source: "+(s?"list-query":"list")],limit:i,skipSortByScore:!0,sort:d}).pipe(fe((e=>e.hits.map((({hit:e})=>e)))));return"mutation"===e.type&&"query"!==e.visibility?ri(1200).pipe(kt(g)):g()}))))))}const bRn=[],kie={error:null,onRetry:void 0,result:null},xRn={result:null,error:null};function wRn(e){const{filter:t,params:n,sortOrder:r,searchQuery:i,apiVersion:o}=e,a=Zt({...zt,apiVersion:o||zt.apiVersion}),{enableLegacySearch:s=!1}=jr().search,l=Jt(),u=LA(),[c,d]=f.useState(kie),{onRetry:p,error:h,result:m}=c,g=m?.documents,y=f.useMemo((()=>g?fRn(g):bRn),[g]),[v,b]=f.useState(!1),[x,w]=f.useState(!1),[C,k]=f.useState(!1),j=f.useMemo((()=>mV(t,n)),[t,n]),S=null===m&&!h,E=g?.length===U4,_=f.useCallback((()=>{S||x||C||k(!0)}),[S,x,C]),A=f.useCallback((e=>{var t,n;if(e.error)return void d(e);const r=(null==(n=null==(t=e.result)?void 0:t.documents)?void 0:n.length)||0;e.error||null!==e?.result||!C?(r<100&&0!==r&&!C&&w(!0),null!==e?.result?(b(!1),d(e)):d((t=>({...t.error?e:t})))):b(!0)}),[C]),T=f.useMemo((()=>{const e=new kr,o=()=>e.next();return yRn({client:a,filter:t,limit:C?U4:100,params:n,schema:l,searchQuery:i||"",sort:r||Lke,staticTypeNames:j,maxFieldDepth:u,enableLegacySearch:s}).pipe(fe((e=>({result:{documents:e},error:null}))),xi(xRn),pn((e=>e instanceof ProgressEvent?Rf((()=>new Error("Request error"))):Rf((()=>e)))),pn(((t,n)=>bi(we({result:null,error:t}),kn(Ka(window,"online"),e).pipe(xa(1),kt((()=>n)))))),hs(((e,t)=>({...e,...t,onRetry:o}))))}),[C,r,a,t,n,l,i,j,u,s]);f.useEffect((()=>{const e=T.subscribe(A);return()=>{e.unsubscribe()}}),[A,T]);const D=f.useCallback((()=>{w(!1),b(!1),d(kie),k(!1)}),[]);return f.useEffect((()=>{D()}),[D,t,n,r,i]),{error:h,hasMaxItems:E,isLazyLoading:v,isLoading:S,isSearchReady:!h,items:y,onListChange:_,onRetry:p}}const CRn=Hf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SRn=$(s1)`
  animation: ${CRn} 500ms linear infinite;
`,ERn=f.memo((function(e){const{childItemId:t,isActive:n,pane:r,paneKey:i,sortOrder:o,layout:a}=e,s=Jt(),{displayOptions:l,options:c}=r,{apiVersion:d,filter:p}=c,h=Gke(c.params||Nke),m=f.useMemo((()=>{const e=mV(p,h);return 1===e?.length?e[0]:null}),[p,h]),g=!1!==l?.showIcons,{t:y}=Z(Mt),{title:v}=ec(r),[b,x]=f.useState(""),[w,C]=f.useState(""),[k,j]=f.useState(null),S=f.useRef(!1),E=ba(m&&o?hRn(o,s.get(m)):o),{error:_,hasMaxItems:A,isLazyLoading:T,isLoading:D,isSearchReady:M,items:I,onListChange:O,onRetry:P}=wRn({apiVersion:d,filter:p,params:h,searchQuery:b?.trim(),sortOrder:E}),R=mT((e=>e.pipe(fe((e=>e.target.value)),qn(C),T6((e=>""===e?we(""):ri(300))),qn(x)))),F=f.useCallback((()=>{x(""),C("")}),[]),L=f.useCallback((e=>{"Escape"===e.key&&F()}),[F]);f.useEffect((()=>(!1===S.current&&!D&&(S.current=!0),()=>{S.current=!1})),[D]),f.useEffect((()=>{F(),S.current=!1}),[i,F]);const $=f.useMemo((()=>D&&0===I.length&&S.current?"spinner":"initial"),[D,I.length]);return u.jsxs(u.Fragment,{children:[u.jsx(N,{paddingX:3,paddingBottom:3,children:u.jsx(Vr,{"aria-label":y("panes.document-list-pane.search-input.aria-label"),autoComplete:"off",border:!1,clearButton:!!b,disabled:!M,fontSize:[2,2,1],icon:"spinner"===$?SRn:ea,onChange:R,onClear:F,onKeyDown:L,padding:2,placeholder:y("panes.document-list-pane.search-input.placeholder"),radius:2,ref:j,spellCheck:!1,value:w})}),u.jsx(dRn,{childItemId:t,error:_,filterIsSimpleTypeConstraint:!!m,hasMaxItems:A,hasSearchQuery:!!b,isActive:n,isLazyLoading:T,isLoading:D,items:I,layout:a,loadingVariant:$,onListChange:O,onRetry:P,paneTitle:v,searchInputElement:k,showIcons:g},i)]})})),Vke=f.memo((({contentAfter:e,index:t,initialValueTemplates:n=[],menuItemGroups:r=[],menuItems:i=[],setLayout:o,setSortOrder:a,title:s})=>{const{features:l}=ch(),{collapsed:c,isLast:d}=$d(),p=d&&!c?-1:0,h=f.useMemo((()=>({setLayout:({layout:e})=>{o(e)},setSortOrder:e=>{a(e)}})),[o,a]);return u.jsx(Sa,{children:u.jsx(yj,{actions:u.jsx(gke,{initialValueTemplateItems:n,actionHandlers:h,menuItemGroups:r,menuItems:i}),backButton:l.backButton&&t>0&&u.jsx(me,{as:ake,"data-as":"a",icon:r1,mode:"bleed",tooltipProps:{content:"Back"}}),contentAfter:e,tabIndex:p,title:s})})}));function _Rn(e){const{row:t,table:n}=e,{selectedAnchor:r,setSelectedAnchor:i}=n.options.meta||{},o=f.useCallback((e=>{if(e.shiftKey&&null!=r){const e=t.index,i=e<r?e:r,o=e<r?r:e,a=n.getRowModel().flatRows.slice(i,o+1).map((({id:e})=>e)),s=n.getSelectedRowModel().rows.map((({id:e})=>e));n.setRowSelection((()=>[...a,...s].reduce(((e,t)=>({...e,[t]:!0})),{})))}else if(i){const e=t.getIsSelected();i(e?null:t.index),t.toggleSelected()}}),[r,t,i,n]);return u.jsx(Kf,{style:{paddingLeft:4},checked:e.row.getIsSelected(),disabled:!e.row.getCanSelect(),onChange:()=>null,onClick:o})}Vke.displayName="PaneHeader";const kRn=()=>{const e=f.useContext(zae);if(void 0===e)throw new Error("useDocumentSheetListContext must be used within an DocumentSheetListProvider");return e};function TRn({children:e,table:t}){const[n,r]=f.useState(null),[i,o]=f.useState([]),a=f.useCallback(((e=null)=>{"focused"===n?.state&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),r(e),o([])}),[n]),s=f.useCallback((()=>a()),[a]),l=f.useCallback((e=>{if(!n)return;const r=t.getVisibleLeafColumns(),i=r.findIndex((e=>e.id===n.colId))+("left"===e?-1:1);i<0||i>=r.length||a({colId:r[i].id,rowIndex:n.rowIndex,state:"selected"})}),[a,n,t]),c=f.useCallback((e=>{n&&o((t=>{const{rowIndex:r}=n,i=t=>t+("down"===e?1:-1);if(!t.length){const e=i(r);return e<0?[]:[e]}const o=i(t[t.length-1]);return o<0?t:o===r?[]:t.includes(o)?t.slice(0,-1):[...t,o]}))}),[n]),d=f.useCallback(((e,t)=>{a({colId:e,rowIndex:t,state:"selected"})}),[a]),p=f.useCallback((()=>{if(n)if(i.length)o([]);else{const e="selected"===n.state?null:{...n,state:"selected"};a(e)}}),[a,n,i.length]),h=f.useCallback(((e,t)=>{if(!n)return;const r="ArrowDown"===t?"down":"up",i="down"===r?1:-1;if(e)c(r);else{const e=n.rowIndex+i;if(e<0)return;d(n.colId,e)}}),[c,n,d]),m=f.useCallback((e=>{if(!n)return;const{key:t,shiftKey:r}=e;switch(t){case"Shift":break;case"Escape":p();break;case"ArrowDown":case"ArrowUp":e.preventDefault(),h(r,t);break;case"ArrowLeft":case"ArrowRight":"selected"===n.state&&(e.preventDefault(),l("ArrowLeft"===t?"left":"right"))}}),[n,p,h,l]),g=f.useCallback((e=>{var t;n&&(null!=(t=document.getElementById(`cell-${n.colId}-${n.rowIndex}`))&&t.contains(e.target)||s())}),[s,n]);f.useEffect((()=>(n&&(document.addEventListener("keydown",m),document.addEventListener("click",g)),()=>{n&&(document.removeEventListener("keydown",m),document.removeEventListener("click",g))})),[g,m,n]);const y=f.useCallback((()=>r((e=>e?{...e,state:"focused"}:null))),[]),v=f.useCallback(((e,t)=>n?.colId!==e?null:n.rowIndex===t?"focused"===n.state?"focused":"selectedAnchor":i.includes(t)?"selectedRange":null),[n,i]),b=f.useCallback((()=>{n&&a({colId:n.colId,rowIndex:n.rowIndex+1,state:"selected"})}),[a,n]),x=f.useMemo((()=>({focusAnchorCell:y,resetFocusSelection:s,setSelectedAnchorCell:d,getStateByCellId:v,submitFocusedCell:b})),[y,s,d,v,b]);return u.jsx(zae.Provider,{value:x,children:e})}const zke=$.td`
  display: flex;
  overflow: hidden;
  box-sizing: border-box;
  width: ${({width:e})=>e}px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-bg-color);
`,ARn=$(zke)`
  position: sticky;
  z-index: 2;
`;function jRn(e){const{getValue:t,column:n,row:r,fieldType:i}=e,o=`cell-${n.id}-${r.index}`,[a,s]=f.useState(t()),[l,c]=f.useState(!1),d=f.useRef(null),{focusAnchorCell:p,resetFocusSelection:h,setSelectedAnchorCell:m,getStateByCellId:g,submitFocusedCell:y}=kRn(),v=g(n.id,r.index),b=f.useCallback((()=>{m(n.id,r.index),p()}),[n.id,p,r.index,m]),{patchDocument:x}=e.table.options.meta||{},w=()=>{var e;null==(e=d.current)||e.focus(),d.current instanceof HTMLInputElement&&d.current.select()},C=f.useCallback((e=>{const{key:t}=e;"Enter"===t&&("selectedAnchor"===v&&w(),"focused"===v&&y())}),[v,y]),k=f.useCallback((e=>{var t;const i=null==(t=e.clipboardData)?void 0:t.getData("Text");("string"==typeof i||"number"==typeof i)&&(s(i),x?.(r.id,n.id,i))}),[n.id,x,r.id]),j=f.useCallback((()=>{navigator.clipboard.writeText(a.toString())}),[a]);f.useEffect((()=>(("selectedAnchor"===v||"focused"===v)&&document.addEventListener("keydown",C),("selectedAnchor"===v||"selectedRange"===v)&&document.addEventListener("paste",k),"selectedAnchor"===v&&document.addEventListener("copy",j),()=>{("selectedAnchor"===v||"focused"===v)&&document.removeEventListener("keydown",C),("selectedAnchor"===v||"selectedRange"===v)&&document.removeEventListener("paste",k),"selectedAnchor"===v&&document.removeEventListener("copy",j)})),[o,v,n.id,g,j,C,k,r.index]);const S=()=>"focused"===v?"2px solid blue":"selectedRange"===v?"1px solid green":"selectedAnchor"===v?"1px solid blue":"1px solid transparent",E={onFocus:b,onBlur:()=>{l&&(x?.(r.id,n.id,a),c(!1)),h()},onMouseDown:e=>{2===e.detail?w():(e.preventDefault(),m(n.id,r.index))},"aria-selected":!!v,"data-testid":o,id:o,ref:e=>d.current=e};return"boolean"===i.name?u.jsxs(rl,{...E,onChange:()=>null,radius:0,style:{boxShadow:"none",border:S(),padding:0},value:JSON.stringify(a),children:[u.jsx("option",{value:"True",children:"True"}),u.jsx("option",{value:"False",children:"False"})]}):u.jsx(Vr,{...E,size:0,radius:0,border:!1,style:{border:S(),padding:"22px 16px"},value:"string"==typeof a||"number"==typeof a?a:JSON.stringify(a),onChange:e=>{c(!0),s(e.target.value)}})}function IRn(e){var t,n;const r=e.column.getIsPinned(),i=r?ARn:zke,o=r&&e.column.getIsLastColumn("left")?2:1;return u.jsx(i,{style:{left:null!=(t=e.column.getStart("left"))?t:void 0,borderRight:`${o}px solid var(--card-border-color)`},width:e.column.getSize(),children:tke(e.column.columnDef.cell,null==(n=e.getContext)?void 0:n.call(e))},e.row.original._id+e.id)}const Uke=5,DRn=e=>{var t,n;const{documentPreviewStore:r,row:i,schemaType:o}=e,a=f.useMemo((()=>ov(r,o,i.original._id,"Document title")),[r,i.original._id,o]),{draft:s,published:l,isLoading:c}=Wr(a,{draft:null,isLoading:!0,published:null});if(c)return u.jsx(L,{size:1,muted:!0,children:"Loading..."});const d=null!=(n=null!=(t=s?.title)?t:l?.title)?n:"Untitled";return u.jsxs(U,{align:"center",gap:3,children:[u.jsx(iv,{draft:s,published:l}),u.jsx(L,{size:1,children:d})]})},k5=iIn(),ORn=["string","number","boolean"],Hke=(e,t)=>e.fields.reduce(((e,n)=>{const{type:r,name:i}=n;if(ORn.includes(r.name)){const i=k5.accessor(t?`${t}.${n.name}`:n.name,{id:t?`${t}_${n.name}`:n.name,header:n.type.title,enableHiding:!0,cell:e=>u.jsx(jRn,{...e,fieldType:r})});return[...e,i]}return"object"===r.name&&po(r)&&!t?[...e,k5.group({header:i,columns:Hke(r,n.name)})]:e}),[]);function RRn(e){return"accessorKey"in e}function MRn(e){return"columns"in e}const Wke=e=>e.flatMap((e=>RRn(e)?e:MRn(e)&&e.columns?Wke(e.columns):[]));function $Rn(e){const t=Ui(),n=f.useMemo((()=>e?[k5.display({id:"selected",enableHiding:!1,header:e=>u.jsxs(N,{children:[u.jsx(Kf,{style:{paddingLeft:4},indeterminate:e.table.getIsSomeRowsSelected(),onChange:e.table.getToggleAllPageRowsSelectedHandler()}),e.table.getSelectedRowModel().rows.length," selected"]}),cell:_Rn}),k5.accessor("Preview",{enableHiding:!1,id:"Preview",cell:n=>u.jsx(DRn,{...n,documentPreviewStore:t,schemaType:e})}),...Hke(e)]:[]),[t,e]),[r]=f.useMemo((()=>Wke(n).reduce((([e,t],n)=>{if(!n.id)throw new Error("Column must have an id");const r=n.id;return n.enableHiding?t===Uke?[{...e,[r]:!1},t]:[{...e,[r]:!0},t+1]:[{...e,[r]:!0},t]}),[{},0])),[n]);return{columns:n,initialColumnsVisibility:r}}function PRn({table:e}){const{t:t}=Z(),n=e.getVisibleLeafColumns().filter((e=>e.getCanHide())).length>=Uke,r=f.useCallback((()=>{e.resetColumnVisibility()}),[e]),i=e=>()=>{e.toggleVisibility()},o=t=>{const r=t.getIsVisible(),i=1===e.getVisibleLeafColumns().filter((e=>e.getCanHide())).length;return n&&!r||i&&r};return u.jsx(jk,{button:u.jsx(wt,{mode:"bleed",text:t("sheet-list.edit-columns"),size:1}),id:"columns-control",menu:u.jsx(At,{padding:3,paddingTop:4,style:{width:240},children:u.jsxs(U,{direction:"column",height:"fill",gap:3,children:[u.jsx(L,{weight:"semibold",size:1,children:t("sheet-list.select-fields")}),u.jsx(U,{style:{flex:"1 1 auto",maxHeight:320,overflowY:"scroll"},children:u.jsx(ne,{children:e.getAllLeafColumns().filter((e=>e.getCanHide())).map((e=>{var t;return u.jsxs(U,{marginY:2,align:"center",children:[u.jsx(Kf,{readOnly:o(e),checked:e.getIsVisible(),onChange:i(e),id:`col-visibility-${e.id}`,style:{display:"block"}}),u.jsx(N,{flex:1,paddingLeft:3,children:u.jsx(L,{size:1,children:u.jsx("label",{htmlFor:`col-visibility-${e.id}`,children:null==(t=e.columnDef.header)?void 0:t.toString()})})})]},e.id)}))})}),u.jsx(wt,{width:"fill",mode:"ghost",size:1,text:t("sheet-list.reset-columns"),onClick:r})]})}),placement:"bottom",popover:{portal:!0}})}const FRn=$(U)`
  flex-shrink: 0;
`;function LRn(){const{state:{filtersVisible:e}}=Kt();return u.jsxs(FRn,{children:[u.jsx(HB,{}),e&&u.jsx(UB,{showTypeFilter:!1})]})}const gV=$.th`
  margin: 16px;
  z-index: 1;
  padding: 22px 0px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-badge-default-bg-color);
  box-sizing: border-box;
  text-align: left;
  width: ${({width:e})=>e}px;
  max-width: ${({width:e})=>e}px;
`,NRn=$(gV)`
  position: sticky;
  z-index: 2;
`,BRn=$.div`
  visibility: hidden;

  ${gV}:hover & {
    visibility: visible;
  }
`;function VRn(e){var t;const{header:n,headerGroup:r}=e,{t:i}=Z(),o=n.column.getIsPinned(),a=r.depth>0&&!n.column.parent?null:u.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",children:tke(n.column.columnDef.header,n.getContext())}),s=o?NRn:gV,l=n.column.getCanHide()&&(0===r.depth?!n.column.columns.length:n.column.parent),c=o&&n.column.getIsLastColumn("left")?2:1;return u.jsx(s,{style:{left:null!=(t=n.column.getStart("left"))?t:void 0,borderRight:`${c}px solid var(--card-border-color)`},"data-testid":`header-${n.id}`,width:n.getSize(),children:u.jsxs(U,{justify:"space-between",marginX:2,align:"baseline",children:[u.jsx(pt,{delay:500,content:a,children:u.jsx(N,{style:{boxSizing:"border-box"},marginLeft:3,marginRight:3,children:a})}),l&&u.jsx(BRn,{children:u.jsx(jk,{button:u.jsx(me,{tooltipProps:{content:"Open field menu"},mode:"bleed",icon:a1,"data-testid":"field-menu-button"}),id:"field menu",popover:{placement:"bottom-end"},menu:u.jsx(At,{children:u.jsx(qe,{text:i("sheet-list.hide-field"),icon:Ar,onClick:()=>n.column.toggleVisibility()})})})})]})},n.id)}function zRn({table:e}){return u.jsx(Sa,{children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(me,{onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),icon:EF,tooltipProps:{content:"Go to first page"}}),u.jsx(me,{onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),icon:yd,tooltipProps:{content:"Go to previous page"}}),u.jsxs(L,{style:{whiteSpace:"nowrap"},children:[e.getState().pagination.pageIndex+1," of ",e.getPageCount()]}),u.jsx(me,{onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),icon:Aa,tooltipProps:{content:"Go to next page"}}),u.jsx(me,{onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),icon:rk,tooltipProps:{content:"Go to last page"}}),u.jsx("select",{value:e.getState().pagination.pageSize,onChange:t=>{e.setPageSize(Number(t.target.value))},children:[25,50,100].map((e=>u.jsx("option",{value:e,children:e},e)))})]})})}function URn(e){return e.reduce(((e,t)=>({...e,[t._id]:t})),{})}function HRn(e,t){switch(t.type){case"DOCUMENTS_SET":{const n=URn(t.documents);return{...e,documents:n}}case"DOCUMENT_RECEIVED":{const n=t.payload;return{...e,documents:{...e.documents,[n._id]:n}}}case"DOCUMENT_DELETED":{const{[t.id]:n,...r}=e.documents;return{...e,documents:r}}case"DOCUMENT_UPDATED":{const n=t.payload,r=n._id,i={...e.documents[r],...n};return{...e,documents:{...e.documents,[r]:i}}}default:return e}}const WRn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"};function GRn({filter:e,params:t,apiVersion:n}){const r=`*[${e}][0...2000]`,i=Zt({...zt,apiVersion:n||zt.apiVersion}),[o,a]=f.useReducer(HRn,{documents:{}}),[s,l]=f.useState(null!==i),[u,c]=f.useState(null),d=f.useCallback((async()=>{if(i)try{const e=await i.fetch(r,t);a({type:"DOCUMENTS_SET",documents:e}),l(!1)}catch(e){c(e)}else l(!1)}),[i,t,r]),p=f.useCallback((async e=>{if("welcome"===e.type&&(l(!0),await d(),l(!1)),"reconnect"===e.type&&l(!0),"mutation"===e.type){if("appear"===e.transition){const t=e.result;t&&a({type:"DOCUMENT_RECEIVED",payload:t})}if("disappear"===e.transition&&a({type:"DOCUMENT_DELETED",id:e.documentId}),"update"===e.transition){const t=e.result;t&&a({type:"DOCUMENT_UPDATED",payload:t})}}}),[d]),h=f.useMemo((()=>i?i.observable.listen(r,t,WRn).pipe(pn((e=>(c(e),we(e))))):we()),[i,t,r]);return f.useEffect((()=>{const e=h.subscribe(p);return()=>{e?.unsubscribe()}}),[p,h]),{data:f.useMemo((()=>{const e=Object.keys(o.documents).reduce(((e,t)=>{const n=o.documents[t],r=n._id===Vi(n._id),i=r?n._id:Vi(n._id);return e[i]&&!r||(e[i]=n),e}),{});return Object.values(e)}),[o.documents]),isLoading:s,error:u}}function YRn({typeName:e}){const{state:t}=Kt(),n=f.useMemo((()=>{const e=new Map;return t.result.hits.forEach((t=>e.set(sn(t.hit._id),t.hit))),e}),[t.result.hits]),{data:r,isLoading:i}=GRn({filter:`_type == "${e}"`});return{data:f.useMemo((()=>r.filter((e=>n.has(sn(e._id))))),[r,n]),isLoading:i}}const qRn=$(U)`
  height: 100%;
`,KRn=$.div`
  overflow: auto; //our scrollable table container
  position: relative; //needed for sticky header
`,ZRn=$.table`
  border-collapse: separate;
  border-spacing: 0;
  font-family: arial, sans-serif;
  white-space: nowrap;
  width: 100%;
  border: 1px solid lightgray;

  thead {
    display: grid;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  tr {
    padding: 0;
  }
  tr:last-child {
    border-bottom: none;
  }
`;function XRn({documentSchemaType:e}){const{dispatch:t,state:n}=Kt(),{columns:r,initialColumnsVisibility:i}=$Rn(e),{data:o}=YRn({typeName:e.name}),[a,s]=f.useState(null),l=n.result.hits.length,c=QIn({data:o,columns:r,getCoreRowModel:UIn(),getFilteredRowModel:qIn(),getPaginationRowModel:KIn(),autoResetPageIndex:!1,initialState:{columnPinning:{left:["selected","Preview"]},pagination:{pageSize:25},columnVisibility:i},getRowId:e=>e._id,meta:{selectedAnchor:a,setSelectedAnchor:s,patchDocument:(e,t,n)=>null}}),{rows:d}=c.getRowModel();f.useEffect((()=>(t({type:"TERMS_TYPE_ADD",schemaType:e}),()=>{t({type:"TERMS_TYPE_REMOVE",schemaType:e})})),[e,t]);const p=f.useCallback((e=>u.jsx(N,{as:"tr",paddingY:2,style:{display:"flex",width:"100%"},children:e.getVisibleCells().map((t=>f.createElement(IRn,{...t,key:e.original._id+t.id})))},e.original._id+e.id)),[]),h=`Total: ${l} rows, showing ${d.length} rows`;return u.jsxs(qRn,{direction:"column",paddingX:3,"data-testid":"document-sheet-list-pane",children:[u.jsxs(U,{direction:"row",align:"center",paddingY:3,paddingX:1,justify:"space-between",children:[u.jsxs(U,{direction:"row",align:"center",children:[u.jsx(LRn,{}),u.jsx(L,{size:0,muted:!0,children:h})]}),u.jsx(PRn,{table:c})]}),u.jsx(KRn,{children:u.jsx(TRn,{table:c,children:u.jsxs(ZRn,{children:[u.jsx("thead",{children:c.getHeaderGroups().map((e=>u.jsx(N,{as:"tr",children:e.headers.map((t=>u.jsx(VRn,{header:t,headerGroup:e},t.id)))},e.id)))}),u.jsx("tbody",{children:c.getRowModel().rows.map(p)})]})})}),u.jsx(U,{justify:"flex-end",padding:3,gap:4,paddingY:5,children:u.jsx(zRn,{table:c})})]})}function JRn(e){const t=Jt(),n=e.pane.schemaTypeName,r=t.get(n);if(!r||!VTe(r))throw new Error(`Schema type "${n}" not found or not a document schema`);return u.jsx(YB,{children:u.jsx(XRn,{...e,documentSchemaType:r})})}const QRn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t?.map((e=>{var t,i,o,a;return null!=(t=e.params)&&t.layout?{...e,selected:r===(null==(i=e.params)?void 0:i.layout)}:null!=(o=e?.params)&&o.by?{...e,selected:bt(n?.by,(null==(a=e?.params)?void 0:a.by)||an)}:{...e,selected:!1}}))};function Gke(e){const t=f.useRef(e);return ed(t.current,e)||(t.current=e),t.current}const Yke=f.memo((function(e){const{index:t,isSelected:n,pane:r,paneKey:i}=e,{name:o}=Sn(),{defaultLayout:a="default",initialValueTemplates:s=an,menuItemGroups:l,menuItems:c,options:d}=r,{defaultOrdering:p=an,filter:h}=d,m=Gke(d.params||Nke),g=r.source,y=f.useMemo((()=>{const e=mV(h,m);return 1===e?.length?e[0]:null}),[h,m]),[v,b]=B4("layout",y??r.id,a),{title:x}=ec(r),w=f.useMemo((()=>p?.length>0?{by:p}:Lke),[p]),[C,k]=B4("sort-order",y??r.id,w),j=f.useMemo((()=>QRn({menuItems:c,sortOrderRaw:C,layout:v})),[v,c,C]),S="sheetList"===v,E=S?f.createElement(JRn,{...e,key:e.pane.id}):u.jsx(ERn,{...e,sortOrder:C,layout:v});return u.jsx(zA,{name:g||o,children:u.jsxs(Jw,{"data-ui":"DocumentListPane",id:i,minWidth:320,...S?{}:{currentMaxWidth:350,maxWidth:640},selected:n,children:[bke,u.jsx(Vke,{index:t,initialValueTemplates:s,menuItemGroups:l,menuItems:j,setLayout:b,setSortOrder:k,title:x}),E]})})}));var eMn=Object.defineProperty,tMn=(e,t,n)=>t in e?eMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tie=(e,t,n)=>tMn(e,"symbol"!=typeof t?t+"":t,n);class bn extends Error{constructor(e,t,n,r){super(e),Tie(this,"path"),Tie(this,"helpId"),this.name="SerializeError";const i=typeof n>"u"?"<unknown>":`${n}`;this.path=(t||[]).concat(r?`${i} (${r})`:i)}withHelpUrl(e){return this.helpId=e,this}}var Xn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Xn||{});const qke={title:"Last edited",i18n:{title:{key:"menu-items.sort-by.last-edited",ns:Mt}},name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},nMn={title:"Created",i18n:{title:{key:"menu-items.sort-by.created",ns:Mt}},name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},rMn=qke,Aie=[qke,nMn];var iMn=Object.defineProperty,aMn=(e,t,n)=>t in e?iMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oMn=(e,t,n)=>aMn(e,t+"",n);function vV(e,t,n){return e instanceof fd?e.serialize({path:n,index:t}):e}class fd{constructor(e,t){this._context=e,oMn(this,"spec"),this.spec=t||{}}action(e){return this.clone({action:e})}getAction(){return this.spec.action}intent(e){return this.clone({intent:e})}getIntent(){return this.spec.intent}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}group(e){return this.clone({group:e})}getGroup(){return this.spec.group}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}params(e){return this.clone({params:e})}getParams(){return this.spec.params}showAsAction(e=!0){return this.clone({showAsAction:!!e})}getShowAsAction(){return this.spec.showAsAction}serialize(e={path:[]}){const{title:t,action:n,intent:r}=this.spec;if(!t){const t="string"==typeof n?`action: "${n}"`:void 0;throw new bn("`title` is required for menu item",e.path,e.index,t).withHelpUrl(Xn.TITLE_REQUIRED)}if(!n&&!r)throw new bn(`\`action\` or \`intent\` required for menu item with title ${this.spec.title}`,e.path,e.index,`"${t}"`).withHelpUrl(Xn.ACTION_OR_INTENT_REQUIRED);if(r&&n)throw new bn("cannot set both `action` AND `intent`",e.path,e.index,`"${t}"`).withHelpUrl(Xn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:t}}clone(e){const t=new fd(this._context);return t.spec={...this.spec,...e||{}},t}}function yV(e,{by:t,title:n,i18n:r},i){let o=new fd(e).group("sorting").title(e.i18n.t("default-menu-item.fallback-title",{ns:"studio",replace:{title:n}})).icon(m0).action("setSortOrder").params({by:t,extendedProjection:i});return r&&(o=o.i18n(r)),o}function bV(e,t){const{schema:n}=e,r="string"==typeof t?n.get(t):t;return r&&"orderings"in r?(r.orderings?r.orderings.concat(Aie):Aie).map((t=>yV(e,t,Bke(r,t.by)))):[]}var sMn=Object.defineProperty,lMn=(e,t,n)=>t in e?sMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NO=(e,t,n)=>lMn(e,"symbol"!=typeof t?t+"":t,n);function xV(e,t,n){return e instanceof vp?e.serialize({path:n,index:t}):e}class vp{constructor(e,t){this._context=e,NO(this,"_id"),NO(this,"_title"),NO(this,"_i18n"),this._id=t?t.id:"",this._title=t?t.title:"",this._i18n=t?t.i18n:void 0}id(e){return new vp(this._context,{id:e,title:this._title,i18n:this._i18n})}getId(){return this._id}title(e){return new vp(this._context,{title:e,id:this._id,i18n:this._i18n})}getTitle(){return this._title}i18n(e){return new vp(this._context,{i18n:e,id:this._id,title:this._title})}getI18n(){return this._i18n}serialize(e={path:[]}){const{_id:t,_title:n,_i18n:r}=this;if(!t)throw new bn("`id` is required for a menu item group",e.path,e.index,n).withHelpUrl(Xn.ID_REQUIRED);if(!n)throw new bn("`title` is required for a menu item group",e.path,t).withHelpUrl(Xn.TITLE_REQUIRED);return{id:t,title:n,i18n:r}}}const Kke=/([^A-Za-z0-9-_.])/;function eC(e,t,n){if("string"!=typeof e)throw new bn("Structure node id must be of type string, got "+typeof e,t,n);const[r]=e.match(Kke)||[];if(r)throw new bn(`Structure node id cannot contain character "${r}"`,t,n);if(e.startsWith("__edit__"))throw new bn("Structure node id cannot start with __edit__",t,n);return e}function wj(e,t){if(t)return t;const n=iie(e);return Kke.test(n)?iie(Uxe(e)):n}var uMn=Object.defineProperty,cMn=(e,t,n)=>t in e?uMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dMn=(e,t,n)=>cMn(e,t+"",n);class Q0{constructor(e){dMn(this,"spec"),this.spec={options:{},...e||{}}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:wj(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}child(e){return this.clone({child:e})}getChild(){return this.spec.child}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}canHandleIntent(e){return this.clone({canHandleIntent:e})}serialize(e={path:[]}){const{id:t,title:n,child:r,options:i,component:o}=this.spec;if(!t)throw new bn("`id` is required for `component` structure item",e.path,e.index).withHelpUrl(Xn.ID_REQUIRED);if(!o)throw new bn("`component` is required for `component` structure item",e.path,e.index).withHelpUrl(Xn.ID_REQUIRED);return{id:eC(t,e.path,e.index),title:n,type:"component",child:r,component:o,canHandleIntent:this.spec.canHandleIntent,options:i||{},menuItems:(this.spec.menuItems||[]).map(((t,n)=>vV(t,n,e.path))),menuItemGroups:(this.spec.menuItemGroups||[]).map(((t,n)=>xV(t,n,e.path)))}}clone(e){const t=new Q0;return t.spec={...this.spec,...e||{}},t}}async function Zke(e,t){const n=sn(t),r=Vi(t);return(await e(zt).fetch("*[_id in [$documentId, $draftId]]._type",{documentId:n,draftId:r},{tag:"structure.resolve-type"}))[0]}var fMn=Object.defineProperty,hMn=(e,t,n)=>t in e?fMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pMn=(e,t,n)=>hMn(e,t+"",n);class Cj{constructor(){pMn(this,"spec",{})}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:this.spec.id||_An(e)})}getTitle(){return this.spec.title}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}serialize(e={path:[]}){const{id:t,title:n,icon:r}=this.spec;if(!t)throw new bn("`id` is required for view item",e.path,e.index).withHelpUrl(Xn.ID_REQUIRED);if(!n)throw new bn("`title` is required for view item",e.path,e.index).withHelpUrl(Xn.TITLE_REQUIRED);return{id:eC(t,e.path,e.index),title:n,icon:r}}}function mMn(e){return"function"==typeof e.serialize}function wV(e,t,n){return mMn(e)?e.serialize({path:n,index:t}):e}var gMn=Object.defineProperty,vMn=(e,t,n)=>t in e?gMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yMn=(e,t,n)=>vMn(e,t+"",n);const bMn=e=>xt(e)&&"component"===e.type;class tC extends Cj{constructor(e){const t=bMn(e)?{...e}:{options:{}};super(),yMn(this,"spec"),this.spec=t;const n="function"==typeof e?e:this.spec.component;n&&(this.spec=this.component(n).spec)}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}serialize(e={path:[]}){const t=super.serialize(e),n=this.spec.component;if("function"!=typeof n)throw new bn("`component` is required and must be a function for `component()` view item",e.path,e.index).withHelpUrl(Xn.COMPONENT_REQUIRED);return{...t,component:n,options:this.spec.options||{},type:"component"}}clone(e){const t=new tC;return t.spec={...this.spec,...e||{}},t}}var xMn=Object.defineProperty,wMn=(e,t,n)=>t in e?xMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CMn=(e,t,n)=>wMn(e,t+"",n);class nC extends Cj{constructor(e){super(),CMn(this,"spec"),this.spec={id:"editor",title:"Editor",...e||{}}}serialize(e={path:[]}){return{...super.serialize(e),type:"form"}}clone(e){const t=new nC;return t.spec={...this.spec,...e||{}},t}}const CV=e=>new nC(e),Xke=e=>new tC(e);var SMn=Object.freeze({__proto__:null,ComponentViewBuilder:tC,FormViewBuilder:nC,GenericViewBuilder:Cj,component:Xke,form:CV,maybeSerializeView:wV}),EMn=Object.defineProperty,_Mn=(e,t,n)=>t in e?EMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kMn=(e,t,n)=>_Mn(e,t+"",n);const TMn=({resolveDocumentNode:e,getClient:t})=>async(n,{params:r,path:i})=>{let o=r.type;const a=i.slice(0,i.length-1),s=i[i.length-1];if(o||(o=await Zke(t,n)),!o)throw new bn("Failed to resolve document, and no type provided in parameters.",a,s);return e({documentId:n,schemaType:o})};class hd{constructor(e,t){this._context=e,kMn(this,"spec"),this.spec=t||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:wj(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}child(e){return this.clone({child:e})}getChild(){return this.spec.child}documentId(e){const t=this.spec.id||e;return this.clone({id:t,options:{...this.spec.options||{},id:e}})}getDocumentId(){var e;return null==(e=this.spec.options)?void 0:e.id}schemaType(e){return this.clone({options:{...this.spec.options||{},type:"string"==typeof e?e:e.name}})}getSchemaType(){var e;return null==(e=this.spec.options)?void 0:e.type}initialValueTemplate(e,t){return this.clone({options:{...this.spec.options||{},template:e,templateParameters:t}})}getInitialValueTemplate(){var e;return null==(e=this.spec.options)?void 0:e.template}getInitialValueTemplateParameters(){var e;return null==(e=this.spec.options)?void 0:e.templateParameters}views(e){return this.clone({views:e})}getViews(){return this.spec.views||[]}serialize({path:e=[],index:t,hint:n}={path:[]}){const r=e[t||e.length-1],i=this.spec.id||r&&`${r}`||"",o={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if("string"!=typeof i||!i)throw new bn("`id` is required for document nodes",e,t,n).withHelpUrl(Xn.ID_REQUIRED);if(!o||!o.id)throw new bn("document id (`id`) is required for document nodes",e,i,n).withHelpUrl(Xn.DOCUMENT_ID_REQUIRED);if(!o||!o.type)throw new bn("document type (`schemaType`) is required for document nodes",e,i,n);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[CV()]).map(((t,n)=>wV(t,n,e))),s=a.map((e=>e.id)),l=Fi(s.filter(((e,t)=>s.includes(e,t+1))));if(l.length>0)throw new bn(`document node has views with duplicate IDs: ${l.join(",  ")}`,e,i,n);return{...this.spec,child:this.spec.child||TMn(this._context),id:eC(i,e,t),type:"document",options:AMn(o),views:a}}clone(e={}){const t=new hd(this._context),n={...this.spec.options||{},...e.options||{}};return t.spec={...this.spec,...e,options:n},t}}function AMn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function Jke(e,t){let n=null!=t&&t.type?e.resolveDocumentNode({schemaType:t.type}):new hd(e);if(!t)return n;const{id:r,type:i,template:o,templateParameters:a}=t.options;return n=n.id(t.id).documentId(r),i&&(n=n.schemaType(i)),o&&(n=n.initialValueTemplate(o,a)),t.child&&(n=n.child(t.child)),n}function Qke({resolveDocumentNode:e,templates:t},n,r){const i=t.find((e=>e.id===n));if(!i)throw new Error(`Template with ID "${n}" not defined`);return e({schemaType:i.schemaType}).initialValueTemplate(n,r)}var jMn=Object.defineProperty,IMn=(e,t,n)=>t in e?jMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DMn=(e,t,n)=>IMn(e,t+"",n);class rC{constructor(e,t){this._context=e,DMn(this,"spec"),this.spec=t||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}description(e){return this.clone({description:e})}getDescription(){return this.spec.description}templateId(e){const t=this.spec.id||e;return this.clone({id:t,templateId:e})}getTemplateId(){return this.spec.templateId}parameters(e){return this.clone({parameters:e})}getParameters(){return this.spec.parameters}serialize({path:e=[],index:t,hint:n}={path:[]}){const{spec:r,_context:i}=this,{templates:o}=i;if("string"!=typeof r.id||!r.id)throw new bn("`id` is required for initial value template item nodes",e,t,n).withHelpUrl(Xn.ID_REQUIRED);if(!r.templateId)throw new bn("template id (`templateId`) is required for initial value template item nodes",e,r.id,n).withHelpUrl(Xn.ID_REQUIRED);const a=o.find((e=>e.id===r.templateId));if(!a)throw new bn("template id (`templateId`) is required for initial value template item nodes",e,r.id,n).withHelpUrl(Xn.ID_REQUIRED);return{id:r.id,templateId:r.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:r.description||a.description,title:r.title||a.title,subtitle:r.subtitle,icon:r.icon||a.icon,initialDocumentId:r.initialDocumentId,parameters:r.parameters}}clone(e={}){const t=new rC(this._context);return t.spec={...this.spec,...e},t}}function eTe(e){const{schema:t,getStructureBuilder:n,templates:r}=e,i=t.getTypeNames();return r.filter((e=>{var t;return!(null!=(t=e.parameters)&&t.length)})).sort(((e,t)=>i.indexOf(e.schemaType)-i.indexOf(t.schemaType))).map((e=>n().initialValueTemplateItem(e.id)))}function tTe(e,t,n){return e instanceof rC?e.serialize({path:n,index:t}):e}function nTe(e,t){const{schema:n,templates:r}=e;return t.map((t=>{const i=r.find((e=>e.id===t.templateId)),o=t.title||i?.title||"Create",a={};i&&i.schemaType&&(a.type=i.schemaType),t.templateId&&(a.template=t.templateId);const s=t.parameters?[a,t.parameters]:a,l=i&&n.get(i.schemaType),u=t.i18n||i?.i18n;let c=new fd(e).title(o).icon(i&&i.icon||l?.icon||Qi).intent({type:"create",params:s});return u&&(c=c.i18n(u)),c.serialize()}))}const SV=Symbol("Document type list canHandleIntent"),Sj=(e,t,{pane:n})=>{var r,i;const o="edit"===e,a="create"===e,s=n,l=(null==(r=s.options)?void 0:r.filter)||"",u=(null==(i=s.options)?void 0:i.params)||{},c=s.schemaTypeName?[s.schemaTypeName]:Ej(l,u),d=s.initialValueTemplates||[];return a&&t.template?d.some((e=>e.templateId===t.template)):o&&t.id&&c.includes(t.type)||a&&c.includes(t.type)};Sj.identity=SV;const jie=["default","card","media","detail","block"];var OMn=Object.defineProperty,RMn=(e,t,n)=>t in e?OMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iie=(e,t,n)=>RMn(e,"symbol"!=typeof t?t+"":t,n);function MMn(){}const EV=(e,t,{pane:n,index:r})=>r<=1&&Sj(e,t,{pane:n,index:r});class _V{constructor(){Iie(this,"initialValueTemplatesSpecified",!1),Iie(this,"spec",{})}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:wj(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}defaultLayout(e){return this.clone({defaultLayout:e})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}child(e){return this.clone({child:e})}getChild(){return this.spec.child}canHandleIntent(e){return this.clone({canHandleIntent:e})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(e=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:e}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(e){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(e)?e:[e]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(e={path:[]}){const t=this.spec.id||"",n=e.path,r=this.spec.defaultLayout;if(r&&!jie.includes(r))throw new bn(`\`layout\` must be one of ${jie.map((e=>`"${e}"`)).join(", ")}`,n,t||e.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map(((e,t)=>tTe(e,t,n)));return{id:eC(t,e.path,t||e.index),title:this.spec.title,i18n:this.spec.i18n,type:"genericList",defaultLayout:r,child:this.spec.child||MMn,canHandleIntent:this.spec.canHandleIntent||EV,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map(((e,t)=>vV(e,t,n))),menuItemGroups:(this.spec.menuItemGroups||[]).map(((e,t)=>xV(e,t,n)))}}}var $Mn=Object.defineProperty,PMn=(e,t,n)=>t in e?$Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FMn=(e,t,n)=>PMn(e,t+"",n);const LMn=(e,t)=>{var n;const r=(null==(n=e.options)?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new bn(`\`filter\` cannot start with \`${r[0]}\` - looks like you are providing a query, not a filter`,t.path,e.id,e.title).withHelpUrl(Xn.QUERY_PROVIDED_FOR_FILTER);return r},NMn=e=>(t,n)=>{var r;const i=n.parent,o=null!=(r=n.params)&&r.template?e.templates.find((e=>e.id===n.params.template)):void 0,a=o?o.schemaType:i.schemaTypeName||Zke(e.getClient,t);return Promise.resolve(a).then((n=>n?e.resolveDocumentNode({schemaType:n,documentId:t}):new hd(e).id("editor").documentId(t).schemaType("")))};class mv extends _V{constructor(e,t){super(),this._context=e,FMn(this,"spec"),this.spec=t||{},this.initialValueTemplatesSpecified=!(null==t||!t.initialValueTemplates)}apiVersion(e){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:e}})}getApiVersion(){var e;return null==(e=this.spec.options)?void 0:e.apiVersion}filter(e){return this.clone({options:{...this.spec.options||{},filter:e}})}getFilter(){var e;return null==(e=this.spec.options)?void 0:e.filter}schemaType(e){const t="string"==typeof e?e:e.name;return this.clone({schemaTypeName:t})}getSchemaType(){return this.spec.schemaTypeName}params(e){return this.clone({options:{...this.spec.options||{filter:""},params:e}})}getParams(){var e;return null==(e=this.spec.options)?void 0:e.params}defaultOrdering(e){if(!Array.isArray(e))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:e}})}getDefaultOrdering(){var e;return null==(e=this.spec.options)?void 0:e.defaultOrdering}serialize(e={path:[]}){var t;if("string"!=typeof this.spec.id||!this.spec.id)throw new bn("`id` is required for document lists",e.path,e.index,this.spec.title).withHelpUrl(Xn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new bn("`filter` is required for document lists",e.path,this.spec.id,this.spec.title).withHelpUrl(Xn.FILTER_REQUIRED);return"_type == $type"!==(null==(t=this.spec.options)?void 0:t.filter)&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn(`No apiVersion specified for document type list with custom filter: \`${this.spec.options.filter}\`. This will be required in the future. See %s for more info.`,Zde(Xn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(e),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||NMn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||zt.apiVersion,filter:LMn(this.spec,e)}}}clone(e){const t=new mv(this._context);return t.spec={...this.spec,...e||{}},this.initialValueTemplatesSpecified||(t.spec.initialValueTemplates=BMn(this._context,t.spec)),t.spec.schemaTypeName||(t.spec.schemaTypeName=VMn(t.spec)),t}getSpec(){return this.spec}}function BMn(e,t){const{document:n}=e,{schemaTypeName:r,options:i}=t,{filter:o,params:a}=i||{filter:"",params:{}},s=r?[r]:Array.from(new Set(Ej(o,a)));if(0!==s.length)return s.flatMap((e=>n.resolveNewDocumentOptions({type:"structure",schemaType:e}))).map((e=>({...e,icon:Qi})))}function VMn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},i=Ej(n,r);return 1===i.length?i[0]:void 0}function Ej(e,t={}){let n=zMn(e,t);return 0===n.length&&(n=UMn(e,t)),n}function zMn(e,t={}){const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let i;for(;null!==(i=n.exec(e));)r.push(i[1]||i[2]);return r.map((e=>(("$"===e[0]?t[e.slice(1)]:e)||"").trim().replace(/^["']|["']$/g,""))).filter(Boolean)}function UMn(e,t={}){const n=e.match(/\b_type\s+in\s+\[(.*?)\]/);return n?n[1].split(/,\s*/).map((e=>e.trim().replace(/^["']+|["']+$/g,""))).map((e=>"$"===e[0]?t[e.slice(1)]:e)).filter(Boolean):[]}var HMn=Object.defineProperty,WMn=(e,t,n)=>t in e?HMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GMn=(e,t,n)=>WMn(e,t+"",n);const YMn=e=>e instanceof Bm?"ListBuilder":JMn(e)?"Promise":Array.isArray(e)?"array":typeof e,qMn=e=>"listItem"===e.type,KMn=(e,t,n)=>(n.pane.items||[]).filter(rTe).some((e=>e.schemaType.name===t.type&&e._id===t.id))||EV(e,t,n),ZMn=(e,t)=>{const n=(t.parent.items.filter(qMn).find((t=>t.id===e))||{child:void 0}).child;return n&&"function"==typeof n&&"function"==typeof n?n(e,t):n};function XMn(e,t,n){if(e instanceof Vm)return e.serialize({path:n,index:t});const r=e;if(r&&"divider"===r.type)return e;if(!r||"listItem"!==r.type){const e=r&&r.type||YMn(r);throw new bn(`List items must be of type "listItem", got "${e}"${"array"===e?" - did you forget to spread (...moreItems)?":""}`,n,t).withHelpUrl(Xn.INVALID_LIST_ITEM)}return e}function JMn(e){return xt(e)&&"function"==typeof e.then}class Bm extends _V{constructor(e,t){super(),this._context=e,GMn(this,"spec"),this.spec=t||{},this.initialValueTemplatesSpecified=!(!t||!t.initialValueTemplates)}items(e){return this.clone({items:e})}getItems(){return this.spec.items}serialize(e={path:[]}){const t=this.spec.id;if("string"!=typeof t||!t)throw new bn("`id` is required for lists",e.path,e.index).withHelpUrl(Xn.ID_REQUIRED);const n=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(n))throw new bn("`items` must be an array of items",e.path,e.index).withHelpUrl(Xn.LIST_ITEMS_MUST_BE_ARRAY);const r=(e.path||[]).concat(t),i=n.map(((e,t)=>XMn(e,t,r))),o=i.filter(((e,t)=>Hxe(i,{id:e.id},t+1)));if(o.length>0){const t=o.map((e=>e.id)).slice(0,5),n=o.length>5?`${t.join(", ")}...`:t.join(", ");throw new bn(`List items with same ID found (${n})`,e.path,e.index).withHelpUrl(Xn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(e),type:"list",canHandleIntent:this.spec.canHandleIntent||KMn,child:this.spec.child||ZMn,items:i}}clone(e){const t=new Bm(this._context);return t.spec={...this.spec,...e||{}},t}}var QMn=Object.defineProperty,e$n=(e,t,n)=>t in e?QMn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t$n=(e,t,n)=>e$n(e,t+"",n);class Vm{constructor(e,t){this._context=e,t$n(this,"spec"),this.spec=t||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:wj(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}icon(e){return this.clone({icon:e})}showIcon(e=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:e}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(e){return this.clone({child:e})}getChild(){return this.spec.child}schemaType(e){return this.clone({schemaType:e})}getSchemaType(){const e=this.spec.schemaType;return"string"==typeof e?this._context.schema.get(e):this.spec.schemaType}serialize(e={path:[]}){const{id:t,title:n,child:r}=this.spec;if("string"!=typeof t||!t)throw new bn("`id` is required for list items",e.path,e.index).withHelpUrl(Xn.ID_REQUIRED);if(!(e.titleIsOptional||"string"==typeof n&&n))throw new bn("`title` is required for list items",e.path,t).withHelpUrl(Xn.TITLE_REQUIRED);let i=this.spec.schemaType;if("string"==typeof i){const n=this._context.schema.get(i);if(!n)throw new bn(`Could not find type "${i}" in schema`,e.path,t).withHelpUrl(Xn.SCHEMA_TYPE_NOT_FOUND);i=n}const o={path:e.path.concat(t),hint:"child"};let a=r instanceof Q0||r instanceof mv||r instanceof hd||r instanceof Bm?r.serialize(o):r;if("function"==typeof a){const e=a;a=(t,n)=>e(t,{...n,serializeOptions:o})}return{...this.spec,id:eC(t,e.path,e.index),schemaType:i,child:a,title:n,type:"listItem"}}clone(e){const t=new Vm(this._context);return t.spec={...this.spec,...e||{}},t}}var n$n=Object.defineProperty,r$n=(e,t,n)=>t in e?n$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i$n=(e,t,n)=>r$n(e,t+"",n);const a$n=(e,t)=>n=>{const r=t.schemaType&&("string"==typeof t.schemaType?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new hd(e).id("documentEditor").documentId(n)};class _j extends Vm{constructor(e,t){super(e,t),this._context=e,i$n(this,"spec"),this.spec=t||{}}serialize(e={path:[]}){const t=super.serialize({...e,titleIsOptional:!0});if(!t.schemaType)throw new bn("`schemaType` is required for document list items",e.path,e.index).withHelpUrl(Xn.SCHEMA_TYPE_REQUIRED);const n=t.child||a$n(this._context,t);return{...t,child:n,schemaType:t.schemaType,_id:t.id}}clone(e){const t=new _j(this._context);return t.spec={...this.spec,...e||{}},t}}function rTe(e){return xt(e)&&typeof e.schemaType<"u"&&"string"==typeof e._id}var o$n=Object.defineProperty,s$n=(e,t,n)=>t in e?o$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l$n=(e,t,n)=>s$n(e,t+"",n);class yx extends mv{constructor(e,t){super(e),this._context=e,l$n(this,"spec"),this.spec=t||{}}child(e){return this.cloneWithoutDefaultIntentHandler({child:e})}clone(e){const t=super.clone(e),n=new yx(this._context);return n.spec={...this.spec,...t.getSpec(),...e||{}},n}cloneWithoutDefaultIntentHandler(e){const t=super.clone(e),n=new yx(this._context),r=this.spec.canHandleIntent,i=r&&r.identity===SV?{canHandleIntent:void 0}:{};return n.spec={...t.getSpec(),...this.spec,...e||{},...i},n}}const u$n=["sanity.imageAsset","sanity.fileAsset"];function c$n(e){return u$n.includes(e)}function d$n(e){var t;return"document"===(null==(t=e.type)?void 0:t.name)}function f$n(e){return"list"===e.type}function h$n({schema:e}){return e.getTypeNames().filter((t=>{const n=e.get(t);return n&&d$n(n)})).filter((e=>!c$n(e)))}function iTe(e){return h$n(e).map((t=>aTe(e,t)))}function aTe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error(`Schema type with name "${t}" not found`);const i=r.title||Tn(t);return new Vm(e).id(t).title(i).schemaType(r).child(((n,r)=>{const i=r.parent,o=f$n(i)?i.items.find((e=>e.id===n)):null;let a=oTe(e,t);return o&&o.title&&(a=a.title(o.title)),a}))}function oTe(e,t){const{schema:n,resolveDocumentNode:r}=e,i="string"==typeof t?t:t.schemaType,o="string"==typeof i?i:i.name,a="string"==typeof t?{schemaType:i}:t,s=n.get(o);if(!s)throw new Error(`Schema type with name "${o}" not found`);const l=s.title||Tn(o);return new yx(e).id(a.id||o).title(a.title||l).filter("_type == $type").params({type:o}).schemaType(s).defaultOrdering(rMn.by).menuItemGroups(a.menuItemGroups||[{id:"sorting",title:"Sort",i18n:{title:{key:"menu-item-groups.actions-group",ns:Mt}}},{id:"layout",title:"Layout",i18n:{title:{key:"menu-item-groups.layout-group",ns:Mt}}},{id:"actions",title:"Actions",i18n:{title:{key:"menu-item-groups.sorting-group",ns:Mt}}}]).child(a.child||(e=>r({schemaType:o,documentId:e}))).canHandleIntent(a.canHandleIntent||Sj).menuItems(a.menuItems||[...bV(e,s),new fd(e).group("layout").i18n({title:{key:"menu-items.layout.compact-view",ns:Mt}}).title("Compact view").icon(dk).action("setLayout").params({layout:"default"}),new fd(e).group("layout").i18n({title:{key:"menu-items.layout.detailed-view",ns:Mt}}).title("Detailed view").icon(zF).action("setLayout").params({layout:"detail"})])}function p$n(e){return!(!e||"string"==typeof e)&&!!e.icon}function m$n(e){const t=iTe(e);return new Bm(e).id("__root__").title("Content").i18n({title:{key:"default-definition.content-title",ns:Mt}}).items(t).showIcons(t.some((e=>p$n(e.getSchemaType()))))}function sTe({defaultDocumentNode:e,source:t}){const n=kCn(t),r={...t,getStructureBuilder:()=>i,resolveDocumentNode:t=>{let o=e?.(i,{...t,...n})||new hd(r);return o.getId()||(o=o.id("documentEditor")),t.documentId&&(o=o.documentId(sn(t.documentId))),o.schemaType(t.schemaType)}},i={defaults:()=>m$n(r),documentTypeList:(...e)=>oTe(r,...e),documentTypeListItem:(...e)=>aTe(r,...e),documentTypeListItems:(...e)=>iTe(r,...e),document:(...e)=>new hd(r,...e),documentWithInitialValueTemplate:(...e)=>Qke(r,...e),defaultDocument:r.resolveDocumentNode,list:(...e)=>new Bm(r,...e),listItem:(...e)=>new Vm(r,...e),menuItem:(...e)=>new fd(r,...e),menuItemGroup:(...e)=>new vp(r,...e),menuItemsFromInitialValueTemplateItems:(...e)=>nTe(r,...e),documentList:(...e)=>new mv(r,...e),documentListItem:(...e)=>new _j(r,...e),orderingMenuItem:(...e)=>yV(r,...e),orderingMenuItemsForType:(...e)=>bV(r,...e),editor:(...e)=>Jke(r,...e),defaultInitialValueTemplateItems:(...e)=>eTe(r,...e),initialValueTemplateItem:(e,t)=>new rC(r,{id:e,parameters:t,templateId:e}),component:e=>ta.isValidElementType(e)?(new Q0).component(e):new Q0(e),divider:()=>({id:jpe("__divider__"),type:"divider"}),view:SMn,context:r};return i}const g$n=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},lTe={activePanes:[]};function v$n(e){lTe.activePanes=e}function y$n(e,t,n,r){var i;const o=n?.panes||[],a=lTe.activePanes||[],s=t.id||Ca(),l="create"===e&&t.template;for(let n=a.length-1;n>=0;n--){const u=a[n];if("object"==typeof u&&(null!=(i=u.canHandleIntent)&&i.call(u,e,t,{pane:u,index:n})||"documentList"===u.type&&u.schemaTypeName===t.type&&"_type == $type"===u.options.filter)){const e=l?{template:t.template}:i3n;return{panes:o.slice(0,n).concat([[{id:s,params:e,payload:r}]])}}}return{intent:e,params:t,payload:r}}function b$n(e){const t=new Map;return SA(e,(e=>{if("unchanged"===e.action||!("annotation"in e)||!e.annotation)return!0;const{author:n,timestamp:r}=e.annotation,i=t.get(n);return(!i||i.timestamp<r)&&t.set(n,e.annotation),!0})),Array.from(t.values()).sort(((e,t)=>e.timestamp<t.timestamp?1:-1))}const x$n=$(bA)`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`;function w$n(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:i,timelineStore:o,value:a}=vr(),s=f.useRef(null),l=Zi(o,(e=>e.diff)),c=Zi(o,(e=>e.onOlderRevision)),d=Zi(o,(e=>e.selectionState)),p=Zi(o,(e=>e.sinceTime)),h="loading"===d,m=!c,{t:g}=Z("studio"),y=f.useMemo((()=>({documentId:n,schemaType:r,FieldWrapper:RUt,rootDiff:l,isComparingCurrent:m,value:a})),[n,l,m,r,a]),v=f.useMemo((()=>l?b$n(l):[]),[l]);return u.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(cV,{as:"header",closeButtonLabel:g("changes.action.close-label"),flex:"none",onClose:t,title:g("changes.title"),children:u.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[u.jsx(N,{flex:1,children:u.jsx(Mke,{mode:"since",chunk:p,placement:"bottom-start"})}),u.jsx(N,{flex:"none",children:u.jsx(uo,{annotations:v,description:g("changes.changes-by-author"),portal:!0,children:u.jsx(Ux,{maxLength:4,"aria-label":g("changes.changes-by-author"),children:v.map((({author:e})=>u.jsx(gs,{user:e},e)))})})})]})}),u.jsx(ae,{flex:1,children:u.jsx(Jc,{element:s.current,children:u.jsx(x$n,{"data-ui":"Scroller",ref:s,children:u.jsx(N,{flex:1,padding:4,children:u.jsx(C$n,{diff:l,documentContext:y,error:i,loading:h,schemaType:r})})})})})]})}function C$n({error:e,diff:t,documentContext:n,loading:r,schemaType:i}){return e?u.jsx(OP,{}):r?u.jsx(wn,{showText:!0}):t?u.jsx(qie.Provider,{value:n,children:u.jsx(Rw,{diff:t,schemaType:i})}):u.jsx(OP,{})}const S$n={name:N4,useMenuItem:()=>{const{features:e}=ch(),{t:t}=Z();return{hidden:!e.reviewChanges,icon:uk,title:t("changes.title")}},component:w$n,onClose:({params:e})=>({params:{...e,since:void 0}}),onOpen:({params:e})=>({params:{...e,since:"@lastPublished"}})};function E$n(e){const{path:t,schemaType:n,value:r}=e,i=[];let o=n,a=r;for(const e of t)if("string"!=typeof e)if("number"!=typeof e){if(!xt(e)||!e._key)throw new Error(`Invalid path segment: ${JSON.stringify(e)}`);{if(!nQ(a))throw new Error(`Parent value is not an array, cannot get path segment: [_key == ${e}]`);if("array"!==o.jsonType)throw new Error(`Parent type is not an array schema type, cannot get path segment: .${e}`);if(a=(a??[]).find((t=>xt(t)&&t._key===e._key)),!xt(a))throw new Error(`Array item not found: [_key == ${e._key}]`);const t=o.of.find((e=>xt(a)&&e.name===a?._type));if(!t)throw new Error(`Array item type not found: .${a?._type}`);o=t,i.push(o)}}else{if(!nQ(a)&&void 0!==a)throw new Error(`Parent value is not an array, cannot get path segment: [${e}]`);if("array"!==o.jsonType)throw new Error(`Parent type is not an array schema type, cannot get path segment: [${e}]`);a=a?.[e];const t=o.of.find((e=>"string"==typeof a?"string"===e.jsonType:"number"==typeof a?"number"===e.jsonType:"boolean"==typeof a?"boolean"===e.jsonType:!!xt(a)&&e.name===a?._type));if(!t)throw new Error(`Item type not found: [${e}]`);o=t,i.push(o)}else{if(!xt(a)&&void 0!==a)throw new Error(`Parent value is not an object, cannot get path segment: .${e}`);if("object"!==o.jsonType)throw new Error(`Parent type is not an object schema type, cannot get path segment: .${e}`);a=a?.[e];const t=o.fields.find((t=>t.name===e));if(!t)return i.push({name:e}),i;o=t.type,i.push(o)}return i}const _$n={error:ra,warning:or,info:bd},k$n={error:"critical",warning:"caution",info:"primary"};function T$n(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:i,validation:o,value:a}=vr(),{t:s}=Z("validation"),l=f.useCallback((e=>{r(e),n(e)}),[n,r]);return u.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(cV,{as:"header",closeButtonLabel:s("panel.close-button-aria-label"),flex:"none",onClose:t,title:s("panel.title")}),u.jsxs(ae,{flex:1,overflow:"auto",padding:3,children:[0===o.length&&u.jsx(N,{padding:2,children:u.jsx(L,{muted:!0,size:1,children:s("panel.no-errors-message")})}),o.length>0&&u.jsx(ne,{space:2,children:o.map(((e,t)=>u.jsx(A$n,{marker:e,onOpen:l,schemaType:i,value:a},t)))})]})]})}function A$n(e){const{marker:t,onOpen:n,schemaType:r,value:i}=e,o=f.useCallback((()=>n(t.path)),[t,n]),[a,s]=f.useState(null);return u.jsxs(v1,{onCatch:s,children:[a&&u.jsx(ae,{padding:3,radius:2,tone:"critical",children:u.jsx(L,{size:1,children:a.error.message})}),!a&&u.jsx(ae,{__unstable_focusRing:!0,as:"button",onClick:o,padding:3,radius:2,tone:k$n[t.level],children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(N,{flex:"none",children:u.jsx(L,{size:1,children:f.createElement(_$n[t.level])})}),u.jsxs(ne,{flex:1,space:2,children:[u.jsx(j$n,{path:t.path,schemaType:r,value:i}),u.jsx(L,{muted:!0,size:1,children:t.message})]})]})})]})}function j$n(e){const{path:t,schemaType:n,value:r}=e,i=f.useMemo((()=>{try{return E$n({path:t,schemaType:n,value:r})}catch(e){console.error(e)}return null}),[t,n,r]);return null!=i&&i.length?u.jsx(L,{size:1,children:i.map(((e,t)=>u.jsxs(f.Fragment,{children:[t>0&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),u.jsx("span",{style:{fontWeight:500},children:e.title||e.name})]},t)))}):null}function I$n(e){const{documentId:t,documentType:n}=e,{t:r}=Z("validation"),{validation:i}=cv(t,n),o=f.useMemo((()=>i.map((e=>({level:e.level,message:e.message,path:e.path})))),[i]),a=o.some(WTe),s=o.some(GTe),l=f.useMemo((()=>a?ra:s?or:Wf),[a,s]),u=f.useMemo((()=>a?"critical":s?"caution":"positive"),[a,s]);return{hidden:0===o.length,icon:l,title:r("panel.title"),tone:u,showAsAction:!0}}const D$n={name:d3n,component:T$n,useMenuItem:I$n},O$n={};function R$n(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function M$n(e){return(e||[]).map((e=>e.map(H$n).join("|"))).map(encodeURIComponent).join(";")}function $$n(e){return JSON.stringify(e)}function P$n(e){return W$n(decodeURIComponent(e))}function F$n(e){return M$n(e)}const L$n=qi.create("/",[qi.intents("/intent"),qi.create("/edit/:type/:editDocumentId",[qi.create({path:"/:params",transform:{params:{toState:R$n,toPath:$$n}}})]),qi.create({path:"/:panes",children:[qi.create("/:action",qi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:P$n,toPath:F$n}}})]),N$n=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,B$n=e=>/^[a-z0-9]+=[^=]+/i.test(e),V$n=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),uTe=["view","since","rev","inspect","comment"],z$n=Boolean;function U$n(e,t){const n={...t,params:O$n,payload:void 0};return e.reduce(((e,t)=>{if(B$n(t)){const n=t.slice(0,t.indexOf("=")),r=t.slice(n.length+1);e.params={...e.params,[decodeURIComponent(n)]:decodeURIComponent(r)}}else V$n(t)?e.payload=q$n(t):console.warn("Unknown pane segment: %s - skipping",t);return e}),n)}function H$n(e,t,n){const{payload:r,params:i={},id:o}=e,[a]=n,s=e===a,l=0!==t&&o===a.id,u=typeof r>"u"?void 0:cye(r),c=Object.entries(i).filter((e=>{var t;const[n,r]=e;if(!r)return!1;if(s)return!0;return!(r===(null==(t=a.params)?void 0:t[n])&&!uTe.includes(n))})).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`));return[l?"":o].concat([c.length>0&&c,u].filter(z$n).flat()).join(",")||","}function W$n(e){return-1!==e.indexOf(",{")?G$n(e):e.split(";").map((e=>{const[t,...n]=e.split("|").map((e=>{const[t,...n]=e.split(",");return U$n(n,{id:t})}));return[t,...n.map((e=>({...t,...e,id:e.id||t.id,params:{...pa(t.params,uTe),...e.params},payload:e.payload||t.payload})))]})).filter((e=>e.length>0))}function G$n(e){const t=[];let n=e;for(;n.length;){const[e,r,i]=n.match(N$n)||[];if(!e){n=n.slice(1);continue}const o=i&&Y$n(i);t.push({id:r,payload:o}),n=n.slice(e.length)}return[t]}function Y$n(e){try{return JSON.parse(e)}catch(e){return void console.warn(`Failed to parse parameters: ${e.message}`)}}function q$n(e){try{return e?uye(e):void 0}catch(e){return void console.warn(`Failed to parse parameters: ${e.message}`)}}const K$n=[Ike,Dke,Ake,jke,Tke,fV],Z$n=[g$n],X$n=[D$n,S$n],cTe=K1((e=>{const t=e?.icon||OF;return{name:"sanity/structure",document:{actions:e=>Array.from(new Set([...e,...K$n])),badges:e=>Array.from(new Set([...e,...Z$n])),inspectors:e=>Array.from(new Set([...e,...X$n]))},tools:[{name:e?.name||"structure",title:e?.title||"Structure",icon:t,component:f.lazy((()=>md((()=>import("./index3.CEQyuKZP.js")),__vite__mapDeps([6,1])))),canHandleIntent:(e,t)=>"create"===e?J$n(t):"edit"===e&&Q$n(t),getIntentState:y$n,controlsDocumentTitle:!0,options:e,router:L$n}],i18n:{bundles:[eDn]}}}));function J$n(e){return"type"in e&&(!("template"in e)||{template:!0})}function Q$n(e){return"id"in e&&(!("mode"in e)||{mode:"structure"===e.mode})}function ePn({defaultDocumentNode:e,structure:t,children:n}){const[r,i]=f.useState(!1),o=Sn(),a=_Cn(o),s=_s(),l=f.useMemo((()=>sTe({defaultDocumentNode:e,source:o})),[e,o]),c=f.useMemo((()=>t?t(l,{...a,documentStore:s}):l.defaults()),[l,t,a,s]),d=f.useMemo((()=>({backButton:r,resizablePanes:!r,reviewChanges:!r,splitPanes:!r,splitViews:!r})),[r]),p=f.useMemo((()=>({features:d,layoutCollapsed:r,setLayoutCollapsed:i,rootPaneNode:c,structureContext:l.context})),[d,r,c,l.context]);return u.jsx(Uae.Provider,{value:p,children:n})}var tPn=Object.freeze({__proto__:null,default:Fke}),nPn=Object.freeze({__proto__:null,default:Yke});const Z4n=Object.freeze(Object.defineProperty({__proto__:null,BackLink:ake,ChildLink:oke,ComponentBuilder:Q0,ComponentViewBuilder:tC,ConfirmDeleteDialogContainer:oV,DEFAULT_INTENT_HANDLER:SV,DocumentBuilder:hd,DocumentInspectorHeader:cV,DocumentListBuilder:mv,DocumentListItemBuilder:_j,DocumentPane:Fke,DocumentPaneProvider:pV,DocumentTypeListBuilder:yx,FormViewBuilder:nC,GenericListBuilder:_V,GenericViewBuilder:Cj,HELP_URL:Xn,InitialValueTemplateItemBuilder:rC,LOADING_PANE:a3n,ListBuilder:Bm,ListItemBuilder:Vm,LoadingPane:lV,MenuItemBuilder:fd,MenuItemGroupBuilder:vp,Pane:Jw,PaneContainer:Yke,PaneContent:Qw,PaneHeader:yj,PaneHeaderActions:gke,PaneItem:vke,PaneLayout:WDn,ParameterizedLink:aDn,ReferenceChildLink:oDn,SerializeError:bn,StructureToolProvider:ePn,_DEBUG:bke,component:Xke,createStructureBuilder:sTe,defaultInitialValueTemplateItems:eTe,defaultIntentChecker:Sj,documentFromEditor:Jke,documentFromEditorWithInitialValue:Qke,form:CV,getOrderingMenuItem:yV,getOrderingMenuItemsForSchemaType:bV,getTypeNamesFromFilter:Ej,isDocumentListItem:rTe,maybeSerializeInitialValueTemplateItem:tTe,maybeSerializeMenuItem:vV,maybeSerializeMenuItemGroup:xV,maybeSerializeView:wV,menuItemsFromInitialValueTemplateItems:nTe,pane:tPn,pane$1:nPn,setActivePanes:v$n,shallowIntentChecker:EV,structureLocaleNamespace:Mt,structureTool:cTe,useDocumentPane:vr,useDocumentTitle:uV,usePane:$d,usePaneLayout:Nm,usePaneRouter:ac,useStructureTool:ch},Symbol.toStringTag,{value:"Module"})),rPn="vision",iPn={locale:"en-US",namespace:rPn,resources:()=>md((()=>import("./resources.BKZ4JwLW.js")),__vite__mapDeps([7,1]))},aPn=K1((e=>{const{name:t,title:n,icon:r,...i}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||ak,component:f.lazy((()=>md((()=>import("./SanityVision.CWAEfVRR.js")),__vite__mapDeps([8,1])))),options:i,router:qi.create("/*")}],i18n:{bundles:[iPn]}}})),oPn=Cx({name:"author",title:"Author",type:"document",fields:[ji({name:"name",title:"Name",type:"string",validation:e=>e.required()}),ji({name:"picture",title:"Picture",type:"image",fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity."}],options:{hotspot:!0},validation:e=>e.required()})]}),sPn=Cx({title:"Block Content",name:"blockContent",type:"array",of:[Wie({title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}})]}),lPn=Cx({name:"group",title:"",type:"document",fields:[ji({name:"title",title:" ",initialValue:" ",type:"string",validation:e=>e.required()}),ji({name:"time",title:"",initialValue:"18:00",type:"string",validation:e=>e.required()}),ji({name:"authors",title:"(-)",initialValue:"",type:"string",validation:e=>e.required()}),ji({name:"day",title:" ",type:"string",initialValue:"",options:{list:[{title:"",value:""},{title:"",value:""},{title:"",value:""},{title:"",value:""},{title:"",value:""},{title:"",value:""},{title:"",value:""}]},validation:e=>e.required()}),ji({name:"description",title:" ",initialValue:" .",type:"text",rows:4}),ji({name:"link",title:"  ",initialValue:"https://t.me/community_pa",type:"url"}),ji({name:"body",title:"Body",type:"blockContent"})],preview:{select:{title:"title",day:"day",time:"time"},prepare:({title:e,day:t,time:n})=>({title:e,subtitle:`${{monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}[t]}  ${n||"N/A"}`})}}),dTe=6048e5,uPn=864e5,fTe=6e4,hTe=36e5,Die=Symbol.for("constructDateFrom");function pd(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&Die in e?e[Die](t):e instanceof Date?new e.constructor(t):new Date(t)}function ys(e,t){return pd(t||e,e)}let cPn={};function kj(){return cPn}function bx(e,t){const n=kj(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ys(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function T5(e,t){return bx(e,{...t,weekStartsOn:1})}function pTe(e,t){const n=ys(e,t?.in),r=n.getFullYear(),i=pd(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=T5(i),a=pd(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=T5(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Oie(e){const t=ys(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function dPn(e,...t){const n=pd.bind(null,t.find((e=>"object"==typeof e)));return t.map(n)}function Rie(e,t){const n=ys(e,t?.in);return n.setHours(0,0,0,0),n}function fPn(e,t,n){const[r,i]=dPn(n?.in,e,t),o=Rie(r),a=Rie(i),s=+o-Oie(o),l=+a-Oie(a);return Math.round((s-l)/uPn)}function hPn(e,t){const n=pTe(e,t),r=pd(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),T5(r)}function pPn(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function mPn(e){return!(!pPn(e)&&"number"!=typeof e||isNaN(+ys(e)))}function gPn(e,t){const n=ys(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const vPn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yPn=(e,t,n)=>{let r;const i=vPn[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function BO(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const bPn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xPn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wPn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CPn={date:BO({formats:bPn,defaultWidth:"full"}),time:BO({formats:xPn,defaultWidth:"full"}),dateTime:BO({formats:wPn,defaultWidth:"full"})},SPn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EPn=(e,t,n,r)=>SPn[e];function fy(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const _Pn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kPn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TPn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},APn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jPn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IPn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DPn=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OPn={ordinalNumber:DPn,era:fy({values:_Pn,defaultWidth:"wide"}),quarter:fy({values:kPn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fy({values:TPn,defaultWidth:"wide"}),day:fy({values:APn,defaultWidth:"wide"}),dayPeriod:fy({values:jPn,defaultWidth:"wide",formattingValues:IPn,defaultFormattingWidth:"wide"})};function hy(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?MPn(s,(e=>e.test(a))):RPn(s,(e=>e.test(a)));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;return{value:u,rest:t.slice(a.length)}}}function RPn(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function MPn(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $Pn(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const PPn=/^(\d+)(th|st|nd|rd)?/i,FPn=/\d+/i,LPn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NPn={any:[/^b/i,/^(a|c)/i]},BPn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VPn={any:[/1/i,/2/i,/3/i,/4/i]},zPn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UPn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HPn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WPn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GPn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YPn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qPn={ordinalNumber:$Pn({matchPattern:PPn,parsePattern:FPn,valueCallback:e=>parseInt(e,10)}),era:hy({matchPatterns:LPn,defaultMatchWidth:"wide",parsePatterns:NPn,defaultParseWidth:"any"}),quarter:hy({matchPatterns:BPn,defaultMatchWidth:"wide",parsePatterns:VPn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hy({matchPatterns:zPn,defaultMatchWidth:"wide",parsePatterns:UPn,defaultParseWidth:"any"}),day:hy({matchPatterns:HPn,defaultMatchWidth:"wide",parsePatterns:WPn,defaultParseWidth:"any"}),dayPeriod:hy({matchPatterns:GPn,defaultMatchWidth:"any",parsePatterns:YPn,defaultParseWidth:"any"})},KPn={code:"en-US",formatDistance:yPn,formatLong:CPn,formatRelative:EPn,localize:OPn,match:qPn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZPn(e,t){const n=ys(e,t?.in);return fPn(n,gPn(n))+1}function XPn(e,t){const n=ys(e,t?.in),r=+T5(n)-+hPn(n);return Math.round(r/dTe)+1}function mTe(e,t){const n=ys(e,t?.in),r=n.getFullYear(),i=kj(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=pd(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=bx(a,t),l=pd(t?.in||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=bx(l,t);return+n>=+s?r+1:+n>=+u?r:r-1}function JPn(e,t){const n=kj(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=mTe(e,t),o=pd(t?.in||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),bx(o,t)}function QPn(e,t){const n=ys(e,t?.in),r=+bx(n,t)-+JPn(n,t);return Math.round(r/dTe)+1}function Wn(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Wd={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Wn("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Wn(n+1,2)},d:(e,t)=>Wn(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Wn(e.getHours()%12||12,t.length),H:(e,t)=>Wn(e.getHours(),t.length),m:(e,t)=>Wn(e.getMinutes(),t.length),s:(e,t)=>Wn(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Wn(Math.trunc(r*Math.pow(10,n-3)),t.length)}},lg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mie={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Wd.y(e,t)},Y:function(e,t,n,r){const i=mTe(e,r),o=i>0?i:1-i;if("YY"===t){return Wn(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Wn(o,t.length)},R:function(e,t){return Wn(pTe(e),t.length)},u:function(e,t){return Wn(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Wn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Wn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Wd.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Wn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=QPn(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Wn(i,t.length)},I:function(e,t,n){const r=XPn(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Wn(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Wd.d(e,t)},D:function(e,t,n){const r=ZPn(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Wn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Wn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Wn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Wn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?lg.noon:0===r?lg.midnight:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?lg.evening:r>=12?lg.afternoon:r>=4?lg.morning:lg.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Wd.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wd.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Wn(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Wn(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wd.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wd.s(e,t)},S:function(e,t){return Wd.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Pie(r);case"XXXX":case"XX":return Rh(r);default:return Rh(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Pie(r);case"xxxx":case"xx":return Rh(r);default:return Rh(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$ie(r,":");default:return"GMT"+Rh(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$ie(r,":");default:return"GMT"+Rh(r,":")}},t:function(e,t,n){return Wn(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Wn(+e,t.length)}};function $ie(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+Wn(o,2)}function Pie(e,t){return e%60==0?(e>0?"-":"+")+Wn(Math.abs(e)/60,2):Rh(e,t)}function Rh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Wn(Math.trunc(r/60),2)+t+Wn(r%60,2)}const Fie=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},gTe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},e4n=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Fie(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Fie(r,t)).replace("{{time}}",gTe(i,t))},t4n={p:gTe,P:e4n},n4n=/^D+$/,r4n=/^Y+$/,i4n=["D","DD","YY","YYYY"];function a4n(e){return n4n.test(e)}function o4n(e){return r4n.test(e)}function s4n(e,t,n){const r=l4n(e,t,n);if(console.warn(r),i4n.includes(e))throw new RangeError(r)}function l4n(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u4n=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c4n=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d4n=/^'([^]*?)'?$/,f4n=/''/g,h4n=/[a-zA-Z]/;function p4n(e,t,n){const r=kj(),i=r.locale??KPn,o=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ys(e,n?.in);if(!mPn(s))throw new RangeError("Invalid time value");let l=t.match(c4n).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,t4n[t])(e,i.formatLong)}return e})).join("").match(u4n).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:m4n(e)};if(Mie[t])return{isToken:!0,value:e};if(t.match(h4n))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map((n=>{if(!n.isToken)return n.value;const r=n.value;(o4n(r)||a4n(r))&&s4n(r,t,String(e));return(0,Mie[r[0]])(s,r,i.localize,u)})).join("")}function m4n(e){const t=e.match(d4n);return t?t[1].replace(f4n,"'"):e}function g4n(e,t){const n=()=>pd(t?.in,NaN),r=x4n(e);let i;if(r.date){const e=w4n(r.date,2);i=C4n(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const o=+i;let a,s=0;if(r.time&&(s=S4n(r.time),isNaN(s)))return n();if(!r.timezone){const e=new Date(o+s),n=ys(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return a=E4n(r.timezone),isNaN(a)?n():ys(o+s+a,t?.in)}const nS={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v4n=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y4n=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,b4n=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x4n(e){const t={},n=e.split(nS.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],nS.timeZoneDelimiter.test(t.date)&&(t.date=e.split(nS.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=nS.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}function w4n(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function C4n(e,t){if(null===t)return new Date(NaN);const n=e.match(v4n);if(!n)return new Date(NaN);const r=!!n[4],i=py(n[1]),o=py(n[2])-1,a=py(n[3]),s=py(n[4]),l=py(n[5])-1;if(r)return j4n(t,s,l)?_4n(t,s,l):new Date(NaN);{const e=new Date(0);return T4n(t,o,a)&&A4n(t,i)?(e.setUTCFullYear(t,o,Math.max(i,a)),e):new Date(NaN)}}function py(e){return e?parseInt(e):1}function S4n(e){const t=e.match(y4n);if(!t)return NaN;const n=VO(t[1]),r=VO(t[2]),i=VO(t[3]);return I4n(n,r,i)?n*hTe+r*fTe+1e3*i:NaN}function VO(e){return e&&parseFloat(e.replace(",","."))||0}function E4n(e){if("Z"===e)return 0;const t=e.match(b4n);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return D4n(r,i)?n*(r*hTe+i*fTe):NaN}function _4n(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}const k4n=[31,null,31,30,31,30,31,31,30,31,30,31];function vTe(e){return e%400==0||e%4==0&&e%100!=0}function T4n(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(k4n[t]||(vTe(e)?29:28))}function A4n(e,t){return t>=1&&t<=(vTe(e)?366:365)}function j4n(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function I4n(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function D4n(e,t){return t>=0&&t<=59}const O4n=Cx({name:"post",title:"Post",type:"document",fields:[ji({name:"title",title:"Title",type:"string",validation:e=>e.required()}),ji({name:"slug",title:"Slug",type:"slug",validation:e=>e.required(),options:{source:"title",maxLength:96}}),ji({name:"description",title:"description",type:"text",rows:4}),ji({name:"mainImage",title:"Main image",type:"image",options:{hotspot:!0}}),ji({name:"date",title:"Date",type:"datetime",initialValue:()=>(new Date).toISOString(),validation:e=>e.required()}),ji({name:"author",title:"Author",type:"reference",to:[{type:"author"}],validation:e=>e.required()}),ji({name:"body",title:"Body",type:"blockContent"})],preview:{select:{title:"title",author:"author.name",media:"mainImage",date:"date"},prepare:({title:e,media:t,author:n,date:r})=>({title:e,media:t,subtitle:[n&&`by ${n}`,r&&`on ${p4n(g4n(r),"LLL d, yyyy")}`].filter(Boolean).join(" ")})}}),R4n=[O4n,sPn,oPn,lPn],M4n="0v6rg1ms",$4n="production",W4={name:"APRO",title:"APRO - admin",projectId:M4n,dataset:$4n,plugins:[cTe(),aPn()],schema:{types:R4n}};W4.basePath&&"//studio"!==W4.basePath&&console.warn("[@sanity/astro]: This integration ignores the basePath setting in sanity.config.ts|js. To set the basePath for Sanity Studio, use the studioBasePath option in astro.config.mjs and remove it from sanity.config.ts.");const yTe={...W4,basePath:"/studio"};if(!yTe)throw new Error("[@sanity/astro]: Can't load Sanity Studio. Check that you've configured it in `sanity.config.js|ts`.");function X4n(){return u.jsx("div",{"data-ui":"AstroStudioLayout",style:{height:"100vh",maxHeight:"100dvh",overscrollBehavior:"none",WebkitFontSmoothing:"antialiased",overflow:"hidden"},children:u.jsx(m5n,{config:yTe})})}export{Xr as $,r1 as A,me as B,B4n as C,Jt as D,p1 as E,q4n as F,y1 as G,a3n as H,jr as I,v$n as J,v1 as K,lV as L,ePn as M,_n as N,oke as O,Jw as P,aDn as Q,oDn as R,zA as S,pa as T,O5 as U,fe as V,Z as W,Mt as X,bn as Y,ae as Z,bke as _,$ as a,Ci as a0,ne as a1,L as a2,ni as a3,Zde as a4,rm as a5,dt as a6,U as a7,or as a8,xi as a9,m1 as aA,Rn as aB,rl as aC,Vr as aD,xn as aE,DE as aF,Ll as aG,ra as aH,Wx as aI,Cle as aJ,tle as aK,Wde as aL,nm as aM,Fn as aN,Uu as aO,ja as aP,Cp as aQ,Ajn as aR,hse as aS,et as aT,X4n as aU,Z4n as aV,hs as aa,ht as ab,mr as ac,_6 as ad,C6 as ae,Ca as af,eJe as ag,fj as ah,Vw as ai,WDn as aj,QXe as ak,Qn as al,we as am,bi as an,tRt as ao,jl as ap,Al as aq,oet as ar,Qc as as,ke as at,de as au,Djn as av,Zt as aw,rPn as ax,wt as ay,qf as az,$d as b,ch as c,iwe as d,yj as e,gke as f,ake as g,N as h,Nm as i,u as j,xA as k,vke as l,Qw as m,Qu as n,jn as o,nn as p,wo as q,ta as r,Cw as s,xt as t,ec as u,_s as v,md as w,bt as x,aa as y,Ur as z};